"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[92143,92821],{23633:(e,t,n)=>{n.d(t,{$O:()=>s,J5:()=>a,X9:()=>c,cP:()=>l});n(610931);var o=n(242343),i=n(163643);const r=(0,o.createContext)(null);r.displayName="WorkflowEditorContext";const a=(0,o.createContext)(!1);function s(){const e=(0,o.useContext)(r);(0,o.useContext)(a);if(!e)throw new Error("useWorkflowEditorContext must be used inside WorkflowEditorContextProvider");return e}function l(){return(0,o.useContext)(r)??void 0}a.displayName="DisallowWorkflowEditorContext";const c=o.memo((function(e){let{children:t,blockStore:n}=e;const a=(0,o.useMemo)((()=>({blockStore:n})),[n]);return(0,i.jsx)(r.Provider,{value:a,children:t})}))},178063:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>o,plusIcon:()=>i});n(242343);const o={viewBox:"0 0 20 20",svg:(0,n(163643).jsx)("path",{d:"M10 3.59a.66.66 0 0 1 .66.66v5.09h5.09a.66.66 0 0 1 0 1.32h-5.09v5.09a.66.66 0 0 1-1.32 0v-5.09H4.25a.66.66 0 0 1 0-1.32h5.09V4.25a.66.66 0 0 1 .66-.66"})},i=(0,n(680369).wt)("plus",o)},254225:(e,t,n)=>{n.d(t,{z:()=>r});var o=()=>n(129978);const i=new(o().O2)("topbarSidebarButton",(async()=>await n.e(62033).then(n.bind(n,660887)))),r=(0,o()._h)(i,(e=>e.TopbarSidebarButton))},278267:(e,t,n)=>{n.d(t,{DW:()=>a,R1:()=>s,aD:()=>l,lx:()=>r});var o=()=>n(193324),i=()=>n(129808);function r(){return{height:"100%",flexGrow:0,marginRight:8,fontSize:14,minWidth:0}}function a(e){let{environment:t,isShowingTabBar:n,shouldShowSidebar:r,isSidebarExpanded:a,isSecondarySidebarVisible:s,isBrowserFullScreen:l,shouldRenderTemplateGalleryTopbar:c,allowOverflow:d,zoom:u}=e;const{device:p}=t,g=p.isElectronMac&&(!r||!a&&!s)&&!l&&!n,w=p.isElectronWindows&&!n,f=w&&(!r||!a&&!s);let b=i().ek(p.isElectronMac);return c&&(b=i().Hi),{display:"flex",justifyContent:"space-between",alignItems:"center",overflow:d?"visible":"hidden",height:b,paddingLeft:g?(0,o().JT)(u):f?46:p.isMobile?4:12,paddingRight:w?(0,o().WS)(u)+4:p.isMobile?4:10}}function s(e){return{flex:"none",width:1,height:16,marginLeft:8,marginRight:8,background:e.darkDividerColor}}function l(e){return{iconStyle:{height:26,width:26,fill:e.icon.primary},iconContainer:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",marginRight:14,color:e.icon.secondary,width:26},circleIconContainer:{background:e.fill.lightGrayPrimary,color:e.icon.primary,display:"inline-flex",justifyContent:"center",alignItems:"center",marginRight:12,borderRadius:16,width:32,height:32},circleIconContainerSecondary:{background:e.surface.page,color:e.icon.secondary,display:"inline-flex",justifyContent:"center",alignItems:"center",marginRight:12,borderRadius:16,width:32,height:32},circleIconContainerOverCoverPhoto:{background:e.surface.page,color:e.icon.primary,display:"inline-flex",justifyContent:"center",alignItems:"center",marginRight:12,borderRadius:16,width:32,height:32}}}},305168:(e,t,n)=>{n.d(t,{A:()=>r});var o=()=>n(437071);class i extends(()=>n(129044))().default{getInitialState(){return{isFullScreen:window.outerWidth===window.screen.width&&window.outerHeight===window.screen.height}}constructor(){super(),this.updateFromElectronState=async()=>{const e=await o().fullscreen.get();void 0!==e&&this.setState({isFullScreen:e})},o().fullscreen.addListener(this.updateFromElectronState),this.updateFromElectronState()}}const r=new i},429044:(e,t,n)=>{n.d(t,{A:()=>r});const o=[];class i extends(()=>n(129044))().default{getInitialState(){return{open:!1,tabSpacesState:{tabSpaces:{},orderedTabSpaceIds:o,ungroupedTabCount:0,activeTabSectionId:"ungrouped"}}}}const r=new i},501518:(e,t,n)=>{n.r(t),n.d(t,{getCurrentWorkflowNavigationState:()=>k,getDefaultClosedNavigationState:()=>v,getDefaultOpenNavigationState:()=>h,getIsWorkflowEditorOpen:()=>m,getIsWorkflowEditorStateOpen:()=>y,getIsWorkflowNavigationStateCurrent:()=>S,getMergedWorkflowNavigationState:()=>x,routeArgsGivenNavigationState:()=>T,useIsWorkflowEditorOpen:()=>j,useWorkflowNavigationState:()=>C});var o=()=>n(237385),i=()=>n(803290),r=()=>n(975392),a=()=>n(3311),s=()=>n(76394),l=()=>n(44658),c=()=>n(627618),d=()=>n(485966),u=()=>n(308265);const p=c().object({required:{isOpen:c().literal(!0)},optional:{}}),g={configure:c().intersection([p,c().object({required:{type:c().literal("configure")},optional:{prompt:c().string()}})]),function:c().intersection([p,c().object({required:{type:c().literal("function"),key:c().string()},optional:{}})]),module:c().intersection([p,c().object({required:{type:c().literal("module"),key:c().string()},optional:{}})]),database:c().intersection([p,c().object({required:{type:c().literal("database"),id:c().string()},optional:{}})]),trigger:c().intersection([p,c().object({required:{type:c().literal("trigger"),key:c().string()},optional:{}})]),debug:c().intersection([p,c().object({required:{type:c().literal("debug")},optional:{}})]),preview:c().intersection([p,c().object({required:{type:c().literal("preview")},optional:{collectionViewId:c().string()}})]),runtime_actor:c().intersection([p,c().object({required:{type:c().literal("runtime_actor")},optional:{}})]),view_settings:c().intersection([p,c().object({required:{type:c().literal("view_settings"),key:c().string()},optional:{}})]),runs:c().intersection([p,c().object({required:{type:c().literal("runs")},optional:{runId:c().string()}})]),test:c().intersection([p,c().object({required:{type:c().literal("test"),name:c().string(),functionKey:c().string()},optional:{}})])},w=c().union(Object.values(g)),f=c().object({required:{isOpen:c().literal(!1)},optional:{}}),b=c().union([w,f]);function h(){return{isOpen:!0,type:"configure"}}function v(){return{isOpen:!1}}function y(e){return(null==e?void 0:e.isOpen)??!1}function m(e){return y(k(e))}function S(e){const{currentNavigationState:t,navigationState:n}=e,o=x({defaultNavigationState:{isOpen:!1},currentNavigationState:t,newNavigationState:n});return(0,r().n4)(t,o)}function k(e){const{RouterStore:t}=e;if("page"!==t.state.route.name)return;const n=d().default.state.mainEditorCurrentBlockStore;return n&&n.isCollectionView()&&n.canEdit()&&!n.isLocked()?function(e){const{workflowViewType:t,workflowViewKey:n,workflowPrompt:o,collectionViewId:i}=e;switch(t){case"debug":case"runtime_actor":return{isOpen:!0,type:t};case"function":case"module":case"trigger":case"view_settings":if(!n)return;return{isOpen:!0,type:t,key:n};case"database":if(!n)return;return{isOpen:!0,type:t,id:(0,a().ZA)(n)??n};case"preview":return{isOpen:!0,type:"preview",collectionViewId:i};case"configure":return{isOpen:!0,type:"configure",prompt:o?decodeURIComponent(o):void 0};case"runs":return{isOpen:!0,type:"runs",runId:(0,a().ZA)(n)};case"test":if(!n)return;const[e,r]=n.split(",");if(!e||!r)return;return{isOpen:!0,type:"test",name:r,functionKey:e};default:return}}(t.state.route):void 0}function x(e){const{defaultNavigationState:t,currentNavigationState:n,newNavigationState:o}=e;if(!(0,u().sx)())return{isOpen:!1};const i={...t};if(n)for(const[a,s]of Object.entries(n))i[a]=s;if(o)for(const[a,s]of Object.entries(o))i[a]=s;const r=(0,l().tf)(b,i);if(r)throw r;return i}function T(e){if(!e.isOpen)return{workflowViewType:void 0,workflowViewKey:void 0,collectionViewId:void 0};const t=e.type,n={};switch(t){case"configure":case"debug":case"runtime_actor":return{...n,workflowViewType:t,workflowViewKey:void 0};case"function":case"module":case"trigger":case"view_settings":return{...n,workflowViewType:t,workflowViewKey:e.key};case"database":return{...n,workflowViewType:t,workflowViewKey:e.id};case"runs":return{...n,workflowViewType:t,workflowViewKey:e.runId};case"test":return{...n,workflowViewType:t,workflowViewKey:`${e.functionKey},${e.name}`};case"preview":return{...n,workflowViewType:"preview",collectionViewId:e.collectionViewId};default:(0,s().HB)(t)}}function C(){const e=(0,o().v3)();return(0,i().K8)((()=>k(e)??{isOpen:!1}),[e])}function j(){const e=(0,o().v3)();return(0,i().K8)((()=>m(e)),[e])}},566232:(e,t,n)=>{n.d(t,{P:()=>i});n(242343);const o={viewBox:"0 0 20 20",svg:(0,n(163643).jsx)("path",{d:"m17.442 9.558-5.4-5.4a.625.625 0 0 0-.884.884l4.333 4.333H3a.625.625 0 1 0 0 1.25h12.491l-4.333 4.333a.625.625 0 1 0 .884.884l5.4-5.4a.62.62 0 0 0 0-.884"})},i=(0,n(680369).wt)("arrowStraightRight",o)},566581:(e,t,n)=>{n.d(t,{w:()=>i});n(242343);const o={viewBox:"0 0 20 20",svg:(0,n(163643).jsx)("path",{d:"M2.411 9.79a.6.6 0 0 1 .147-.232l5.4-5.4a.625.625 0 1 1 .884.884L4.509 9.375H17a.625.625 0 1 1 0 1.25H4.509l4.333 4.333a.625.625 0 1 1-.884.884l-5.4-5.4a.62.62 0 0 1-.147-.651"})},i=(0,n(680369).wt)("arrowStraightLeft",o)},626075:(e,t,n)=>{n.d(t,{_:()=>W});var o=n(242343),i=()=>n(237385),r=()=>n(803290),a=()=>n(174114),s=()=>n(566581),l=()=>n(566232),c=()=>n(178063),d=()=>n(680369),u=()=>n(653998),p=()=>n(945792),g=()=>n(437071),w=()=>n(865226),f=()=>n(579275),b=()=>n(392608),h=()=>n(907721),v=()=>n(466321),y=()=>n(216273),m=()=>n(714013),S=()=>n(141122),k=()=>n(974567),x=()=>n(356813),T=()=>n(103151),C=()=>n(429044),j=n(163643);const M=(0,u().YK)({tabSpacesButton:{id:"desktopTopbarBrowserHistoryButton.tabSpacesButton.label",defaultMessage:"Tab Spaces"}});function B(){var e;const t=(0,u().tz)(),{tabSpacesState:n}=(0,r().O$)(C().A),{activeTabSectionId:o,tabSpaces:i}=n,a=null===(e=i[o])||void 0===e?void 0:e.icon,s=()=>{g().tabSpacesState.toggleTabSpacesMenuOpen()};return(0,j.jsx)(T().A,{renderTooltip:()=>(0,j.jsx)("div",{style:{display:"flex"},children:t.formatMessage(M.tabSpacesButton)}),placement:h().W.Bottom,alignment:h().C.Center,originGap:6,render:e=>(0,j.jsx)(x().A,{ariaLabel:t.formatMessage(M.tabSpacesButton),icon:e=>a?(0,j.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"16px",height:"16px"},children:a}):(0,k().G)({...e,width:d().Ev.lg,height:d().Ev.lg}),isDarkIconColor:!0,style:{position:"relative",width:24,height:24},onClick:s,...e})})}var I=()=>n(151835),A=()=>n(443252);const E=(0,u().YK)({newTabButton:{id:"desktopTopbarBrowserHistoryButton.newTabButton.label",defaultMessage:"New tab"},goBackButton:{id:"desktopTopbarBrowserHistoryButtons.goBackButton.label",defaultMessage:"Go back"},goForwardButton:{id:"desktopTopbarBrowserHistoryButton.goForwardButton.label",defaultMessage:"Go forward"}});function O(){const e=(0,u().tz)(),t=(0,r().K8)((()=>y().A.state.isTabPositionSupported),[]);return(0,j.jsx)(T().A,{renderTooltip:()=>(0,j.jsxs)("div",{style:{display:"flex"},children:[e.formatMessage(E.newTabButton),(0,j.jsx)(I().A,{name:"newTab",style:{opacity:.5,marginLeft:4}})]}),placement:h().W.Bottom,alignment:h().C.Center,originGap:6,render:n=>(0,j.jsx)(x().A,{ariaLabel:e.formatMessage(E.newTabButton),icon:e=>(0,c().plusIcon)({...e,width:d().Ev.lg,height:d().Ev.lg}),isDarkIconColor:!0,className:"notion-new-tab-button",style:{position:"relative"},onClick:()=>g().newTab(t),...n})})}function N(e){let{isNavigationHistorySupported:t}=e;const n=(0,u().tz)(),r=(0,i().v3)(),a=(0,o.useCallback)((e=>(0,s().w)({...e,width:d().Ev.lg,height:d().Ev.lg})),[]),l=!(0,b().MX)("back");return(0,j.jsx)(T().A,{renderTooltip:()=>(0,j.jsxs)("div",{style:{display:"flex"},children:[n.formatMessage(E.goBackButton),(0,j.jsx)(I().A,{name:"goBack",style:{opacity:.5,marginLeft:4}})]}),placement:h().W.Bottom,alignment:h().C.Center,originGap:6,render:e=>(0,j.jsx)(x().A,{ariaLabel:n.formatMessage(E.goBackButton),icon:a,isDarkIconColor:!0,className:"notion-history-back-button",disabled:l,style:{position:"relative",width:24,height:24},onClick:e=>function(e,t,n){var o;p().Lt(t,{type:"back"});const i=e.metaKey||e.ctrlKey,r=null===(o=y().A.state.preferences)||void 0===o?void 0:o.isPinnedTabNewTabEnabled,a=m().A.state.currentTab.isPinned;n&&i?g().handleBackMetaClick():r&&a?g().handleBackPinnedClick():w().aX(t)}(e,r,t),onContextMenu:e=>{!l&&t&&g().handleTabHistoryMenu("back",e.clientX,e.clientY)},...e})})}function P(e){let{isNavigationHistorySupported:t}=e;const n=(0,u().tz)(),r=(0,i().v3)(),a=(0,o.useCallback)((e=>(0,l().P)({...e,width:d().Ev.lg,height:d().Ev.lg})),[]),s=!(0,b().MX)("forward");return(0,j.jsx)(T().A,{renderTooltip:()=>(0,j.jsxs)("div",{style:{display:"flex"},children:[n.formatMessage(E.goForwardButton),(0,j.jsx)(I().A,{name:"goForward",style:{opacity:.5,marginLeft:4}})]}),placement:h().W.Bottom,alignment:h().C.Center,originGap:6,render:e=>(0,j.jsx)(x().A,{ariaLabel:n.formatMessage(E.goForwardButton),icon:a,isDarkIconColor:!0,className:"notion-history-forward-button",disabled:s,style:{position:"relative",width:24,height:24},onClick:e=>function(e,t,n){var o;p().Lt(t,{type:"forward"});const i=e.metaKey||e.ctrlKey,r=null===(o=y().A.state.preferences)||void 0===o?void 0:o.isPinnedTabNewTabEnabled,a=m().A.state.currentTab.isPinned;n&&i?g().handleForwardMetaClick():r&&a?g().handleForwardPinnedClick():w().sY()}(e,r,t),onContextMenu:e=>{!s&&t&&g().handleTabHistoryMenu("forward",e.clientX,e.clientY)},...e})})}function K(e){const{topbarFeatureController:t}=e,n=(0,r().K8)((()=>{var e;return(null===(e=y().A.state.preferences)||void 0===e?void 0:e.isNavigationHistoryEnabled)&&y().A.state.isNavigationHistorySupported}),[]),o=(0,r().K8)((()=>{var e;return null===(e=y().A.state.preferences)||void 0===e?void 0:e.isTabSpacesEnabled}),[]),i=(0,a().IS)((e=>({container:{position:"relative",display:"flex",flexShrink:0,gap:4}})),[]);return(0,j.jsx)(f().A,{capture:!0,render:e=>(0,j.jsxs)("div",{style:i.container,...e,children:[o&&(0,j.jsx)(B,{}),(0,j.jsx)(N,{isNavigationHistorySupported:n}),(0,j.jsx)(P,{isNavigationHistorySupported:n}),t.showNewTabButton?(0,j.jsx)(O,{}):null]})})}function W(e){const{topbarFeatureController:t}=e,{isElectron:n}=(0,i().Y0)(),o=(0,r().O$)(y().b),a=(0,r().K8)((()=>S().default.isCenterPeekOpen()),[]);return!n||o?null:(0,j.jsx)(A().Ay,{trapFocus:!1,style:{background:"transparent",borderRadius:0,boxShadow:"none"},origin:(0,j.jsx)(K,{topbarFeatureController:t}),render:()=>(0,j.jsx)(K,{topbarFeatureController:t}),placementToOrigin:h().W.Center,alignmentToOrigin:h().C.Center,open:a,disableMouseCapture:!0,preventCaptureEsc:!0,preventScaleTransition:!0,preventOpacityTransition:!0,popupType:v().n.Popup})}},657304:(e,t,n)=>{n.d(t,{Hh:()=>C,Kh:()=>S,L1:()=>y,Nq:()=>m,U:()=>k,gQ:()=>j,nh:()=>T,u7:()=>x});var o=n(242343),i=()=>n(237385),r=()=>n(803290),a=()=>n(174114),s=()=>n(193324),l=()=>n(680369),c=()=>n(129808),d=()=>n(782422),u=()=>n(520969),p=()=>n(636023),g=()=>n(271748),w=()=>n(48913),f=()=>n(305168),b=()=>n(216273),h=()=>n(990394);const v=10,y=700;function m(){const{isMobile:e,isElectronWindows:t}=(0,i().Y0)(),n=(0,r().O$)(b().b),a=(0,r().K8)((()=>b().A.state.zoomFactor||s().rx),[]),l=t&&!n;return(0,o.useMemo)((()=>l?(0,s().WS)(a)+4:e?4:v),[e,l,a])}function S(e){let{shouldRenderTemplateGalleryTopbar:t}=e;const n=(0,i().v3)(),{isShowingTabBar:a,zoomFactor:l}=(0,r().O$)(b().A),u=(0,r().K8)((()=>d().X4(n).shouldShowSidebar),[n]),p=(0,r().K8)((()=>(0,w().KB)(n)),[n]),h=(0,r().K8)((()=>g().default.isPanelPinnedState()),[]),v=(0,r().K8)((()=>f().A.state.isFullScreen),[]),{device:y}=n,m=l||s().rx,S=y.isElectronMac&&(!u||!p&&!h)&&!v&&!a,k=y.isElectronWindows&&!a,x=k&&(!u||!p&&!h);let T=c().ek(y.isElectronMac);t&&(T=c().Hi);return(0,o.useMemo)((()=>({display:"flex",justifyContent:"space-between",alignItems:"center",overflow:"hidden",height:T,paddingLeft:S?(0,s().JT)(m):x?46:y.isMobile?4:12,paddingRight:k?(0,s().WS)(m)+4:y.isMobile?4:10})),[T,S,m,x,y.isMobile,k])}function k(e){let{store:t,shouldRenderTemplateGalleryTopbar:n,isBrowserFullScreen:o}=e;const l=(0,i().v3)(),g=(0,i().Y0)(),f=(0,i().WS)(),v=(0,r().K8)((()=>(0,u().lU)(t)&&0===h().A.state.banners.length),[t]);let m=c().ek(g.isElectronMac);n&&(m=2*c().Hi);const S=(0,r().K8)((()=>p().Z8()),[]),k=(0,r().O$)(d().$o),{zoomFactor:x}=(0,r().O$)(b().A),T=(0,w().Sj)(l),C=c().pz(g.isElectronMac,o,x||s().rx);return(0,a().IS)((e=>({header:{background:v&&!f?"transparent":e.contentBackground,maxWidth:"100vw",zIndex:100,WebkitUserSelect:"none",userSelect:"none"},container:{width:`calc(100% - ${S}px)`,maxWidth:"100vw",height:m,opacity:k?0:1,transition:`\n\t\t\t\t\t\topacity ${y}ms,\n\t\t\t\t\t\tcolor ${y}ms\n\t\t\t\t\t`,position:"relative",left:S},electronTopbarSidebarMousePeekArea:{position:"absolute",top:0,width:`${C}px`,height:`${T}px`}})),[v,f,S,k,m,C,T])}const x=34,T=28;function C(e){return{iconButton:{width:x,height:T,marginRight:2},icon:{height:l().Ev.lg,width:l().Ev.lg,fill:e.icon.primary},tabletIcon:{height:l().lD.lg,width:l().lD.lg,fill:e.icon.primary}}}function j(){return(0,a().IS)(C,[])}},944669:(e,t,n)=>{n.r(t),n.d(t,{WorkflowEditorTopbar:()=>x});n(242343);var o=()=>n(237385),i=()=>n(803290),r=()=>n(343772),a=()=>n(935760),s=()=>n(615917),l=()=>n(421338),c=()=>n(701270),d=()=>n(365060),u=()=>n(626075),p=()=>n(980149),g=()=>n(958530),w=()=>n(907933),f=()=>n(278267),b=()=>n(657304),h=()=>n(254225),v=()=>n(48913),y=()=>n(485966),m=()=>n(501518),S=()=>n(23633),k=n(163643);function x(e){const{store:t,shouldRenderTemplateGalleryTopbar:n,showSidebarButton:r,handleClickTopbar:l,handleMouseDown:c}=e,w=(0,o().v3)(),f=(0,i().K8)((()=>(0,v().Uh)(w)),[w]),y=(0,b().Kh)({shouldRenderTemplateGalleryTopbar:n}),m=(0,i().K8)((()=>a().M.state.isFullWidthMode),[]),x=(0,p().m)({location:"WorkflowEditor"});return t?(0,k.jsx)(d().A,{store:t,disableRectangularSelection:!0,disableEditNearestBlock:!0,render:()=>(0,k.jsxs)(s().A,{animate:{opacity:m?0:1},role:"menubar",tabIndex:0,style:{...y,width:f},onClick:l,onMouseDown:c,onDoubleClick:g().mz,children:[r&&(0,k.jsx)(h().z,{}),(0,k.jsx)(u()._,{topbarFeatureController:x}),(0,k.jsx)(S().X9,{blockStore:t,children:(0,k.jsx)(T,{})})]})}):null}function T(){const{blockStore:e}=(0,S().$O)(),t=(0,m().useWorkflowNavigationState)(),{pageVisitStore:n,presenceStore:o}=(0,i().O$)(y().default);return t?(0,k.jsxs)(l().Y1,{direction:"horizontal",gap:"auto",align:"center",children:[(0,k.jsx)(l().Y1,{direction:"horizontal",align:"center-left",children:(0,k.jsx)(c().D,{styleName:"UIRegular-14px/Regular",children:(0,k.jsx)(r().oK,{store:e,style:(0,f().lx)(),maxAncestorCount:2,ancestorMaxWidth:160,currentPageMaxWidth:240,showCurrentPageControls:!0,isMobile:!1})})}),(0,k.jsx)(l().Y1,{direction:"horizontal",align:"center-right",gap:6,children:(0,k.jsx)(w().Ay,{rootStore:e,pageVisitStore:n,presenceStore:o})})]}):null}},958530:(e,t,n)=>{n.d(t,{Cy:()=>S,JK:()=>m,K6:()=>y,PD:()=>j,c8:()=>C,i_:()=>v,lE:()=>T,lY:()=>k,mz:()=>x});var o=()=>n(152058),i=()=>n(758611),r=()=>n(409211),a=()=>n(271120),s=()=>n(437071),l=()=>n(794824),c=()=>n(927685),d=()=>n(502852),u=()=>n(352723),p=()=>n(360482),g=()=>n(485966),w=()=>n(216273),f=()=>n(836331),b=()=>n(413871),h=()=>n(413124);function v(e){const{store:t,environment:n}=e,o=g().default.state.currentSpaceStore,i=!t||(0,p()._C)(t),{id:a}=n.currentUser,s=a&&o?b().LU.createChildStore(o,{table:r().oo,id:a}):void 0,l=!s||s.isReady();return i&&l}function y(e,t){return!c().A.isAdminMode&&(0,u().qb)(t,e)}function m(){return f().default.checkGate({gateName:"sites_deprecate_edit_and_comment_top_bar"})}i().JZ.signup,i().JZ.product;async function S(e){const{environment:t,route:n,openInNewTab:o}=e;a().LT(t,{variant:"made_with_notion"}),await l().VE(t,{utmContent:"topbar_cta",nextRoute:n,openInNewTab:o})}async function k(e){const{environment:t,route:n,formId:o,spaceId:i,openInNewTab:r}=e;a().LT(t,{variant:"made_with_notion"}),await l()._q(t,{utmContent:"topbar_cta",nextRoute:n,formId:o,spaceId:i,openInNewTab:r})}function x(e){var t;e.target!==e.currentTarget||null!==(t=w().A.state.preferences)&&void 0!==t&&t.isAlwaysOnTabBarEnabled||w().A.state.isShowingTabBar||(0,d().SQ)({event:e,context:d().y$.EditorDoubleClick,callback:s().toggleMaximized})}function T(e){const t=e.target;t instanceof HTMLElement&&(0,o().p)(t)&&h().A.setState(!0)}function C(){h().A.setState(!1)}function j(e){let{device:t,shouldShowAddTo:n,isMobileTopbarRedesignEnabled:o}=e;return!n&&(!(!t.isMobileNative||t.isMobileBrowser||t.isTablet)&&o)}},974567:(e,t,n)=>{n.d(t,{G:()=>i});n(242343);const o={viewBox:"0 0 20 20",svg:(0,n(163643).jsx)("path",{d:"M7.3 1.995a.55.55 0 1 0 0 1.1h5.4a.55.55 0 0 0 0-1.1zm-2.35 2.8a.55.55 0 0 1 .55-.55h9a.55.55 0 0 1 0 1.1h-9a.55.55 0 0 1-.55-.55m-1.987 3.75c0-1.174.951-2.125 2.125-2.125h9.825c1.174 0 2.125.951 2.125 2.125v6.45a2.125 2.125 0 0 1-2.125 2.125H5.088a2.125 2.125 0 0 1-2.125-2.125zm2.125-.875a.875.875 0 0 0-.875.875v6.45c0 .483.392.875.875.875h9.825a.875.875 0 0 0 .875-.875v-6.45a.875.875 0 0 0-.875-.875z"})},i=(0,n(680369).wt)("stack",o)},980149:(e,t,n)=>{n.d(t,{m:()=>r});var o=()=>n(803290);class i{constructor(e){this.topbarRenderLocation=void 0;const{topbarRenderLocation:t}=e;this.topbarRenderLocation=t}get showNewTabButton(){return{AIChat:!0,DefaultTopbar:!0,Marketplace:!0,PersonProfile:!0,PersonalHome:!0,PersonalHomeScrolled:!0,PublicPage:!0,PublicSharing:!0,TeamHome:!0,TrustedDomainPage:!0,WorkflowEditor:!0,AssistantMenuHeader:!1}[this.topbarRenderLocation]}get topbarActionsDisplayStyle(){return{PersonalHome:"transparent",PersonalHomeScrolled:"bordered",AIChat:"solid",AssistantMenuHeader:"solid",DefaultTopbar:"solid",Marketplace:"solid",PersonProfile:"solid",PublicPage:"solid",PublicSharing:"solid",TeamHome:"solid",TrustedDomainPage:"solid",WorkflowEditor:"solid"}[this.topbarRenderLocation]}}function r(e){const{location:t}=e;return(0,o().K8)((()=>new i({topbarRenderLocation:t})),[t])}}}]);