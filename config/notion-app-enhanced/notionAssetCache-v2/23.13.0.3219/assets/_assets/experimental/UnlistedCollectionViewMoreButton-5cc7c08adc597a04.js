"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[44745],{164045:(e,i,t)=>{t.d(i,{j:()=>n,y:()=>l});var o=()=>t(31448);function n(e){const{theme:i,isInHomeWidget:t,isFeedbackButton:n}=e;return{display:"flex",alignItems:"center",fontSize:14,padding:6,...n?{height:t?24:28,color:i.text.tertiary,fill:i.lightIconColor}:t?{height:24,width:24,color:i.text.tertiary,fill:i.lightIconColor}:{height:28,width:28,color:i.mediumIconColor,fill:i.mediumIconColor},fontWeight:o().Wy.regular,lineHeight:1,borderRadius:6}}function l(e){const{theme:i}=e;return{display:"flex",alignItems:"center",fontSize:14,height:28,padding:6,color:i.mediumIconColor,fontWeight:o().Wy.regular,lineHeight:1,borderRadius:6}}},178063:(e,i,t)=>{t.r(i),t.d(i,{iconDefinition:()=>o,plusIcon:()=>n});t(242343);const o={viewBox:"0 0 20 20",svg:(0,t(163643).jsx)("path",{d:"M10 3.59a.66.66 0 0 1 .66.66v5.09h5.09a.66.66 0 0 1 0 1.32h-5.09v5.09a.66.66 0 0 1-1.32 0v-5.09H4.25a.66.66 0 0 1 0-1.32h5.09V4.25a.66.66 0 0 1 .66-.66"})},n=(0,t(680369).wt)("plus",o)},179701:(e,i,t)=>{t.d(i,{j:()=>a});var o=()=>t(237385),n=()=>t(803290),l=()=>t(443252);function a(e){const i=(0,o().Y0)();return(0,n().K8)((()=>i.isPhone||"slideUp"===(null==e?void 0:e.tabletBehavior)&&i.isTablet?l().nl.SlideUp:l().nl.Popup),[i,null==e?void 0:e.tabletBehavior])}},441911:(e,i,t)=>{t.d(i,{e:()=>d,v:()=>a});var o=()=>t(237385),n=()=>t(803290),l=()=>t(640979);function a(e){return e.device.isPhone||"actionSheet"===e.tabletBehavior&&e.device.isTablet?{menuType:l().gu.ActionSheet}:{menuType:l().gu.Popup,maxHeight:e.maxHeight,maxWidth:e.maxWidth,paddingTop:e.paddingTop,paddingBottom:e.paddingBottom,width:e.width,minWidth:e.minWidth}}function d(e){const i=(0,o().Y0)();return(0,n().K8)((()=>a({device:i,maxHeight:null==e?void 0:e.maxHeight,maxWidth:null==e?void 0:e.maxWidth,paddingTop:null==e?void 0:e.paddingTop,paddingBottom:null==e?void 0:e.paddingBottom,width:null==e?void 0:e.width,minWidth:null==e?void 0:e.minWidth,tabletBehavior:null==e?void 0:e.tabletBehavior})),[i,null==e?void 0:e.maxHeight,null==e?void 0:e.maxWidth,null==e?void 0:e.paddingTop,null==e?void 0:e.paddingBottom,null==e?void 0:e.width,null==e?void 0:e.minWidth,null==e?void 0:e.tabletBehavior])}},533666:(e,i,t)=>{t.d(i,{Y:()=>n});t(242343);const o={viewBox:"0 0 16 16",svg:(0,t(163643).jsx)("path",{d:"M3.2 6.725a1.275 1.275 0 1 0 0 2.55 1.275 1.275 0 0 0 0-2.55m4.8 0a1.275 1.275 0 1 0 0 2.55 1.275 1.275 0 0 0 0-2.55m4.8 0a1.275 1.275 0 1 0 0 2.55 1.275 1.275 0 0 0 0-2.55"})},n=(0,t(680369).wt)("ellipsisSmall",o)},615505:(e,i,t)=>{t.r(i),t.d(i,{default:()=>T});var o=t(242343),n=()=>t(237385),l=()=>t(803290),a=()=>t(174114),d=()=>t(712437),r=()=>t(740520),s=()=>t(533666),c=()=>t(178063),u=()=>t(680369),h=()=>t(653998),g=()=>t(975392),v=()=>t(76394),m=()=>t(75187),p=()=>t(441911),x=()=>t(179701),S=()=>t(163182),w=()=>t(755769),f=()=>t(535906),b=()=>t(356813),y=()=>t(935091),C=()=>t(858023),B=()=>t(443252),I=()=>t(28210),j=()=>t(709237),W=()=>t(88271),H=()=>t(164045),k=t(163643);const A=(0,h().YK)({moreButtonAriaLabel:{id:"unlistedCollectionView.moreButton.icon",defaultMessage:"More"}});function T(e){const{collectionContextStore:i,shouldHideSaveViewOption:t}=e,n=(0,h().tz)(),d=o.useRef(null),[r,c]=o.useState(!1),g=(0,l().O$)(i.isInHomeWidgetStore),v=o.useCallback((()=>{c(!r)}),[r]),m=(0,x().j)(),p=(0,a().IS)((e=>({icon:{height:u().Ev.sm,width:u().Ev.sm,fill:e.mediumIconColor},button:(0,H().j)({theme:e,isInHomeWidget:g})})),[g]);return(0,k.jsx)(B().Ay,{popupType:m,alignmentToOrigin:w().MY.Center,placementToOrigin:w().UV.Bottom,open:r,onDismiss:v,origin:(0,k.jsx)(b().A,{ref:d,icon:s().Y,ariaLabel:n.formatMessage(A.moreButtonAriaLabel),onClick:v,iconStyle:p.icon,style:p.button}),render:()=>{var e;return(0,k.jsx)(V,{collectionContextStore:i,originRect:null===(e=d.current)||void 0===e?void 0:e.getBoundingClientRect(),shouldHideSaveViewOption:t})}})}function V(e){const{collectionContextStore:i,originRect:t,shouldHideSaveViewOption:l}=e,a=(0,n().v3)(),d=(0,h().tz)(),[r,s]=o.useState("origin"),c=o.useCallback((()=>{s("copy");const e=S().S.state.isOpen&&"chart_drilldown"===S().S.state.type;m().G({collectionContextStore:i,environment:a,originRect:t,isChartDrilldown:e,intl:d})}),[a,t,i,d]);return"origin"===r?(0,k.jsx)(O,{collectionContextStore:i,onAddViewToClick:c,shouldHideSaveViewOption:l}):"copy"===r?null:(0,v().HB)(r)}function O(e){const{collectionContextStore:i,onAddViewToClick:t,shouldHideSaveViewOption:o}=e,{isMobile:s}=(0,n().Y0)(),v=(0,n().v3)(),x=(0,l().K8)((()=>i.collectionStore()),[i]),w=(0,l().K8)((()=>null==x?void 0:x.getIcon()),[x]),b=(0,l().K8)((()=>{var e;return null==x||null===(e=x.getParentBlockStore())||void 0===e?void 0:e.getNavigableBlockStore()}),[x]),B=(0,l().K8)((()=>S().S.state.isOpen&&"chart_drilldown"===S().S.state.type),[]),H=(0,a().IS)((e=>({icon:{color:e.regularIconColor,width:u().Ev.default,height:u().Ev.default},title:{display:"flex",alignItems:"center"},collectionIcon:{marginLeft:4,marginRight:2}})),[]),A=(0,p().e)({maxWidth:250}),T=[o?void 0:{key:"save",render:e=>(0,k.jsx)(f().A,{...e,icon:(0,c().plusIcon)(H.icon),title:(0,k.jsx)(h().sA,{id:"unlistedCollectionView.moreButton.save",defaultMessage:"Save as view inâ€¦"})}),action:()=>{t()}},b?{key:"open",render:e=>(0,k.jsx)(f().A,{...e,icon:(0,r().arrowDiagonalUpRightIcon)(H.icon),title:(0,k.jsx)("div",{style:H.title,children:(0,k.jsx)(h().sA,{id:"unlistedCollectionView.moreButton.open",defaultMessage:"Open {databaseName}",values:{databaseName:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(I().B,{isEmptyPage:!1,size:s?18:16,disabled:!0,icon:w,style:H.collectionIcon}),x&&(0,k.jsx)(j().A,{store:x})]})}})})}),action:()=>{m().B({environment:v,blockStore:b,pageVisitSource:B?d().y8.ChartsDrilldown:d().y8.AIEphemeralView})}}:void 0],V={key:"options",render:e=>(0,k.jsx)(W().A,{...e}),items:g().oE(T)};return(0,k.jsx)(y().A,{...A,children:(0,k.jsx)(C().Ay,{type:C().Oh.Vertical,initialFocus:0,sections:[V]})})}}}]);