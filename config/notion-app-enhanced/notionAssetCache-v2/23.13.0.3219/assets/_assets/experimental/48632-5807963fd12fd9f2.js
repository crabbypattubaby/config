"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[48632],{39922:(e,t,o)=>{o.d(t,{A:()=>n});o(242343);var l=()=>o(31448),r=o(163643);function n(e){const{children:t,textColor:o,backgroundColor:n,rightMargin:i,strikethrough:a}=e;return(0,r.jsx)("div",{style:{backgroundColor:n,color:o,display:"inline-flex",alignItems:"center",fontSize:12,height:18,paddingLeft:8,paddingRight:8,borderRadius:4,marginRight:i?4:0,textDecoration:a?"line-through":void 0},children:(0,r.jsx)("span",{style:{...l().RC},children:t})})}},154131:(e,t,o)=>{o.d(t,{Ab:()=>U,Ay:()=>O,De:()=>K,Nn:()=>F,R1:()=>E,RD:()=>q,lM:()=>W,ux:()=>H,vY:()=>z});o(403517);var l=o(242343),r=()=>o(16791),n=()=>o(237385),i=()=>o(803290),a=()=>o(174114),d=()=>o(555919),s=()=>o(762847),c=()=>o(716605),u=()=>o(579983),x=()=>o(916963),p=()=>o(810111),b=()=>o(427091),m=()=>o(346239),h=()=>o(250122),f=()=>o(694225),v=()=>o(769884),g=()=>o(145017),y=()=>o(21164),S=()=>o(66460),j=()=>o(882746),k=()=>o(34662),V=()=>o(653998),w=()=>o(76394),A=()=>o(31448),B=()=>o(477784),P=()=>o(873617),I=()=>o(773082),M=()=>o(308265),R=()=>o(283992),C=()=>o(28210),D=()=>o(956685),_=()=>o(374997),L=o(163643);const T=(0,V().YK)({[s().xd.quote]:{defaultMessage:"Quote",id:"edit.quoteBlock.label"},[s().xd.callout]:{defaultMessage:"Callout",id:"edit.calloutBlock.label"},[s().xd.button]:{defaultMessage:"Button",id:"edit.buttonBlock.label"},[s().xd.factory]:{defaultMessage:"Template Button",id:"edit.templateButtonBlock.label"},[s().xd.bookmark]:{defaultMessage:"Bookmark",id:"edit.bookmarkBlockProperty.label"},[s().xd.equation]:{defaultMessage:"Equation",id:"edit.equationBlock.label"}});function H(e){return T[e]&&B().A.formatMessage(T[e])}function K(e,t){return v().Bj6.fromBlock(e).getProperties()[t]||[]}function z(e){let{value:t,propertySchema:o,labeled:l,rootStore:r,disableStyleAnnotations:n,disableInsertedDeletedAnnotations:i,disableDateStyleAnnotations:a}=e;return(0,L.jsx)(q,{labeled:l,type:o.type,icon:o.icon,name:o.name,children:(0,L.jsx)(_().A,{propertySchema:o,value:t,rootStore:r,disableStyleAnnotations:n,disableInsertedDeletedAnnotations:i,disableDateStyleAnnotations:a})})}function F(e){let{blockValue:t,prop:o,labeled:r,schema:n,rootStore:i}=e;const a=(0,V().tz)(),d=n||(0,j().RX)(a),s=(0,l.useMemo)((()=>({value:K(t,o),spaceId:(0,S().e)(t.space_id)})),[t,o]),c=d[o];return c?(0,L.jsx)(z,{value:s,propertySchema:c,labeled:r,rootStore:i}):null}function W(e){let{children:t}=e;const o=(0,L.jsx)("div",{style:{width:"1em",height:"1em",display:"flex",alignSelf:"stretch",justifyContent:"center",flexShrink:0,marginLeft:6,marginRight:6,marginTop:6},children:(0,m().l)({width:"0.8em",height:"0.8em",transform:"rotateZ(90deg)"})});return(0,L.jsxs)("div",{style:{display:"inline-flex",alignItems:"center"},children:[o,(0,L.jsx)("span",{children:t})]})}function E(e){let{src:t,permissionRecord:o}=e;const l=(0,a().DP)();return t?(0,L.jsx)(R().A,{url:t,isAuthenticated:!0,permissionRecord:o,width:170,render:(e,t)=>{if(t)return(0,L.jsx)("img",{src:t,style:{maxHeight:170,maxWidth:170}})}}):(0,L.jsx)("div",{style:{backgroundColor:l.text.tertiary,height:170,width:170}})}function G(e){let{icon:t,rootStore:o,blockValue:l}=e;if(t){if((0,f().A)(t))return(0,L.jsx)("div",{style:{fontSize:16.2,display:"inline-block"},children:t});{const e=v().Bj6.fromBlock(l).getRenderIcon({getRecordModel:o.getRecordModel});return(0,L.jsx)(C().B,{disabled:!0,icon:e,isEmptyPage:!1,size:18,style:{marginTop:6,marginBottom:6}})}}return(0,h().n)({height:18,width:18})}function q(e){let{children:t,type:o,icon:l,name:r,labeled:n,style:i}=e;const d=(0,a().DP)();return n?(0,L.jsxs)("div",{style:i,children:[(0,L.jsxs)("div",{style:{display:"flex",color:d.text.tertiary,paddingTop:7,fontSize:12,lineHeight:1,marginBottom:4},children:[(0,L.jsx)(x().zB,{type:o,icon:l,size:14,theme:d}),(0,L.jsx)("div",{style:{marginLeft:6},children:r})]}),(0,L.jsx)("div",{style:{display:"flex",alignItems:"center",minHeight:24,overflow:"hidden"},children:t})]}):(0,L.jsx)("div",{style:i,children:t})}function U(e){const t=e&&e.properties&&e.properties.language;if(!t)return(0,L.jsx)(V().sA,{defaultMessage:"Code",id:"edit.codeBlockChanged.label"});const o=c().L3(t,j().h5);return(0,L.jsx)(V().sA,{defaultMessage:"Code - {codeLanguage}",values:{codeLanguage:o},id:"edit.codeBlockWithLanguageChanged.label"})}const O=function(e){let{rootStore:t,blockValue:r,blockPreviewLocation:n,created:a,deleted:d}=e;const c=(0,l.useMemo)((()=>v().b4_.fromGetRecordValueFn(t.getRecordValue)),[t]),u=(0,i().K8)((()=>{let e;return r.type===s().xd.button&&(e=v().Bj6.fromBlock(r).getAutomationPointer()),r.type===s().xd.collectionViewPage&&(e=v().Bj6.fromBlock(r).getCollectionPointer()),e?c(e):void 0}),[r,c]);switch(r.type){case s().xd.text:case s().xd.encryptedText:return(0,L.jsx)(Y,{rootStore:t,blockValue:r});case s().xd.header:return(0,L.jsx)(J,{rootStore:t,blockValue:r});case s().xd.subHeader:return(0,L.jsx)(ee,{rootStore:t,blockValue:r});case s().xd.subSubHeader:return(0,L.jsx)(te,{rootStore:t,blockValue:r});case s().xd.toggle:return(0,L.jsx)(oe,{rootStore:t,blockValue:r});case s().xd.bulletedList:return(0,L.jsx)(le,{rootStore:t,blockValue:r});case s().xd.numberedList:return(0,L.jsx)(re,{rootStore:t,blockValue:r});case s().xd.quote:return(0,L.jsx)(se,{blockPreviewLocation:n,created:a,deleted:d,rootStore:t,blockValue:r});case s().xd.factory:return(0,L.jsx)(ce,{blockPreviewLocation:n,created:a,rootStore:t,blockValue:r});case s().xd.button:if((null==u?void 0:u.table)===v().R$j.table)return(0,L.jsx)(ue,{blockPreviewLocation:n,created:a,deleted:d,automation:u});break;case s().xd.equation:return(0,L.jsx)(xe,{blockPreviewLocation:n,created:a,deleted:d,rootStore:t,blockValue:r});case s().xd.toDo:return(0,L.jsx)(ne,{rootStore:t,blockValue:r});case s().xd.code:return(0,L.jsx)(pe,{blockPreviewLocation:n,created:a,deleted:d,rootStore:t,blockValue:r});case s().xd.bookmark:return(0,L.jsx)(me,{blockPreviewLocation:n,created:a,rootStore:t,blockValue:r});case s().xd.page:case s().xd.form:return(0,L.jsx)(ge,{rootStore:t,blockValue:r,blockModel:v().Bj6.fromBlock(r)});case s().xd.collectionView:case s().xd.collectionViewPage:if((null==u?void 0:u.table)===v().WBy.table)return(0,L.jsx)(ye,{rootStore:t,blockValue:r,collectionModel:u});break;case s().xd.image:return(0,L.jsx)(ie,{rootStore:t,blockPreviewLocation:n,blockValue:r});case s().xd.embed:return(0,L.jsx)(be,{blockPreviewLocation:n,created:a,deleted:d,rootStore:t,blockValue:r,type:"embed"});case s().xd.framer:return(0,L.jsx)(be,{blockPreviewLocation:n,created:a,deleted:d,rootStore:t,blockValue:r,type:"framer"});case s().xd.tweet:return(0,L.jsx)(be,{blockPreviewLocation:n,created:a,deleted:d,rootStore:t,blockValue:r,type:"tweet"});case s().xd.gist:return(0,L.jsx)(be,{blockPreviewLocation:n,created:a,deleted:d,rootStore:t,blockValue:r,type:"gist"});case s().xd.drive:return(0,L.jsx)(ve,{deleted:d,blockPreviewLocation:n,created:a,rootStore:t,blockValue:r});case s().xd.maps:return(0,L.jsx)(be,{blockPreviewLocation:n,created:a,deleted:d,rootStore:t,blockValue:r,type:"maps"});case s().xd.invision:return(0,L.jsx)(be,{blockPreviewLocation:n,created:a,deleted:d,rootStore:t,blockValue:r,type:"invision"});case s().xd.video:return(0,L.jsx)(be,{blockPreviewLocation:n,created:a,deleted:d,rootStore:t,blockValue:r,type:"video"});case s().xd.audio:return(0,L.jsx)(be,{blockPreviewLocation:n,created:a,deleted:d,rootStore:t,blockValue:r,type:"audio"});case s().xd.file:return(0,L.jsx)(be,{blockPreviewLocation:n,created:a,deleted:d,rootStore:t,blockValue:r,type:"file"});case s().xd.callout:return(0,L.jsx)(de,{created:a,blockPreviewLocation:n,deleted:d,rootStore:t,blockValue:r,getRecordModel:c});case s().xd.whimsical:return(0,L.jsx)(be,{blockPreviewLocation:n,created:a,deleted:d,rootStore:t,blockValue:r,type:"whimsical"});case s().xd.miro:return(0,L.jsx)(be,{blockPreviewLocation:n,created:a,deleted:d,rootStore:t,blockValue:r,type:"miro"});case s().xd.abstract:return(0,L.jsx)(be,{blockPreviewLocation:n,created:a,deleted:d,rootStore:t,blockValue:r,type:"abstract"});case s().xd.mixpanel:return(0,L.jsx)(be,{blockPreviewLocation:n,created:a,deleted:d,rootStore:t,blockValue:r,type:"mixpanel"});case s().xd.sketch:return(0,L.jsx)(be,{blockPreviewLocation:n,created:a,deleted:d,rootStore:t,blockValue:r,type:"sketch"});case s().xd.excalidraw:return(0,L.jsx)(be,{blockPreviewLocation:n,created:a,deleted:d,rootStore:t,blockValue:r,type:"excalidraw"});case s().xd.replit:return(0,L.jsx)(be,{blockPreviewLocation:n,created:a,deleted:d,rootStore:t,blockValue:r,type:"replit"});case s().xd.pdf:return(0,L.jsx)(be,{blockPreviewLocation:n,created:a,deleted:d,rootStore:t,blockValue:r,type:"pdf"});case s().xd.table:return(0,L.jsx)(Se,{rootStore:t,blockValue:r});case s().xd.tableRow:return"notifications"===n?(0,L.jsx)(o(549026).V,{rootStore:t,blockValue:r}):(0,L.jsx)(je,{rootStore:t,blockValue:r});case s().xd.externalObjectInstance:return(0,L.jsx)(he,{created:a,blockPreviewLocation:n,deleted:d,blockValue:r});case s().xd.linkToPage:case s().xd.personalHomePage:case s().xd.linkToCollection:case s().xd.divider:case s().xd.columnList:case s().xd.column:case s().xd.copyIndicator:case s().xd.breadcrumb:case s().xd.figma:case s().xd.loom:case s().xd.typeform:case s().xd.codepen:case s().xd.tableOfContents:case s().xd.alias:case s().xd.transclusionContainer:case s().xd.transclusionReference:case s().xd.hex:case s().xd.tab:case s().xd.deepnote:case s().xd.externalObjectInstancePage:case s().xd.aiBlock:case s().xd.drawing:case s().xd.slide:case s().xd.post:case s().xd.workflow:case s().xd.transcription:case s().xd.personProfile:return null;default:(0,w().HB)(r)}return null};function $(e,t){return Boolean(e&&e.properties&&e.properties[t])}function N(e){let{blockValue:t}=e;const o=function(e){var t;const o=null==e||null===(t=e.properties)||void 0===t?void 0:t.source;return k().k4p(o)}(t);return(0,L.jsx)("div",{style:{overflow:"hidden",textOverflow:"ellipsis"},children:(0,L.jsx)("span",{style:{wordBreak:"break-word"},children:o})})}function Q(e){let{blockValue:t,rootStore:o}=e;return(0,L.jsx)(F,{rootStore:o,blockValue:t,prop:"title",labeled:!1})}function X(e){let{blockValue:t,rootStore:o}=e;return(0,L.jsx)("div",{style:{marginRight:6,marginTop:3},children:(0,L.jsx)(F,{rootStore:o,blockValue:t,prop:"checked",labeled:!1})})}function Z(e){let{blockValue:t,rootStore:o}=e;return $(t,"caption")?(0,L.jsx)(F,{rootStore:o,blockValue:t,prop:"caption",labeled:!1}):null}function Y(e){let{blockValue:t,rootStore:o}=e;return(0,L.jsx)(Q,{rootStore:o,blockValue:t})}function J(e){let{blockValue:t,rootStore:o}=e;const l=(0,D().A)();return(0,L.jsx)("div",{style:l.header,children:(0,L.jsx)(Q,{rootStore:o,blockValue:t})})}function ee(e){let{blockValue:t,rootStore:o}=e;const l=(0,D().A)();return(0,L.jsx)("div",{style:l.subHeader,children:(0,L.jsx)(Q,{rootStore:o,blockValue:t})})}function te(e){let{blockValue:t,rootStore:o}=e;const l=(0,D().A)();return(0,L.jsx)("div",{style:l.subSubHeader,children:(0,L.jsx)(Q,{rootStore:o,blockValue:t})})}function oe(e){let{blockValue:t,rootStore:o}=e;return(0,L.jsx)(W,{children:(0,L.jsx)(Q,{rootStore:o,blockValue:t})})}function le(e){let{blockValue:t,rootStore:o}=e;return(0,L.jsx)("ul",{style:{margin:0,paddingLeft:28},children:(0,L.jsx)("li",{children:(0,L.jsx)(Q,{rootStore:o,blockValue:t})})})}function re(e){let{blockValue:t,rootStore:o}=e;return(0,L.jsx)("ol",{style:{margin:0,paddingLeft:28},children:(0,L.jsx)("li",{children:(0,L.jsx)(Q,{rootStore:o,blockValue:t})})})}function ne(e){let{blockValue:t,rootStore:o}=e;return(0,L.jsxs)("div",{style:{display:"inline-flex"},children:[(0,L.jsx)(X,{rootStore:o,blockValue:t}),(0,L.jsx)(Q,{rootStore:o,blockValue:t})]})}function ie(e){let{blockValue:t,rootStore:o,blockPreviewLocation:r}=e;const n=function(e){var t;const o=null==e||null===(t=e.properties)||void 0===t?void 0:t.source;return c().MO(o)}(t);if(!n)return null;const i=(0,L.jsx)(Z,{rootStore:o,blockValue:t});return"comments_sidebar"===r?(0,L.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,L.jsx)(E,{src:n,permissionRecord:{table:g().ev,id:t.id}}),i&&(0,L.jsx)("div",{style:{marginBottom:4},children:i})]}):(0,L.jsxs)(l.Fragment,{children:[(0,L.jsx)("div",{style:{display:"flex"},children:(0,L.jsx)("div",{style:{marginTop:4,marginBottom:4},children:(0,L.jsx)(E,{src:n,permissionRecord:{table:g().ev,id:t.id}})})}),i&&(0,L.jsx)("div",{style:{marginBottom:4},children:i})]})}function ae(e){return function(e){return"comments_sidebar"===e}(e)?{marginTop:0,marginBottom:0}:void 0}function de(e){var t;let{blockValue:o,created:l,blockPreviewLocation:r,deleted:n,rootStore:d,getRecordModel:c}=e;const x=(0,a().DP)(),p=null==o||null===(t=o.format)||void 0===t?void 0:t.page_icon,b=(0,i().K8)((()=>{const e=v().Bj6.fromBlock(o).getRenderTitleTextValue({getRecordModel:c});return void 0!==e&&0!==e.length}),[o,c]);return(0,L.jsxs)(u().A,{title:H(s().xd.callout),theme:x,created:l,style:ae(r),deleted:n,children:[void 0!==p&&(0,L.jsx)(G,{icon:p,rootStore:d,blockValue:o}),b&&(0,L.jsx)(Q,{rootStore:d,blockValue:o})]})}function se(e){let{blockValue:t,blockPreviewLocation:o,created:l,deleted:r,rootStore:n}=e;const i=(0,a().DP)();return(0,L.jsx)(u().A,{title:H(s().xd.quote),theme:i,style:ae(o),created:l,deleted:r,children:(0,L.jsx)(Q,{rootStore:n,blockValue:t})})}function ce(e){let{blockValue:t,blockPreviewLocation:o,created:l,rootStore:r}=e;const n=(0,a().DP)();return(0,L.jsx)(u().A,{title:H(s().xd.factory),theme:n,style:ae(o),created:l,deleted:!0,children:(0,L.jsx)(Q,{rootStore:r,blockValue:t})})}function ue(e){let{automation:t,blockPreviewLocation:o,created:l,deleted:r}=e;const n=(0,a().DP)(),[d,c]=(0,i().K8)((()=>[t.getActionIds(),t.getProperties()]),[t]),x=(0,a().IS)((()=>({editBoxChildren:{...A().RC,margin:0},workflow:{...A().RC,marginBlock:"8px 0"},wrap:{overflow:"hidden"}})),[]);return(0,L.jsxs)("div",{style:x.wrap,children:[(0,L.jsx)(u().A,{title:H(s().xd.button),theme:n,style:ae(o),created:l,deleted:r,children:(0,L.jsx)("p",{style:x.editBoxChildren,children:(null==c?void 0:c.name)??(0,L.jsx)(V().sA,{defaultMessage:"Untitled",id:"edit.buttonBlock.defaultTitle"})})}),(0,L.jsx)("p",{style:x.workflow,children:(0,L.jsx)(V().sA,{defaultMessage:"{numberOfActions, plural, one {{numberOfActions} workflow step} other {{numberOfActions} workflow steps}}",id:"edit.buttonBlock.actionCount",values:{numberOfActions:d.length}})})]})}function xe(e){let{blockValue:t,blockPreviewLocation:o,created:l,deleted:r,rootStore:n}=e;const i=(0,a().DP)();return(0,L.jsx)(u().A,{title:H(s().xd.equation),theme:i,style:ae(o),created:l,deleted:r,children:(0,L.jsx)(Q,{rootStore:n,blockValue:t})})}function pe(e){let{blockValue:t,blockPreviewLocation:o,created:l,deleted:n,rootStore:i}=e;const d=(0,a().DP)();return(0,L.jsx)(u().A,{title:U(t),theme:d,style:ae(o),created:l,deleted:n,children:(0,L.jsx)("span",{style:{fontFamily:A().vc(r().locale).mono,fontSize:12,tabSize:2},children:(0,L.jsx)(Q,{rootStore:i,blockValue:t})})})}function be(e){let{blockValue:t,type:o,blockPreviewLocation:r,created:n,deleted:i,rootStore:s}=e;const c=(0,V().tz)(),x=(0,a().DP)();return(0,L.jsxs)(l.Fragment,{children:[(0,L.jsx)(u().A,{title:d().Do(c,o),theme:x,style:ae(r),created:n,deleted:i,children:(0,L.jsx)(N,{blockValue:t})}),(0,L.jsx)("div",{style:{marginBottom:4},children:(0,L.jsx)(Z,{rootStore:s,blockValue:t})})]})}function me(e){let{blockValue:t,blockPreviewLocation:o,created:l,rootStore:r}=e;const n=(0,a().DP)(),i=$(t,"title"),d=(0,a().IS)((()=>({bookmark:{display:"flex",flexDirection:"column"},captionBox:{marginBottom:i?4:0}})),[i]),c=i&&(0,L.jsx)(u().A,{title:H(s().xd.bookmark),theme:n,style:ae(o),created:l,children:(0,L.jsx)(Q,{rootStore:r,blockValue:t})});return(0,L.jsxs)("div",{style:d.bookmark,children:[c,$(t,"caption")&&(0,L.jsx)("div",{style:d.captionBox,children:(0,L.jsx)(Z,{rootStore:r,blockValue:t})})]})}function he(e){let{blockValue:t,created:o,blockPreviewLocation:l,deleted:r}=e;const n=(0,a().DP)(),s=(0,i().K8)((()=>v().Bj6.fromBlock(t)),[t]),c=(0,i().K8)((()=>d().EH(B().A.getIntl(),s,v().b4_.fromRecordMap(I().A.getIntegrationsAsRecordMap()))),[s]);return(0,L.jsx)(u().A,{title:(0,L.jsx)(V().sA,{...d().MC.editLabel}),theme:n,created:o,style:ae(l),deleted:r,children:c})}function fe(e){let{blockValue:t,columnID:o,rootStore:l}=e;const r=(0,a().DP)(),d=(0,n().v3)(),s=(0,i().K8)((()=>K(t,o)),[t,o]),c=(0,i().K8)((()=>s&&s.length>0?P().qO({environment:d,cellValue:s,spaceId:t.space_id,parentStore:l,theme:r}):(0,L.jsx)("span",{children:" "})),[s,t,l,r,d]);return(0,L.jsx)("td",{style:{border:`1px solid ${r.tableDividerColor}`,height:"100%"},children:(0,L.jsx)("div",{style:{overflowWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis",width:"max-content",maxWidth:120,verticalAlign:"top",lineHeight:A().K_.UIRegular.desktop,padding:4},children:c})})}function ve(e){let{blockValue:t,deleted:o,blockPreviewLocation:l,created:r,rootStore:n}=e;const i=(0,a().DP)(),d=(0,p().v)(v().Bj6.fromBlock(t));return d&&d.title?(0,L.jsx)("div",{children:(0,L.jsx)(u().A,{title:(0,L.jsx)(V().sA,{defaultMessage:"Google Drive file",id:"edit.googleDriveFile.label"}),created:!o,deleted:o,theme:i,style:ae(l),children:d.title})}):t.content?(0,L.jsx)(be,{blockPreviewLocation:l,created:r,deleted:o,rootStore:n,blockValue:t,type:"drive"}):null}function ge(e){let{blockModel:t,rootStore:o,blockValue:r}=e;const n=(0,M().BG)(),a=(0,V().tz)(),d=(0,l.useMemo)((()=>v().b4_.fromGetRecordValueFn(o.getRecordValue)),[o]),s=(0,i().K8)((()=>d({table:g().ev,id:t.id})),[t,d])||t,c=(0,i().K8)((()=>s.getRenderTitleWithPlaceholder({getRecordModel:d,userTimeZone:(0,b().P)(),intl:a,isWorkflowsAppContainerEnabled:n})),[s,a,d,n]),u=(0,i().K8)((()=>{var e;return null==s||null===(e=s.getFormat())||void 0===e?void 0:e.page_icon}),[s]);return(0,L.jsxs)("div",{style:{display:"flex",alignItems:"center",overflow:"hidden"},children:[(0,L.jsx)("div",{style:{paddingRight:6},children:(0,L.jsx)(G,{icon:u,rootStore:o,blockValue:r})}),(0,L.jsx)("div",{className:"notranslate",style:{flex:1,textOverflow:"ellipsis",overflow:"hidden"},children:c})]})}function ye(e){let{collectionModel:t,rootStore:o,blockValue:r}=e;const n=(0,M().BG)(),a=(0,V().tz)(),d=(0,l.useMemo)((()=>v().b4_.fromGetRecordValueFn(o.getRecordValue)),[o]),s=(0,i().K8)((()=>d({table:y().Vl,id:t.id})),[t,d])||t,c=(0,i().K8)((()=>s.getRenderTitleWithPlaceholder({intl:a,getRecordModel:d,userTimeZone:(0,b().P)(),isWorkflowsAppContainerEnabled:n})),[s,a,d,n]),u=(0,i().K8)((()=>s.icon),[s]);return(0,L.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,L.jsx)("div",{style:{paddingRight:4},children:(0,L.jsx)(G,{icon:u,rootStore:o,blockValue:r})}),(0,L.jsx)("div",{style:{flex:1},children:c})]})}function Se(e){var t,o,r;let{blockValue:n,rootStore:a}=e;const d=(0,l.useMemo)((()=>v().b4_.fromGetRecordValueFn(a.getRecordValue)),[a]),s=(null===(t=n.content)||void 0===t?void 0:t.length)||0,c=(null===(o=n.format)||void 0===o||null===(o=o.table_block_column_order)||void 0===o?void 0:o.length)||0,u=(0,i().K8)((()=>n.content?n.content.map((e=>d({table:n.parent_table,id:e,spaceId:n.space_id}))):[]),[n,d]);if(!s||!c)return null;const x=null===(r=n.format)||void 0===r?void 0:r.table_block_column_order;return(0,L.jsx)("div",{style:{overflow:"scroll"},children:(0,L.jsx)("table",{children:(0,L.jsx)("tbody",{children:u.map((e=>e?(0,L.jsx)("tr",{children:null==x?void 0:x.map((t=>(0,L.jsx)(fe,{rootStore:a,blockValue:e,columnID:t},t)))},e.id):void 0))})})})}function je(e){let{blockValue:t,rootStore:o}=e;const r=(0,l.useMemo)((()=>v().b4_.fromGetRecordValueFn(o.getRecordValue)),[o]),n=(0,i().K8)((()=>r({table:t.parent_table,id:t.parent_id,spaceId:t.space_id})),[t,r]),a=(0,i().K8)((()=>{var e;return null==n||null===(e=n.getFormat())||void 0===e?void 0:e.table_block_column_order}),[n]);return t.properties&&0!==(0,w().uv)(t.properties).length&&n?(0,L.jsx)("div",{style:{display:"flex",alignItems:"stretch",margin:4},children:(0,L.jsx)("table",{children:(0,L.jsx)("tr",{children:null==a?void 0:a.map((e=>(0,L.jsx)(fe,{rootStore:o,blockValue:v().Bj6.fromBlock(t),columnID:e},e)))})})}):null}},268974:(e,t,o)=>{o.d(t,{B:()=>r});o(242343);var l=o(163643);const r=(0,o(680369).wt)("arrowRightSmaller",{viewBox:"0 0 16 16",svg:(0,l.jsx)("path",{d:"M15.383 8.352a.877.877 0 01-.274.64l-5.156 5.14a.864.864 0 01-.617.266.831.831 0 01-.602-.234.795.795 0 01-.234-.586c0-.12.02-.232.063-.336a.912.912 0 01.187-.273l1.75-1.766 2.914-2.656.274.5-2.711.156H1.484c-.26 0-.471-.078-.632-.234a.851.851 0 01-.235-.617c0-.256.078-.461.235-.618a.856.856 0 01.632-.242h9.493l2.71.164-.273.508L10.5 5.5 8.75 3.727a.946.946 0 01-.188-.266.917.917 0 01-.062-.344c0-.234.078-.43.234-.586a.831.831 0 01.602-.234.79.79 0 01.328.07c.104.047.203.117.297.211l5.148 5.133a.877.877 0 01.274.64z"})})},346239:(e,t,o)=>{o.d(t,{l:()=>r});o(242343);const l={viewBox:"0 0 16 16",svg:(0,o(163643).jsx)("path",{d:"M13.165 12.75a.8.8 0 0 0 .69-1.203L8.692 2.693a.8.8 0 0 0-1.382 0l-5.165 8.854a.8.8 0 0 0 .691 1.203z"})},r=(0,o(680369).wt)("arrowCaretUpFillSmall",l)},374997:(e,t,o)=>{o.d(t,{A:()=>D});o(362833),o(725707),o(500234),o(771702),o(403517);var l=o(242343),r=()=>o(237385),n=()=>o(803290),i=()=>o(174114),a=()=>o(577097),d=()=>o(716605),s=()=>o(871002),c=()=>o(539645),u=()=>o(303707),x=()=>o(310206),p=()=>o(22105),b=()=>o(145017),m=()=>o(518797),h=()=>o(66460),f=()=>o(409211),v=()=>o(34662),g=()=>o(653998),y=()=>o(220413),S=()=>o(975392),j=()=>o(76394),k=()=>o(31448),V=()=>o(441165),w=()=>o(654548),A=()=>o(413871),B=()=>o(888575),P=()=>o(732165),I=()=>o(699773),M=()=>o(39922),R=()=>o(819269),C=o(163643);function D(e){const{propertySchema:t,value:o,rootStore:i,disableStyleAnnotations:a,disableInsertedDeletedAnnotations:s,disableDateStyleAnnotations:c,disableSuggestionAnnotations:u}=e,m=(0,r().v3)(),h=(0,l.useCallback)((e=>A().Bv.createChildStore(i,{table:b().ev,id:e})),[i]),f=(0,l.useMemo)((()=>x().b.fromMonomorphicFunctionUnsafe((e=>h(e.id).getRecordModel(e)),p().xb.fromMonomorphicFunctionUnsafe((e=>h(e.id).getRecordValue(e))))),[h]),v=(0,l.useCallback)((e=>{const t=h(e.id).getValue();return t&&(0,d().yQ)(t,"title")||[]}),[h]),g=(0,l.useCallback)((()=>{if("relation"===t.type)return d().bG({relationValue:d().n(o.value),getRecordModel:f,propertySchema:t,includeNoAccess:!0})}),[t,o.value,f]),y=(0,l.useCallback)((()=>{if("text"===t.type||"title"===t.type)return o.value;if("relation"===t.type){const e=g();if(!e)return;const t=e.map(v);return S().Bq(t)}}),[t,o.value,v,g]);(0,l.useEffect)((()=>{"text"!==t.type&&"title"!==t.type&&"relation"!==t.type||m.KatexStore.loadIfNeeded(y)}),[m,t,y]);const k=(0,n().K8)(g,[g]),V=t.type;return"checkbox"!==V&&0===o.value.length?(0,C.jsx)(N,{}):"text"===V?(0,C.jsx)(Q,{value:o,disableStyleAnnotations:Boolean(a),disableInsertedDeletedAnnotations:Boolean(s),disableDateStyleAnnotations:Boolean(c),disableSuggestionAnnotations:Boolean(u),rootStore:i}):"checkbox"===V?(0,C.jsx)(H,{value:o}):"multi_select"===V?(0,C.jsx)(X,{propertySchema:t,value:o,rootStore:i}):"select"===V?(0,C.jsx)(Y,{propertySchema:t,value:o,rootStore:i}):"status"===V?(0,C.jsx)(J,{propertySchema:t,value:o,rootStore:i}):"person"===V?(0,C.jsx)($,{value:o,propertySchema:t,rootStore:i}):"number"===V?(0,C.jsx)(K,{value:o}):"date"===V?(0,C.jsx)(z,{propertySchema:t,value:o}):"url"===V?(0,C.jsx)(F,{value:o}):"file"===V?(0,C.jsx)(W,{value:o}):"email"===V?(0,C.jsx)(E,{value:o}):"phone_number"===V?(0,C.jsx)(G,{value:o}):"title"===V?(0,C.jsx)(Q,{value:o,disableStyleAnnotations:Boolean(a),disableInsertedDeletedAnnotations:Boolean(s),disableDateStyleAnnotations:Boolean(c),disableSuggestionAnnotations:Boolean(u),rootStore:i}):"created_time"===V?(0,C.jsx)(z,{propertySchema:t,value:o}):"created_by"===V?(0,C.jsx)($,{value:o,propertySchema:t,rootStore:i}):"relation"===V?(0,C.jsx)(L,{relationValue:k,getPageTitle:v,rootStore:i,disableStyleAnnotations:Boolean(a),disableInsertedDeletedAnnotations:Boolean(s),disableDateStyleAnnotations:Boolean(c),disableSuggestionAnnotations:Boolean(u)}):"auto_increment_id"===V?(0,C.jsx)(K,{value:o}):"verification"===V?(0,C.jsx)(q,{value:o,rootStore:i}):"formula"===V||"rollup"===V||"last_edited_by"===V||"last_edited_time"===V||"last_visited_time"===V||"button"===V||"location"===V||"geo_point"===V?null:void(0,j().HB)(V)}const _=5;function L(e){const{rootStore:t,getPageTitle:o,disableStyleAnnotations:n,disableInsertedDeletedAnnotations:a,disableDateStyleAnnotations:d,disableSuggestionAnnotations:s,relationValue:c}=e,u=(0,r().v3)(),x=(0,i().DP)(),p=(0,l.useCallback)((e=>{const{value:o,pointer:l}=e;return w().S5({environment:u,textValue:{value:o,spaceId:(0,h().e)(l.spaceId)},parentStore:t,disableHover:!0,disableStyleAnnotations:n,disableInsertedDeletedAnnotations:a,disableDateStyleAnnotations:d,disableSuggestionAnnotations:s,disabled:!0,theme:x,emojiType:(0,V().FN)(u),katex:u.KatexStore.getKatex(),formulaValueTypes:[]})}),[u,t,x,n,a,d,s]);if(!c)return null;const b=c.length>_,m=b?c.slice(0,_):c;return(0,C.jsxs)("div",{children:[m.map(((e,t)=>(0,C.jsx)(T,{pointer:e,renderText:p,getPageTitle:o},t))),b&&(0,C.jsx)("div",{style:{maxWidth:180,color:y().Ay.mediumTextColor},children:(0,C.jsx)(g().sA,{defaultMessage:"{leftoverCountNumber} more",id:"editProperty.relationEditedProperties.moreCount.label",values:{leftoverCountNumber:c.length-_}})})]})}function T(e){const{pointer:t,renderText:o,getPageTitle:l}=e,r=(0,n().K8)((()=>o({value:l(t),pointer:t})),[t,o,l]);return(0,C.jsx)("div",{style:{maxWidth:180,...k().RC},children:r})}function H(e){let{value:t}=e;const o=d().wu(t.value);return(0,C.jsx)("div",{style:{width:16,height:16,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,backgroundColor:o?y().Ay.blue:y().Ay.transparent},children:o?(0,c().o)({fill:y().Ay.white,width:12,height:12}):(0,u().K)()})}function K(e){let{value:t}=e;const o=d().Me(t.value);return(0,C.jsx)("div",{children:o})}function z(e){let{propertySchema:t,value:o}=e;const l=t,r=(0,a().b)(o.value);return(0,C.jsx)(I().A,{value:r,dateFormat:l.date_format||s().vz,timeFormat:l.time_format||s().CE,displayInUserTimezone:!0})}function F(e){let{value:t}=e;return(0,C.jsx)(C.Fragment,{children:v().k4p(t.value)})}function W(e){let{value:t}=e;const o=d().pJ(t.value);return(0,C.jsx)("div",{style:{display:"inline-flex"},children:o.map(((e,t,o)=>{const l=o.length-1===t;return(0,C.jsx)(M().A,{rightMargin:!l,children:e.url},t)}))})}function E(e){let{value:t}=e;const o=v().k4p(t.value);return(0,C.jsx)("div",{children:o})}function G(e){let{value:t}=e;const o=v().k4p(t.value);return(0,C.jsx)("div",{children:o})}function q(e){let{value:t,rootStore:o}=e;return(0,C.jsx)(R().V,{textValue:t.value,rootStore:o})}function U(e){let{userId:t,rootStore:o,isLast:l}=e;const r=(0,n().K8)((()=>function(e,t){return A().LU.createChildStore(t,{table:f().oo,id:e}).getValue()}(t,o)),[t,o]);return(0,C.jsx)("div",{style:{marginTop:4,marginRight:l?0:8},children:(0,C.jsx)(P().A,{userValue:r,inline:!0,avatarSize:18,style:{fontSize:12},avatarShouldShowShadow:!0})})}function O(e){let{isLast:t,botId:o,rootStore:r}=e;const n=(0,l.useMemo)((()=>function(e,t){return A().vK.createChildStore(t,{table:m().GP,id:e})}(o,r)),[o,r]);return(0,C.jsx)("div",{style:{marginTop:4,marginRight:t?0:8},children:(0,C.jsx)(B().A,{botStore:n})})}function $(e){let{value:t,propertySchema:o,rootStore:l}=e;const r=d().e5({textValue:t.value,propertySchema:o,blockCreatorPointer:void 0}),n=[];return r.forEach(((e,t)=>{const o=r.length-1===t;e.table===f().oo?n.push((0,C.jsx)(U,{userId:e.id,rootStore:l,isLast:o},t)):n.push((0,C.jsx)(O,{botId:e.id,rootStore:l,isLast:o},t))})),(0,C.jsx)("div",{style:{display:"inline-flex"},children:n})}function N(){const e=(0,i().DP)();return(0,C.jsx)("div",{style:{color:e.text.secondary,fontSize:12},children:(0,C.jsx)(g().sA,{defaultMessage:"Empty",id:"editProperty.emptyProperty.label"})})}function Q(e){let{value:t,disableStyleAnnotations:o,disableInsertedDeletedAnnotations:l,disableDateStyleAnnotations:a,disableSuggestionAnnotations:d,rootStore:s}=e;const c=(0,i().DP)(),u=(0,r().v3)(),x=(0,n().K8)((()=>w().S5({environment:u,textValue:t,parentStore:s,disableStyleAnnotations:o,disableInsertedDeletedAnnotations:l,disableDateStyleAnnotations:a,disableSuggestionAnnotations:d,disableHover:!0,disabled:!0,theme:c,emojiType:(0,V().FN)(u),katex:u.KatexStore.getKatex(),formulaValueTypes:[]})),[u,t,s,c,o,l,a,d]);return(0,C.jsx)("span",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:x})}function X(e){let{propertySchema:t,value:o,rootStore:l}=e;const r=t.options||[],n=d().yH(o.value);return(0,C.jsx)("div",{style:{display:"inline-flex"},children:n.map(((e,t,n)=>(0,C.jsx)(Z,{token:e,options:r,index:t,arr:n,rootStore:l,value:o},t)))})}function Z(e){let{token:t,options:o,index:l,arr:r,rootStore:a,value:d}=e;const s=(0,i().DP)(),c=(o??[]).find((e=>e.value===t)),u=r.length-1===l,x=(0,y().LD)(s,null==c?void 0:c.color),p=(0,n().K8)((()=>t??w().r4(d.value,a)),[t,d,a]);return(0,C.jsx)(M().A,{...x,rightMargin:!u,children:p})}function Y(e){let{propertySchema:t,value:o,rootStore:l}=e;const r=(0,i().DP)(),a=t.options||[],s=d().L3(o.value,a),c=(0,n().K8)((()=>s??w().r4(o.value,l)),[s,o,l]),u=a.find((e=>e.value===s)),x=(0,y().LD)(r,null==u?void 0:u.color);return(0,C.jsx)("div",{style:{display:"inline-flex"},children:(0,C.jsx)(M().A,{...x,children:c})})}function J(e){let{propertySchema:t,value:o,rootStore:l}=e;const r=(0,i().DP)(),a=t,s=d().BX(o.value,a),c=(0,n().K8)((()=>s??w().r4(o.value,l)),[s,o,l]),u=(a.options??[]).find((e=>e.value===s)),x=(0,y().LD)(r,null==u?void 0:u.color);return(0,C.jsx)("div",{style:{display:"inline-flex"},children:(0,C.jsx)(M().A,{...x,children:c})})}},549026:(e,t,o)=>{o.d(t,{V:()=>g});o(362833),o(725707),o(771702);var l=o(242343),r=()=>o(237385),n=()=>o(803290),i=()=>o(174114),a=()=>o(579983),d=()=>o(302894),s=()=>o(769884),c=()=>o(34662),u=()=>o(123047),x=()=>o(653998),p=()=>o(873617),b=()=>o(154131),m=()=>o(126451),h=o(163643);const f=2;function v(e){const{colIndex:t,blockValue:o,simpleTableValue:l,hasColumnHeader:r,hasRowHeader:a,columnOrder:d,environment:s,rootStore:u,theme:m,getRecordModel:f}=e,v=(0,i().IS)((()=>({cellSecondaryTitleTable:{color:m.text.tertiary},cellTitleLineHeight:{lineHeight:1.25}})),[m]),g=[(0,h.jsx)("span",{children:(0,h.jsx)(x().sA,{defaultMessage:"Table",id:"edit.simpleTableRowComponentByCell.table"})},`simple-edit${t}-title-box-notif`)],y=null==l?void 0:l.getChildren(),S=(0,n().K8)((()=>{if(y&&0!==y.length)return f({table:o.parent_table,id:y[0],spaceId:o.space_id})}),[o.parent_table,o.space_id,f,y]),j=S?(0,b().De)(S,d[t]):void 0,k=(0,n().K8)((()=>p().qO({environment:s,cellValue:j,spaceId:o.space_id,parentStore:u,theme:m})),[s,j,o.space_id,u,m]),V=(0,b().De)(o,d?d[0]:""),w=(0,n().K8)((()=>p().qO({environment:s,cellValue:V,spaceId:o.space_id,parentStore:u,theme:m})),[s,V,o.space_id,u,m]),A=(null==S?void 0:S.id)===o.id;return r&&S&&!A&&(c().w9s(j)||g.push((0,h.jsxs)("span",{style:v.cellSecondaryTitleTable,children:[" / ",k]},`simple-table-col-header-${t}${o.parent_id}`))),a&&S&&0!==t&&(c().w9s(V)||g.push((0,h.jsxs)("span",{style:v.cellSecondaryTitleTable,children:[" / ",w]},`simple-table-row-header-${t}${o.parent_id}`))),(0,h.jsx)("div",{style:v.cellTitleLineHeight,children:g},`simple-table-${t}edit-box`)}function g(e){let{blockValue:t,rootStore:o}=e;const c=(0,l.useMemo)((()=>s().b4_.fromGetRecordValueFn(o.getRecordValue)),[o]),g=(0,i().DP)(),y=(0,i().IS)((()=>({andMore:{color:g.text.tertiary,marginTop:4,borderRadius:6,padding:"2px 4px",marginLeft:"-4px",fontSize:12,maxWidth:"fit-content"},cellTitleTable:{color:g.text.secondary,marginTop:4,overflow:"visible"}})),[g]),[S,j]=(0,l.useState)(!1),k=(0,r().v3)(),V=(0,n().K8)((()=>{var e,l,r;const n=null==o?void 0:o.userId,i=[],s=c({table:t.parent_table,id:t.parent_id,spaceId:t.space_id}),V=Boolean(null==s||null===(e=s.getFormat())||void 0===e?void 0:e.table_block_row_header),w=Boolean(null==s||null===(l=s.getFormat())||void 0===l?void 0:l.table_block_column_header),A=null==s||null===(r=s.getFormat())||void 0===r?void 0:r.table_block_column_order;let B=0;null==A||A.forEach(((e,l)=>{const r=(0,b().De)(t,e);if((0,d().PC)({textValue:r,currentUserId:n,getRecordModel:c})){B+=1;const e=(0,h.jsx)(a().A,{style:y.cellTitleTable,title:(0,h.jsx)(v,{colIndex:l,blockValue:t,simpleTableValue:s,hasColumnHeader:w,hasRowHeader:V,columnOrder:A,environment:k,rootStore:o,theme:g,getRecordModel:c}),theme:g,children:p().qO({environment:k,cellValue:(0,u().Eh)({textValue:r,highlightStyle:"text_only",currentUserId:n,getRecordModel:c}),spaceId:t.space_id,parentStore:o,theme:g,disableStyleAnnotations:!1,disableSuggestionAnnotations:!0})},`simple-edit${l}-box-notif-${r}${t.parent_id}${t.id}`);i.push(e)}}));const P=S?i:i.slice(0,f);return(0,h.jsxs)(h.Fragment,{children:[P,B>f?S?(0,h.jsx)(m().A,{style:y.andMore,onClick:()=>j(!1),children:(0,h.jsx)(x().sA,{defaultMessage:"Hide {numMore}",id:"edit.simpleTableRowComponentByCell.hideMoreCells",values:{numMore:B-f}})}):(0,h.jsx)(m().A,{style:y.andMore,onClick:()=>j(!0),children:(0,h.jsx)(x().sA,{defaultMessage:"...{numMore} more",id:"edit.simpleTableRowComponentByCell.showMoreCells",values:{numMore:B-f}})}):null]})}),[o,c,t,S,y,g,k]);return(0,h.jsx)(h.Fragment,{children:V})}},566944:(e,t,o)=>{o.d(t,{A:()=>m});o(242343);var l=()=>o(803290),r=()=>o(174114),n=()=>o(564134),i=()=>o(716605),a=()=>o(868419),d=()=>o(268974),s=()=>o(145017),c=()=>o(34662),u=()=>o(76394),x=()=>o(413871),p=()=>o(374997),b=o(163643);function m(e){const t=n().QP(e.propertySchema);switch(t){case"text":return(0,b.jsx)(h,{...e});case"relation":return(0,b.jsx)(f,{propertySchema:e.propertySchema,beforeValue:e.beforeValue,afterValue:e.afterValue,rootStore:e.rootStore});case"arrow":return(0,b.jsx)(v,{...e});default:(0,u().HB)(t)}}function h(e){const t={value:a().yR({before:e.beforeValue.value,after:e.afterValue.value,insertionAnnotation:[c().Ifu.Inserted],deletionAnnotation:[c().Ifu.Deleted]}),spaceId:e.beforeValue.spaceId};return(0,b.jsx)(p().A,{value:t,propertySchema:e.propertySchema,rootStore:e.rootStore})}function f(e){const{beforeValue:t,afterValue:o,propertySchema:r,rootStore:n}=e,a=(0,l().K8)((()=>i().tH({beforeValue:t.value,afterValue:o.value,propertySchema:r,getRecordModel:n.getRecordModel,getBlockTitle:e=>x().Bv.createChildStore(n,{table:s().ev,id:e.id}).getPropertyValue("title")})),[t,o,r,n]);return(0,b.jsx)(p().A,{value:{value:a,spaceId:t.spaceId},propertySchema:{type:"title",name:"Title"},rootStore:n})}function v(e){const t=(0,r().IS)((()=>({arrowDiffWrap:{display:"inline-flex",alignItems:"center",overflow:"hidden",flexWrap:"wrap",rowGap:6}})),[]);return(0,b.jsxs)("div",{style:t.arrowDiffWrap,children:[(0,b.jsx)(p().A,{value:e.beforeValue,propertySchema:e.propertySchema,rootStore:e.rootStore}),(0,b.jsx)(g,{}),(0,b.jsx)(p().A,{value:e.afterValue,propertySchema:e.propertySchema,rootStore:e.rootStore})]})}function g(){const e=(0,r().IS)((e=>({container:{padding:"0px 8px"},icon:{width:15,height:15,fill:e.mediumIconColor}})),[]);return(0,b.jsx)("div",{style:e.container,children:(0,d().B)(e.icon)})}},579983:(e,t,o)=>{o.d(t,{A:()=>n});o(242343);var l=()=>o(220413),r=o(163643);const n=function(e){const{children:t,created:o,deleted:n,style:i,theme:a,title:d}=e,s={boxShadow:`inset 0 0 0 1px ${a.regularDividerColor}`,borderRadius:4,padding:"6px 8px",fontSize:14,overflow:"hidden",flexGrow:1,marginTop:4,marginBottom:4,...o&&{color:l().Ay.diffTextColor,backgroundColor:l().Ay.diffBackground},...i},c={fontSize:12,lineHeight:1,marginTop:2,marginBottom:4,color:a.text.primary};return(0,r.jsxs)("div",{style:s,children:[(0,r.jsx)("div",{style:c,children:d}),(0,r.jsx)("div",{style:{...n&&{opacity:.4,marginBottom:6,textDecoration:"line-through"}},children:t})]})}},819269:(e,t,o)=>{o.d(t,{V:()=>h});var l=o(242343),r=()=>o(803290),n=()=>o(850313),i=()=>o(518797),a=()=>o(409211),d=()=>o(326259),s=()=>o(86280),c=()=>o(653998),u=()=>o(76394),x=()=>o(413871),p=()=>o(888575),b=()=>o(732165),m=o(163643);function h(e){const{textValue:t,rootStore:o}=e,h=(0,c().tz)(),f=(0,l.useMemo)((()=>{const e=(0,s().U1)(t);return e?s().B2(e):{type:"none"}}),[t]),v=(0,r().K8)((()=>{if("none"!==f.type)return x().sk.createChildStore(o,f.actorPointer)}),[f,o]);if("none"===f.type)return(0,m.jsx)("span",{children:h.formatMessage(s().nl.none)});let g;return void 0===v?g=(0,m.jsx)(b().A,{userStore:void 0,inline:!0,style:{display:"inline-flex",alignItems:"baseline"},avatarSize:18,avatarMarginRight:3}):v.table===a().oo?g=(0,m.jsx)(b().A,{userStore:v,inline:!0,style:{display:"inline-flex",alignItems:"baseline"},avatarSize:18,avatarMarginRight:3}):v.table===i().GP?g=(0,m.jsx)(p().A,{botStore:v,style:{display:"inline-flex",alignItems:"baseline"}}):v.table===n().yj?g=(0,m.jsx)(b().A,{userStore:void 0,inline:!0,style:{display:"inline-flex",alignItems:"baseline"},avatarSize:18,avatarMarginRight:3}):(0,u().HB)(v),"verified"===f.type&&f.isIndefinite?(0,m.jsx)("div",{children:h.formatMessage(s().nl.verifiedIndefinitely,{actor:g})}):(0,m.jsx)("div",{children:h.formatMessage(s().nl.verifiedUntil,{actor:g,datetime:d().T2({dateTime:f.dateTimeRange.end,intl:h,displayInUserTimezone:!0})})})}},868419:(e,t,o)=>{o.d(t,{PD:()=>c,cb:()=>s,yR:()=>u});o(610931),o(362833),o(725707),o(491955),o(771702),o(403517);var l=o.n(o(938762)),r=o.n(o(323916)),n=()=>o(975392),i=()=>o(76394),a=()=>o(829090),d=()=>o(34662);let s=function(e){return e[e.removed=-1]="removed",e[e.added=1]="added",e[e.same=0]="same",e}({});function c(e,t){const o=new(r())({timeout:2,editCost:6}),l=o.main(t,e);return o.cleanupSemantic(l),l}function u(e){const{before:t,after:o,isIncompleteAfter:r,insertCursor:u}=e,x={count:0,encoding:{},decoding:{},annotationEncoding:{},annotationDecoding:{}},p=e=>{const t=x.encoding[e];if(t)return t;{const t=String.fromCharCode(x.count);return x.count++,x.encoding[e]=t,x.decoding[t]=e,t}},b=e=>{const t=l()(e),o=x.annotationEncoding[t];if(o)return o;{const o=String.fromCharCode(x.count);return x.count++,x.annotationEncoding[t]=o,x.annotationDecoding[o]=e,o}},m=t=>n().Bq(d().RQ(t).map((t=>{let o=[];if("word"===e.mode||"wordUnderlineFinal"===e.mode){if("undefined"==typeof Intl||!Intl.Segmenter)throw new Error("Intl.Segmenter is not supported");{const e=new Intl.Segmenter(void 0,{granularity:"word"}).segment(t[0]);o=Array.from(e).map((e=>e.segment))}}else o=a().PE(t[0]);const l=o.map(p);if(d().qXl(t)){const e=d().uPN(t),o=d().jhx(e);o&&(l[0]=b({type:"mention",value:o}),e.forEach((e=>{d().iGj(e)||d().gir(e)||d().lfl(e)||(l.unshift(b({type:"start",value:e})),l.push(b({type:"end",value:e})))})))}else if(d().GiG(t)){const e=d().uPN(t),o=d().j1D(e);if(o){l[0]=b({type:"equation",value:o});for(const t of e)d().iGj(t)||d().gir(t)||d().lfl(t)||(l.unshift(b({type:"start",value:t})),l.push(b({type:"end",value:t})))}}else if(d().BEe(t)){d().uPN(t).forEach((e=>{l.unshift(b({type:"start",value:e})),l.push(b({type:"end",value:e}))}))}return l}))).join("");if(x.count>65535)throw new Error("This string has way too many different characters.");const h=c(m(o),m(t)),f=[];let v=[],g=0;const y=r?n().Kl(h,(e=>0===e[0]||1===e[0])):0;let S=!1;const j=e.insertionAnnotation,k=e.deletionAnnotation;return h.forEach((t=>{let[o,l]=t;l.split("").forEach((t=>{if(x.decoding[t]){const l=x.decoding[t];o===s.added?f.push([l,[...v,"wordUnderlineFinal"===e.mode?e.underlineAnnotation:j]]):o===s.removed&&(!r||g<=y)?"wordUnderlineFinal"!==e.mode&&f.push([l,[...v,k]]):(r&&u&&!S&&g===y+1&&(S=!0,f.push(["",[["tc"]]])),f.push([l,v]))}else{const l=x.annotationDecoding[t];if(o===s.added)if("mention"===l.type)f.push([d().Sj,[...v,"wordUnderlineFinal"===e.mode?e.underlineAnnotation:j,l.value]]);else if("start"===l.type)v=[...v,l.value];else if("end"===l.type)v=v.filter((e=>!n().n4(e,l.value)));else if("equation"===l.type){const e=d().U35(l.value),t=d().G0H(e,[...v,j]);f.push(t)}else(0,i().HB)(l);else if(o===s.removed){if("mention"===l.type)"wordUnderlineFinal"!==e.mode&&f.push([d().Sj,[...v,k,l.value]]);else if("equation"===l.type){const e=d().U35(l.value),t=d().G0H(e,[...v,k]);f.push(t)}}else if(o===s.same)if("mention"===l.type)f.push([d().Sj,[...v,l.value]]);else if("start"===l.type)v=[...v,l.value];else if("end"===l.type)v=v.filter((e=>!n().n4(e,l.value)));else if("equation"===l.type){const e=d().U35(l.value),t=d().G0H(e,v);f.push(t)}else(0,i().HB)(l)}})),r&&(g+=1)})),d().__s(f)}},956685:(e,t,o)=>{o.d(t,{A:()=>i});var l=()=>o(174114),r=()=>o(220413),n=()=>o(31448);function i(){return(0,l().IS)((e=>({wrap:{display:"flex",flexDirection:"column",justifyContent:"center",flexGrow:1,overflow:"hidden",fontSize:14,minHeight:29},label:{fontSize:12,lineHeight:1,paddingTop:8,color:e.text.tertiary},header:{fontWeight:n().Wy.semibold},subHeader:{fontWeight:n().Wy.semibold},subSubHeader:{fontWeight:n().Wy.semibold},permission:{display:"flex",flexDirection:"column",minHeight:28,paddingTop:4,paddingBottom:4},group:{display:"flex",alignItems:"center",minHeight:28,fontSize:14,paddingTop:4,paddingBottom:4},userHeader:{fontSize:12,color:e.text.secondary},role:{fontSize:14,whiteSpace:"nowrap"},permissionTypeWrap:{display:"flex",alignItems:"center",fontSize:14,marginRight:6,whiteSpace:"nowrap"},diffWrap:{display:"flex",alignItems:"center"},added:{color:r().Ay.blue,backgroundColor:r().Ay.blueWithAlpha(.14)},deleted:{opacity:.4,marginBottom:6,textDecoration:"line-through"}})),[])}}}]);