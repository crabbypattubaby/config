"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[94841],{282074:(e,t,n)=>{n.d(t,{c:()=>d});n(403517),n(242343);var i=()=>n(803290),o=()=>n(975392),r=()=>n(283820),a=()=>n(749975),l=()=>n(162339),s=n(163643);function d(e){const{isFullScreen:t,hasGroups:n,hasPartialResults:d,hasSearchQuery:c,overrideNumShimmerRows:u}=e,m=(0,a().Ks)(),h=(0,i().K8)((()=>null==m?void 0:m.isInHomeWidgetStore.state),[m]);if(!(0,l().A)(!0,0,100))return null;let g=1;void 0!==u?g=u:n||d||c||(g=t?10:3);const v=g>1?["50%","30%","40%","40%","30%","30%","40%","40%","30%","30%"]:["35%"],p=o().Hn(g).map((e=>(0,s.jsx)(r().J,{isInHomeWidget:h,widthPercentage:e<v.length?v[e]:void 0},e)));return(0,s.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",alignSelf:"stretch",marginLeft:h?8:3},children:p})}},283820:(e,t,n)=>{n.d(t,{J:()=>a});n(242343);var i=()=>n(174114),o=()=>n(517198),r=n(163643);function a(e){const{widthPercentage:t,isInHomeWidget:n}=e,a=(0,i().IS)((e=>({rowContainer:{display:"flex",height:30,alignItems:"center",gap:1,alignSelf:"stretch"},circleShimmer:{width:n?12:16,height:n?12:16,flexShrink:0,borderRadius:12,backgroundColor:e.lightDividerColor},rowShimmer:{width:t||"35%",height:10,flexShrink:0,borderRadius:12,marginLeft:2,backgroundColor:e.lightDividerColor},column:{display:"flex",height:34,padding:"7px 0px",alignItems:"center",gap:6,flex:"1 0 0"}})),[t,n]);return(0,r.jsx)("div",{style:a.rowContainer,children:(0,r.jsxs)("div",{style:a.column,children:[(0,r.jsx)(o().A,{style:a.circleShimmer}),(0,r.jsx)(o().A,{style:a.rowShimmer})]})})}},326913:(e,t,n)=>{n.d(t,{U:()=>o});n(242343);var i=n(163643);const o=(0,n(680369).wt)("zoomLogo",{viewBox:"0 0 13 9",svg:(0,i.jsx)("path",{d:"M1.94727 8.49316C1.42318 8.49316 1.01628 8.35645 0.726562 8.08301C0.440104 7.81283 0.296875 7.41895 0.296875 6.90137V2.07227C0.296875 1.55794 0.444987 1.16081 0.741211 0.880859C1.04069 0.597656 1.44271 0.456055 1.94727 0.456055H7.13281C7.6569 0.456055 8.05566 0.597656 8.3291 0.880859C8.60579 1.16081 8.74414 1.55794 8.74414 2.07227V6.87695C8.74414 7.39128 8.59928 7.78841 8.30957 8.06836C8.02311 8.35156 7.61784 8.49316 7.09375 8.49316H1.94727ZM9.45703 6.03223V2.93164L11.1367 1.49121C11.2376 1.40332 11.3385 1.33496 11.4395 1.28613C11.5436 1.23405 11.6462 1.20801 11.7471 1.20801C11.9456 1.20801 12.1068 1.27311 12.2305 1.40332C12.3542 1.53027 12.416 1.70117 12.416 1.91602V7.05273C12.416 7.26758 12.3542 7.4401 12.2305 7.57031C12.1068 7.70052 11.9456 7.76562 11.7471 7.76562C11.6462 7.76562 11.5436 7.73958 11.4395 7.6875C11.3353 7.63542 11.2344 7.56706 11.1367 7.48242L9.45703 6.03223Z"})})},411116:(e,t,n)=>{n.d(t,{v:()=>r});var i=()=>n(803290),o=()=>n(747459);function r(e){const{blockId:t,propertyId:n}=e;return(0,i().K8)((()=>o().A.isPropertyWithDraftDiscussion({blockId:t,propertyId:n})),[t,n])}},461099:(e,t,n)=>{n.d(t,{A:()=>ne,f:()=>te});n(725707),n(324989),n(403517);var i=n(242343),o=()=>n(174114),r=()=>n(708920),a=()=>n(533975),l=()=>n(50902),s=()=>n(739536),d=()=>n(382640),c=()=>n(237385),u=()=>n(803290),m=n(163643);const h=(0,n(680369).wt)("boxedCross",{viewBox:"0 0 10 11",svg:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("g",{clipPath:"url(#a)",children:(0,m.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 2.5a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-6Zm7.354.646a.5.5 0 0 1 0 .708L5.707 5.5l1.647 1.646a.5.5 0 1 1-.708.708L5 6.207 3.354 7.854a.5.5 0 1 1-.708-.708L4.293 5.5 2.646 3.854a.5.5 0 1 1 .708-.708L5 4.793l1.646-1.647a.5.5 0 0 1 .708 0Z"})}),(0,m.jsx)("defs",{children:(0,m.jsx)("clipPath",{id:"a",children:(0,m.jsx)("path",{transform:"translate(0 .5)",d:"M0 0h10v10H0z"})})})]})});var g=()=>n(723361),v=()=>n(653998),p=()=>n(401548),f=()=>n(220413),y=()=>n(31448),x=()=>n(35462),C=()=>n(199726),S=()=>n(622163),b=()=>n(313067),j=()=>n(892871),k=()=>n(898253),A=(n(491955),()=>n(477784)),I=()=>n(713807);const w=(0,v().YK)({code:{id:"notionCalendarEvent.conferencingCode",defaultMessage:"Code"},room:{id:"notionCalendarEvent.conferencingRoom",defaultMessage:"Room"},number:{id:"notionCalendarEvent.conferencingNumber",defaultMessage:"Number"},id:{id:"notionCalendarEvent.conferencingId",defaultMessage:"ID"}}),T=", ",D=" ⸱ ";function W(e){var t;let{event:n,intl:i,timeZone:o,isOnSameLineAsTitle:r}=e;const a=[n.isAllDay?void 0:(0,I().Vj)({start:n.start.dateTime,end:n.end.dateTime,locale:i.locale,timeZone:o}),[function(e){let{location:t,conferencingURL:n}=e;if(!n||!t)return t;return t.split(T).filter((e=>e!==n)).join(T)}({location:n.location,conferencingURL:null===(t=n.conferencing)||void 0===t?void 0:t.url}),E(n)].filter(Boolean).join(T)||void 0].filter(Boolean).join(D);return r&&a?`${D}${a}`:a}function E(e){const t=e.conferencing;if(t&&t.id)return[t.providerDisplayName,A().A.formatMessage(w[t.idType]),t.id].filter(Boolean).join(" ")}var L=()=>n(555086),M=()=>n(789737),R=()=>n(76394);const B=4,P=10;function U(e){let{event:t,squashedEventIndex:i,titleStartY:a,titleEndY:l}=e;const s=(0,u().K8)((()=>{if("emptyTodayEventPlaceholder"===t)return;const e=n(707715).A.getCalendar(t);return null==e?void 0:e.color}),[t]),d=(0,o().IS)((e=>{const o={background:e.calendarHomeWidget.base.gray},d="emptyTodayEventPlaceholder"===t?o:function(e){let{event:t,eventIndex:n,color:i,titleStartY:o,titleEndY:a}=e;const l=function(e){let{event:t,color:n}=e;const i=(0,p().X4)(n,t.isAllDay?.2:.1),o=`\n\t\trepeating-linear-gradient(\n\t\t\t-45deg,\n\t\t\t${n},\n\t\t\t${n} 2px,\n\t\t\t${i} 2px,\n\t\t\t${i} ${t.isAllDay?3.5:4}px\n\t\t)`;if("outOfOffice"===t.eventType)return{background:i};switch(t.responseStatus){case"accepted":return{background:(0,r().vZ)(t)?o:n};case"tentative":return{background:o};case"needsAction":return{border:`1px dashed ${n}`,background:i};case"declined":return{background:i};case void 0:return{background:t.hasParticipants?i:n};default:(0,R().HB)(t.responseStatus)}}({event:t,color:i});if(!t.isAllDay)return l;const s=`radial-gradient(\n\t\tcircle ${P}px at ${-(Y-1.5)}px ${P/2}px,\n\t\ttransparent ${(P+1)/2}px,\n\t\tpurple 0\n\t)`;return{borderRadius:"50%",marginTop:(a-o-P)/2,alignSelf:"flex-Start",marginLeft:(B-P)/2,marginRight:(B-P)/2,width:P,height:P,background:i,...0!==n&&{WebkitMaskImage:s,maskImage:s},...l}}({event:t,eventIndex:i,color:(0,n(896864).Sk)({theme:e,calendarColor:s,eventColor:t.color}),titleStartY:a,titleEndY:l});return{container:{width:B,borderRadius:3,...d}}}),[s,t,i,l,a]);return s||"emptyTodayEventPlaceholder"===t?(0,m.jsx)("div",{style:d.container}):null}const N=i.memo(U);var $=()=>n(326913),H=()=>n(907721);function K(e){var t,r,a;let{event:l,onJoinConferenceClick:s,onCopyConferenceUrlClick:d}=e;const u=(0,c().v3)(),[h,g]=(0,i.useState)(!1),v="wide"===(0,L().q)(),p=(0,o().IS)((e=>{const t="light"===e.mode?f().Ay.blueWithAlpha(.1):f().Ay.blueWithAlpha(.2);return{button:{fontSize:(0,S().ny)(u,"UIRegular"),fontWeight:y().Wy.medium,color:e.blueColor,background:t,display:"inline-flex",alignItems:"center",justifyContent:"center",borderRadius:4,lineHeight:1.2,height:28,padding:8},hoveredStyle:{background:"light"===e.mode?f().Ay.blueWithAlpha(.2):f().Ay.blueWithAlpha(.3)},tooltipContainer:{padding:0},tooltip:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:6,height:26,background:e.buttonHoveredBackground,fontWeight:y().Wy.regular,cursor:"pointer"},url:{margin:4,marginLeft:8,marginRight:2},copyIconContainer:{margin:4,marginRight:8,marginLeft:2},copyIcon:{height:13,width:11},zoomLogoIcon:{fill:e.blueColor,width:16,height:16,marginRight:4},divider:{height:"100%",borderWidth:1,borderColor:f().Ay.whiteWithAlpha(.5)}}}),[u]),x=(0,i.useCallback)((async()=>{var e;null!==(e=l.conferencing)&&void 0!==e&&e.url&&(s(),"zoom"===l.conferencing.providerName&&await b().cs({environment:u,url:l.conferencing.url})||n(110975).f({environment:u,url:l.conferencing.url}))}),[u,null===(t=l.conferencing)||void 0===t?void 0:t.providerName,null===(r=l.conferencing)||void 0===r?void 0:r.url,s]),C=(0,i.useCallback)((async()=>{var e;if(null===(e=l.conferencing)||void 0===e||!e.url)return;const t=await n(91472).R.clipboardActions.load();t.copyString({environment:u,stringValue:l.conferencing.url,copiedMessage:t.clipboardMessages.copiedLinkToClipboard}),g(!1),d()}),[u,null===(a=l.conferencing)||void 0===a?void 0:a.url,d]);if(!(0,R().O9)(l.conferencing))return(0,m.jsx)(m.Fragment,{});const{providerName:j,url:k,providerDisplayName:A}=l.conferencing,{domain:I,restOfUrl:w=""}=(0,n(361837).Kc)([[k]]),T=w.length>10?`${I}${w.slice(0,5)}…${w.slice(-6)}`:`${I}${w}`;return(0,m.jsx)(n(103151).A,{allowHover:!0,delayThreshold:500,closeDelay:200,originGap:6,placement:H().W.Top,alignment:H().C.End,style:p.tooltipContainer,forceVisibleState:!!h||void 0,renderTooltip:()=>(0,m.jsxs)("div",{style:p.tooltip,onClick:C,onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),children:[(0,m.jsx)("div",{style:p.url,children:T}),(0,m.jsx)(n(884373).A,{size:1,vertical:!0,innerStyle:p.divider}),(0,m.jsx)("div",{style:p.copyIconContainer,children:(0,n(908568).n)(p.copyIcon)})]}),render:e=>(0,m.jsxs)(n(417653).A,{style:p.button,hoveredStyle:p.hoveredStyle,onClick:x,...e,children:[O(j)(p.zoomLogoIcon),z({providerDisplayName:A,isWideTile:v})]})})}function z(e){let{providerDisplayName:t,isWideTile:n}=e;return n?t?(0,m.jsx)(v().sA,{id:"notionCalendarEvent.joinButtonWithProviderWithMeeting",defaultMessage:"Join {providerDisplayName} meeting",values:{providerDisplayName:t}}):(0,m.jsx)(v().sA,{id:"notionCalendarEvent.joinButtonWithMeeting",defaultMessage:"Join meeting"}):t?(0,m.jsx)(v().sA,{id:"notionCalendarEvent.joinButtonWithProvider",defaultMessage:"Join {providerDisplayName}",values:{providerDisplayName:t}}):(0,m.jsx)(v().sA,{id:"notionCalendarEvent.joinButton",defaultMessage:"Join"})}function O(e){switch(e){case"zoom":case"googleMeet":case"around":case"blueJeans":case"customConferencing":case"doxyMe":case"googleDuo":case"microsoftTeams":case"skype":case"vowel":case"webex":case"whereby":case void 0:return $().U;default:return(0,R().ub)(e),$().U}}const F=i.memo(K),Y=2,V=4,Z=20;function _(e){var t;let{event:n,onAttachmentClick:i}=e;const r="narrow"===(0,L().q)(),a=n.isAllDay&&!r,l=(0,v().tz)(),{timeZone:s}=(0,C().mn)(),d=(null===(t=n.attachments)||void 0===t?void 0:t.length)??!1,c=W({event:n,intl:l,timeZone:s,isOnSameLineAsTitle:a}),u=!d&&n.isAllDay,h=(0,o().IS)((()=>({singleLineNameAndTimeContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-start",maxWidth:"100%",gap:4},nameTimeAndAttachmentsContainer:{display:"flex",flexDirection:"column",justifyContent:"start",maxWidth:"100%",minWidth:0,flexShrink:1,gap:u?0:2,paddingTop:V,paddingBottom:V,overflow:n.isAllDay?"hidden":"unset"}})),[u,n.isAllDay]),g=(0,m.jsx)(q,{event:n}),p=c?(0,m.jsx)(J,{height:u?void 0:Z,timeString:c,isSmall:!a}):void 0,f=(0,m.jsx)(M().A,{event:n,onClick:i});return(0,m.jsx)("div",{style:h.nameTimeAndAttachmentsContainer,children:a?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{style:h.singleLineNameAndTimeContainer,children:[g,p]}),f]}):(0,m.jsxs)(m.Fragment,{children:[g,f,p]})})}function q(e){let{event:t}=e,n=t.summary;n||"private"!==t.visibility||(n=(0,m.jsx)(v().sA,{id:"notionCalendarEvent.privateEvent.title",defaultMessage:"Busy"}));const i=(0,o().IS)((e=>({container:{display:"flex",flexDirection:"row",maxWidth:"100%",alignItems:"center",height:Z,gap:6},title:{fontWeight:y().Wy.medium,...y().RC},warningIcon:{fill:e.grayButtonBackground,width:12,marginTop:1},boxedCrossIcon:{fill:e.grayButtonBackground,width:10.5,marginTop:.5}})),[]),a=(0,r().vZ)(t),l="outOfOffice"===t.eventType;return n?(0,m.jsxs)("div",{style:i.container,children:[a&&(0,g().Q)(i.warningIcon),l&&h(i.boxedCrossIcon),(0,m.jsx)(x().A,{style:i.title,children:n})]}):null}function J(e){let{timeString:t,height:n,isSmall:i}=e;const r=(0,o().IS)((()=>({textContainer:{height:n,display:"flex",alignItems:"center",justifyContent:"flex-start",overflow:"hidden"},timeAndLocationText:y().RC})),[n]);return(0,m.jsx)("div",{style:r.textContainer,children:(0,m.jsx)(x().A,{style:r.timeAndLocationText,isSmall:i,isSecondaryColor:!i,children:t})})}const G=function(e){var t;let{event:r,date:a,allSquashedEvents:s=[],isFirstEvent:h=!0,isLastEvent:g=!0,isUpcomingEvent:x=!1,eventToAnalyticsStateStore:C}=e;const A=(0,c().v3)(),[I,w]=(0,i.useState)(!1),T="emptyTodayEventPlaceholder"!==r&&Boolean(null===(t=r.conferencing)||void 0===t?void 0:t.url),D=(0,i.useContext)(j().a)??j().H,W="emptyTodayEventPlaceholder"!==r&&r.isAllDay,E=(0,i.useCallback)((()=>{w(!0)}),[w]),L=(0,i.useCallback)((()=>{w(!1)}),[w]),M=!x&&T&&I,R=x||M,B=(0,o().IS)((e=>({container:{display:"flex",flexDirection:"row",alignContent:"stretch",overflow:"hidden",paddingLeft:4,paddingRight:d().YS,...W&&{paddingLeft:8}},wrapperDivStyle:{...W?{marginLeft:-4,width:"calc(100% + 4px)"}:{paddingTop:h?0:3,paddingBottom:g?0:3,width:"100%"},height:"unset"},colorLabelContainer:{display:"flex",height:"100%",justifyContent:"flex-end",gap:W?Y:2,paddingTop:4,paddingBottom:4},eventDetailsContainer:{display:"flex",flex:1,flexDirection:"row",justifyContent:"space-between",flexWrap:"wrap",alignItems:"center",marginLeft:12,minWidth:0,minHeight:28,position:"relative"},emptyPlaceholderContainer:{display:"flex",flexDirection:"column",justifyContent:"center",height:40,color:e.text.tertiary,fontSize:(0,S().ny)(A,"UIRegular"),fontWeight:y().Wy.regular,...y().RC},hoveredContainer:{background:"light"===e.mode?(0,p().X4)(f().CM.light.darkgray,.05):f().XA.dark.gray[300]},joinButtonContainer:{display:"flex",alignItems:"center",...M&&{zIndex:2,position:"absolute",top:-V,right:-d().YS,paddingRight:d().YS,paddingLeft:40,bottom:-V,background:`linear-gradient(to right, transparent 0%, ${"light"===e.mode?e.surface.wash:f().XA.dark.gray[300]} 15%)`}},joinButtonInner:{marginBottom:V,...M&&{borderRadius:4,background:"light"===e.mode?f().Ay.white:f().Ay.black}}})),[A,W,h,g,M]),P=(0,u().O$)(n(485966).AppStoreCurrentSpaceStore),[U]=(0,n(162901).Yb)((async()=>"emptyTodayEventPlaceholder"===r?void 0:await(0,b().lq)({environment:A,baseUrl:r.url,spaceId:null==P?void 0:P.id,from:"homeEventClick"})),[P,A,r]),$=function(e){let{date:t,event:n,eventToAnalyticsStateStore:o,analyticsContext:r}=e;return(0,i.useCallback)((()=>{if("emptyTodayEventPlaceholder"===n)return;if(!t)return;const{eventIndex:e,numDaysFromToday:i}=(null==o?void 0:o.state[te({event:n,date:t})])??{};return{eventContext:(0,k().IU)({event:n,eventIndex:e??-1,numDaysInFuture:i??-1}),calendarPanelContext:(0,k().sp)({panelState:r.panelState,view:r.view})}}),[t,n,o,r.panelState,r.view])}({date:a,event:r,eventToAnalyticsStateStore:C,analyticsContext:D}),H=(0,i.useCallback)((e=>{const t=null==U?void 0:U.value;if("emptyTodayEventPlaceholder"===r||!t)return;const n=$();n&&(0,k().np)({environment:A,target:"body",...n}),(0,b().J7)({environment:A,url:t,from:"homeEventClick"})}),[A,r,$,null==U?void 0:U.value]),K=(0,i.useCallback)((e=>{const t=$();t&&(0,k().G7)({...t,environment:A,attachmentIndex:e.index,notionBlockId:e.attachmentBlockId,attachmentType:e.attachmentType})}),[A,$]),z=(0,i.useCallback)((()=>{const e=$();e&&(0,k().np)({environment:A,target:"conferencing",...e})}),[A,$]),O=(0,i.useCallback)((()=>{const e=$();e&&(0,k().np)({environment:A,target:"copy_conferencing_link",...e})}),[A,$]);return(0,m.jsxs)(n(209684).p,{style:B.container,onClick:H,onMouseEnter:E,onMouseLeave:L,disabled:"emptyTodayEventPlaceholder"===r||!(null!=U&&U.value),wrapperDivStyle:B.wrapperDivStyle,hoveredStyle:B.hoveredContainer,children:[(0,m.jsx)("div",{style:B.colorLabelContainer,children:(0===s.length?[r]:s).map(((e,t)=>(0,m.jsx)(N,{event:e,squashedEventIndex:t,titleStartY:V,titleEndY:V+Z},"emptyTodayEventPlaceholder"===e?e:(0,l().z)(e))))}),(0,m.jsx)("div",{style:B.eventDetailsContainer,children:"emptyTodayEventPlaceholder"===r?(0,m.jsx)("div",{style:B.emptyPlaceholderContainer,children:(0,m.jsx)(v().sA,{id:"notionCalendarEvent.emptyTodayPlaceholder",defaultMessage:"No more events"})}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(_,{event:r,onAttachmentClick:K}),R&&(0,m.jsx)("div",{style:B.joinButtonContainer,children:(0,m.jsx)("div",{style:B.joinButtonInner,children:(0,m.jsx)(F,{event:r,onJoinConferenceClick:z,onCopyConferenceUrlClick:O})})})]})})]})};function X(e){let{date:t}=e;const n=(0,v().tz)(),i="wide"===(0,L().q)(),r=(0,a().s5)(),l=(0,s().cK)(t,r),d=new Date(t).toLocaleDateString(n.locale,{weekday:i?"long":"short",timeZone:"UTC"}),c=new Date(t).toLocaleDateString(n.locale,{month:i?"long":"short",day:"numeric",timeZone:"UTC"}),u=(0,o().IS)((e=>{const t={color:l?e.text.uiRedPrimary:e.text.tertiary,fontWeight:y().Wy.medium,maxWidth:"100%",...y().RC};return{dateContainer:{display:"flex",alignItems:"start",overflow:"hidden",...i?{flexDirection:"row",minWidth:148,maxWidth:200,paddingRight:16,gap:4,flexWrap:"wrap"}:{flexDirection:"column",maxWidth:94,paddingRight:16,gap:0},paddingLeft:8},dayOfWeekString:{...t,flexShrink:0},dateString:t}}),[l,i]),h=l?(0,m.jsx)(v().sA,{id:"notionCalendarEventDate.today",defaultMessage:"Today"}):d;return(0,m.jsxs)("div",{style:u.dateContainer,children:[(0,m.jsx)(x().A,{isSmall:!0,showTooltipWhenTruncated:!0,style:u.dayOfWeekString,children:h}),(0,m.jsx)(x().A,{isSmall:!0,showTooltipWhenTruncated:!0,style:u.dateString,children:c})]})}const Q=i.memo(X);function ee(e){let{days:t,eventToAnalyticsStateStore:i}=e;const l=(0,a().s5)(),c=(0,o().IS)((e=>({container:{display:"grid",gridTemplateColumns:"[days] min-content [events] auto",rowGap:16,paddingBottom:12,paddingTop:3,alignItems:"start"},dateFullHeightContainer:{height:"100%"},dateStickyContainer:{position:"sticky",top:3,paddingTop:5},eventListContainer:{display:"flex",flexDirection:"column",height:"100%",alignItems:"start",paddingRight:d().YS,overflow:"hidden",marginLeft:-4,paddingLeft:4}})),[]);return(0,m.jsx)("div",{style:c.container,children:null==t?void 0:t.flatMap((e=>{const t=(0,n(965170).Om)(e),o=(0,s().cK)(e.date,l),a=o?(0,r().RN)(e.timedEvents.map((e=>e.baseEvent))):void 0;return[(0,m.jsx)("div",{style:c.dateFullHeightContainer,children:(0,m.jsx)("div",{style:c.dateStickyContainer,children:(0,m.jsx)(Q,{date:e.date})})},`date_${e.date}`),(0,m.jsxs)("div",{style:c.eventListContainer,children:[0===t.length&&o&&(0,m.jsx)(G,{event:"emptyTodayEventPlaceholder"}),t.map(((n,o)=>{let{baseEvent:r,allSquashedEvents:l}=n;return(0,m.jsx)(G,{date:e.date,eventToAnalyticsStateStore:i,isFirstEvent:0===o,isLastEvent:o===t.length-1,isUpcomingEvent:(null==a?void 0:a.id)===r.id,event:r,allSquashedEvents:l},te({event:r,date:e.date}))}))]},`events_${e.date}`)]}))})}function te(e){let{event:t,date:n}=e;return`${t.isAllDay}-${(0,l().z)(t)}-${n}`}const ne=i.memo(ee)},555086:(e,t,n)=>{n.d(t,{q:()=>a});var i=n(242343),o=()=>n(803290),r=()=>n(275976);function a(){var e;const t=null===(e=(0,i.useContext)(r().R))||void 0===e?void 0:e.sizeStore;return(0,o().K8)((()=>null==t?void 0:t.getState()),[t])}},710602:(e,t,n)=>{n.d(t,{A:()=>o});class i extends(()=>n(129044))().default{constructor(){super()}getInitialState(){}}const o=new i},744688:(e,t,n)=>{n(74181)({target:"Object",stat:!0},{hasOwn:n(463050)})},789737:(e,t,n)=>{n.d(t,{A:()=>z,x:()=>K});n(403517);var i=n(242343),o=()=>n(237385),r=()=>n(803290),a=()=>n(174114),l=()=>n(712437),s=()=>n(319989),d=()=>n(242120),c=()=>n(545250),u=()=>n(145017),m=()=>n(653998),h=()=>n(31448),g=()=>n(110975),v=()=>n(981927),p=()=>n(676069),f=()=>n(209684),y=()=>n(273520),x=()=>n(935091),C=()=>n(858023),S=()=>n(397791),b=()=>n(28210),j=()=>n(709237),k=()=>n(88271),A=()=>n(927685),I=()=>n(885218),w=()=>n(361837),T=()=>n(640979),D=()=>n(907721),W=()=>n(485966),E=()=>n(413871),L=()=>n(16250),M=n(163643);const R=4,B=4,P={height:20,paddingTop:2,paddingBottom:2,marginTop:-2,marginBottom:-2,paddingLeft:4,paddingRight:4,marginLeft:-R,marginRight:-B};function U(e){var t;let{event:i,onClick:l}=e;const s=(0,o().v3)(),d=(0,r().K8)((()=>{const{currentSpaceStore:e}=W().default.state;return null==e?void 0:e.id}),[]),u=(0,n(377403).W)(),m=(0,a().IS)((()=>({container:{display:"flex",flexDirection:"row",justifyItems:"center",width:"fit-content",maxWidth:"100%",gap:6}})),[]),{attachments:h}=i,g=function(e){let{environment:t,attachments:n}=e;if(!n)return[];const i=n.findIndex((e=>"page"===(0,c().parseRoute)({url:e.fileUrl,isMobile:t.device.isMobile,baseUrl:A().A.domainBaseUrl,publicDomainName:A().A.publicDomainName,protocol:A().A.protocol,currentUrl:window.location.href}).name));if(-1===i)return n;return[n[i],...n.slice(0,i),...n.slice(i+1)]}({environment:s,attachments:h}),v=(null===(t=i.meetingNote)||void 0===t?void 0:t.workspaceId)===d&&u?i.meetingNote:void 0;return Boolean(g[0])||Boolean(v)?(0,M.jsx)("div",{style:m.container,children:v?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(N,{event:i,meetingNote:v}),(0,M.jsx)(H,{attachments:g,onClickAttachment:l})]}):(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)($,{attachment:g[0],attachmentIndex:0,onClick:l}),(0,M.jsx)(H,{attachments:g.slice(1),onClickAttachment:l})]})}):null}function N(e){let{event:t,meetingNote:n}=e;const s=(0,o().v3)(),c=(0,L().m)(),u=(0,i.useMemo)((()=>"page"!==n.location.type?void 0:n.location.page.url),[n]),p=(0,i.useCallback)((e=>{const{currentSpaceStore:t}=W().default.state;return K({environment:s,fileUrl:e,currentSpaceStore:t})}),[s]),y=(0,r().K8)((()=>{if(u)return p(u)}),[p,u]),x=(0,a().IS)((e=>({button:{gap:4,flexShrink:1,maxWidth:`calc(100% + ${R+B}px)`,...P,color:e.text.bluePrimary},title:{fontWeight:h().Wy.medium,...h().RC,color:e.text.uiBluePrimary,textDecoration:"underline"}})),[]),C=y?(0,M.jsx)(j().A,{store:y,style:x.title}):(0,M.jsx)("div",{style:x.title,children:(0,M.jsx)(m().sA,{id:"EventCalendarAttachments.meetingNotesTitle",defaultMessage:"AI Meeting Note"})}),b=(0,i.useCallback)((async e=>{if(!c.botId)return;e.preventDefault();const n=await(0,I().upsertMeetingNote)({environment:s,calendarBotId:c.botId,event:t});if(!n)return;const i=p(n);if(i){const t=e.metaKey||e.ctrlKey;v().VU({environment:s,openInNew:t?"tab":void 0,store:i,pageVisitSource:l().y8.PersonalHomeCalendarAttachment,peekMode:"center_peek",resultsStore:void 0,collectionContextStore:void 0})}else g().f({environment:s,url:n})}),[c.botId,s,t,p]);return(0,M.jsxs)(f().p,{style:x.button,href:u,metaHref:u,onClick:b,children:[(0,M.jsx)(S().I,{icon:d().b,color:"uiBluePrimary"}),C]})}function $(e){let{attachment:t,attachmentIndex:n,menuListItemProps:d,onClick:c}=e;const{fileUrl:u,iconLink:m}=t,y=0===n,x=(0,r().K8)((()=>{const{currentSpaceStore:e}=W().default.state;return null==e?void 0:e.id}),[]),C=(0,a().IS)((e=>({button:{gap:4,flexShrink:1,...y?{maxWidth:`calc(100% + ${R+B}px)`}:{width:"100%"},...y&&P},title:{...y?{...(0,w().w_)(e),fontWeight:h().Wy.medium}:{maxWidth:200},...h().RC},icon:{height:16},linkIcon:{height:16,width:16,fill:e.mediumIconColor}})),[y]),S=(0,o().v3)(),k=(0,r().K8)((()=>{const{currentSpaceStore:e}=W().default.state;return K({environment:S,fileUrl:u,currentSpaceStore:e})}),[S,u]),A=(0,r().K8)((()=>{const e=null==k?void 0:k.getIcon();return k&&e?(0,M.jsx)(b().B,{icon:e,isEmptyPage:k.isEmptyPage(),size:16,disabled:!0}):m?(0,M.jsx)("img",{style:C.icon,src:m,alt:`Icon image for the Notion calendar event attachment entitled "${t.title}"`}):(0,s().w)(C.linkIcon)}),[t.title,k,m,C.icon,C.linkIcon]),I=k?(0,M.jsx)(j().A,{store:k,underline:y}):(0,M.jsx)("div",{style:C.title,children:t.title?t.title:(0,M.jsx)(p().lj,{textValue:[[t.fileUrl]]})}),T=(0,i.useCallback)((e=>{var t;if(e.preventDefault(),!u)return;c({index:n,attachmentType:k?"notion":"other",attachmentBlockId:null==k?void 0:k.id});const i=e.metaKey||e.ctrlKey,o=null==k||null===(t=k.getPublicPermission())||void 0===t?void 0:t.is_public_share_link,r=(null==k?void 0:k.getSpaceId())!==x;!k||o&&r?g().f({environment:S,url:u}):v().VU({environment:S,openInNew:i?"tab":void 0,store:k,pageVisitSource:l().y8.PersonalHomeCalendarAttachment,peekMode:"center_peek",resultsStore:void 0,collectionContextStore:void 0})}),[n,k,S,u,c,x]);return(0,M.jsxs)(f().p,{style:C.button,href:u,metaHref:u,...d,onClick:T,children:[A,I]})}function H(e){let{attachments:t,onClickAttachment:n}=e;const i=(0,o().WS)(),r=(0,a().IS)((e=>({button:{color:e.text.secondary,...P,marginRight:0},sectionMenuItem:{display:"flex",flexDirection:"column",padding:4,width:"100%"}})),[]);return t&&0!==t.length?(0,M.jsx)(y().Ay,{alignmentToOrigin:D().C.Start,placementToOrigin:D().W.Bottom,renderOrigin:e=>(0,M.jsx)(f().p,{style:r.button,...e,children:(0,M.jsx)(m().sA,{id:"EventCalendarAttachments.plusMoreAttachments",defaultMessage:"+{numRemainingAttachments}",values:{numRemainingAttachments:t.length}})}),popupType:i?y().z7.SlideUp:y().z7.Popup,render:e=>(0,M.jsx)(x().A,{menuType:T().gu.Popup,maxWidth:300,children:(0,M.jsx)(C().Ay,{onAccept:e.close,type:C().Oh.Vertical,sections:[{key:"all",render:e=>(0,M.jsx)(k().A,{...e,style:r.sectionMenuItem}),items:t.map(((e,t)=>({key:e.fileUrl,render:i=>(0,M.jsx)($,{menuListItemProps:i,attachment:e,attachmentIndex:t+1,onClick:n},e.fileUrl),action:()=>{}})))}],initialFocus:0})})}):(0,M.jsx)(M.Fragment,{})}function K(e){const{environment:t,currentSpaceStore:n}=e;let i=e.fileUrl;if(!n)return;A().A.isLocalhost&&(i=i.replace("dev.notion.so","localhost:3000").replace("https","http"));const o=(0,c().parseRoute)({url:i,isMobile:t.device.isMobile,baseUrl:A().A.domainBaseUrl,publicDomainName:A().A.publicDomainName,protocol:A().A.protocol,currentUrl:window.location.href}),r="page"===o.name?o.blockId:void 0;if(!r)return;const a=E().Bv.createChildStore(n,{table:u().ev,id:r});return a.load(),a.isReady()?a:void 0}const z=i.memo(U)},894711:(e,t,n)=>{n.d(t,{K:()=>r});var i=()=>n(716605),o=()=>n(1476);function r(e){let{type:t,store:n,textValue:r}=e;if(!r||!t)return{linkHref:void 0,shouldShowMaliciousContentDialog:!1};const a=(null==n?void 0:n.getCreatedById())===o().xY.id&&"url"===t;return{linkHref:(0,i().UY)(t,r),shouldShowMaliciousContentDialog:a}}}}]);