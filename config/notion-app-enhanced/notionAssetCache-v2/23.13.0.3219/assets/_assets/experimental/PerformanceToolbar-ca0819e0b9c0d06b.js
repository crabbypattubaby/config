"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[45624],{85933:(e,t,o)=>{o.d(t,{C:()=>i});o(242343);var n=o(163643);const i=(0,o(680369).wt)("chart",{viewBox:"0 0 64 64",svg:(0,n.jsx)("path",{d:"m60,48v6H4v-6h6v-16h12v16h4V10h12v38h4v-24h12v24h6Z"})})},109007:(e,t,o)=>{o.d(t,{A:()=>l});var n=o(242343),i=()=>o(983050),r=()=>o(502852),a=()=>o(526445),s=o(163643);function l(e){const{overlayContainerStore:t,zIndex:o}=e,l=(0,n.useCallback)((e=>{(t??a().A).containerDomNodeStore.setState(e)}),[t]);return(0,s.jsx)("div",{ref:l,className:`${i().MUV} ${i().H1c}`,style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:o??999,pointerEvents:"none",overflow:"hidden"},onMouseMove:e=>{(0,r().SQ)({event:e,context:r().y$.SidebarMouseMove,callback:()=>{}})},children:(0,s.jsx)("div",{style:{position:"relative",zIndex:0}})})}},13e4:(e,t,o)=>{o.d(t,{J:()=>i});o(242343);var n=o(163643);const i=(0,o(680369).wt)("run",{viewBox:"0 0 64 64",svg:(0,n.jsx)("path",{d:"m35,12c0-3.09,1.91-5,5-5s5,1.91,5,5-1.91,5-5,5-5-1.91-5-5Zm6.51,16.74c1.97,2.34,4.43,5.26,10.49,5.26v-5c-3.74,0-4.9-1.38-6.67-3.48-2.07-2.46-4.65-5.52-11.33-5.52-9.65,0-15.18,5.13-19,12.76l4.47,2.24c2.77-5.54,5.71-8.34,9.74-9.43l-4.95,9.9c-1.89,3.79-4.71,5.53-8.94,5.53h-4.32v6h4.32c6.7,0,11.19-2.74,14.21-8.66,2.64,2,10.54,8.63,12.77,17.66l5.69-1.9c-2.21-8.96-8.54-15.45-12.63-18.85l4.26-8.51c.66.57,1.24,1.25,1.88,2.01Z"})})},187149:(e,t,o)=>{o.d(t,{u:()=>i});o(242343);var n=o(163643);const i=(0,o(680369).wt)("basicClock",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M4.541 7.919a.53.53 0 01-.39-.157.53.53 0 01-.157-.39c0-.155.053-.282.157-.383a.53.53 0 01.39-.157h2.905V2.895c0-.15.053-.278.158-.383a.521.521 0 01.382-.158.53.53 0 01.39.158.521.521 0 01.157.383v4.477a.53.53 0 01-.157.39.53.53 0 01-.39.157H4.541zm3.452 6.207a6.789 6.789 0 01-2.727-.554 7.124 7.124 0 01-2.256-1.524 7.277 7.277 0 01-1.525-2.256 6.788 6.788 0 01-.553-2.728c0-.966.184-1.875.553-2.727A7.241 7.241 0 015.258.557 6.788 6.788 0 017.987.003c.971 0 1.882.184 2.735.554.852.369 1.604.88 2.256 1.53a7.136 7.136 0 011.53 2.25c.37.852.555 1.761.555 2.727 0 .967-.185 1.876-.554 2.728a7.218 7.218 0 01-3.787 3.78 6.789 6.789 0 01-2.728.554zm0-1.395c.789 0 1.525-.145 2.208-.437a5.678 5.678 0 001.805-1.217 5.68 5.68 0 001.217-1.805c.291-.683.437-1.42.437-2.208a5.55 5.55 0 00-.437-2.2 5.66 5.66 0 00-3.029-3.029 5.567 5.567 0 00-2.208-.438c-.784 0-1.52.146-2.208.438A5.6 5.6 0 003.98 3.052a5.715 5.715 0 00-1.21 1.811 5.55 5.55 0 00-.437 2.201c0 .789.146 1.525.438 2.208a5.735 5.735 0 001.21 1.805 5.598 5.598 0 004.013 1.654z"})})},207762:(e,t,o)=>{o.d(t,{Ay:()=>d,Jy:()=>l,vU:()=>s});o(403517);var n=o(242343),i=()=>o(640979),r=o(163643);function a(e){let{tabs:t,selectedIndex:a,onChange:d,separatorIndexes:c,right:u,style:p,rightStyle:g,tabStyle:m,tabTitleStyle:h,selectedTabTitleStyle:_,tabBorderStyle:v,selectedTabStyle:f,readOnly:b,hideTabBorder:x,idPrefix:y,hideTabIndexes:S}=e;const w=(0,n.useContext)(i().xu),{device:C,WindowSizeStore:k}=(0,o(237385).v3)(),{safePaddingLeft:j,safePaddingRight:T}=(0,o(803290).K8)((()=>({safePaddingLeft:k.getSafePaddingLeftCSS(16),safePaddingRight:k.getSafePaddingRightCSS(16)})),[k]),M=(0,o(174114).IS)((e=>{const t={paddingTop:6,paddingBottom:6,whiteSpace:"nowrap",minWidth:0,flexShrink:0,color:e.text.secondary,...m},o=`inset 0 -1px 0 ${e.regularDividerColor}`,n=w.menuType===i().gu.Popup,r={fontSize:16,paddingTop:2,paddingLeft:n?16:j,paddingRight:n?16:T,zIndex:2,height:44,background:e.popoverBackground};return{container:{overflowY:"visible",overflowX:"auto",display:"flex",width:"100%",position:"relative",boxShadow:x?void 0:o,...C.isMobile?r:{fontSize:14,paddingLeft:8,paddingRight:8,zIndex:1},...p},separator:{display:"inline-flex",alignItems:"center",margin:"0 4px",paddingBottom:4,whiteSpace:"nowrap",minWidth:0,flexShrink:0,color:e.regularDividerColor},tab:t,selectedTab:{...t,position:"relative",color:e.text.primary,...f},border:{borderBottom:`2px solid ${e.text.primary}`,position:"absolute",bottom:0,left:8,right:8,...v},rightContainer:{flexGrow:1,display:"flex",alignItems:"center",justifyContent:"flex-end",color:e.text.secondary,...g}}}),[w.menuType,C.isMobile,g,j,T,f,p,v,m,x]);return(0,r.jsxs)("div",{className:"hide-scrollbar",style:M.container,role:"tablist",children:[t.map(((e,t)=>{if(null!=S&&S.includes(t))return null;const i=t===a;return(0,r.jsxs)(n.Fragment,{children:[(0,r.jsxs)("div",{style:i?M.selectedTab:M.tab,children:[(0,r.jsx)(o(209684).p,{role:"tab",style:{...h,...i?_:{}},onClick:()=>d(t),disabled:b,mobileFeedback:C.isMobile,isLightGray:!Boolean(i),"aria-selected":i,id:s(y,t),"aria-controls":l(y,t),children:e}),i&&(0,r.jsx)("div",{style:M.border})]},`tabButton-${t}`),c&&c.includes(t)&&(0,r.jsx)("div",{style:M.separator,className:"notranslate",children:"|"},`${t}-separator`)]},t)})),u&&(0,r.jsx)("div",{style:M.rightContainer,children:u})]})}function s(e,t){if(e)return`${e}-tab-${t}`}function l(e,t){if(e)return`${e}-tabpanel-${t}`}const d=n.memo(a)},266695:(e,t,o)=>{o.d(t,{m:()=>i});o(242343);var n=o(163643);const i=(0,o(680369).wt)("appearanceSetting",{viewBox:"0 0 20 20",svg:(0,n.jsx)("path",{d:"M9.969 17.938c4.36 0 7.969-3.618 7.969-7.97C17.938 5.61 14.32 2 9.96 2 5.609 2 2 5.61 2 9.969c0 4.351 3.617 7.969 7.969 7.969zm0-1.329a6.609 6.609 0 01-6.633-6.64 6.602 6.602 0 016.625-6.64 6.627 6.627 0 016.648 6.64 6.61 6.61 0 01-6.64 6.64zm2.445-4.906c-2.367 0-3.883-1.484-3.883-3.851 0-.493.133-1.188.274-1.555.047-.102.047-.164.047-.203a.246.246 0 00-.25-.25.75.75 0 00-.258.047c-1.617.64-2.703 2.39-2.703 4.226 0 2.57 1.968 4.406 4.53 4.406 1.884 0 3.5-1.156 4.056-2.57a.618.618 0 00.054-.234.269.269 0 00-.258-.274.62.62 0 00-.187.032 4.623 4.623 0 01-1.422.226z"})})},343759:(e,t,o)=>{o.d(t,{e:()=>i});o(242343);var n=o(163643);const i=(0,o(680369).wt)("gift",{viewBox:"0 0 20 20",svg:(0,n.jsx)("g",{id:"Layer_1",children:(0,n.jsx)("path",{d:"M16,5.75h-.6682129c.2590332-.4436646.4182129-.9526367.4182129-1.5024414,0-.8989258-.4003906-1.7426758-1.0986328-2.3149414-.7021484-.5761719-1.6191406-.8037109-2.5048828-.6264648-.8757935.1747437-1.6201782.6658325-2.1376343,1.3336792-.515564-.6645508-1.2658691-1.1560669-2.1675415-1.3361206-.8833008-.1767578-1.7939453.0498047-2.4926758.6220703-.6982422.5727539-1.0986328,1.4189453-1.0986328,2.3217773,0,.5498047.1592407,1.0587769.4182129,1.5024414h-.6682129c-.9648438,0-1.75.7851562-1.75,1.75v2c0,.6700439.3829346,1.246521.9375,1.5404663v4.9595337c0,.9648438.7851562,1.75,1.75,1.75h10.1875c.9648438,0,1.75-.7851562,1.75-1.75v-4.9934692c.5205078-.3035889.875-.8618164.875-1.5065308v-2c0-.9648438-.7851562-1.75-1.75-1.75ZM16.25,7.5v2c0,.1376953-.1123047.25-.25.25h-5.21875v-2.5h5.21875c.1376953,0,.25.1123047.25.25ZM12.4404297,2.7768555c.4433594-.090332.90625.0258789,1.2607422.315918.3486328.2861328.5488281.7070312.5488281,1.1547852,0,.8286133-.6738281,1.5024414-1.5029297,1.5024414h-1.9970703v-.921875c0-.9926758.7109375-1.8554688,1.6904297-2.0512695ZM5.75,4.2475586c0-.4516602.2001953-.8754883.5498047-1.1616211.2641602-.2167969.5883789-.3344727.9536133-.3344727.1186523,0,.2412109.0126953.3671875.0375977.9443359.1884766,1.6293945,1.0244141,1.6293945,1.9873047v.9736328h-1.9975586c-.8286133,0-1.5024414-.6738281-1.5024414-1.5024414ZM3.75,7.5c0-.1376953.1123047-.25.25-.25h5.28125v2.5h-5.28125c-.1376953,0-.25-.1123047-.25-.25v-2ZM4.6875,16v-4.75h4.59375v5h-4.34375c-.1376953,0-.25-.1123047-.25-.25ZM15.125,16.25h-4.34375v-5h4.59375v4.75c0,.1376953-.1123047.25-.25.25Z"})})})},367426:(e,t,o)=>{o.d(t,{d:()=>i});o(242343);var n=o(163643);const i=(0,o(680369).wt)("computerChip",{viewBox:"0 0 64 64",svg:(0,n.jsx)("path",{d:"m58,21.5v-3l-6-1.5v-1c0-2.47-1.53-4-4-4h-1l-1.5-6h-3l-1.5,6h-6l-1.5-6h-3l-1.5,6h-6l-1.5-6h-3l-1.5,6h-1c-2.47,0-4,1.53-4,4v1l-6,1.5v3l6,1.5v6l-6,1.5v3l6,1.5v6l-6,1.5v3l6,1.5v1c0,2.47,1.53,4,4,4h1l1.5,6h3l1.5-6h6l1.5,6h3l1.5-6h6l1.5,6h3l1.5-6h1c2.47,0,4-1.53,4-4v-1l6-1.5v-3l-6-1.5v-6l6-1.5v-3l-6-1.5v-6l6-1.5Zm-10,26.5H16V16h32v32Zm-4-28h-24v24h24v-24Zm-17,10c-1.66,0-3-1.34-3-3s1.34-3,3-3,3,1.34,3,3-1.34,3-3,3Z"})})},430340:(e,t,o)=>{o.d(t,{H:()=>i});o(242343);var n=o(163643);const i=(0,o(680369).wt)("colorPickerCircle",{viewBox:"0 0 32 32",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("circle",{cx:"16",cy:"16",r:"14",strokeWidth:"3",fill:"none"}),(0,n.jsx)("circle",{cx:"16",cy:"16",r:"14",opacity:"0.9"})]})})},441205:(e,t,o)=>{o.d(t,{o:()=>i});o(242343);var n=o(163643);const i=(0,o(680369).wt)("history",{viewBox:"0 0 64 64",svg:(0,n.jsx)("path",{d:"m37,18v12h9v6h-15v-18h6Zm-3-10c-13.25,0-24,10.75-24,24v2.26l-5.76-5.76-4.24,4.24,13,13,13-13-4.24-4.24-5.76,5.76v-2.26c0-9.94,8.06-18,18-18s18,8.06,18,18-8.06,18-18,18v6c13.25,0,24-10.75,24-24s-10.75-24-24-24Z"})})},458582:(e,t,o)=>{o.d(t,{b:()=>i});o(242343);var n=o(163643);const i=(0,o(680369).wt)("pinFilled",{viewBox:"0 0 13 19",svg:(0,n.jsx)("path",{d:"M.102 11.773c0 .665.445 1.102 1.148 1.102h4.227v3.648c0 1.196.5 2.188.695 2.188.187 0 .687-.992.687-2.188v-3.648h4.227c.703 0 1.148-.438 1.148-1.102 0-1.648-1.32-3.39-3.515-4.187L8.46 4c1.14-.648 2.078-1.383 2.484-1.906.203-.266.305-.531.305-.766 0-.476-.367-.828-.914-.828H2.008c-.555 0-.914.352-.914.828 0 .234.093.5.297.766.406.523 1.343 1.258 2.484 1.906l-.258 3.586C1.422 8.383.102 10.125.102 11.773z"})})},524636:(e,t,o)=>{o.r(t),o.d(t,{PerformanceToolbar:()=>it,PerformanceToolbarSettings:()=>mt,PerformanceToolbarStore:()=>He,createPerformanceToolbarMouseListeners:()=>xe,isPerformanceToolbarVisible:()=>be});o(725707),o(491955),o(244387);var n=()=>o(129044),i=(o(107652),o(771702),o(403517),o(242343)),r=()=>o(492435),a=()=>o(908568),s=()=>o(596232),l=()=>o(916809),d=()=>o(441205),c=o(163643);const u={viewBox:"0 0 20 20",svg:(0,c.jsx)("path",{d:"M9.737 2.472a1.325 1.325 0 0 1 2.015-.166l2.88 2.88a4.62 4.62 0 0 1-1.351 3.15l-.074.073c-.121.121.003.323.166.269l.742-.247a3.47 3.47 0 0 0 1.641-1.162l.42-.54 1.331 1.332c.58.579.5 1.539-.167 2.015l-3.28 2.343-6.666-6.666zM6.172 6.087l7.569 7.569-.978.977a2.325 2.325 0 0 1-3.288 0l-.813-.813-1.164 1.63c-.256.36-.546.767-.89 1.095-.35.336-.78.612-1.32.673a2.42 2.42 0 0 1-1.986-.693 2.42 2.42 0 0 1-.693-1.985c.062-.54.337-.97.673-1.321.328-.343.736-.633 1.096-.89l1.63-1.164-.814-.813a2.325 2.325 0 0 1 0-3.288zm-.686 8.254a.669.669 0 1 0-.946.946.669.669 0 0 0 .946-.946"})},p=(0,o(680369).wt)("paintBrushFill",u);var g=()=>o(336519),m=()=>o(50081),h=()=>o(164257),_=(o(362833),()=>o(381988)),v=()=>o(174114),f=()=>o(286292),b=()=>o(169201),x=()=>o(975392),y=()=>o(31448),S=()=>o(443252),w=()=>o(907721),C=()=>o(466321),k=()=>o(601178);function j(e){return"hovered"===e||"pinned"===e||"dragging"===e}function T(e){const{caption:t,tooltipEvents:o}=e,n=(0,v().IS)((e=>({caption:{color:e.text.tertiary,fontFamily:y().Tf.mono,fontSize:12,marginRight:4}})),[]);return(0,c.jsx)("span",{style:n.caption,...o,children:t})}function M(e,t){let{popupOverlayStore:o,popupState:n,popupZIndex:r,popupPosition:a,onActivateButton:s,onFrontPopup:l,onClosePopup:u}=e;const p=(0,i.useRef)(null),g=(0,_().A)(p,t),m=function(){const[e,t]=(0,i.useState)(window.innerWidth);return(0,i.useEffect)((()=>{const e=()=>t(window.innerWidth);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),e}(),h=a?new DOMRect(m/2,a.y):void 0,[f,b]=(0,i.useState)({}),[x,M]=(0,i.useState)(1),[R,E]=(0,i.useState)(void 0),[B,L]=(0,i.useState)(void 0),N="pinned"===n||"dragging"===n,W=(0,v().IS)((e=>({entry:{alignItems:"center",borderRight:`1px solid ${e.regularDividerColor}`,color:e.text.secondary,display:"flex",flex:"0 0 auto",flexDirection:"row",flexWrap:"nowrap",height:"100%",minHeight:k().ls,justifyContent:"space-between",margin:0,padding:`0 ${k().ls/2}px`,width:"auto",cursor:"pointer",...N&&{boxShadow:`inset 0px 0px 8px ${e.state.pressed}`}},frontIconWrapper:{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",marginRight:6},frontIcon:{fill:e.text.secondary,height:11,transform:"translateY(0.5px)",verticalAlign:"middle",width:11},popupButton:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",height:"100%"},contentWrapper:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",height:"100%"},container:{backgroundColor:e.surface.wash,border:`1px solid ${e.regularDividerColor}`,borderRadius:8,color:e.text.secondary,display:"flex",flexDirection:"column",fontFamily:y().Tf.mono,fontSize:12,marginRight:8,opacity:N?1:.9,overflow:"hidden",position:"relative",width:`${m}px`},buttonWrapper:{marginRight:4,display:"flex",height:11,width:11}})),[m,N]),D=(0,i.useCallback)((()=>{const e=x.toString();M(x+1),E(e),b((t=>({...t,[e]:{start:Date.now(),end:void 0}})))}),[M,E,b,x]),z=(0,i.useCallback)((()=>{if(!R)return;const e=f[R];b((t=>({...t,[R]:{...e,end:Date.now()}}))),L(R),E(void 0)}),[E,b,f,R]),F=(0,i.useCallback)((()=>{R?z():D()}),[R,z,D]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{ref:g,style:W.entry,children:(0,c.jsxs)("div",{style:W.contentWrapper,children:[(0,c.jsxs)("div",{style:W.popupButton,onClick:s,children:[(0,c.jsx)("div",{style:W.frontIconWrapper,children:(0,d().o)(W.frontIcon)}),(0,c.jsx)(T,{caption:"DEPS"})]}),(0,c.jsx)("div",{style:W.buttonWrapper,onClick:F,children:R?(0,c.jsx)(V,{}):(0,c.jsx)(P,{})})]})}),(0,c.jsx)(S().Ay,{alignmentToOrigin:w().C.Center,disableMouseCapture:!0,enableOutsideClickDismiss:!1,open:j(n),originGap:6,originRect:h,overlayContainerStore:o,overlayContainerZIndex:r,placementToOrigin:w().W.Top,popupType:C().n.Popup,preventCaptureEsc:!0,style:W.container,trapFocus:!1,render:()=>(0,c.jsx)(I,{spans:f,activeSpanName:R,selectedSpanName:B,spanIndex:x,visibility:n,onSelectSpan:L,onStartSpan:D,onStopSpan:z,onFront:l,onClose:u})})]})}function I(e){var t,o;let{spans:n,activeSpanName:r,selectedSpanName:a,visibility:s,onSelectSpan:l,onStartSpan:u,onStopSpan:p,onFront:g,onClose:m}=e;const[h,_]=(0,i.useState)([]);(0,i.useEffect)((()=>_(f().A.traces)),[_]);const y=Object.keys(n).filter((e=>n[e].end)),S=a&&n[a],w=S?h.filter((e=>{return o=e,(t=S).start<=o.start&&(!t.end||t.end>=o.end);var t,o})):h,C=function(e){let t=e.sort(((e,t)=>e.start-t.start));const o=[];for(;t.length>0;){const[e,...n]=t,i=[e];let r=e.end;const a=[];n.forEach((e=>{e.start>=r?(i.push(e),r=e.end):a.push(e)})),o.push(i),t=a}return o}(w),k=null===(t=(0,x().wq)(w,(e=>e.start)))||void 0===t?void 0:t.start,j=null===(o=(0,x().Sk)(w,(e=>e.end)))||void 0===o?void 0:o.end,T=k&&j&&j-k,[M,I]=function(){const e=(0,i.useRef)(null),[t,o]=(0,i.useState)(1),n=(0,i.useCallback)((e=>{(function(e){return"deltaY"in e&&"metaKey"in e})(e)&&e.metaKey&&(e.stopPropagation(),e.preventDefault(),o((t=>Math.max(1,t-e.deltaY/100))))}),[o]),r=e.current;return(0,i.useEffect)((()=>(null==r||r.addEventListener("wheel",n,{passive:!1}),()=>{null==r||r.removeEventListener("wheel",n)})),[r,n]),[t,e]}(),P=(0,v().IS)((e=>({container:{display:"flex",flexDirection:"column",height:"400px"},header:{alignItems:"center",backgroundColor:e.surface.wash,borderBottom:`1px solid ${e.regularDividerColor}`,display:"flex",justifyContent:"space-between",paddingTop:8,paddingLeft:"16px",paddingRight:"16px",paddingBottom:8,position:"sticky",top:0,width:"100%",zIndex:1},titleContainer:{alignItems:"center",display:"flex"},titleIcon:{marginRight:8},icon:{fill:e.text.secondary,height:12,transform:"translateY(1px)",verticalAlign:"middle",width:12,cursor:"dragging"===s?"grab":"pointer"},title:{color:e.text.secondary,fontSize:12},closeIcon:{cursor:"pointer"},content:{padding:"8px 16px",height:"367px",display:"flex",flexDirection:"column"},buttonSection:{width:"100%",marginBottom:"10px",boxSizing:"border-box",display:"flex",alignItems:"center",flexDirection:"row"},traceSection:{width:"100%",marginBottom:"10px",boxSizing:"border-box",height:24*C.length+"px"},spanSelectSection:{paddingLeft:"8px"},activeButton:{border:"1px solid gray",borderRadius:"4px",marginRight:"8px",padding:"8px",boxShadow:`inset 0px 0px 8px ${e.state.pressed}`},button:{border:"1px solid gray",borderRadius:"4px",marginRight:"8px",padding:"8px"},traceRow:{display:"flex",position:"relative",left:"0",top:"0",height:"24px",paddingTop:"8px",boxSizing:"border-box",paddingBottom:"8px"},traceWrapper:{position:"absolute",height:"24px",overflow:"hidden"},trace:{padding:"4px",textOverflow:"ellipsis",whiteSpace:"nowrap",boxSizing:"border-box",height:"100%",border:"1px solid black",borderRadius:"2px"}})),[C.length,s]);return(0,c.jsxs)("div",{onClick:g,style:P.container,children:[(0,c.jsxs)("div",{style:P.header,children:[(0,c.jsxs)("div",{style:P.titleContainer,children:[(0,c.jsx)("div",{style:P.titleIcon,children:(0,d().o)(P.icon)}),(0,c.jsx)("div",{style:P.title,children:"Dependency Loading"})]}),(0,c.jsx)("div",{onClick:m,role:"button",style:P.closeIcon,children:(0,b().u)(P.icon)})]}),(0,c.jsxs)("div",{style:P.content,children:[(0,c.jsxs)("div",{style:P.buttonSection,children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("button",{style:r?P.activeButton:P.button,onClick:()=>{r?(p(),_(f().A.traces)):u()},children:r?"Stop":"Record"}),(0,c.jsx)("button",{style:P.button,onClick:()=>{_(f().A.traces)},children:"Refresh"})]}),"|",(0,c.jsx)("div",{style:P.spanSelectSection,children:["all",...y].map((e=>{const t=e===a||"all"===e&&!a;return(0,c.jsx)("button",{style:t?P.activeButton:P.button,onClick:()=>l("all"===e?void 0:e),children:e},e)}))})]}),(0,c.jsx)("div",{style:{overflow:"scroll",flexGrow:1},children:(0,c.jsxs)("div",{style:P.traceSection,title:"Cmd+scroll to zoom in",ref:I,children:[0===C.length&&(0,c.jsx)("div",{children:"No traces in this time span"}),C.map(((e,t)=>(0,c.jsx)("div",{style:P.traceRow,children:e.map((e=>{const t=e.end-e.start,o=M*(100*t)/T,n=M*(100*(e.start-k))/T;let i;return i="lazy_load"===e.type?"lightblue":"lazy_eval"===e.type?"lightgreen":"api_call"===e.type?"lightcoral":"lightgray",(0,c.jsx)("div",{title:e.name,style:{...P.traceWrapper,width:`${o}%`,left:`${n}%`},children:(0,c.jsx)("div",{style:{...P.trace,background:i},title:e.name,children:e.name})},`${e.name}-${e.end}-${e.start}`)}))},t)))]})})]})]})}function P(){const e=(0,v().IS)((e=>({ring:{stroke:e.redButtonBackground,fillOpacity:0},center:{stroke:e.redButtonBackground,fill:e.redButtonBackground}})),[]);return(0,c.jsxs)("svg",{viewBox:"0 0 100 100",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[(0,c.jsx)("circle",{cx:"50",cy:"50",r:"45",strokeWidth:"5",...e.ring}),(0,c.jsx)("circle",{cx:"50",cy:"50",r:"33",...e.center})]})}function V(){const e=(0,v().IS)((e=>({ring:{stroke:e.redButtonBackground,fillOpacity:0},pause:{fill:e.text.secondary}})),[]);return(0,c.jsxs)("svg",{viewBox:"0 0 100 100",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[(0,c.jsx)("circle",{cx:"50",cy:"50",r:"45",strokeWidth:"7",fill:"none",...e.ring}),(0,c.jsx)("rect",{x:"35",y:"25",width:"10",height:"50",rx:"5",ry:"5",...e.pause}),(0,c.jsx)("rect",{x:"55",y:"25",width:"10",height:"50",rx:"5",ry:"5",...e.pause})]})}const R=i.forwardRef(M);var E=()=>o(141666);const B=1.5;var L=()=>o(16791),N=()=>o(237385),W=()=>o(803290),D=()=>o(496985),z=()=>o(846581),F=()=>o(927685),A=()=>o(485966),$=()=>o(397354);o(333225),o(494367),o(516262),o(573119),o(240480),o(950443),o(619601);const H=["environment","version","frames_per_second","memory","initial_page_render","navigation_page_render","initial_database_items_visible","collections.navigation_items_visible","computed_store_count","typing_lag","message_store__connected","dependency_loading"],O=["initial_page_render","page_origin_to_app_start","app_start_to_main_start","main_start_to_prefetch_initiated","prefetch_initiated_to_statsig_bootup_blocking_start","statsig_bootup_blocking","render_start_to_render_end","render_end_to_await_page_chunk_start","await_page_chunk_start_to_await_page_chunk_end","await_page_chunk_end_to_browser_repaint_start","initial_database_items_visible","collections.await_page_chunk_end_to_cvb_start","collections.cvb_start_to_cvb_mount","collections.cvb_mount_to_items_start","collections.items_start_to_items_visible","collections.navigation_items_visible","collection_view_block_bundle_load_and_parse","navigation_page_render","navigation_database_render","typing_lag","typing_delete","typing_backspace","typing_enter","typing_tab","typing_untab"],Z=new Set(O);o(610931);class K extends n().default{getInitialState(){return{initial_page_render:void 0,page_origin_to_app_start:void 0,app_start_to_main_start:void 0,main_start_to_prefetch_initiated:void 0,prefetch_initiated_to_statsig_bootup_blocking_start:void 0,statsig_bootup_blocking:void 0,render_start_to_render_end:void 0,render_end_to_await_page_chunk_start:void 0,await_page_chunk_start_to_await_page_chunk_end:void 0,await_page_chunk_end_to_browser_repaint_start:void 0,navigation_page_render:void 0,initial_database_items_visible:void 0,collection_view_block_bundle_load_and_parse:void 0,"collections.await_page_chunk_end_to_cvb_start":void 0,"collections.cvb_start_to_cvb_mount":void 0,"collections.cvb_mount_to_items_start":void 0,"collections.items_start_to_items_visible":void 0,"collections.navigation_items_visible":void 0,navigation_database_render:void 0,typing_lag:void 0,typing_delete:void 0,typing_backspace:void 0,typing_enter:void 0,typing_tab:void 0,typing_untab:void 0}}constructor(){if(super(),this.observer=void 0,!performance.getEntries)throw new Error("Attempted to initialize PerformanceObserver in NotionPerformanceStore without performance API");this.observer=new PerformanceObserver(((e,t)=>{e.getEntries().forEach((e=>{var t;t=e.name,Z.has(t)&&this.setPerformanceMetric(e.name,e.duration)}))})),this.observer.observe({entryTypes:["measure"]})}setPerformanceMetric(e,t){this.update((o=>({...o,[e]:t})))}}let U=null;const Y=()=>U||(U=new K),G=300,X=500;function J(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G;const[t,o]=(0,i.useState)([]),n=(0,i.useRef)([]),r=(0,i.useRef)(performance.now()),a=(0,i.useRef)(0),s=(0,i.useRef)(0);return(0,i.useEffect)((()=>{function t(){document.hidden||(r.current=performance.now(),a.current=0)}return document.addEventListener("visibilitychange",t),s.current=requestAnimationFrame((function t(){if(document.hidden)return void(s.current=requestAnimationFrame(t));const i=performance.now();a.current+=1;const l=i-r.current;if(l>=X){const t=Math.round(1e3*a.current/l);n.current=[t,...n.current].slice(0,e),o([...n.current]),a.current=0,r.current=i}s.current=requestAnimationFrame(t)})),()=>{document.removeEventListener("visibilitychange",t),s.current>0&&cancelAnimationFrame(s.current)}}),[e]),{fpsHistory:t,...t.length>=1&&{fps:t[0],maxFps:Math.max(...t),minFps:Math.min(...t),avgFps:t.reduce(((e,t)=>e+t),0)/t.length}}}function q(){const e=(0,N().Y0)().version,t=(0,z().v9)(F().A.lastUpdatedTime,L().locale),{fps:o,avgFps:n,minFps:r,maxFps:a}=J(),{initial_page_render:s,page_origin_to_app_start:l,app_start_to_main_start:d,main_start_to_prefetch_initiated:c,prefetch_initiated_to_statsig_bootup_blocking_start:u,statsig_bootup_blocking:p,render_start_to_render_end:g,render_end_to_await_page_chunk_start:m,await_page_chunk_start_to_await_page_chunk_end:h,await_page_chunk_end_to_browser_repaint_start:_,navigation_page_render:v,initial_database_items_visible:f,collection_view_block_bundle_load_and_parse:b,"collections.await_page_chunk_end_to_cvb_start":x,"collections.cvb_start_to_cvb_mount":y,"collections.cvb_mount_to_items_start":S,"collections.items_start_to_items_visible":w,"collections.navigation_items_visible":C,navigation_database_render:k,typing_lag:j,typing_delete:T,typing_backspace:M,typing_enter:I,typing_tab:P,typing_untab:V}=(0,W().O$)(Y());(0,i.useEffect)((()=>{performance.getEntriesByName&&O.forEach((e=>performance.getEntriesByName(e).forEach((t=>{void 0===Y().state[e]&&Y().setPerformanceMetric(e,t.duration)}))))}),[]);const{computedStoreCount:R,computedStoreSubscriptionCount:E,computedStoreRecomputesTotal:B,computedStoreRerendersTotal:H}=function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;const[n,r]=(0,i.useState)(t);return(0,i.useEffect)((()=>{const t=setInterval((()=>{r(e())}),o);return()=>clearInterval(t)}),[e,o]),n}(D().g5,(0,D().g5)()),Z="memory"in performance?performance.memory:void 0,{message_store__connected:K,message_store__num_attempts:U}=(0,W().K8)((()=>({message_store__connected:$().A.state.isConnected,message_store__num_attempts:$().A.state.numConnectionAttempts})),[]),{env__cell:G,env__region:X}=(0,W().K8)((()=>{const e=A().default.state.currentSpaceStore;if(e){const t=e.getPublicSpaceData();if(t&&"none"!==t.role)return{env__cell:null==t?void 0:t.cell,env__region:null==t?void 0:t.region}}return{env__cell:void 0,env__region:void 0}}),[]);return{environment:"production",env__cell:G,env__region:X,version:e,version__last_updated:t,frames_per_second:o,frames_per_second__avg:n,frames_per_second__min:r,frames_per_second__max:a,memory:Z?Z.usedJSHeapSize:void 0,memory__total:Z?Z.totalJSHeapSize:void 0,memory__limit:Z?Z.jsHeapSizeLimit:void 0,initial_page_render:s,page_origin_to_app_start:l,app_start_to_main_start:d,main_start_to_prefetch_initiated:c,prefetch_initiated_to_statsig_bootup_blocking_start:u,statsig_bootup_blocking:p,render_start_to_render_end:g,render_end_to_await_page_chunk_start:m,await_page_chunk_start_to_await_page_chunk_end:h,await_page_chunk_end_to_browser_repaint_start:_,navigation_page_render:v,initial_database_items_visible:f,collection_view_block_bundle_load_and_parse:b,"collections.await_page_chunk_end_to_cvb_start":x,"collections.cvb_start_to_cvb_mount":y,"collections.cvb_mount_to_items_start":S,"collections.items_start_to_items_visible":w,"collections.navigation_items_visible":C,navigation_database_render:k,computed_store_count:R,computed_store_subscriptions:E,computed_store_recomputes:B,computed_store_rerenders:H,typing_lag:j,typing_delete:T,typing_backspace:M,typing_enter:I,typing_tab:P,typing_untab:V,message_store__connected:K,message_store__num_attempts:U}}function Q(e){return q()[e]}function ee(e){const{width:t,height:o}=e,{fpsHistory:n}=J(),[r,a]=(0,i.useState)(""),s=(0,v().IS)((e=>({graph:{color:"dark"===e.mode?"white":"black"}})),[]),l=(0,i.useCallback)((e=>{const t=(e- -5)/149*o;return Math.min(o,Math.max(0,t))}),[o]);return(0,i.useEffect)((()=>{if(0===n.length)return;const e=n.map(((e,i)=>`${i/n.length*t},${o-l(e)}`));a(`M${e.join(" L")}`)}),[n,o,t,l]),(0,c.jsx)("div",{children:(0,c.jsxs)("svg",{width:t,height:o,viewBox:`-20 -4 ${t} ${o}`,children:[(0,c.jsx)("path",{d:r,fill:"none",stroke:s.graph.color,strokeWidth:"1"}),(0,c.jsx)("path",{d:`M0,0 L0,${o}`,stroke:s.graph.color}),(0,c.jsx)("path",{d:`M0,${o-l(30)} L${t},${o-l(30)}`,strokeDasharray:"2 2",stroke:s.graph.color}),(0,c.jsx)("text",{x:-12,y:o-l(30)+3,fontSize:"8",fill:s.graph.color,children:"30"}),(0,c.jsx)("path",{d:`M0,${o-l(60)} L${t},${o-l(60)}`,strokeDasharray:"2 2",stroke:s.graph.color}),(0,c.jsx)("text",{x:-12,y:o-l(60)+3,fontSize:"8",fill:s.graph.color,children:"60"}),(0,c.jsx)("path",{d:`M0,${o-l(120)} L${t},${o-l(120)}`,strokeDasharray:"2 2",stroke:s.graph.color}),(0,c.jsx)("text",{x:-16,y:o-l(120)+3,fontSize:"8",fill:s.graph.color,children:"120"})]})})}var te=()=>o(103151);function oe(e){const{text:t,render:o,overlayContainerStore:n}=e,i=(0,v().IS)((()=>({tooltip:{fontFamily:y().Tf.mono,fontSize:11}})),[]);return(0,c.jsx)(te().A,{originGap:6,overlayContainerStore:n,placement:w().W.Top,renderTooltip:e=>(0,c.jsx)("span",{style:i.tooltip,children:t}),render:o})}var ne=()=>o(653998),ie=()=>o(91472);const re=(0,ne().YK)({valueCopied:{defaultMessage:"Value copied to clipboard.",id:"performanceToolbar.performanceValue.valueCopied"}});function ae(e){const{canCopy:t,value:o}=e,n=(0,N().v3)(),[r,s]=(0,i.useState)(!1);const l=(0,v().IS)((e=>({container:{display:"flex",flexDirection:"row"},value:{color:e.text.secondary,fontFamily:y().Tf.mono,fontSize:12,marginRight:4},copyIcon:{marginRight:4},icon:{fill:e.text.secondary,height:10,transform:"translateY(3px)",verticalAlign:"middle",width:10}})),[]);return(0,c.jsxs)("div",{onClick:t?async function(){const e=await ie().R.clipboardActions.load();await e.copyString({environment:n,stringValue:o,copiedMessage:re.valueCopied})}:void 0,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),style:l.container,children:[(0,c.jsx)("div",{style:l.value,children:o}),t&&r&&(0,c.jsx)("div",{role:"button",style:l.copyIcon,children:(0,a().n)(l.icon)})]})}function se(e){const{id:t,name:o,description:n,icon:r,subMetrics:a,onDragEvents:s,visibility:d,onClose:u,onFront:p,overlayStore:g}=e,[m,h]=(0,i.useState)(!1),_=(0,v().IS)((e=>({container:{display:"flex",flexDirection:"column"},header:{alignItems:"center",backgroundColor:e.surface.wash,borderBottom:`1px solid ${e.regularDividerColor}`,display:"flex",justifyContent:"space-between",paddingTop:8,paddingLeft:k().ls/2+"px",paddingRight:k().ls/2+"px",paddingBottom:8,position:"sticky",top:0,width:"100%",zIndex:1},titleContainer:{alignItems:"center",display:"flex"},titleIcon:{marginRight:8},title:{color:e.text.secondary,fontSize:12},closeIcon:{cursor:"pointer"},content:{backgroundColor:e.surface.wash,height:"auto",overflowY:"auto",padding:`8px ${k().ls/2}px`,display:"flex",flexDirection:"row",gap:"16px"},tableContainer:{display:"flex",flexDirection:"column",flex:"0 1 auto"},table:{borderCollapse:"collapse",width:"auto"},graph:{flex:1},icon:{fill:e.text.secondary,height:12,transform:"translateY(1px)",verticalAlign:"middle",width:12,cursor:"dragging"===d?"grab":"pointer"},description:{color:e.text.tertiary,fontSize:"10px",marginBottom:0,paddingBottom:0},footer:{position:"sticky",bottom:0,borderTop:`1px solid ${e.regularDividerColor}`,backgroundColor:e.surface.wash,zIndex:1,padding:`0 ${k().ls/2}px`,marginBottom:8,width:"100%"}})),[d]);if(!(a&&a.length>0))return null;const f=m||"dragging"===d;return(0,c.jsxs)("div",{onClick:p,style:_.container,children:[(0,c.jsxs)("div",{onMouseOver:()=>h(!0),onMouseLeave:()=>h(!1),style:_.header,children:[(0,c.jsxs)("div",{style:_.titleContainer,children:[(0,c.jsx)("div",{style:_.titleIcon,onMouseDown:s.onMouseDown,onTouchStart:s.onTouchStart,onContextMenu:s.onContextMenu,children:f?(0,l().i)(_.icon):r(_.icon)}),(0,c.jsx)("div",{style:_.title,children:o})]}),(0,c.jsx)("div",{onClick:u,role:"button",style:_.closeIcon,children:(0,b().u)(_.icon)})]}),(0,c.jsxs)("div",{style:_.content,children:[(0,c.jsx)("div",{style:_.tableContainer,children:(0,c.jsx)("table",{style:_.table,children:(0,c.jsx)("tbody",{children:a.map((e=>(0,i.createElement)(le,{...e,key:e.id,overlayContainerStore:g})))})})}),"frames_per_second"===t&&(0,c.jsx)("div",{style:_.graph,children:(0,c.jsx)(ee,{width:140,height:50})})]}),(0,c.jsx)("div",{style:_.footer,children:(0,c.jsx)("p",{style:_.description,children:n})})]})}function le(e){const{id:t,overlayContainerStore:o,name:n,shortName:i,formatValue:r}=e,a=r(Q(t)),s=(0,v().IS)((()=>({firstColumn:{paddingRight:8}})),[]);return(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{style:s.firstColumn,children:(0,c.jsx)(oe,{overlayContainerStore:o,text:n,render:(e,t)=>(0,c.jsx)(T,{caption:i,tooltipEvents:e})})}),(0,c.jsx)("td",{children:(0,c.jsx)(ae,{value:a,canCopy:!0})})]})}function de(e){const{id:t,icon:o,name:n,description:i,subMetrics:r,visibility:a,overlayStore:s,zIndex:l,position:d,onClose:u,onFront:p,onDragEvents:g}=e,m=(0,v().IS)((e=>({container:{backgroundColor:e.surface.wash,border:`1px solid ${e.regularDividerColor}`,borderRadius:8,color:e.text.secondary,display:"flex",flexDirection:"column",fontFamily:y().Tf.mono,fontSize:12,marginRight:8,opacity:"pinned"===a||"dragging"===a?1:.9,overflow:"hidden",position:"relative",width:8*k().ls}})),[a]);if(!d)return null;const h=new DOMRect(d.x,d.y,0,0);return(0,c.jsx)(S().Ay,{alignmentToOrigin:w().C.Center,disableMouseCapture:!0,enableOutsideClickDismiss:!1,open:j(a),originGap:6,originRect:h,overlayContainerStore:s,overlayContainerZIndex:l,placementToOrigin:w().W.Top,popupType:C().n.Popup,preventCaptureEsc:!0,style:m.container,trapFocus:!1,render:()=>(0,c.jsx)(se,{id:t,name:n,description:i,icon:o,subMetrics:r,visibility:a,overlayStore:s,onClose:u,onFront:p,onDragEvents:g})})}function ce(e,t){const{popupOverlayStore:o,popupState:n,popupZIndex:r,popupPosition:a,onPeekButton:s,onUnpeekButton:l,onActivateButton:d,onFrontPopup:u,onClosePopup:p,onDragPopupEvents:g,id:m,icon:h,description:f,name:b,shortName:y,subMetrics:S,formatValue:w,valueType:C}=e,j=(0,i.useRef)(null),M=(0,_().A)(j,t),I=w(Q(m)),P=S&&S.length>0,V=function(e,t){const o=(0,v().DP)();return(0,i.useCallback)((o=>{if(!e||!t)return"inherit";const n="light"===o?247:32,i=t-e,r=(0,E().qE)(n-i*B,0,n);return`rgb(${n}, ${r}, ${r})`}),[t,e])(o.mode)}(Q("frames_per_second"),Q("frames_per_second__avg")),R=function(e){const[t,o]=(0,i.useState)(0),n=e.current;return(0,i.useEffect)((()=>{const e=(0,x().sg)((()=>{const e=(null==n?void 0:n.offsetWidth)??0;e>t&&o(e)}),100),i=new ResizeObserver((()=>e()));return n&&i.observe(n),()=>{n&&i.unobserve(n),e.cancel()}}),[n,t]),t}(j),L="pinned"===n||"dragging"===n,N="frames_per_second"===m?V:"inherit",W=(0,v().IS)((e=>({entry:{alignItems:"center",borderRight:`1px solid ${e.regularDividerColor}`,color:e.text.secondary,display:"flex",flex:"0 0 auto",flexDirection:"row",flexWrap:"nowrap",height:"100%",minHeight:k().ls,justifyContent:"space-between",margin:0,minWidth:`${R}px`,padding:`0 ${k().ls/2}px`,width:"auto",...P&&{cursor:"pointer"},...L&&{boxShadow:`inset 0px 0px 8px ${e.state.pressed}`}},iconWrapper:{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",marginRight:6},icon:{fill:e.text.secondary,height:11,transform:"translateY(0.5px)",verticalAlign:"middle",width:11},contentWrapper:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",height:"100%"}})),[P,R,L]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{ref:M,style:{backgroundColor:N,...W.entry},...P?{onClick:d,onMouseOver:s,onMouseLeave:l,role:"button",tabIndex:0}:{},children:(0,c.jsxs)("div",{style:W.contentWrapper,children:[(0,c.jsx)("div",{style:W.iconWrapper,children:h(W.icon)}),P?(0,c.jsx)(T,{caption:y}):(0,c.jsx)(oe,{text:b,overlayContainerStore:o,render:(e,t)=>(0,c.jsx)(T,{caption:y,tooltipEvents:e})}),"element"===C?I:(0,c.jsx)(ae,{value:I})]})},m),P&&(0,c.jsx)(de,{id:m,icon:h,name:b,description:f,subMetrics:S,position:a,overlayStore:o,zIndex:r,visibility:n,onClose:p,onFront:u,onDragEvents:g})]})}const ue=i.memo(i.forwardRef(ce));function pe(e,t){const n=(0,o(361308).z3)(e,t),[i,r]=n.split(" ");return-1===i.indexOf(".")?`${i}.0 ${r}`:n}const ge="â€”",me=(0,c.jsx)("span",{children:ge});function he(e){const{value:t}=e,n=(0,v().IS)((e=>({icon:{width:12,height:12,marginTop:2,fill:t?e.performanceToolbarIndicator.green:e.performanceToolbarIndicator.red}})),[t]);return(0,c.jsx)(c.Fragment,{children:(0,o(430340).H)(n.icon)})}const _e={asIs:e=>void 0!==e?e:ge,asWholeNumber:e=>void 0!==e?e.toFixed(0):ge,asSeconds:e=>void 0!==e?`${(e/1e3).toFixed(2)}s`:ge,asMilliseconds:e=>void 0!==e?`${e.toFixed(0)}ms`:ge,asBytes:e=>void 0!==e?pe(e,1):ge,asIndicator:e=>void 0!==e?(0,c.jsx)(he,{value:e}):me};var ve=()=>o(502852),fe=()=>o(89969);function be(e,t,o){return!!(0,fe().D)(e,t)&&(o.isPerformanceToolbarPinned||o.isMouseNearPerformanceToolbar)}function xe(e,t,o,n,i,r,a,s){let l;function d(e){e.toElement||e.relatedTarget||(t(!1),void 0!==l&&(window.clearTimeout(l),l=void 0))}function c(d){(0,ve().SQ)({event:d,context:ve().y$.PerformanceToolbarMouseMove,callback:()=>{if(o&&d.clientX<n)return;if(i&&d.clientX<n+r)return;if(a&&d.clientX>e.WindowSizeStore.state.width-s)return;const c=e.WindowSizeStore.state.height-d.clientY<k().ls;c&&d.shiftKey||(c&&void 0===l?l=window.setTimeout((()=>{t(!0)}),750):c||void 0===l||(window.clearTimeout(l),l=void 0,t(!1)))}})}function u(){void 0!==l&&(window.clearTimeout(l),l=void 0)}return window.addEventListener("mousemove",c),window.addEventListener("mouseout",d),window.addEventListener("mousedown",u),()=>{window.removeEventListener("mousemove",c),window.removeEventListener("mouseout",d),window.removeEventListener("mousedown",u)}}function ye(e,t,o){return t?function(){const e=new Map;for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return o.forEach(((t,o)=>{t.forEach(((n,i)=>{e.set(n,i+o*t.length)}))})),Array.from(e.keys()).sort(((t,o)=>e.get(t)-e.get(o)))}(e,(i=o,(n=t)?n.filter((e=>i.includes(e))):[])):e;var n,i}function Se(e,t,o){return Object.assign(e,function(e,t){const o={};if(!e)return o;for(const n in e)t.includes(n)&&(o[n]=e[n]);return o}(t,o))}function we(){const{currentUserStore:e,currentSpaceStore:t}=A().default.state,n=null==e?void 0:e.id,i=null==t?void 0:t.id,r=(0,o(782422).s0)(),a=JSON.stringify({pageId:r,userId:n,spaceId:i});navigator.clipboard.writeText(a)}function Ce(e){He.update((t=>({...t,isPerformanceToolbarMounted:e})))}function ke(e,t){const o=[...He.state.orderedWidgets],[n]=o.splice(e,1);o.splice(t,0,n),He.update((e=>({...e,orderedWidgets:o})))}function je(e,t){const o=[...He.state.orderedShortcuts],[n]=o.splice(e,1);o.splice(t,0,n),He.update((e=>({...e,orderedShortcuts:o})))}function Te(e){const t=He.state,o=t.enabledWidgets.includes(e)?t.enabledWidgets.filter((t=>t!==e)):[...t.enabledWidgets,e];He.update((e=>({...e,enabledWidgets:o})))}function Me(e){const t=He.state,o=t.enabledShortcuts.includes(e)?t.enabledShortcuts.filter((t=>t!==e)):[...t.enabledShortcuts,e];He.update((e=>({...e,enabledShortcuts:o})))}function Ie(e,t){He.update((o=>({...o,widgetPopupVisibility:{...o.widgetPopupVisibility,[e]:t}})))}function Pe(e,t){He.update((o=>({...o,widgetPopupPosition:{...o.widgetPopupPosition,[e]:t}})))}function Ve(e){He.update((t=>{const o=t.widgetPopupStack.filter((t=>t!==e));return o.push(e),{...t,widgetPopupStack:o}}))}const Re=[De({id:"environment",name:"Environment",description:"The environment Notion is running in (e.g., local, development, staging, or production).",isForced:!0,isEnabled:!0,shortName:"ENV",icon:o(565208).D,formatValue:_e.asIs,valueType:"string",subMetrics:[{id:"env__cell",name:"Cell",shortName:"Cell",formatValue:_e.asIs},{id:"env__region",name:"Region",shortName:"Region",formatValue:_e.asIs}]}),De({id:"version",name:"Version",description:"The current version of Notion. On local, it will appear as '0.0.0.0'.",isForced:!0,isEnabled:!0,shortName:"VER",icon:d().o,formatValue:_e.asIs,valueType:"string",subMetrics:[{id:"version__last_updated",name:"Last Updated",shortName:"Last Updated",formatValue:_e.asIs}]}),De({id:"frames_per_second",name:"FPS",description:"The number of frames displayed per second. Shows visual 'smoothness.'",isForced:!0,isEnabled:!0,shortName:"FPS",icon:o(13e4).J,formatValue:_e.asWholeNumber,valueType:"string",subMetrics:[{id:"frames_per_second__avg",name:"Average FPS",shortName:"Avg",formatValue:_e.asWholeNumber},{id:"frames_per_second__min",name:"Min FPS",shortName:"Min",formatValue:_e.asWholeNumber},{id:"frames_per_second__max",name:"Max FPS",shortName:"Max",formatValue:_e.asWholeNumber}]}),De({id:"memory",name:"Memory",description:"Shows the size of the JavaScript heap. Not available on some browsers, such as Firefox.",isForced:!1,isEnabled:"memory"in performance,shortName:"MEM",icon:o(367426).d,formatValue:_e.asBytes,valueType:"string",subMetrics:[{id:"memory__total",name:"Total Memory",shortName:"Total",formatValue:_e.asBytes},{id:"memory__limit",name:"Memory Limit",shortName:"Limit",formatValue:_e.asBytes}]}),De({id:"initial_page_render",name:"Initial Page Render",description:"The time to load your first page. See the `InitialPageRenderSubMetrics` interface for more.",isForced:!1,isEnabled:!0,shortName:"IPR",icon:o(187149).u,formatValue:_e.asSeconds,valueType:"string",subMetrics:[{id:"page_origin_to_app_start",name:"Page Origin to App Start",shortName:"Stage 0 (O2A)",formatValue:_e.asSeconds},{id:"app_start_to_main_start",name:"App Start to Main Start",shortName:"Stage 1 (A2M)",formatValue:_e.asSeconds},{id:"main_start_to_prefetch_initiated",name:"Main Start to Prefetch Initiated",shortName:"Stage 2 (M2P)",formatValue:_e.asSeconds},{id:"prefetch_initiated_to_statsig_bootup_blocking_start",name:"Prefetch Initiated to Render Start",shortName:"Stage 3 (P2S)",formatValue:_e.asSeconds},{id:"statsig_bootup_blocking",name:"Statsig Bootup Blocking Time",shortName:"Stage 4 (SBB)",formatValue:_e.asSeconds},{id:"render_start_to_render_end",name:"Render Start to Render End",shortName:"Stage 5 (R2R)",formatValue:_e.asSeconds},{id:"render_end_to_await_page_chunk_start",name:"Render End to Await Page Chunk Start",shortName:"Stage 6 (R2C)",formatValue:_e.asSeconds},{id:"await_page_chunk_start_to_await_page_chunk_end",name:"Await Page Chunk Start to Await Page Chunk End",shortName:"Stage 7 (C2C)",formatValue:_e.asSeconds},{id:"await_page_chunk_end_to_browser_repaint_start",name:"Await Page Chunk End to Browser Repaint Start",shortName:"Stage 8 (C2R)",formatValue:_e.asSeconds}]}),De({id:"navigation_page_render",name:"Navigation Page Render",description:"The time it takes for your current page to load, after navigation.",isForced:!1,isEnabled:!1,shortName:"NPR",icon:o(869570).X,formatValue:_e.asSeconds,valueType:"string",subMetrics:[]}),De({id:"initial_database_items_visible",name:"Initial Database Visible",description:"The time it takes for your first seen collection's items to be visible.",isForced:!1,isEnabled:!0,shortName:"IDV",icon:s().$,formatValue:_e.asSeconds,valueType:"string",subMetrics:[{id:"collection_view_block_bundle_load_and_parse",name:"Collection View Block Bundle Load and Parse",shortName:"Stage 1 (CVB)",formatValue:_e.asSeconds},{id:"collections.await_page_chunk_end_to_cvb_start",name:"Await Page Chunk End to CVB Start",shortName:"Stage 2 (C2C)",formatValue:_e.asSeconds},{id:"collections.cvb_start_to_cvb_mount",name:"CVB Start to CVB Mount",shortName:"Stage 3 (C2M)",formatValue:_e.asSeconds},{id:"collections.cvb_mount_to_items_start",name:"CVB Mount to Items Start",shortName:"Stage 4 (M2I)",formatValue:_e.asSeconds},{id:"collections.items_start_to_items_visible",name:"Items Start to Items Visible",shortName:"Stage 5 (I2V)",formatValue:_e.asSeconds}]}),De({id:"collections.navigation_items_visible",name:"Navigation DB Visible",description:"The time it takes for your navigated-to collection's items to be visible.",isForced:!1,isEnabled:!1,shortName:"NDV",icon:o(907992).H,formatValue:_e.asSeconds,valueType:"string",subMetrics:[{id:"navigation_database_render",name:"Navigation DB Render",shortName:"NDR",formatValue:_e.asSeconds}]}),De({id:"computed_store_count",name:"Computed Store Count",description:"Computed store instances and subscriptions in memory as well as the number of recomputes and rerenders caused by computed stores since app start.",isForced:!1,isEnabled:!0,shortName:"CSC",icon:o(85933).C,formatValue:_e.asWholeNumber,valueType:"string",subMetrics:[{id:"computed_store_count",name:"Computed Store Count",shortName:"Total Count",formatValue:_e.asWholeNumber},{id:"computed_store_subscriptions",name:"Computed Store Subscriptions",shortName:"Subscriptions",formatValue:_e.asWholeNumber},{id:"computed_store_rerenders",name:"Computed Store Rerenders",shortName:"Rerenders",formatValue:_e.asWholeNumber},{id:"computed_store_recomputes",name:"Computed Store Recomputes",shortName:"Recomputes",formatValue:_e.asWholeNumber}]}),De({id:"typing_lag",name:"Typing Lag",description:"The time between a keystroke and its completed action.",isForced:!1,isEnabled:!0,icon:o(572088).l,shortName:"TL",formatValue:_e.asMilliseconds,valueType:"string",subMetrics:[{id:"typing_delete",name:"Typing Delete",shortName:"Del",formatValue:_e.asMilliseconds},{id:"typing_backspace",name:"Typing Backspace",shortName:"Bsp",formatValue:_e.asMilliseconds},{id:"typing_enter",name:"Typing Enter",shortName:"Ent",formatValue:_e.asMilliseconds},{id:"typing_tab",name:"Typing Tab",shortName:"Tab",formatValue:_e.asMilliseconds},{id:"typing_untab",name:"Typing Untab",shortName:"Untab",formatValue:_e.asMilliseconds}]}),De({id:"message_store__connected",name:"Message Store Status",description:"Whether the message store is connected.",isForced:!1,isEnabled:!1,shortName:"MSS",icon:o(838251).w,formatValue:_e.asIndicator,valueType:"string",subMetrics:[{id:"message_store__num_attempts",name:"Message Store Connection Attempts",shortName:"MCA",formatValue:_e.asWholeNumber}]}),{id:"dependency_loading",name:"Dependency Loading",description:"Simplified version of networks tab to make it easier to see what dependencies (data/lazy loading) get loaded for a given action",isForced:!1,isEnabled:!1,render:e=>(0,c.jsx)(R,{...e})}],Ee=Re.reduce(((e,t)=>({...e,[t.id]:t})),{});function Be(e){return Ee[e]}const Le=[{id:"pin",name:"Pin the toolbar",description:"Pin the toolbar to the screen.",ariaLabel:"Toggle toolbar pin",icon:e=>e?o(458582).b:o(668742).N,tooltip:"Pin",onClick:()=>{He.update((e=>({...e,isPerformanceToolbarPinned:!e.isPerformanceToolbarPinned})))},isForced:!0,isEnabled:!0},{id:"settings",name:"Open toolbar settings",description:"Open the performance toolbar settings, right from the toolbar itself.",ariaLabel:"Open toolbar settings",icon:o(921080).B,tooltip:"Open toolbar settings",onClick:()=>g().Ow({currentTab:"performance_toolbar",openedFrom:"performance_toolbar"}),isForced:!0,isEnabled:!0},{id:"uidoc",name:"Open UIDocs",description:"Access Notion's UIDocs in a new tab.",ariaLabel:"Open UIDocs",icon:o(343759).e,tooltip:"Open UIDocs",onClick:()=>window.open("/design"),isForced:!1,isEnabled:!0},{id:"experiments",name:"Open experiments",description:"Open the experiments settings menu.",ariaLabel:"Open experiments",icon:o(403026).X,tooltip:"Open experiments",onClick:()=>g().Ow({currentTab:"experiments",openedFrom:"performance_toolbar"}),isForced:!1,isEnabled:!1},{id:"reset_popups",name:"Reset popups",description:"Reset all popups back to their starting position.",ariaLabel:"Reset popups",icon:d().o,tooltip:"Reset popups",onClick:()=>{He.update((e=>({...e,widgetPopupPosition:H.reduce(((e,t)=>({...e,[t]:void 0})),{})})))},isForced:!1,isEnabled:!1},{id:"copy_ids",name:"Copy IDs",description:"Copies current user_id, space_id, and page_id to clipboard.",ariaLabel:"Copy IDs",icon:a().n,tooltip:"Copy IDs",onClick:()=>we(),isForced:!1,isEnabled:!0},{id:"toggle_theme",name:"Toggle theme mode",description:"Toggle between light and dark theme.",ariaLabel:"Toggle theme mode",icon:o(266695).m,tooltip:"Toggle theme mode",onClick:e=>{o(748001).C5("light"===(null==e?void 0:e.ThemeStore.state.mode)?"dark":"light")},isForced:!1,isEnabled:!0},{id:"debug_selectable_hover",name:"Toggle Selectable debugging",description:"Inspect the hover regions for SelectableHoverMenuOverlay",ariaLabel:"Toggle Selectable debugging",icon:l().i,tooltip:"Toggle Selectable debugging",onClick:e=>{m().M5.setState(!m().M5.state)},isForced:!1,isEnabled:!1},{id:"toggle_db_ux",name:"Toggle new database UI",description:"Toggle between the new and old database UI.",ariaLabel:"Toggle new database UI",icon:s().$,tooltip:"Toggle new database UI",onClick:()=>{const e=r().uS.map((e=>o(836331).default.checkGate({gateName:e}))).every(Boolean)?"false":"true";r().uS.forEach((t=>{h().A.updateLocalOverrideGate(t,e)}))},isForced:!1,isEnabled:!1},{id:"toggle_content_reskin",name:"Toggle Content Reskin",description:"Toggles new block margins in the editor",ariaLabel:"Toggle Content Reskin",icon:p,tooltip:"Toggle Content Reskin",onClick:e=>{const t=h().A.checkGate("content_reskin_v2");h().A.updateLocalOverrideGate("content_reskin_v2",t?"false":"true")},isForced:!1,isEnabled:!0}],Ne=Le.reduce(((e,t)=>({...e,[t.id]:t})),{});function We(e){return Ne[e]}function De(e){let{id:t,name:o,description:n,isForced:i,isEnabled:r,shortName:a,icon:s,formatValue:l,valueType:d,subMetrics:u}=e;return{id:t,name:o,description:n,isForced:i,isEnabled:r,render:e=>(0,c.jsx)(ue,{...e,id:t,name:o,description:n,icon:s,shortName:a,formatValue:l,valueType:d,subMetrics:u})}}const ze=new(o(380123).R)({key:"performanceToolbar",namespace:o(146325).Bq,important:!0,trackingType:"necessary"}),Fe=[...H],Ae=["pin","settings","uidoc","experiments","reset_popups","copy_ids","toggle_theme","debug_selectable_hover","toggle_db_ux","toggle_content_reskin"];class $e extends n().default{getInitialState(){return{isPerformanceToolbarPinned:!1,isMouseNearPerformanceToolbar:!1,isPerformanceToolbarMounted:!1,widgetPopupVisibility:Fe.reduce(((e,t)=>({...e,[t]:"not_showing"})),{}),widgetPopupPosition:Fe.reduce(((e,t)=>({...e,[t]:void 0})),{}),widgetPopupStack:Fe,orderedWidgets:Fe,enabledWidgets:Fe.filter((e=>Be(e).isEnabled)),orderedShortcuts:Ae,enabledShortcuts:Ae.filter((e=>We(e).isEnabled))}}constructor(){super();const e=ze.getState();if(e){const t=this.getInitialState(),o=Fe.filter((e=>Be(e).isForced)),n=Ae.filter((e=>We(e).isForced));super.setState({isPerformanceToolbarPinned:e.isPerformanceToolbarPinned??t.isPerformanceToolbarPinned,isMouseNearPerformanceToolbar:t.isMouseNearPerformanceToolbar,isPerformanceToolbarMounted:t.isPerformanceToolbarMounted,widgetPopupVisibility:Se(t.widgetPopupVisibility,e.widgetPopupVisibility,Fe),widgetPopupPosition:Se(t.widgetPopupPosition,e.widgetPopupPosition,Fe),widgetPopupStack:ye(t.widgetPopupStack,e.widgetPopupStack,Fe),orderedWidgets:ye(t.orderedWidgets,e.orderedWidgets,Fe),enabledWidgets:ye(o,e.enabledWidgets,Fe),orderedShortcuts:ye(t.orderedShortcuts,e.orderedShortcuts,Ae),enabledShortcuts:ye(n,e.enabledShortcuts,Ae)})}}setState(e){super.setState(e),ze.setState(e)}reset(){const e=this.getInitialState();this.update((t=>({...e,isPerformanceToolbarPinned:t.isPerformanceToolbarPinned,isPerformanceToolbarMounted:t.isPerformanceToolbarMounted})))}}const He=new $e;var Oe=()=>o(109007),Ze=()=>o(571930),Ke=()=>o(965990),Ue=()=>o(330358);function Ye(){const e=(0,N().v3)();return(0,W().K8)((()=>be(e,e.RouterStore.state,He.state)),[e])}function Ge(e){const t=(0,N().v3)(),o=(0,W().K8)((()=>He.state.isPerformanceToolbarPinned),[]),{id:n,isFirst:r,overlayContainerStore:a}=e,{ariaLabel:s,icon:l,onClick:d,tooltip:u}=(0,i.useMemo)((()=>We(n)),[n]),p="pin"===n?l(o):l,g=(0,v().IS)((e=>({shortcutContainer:{border:`2px solid ${e.regularDividerColor}`,borderRadius:"50%",cursor:"pointer",padding:4,backgroundColor:e.surface.wash,...r?{}:{marginLeft:6}},shortcutIcon:{fill:e.text.secondary,height:12,width:12}})),[r]);return(0,c.jsx)(oe,{overlayContainerStore:a,text:u,render:(e,o)=>(0,c.jsx)("div",{onClick:()=>d(t),style:g.shortcutContainer,role:"button","aria-label":s,...e,children:p(g.shortcutIcon)})})}function Xe(e){const{overlayContainerStore:t}=e,{orderedShortcuts:o,enabledShortcuts:n}=(0,W().K8)((()=>({orderedShortcuts:He.state.orderedShortcuts,enabledShortcuts:He.state.enabledShortcuts})),[]),i=(0,v().IS)((()=>({shortcutsContainer:{alignItems:"center",display:"flex",justifyContent:"space-evenly",marginLeft:6,marginRight:6}})),[]);return(0,c.jsx)("div",{style:i.shortcutsContainer,children:o.filter((e=>n.includes(e))).map((e=>(0,c.jsx)(Ge,{id:e,overlayContainerStore:t},e)))})}var Je=()=>o(96297);function qe(e,t){return e.getBoundingClientRect().left-t.getBoundingClientRect().left}o(113085);var Qe=()=>o(137476);function et(e,t){let{id:n,carouselRef:r,popupOverlayStore:a,render:s}=e;const l=(0,N().v3)(),d=(0,i.useRef)(null),u=(0,_().A)(d,t),[p,g]=(0,i.useState)(void 0),m=function(e,t){const[o,n]=(0,i.useState)(void 0),r=null==t?void 0:t.current,a=null==e?void 0:e.current,s=(0,i.useCallback)((()=>{if(!a)return;const e=a.getBoundingClientRect();e.x+=e.width/2,e.width=0,e.height=0,n(e)}),[a]);return(0,i.useEffect)((()=>(s(),window.addEventListener("resize",s),null==r||r.addEventListener("scroll",s),()=>{n(void 0),window.removeEventListener("resize",s),null==r||r.removeEventListener("scroll",s)})),[s,r,a]),o}(d,r),h=function(e,t){const[o,n]=(0,i.useState)(!1),r=null==t?void 0:t.current,a=null==e?void 0:e.current;return(0,i.useEffect)((()=>{if(!a||!r)return;const e=new IntersectionObserver((e=>n(e.some((e=>e.isIntersecting)))),{root:r,rootMargin:"0px",threshold:.1});return e.observe(a),()=>e.disconnect()}),[a,r]),o}(d,r),v=(0,W().K8)((()=>function(e){return He.state.widgetPopupStack.indexOf(e)}(n)),[n]),f=(0,W().K8)((()=>He.state.widgetPopupPosition[n]),[n]),b=(0,W().K8)((()=>function(e){return He.state.widgetPopupVisibility[e]}(n)),[n]);let x;x=p?"dragging":h?b:"not_showing";const y=f??m,S=p??y,w=(0,i.useRef)(void 0),C=(0,i.useCallback)((()=>{"not_showing"===b&&(w.current&&clearTimeout(w.current),w.current=setTimeout((()=>{Ve(n),Ie(n,"hovered"),w.current=void 0}),50))}),[b,n]),k=(0,i.useCallback)((()=>{w.current&&(clearTimeout(w.current),w.current=void 0),"hovered"===b&&Ie(n,"not_showing")}),[b,n]),j=(0,i.useCallback)((()=>{"pinned"===b?((0,Qe().u4)({environment:l,event:{eventName:"performance_toolbar_widget_unpinned",eventProperties:{widget_id:n}}}),Ie(n,"not_showing")):((0,Qe().u4)({environment:l,event:{eventName:"performance_toolbar_widget_pinned",eventProperties:{widget_id:n}}}),Ve(n),Ie(n,"pinned"))}),[l,b,n]),T=(0,i.useCallback)((()=>{Ve(n)}),[n]),M=(0,i.useCallback)((()=>{Ie(n,"not_showing")}),[n]);(0,i.useEffect)((()=>("dragging"===x?(document.body.style.cursor="grabbing",document.body.style.userSelect="none"):(document.body.style.cursor="default",document.body.style.userSelect="auto"),()=>{document.body.style.cursor="default",document.body.style.userSelect="auto"})),[x]);const I=(0,i.useCallback)((e=>{Ve(n);const t=ot(y,e);g(t)}),[g,y,n]),P=(0,i.useCallback)((e=>{const t=ot(y,e);g(t)}),[g,y]),V=(0,i.useCallback)((e=>{g(void 0);const t=ot(y,e);t&&Pe(n,t)}),[g,n,y]),R=(0,i.useCallback)((()=>{g(void 0)}),[g]);return(0,i.useEffect)((()=>{let e;return"not_showing"===x&&(e=setTimeout((()=>Pe(n,void 0)),250)),()=>{e&&clearTimeout(e)}}),[n,x]),(0,i.useEffect)((()=>{(0,Qe().u4)({environment:l,event:{eventName:"performance_toolbar_widget_rendered",eventProperties:{widget_id:n}}})}),[l,n]),(0,c.jsx)(o(928567).A,{forceTouch:!0,allowDragWhileTextEditing:!0,disableHorizontalEdgeScroll:!0,disableVerticalEdgeScroll:!0,onDraggableDragStart:I,onDraggableDragMove:P,onDraggableDragEnd:V,onDraggableDragCancel:R,render:e=>s({ref:u,popupOverlayStore:a,popupState:x,popupZIndex:v,popupPosition:S,onPeekButton:C,onUnpeekButton:k,onActivateButton:j,onFrontPopup:T,onClosePopup:M,onDragPopupEvents:e})})}const tt=i.forwardRef(et);function ot(e,t){return e?{x:e.x+t.diffX,y:e.y+t.diffY}:void 0}function nt(e){const{overlayContainerStore:t}=e,{orderedWidgets:o,enabledWidgets:n}=(0,W().K8)((()=>({orderedWidgets:He.state.orderedWidgets,enabledWidgets:He.state.enabledWidgets})),[]),{carouselRef:r,setWidgetRef:a,canScrollLeft:s,canScrollRight:l,handleScrollLeft:d,handleScrollRight:u}=function(e){const[t,o]=(0,i.useState)(!1),[n,r]=(0,i.useState)(!1),a=(0,N().v3)(),s=(0,i.useRef)(null),l=(0,i.useRef)([]),d=(0,i.useCallback)(((e,t)=>{l.current[e]=t}),[]);(0,i.useEffect)((()=>{l.current=l.current.slice(0,e)}),[e]);const c=()=>{const e=s.current;if(!e)return;const t=e.getBoundingClientRect(),n=e.scrollLeft,i=e.scrollWidth-t.width-n;o(n>=2),r(i>=2)};(0,i.useEffect)((()=>(c(),window.addEventListener("resize",c),()=>window.removeEventListener("resize",c))),[]),(0,i.useEffect)((()=>{const e=s.current;if(e)return e.addEventListener("scroll",c),()=>e.removeEventListener("scroll",c)}),[]),(0,i.useEffect)((()=>{const e=s.current;if(!e)return;const t=new ResizeObserver((()=>{c()}));return Array.from(e.children).forEach((e=>{t.observe(e)})),()=>t.disconnect()}),[]);const{enabledWidgets:u,enabledShortcuts:p}=(0,W().K8)((()=>({enabledWidgets:He.state.enabledWidgets,enabledShortcuts:He.state.enabledShortcuts})),[]);return(0,i.useEffect)((()=>{Re.length>=u.length&&c()}),[u]),(0,i.useEffect)((()=>{Le.length>=p.length&&c()}),[p]),{carouselRef:s,widgetRefs:l,setWidgetRef:d,canScrollLeft:t,canScrollRight:n,handleScrollLeft:()=>{const e=s.current;if(!e)return;const t=e.getBoundingClientRect(),o=l.current;for(const n of o.sort(qe).reverse()){const o=n.getBoundingClientRect();if(o.left<t.left){const n=o.left-t.left-k().ls;Je().HN({element:e,environment:a,options:{left:n,behavior:"smooth"}});break}}},handleScrollRight:()=>{const e=s.current;if(!e)return;const t=e.getBoundingClientRect(),o=l.current;for(const n of o.sort(qe)){const o=n.getBoundingClientRect();if(o.right>t.right){const n=o.right-t.right+(k().ls-1);Je().HN({element:e,environment:a,options:{left:n,behavior:"smooth"}});break}}}}}(n.length),p=(0,v().IS)((e=>({toolbar:{alignItems:"center",display:"flex",flexWrap:"nowrap",height:"100%",overflow:"hidden",position:"relative"},toolbarContent:{alignItems:"center",display:"flex",flexWrap:"nowrap",height:"100%",overflow:"hidden",position:"relative",scrollBehavior:"smooth"},toolbarButton:{backgroundColor:e.surface.wash,border:"none",color:e.text.secondary,cursor:"pointer",height:"100%",position:"absolute",top:"50%",transform:"translateY(-50%)",width:k().ls,zIndex:"1"},toolbarButtonLeft:{borderRight:`1px solid ${e.regularDividerColor}`,left:0},toolbarButtonRight:{borderLeft:`1px solid ${e.regularDividerColor}`,borderRight:`1px solid ${e.regularDividerColor}`,right:0}})),[]);return(0,c.jsxs)("div",{style:p.toolbar,children:[s&&(0,c.jsx)("button",{"aria-label":"Scroll the performance toolbar left",role:"button",style:{...p.toolbarButton,...p.toolbarButtonLeft},onClick:d,children:"â€¹"}),(0,c.jsx)("div",{style:p.toolbarContent,ref:r,children:o.filter((e=>n.includes(e))).map(((e,o)=>{const n=Be(e);return(0,c.jsx)(tt,{ref:e=>a(o,e),id:e,index:o,carouselRef:r,popupOverlayStore:t,render:n.render},e)}))}),l&&(0,c.jsx)("button",{"aria-label":"Scroll the performance toolbar right",onClick:u,role:"button",style:{...p.toolbarButton,...p.toolbarButtonRight},children:"â€º"})]})}function it(e){const t=(0,W().uB)(void 0,Ze().A);(0,i.useEffect)((()=>(Ce(!0),()=>{Ce(!1)})),[]);const o=Ye(),n=function(){const e=(0,W().K8)((()=>Ue().A.state.open),[]),t=(0,W().K8)((()=>Ke().default.state.open),[]);return e||t}()?k().K5:k().RH,r=(0,v().IS)((e=>({toolbarWrapper:{backgroundColor:e.surface.wash,borderTop:`1px solid ${e.regularDividerColor}`,bottom:0,display:"flex",flexWrap:"nowrap",height:k().ls,justifyContent:"space-between",overflow:"hidden",position:"absolute",width:"100%",zIndex:n}})),[n]);return o?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{style:r.toolbarWrapper,children:[(0,c.jsx)(nt,{overlayContainerStore:t}),(0,c.jsx)(Xe,{overlayContainerStore:t})]}),(0,c.jsx)(Oe().A,{overlayContainerStore:t,zIndex:n+1})]}):null}var rt=()=>o(126451),at=()=>o(884373),st=()=>o(97787),lt=()=>o(431551),dt=()=>o(35462),ct=()=>o(629457),ut=()=>o(207762),pt=function(e){return e.Shortcuts="Shortcuts",e.Widgets="Widgets",e}(pt||{});const gt={[pt.Widgets]:(0,c.jsx)(ne().sA,{id:"performanceToolbarSettings.widgets.title",defaultMessage:"Widgets"}),[pt.Shortcuts]:(0,c.jsx)(ne().sA,{id:"performanceToolbarSettings.shortcuts.title",defaultMessage:"Shortcuts"})};function mt(){const{enabledWidgets:e,orderedWidgets:t,orderedShortcuts:o,enabledShortcuts:n}=(0,W().K8)((()=>{const{enabledWidgets:e,orderedWidgets:t,orderedShortcuts:o,enabledShortcuts:n}=He.state;return{enabledWidgets:e,orderedWidgets:t,orderedShortcuts:o,enabledShortcuts:n}}),[]),r=(0,v().IS)((e=>({header:{marginBottom:8,paddingBottom:4,display:"flex"},description:{display:"flex",alignItems:"flex-start",cursor:"pointer",width:"100%",flexWrap:"wrap",fontSize:12,color:e.text.secondary,marginTop:2,marginBottom:0},descriptionItem:{marginTop:0,marginBottom:4},divider:{marginTop:12},button:{width:60,height:30,borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center",fontSize:12,fontWeight:600,color:e.text.secondary,border:`1px solid ${e.regularDividerColor}`,marginTop:16}})),[]),a=[pt.Widgets,pt.Shortcuts],[s,l]=(0,i.useState)(a[0]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(ct().A,{large:!0,divider:"full",style:r.header,children:(0,c.jsx)(ne().sA,{id:"performanceToolbarSettings.title",defaultMessage:"Performance Toolbar Settings"})}),(0,c.jsxs)("div",{style:r.description,children:[(0,c.jsx)("p",{style:r.descriptionItem,children:k().EG}),(0,c.jsx)("p",{style:r.descriptionItem,children:k().Yi})]}),(0,c.jsx)(ut().Ay,{tabs:a.map((e=>gt[e])),selectedIndex:a.indexOf(s),onChange:e=>l(a[e]),style:{paddingLeft:0,paddingRight:0}}),s===pt.Widgets&&(0,c.jsx)(ht,{enabledList:e,orderedList:t,moveItem:ke,toggleItem:Te,itemGetter:Be}),s===pt.Shortcuts&&(0,c.jsx)(ht,{enabledList:n,orderedList:o,moveItem:je,toggleItem:Me,itemGetter:We}),(0,c.jsx)(at().A,{size:1,style:r.divider}),(0,c.jsx)(rt().A,{style:r.button,onClick:()=>He.reset(),children:(0,c.jsx)(ne().sA,{id:"performanceToolbarSettings.reset",defaultMessage:"Reset"})})]})}function ht(e){const{enabledList:t,orderedList:o,moveItem:n,toggleItem:i,itemGetter:r}=e,a=(0,v().IS)((()=>({container:{width:"100%",marginTop:8}})),[]);return(0,c.jsx)("div",{style:a.container,children:(0,c.jsx)(st().Ay,{direction:"vertical",keys:o,renderKey:e=>(0,c.jsx)(_t,{item:r(e),isOn:t.includes(e),onToggle:()=>i(e)}),onDrop:(e,t)=>{n(t.startPosition,t.endPosition)}})})}function _t(e){const{item:t,isOn:o,onToggle:n}=e,i=(0,v().IS)((e=>({container:{alignItems:"center",display:"flex",flexDirection:"row",justifyContent:"space-between",margin:4,width:"100%"},itemWrapper:{alignItems:"center",display:"flex",flexDirection:"row",justifyContent:"flex-start"},handleIconWrapper:{marginRight:8},handleIcon:{fill:e.mediumIconColor,height:14,width:14},item:{opacity:o?1:.5},title:{color:e.text.primary,fontSize:14,fontWeight:500,marginBottom:0}})),[o]);return(0,c.jsxs)("div",{style:i.container,children:[(0,c.jsxs)("div",{style:i.itemWrapper,children:[(0,c.jsx)("div",{style:i.handleIconWrapper,children:(0,l().i)(i.handleIcon)}),(0,c.jsxs)("div",{style:i.item,children:[(0,c.jsx)("div",{style:i.title,children:t.name}),(0,c.jsx)(dt().A,{isSmall:!0,isMultiline:!0,children:t.description})]})]}),(0,c.jsx)(lt().A,{disabled:t.isForced,on:o,onClick:n})]})}},565208:(e,t,o)=>{o.d(t,{D:()=>i});o(242343);var n=o(163643);const i=(0,o(680369).wt)("globe",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M8,0C3.582,0,0,3.582,0,8s3.582,8,8,8s8-3.582,8-8S12.418,0,8,0z M8,7L7.938,8h-1L7,7H5v2h1l1,1c0.313-0.333,1.021-1,2-1h1 l1,0.229C11.86,9.437,12.513,9.75,13,10v1l-0.938,1.407C10.993,13.393,9.569,14,8,14v-1l-1-1v-1l-2-1C4.018,9.547,3.25,8.938,3,8 L2.785,6c0-0.187,0.435-0.867,0.55-1L3.278,4.307C4.18,3.154,5.494,2.343,7,2.09V3.5L8,4c0.3,0,0.609-0.045,1-0.417 C9.382,3.22,9.719,3,10,3c0.698,0,1,0.208,1,1l-0.5,1h-0.311C9.612,5.279,9.261,5.506,9,6C8.749,6.475,8.475,6.773,8,7z M13,8 c-0.417-0.25-0.771-0.583-1-1V6l0.797-1.593C13.549,5.409,14,6.65,14,8c0,0.165-0.012,0.326-0.025,0.488L13,8z"})})},572088:(e,t,o)=>{o.d(t,{l:()=>i});o(242343);var n=o(163643);const i=(0,o(680369).wt)("keyboard",{viewBox:"0 0 30 30",svg:(0,n.jsxs)("g",{children:[" ",(0,n.jsx)("path",{d:"M15,30l8-10H7Zm0-3.2L11.16,22h7.68Z"})," ",(0,n.jsx)("path",{d:"M6,4H4V6H6V4Zm4,0H8V6h2V4Zm4,0H12V6h2V4Zm4,0H16V6h2V4Zm4,0H20V6h2V4Zm4,0H24V6h2V4ZM10,8H8v2h2V8Zm4,0H12v2h2V8Zm4,0H16v2h2V8Zm4,0H20v2h2V8Zm-2,4H10v2H20V12Zm5,0H22v2h3V12ZM5,14H8V12H5v2ZM0,0V18H30V0H0ZM28,16H2V2H28V16Z"})," "]})})},596232:(e,t,o)=>{o.d(t,{$:()=>i});o(242343);var n=o(163643);const i=(0,o(680369).wt)("database",{viewBox:"0 0 20 20",svg:(0,n.jsx)("path",{d:"M16.25 5v1.25c0 1.381-2.797 2.5-6.25 2.5s-6.25-1.119-6.25-2.5V5c0-1.381 2.797-2.5 6.25-2.5s6.25 1.119 6.25 2.5zM10 14.375c-2.784 0-4.744-.569-5.963-1.378-.187.237-.287.49-.287.753V15c0 1.381 2.797 2.5 6.25 2.5s6.25-1.119 6.25-2.5v-1.25c0-.262-.103-.516-.287-.753-1.22.806-3.179 1.378-5.963 1.378zM10 10c-2.784 0-4.744-.569-5.963-1.378-.187.237-.287.49-.287.753v1.25c0 1.381 2.797 2.5 6.25 2.5s6.25-1.119 6.25-2.5v-1.25c0-.262-.103-.516-.287-.753C14.742 9.428 12.784 10 10 10z"})})},601178:(e,t,o)=>{o.d(t,{EG:()=>a,K5:()=>r,RH:()=>i,Yi:()=>s,ls:()=>n});const n=32,i=202,r=1e3,a="Want to add a metric? Look for 'src/client/performanceToolbar/config.ts' in notion-next.",s="To disable the toolbar entirely, go to the 'Experiments' panel and look for the 'performance_debugging_toolbar' flag."},629457:(e,t,o)=>{o.d(t,{A:()=>i});o(242343);var n=o(163643);const i=function(e){const{divider:t,large:i,block:r,children:a,hasMarginTop:s,small:l,style:d,smallMarginBottom:c,isCritical:u,fontSize:p,fontWeight:g}=e,m=(0,o(174114).DP)(),h="full"===t;return(0,o(640979).Tf)()?(0,n.jsx)(o(701270).D,{styleName:"iOS/Title-3/Semibold",colorName:e.isCritical?"uiRedPrimary":"primary",style:{marginTop:s?16:0,paddingBottom:h?12:0},children:a}):(0,n.jsx)("div",{style:{borderBottom:h?`1px solid ${m.regularDividerColor}`:0,marginBottom:h?16:c?2:8,marginTop:s?16:0,paddingBottom:h?12:0,fontSize:p??h?16:i?14:l?12:14,fontWeight:g??h?o(31448).Wy.medium:400,width:r?"100%":"auto",color:u?o(220413).Ay.red:m.text.primary,...d},children:a})}},668742:(e,t,o)=>{o.d(t,{N:()=>i});o(242343);var n=o(163643);const i=(0,o(680369).wt)("pin",{viewBox:"0 0 13 19",svg:(0,n.jsx)("path",{d:"M1.25 12.875h4.227v3.648c0 1.196.5 2.188.695 2.188.187 0 .687-.992.687-2.188v-3.648h4.227c.703 0 1.148-.438 1.148-1.102 0-1.648-1.32-3.304-3.359-4.109L8.617 4c.992-.648 1.93-1.383 2.328-1.914.211-.266.305-.531.305-.758 0-.476-.367-.828-.914-.828H2.008c-.555 0-.914.352-.914.828 0 .227.093.492.297.758.398.531 1.343 1.266 2.328 1.914L3.46 7.664C1.42 8.47.1 10.125.1 11.774c0 .664.446 1.101 1.149 1.101zm4.922-5.719c-.5 0-.984.047-1.438.14l.235-3.874c.008-.11-.008-.149-.086-.188-1.172-.601-2.078-1.312-2.14-1.468-.063-.102 0-.164.085-.164h6.68c.086 0 .148.062.086.164-.063.156-.969.867-2.14 1.468-.071.04-.095.079-.079.188l.234 3.875a7.177 7.177 0 00-1.437-.14zm-4.61 4.54c-.18 0-.257-.102-.226-.313.172-1.406 1.969-3.086 4.836-3.086 2.86 0 4.656 1.68 4.828 3.086.031.21-.047.312-.227.312h-9.21z"})})},838251:(e,t,o)=>{o.d(t,{w:()=>i});o(242343);var n=o(163643);const i=(0,o(680369).wt)("helpButtonMessage",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M4.74609 15.6934C5.13574 15.6934 5.42285 15.502 5.89453 15.085L8.23926 13.0205H12.3545C14.4121 13.0205 15.5674 11.8311 15.5674 9.80078V4.48926C15.5674 2.45898 14.4121 1.26953 12.3545 1.26953H3.63867C1.58789 1.26953 0.425781 2.45898 0.425781 4.48926V9.80078C0.425781 11.8379 1.62207 13.0205 3.59082 13.0205H3.87109V14.6953C3.87109 15.3037 4.19238 15.6934 4.74609 15.6934ZM5.08789 14.1621V12.2139C5.08789 11.8105 4.91016 11.6533 4.52734 11.6533H3.68652C2.40137 11.6533 1.78613 11.0039 1.78613 9.75977V4.53027C1.78613 3.28613 2.40137 2.63672 3.68652 2.63672H12.3135C13.5918 2.63672 14.207 3.28613 14.207 4.53027V9.75977C14.207 11.0039 13.5918 11.6533 12.3135 11.6533H8.16406C7.74707 11.6533 7.54199 11.7217 7.25488 12.0225L5.08789 14.1621ZM4.70508 8.29004C5.26562 8.29004 5.7168 7.83203 5.7168 7.27148C5.7168 6.71094 5.26562 6.25293 4.70508 6.25293C4.1377 6.25293 3.67969 6.71094 3.67969 7.27148C3.67969 7.83203 4.1377 8.29004 4.70508 8.29004ZM8 8.29004C8.56055 8.29004 9.01855 7.83203 9.01855 7.27148C9.01855 6.71094 8.56055 6.25293 8 6.25293C7.43945 6.25293 6.98145 6.71094 6.98145 7.27148C6.98145 7.83203 7.43945 8.29004 8 8.29004ZM11.3018 8.29004C11.8623 8.29004 12.3203 7.83203 12.3203 7.27148C12.3203 6.71094 11.8623 6.25293 11.3018 6.25293C10.7412 6.25293 10.2832 6.71094 10.2832 7.27148C10.2832 7.83203 10.7412 8.29004 11.3018 8.29004Z"})})},869570:(e,t,o)=>{o.d(t,{X:()=>i});o(242343);var n=o(163643);const i=(0,o(680369).wt)("externalLink",{viewBox:"0 0 17 16",svg:(0,n.jsx)("path",{d:"M4.94922 13.498C4.31641 13.498 3.83789 13.3359 3.51367 13.0117C3.18945 12.6914 3.02734 12.2188 3.02734 11.5938V4.46289C3.02734 3.83398 3.18945 3.35938 3.51367 3.03906C3.83789 2.71875 4.31641 2.55859 4.94922 2.55859H12.0449C12.6777 2.55859 13.1562 2.71875 13.4805 3.03906C13.8047 3.35938 13.9668 3.83398 13.9668 4.46289V11.5938C13.9668 12.2188 13.8047 12.6914 13.4805 13.0117C13.1562 13.3359 12.6777 13.498 12.0449 13.498H4.94922ZM5.01953 12.3438H11.9746C12.2441 12.3438 12.4512 12.2734 12.5957 12.1328C12.7402 11.9922 12.8125 11.7793 12.8125 11.4941V4.55664C12.8125 4.27539 12.7402 4.06445 12.5957 3.92383C12.4512 3.7832 12.2441 3.71289 11.9746 3.71289H5.01953C4.74609 3.71289 4.53711 3.7832 4.39258 3.92383C4.25195 4.06445 4.18164 4.27539 4.18164 4.55664V11.4941C4.18164 11.7793 4.25195 11.9922 4.39258 12.1328C4.53711 12.2734 4.74609 12.3438 5.01953 12.3438ZM10.334 9.54297C10.1855 9.54297 10.0664 9.49609 9.97656 9.40234C9.89062 9.30859 9.84766 9.17969 9.84766 9.01562V8.08398L9.93555 7.24609L9.15039 8.10156L7.09961 10.1465C6.99023 10.2559 6.85742 10.3105 6.70117 10.3105C6.55273 10.3105 6.42969 10.2637 6.33203 10.1699C6.23828 10.0762 6.19141 9.95117 6.19141 9.79492C6.19141 9.6582 6.24609 9.53516 6.35547 9.42578L8.41211 7.36914L9.2793 6.57227L8.47656 6.66602H7.48633C7.32617 6.66602 7.19727 6.62305 7.09961 6.53711C7.00586 6.45117 6.95898 6.33203 6.95898 6.17969C6.95898 6.03516 7.00586 5.91992 7.09961 5.83398C7.19727 5.74414 7.32422 5.69922 7.48047 5.69922H10.2227C10.4062 5.69922 10.5508 5.74609 10.6562 5.83984C10.7617 5.93359 10.8145 6.08398 10.8145 6.29102V9.00977C10.8145 9.16602 10.7695 9.29492 10.6797 9.39648C10.5938 9.49414 10.4785 9.54297 10.334 9.54297Z"})})},907992:(e,t,o)=>{o.d(t,{H:()=>i});o(242343);var n=o(163643);const i=(0,o(680369).wt)("databaseOutline",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M7.98145 15.3584C4.38574 15.3584 2 13.9775 2 12.0088V3.78516C2 1.9873 4.39258 0.763672 7.98145 0.763672C11.5771 0.763672 13.9697 1.9873 13.9697 3.78516V12.0088C13.9697 13.9775 11.584 15.3584 7.98145 15.3584ZM7.98145 5.58301C10.7773 5.58301 12.6709 4.83105 12.6709 3.78516C12.6709 2.69141 10.7842 1.91895 7.98145 1.91895C5.18555 1.91895 3.29883 2.69141 3.29883 3.78516C3.29883 4.83105 5.19238 5.58301 7.98145 5.58301ZM7.98145 6.80664C5.97852 6.80664 4.35156 6.42383 3.29883 5.77441V8.69336C4.42676 9.37695 6.19043 9.81445 7.98145 9.81445C9.7793 9.81445 11.543 9.37695 12.6709 8.69336V5.77441C11.6182 6.42383 9.99121 6.80664 7.98145 6.80664ZM7.98145 11.0449C6.23828 11.0449 4.5293 10.6621 3.29883 10.0332V12.0088C3.29883 13.2051 5.11035 14.1348 7.98145 14.1348C10.8594 14.1348 12.6709 13.2051 12.6709 12.0088V10.0332C11.4404 10.6621 9.73145 11.0449 7.98145 11.0449Z"})})}}]);