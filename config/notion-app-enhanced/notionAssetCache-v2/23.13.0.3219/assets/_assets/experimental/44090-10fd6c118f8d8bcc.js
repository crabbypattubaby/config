"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[44090,90871],{40473:(e,t,n)=>{n.d(t,{A:()=>C});n(403517);var o=n(242343),i=()=>n(16791),r=()=>n(803290),s=()=>n(174114),a=()=>n(81322),l=()=>n(31448),c=()=>n(622163),d=()=>n(967454),u=()=>n(501578),p=()=>n(204024),m=()=>n(126451),f=()=>n(286404),h=()=>n(951540),g=()=>n(35462),v=n(163643);const y=20;function b(e){var t;let{icon:a,iconStyle:u,title:p,subtitle:m,confirmText:b,confirmTextStyle:C="blue",confirmTextPerRadioOption:A,cancelText:T,radioOptions:k,defaultSelectedRadioOption:j,onDismiss:R,onSelectRadio:w,onConfirm:M,width:P,footer:D}=e;const _=(0,n(237385).v3)(),[B,I]=(0,o.useState)(j??(null===(t=k[0])||void 0===t?void 0:t.key)),z=(0,r().uB)(void 0,n(580257).A),E=(0,r().K8)((()=>null==z?void 0:z.state.elementRef),[z]),O=(0,d().CR)(E),U=(0,d().yE)(E),W=(0,d().o7)(E),H=U>0,K=Math.ceil(U+W)<Math.floor(O),V=(0,o.useCallback)((e=>{e!==B&&(I(e),null==w||w(e))}),[w,B]),$=(0,o.useCallback)((()=>{M(B)}),[M,B]),L=(0,s().IS)((e=>{const t={marginLeft:-20,marginRight:-20,height:1,borderTop:`1px solid ${e.regularDividerColor}`,transition:"opacity 200ms"};return{container:{display:"flex",position:"relative",flexDirection:"column",justifyContent:"center",overflow:"hidden",width:`min(${P??400}px, calc(100vw - 40px))`,maxHeight:"80vh",padding:y,borderRadius:6,alignItems:"stretch"},icon:{width:36,height:36,fill:e.icon.secondary,marginBottom:6,...u},iconContainer:{width:"100%",display:"flex",justifyContent:"center"},title:{fontFamily:l().vc(i().locale).sans,fontSize:17,lineHeight:"22px",fontWeight:l().Wy.medium,textAlign:"center",marginBottom:14},subtitle:{fontFamily:l().vc(i().locale).sans,fontSize:(0,c().ny)(_,"UIRegular"),lineHeight:(0,c().ks)(_,"UIRegular"),fontWeight:l().Wy.regular,marginTop:6,marginBottom:6,textAlign:"center"},radioContainer:{display:"flex",flexDirection:"column",gap:8},topDivider:{...t,opacity:H?1:0},bottomDivider:{...t,opacity:K?1:0},scroller:{marginLeft:-20,marginRight:-20,paddingLeft:y,paddingRight:y},actionButtonsContainer:{display:"flex",flexDirection:"column",marginTop:20},cancelButton:{marginTop:8,justifyContent:"center"},dismissButton:{position:"absolute",top:10,right:10,zIndex:1}}}),[_,u,K,H,P]),N=(null==A?void 0:A[B])??b;return(0,v.jsxs)("div",{style:L.container,children:[(0,v.jsx)("div",{style:L.dismissButton,children:(0,v.jsx)(x,{onClick:R})}),a&&(0,v.jsx)("div",{style:L.iconContainer,children:a(L.icon)}),(0,v.jsx)(g().A,{isMultiline:!0,style:L.title,children:p}),m&&(0,v.jsx)(g().A,{isSmall:!0,style:L.subtitle,isMultiline:!0,children:m}),k.length>0&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{style:L.topDivider}),(0,v.jsx)(n(142708).H,{type:n(98508).A.Y,style:L.scroller,store:z,children:(0,v.jsx)("div",{style:L.radioContainer,children:k.map((e=>(0,v.jsx)(S,{radioItem:e,isSelected:e.key===B,onSelectRadio:V},e.key)))})}),(0,v.jsx)("div",{style:L.bottomDivider})]}),(0,v.jsxs)("div",{style:L.actionButtonsContainer,children:["blue"===C?(0,v.jsx)(h().A,{size:"lg",onClick:$,children:N}):"red"===C?(0,v.jsx)(h().A,{size:"lg",onClick:$,isRed:!0,children:N}):(0,v.jsx)(f().A,{size:"lg",onClick:$,children:N}),(0,v.jsx)(f().A,{size:"lg",onClick:R,style:L.cancelButton,children:T??(0,v.jsx)(n(653998).sA,{id:"radioModal.cancel",defaultMessage:"Cancel"})})]}),D]})}function x(e){let{onClick:t}=e;const n=(0,s().IS)((e=>({button:{display:"flex",justifyContent:"center",alignItems:"center",width:24,height:24,borderRadius:"100%",background:e.lightGrayButtonBackground},buttonHovered:{background:e.lightGrayButtonHoveredBackground},buttonPressed:{background:e.lightGrayButtonPressedBackground},closeIcon:{width:16,height:16,fill:e.icon.secondary}})),[]);return(0,v.jsx)(m().A,{style:n.button,hoveredStyle:n.buttonHovered,pressedStyle:n.buttonPressed,onClick:t,children:(0,a().V)(n.closeIcon)})}function S(e){let{radioItem:t,isSelected:n,onSelectRadio:o}=e;const i=(0,s().IS)((e=>({button:{display:"flex",justifyContent:"space-between",gap:10,height:"auto",minHeight:70,borderRadius:8,paddingTop:12,paddingBottom:12,paddingLeft:14,paddingRight:14-p().p,border:void 0,boxShadow:n?`inset 0 0 0 1px ${e.icon.uiBluePrimary}`:`inset 0 0 0 1px ${e.stroke.primary}`},buttonText:{display:"flex",flexDirection:"column",gap:2,...l().RC},optionTitle:{fontWeight:l().Wy.medium},optionSubtitle:{whiteSpace:"break-spaces"}})),[n]);return(0,v.jsxs)(f().A,{size:"lg",onClick:()=>o(t.key),style:i.button,children:[(0,v.jsxs)("div",{style:i.buttonText,children:[(0,v.jsx)(g().A,{style:i.optionTitle,children:(0,v.jsx)(u().j,{children:t.title})}),t.subtitle&&(0,v.jsx)(g().A,{isSmall:!0,isMultiline:!0,style:i.optionSubtitle,children:t.subtitle})]}),(0,v.jsx)(p().A,{isSelected:n})]})}const C=o.memo(b)},44250:(e,t,n)=>{function o(e){return!(!e||"askUserToPick"in e)}function i(e){if(!e||!("askUserToPick"in e))return e}function r(e){return!(!e||!("askUserToPick"in e))&&e.askUserToPick}n.d(t,{DK:()=>i,K$:()=>o,j6:()=>r})},354111:(e,t,n)=>{n.d(t,{A:()=>i});class o extends(()=>n(129044))().default{getInitialState(){return{isOpen:!1,blockStore:void 0}}}const i=new o},501578:(e,t,n)=>{n.d(t,{j:()=>d});var o=n(242343),i=()=>n(237385),r=()=>n(174114),s=()=>n(31448),a=()=>n(103151);var l=()=>n(907721),c=n(163643);function d(e){let{children:t,style:n,tooltipStyle:d,placement:u=l().W.Bottom}=e;const{isSafari:p}=(0,i().Y0)(),m=(0,o.useRef)(null),f=function(e){const[t,n]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{const{current:t}=e;if(!t)return void n(!1);const o="ResizeObserver"in window?new ResizeObserver((e=>{let[t]=e;n(t.target.scrollWidth>t.target.clientWidth)})):void 0;return null==o||o.observe(t),()=>null==o?void 0:o.unobserve(t)}),[]),t}(m),h=(0,r().IS)((()=>({overflowText:{...s().RC,...n}})),[n]);return(0,c.jsx)(a().A,{delayThreshold:500,placement:u,textWrap:!0,style:d,forceVisibleState:!(p||!f)&&void 0,renderTooltip:()=>f?t:void 0,render:e=>(0,c.jsx)("div",{ref:m,style:h.overflowText,...e,children:t})})}},533639:(e,t,n)=>{n.d(t,{p:()=>o});class o extends(()=>n(998969))().p3{constructor(e,t){super(e,t)}after(e,t){return super.after(e,t)}}},580349:(e,t,n)=>{var o=n(74181),i=n(198983),r=n(150590),s=n(465806),a=Array;o({target:"Array",proto:!0},{toReversed:function(){return i(r(this),a)}}),s("toReversed")},691859:(e,t,n)=>{n.d(t,{Ay:()=>i().A,yQ:()=>s});var o=()=>n(129978),i=()=>n(40473);const r=new(o().O2)("radioModalRenderer",(()=>n.e(35818).then(n.bind(n,640320)))),s=(0,o()._h)(r,(e=>e.default))},733968:(e,t,n)=>{n.d(t,{o:()=>i,s:()=>r});n(725707),n(324989);var o=()=>n(34662);function i(e){return!e.isTransclusionType()&&!e.isCollectionView()&&!e.hasContent()&&e.isEmptyTitle()}function r(e){const t=(0,o().tyK)(e.getTitleValue()),n=e.getContentStores().flatMap((e=>(0,o().tyK)(e.getTitleValue())));return t.length>0||n&&n.length>0}},747138:(e,t,n)=>{n.d(t,{A:()=>i});class o extends(()=>n(129044))().default{getInitialState(){return{isOpen:!1}}}const i=new o},830491:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(242343),i=()=>n(653998),r=n(163643);function s(e){const t=(0,n(803290).K8)((()=>{const t=e.postStore?(0,n(378219).Uo)(e.postStore):void 0;return t?null==t?void 0:t.getRawMembership().length:0}),[e.postStore]);return(0,r.jsx)(n(922172).a,{open:e.isOpen,onDismiss:e.onDismiss,render:()=>(0,r.jsx)(n(691859).Ay,{icon:n(911183).q,title:(0,r.jsx)(i().sA,{id:"posts.confirmMentionEveryoneModal.title",defaultMessage:"Notify {sizeOfTeam} people?",values:{sizeOfTeam:t}}),subtitle:(0,r.jsx)(i().sA,{id:"posts.confirmMentionEveryoneModal.subtitle",defaultMessage:"Using @everyone notifies everyone in the teamspace. Are you sure you want to send this?"}),confirmText:(0,r.jsx)(i().sA,{id:"posts.confirmMentionEveryoneModal.confirmText",defaultMessage:"Send"}),cancelText:(0,r.jsx)(i().sA,{id:"posts.confirmMentionEveryoneModal.cancelText",defaultMessage:"Edit message"}),confirmTextStyle:"red",radioOptions:[],onDismiss:e.onDismiss,onConfirm:e.onConfirm})})}const a=o.memo(s)},911183:(e,t,n)=>{n.d(t,{q:()=>i});n(242343);var o=n(163643);const i=(0,n(680369).wt)("megaphone",{viewBox:"0 0 64 64",svg:(0,o.jsx)("path",{d:"m54,10v40h-4l-20-10h-4l4,16h-10l-4-16c-4.94,0-8-3.06-8-8v-4c0-4.94,3.06-8,8-8h14l20-10h4Z"})})},931573:(e,t,n)=>{n.d(t,{Nm:()=>T,TM:()=>S,tt:()=>C});n(610931),n(362833),n(580349),n(725707),n(403517),n(113085);var o=()=>n(582226),i=()=>n(673447),r=()=>n(486540),s=()=>n(446588),a=()=>n(528762),l=()=>n(809226),c=()=>n(927999),d=()=>n(551102),u=()=>n(795394),p=()=>n(759625),m=()=>n(84543),f=()=>n(425447),h=()=>n(137476),g=()=>n(782422),v=()=>n(485966),y=()=>n(413871),b=()=>n(733968),x=()=>n(354111);function S(e){const{environment:t,collectionStore:n,publishingEnabled:o,transaction:i}=e;m().createAndCommitOrAppend({environment:t,perform:e=>{c().zA({stores:[n],update:{publishing_enabled:o},transaction:e})},userAction:"Posts.setPublishingEnabled",canUndo:!0,transaction:i})}function C(e){const{environment:t,draftPostStore:n,onSubmitPost:s,from:d}=e,p=t.currentUser.id;n&&p&&(n.isPublishedDraft()||(!function(e){const{environment:t,postStore:n}=e;m().createAndCommit({environment:t,perform:e=>(n.getContentStores().toReversed().some((t=>{if(!(0,b().o)(t))return!0;u().zz({childStore:t,parentStore:n,transaction:e})})),n),userAction:"PostChannel.trimPostDraft",canUndo:!1})}({environment:t,postStore:n}),function(e){const{environment:t,blockToDuplicateStore:n,userId:s}=e;if(!n.isDefined())return;const l=(0,i().Yn)(n.getParentPointer(),n.getRecordModel),d=(0,r().wD)(l).map((e=>({...e,role:A(e.role,"comment_only")})));d.push({type:"restricted_permission"}),d.push({type:"user_permission",user_id:s,role:"editor"}),m().createAndCommit({environment:t,perform:e=>{const{blockStores:[i],onComplete:r}=f().duplicateBlock({environment:t,stores:[n],transaction:e,targetSpaceId:n.getSpaceId(),preferDuplicateLocation:"local",options:{addCopyName:!1,deepCopyTransclusionContainers:!0,resolveTemplateVariables:!1,createActivities:!0}});m().applyOperation({store:i,operation:o().op.update({pointer:i.pointer,path:[],args:{alive:!0,permissions:d,created_time:Date.now(),last_edited_time:Date.now()}}),transaction:e});const s=n.getParentStore();if(!s||"collection"!==s.table)throw new Error("Expected parent store to be a collection");return m().applyOperation({store:i,operation:{pointer:i.pointer,path:[],command:"setParent",args:{parentId:s.id,parentTable:s.table}},transaction:e}),c().zA({stores:[i],update:{draft_status:"published"},transaction:e}),m().applyOperation({store:n,operation:o().op.update({pointer:n.pointer,path:[],args:{alive:!1}}),transaction:e}),e.postSubmitCallbacks.push((()=>r.then((()=>m().createAndCommit({environment:t,perform:e=>(c().zA({stores:[i],update:{draft_status:"published"},transaction:e}),u().s8({blockStore:n,transaction:e}),m().applyOperation({store:n,operation:o().op.update({pointer:n.pointer,path:[],args:{parent_id:n.getSpaceId(),parent_table:a().NX,permissions:[{type:"restricted_permission"}]}}),transaction:e}),n),userAction:"PostChannel.cleanupDraft",canUndo:!1}))))),i},userAction:"PostChannel.publishDraft",canUndo:!1}).performResult}({environment:t,blockToDuplicateStore:n,userId:p}),null==s||s(),x().A.setState({isOpen:!1}),(0,h().u4)({environment:t,event:{eventName:"post_created",eventProperties:{block_id:n.id,parent_collection_id:n.getParentId(),from:d}}}),l().u4({name:"post_created"})))}function A(e,t){if(!e)return e;const n="string"==typeof e&&e in s().TE?s().TE[e]:void 0;if(!n)return e;return n>s().TE[t]?t:e}function T(e){var t,n;const{environment:o,collectionStore:i}=e,r=null===(t=(0,g()._m)(o))||void 0===t?void 0:t.id,s=null===(n=v().default.state.currentSpaceStore)||void 0===n?void 0:n.id;if(!r||!s||!i)return;return m().createAndCommit({environment:o,perform:e=>{null!=i&&i.isPublishingEnabled()||S({environment:o,collectionStore:i,publishingEnabled:!0,transaction:e});const t=p().Wv({environment:o,transaction:e,type:"page",inMemoryRecordCache:o.defaultRecordCache.inMemoryRecordCache});u().X$({childStore:t,parentStore:i,transaction:e});const n=p().Wv({environment:o,transaction:e,type:"text",inMemoryRecordCache:o.defaultRecordCache.inMemoryRecordCache}),r=y().Bv.createChildStore(t,n.pointer);return p().zv({store:r,transaction:e,data:{alive:!0,parent_id:t.id,parent_table:t.table}}),d().BC({parentStore:t.getContentStore(),appendStore:r,transaction:e}),t},userAction:"PostChannel.createEmptyPostStore",canUndo:!1}).performResult}},994488:(e,t,n)=>{n.d(t,{o:()=>o});n(362833),n(403517);function o(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(0===n.length)return e.map((e=>[e]));const r=[];for(const s of e)r.push(...o(n[0],...n.slice(1)).map((e=>[s,...e])));return r}}}]);