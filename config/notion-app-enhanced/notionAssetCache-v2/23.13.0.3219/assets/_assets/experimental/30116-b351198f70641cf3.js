"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[30116],{155342:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>n,questionMarkCircleIcon:()=>r});o(242343);var i=o(163643);const n={viewBox:"0 0 20 20",svg:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M9.978 7.154c-.804 0-1.333.456-1.438.874a.625.625 0 0 1-1.213-.303c.28-1.121 1.44-1.82 2.65-1.82 1.365 0 2.714.905 2.714 2.298 0 .812-.49 1.477-1.13 1.872l-.755.516a.84.84 0 0 0-.381.677.625.625 0 1 1-1.25 0c0-.688.36-1.318.921-1.706l.003-.002.784-.535.014-.008c.374-.228.544-.537.544-.814 0-.459-.517-1.049-1.463-1.049m.662 6.336a.8.8 0 1 1-1.6 0 .8.8 0 0 1 1.6 0"}),(0,i.jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 15.25 0 7.625 7.625 0 0 1-15.25 0M10 3.625a6.375 6.375 0 1 0 0 12.75 6.375 6.375 0 0 0 0-12.75"})]})},r=(0,o(680369).wt)("questionMarkCircle",n)},436105:(e,t,o)=>{o.d(t,{q:()=>n});o(242343);var i=o(163643);const n=(0,o(680369).wt)("resolve",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M6.6123 14.2646C7.07715 14.2646 7.43945 14.0869 7.68555 13.7109L14.0566 3.96973C14.2344 3.69629 14.3096 3.44336 14.3096 3.2041C14.3096 2.56152 13.8311 2.09668 13.1748 2.09668C12.7236 2.09668 12.4434 2.26074 12.1699 2.69141L6.57812 11.5098L3.74121 7.98926C3.48828 7.68848 3.21484 7.55176 2.83203 7.55176C2.16895 7.55176 1.69043 8.02344 1.69043 8.66602C1.69043 8.95312 1.7793 9.20605 2.02539 9.48633L5.55273 13.7588C5.84668 14.1074 6.1748 14.2646 6.6123 14.2646Z"})})},466754:(e,t,o)=>{o.d(t,{tx:()=>X,ZR:()=>ee,Of:()=>Q,Ay:()=>te,uJ:()=>Z});o(725707),o(491955),o(403517),o(113085);var i=o(242343),n=()=>o(237385),r=()=>o(803290),a=()=>o(174114),s=()=>o(829090),l=()=>o(16740),d=()=>o(680369),c=o(163643);const u={viewBox:"0 0 16 16",svg:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("path",{d:"M8 1.875a6.125 6.125 0 1 0 .918 12.182l.091-.014-.032-.087a4 4 0 0 1-.233-1.056l-.006-.08-.08.01q-.323.045-.658.045a4.875 4.875 0 1 1 4.83-4.216l-.01.079.08.006q.555.044 1.056.233l.087.032.014-.092q.068-.449.068-.917A6.125 6.125 0 0 0 8 1.875"}),(0,c.jsx)("path",{d:"M5.892 6.025c-.444 0-.779.413-.779.891s.335.891.78.891c.443 0 .778-.413.778-.891s-.335-.891-.779-.891m4.216 0c-.444 0-.779.413-.779.891s.335.891.779.891.779-.413.779-.891-.335-.891-.779-.891M6.499 9.323a.575.575 0 0 0-.954.642A2.96 2.96 0 0 0 9.008 11.1l.03-.011.013-.03a3.9 3.9 0 0 1 1.374-1.658l.066-.045-.048-.063a.576.576 0 0 0-.933.03 1.82 1.82 0 0 1-1.506.802A1.81 1.81 0 0 1 6.5 9.323m6.1.202a3.075 3.075 0 1 0 0 6.15 3.075 3.075 0 0 0 0-6.15m-.425 1.409a.425.425 0 1 1 .85 0v1.241h1.242a.425.425 0 1 1 0 .85h-1.242v1.242a.425.425 0 0 1-.85 0v-1.242h-1.242a.425.425 0 0 1 0-.85h1.242z"})]})},m=(0,d().wt)("emojiFacePlusSmall",u);var h=()=>o(436105),p=()=>o(653998),g=()=>o(220413),x=()=>o(76394),f=()=>o(31448),v=()=>o(90290),S=()=>o(791497),j=()=>o(84543),y=()=>o(615917),b=()=>o(126451),C=()=>o(356813),A=()=>o(103151),w=()=>o(479813),T=()=>o(988189),R=()=>o(754421),k=()=>o(723817),I=()=>o(907721),B=()=>o(413871),L=()=>o(953422),M=()=>o(289816),E=()=>o(273520),z=()=>o(935091),N=()=>o(932322),D=()=>o(207762),U=()=>o(441165),P=()=>o(640979),W=()=>o(25058),K=()=>o(416956);function _(e){let{reactionStores:t,initialIndex:o}=e;const[a,l]=i.useState(o),d=(0,p().tz)(),u=(0,n().v3)(),m=(0,r().K8)((()=>(0,U().FN)(u)),[u]),h=(0,r().K8)((()=>t.map(((e,t)=>{const o=e.getIcon();if(!o)return;const i="raw"!==m||s().qg.isCustomEmojiString(o);return(0,c.jsx)("span",{style:i&&t!==a?{opacity:.5}:{},children:(0,c.jsx)(w().A,{size:14,char:o})},o)})).filter(x().O9)),[t,a,m]),g=(0,r().K8)((()=>t[a].getActorStores().map((e=>({id:e.id,store:e,name:e.getDisplayName(d)}))).filter(x().O9)),[t,a,d]);return(0,c.jsxs)(z().A,{menuType:P().gu.ActionSheet,children:[(0,c.jsx)(D().Ay,{tabStyle:{flex:1,justifyContent:"center",display:"flex",minWidth:60},tabs:h,selectedIndex:a,onChange:e=>l(e)}),g.map((e=>(0,c.jsx)(N().Ay,{title:e.name,dontShrinkIcon:!0,icon:(0,c.jsx)(K().E,{authorStore:e.store,avatarSize:20,avatarStyle:{width:20,height:20},placeholderStyle:{width:20,height:20}})},e.id)))]})}function F(e){const t=(0,n().Y0)(),o=(0,r().K8)((()=>B().Lk.getUserVisibleReactions(e.store)),[e.store]),a=(0,i.useRef)(null),s=(0,W().A)({onLongPress:()=>{var e;return null===(e=a.current)||void 0===e?void 0:e.setOpen(!0)}});if(!t.isMobile)return(0,c.jsx)(c.Fragment,{children:e.children});const l=o.findIndex((t=>!e.reactionStore||t===e.reactionStore))??0;return(0,c.jsx)(E().Ay,{bottomSheetBackgroundColor:"elevated",ref:a,renderOrigin:()=>(0,c.jsx)("div",{...s,onTouchStart:e=>{e.stopPropagation(),s.onTouchStart()},onTouchMove:e=>{e.stopPropagation(),s.onTouchMove(e)},onTouchEnd:e=>{e.stopPropagation(),s.onTouchEnd()},onTouchCancel:e=>{e.stopPropagation(),s.onTouchCancel()},children:e.children}),bottomSheetInitialState:"half",popupType:t.isTablet?E().z7.Popup:E().z7.BottomSheet,render:()=>(0,c.jsx)(_,{initialIndex:l,reactionStores:o})},e.store.id)}const O=(0,p().YK)({addReaction:{defaultMessage:"Add reaction",id:"ReactionBar.newReaction.ariaLabel"},resolveDiscussion:{defaultMessage:"Resolve",id:"ReactionBar.resolveDiscussion.ariaLabel"},emojiPickerTitle:{defaultMessage:"Reaction",id:"ReactionBar.emojiModalMenu.title"}});function $(){const{isMobile:e}=(0,n().Y0)();return(0,a().IS)((t=>({reaction:{...Q,display:"flex",padding:"1px 6px 1px 6px",justifyContent:"center",alignItems:"center",gap:"4px",border:`1px solid ${t.regularDividerColor}`,borderRadius:"100px",fontSize:14,fontVariantNumeric:"tabular-nums",background:t.whiteButtonBackground,...e?ee:{}},count:{color:t.text.secondary,fontSize:e?f().J.UISmall.mobile:f().J.UISmall.desktop},countReacted:{color:t.blueColor},reacted:{background:g().Ay.blueWithAlpha(.08),border:`1px solid ${t.filterPillBorder}`,fontWeight:500},reactedHover:{background:g().Ay.blueWithAlpha(.18)},emojiStyle:{color:"black",display:"flex"},reactionIcon:{width:d().Ev.sm,height:d().Ev.sm,fill:t.icon.secondary,marginRight:1},dropShadow:{boxShadow:t.shadowSM}})),[e])}function H(e){const{store:t,disabled:o,onClick:i,size:a,dropShadow:s}=e,l=(0,r().K8)((()=>t.getActors()),[t]),d=(0,r().K8)((()=>t.getIcon()),[t]),u=$(),{currentUser:m}=(0,n().v3)();if(!l||!d)return null;if(0===l.length)return null;const h=l.some((e=>e.id===m.id)),p={...u.reaction,...h&&u.reacted,...s&&u.dropShadow},g={...u.count,...h&&u.countReacted};return(0,c.jsx)(A().A,{textWrap:!0,style:{maxWidth:250,width:"max-content"},placement:I().W.Bottom,delayThreshold:300,renderTooltip:()=>(0,c.jsx)(V,{store:t,icon:d}),render:e=>(0,c.jsxs)(b().A,{disabled:o,style:p,hoveredStyle:h?u.reactedHover:void 0,onClick:i,...e,children:[(0,c.jsx)("span",{style:u.emojiStyle,children:(0,c.jsx)(w().A,{size:a??14,char:d})}),(0,c.jsx)("span",{style:g,children:l.length})]})})}function q(e){const{parentStore:t,reactions:o,discussionLocation:s,disabled:l,onReact:d}=e,u=(0,n().v3)(),[m,h]=(0,i.useState)(e.maxReactionsToShow),{reactionsToShow:g,remainingCount:x}=(0,r().K8)((()=>({reactionsToShow:o.slice(0,m),remainingCount:void 0!==m?o.length-m:0})),[m,o]),f=$(),v=(0,a().IS)((e=>({remaining:{...f.reaction,...f.count,color:e.text.secondary}})),[f.reaction,f.count]);return(0,c.jsxs)(c.Fragment,{children:[g.map((e=>(0,c.jsx)(F,{reactionStore:e,store:t,children:(0,c.jsx)(H,{disabled:l,store:e,onClick:()=>{e.isDefined()&&(null==d||d(),j().createAndCommit({environment:u,userAction:"Comment.toggleReaction",canUndo:!0,perform:o=>M().toggleReaction({environment:u,transaction:o,store:t,icon:e.getIcon(),discussionLocation:s})}))}})},e.id))),x>0?(0,c.jsx)("div",{role:"button",tabIndex:0,style:v.remaining,onClick:()=>h(void 0),children:(0,c.jsx)(p().sA,{defaultMessage:"+{count}",id:"ReactionBar.remaining",values:{count:x}})}):null]})}function V(e){let{store:t,icon:o}=e;const i=(0,p().tz)(),n=(0,r().K8)((()=>t.getActorStores()),[t]),a=(0,r().K8)((()=>n.map((e=>e.getDisplayName(i))).filter(x().O9)),[n,i]),l=s().qg.isCustomEmojiString(o),d=(0,r().K8)((()=>{if(l){const e=s().qg.fromCustomEmojiString(o).pointer;return(0,R().nA)({parentStore:void 0,pointer:e})}}),[o,l]),u=(0,r().K8)((()=>{if(null!=d&&d.isDefined())return null==d?void 0:d.getModel().getRenderTitle()}),[d]);return l?d?(0,c.jsx)(T().A,{type:"custom",customEmojiStore:d,text:(0,c.jsx)(Y,{names:a,emojiNameOrIcon:(0,c.jsx)("span",{className:"notranslate",children:u}),isDeletedCustomEmoji:!1}),deletedText:(0,c.jsx)(Y,{names:a,emojiNameOrIcon:(0,c.jsx)("span",{className:"notranslate",children:u}),isDeletedCustomEmoji:!0})}):null:(0,c.jsx)(T().A,{type:"unicode",emoji:o,text:(0,c.jsx)(Y,{names:a,emojiNameOrIcon:(0,c.jsx)(w().A,{size:12,char:o}),isDeletedCustomEmoji:!1})})}function Y(e){let{names:t,emojiNameOrIcon:o,isDeletedCustomEmoji:i}=e;const n=(0,a().IS)((e=>({text:{color:e.text.contrastSecondary}})),[]);return t.length>50?(0,c.jsx)(p().sA,{defaultMessage:"{additionalNames, plural, one {{names} and {additionalNames} other <medium>reacted with</medium> {icon}} other {{names} and {additionalNames} others <medium>reacted with</medium> {icon}}} {isDeletedCustomEmoji, select, true {<medium>(deleted)</medium>} other {}}",id:"ReactionBar.hoverTooltip.textAbbreviated",values:{additionalNames:t.length-50,names:t.slice(0,50).join(", "),medium:e=>(0,c.jsx)("span",{style:n.text,children:e}),icon:o,isDeletedCustomEmoji:i}}):(0,c.jsx)(p().sA,{defaultMessage:"{nameOrNames} <medium>reacted with</medium> {icon} {isDeletedCustomEmoji, select, true {<medium>(deleted)</medium>} other {}}",id:"ReactionBar.hoverTooltip.text",values:{numberOfNames:t.length,nameOrNames:t.join(", "),medium:e=>(0,c.jsx)("span",{style:n.text,children:e}),icon:o,isDeletedCustomEmoji:i}})}function G(e){const{store:t,discussionLocation:o,onEmojiSelection:r,style:s}=e,u=(0,n().v3)(),m=(0,i.useRef)(null),h=(0,n().Y0)(),g=(0,a().IS)((e=>({container:{padding:2,display:"flex",boxShadow:e.shadowSM,backgroundColor:e.buttonGroupBackground,borderRadius:h.isMobile?3:4,...s},addIcon:{width:d().Ev.default,height:d().Ev.default,fill:e.icon.secondary},iconButton:{height:24,width:24,flex:"0 0 auto"}})),[h.isMobile,s]),x=(0,p().tz)();return(0,c.jsx)("div",{style:g.container,children:(0,c.jsx)(C().A,{hasBackground:!0,ariaLabel:x.formatMessage(O.addReaction),showShadow:!1,icon:()=>(0,l().r)(g.addIcon),style:g.iconButton,ref:m,onClick:()=>Z(u,x,t,null==m?void 0:m.current,o,r)})})}function J(e){let{store:t,discussionLocation:o,onEmojiSelection:r}=e;const a=(0,n().v3)(),s=(0,i.useRef)(null),l=$(),d=(0,p().tz)();return(0,c.jsx)(b().A,{style:{...l.reaction,minWidth:"2em"},ref:s,onClick:()=>Z(a,d,t,null==s?void 0:s.current,o,r),children:m(l.reactionIcon)})}function Z(e,t,o,i,n,r){if(!(i instanceof Element))return;const a=i.getBoundingClientRect();S().W(e,{originGap:4,originRect:a,popupWidth:k().jv,popupHeight:k().GF,isSmallWidth:!1,title:t.formatMessage(O.emojiPickerTitle),currentTab:"emoji",tabs:[{type:"emoji",title:(0,c.jsx)(p().sA,{defaultMessage:"Emoji",id:"recordIcon.emojiTab.title"}),hideRandomButton:!0,onChange:(t,i)=>{r&&r(),j().createAndCommit({environment:e,userAction:"Comment.toggleReactionFromMenu",canUndo:!0,perform:r=>{M().toggleReaction({environment:e,transaction:r,store:o,icon:t,discussionLocation:n}),i&&i.keepVisible||S().I()}})}}]})}function X(e){const{parentStore:t,discussionLocation:o,onReact:s,focused:u,showAddReactionButton:m=!0,additionalItems:g}=e,[x,f]=(0,i.useState)(!1),S=(0,n().Y0)(),b=(0,a().IS)((e=>({reactionIcon:{height:d().Ev.default,width:d().Ev.default,fill:e.icon.secondary},resolveIcon:{height:16,width:16,fill:e.icon.secondary},container:{gap:"4px",marginTop:"post_top_level_discussion"===o?0:12,paddingBottom:0,display:"flex",flexWrap:"wrap",alignItems:"center",willChange:"transform",transition:"transform 200ms ease",transformOrigin:"center left",transform:u?"scale3d(1.05)":"scale(1)"},actionButton:{borderRadius:"50%",marginLeft:2},postReactionButton:{...Q,width:40,padding:"0 10px 0 10px",borderRadius:13,borderWidth:1,borderColor:e.stroke.secondary,borderStyle:"solid",...S.isMobile?ee:{}}})),[u,o,S.isMobile]),w=e=>{j().createAndCommit({userAction:"Discussion.handleResolve",environment:T,canUndo:!0,perform:e=>{(0,L().j)({environment:T,discussionStore:t,transaction:e,discussionLocation:o})}}),v().UP(),null==e||e.stopPropagation()},T=(0,n().v3)(),R=(0,r().K8)((()=>!!T.currentUser.isLoggedIn()&&t.canComment()),[t,T.currentUser]),k=(0,r().K8)((()=>!!T.currentUser.isLoggedIn()&&(t.canEdit()&&"post_top_level_discussion"!==o)),[t,T.currentUser,o]),I=(0,i.useRef)(null),M=(0,p().tz)(),E=x||e.focused,z=(0,r().K8)((()=>B().Lk.getUserVisibleReactions(t)),[t]),N=()=>{Z(T,M,t,null==I?void 0:I.current,o,s)};return(0,c.jsxs)("div",{onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),style:b.container,children:[(0,c.jsx)(q,{parentStore:t,reactions:z,discussionLocation:o,disabled:!R,onReact:s,maxReactionsToShow:S.isMobile?6:void 0}),m&&(0,c.jsxs)(y().A,{animate:{opacity:E?1:0},style:{display:"flex",alignItems:"center",marginLeft:2},children:[R&&(0,c.jsx)(F,{store:t,children:(0,c.jsx)(A().A,{renderTooltip:()=>(0,c.jsx)(p().sA,{...O.addReaction}),render:t=>(0,c.jsx)(C().A,{style:"post_top_level_discussion"===e.discussionLocation?b.postReactionButton:b.actionButton,hasBackground:!1,showShadow:!1,ref:I,icon:()=>(0,l().r)(b.reactionIcon),onClick:N,...t,ariaLabel:M.formatMessage(O.addReaction)})})}),k&&(0,c.jsx)(A().A,{renderTooltip:()=>(0,c.jsx)(p().sA,{...O.resolveDiscussion}),render:e=>(0,c.jsx)(C().A,{style:{borderRadius:"50%",marginLeft:4},hasBackground:!1,showShadow:!1,icon:()=>(0,h().q)(b.resolveIcon),onClick:w,...e,ariaLabel:M.formatMessage(O.resolveDiscussion)})})]}),g]})}const Q={height:25},ee={height:32,borderRadius:100,fontSize:13,padding:"1px 12px 1px 12px",minWidth:44,transform:"translateZ(0)"},te=i.memo((function(e){const{parentStore:t,discussionLocation:i,onReactionToggle:a,newReactionStyle:s}=e,l=(0,n().v3)(),d=(0,r().K8)((()=>!!l.currentUser.isLoggedIn()&&t.canComment()),[t,l.currentUser]),u=(0,r().K8)((()=>B().Lk.getUserVisibleReactions(t)),[t]),m=(0,r().K8)((()=>{if(t.table===o(890449).SN){const e=t.getParentBlockStore();return Boolean(e&&e.pathIsDead())}if(t.table===o(759260).$Y){const e=t.getParentStore();return Boolean(e&&e.pathIsDead())}return!1}),[t]),h=d&&!m&&u.length>0,p=d&&!m&&0===u.length;return(0,c.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px"},children:[u.map((e=>(0,c.jsx)(F,{reactionStore:e,store:t,children:(0,c.jsx)(H,{disabled:!d||m,store:e,onClick:()=>{if(e.isDefined()){const o=j().createAndCommit({environment:l,userAction:"Comment.toggleReaction",canUndo:!0,perform:o=>M().toggleReaction({environment:l,transaction:o,store:t,icon:e.getIcon(),discussionLocation:i})});void 0!==o.performResult&&a&&a(o.performResult)}}})},e.id))),h&&(0,c.jsx)(F,{store:t,children:(0,c.jsx)(J,{store:t,discussionLocation:i,onEmojiSelection:void 0!==a?()=>a("Added"):void 0})}),p&&(0,c.jsx)(G,{store:t,discussionLocation:i,onEmojiSelection:void 0!==a?()=>a("Added"):void 0,style:s})]})}))},525779:(e,t,o)=>{o.d(t,{d:()=>l});o(242343);var i=()=>o(174114),n=()=>o(898941),r=()=>o(653998),a=()=>o(103151),s=o(163643);function l(e){const{enableIcon:t,onClick:o}=e,l=(0,i().IS)((e=>({moreCommentsWrapper:{position:"absolute",display:"flex",justifyContent:"center",alignItems:"flex-start",zIndex:1,left:0,right:0,height:30,background:`linear-gradient(to bottom, ${e.contentBackgroundTransparent} 0px, ${e.selectedMarginDiscussionBackground} 30px)`,marginTop:-28},tooltip:{...(0,a().n)(e,!1),cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",marginTop:-4,borderRadius:6,padding:"4px 10px 4px 8px"}})),[]),d=(0,i().DP)();return(0,s.jsx)("div",{style:l.moreCommentsWrapper,children:(0,s.jsxs)("div",{tabIndex:0,role:"button",style:l.tooltip,onClick:o,children:[t?(0,s.jsx)("div",{style:{marginRight:5},children:(0,n().m)({fill:d.text.contrastPrimary,height:12,width:12})}):null,(0,s.jsx)(r().sA,{defaultMessage:"See more",id:"discussion.moreMessageTooltip"})]})})}},678523:(e,t,o)=>{o.d(t,{A:()=>s});o(242343);var i=()=>o(237385),n=()=>o(174114),r=()=>o(126451),a=o(163643);function s(e){const t=(0,i().Y0)(),o=(0,n().IS)((e=>({sharedStyle:{display:"flex",alignItems:"center",borderRadius:4},innerStyle:{padding:"2px 6px",borderRadius:4,color:e.text.secondary,background:e.defaultBadgeBackground,fontSize:t.isMobile?11:9,lineHeight:t.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em",whiteSpace:"nowrap"}})),[t.isAndroid,t.isMobile]);return t.isMobile?(0,a.jsx)(r().A,{style:{...o.sharedStyle,...e.mobileStyle},disabled:void 0===e.onClick,children:(0,a.jsx)("div",{style:{...o.innerStyle,...e.innerStyle},children:e.children})}):(0,a.jsx)(r().A,{style:{...o.sharedStyle,...e.desktopStyle},disabled:void 0===e.onClick,...e,children:(0,a.jsx)("div",{style:{...o.innerStyle,...e.innerStyle},children:e.children})})}},686752:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>i,pencilLineIcon:()=>n});o(242343);const i={viewBox:"0 0 20 20",svg:(0,o(163643).jsx)("path",{d:"m13.987 5.682-.684.684-1.288-1.288.692-.691a.91.91 0 0 1 1.28 0c.35.35.35.93 0 1.28zm-9.433 9.433 7.914-7.914-1.289-1.289-7.92 7.908c-.122.122-.214.29-.274.457l-.336 1.082c-.06.229.153.442.366.366l1.082-.335q.252-.07.457-.275m12.446.76H5.61l1.25-1.25H17a.625.625 0 1 1 0 1.25"})},n=(0,o(680369).wt)("pencilLine",i)},709356:(e,t,o)=>{o.d(t,{A:()=>l});o(242343);var i=()=>o(174114),n=()=>o(31448),r=()=>o(907721),a=()=>o(103151),s=o(163643);function l(e){let{text:t,tooltipText:o,icon:l}=e;const d=(0,i().IS)((e=>({icon:{height:"1em",width:"1em",marginRight:"0.25em",fill:e.mediumIconColor,marginBottom:"0.1em"},tooltip:{background:e.contentBackground,boxShadow:e.shadowSM},container:{display:"flex",alignItems:"center",fontWeight:n().Wy.regular,color:e.text.secondary,fontSize:n().J.UISmall.desktop,textAlign:"center"},text:{display:"inline"}})),[]);return(0,s.jsx)(a().A,{style:d.tooltip,render:e=>(0,s.jsx)("div",{style:d.text,...e,children:t}),renderTooltip:()=>(0,s.jsxs)("div",{style:d.container,children:[l(d.icon),(0,s.jsx)("div",{children:o})]}),alignment:r().C.Start,placement:r().W.Bottom})}},874512:(e,t,o)=>{o.d(t,{Y:()=>E,e:()=>M});var i=o(242343),n=()=>o(803290),r=()=>o(174114),a=()=>o(214263),s=o(163643);const l=(0,o(680369).wt)("suggestionExtraSmall",{viewBox:"0 0 10 9",svg:(0,s.jsxs)("g",{children:[(0,s.jsx)("path",{d:"M5.175 4.745l-.906.339c-.07.027-.14.012-.205-.045-.064-.057-.08-.127-.048-.212l.342-.899L7.492.798l.814.813-3.131 3.134zm3.4-3.397L7.76.53l.359-.352A.617.617 0 018.48.005a.364.364 0 01.33.105l.14.14c.1.105.145.226.134.365a.596.596 0 01-.168.366l-.341.366z"}),(0,s.jsx)("path",{d:"M4.91 1.962L5.969.906H2.704c-.354 0-.66.072-.92.216-.26.14-.46.341-.601.601-.142.26-.212.566-.212.92v2.754c0 .354.074.66.222.92.148.26.345.461.591.605.249.141.524.212.827.212h.25v.694c0 .214.056.382.167.506a.603.603 0 00.465.184.84.84 0 00.383-.092c.125-.06.27-.16.434-.301l1.138-.991h1.846c.353 0 .66-.07.92-.212.26-.144.46-.345.6-.605a1.89 1.89 0 00.213-.92V2.643c0-.114-.007-.223-.022-.327l-.433.443-.601.602V5.32c0 .253-.064.442-.192.567-.125.126-.314.188-.567.188h-1.85a.757.757 0 00-.307.051.962.962 0 00-.256.192L3.743 7.349v-.926c0-.125-.031-.214-.093-.267a.372.372 0 00-.256-.082h-.608c-.251 0-.44-.062-.568-.188-.125-.125-.188-.314-.188-.567V2.72c0-.253.063-.442.188-.567.128-.128.317-.192.568-.192H4.91z"})]})});var d=()=>o(278760),c=()=>o(653998),u=()=>o(31448),m=()=>o(579494),h=()=>o(931085),p=()=>o(678523),g=()=>o(35462),x=()=>o(709356),f=()=>o(289113),v=()=>o(622286),S=()=>o(312093),j=()=>o(322199),y=()=>o(162976),b=()=>o(485966),C=()=>o(468258),A=()=>o(413871),w=()=>o(424339),T=()=>o(990910),R=()=>o(416956);function k(e){let{shouldShowFullProfiles:t,personProfileUrl:o,displayName:i,styles:n}=e;return o&&t?(0,s.jsx)(m().A,{href:o,children:(0,s.jsx)("div",{style:n.author,children:i||(0,s.jsx)("span",{style:n.placeholder})})}):(0,s.jsx)("div",{style:n.author,children:i||(0,s.jsx)("span",{style:n.placeholder})})}function I(e){let{teamStore:t,teamName:o,iconSize:i,styles:r}=e;const a=(0,n().K8)((()=>null==t?void 0:t.getSpaceId()),[t]);return t?(0,s.jsx)(h().A,{style:r.linkBox,href:(0,d().a)({teamId:t.id,spaceId:a}),children:(0,s.jsxs)("div",{style:r.teamIconAndName,children:[(0,s.jsx)(w().x,{size:i,store:t,disabled:!1}),(0,s.jsx)("span",{style:r.teamName,children:o})]})}):null}function B(e){let{shouldEnablePersonHoverCard:t,authorStore:o,size:i,styles:n}=e;return(0,s.jsx)(R().E,{hasTooltip:!t,authorStore:o,avatarSize:i,avatarStyle:n.avatar,placeholderStyle:n.commentAuthorPlaceholder})}function L(e){let{createdTime:t,lastEditedTime:o,style:i}=e;const n=o&&o>t+5e3;return(0,s.jsx)(g().A,{isSmall:!0,isSecondaryColor:!0,isMultiline:!0,style:i,children:n?(0,s.jsx)(N,{createdTime:t,lastEditedTime:o}):(0,s.jsx)(z,{createdTime:t})})}function M(e){let{lastEditedTime:t,createdTime:o,location:r,teamStore:a,authorStore:l}=e;const d=(0,c().tz)(),u=(0,i.useRef)(null),m=(0,n().O$)(b().AppStoreCurrentSpaceStore),h=(0,j().S)({spaceStore:m}),p=(0,y().$)({spaceStore:m}),g=(0,n().K8)((()=>l.getDisplayName(d)),[l,d]),x=(0,n().K8)((()=>null==a?void 0:a.getName()),[a]),f=D({location:r,avatarSize:35,authorFontSize:15,authorAndTeamNameLetterSpacing:-.24,enableTeamNameUnderline:!1}),v=(0,n().K8)((()=>{const e=l.id;return(0,S().M)(e,b().default.state.currentSpaceStore)||""}),[l]);return o?(0,s.jsxs)("div",{style:{...f.mobileAuthorRow},children:[(0,s.jsx)("div",{style:{...f.user,...f.mobileUserAvatar},children:(0,s.jsx)(B,{shouldEnablePersonHoverCard:h,authorStore:l,size:35,styles:f})}),(0,s.jsxs)("div",{style:{...f.mobileUserAndTeamLink},children:[(0,s.jsx)("div",{style:f.userRow,children:(0,s.jsxs)("div",{ref:u,style:f.user,children:[(0,s.jsx)(k,{shouldShowFullProfiles:p,personProfileUrl:v,displayName:g,styles:f}),(0,s.jsx)(L,{createdTime:o,lastEditedTime:t,style:f.timestamp})]})}),(0,s.jsx)("div",{style:{...f.user,...f.mobileTeamLink},children:(0,s.jsx)(I,{teamStore:a,teamName:x,iconSize:15,styles:f})})]})]}):null}function E(e){let{lastEditedTime:t,createdTime:o,location:r,isResolved:a,isSuggestionComment:d,teamStore:u,authorStore:m}=e;const h=(0,c().tz)(),g=(0,n().O$)(b().AppStoreCurrentSpaceStore),x=(0,j().S)({spaceStore:g}),f=(0,y().$)({spaceStore:g}),w=(0,i.useRef)(null),M=(0,n().K8)((()=>m.getDisplayName(h)),[m,h]),E=(0,n().K8)((()=>null==u?void 0:u.getName()),[u]),z=(0,v().X)("ken_new_home_design")&&"post_creator"===r,N=z?32:T().eQ,U=D({location:r,avatarSize:N,authorFontSize:14,authorAndTeamNameLetterSpacing:0,enableTeamNameUnderline:!1}),P=(0,i.useCallback)((()=>{const e=w.current;e&&m&&m instanceof A().LU&&C().A.setState({type:"user",store:m,domRect:e.getBoundingClientRect()})}),[w,m]),W=(0,i.useCallback)((()=>C().A.setState(void 0)),[]),K=(0,n().K8)((()=>{const e=m.id;return(0,S().M)(e,b().default.state.currentSpaceStore)||""}),[m]);return o?(0,s.jsxs)("div",{style:U.userRow,children:[(0,s.jsxs)("div",{ref:w,onMouseEnter:P,onMouseLeave:W,style:U.user,children:[d?(0,s.jsxs)("div",{style:{position:"relative"},children:[(0,s.jsx)(R().E,{authorStore:m,avatarSize:N,avatarStyle:U.avatar,placeholderStyle:U.commentAuthorPlaceholder}),(0,s.jsx)("div",{style:U.avatarSuggestionBadgeWrapper,children:(0,s.jsxs)("div",{style:U.avatarSuggestionBadge,children:[l({height:8.5}),(0,s.jsx)("div",{style:U.avatarSuggestionBadgeBacking})]})})]}):(0,s.jsx)(B,{shouldEnablePersonHoverCard:x,authorStore:m,size:N,styles:U}),z?(0,s.jsx)("div",{style:U.avatarBubbleTipWrapper,children:(0,s.jsx)("div",{style:U.avatarBubbleTip})}):(0,s.jsx)(k,{shouldShowFullProfiles:f,personProfileUrl:K,displayName:M,styles:U})]}),u&&(0,s.jsxs)(s.Fragment,{children:[!z&&(0,s.jsx)("div",{style:U.in,children:(0,s.jsx)(c().sA,{id:"posts.post.inPreposition",defaultMessage:" in "})}),(0,s.jsx)(I,{teamStore:u,teamName:E,iconSize:z?16:14,styles:U})]}),(0,s.jsx)(L,{createdTime:o,lastEditedTime:t,style:U.timestamp}),"comment_unfurl"===r&&a&&(0,s.jsx)("div",{style:{display:"inline-flex"},children:(0,s.jsx)(p().A,{children:(0,s.jsx)(c().sA,{id:"comment.unfurl.resolvedStatus",defaultMessage:"Resolved"})})})]}):null}function z(e){const{createdTime:t}=e;return(0,s.jsx)(x().A,{text:(0,f().nl)(t,{useUltraCompactFormat:!0}),tooltipText:(0,f().x$)(t),icon:a().k})}function N(e){const{createdTime:t,lastEditedTime:o}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x().A,{text:(0,f().nl)(t,{useUltraCompactFormat:!0}),tooltipText:(0,s.jsx)(c().sA,{defaultMessage:"Created {absoluteCreatedTime}",id:"comment.createdAtTime.label",values:{absoluteCreatedTime:(0,f().x$)(t)}}),icon:a().k})," ",(0,s.jsx)(x().A,{text:(0,s.jsx)(c().sA,{defaultMessage:"(edited)",id:"comment.editedAtIndicator"}),tooltipText:(0,s.jsx)(c().sA,{defaultMessage:"Last edited {absoluteLastEditedTime}",id:"comment.editedAtTime.label",values:{absoluteLastEditedTime:(0,f().x$)(o)}}),icon:a().k})]})}function D(e){let{location:t,avatarSize:o,authorFontSize:i,authorAndTeamNameLetterSpacing:n,enableTeamNameUnderline:a}=e;const s=(0,v().X)("ken_new_home_design")&&"post_creator"===t;return(0,r().IS)((e=>({avatar:{marginTop:0,marginRight:2,userSelect:"none",...s&&{position:"absolute",right:"100%",marginRight:16}},avatarBubbleTipWrapper:{position:"absolute",width:12,height:24,right:"100%",paddingLeft:8,overflow:"hidden"},avatarBubbleTip:{borderRadius:3,transform:"rotate(45deg)",background:e.surface.elevated,width:24,height:24,border:`1px solid ${e.regularDividerColor}`},avatarSuggestionBadgeWrapper:{position:"absolute",right:-2,bottom:-4},avatarSuggestionBadge:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:100,background:"light"===e.mode?"#fff":"#000",width:16,height:16,border:`1px solid ${e.accentColors.uiBlue[200]}`,fill:e.accentColors.uiBlue[600]},avatarSuggestionBadgeBacking:{position:"absolute",width:"100%",height:"100%",borderRadius:100,background:e.accentColors.uiBlue[100]},in:{color:e.text.secondary},timestamp:{whiteSpace:"normal",flexGrow:"updates_sidebar"===t||"comment_unfurl"===t?void 0:1,display:"inline",color:e.text.tertiary},userRow:{display:"flex",flexDirection:"row",alignItems:"center",userSelect:"none",fontSize:i,gap:6},user:{display:"flex",alignItems:"center",gap:6},placeholder:{height:8,width:81,borderRadius:6,background:e.lightDividerColor},commentAuthorPlaceholder:{marginRight:2,marginTop:"comment_unfurl"===t?14:2,height:o,width:o,borderRadius:20,flexShrink:0},teamIconAndName:{display:"flex",alignItems:"center",gap:8},linkBox:{borderRadius:6,padding:"4px 6px",marginInline:-4},author:{fontWeight:u().Wy.medium,whiteSpace:"normal",flexShrink:0,letterSpacing:n},teamName:{lineHeight:1.3,letterSpacing:n,...a?{borderBottom:`1px solid ${e.darkDividerColor}`}:{}},mobileAuthorRow:{display:"flex",flexDirection:"row"},mobileUserAvatar:{marginRight:8},mobileUserAndTeamLink:{display:"flex",flexDirection:"column",gap:0},mobileTeamLink:{marginTop:-4,fontSize:i}})),[o,t,a,i,n,s])}},898941:(e,t,o)=>{o.d(t,{m:()=>n});o(242343);var i=o(163643);const n=(0,o(680369).wt)("arrowDownSmall",{viewBox:"0 0 12 12",svg:(0,i.jsx)("path",{d:"M5.99756 0.850098C5.53564 0.850098 5.21875 1.17236 5.21875 1.65576V7.61768L5.27246 8.7832L4.19287 7.53711L2.98438 6.33398C2.84473 6.18896 2.66211 6.09229 2.42578 6.09229C2.00684 6.09229 1.68994 6.40381 1.68994 6.84424C1.68994 7.04834 1.77051 7.23633 1.93164 7.40283L5.42285 10.8994C5.56787 11.0498 5.78809 11.1357 5.99756 11.1357C6.2124 11.1357 6.42725 11.0498 6.57227 10.8994L10.0688 7.40283C10.23 7.23633 10.3105 7.04834 10.3105 6.84424C10.3105 6.40381 9.99365 6.09229 9.57471 6.09229C9.34375 6.09229 9.16113 6.18896 9.01611 6.33398L7.80762 7.53711L6.72803 8.7832L6.77637 7.61768V1.65576C6.77637 1.17236 6.46484 0.850098 5.99756 0.850098Z"})})}}]);