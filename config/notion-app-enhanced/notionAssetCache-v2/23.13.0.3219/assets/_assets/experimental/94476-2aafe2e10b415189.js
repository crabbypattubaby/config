"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[94476],{560023:(e,t,r)=>{r.r(t),r.d(t,{TOASTER_ZINDEX:()=>A,Toaster:()=>R});r(725707),r(491955),r(403517);var n=r(242343),o=()=>r(237385),i=()=>r(803290),a=()=>r(174114),s=()=>r(975392),d=()=>r(773253),l=()=>r(41717),c=()=>r(48913),u=()=>r(291922),v=()=>r(951592),p=()=>r(827086),f=()=>r(653998),y=()=>r(220413),x=()=>r(421338),g=()=>r(126451),m=()=>r(356813),h=()=>r(206799),b=()=>r(701270),S=()=>r(354148),C=()=>r(129978),k=r(163643);function P(e,t){return e?t[e]:t.default}function j(e){const{type:t,actionProps:r,invalidated:n,variant:o}=e,i=(0,y().O4)({theme:"dark"}),s=(0,a().IS)((e=>({actionButton:{minHeight:28,padding:"4px 8px",gap:8,borderRadius:6,display:"flex"},primaryActionButton:{borderWidth:1,borderStyle:"solid",borderColor:P(o,{default:`1px solid ${y().XA.dark.translucentGray[400]}`,error:e.stroke.uiRedPrimary})},primaryActionButtonText:{color:P(o,{default:i.text.primary,error:e.text.uiRedPrimary})},secondaryActionButtonText:{color:P(o,{default:i.text.secondary,error:e.text.uiRedSecondary})},actionButtonHovered:{background:P(o,{default:i.state.hover,error:e.outlinefrontSecondaryButtonHoveredBackground})},actionButtonPressed:{background:P(o,{default:i.state.pressed,error:e.outlinefrontSecondaryButtonPressedBackground})}})),[i,o]);return(0,k.jsx)(g().A,{style:{...s.actionButton,..."primary"===t?s.primaryActionButton:{}},hoveredStyle:s.actionButtonHovered,pressedStyle:s.actionButtonPressed,disabled:r.disabled||n,onClick:r.onAction,isLoading:r.isLoading,children:(0,k.jsxs)(x().Y1,{direction:"horizontal",align:"center",children:[r.leadingIconProps?(0,k.jsx)(h().Q,{...r.leadingIconProps}):void 0,(0,k.jsx)(b().D,{styleName:"UISmall-12px/Medium",style:"primary"===t?s.primaryActionButtonText:s.secondaryActionButtonText,children:r.title}),r.trailingIconProps?(0,k.jsx)(h().Q,{...r.trailingIconProps}):void 0]})})}function B(e){const{actions:t,...r}=e,n=(0,a().IS)((()=>({footerContainer:{paddingLeft:8,paddingBottom:4}})),[]),{primary:o,secondary:i}=t;return(0,k.jsxs)(x().Y1,{direction:"horizontal",align:"center-right",style:n.footerContainer,gap:8,children:[i&&(0,k.jsx)(j,{...r,type:"secondary",actionProps:i}),o&&(0,k.jsx)(j,{...r,type:"primary",actionProps:o})]})}function I(e){const t=(0,f().tz)(),{updatedAt:r,onReplace:o,onMouseEnter:i,onMouseLeave:s,framerMotion:d,variant:l="default"}=e,{motion:c}=d,u=(0,S().sM)(d),x=(0,v().ZC)(r),g=(0,a().IS)((e=>{const t=(0,y().O4)({theme:"dark"});return{toastContainer:{display:"flex",alignItems:"flex-start",borderRadius:8,borderWidth:1,borderStyle:"solid",borderColor:P(l,{default:t.stroke.secondary,error:e.stroke.redSecondary}),outline:"none",background:P(l,{default:t.surface.elevated,error:e.tint.uiRed}),backdropFilter:"blur(15px)",width:280,padding:"8px 8px 4px 8px",pointerEvents:"auto",minHeight:40},toastContentContainer:{display:"flex",flexDirection:"column",alignItems:"flex-start",width:"100%"},toastContent:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:4,padding:"4px 28px 8px 4px"},iconContainer:{width:26,height:24,display:"flex",padding:"2px 4px 2px 2px",flexDirection:"column",justifyContent:"center",alignItems:"center"},icon:{display:"flex",width:14,height:14,flexDirection:"column",justifyContent:"center",alignItems:"center",fill:P(l,{default:y().XA.dark.translucentGray[800],error:e.icon.uiRedPrimary})},title:{color:P(l,{default:e.text.contrastPrimary,error:e.text.uiRedPrimary}),fontFeatureSettings:"'case' on",overflowWrap:"break-word"},toastMessage:{color:P(l,{default:t.text.primary,error:e.text.uiRedPrimary}),fontFeatureSettings:"'case' on",overflowWrap:"break-word"},closeButton:{width:24,height:24,position:"absolute",right:8,top:8,gap:8,borderRadius:6,display:"flex",alignItems:"center",justifyContent:"center",zIndex:1},closeIcon:{width:14,height:14,paddingBottom:.5,fill:P(l,{default:y().XA.dark.translucentGray[800],error:e.icon.uiRedPrimary})},closeIconHovered:{background:P(l,{default:t.state.hover,error:e.outlinefrontSecondaryButtonHoveredBackground})},closeIconPressed:{background:P(l,{default:t.state.pressed,error:e.outlinefrontSecondaryButtonPressedBackground})}}}),[l]);(0,n.useEffect)((()=>{(async()=>{r&&(!x||r>x)&&(o(),await u.start({scale:[1,1.05,1],transition:{duration:.15,ease:"easeIn"}}))})()}),[r,x,o,u]);const C=e.jsxMessage??e.message;let j=null;return e.icon?j=(0,k.jsx)("div",{style:g.iconContainer,children:e.icon({...g.icon,...e.iconStyles})}):e.iconGroup&&(j=(0,k.jsx)("span",{style:g.iconContainer,children:(0,k.jsx)(h().Q,{iconGroup:e.iconGroup,colorName:e.iconGroupColorName,variantName:e.iconGroupVariant??"small"})})),(0,k.jsxs)(c.div,{role:"status","aria-live":"polite",onHoverStart:i,onHoverEnd:s,animate:u,style:g.toastContainer,custom:e.id,children:["blocking"!==e.presentationType&&(0,k.jsx)(m().A,{ariaLabel:t.formatMessage({id:"toast.close",defaultMessage:"Close"}),icon:()=>(0,p().xMarkIcon)(g.closeIcon),style:g.closeButton,hoveredStyle:g.closeIconHovered,pressedStyle:g.closeIconPressed,onClick:e.onClose}),j,(0,k.jsxs)("div",{style:g.toastContentContainer,children:[(0,k.jsxs)("div",{style:g.toastContent,children:[e.title&&(0,k.jsx)(b().D,{styleName:"UISmall-12px/Semibold",style:g.title,children:e.title}),C&&(0,k.jsx)(b().D,{styleName:"UISmall-12px/Regular",customStyles:g.toastMessage,children:C})]}),e.actions?(0,k.jsx)(B,{actions:e.actions,invalidated:e.invalidated,variant:e.variant}):void 0]})]})}function w(e){const{value:t}=(0,C().fJ)(S().fM);return t?(0,k.jsx)(I,{...e,framerMotion:t}):null}const A=201;function R(){const e=(0,o().v3)(),[t,r]=(0,n.useState)({}),[a,c]=(0,n.useReducer)((e=>e+1),0),v=(0,n.useRef)({}),p=(0,n.useRef)(),f=(0,n.useRef)({}),y=(0,i().K8)((()=>u().A.state.toasts),[]),[x]=(0,i().K8)((()=>[e.WindowSizeStore.getSafePaddingBottomPx(20)]),[e.WindowSizeStore]),g=(0,n.useCallback)((()=>{let e;const r=Object.keys(t).filter((r=>{var n,o;return r===(null===(n=p.current)||void 0===n?void 0:n.toast.id)&&(e=t[r]),r!==(null===(o=p.current)||void 0===o?void 0:o.toast.id)})).map((e=>t[e])).sort(((e,t)=>{var r,n;return(null===(r=t.createdAt)||void 0===r?void 0:r.valueOf())-(null===(n=e.createdAt)||void 0===n?void 0:n.valueOf())}));if(e&&p.current&&void 0!==p.current.index){const{index:t}=p.current;r.splice(t,0,e),p.current.index=r.indexOf(e)}return r}),[t]),m=(0,n.useCallback)((e=>{clearTimeout(v.current[e]),delete v.current[e]}),[]),h=(0,n.useCallback)(((e,t)=>{var r,n;e.id===(null===(r=p.current)||void 0===r?void 0:r.toast.id)&&(p.current=void 0),m(e.id),null!==(n=f.current)&&void 0!==n&&n[e.id]&&(f.current[e.id].active=!1,t&&(f.current[e.id].suppressOnDismiss=t)),c()}),[m]),b=(0,n.useCallback)((e=>{var t,r;"transient"===e.presentationType&&!v.current[e.id]&&e.id!==(null===(t=p.current)||void 0===t?void 0:t.toast.id)&&null!==(r=f.current)&&void 0!==r&&null!==(r=r[e.id])&&void 0!==r&&r.active&&(m(e.id),v.current[e.id]=window.setTimeout((()=>h(e)),5e3))}),[m,h]),S=(0,n.useCallback)((()=>{requestAnimationFrame((()=>{const e=g();let t=0;for(const[n,o]of e.entries()){var r;const e=document.querySelector(`[data-toast-id='${o.id}']`);if(!e||o.id===(null===(r=p.current)||void 0===r?void 0:r.toast.id))continue;const i=e.getBoundingClientRect();if(!i.height)return void S();if(f.current[o.id]||(f.current[o.id]={toast:o,active:!0}),f.current[o.id].index=n,f.current[o.id].height=i.height,p.current){const e=p.current;t<e.yPos-e.height||t-i.height>e.yPos||(t=e.yPos+e.height+x)}f.current[o.id].yPos=t,t=t+i.height+x,t>window.innerHeight&&(f.current[o.id].active=!1),b(o)}c()}))}),[g,b,x]);(0,n.useEffect)((()=>{r((e=>{const t={...e,...y};for(const r of Object.values(t))f.current[r.id]&&!y[r.id]&&(f.current[r.id].active=!1);return t}))}),[y]),(0,n.useLayoutEffect)(S,[t,S]),(0,n.useEffect)((()=>(window.addEventListener("resize",S),()=>window.removeEventListener("resize",S))),[S]);const C=(0,n.useCallback)((e=>{var t;null!==(t=f.current)&&void 0!==t&&t[e.id]&&(f.current[e.id].userDismissed=!0),h(e)}),[h]),P=(0,n.useCallback)(((e,t)=>{var r,n,o;m(e.id),null===(r=f.current)||void 0===r||!r[e.id]||null!==(n=f.current)&&void 0!==n&&null!==(n=n[e.id])&&void 0!==n&&n.actionTriggered||null!==(o=f.current)&&void 0!==o&&null!==(o=o[e.id])&&void 0!==o&&o.userDismissed||(f.current[e.id].active=!0,p.current={...f.current[e.id]},S())}),[S,m]),j=(0,n.useCallback)((e=>{var t;e.id===(null===(t=p.current)||void 0===t?void 0:t.toast.id)?(p.current=void 0,S()):b(e)}),[S,b]),B=(0,n.useCallback)((e=>{m(e.id),b(e)}),[m,b]),I=(0,n.useCallback)((e=>{var n;const o=e.target,i=null==o?void 0:o.getAttribute("data-toast-id");if(o&&"opacity"===e.propertyName&&i&&null!==(n=f.current)&&void 0!==n&&n[i]){var a;const e=f.current[i];if(e.active)return;i===(null===(a=p.current)||void 0===a?void 0:a.toast.id)&&(p.current=void 0);const n=t[i];u().A.state.toasts[n.id]&&d().UW(n.id,e.suppressOnDismiss,e.userDismissed),delete f.current[i],r((e=>s().cJ({...e},[i])))}}),[t]);return(0,k.jsx)(l().A,{open:g().length>0,zIndex:A,children:g().map(((e,t)=>{var r;const n=null===(r=f.current)||void 0===r?void 0:r[e.id],o=void 0!==(null==n?void 0:n.yPos)&&(null==n?void 0:n.active),i=null!=n&&n.active?0:100;return(0,k.jsx)(M,{"data-toast-id":e.id,onTransitionEnd:I,yPos:void 0!==(null==n?void 0:n.yPos)?-n.yPos:i,visible:o,children:(0,k.jsx)(w,{...e,onMouseEnter:()=>P(e,t),onMouseLeave:()=>j(e),onReplace:()=>B(e),onClose:()=>C(e),actions:e.actions})},e.id)}))})}function M(e){const{yPos:t,visible:r,children:n,...s}=e,d=(0,o().v3)(),[l,u,v]=(0,i().K8)((()=>[d.WindowSizeStore.getSafePaddingLeftCSS(20),d.WindowSizeStore.getSafePaddingBottomCSS(20),(0,c().kf)(d)]),[d]),p=(0,a().IS)((()=>({toastContainer:{left:v,transform:`translateY(${t??0}px) scale(${r?1:.96})`,transitionDuration:"0.3s",opacity:r?1:0,position:"fixed",bottom:0,transitionProperty:"opacity, transform",marginLeft:l,marginBottom:u}})),[v,l,u,t,r]);return(0,k.jsx)("div",{style:p.toastContainer,...s,children:n})}}}]);