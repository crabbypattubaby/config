"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[37398],{151004:(i,t,e)=>{e.d(t,{GH:()=>l,JD:()=>v,Kt:()=>a,Ng:()=>s,k_:()=>c,we:()=>d,xC:()=>g,yF:()=>u});var n=()=>e(137476),o=()=>e(995625),r=()=>e(836331),_=()=>e(764227);function s(i,t){const e=_().AI(),r=o().FX();(0,n().u4)({environment:i,event:{eventName:"google_contacts_imports_invite_render_button",eventProperties:{subscription_tier:e,domain_type:r,origin:t.origin,invite_flow_id:t.invite_flow_id}}})}function c(i,t){const e=_().AI(),r=o().FX();(0,n().u4)({environment:i,event:{eventName:"google_contacts_imports_invite_render_invite_popup",eventProperties:{subscription_tier:e,domain_type:r,origin:t.origin,invite_flow_id:t.invite_flow_id}}})}function a(i,t){const e=_().AI(),r=o().FX();(0,n().u4)({environment:i,event:{eventName:"google_contacts_imports_invite_click_invite_button",eventProperties:{subscription_tier:e,domain_type:r,invited_user_count:t.invited_user_count,origin:t.origin,invite_token_query:t.inviteTokenQuery,invite_targets:t.inviteTargets,invite_flow_id:t.invite_flow_id}}})}function l(i,t){const e=_().AI(),r=o().FX();(0,n().u4)({environment:i,event:{eventName:"google_contacts_imports_invite_completed",eventProperties:{subscription_tier:e,domain_type:r,invited_user_count:t.invited_user_count,is_success:t.is_success,origin:t.origin,invite_flow_id:t.invite_flow_id,error:t.error,invite_stage:t.invite_stage}}})}function v(i,t){const e=_().AI(),r=o().FX();(0,n().u4)({environment:i,event:{eventName:"google_contacts_imports_invite_dismiss_popup",eventProperties:{subscription_tier:e,domain_type:r,origin:t.origin,invite_flow_id:t.invite_flow_id}}})}function d(i,t){const e=_().AI(),r=o().FX();(0,n().u4)({environment:i,event:{eventName:"google_contacts_imports_invite_click_select_all",eventProperties:{subscription_tier:e,domain_type:r,origin:t.origin,invite_flow_id:t.invite_flow_id,invited_user_count:t.invited_user_count,is_unselect:t.is_unselect,invite_token_query:t.invite_token_query}}})}function g(i,t){const e=_().AI(),s=o().FX();(0,n().u4)({environment:i,event:{eventName:"google_contacts_imports_invite_start_google_contacts_integration",eventProperties:{subscription_tier:e,domain_type:s,origin:t.origin,invite_flow_id:t.invite_flow_id,from:t.from}}}),r().default.logEvent("google_contacts_imports_invite_start_google_contacts_integration",void 0,{subscription_tier:e,domain_type:s,origin:t.origin,invite_flow_id:t.invite_flow_id,from:t.from})}function u(i,t){const e=_().AI(),s=o().FX();(0,n().u4)({environment:i,event:{eventName:"google_contacts_imports_invite_complete_google_contacts_integration",eventProperties:{subscription_tier:e,domain_type:s,origin:t.origin,invite_flow_id:t.invite_flow_id,from:t.from,is_success:t.is_success}}}),r().default.logEvent("google_contacts_imports_invite_complete_google_contacts_integration",void 0,{subscription_tier:e,domain_type:s,origin:t.origin,invite_flow_id:t.invite_flow_id,from:t.from})}},211237:(i,t,e)=>{e.d(t,{M:()=>a});e(242343);var n=()=>e(174114),o=()=>e(855470),r=()=>e(587585),_=()=>e(220413),s=()=>e(966789),c=e(163643);function a(i){const{isConnecting:t,isIntegrationAuthenticated:e,hideChevronIcon:a}=i,l=(0,n().IS)((i=>({circleCheck:{height:14,width:14,color:_().Ay.blue,fill:_().Ay.blue},chevron:{height:12,width:12},loadingSpinner:{marginLeft:6}})),[]);return t?(0,c.jsx)(s().A,{legacySize:14,style:l.loadingSpinner}):(0,c.jsxs)(c.Fragment,{children:[e&&(0,r().q)(l.circleCheck),!a&&(0,o().V)(l.chevron)]})}},326638:(i,t,e)=>{e.r(t),e.d(t,{GoogleImportContactsButton:()=>h});e(725707),e(491955),e(500234);var n=e(242343),o=()=>e(237385),r=()=>e(803290),_=()=>e(706788),s=()=>e(23371),c=()=>e(204132),a=()=>e(151004),l=()=>e(818369),v=()=>e(423392),d=()=>e(209684),g=()=>e(211237),u=()=>e(785061),p=()=>e(485966),m=()=>e(773082),f=e(163643);function h(i){const{onClickAuthenticated:t,buttonLabel:e,inviteOrigin:h,flowId:w,from:y,hideChevronIcon:C,containerStyle:b,buttonStyle:A,loadContacts:I}=i,k=(0,o().v3)(),[x,F]=n.useState(!1),S=(0,r().O$)(p().AppStoreCurrentSpaceStore),N=(0,r().K8)((()=>{const i=null==S?void 0:S.getBotSettingsStore().getValue();return"approved_only"!==(null==i?void 0:i.integration_restrictions)||Boolean((null==i?void 0:i.integration_approval_statuses)&&i.integration_approval_statuses[_().E8])}),[S]),P=(0,r().K8)((()=>m().A.integrations.state.find((i=>i.id===_().E8))),[]),j=(0,r().K8)((()=>m().A.externalAuthentications.state.filter((i=>i.integration_id===_().E8))),[]),X=(0,u().Hc)();return S&&N?(0,f.jsx)("div",{style:b,children:(0,f.jsx)(d().p,{style:A,onClick:async()=>{0===j.length?await async function(i){const{from:e,loadContacts:n}=i,o=k.currentUser.id;if(!P||!S||!o)return;try{var r;F(!0),a().xC(k,{origin:h,from:e,invite_flow_id:w});const i=await v().Jq({environment:k,integration:P,spaceId:S.id,from:e});if(c().Q.isFail(i))return void a().yF(k,{origin:h,from:e,invite_flow_id:w,is_success:!1});const o=null===(r=i.value.externalAuthentication)||void 0===r?void 0:r.parent_id;if(!o)return;a().yF(k,{origin:h,from:e,invite_flow_id:w,is_success:!0}),n&&await Promise.race([l().callApi({eventName:"loadContacts",environment:k,data:{botId:o,spaceId:S.id,integrationId:P.id,importContactType:"google"}}),(0,s().wR)(2e3)]),null==t||t()}finally{F(!1)}}({from:y,loadContacts:I}):j.length>0&&(null==t||t())},children:(0,f.jsxs)("div",{style:X.labelContainer,children:[e,(0,f.jsx)(g().M,{isConnecting:x,isIntegrationAuthenticated:j.length>0,hideChevronIcon:C})]})})}):null}},587585:(i,t,e)=>{e.d(t,{q:()=>o});e(242343);var n=e(163643);const o=(0,e(680369).wt)("circleCheckFilled",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M8 16c4.377 0 8-3.631 8-8 0-4.376-3.631-8-8.008-8C3.624 0 0 3.624 0 8c0 4.369 3.631 8 8 8zm-.886-4.165c-.267 0-.487-.11-.69-.384l-1.97-2.416a.852.852 0 01-.187-.51c0-.352.274-.643.627-.643.228 0 .4.07.596.33l1.592 2.055 3.35-5.38c.148-.236.352-.362.556-.362.345 0 .667.236.667.604 0 .173-.102.353-.196.518l-3.686 5.804c-.165.259-.393.384-.66.384z"})})},855470:(i,t,e)=>{e.d(t,{V:()=>o});e(242343);var n=e(163643);const o=(0,e(680369).wt)("chevronRight",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M12.375 8.06445C12.375 7.83203 12.2861 7.63379 12.1084 7.45605L6.77637 2.24023C6.62598 2.08984 6.44141 2.01465 6.22266 2.01465C5.77832 2.01465 5.42285 2.35645 5.42285 2.80078C5.42285 3.01953 5.51172 3.21777 5.66211 3.375L10.4746 8.06445L5.66211 12.7539C5.51855 12.9043 5.42285 13.1025 5.42285 13.3213C5.42285 13.7725 5.77832 14.1143 6.22266 14.1143C6.44141 14.1143 6.62598 14.0391 6.77637 13.8887L12.1084 8.67285C12.293 8.49512 12.375 8.29688 12.375 8.06445Z"})})}}]);