"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[11097,64165,90871],{18642:(t,e,n)=>{n.d(e,{S:()=>i,d:()=>s});var o=()=>n(975392);const r={getDescription:t=>t.formatMessage({defaultMessage:"This connection allows accessing and editing the connected Notion database.",id:"workflow.module.database.description"}),getName:(t,e)=>e.state?(0,o().ZH)(e.name||"Untitled"):t.formatMessage({defaultMessage:"Database",id:"workflow.module.database.title"}),getModuleConfigSection:()=>"databases"},a={agent:{getDescription:t=>t.formatMessage({defaultMessage:"This connection adds a chat interface that the workflow can interact with.",id:"workflow.module.agent.description"}),getName:(t,e)=>e.name?(0,o().ZH)(e.name):t.formatMessage({defaultMessage:"Agent",id:"workflow.module.agent.title"}),getModuleConfigSection:()=>"agent"},ai:{getDescription:t=>t.formatMessage({defaultMessage:"This connection allows the workflow to use AI when performing a run",id:"workflow.module.ai.description"}),getName:t=>t.formatMessage({defaultMessage:"AI",id:"workflow.module.ai.title"}),getModuleConfigSection:()=>"connections"},calendar:{getDescription:t=>t.formatMessage({id:"workflows.modules.calendar.description",defaultMessage:"Integration with Calendar"}),getName:(t,e)=>t.formatMessage({id:"workflows.modules.calendar.name",defaultMessage:"Calendar"}),getMessageIfNotValid:(t,e)=>t.formatMessage({id:"workflows.modules.calendar.notConnected",defaultMessage:"Calendar is not connected to {workflowName}"},{workflowName:e}),getModuleConfigSection:()=>"connections"},config:n(530255).Y,database:r,discussions:{getDescription:t=>t.formatMessage({defaultMessage:"This connection allows manipulating the comments on a Notion database",id:"workflow.module.discussions.description"}),getName:t=>t.formatMessage({defaultMessage:"Discussions",id:"workflow.module.discussions.title"}),getModuleConfigSection:()=>"system"},files:{getDescription:t=>t.formatMessage({defaultMessage:"This connection allows working with files in your Workflow.",id:"workflow.module.files.description"}),getName:t=>t.formatMessage({defaultMessage:"Files",id:"workflow.module.files.title"}),getModuleConfigSection:()=>"system"},github:{getDescription:t=>t.formatMessage({id:"workflows.modules.github.description",defaultMessage:"Fetch information about pull requests, issues, repositories, and more."}),getName:(t,e)=>t.formatMessage({id:"workflows.modules.github.name",defaultMessage:"Github"}),getMessageIfNotValid:t=>t.formatMessage({id:"workflows.modules.github.notConnected",defaultMessage:"Please connect to Github"}),getModuleConfigSection:()=>"connections"},mcpServer:{getDescription:t=>t.formatMessage({id:"workflows.modules.mcpServer.description",defaultMessage:"Integration with MCP server for AI inference with tools"}),getName:(t,e)=>t.formatMessage({id:"workflows.modules.mcpServer.name",defaultMessage:"MCP Server"}),getMessageIfNotValid:(t,e)=>t.formatMessage({id:"workflows.modules.mcpServer.notConnected",defaultMessage:"MCP Server is not configured in {workflowName}"},{workflowName:e}),getModuleConfigSection:()=>"connections"},notifications:{getDescription:t=>t.formatMessage({id:"workflows.modules.notifications.description",defaultMessage:"This module allows sending Notion notifications"}),getName:(t,e)=>t.formatMessage({id:"workflows.modules.notifications.name",defaultMessage:"Notifications"}),getMessageIfNotValid:()=>"",getModuleConfigSection:()=>"system"},notionmail:{getDescription:t=>t.formatMessage({defaultMessage:"Integration with Notion Mail",id:"workflow.module.notionmail.description"}),getName:t=>t.formatMessage({defaultMessage:"Notion Mail",id:"workflow.module.notionmail.title"}),getMessageIfNotValid:(t,e)=>t.formatMessage({defaultMessage:"Notion Mail is not connected to {workflowName}",id:"workflow.module.notionmail.notConnected"},{workflowName:e}),getModuleConfigSection:()=>"connections"},npmModules:{getDescription:t=>t.formatMessage({id:"workflows.modules.npmModules.description",defaultMessage:"Integration with NPM Modules"}),getName:(t,e)=>t.formatMessage({id:"workflows.modules.npmModules.name",defaultMessage:"NPM Modules"}),getMessageIfNotValid:(t,e)=>t.formatMessage({id:"workflows.modules.npmModules.notConnected",defaultMessage:"NPM Modules is not connected to {workflowName}"},{workflowName:e}),getModuleConfigSection:()=>"connections"},page:{getDescription:t=>t.formatMessage({id:"workflows.modules.page.description",defaultMessage:"This connection allows accessing and editing the connected Notion pages."}),getName:(t,e)=>t.formatMessage({id:"workflows.modules.page.name",defaultMessage:"Page"}),getModuleConfigSection:()=>"system"},recurrence:{getDescription:t=>t.formatMessage({defaultMessage:"This connection allows triggering an Automation on a schedule.",id:"workflow.module.recurrence.description"}),getName:t=>t.formatMessage({defaultMessage:"Recurrence",id:"workflow.module.recurrence.title"}),getModuleConfigSection:()=>"system"},search:{getDescription:t=>t.formatMessage({defaultMessage:"This connection allows the workflow to search for content in your Notion workspace.",id:"workflow.module.search.description"}),getName:t=>t.formatMessage({defaultMessage:"Search",id:"workflow.module.search.title"}),getModuleConfigSection:()=>"connections"},slack:{getDescription:t=>t.formatMessage({defaultMessage:"This connection allows sending messages and receiving triggers from a connected Slack workspace.",id:"workflow.module.slack.description"}),getName:(t,e)=>{var n;return null!==(n=e.state)&&void 0!==n&&n.name?t.formatMessage({defaultMessage:"Slack - {name}",id:"workflow.module.slack.titleWithName"},{name:e.state.name}):t.formatMessage({defaultMessage:"Slack",id:"workflow.module.slack.title"})},getMessageIfNotValid:(t,e)=>t.formatMessage({defaultMessage:"Slack is not connected to {workflowName}",id:"workflow.module.slack.notConnected"},{workflowName:e}),getModuleConfigSection:()=>"connections"},users:{getDescription:t=>t.formatMessage({defaultMessage:"This connection allows getting information about users in your Notion workspace.",id:"workflow.module.users.description"}),getName:t=>t.formatMessage({defaultMessage:"Users",id:"workflow.module.users.title"}),getModuleConfigSection:()=>"system"},web:{getDescription:t=>t.formatMessage({id:"workflows.modules.web.description",defaultMessage:"Integration with Web Search"}),getName:(t,e)=>t.formatMessage({id:"workflows.modules.web.name",defaultMessage:"Web Search"}),getMessageIfNotValid:t=>"",getModuleConfigSection:()=>"connections"},zendesk:{getDescription:t=>t.formatMessage({id:"workflows.modules.zendesk.description",defaultMessage:"Integration with Zendesk Support"}),getName:(t,e)=>t.formatMessage({id:"workflows.modules.zendesk.name",defaultMessage:"Zendesk"}),getMessageIfNotValid:(t,e)=>t.formatMessage({id:"workflows.modules.zendesk.notConnected",defaultMessage:"Zendesk is not connected to {workflowName}"},{workflowName:e}),getModuleConfigSection:()=>"connections"}};function i(t){return t}const s={getName:(t,e)=>a[t.type].getName(e,t),getDescription:(t,e)=>a[t.type].getDescription(e),getIcon:t=>(0,n(246203).c)(t),isValidAndConnected:(t,e)=>"ready"===n(963002).Nh[t.type].getModuleConfigurationStatus(t,e),getMessageIfNotValid:(t,e,n)=>{var o,r;return null===(o=a[t.type])||void 0===o||null===(r=o.getMessageIfNotValid)||void 0===r?void 0:r.call(o,e,n)},getModuleConfigSection:t=>{var e,n;return(null===(e=a[t.type])||void 0===e||null===(n=e.getModuleConfigSection)||void 0===n?void 0:n.call(e))??"system"}}},44250:(t,e,n)=>{function o(t){return!(!t||"askUserToPick"in t)}function r(t){if(!t||!("askUserToPick"in t))return t}function a(t){return!(!t||!("askUserToPick"in t))&&t.askUserToPick}n.d(e,{DK:()=>r,K$:()=>o,j6:()=>a})},59714:(t,e,n)=>{n.d(e,{Y:()=>r});n(242343);const o={viewBox:"0 0 20 20",svg:(0,n(163643).jsx)("path",{d:"M10 2.375a7.625 7.625 0 1 0 0 15.25 7.625 7.625 0 0 0 0-15.25m2.817 4.808a.625.625 0 0 1 0 .884L10.884 10l1.933 1.933a.625.625 0 1 1-.884.884L10 10.884l-1.933 1.933a.625.625 0 1 1-.884-.884L9.116 10 7.183 8.067a.625.625 0 1 1 .884-.884L10 9.116l1.933-1.933a.625.625 0 0 1 .884 0"})},r=(0,n(680369).wt)("xMarkCircleFill",o)},137696:(t,e,n)=>{n.d(e,{$X:()=>a,H8:()=>i,x2:()=>r});var o=()=>n(76394);function r(t){return"event"===t||"recurrence"===t}function a(t){const e=t.getTrigger();return(0,o().O9)(e)&&r(e.type)}function i(t){return"event"===t?"event":"recurrence"===t?"recurrence":void(0,o().HB)(t)}},140176:(t,e,n)=>{n.d(e,{B:()=>a});n(242343);var o=n(163643);const r={viewBox:"0 0 20 20",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M12.93 12.442a.625.625 0 0 1-.884 0l-1.421-1.42v3.465a.625.625 0 1 1-1.25 0v-3.466l-1.42 1.42a.625.625 0 1 1-.884-.883L9.558 9.07a.625.625 0 0 1 .884 0l2.487 2.487a.625.625 0 0 1 0 .884"}),(0,o.jsx)("path",{d:"M6.25 2.375A2.125 2.125 0 0 0 4.125 4.5v11c0 1.174.951 2.125 2.125 2.125h7.5a2.125 2.125 0 0 0 2.125-2.125V8.121c0-.563-.224-1.104-.622-1.502L11.63 2.997a2.13 2.13 0 0 0-1.502-.622zM5.375 4.5c0-.483.392-.875.875-.875H10V6.25a2 2 0 0 0 2 2h2.625v7.25a.875.875 0 0 1-.875.875h-7.5a.875.875 0 0 1-.875-.875zm8.741 2.75H12a1 1 0 0 1-1-1V4.134z"})]})},a=(0,n(680369).wt)("arrowPageUp",r)},151602:(t,e,n)=>{n.d(e,{A:()=>a});class o extends(()=>n(129044))().default{getInitialState(){return{}}}const r=new o;n(996094).exposeDebugValue("SpaceWorkflowTemplateInstanceMapStore",r);const a=r},155342:(t,e,n)=>{n.r(e),n.d(e,{iconDefinition:()=>r,questionMarkCircleIcon:()=>a});n(242343);var o=n(163643);const r={viewBox:"0 0 20 20",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M9.978 7.154c-.804 0-1.333.456-1.438.874a.625.625 0 0 1-1.213-.303c.28-1.121 1.44-1.82 2.65-1.82 1.365 0 2.714.905 2.714 2.298 0 .812-.49 1.477-1.13 1.872l-.755.516a.84.84 0 0 0-.381.677.625.625 0 1 1-1.25 0c0-.688.36-1.318.921-1.706l.003-.002.784-.535.014-.008c.374-.228.544-.537.544-.814 0-.459-.517-1.049-1.463-1.049m.662 6.336a.8.8 0 1 1-1.6 0 .8.8 0 0 1 1.6 0"}),(0,o.jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 15.25 0 7.625 7.625 0 0 1-15.25 0M10 3.625a6.375 6.375 0 1 0 0 12.75 6.375 6.375 0 0 0 0-12.75"})]})},a=(0,n(680369).wt)("questionMarkCircle",r)},170582:(t,e,n)=>{n.d(e,{r:()=>r});n(242343);const o={viewBox:"0 0 20 20",svg:(0,n(163643).jsx)("path",{d:"M10 2.355a2.35 2.35 0 0 0-2.253 1.686 5.06 5.06 0 0 0-2.803 4.527v1.189c0 .919-.334 1.806-.939 2.498l-.818.935c-.881 1.007-.166 2.583 1.173 2.583h3.02a2.65 2.65 0 0 0 5.24 0h3.02c1.339 0 2.054-1.576 1.173-2.583l-.818-.935a3.8 3.8 0 0 1-.939-2.498v-1.19a5.06 5.06 0 0 0-2.803-4.526A2.35 2.35 0 0 0 10 2.355m1.5 13.418a1.55 1.55 0 0 1-2.998 0zM8.909 4.564A1.104 1.104 0 0 1 10 3.605c.556 0 1.017.415 1.091.96l.049.353.329.138a3.81 3.81 0 0 1 2.337 3.512v1.189c0 1.221.444 2.401 1.248 3.32l.818.936a.307.307 0 0 1-.232.51H4.36a.308.308 0 0 1-.232-.51l.818-.935a5.04 5.04 0 0 0 1.248-3.321v-1.19c0-1.58.963-2.936 2.337-3.511l.33-.138z"})},r=(0,n(680369).wt)("bell",o)},233724:(t,e,n)=>{n.d(e,{r9:()=>i,dg:()=>a});var o=()=>n(76394);const r=["d3.js","notionComponents","threeJs"];function a(t){return!!(0,o().Xk)(r,t)}const i=JSON.parse('{"notionComponents":{"visible":true,"name":"Notion Components","description":"Use Notion-styled components for your UI like <Components.Button>. This module should ALWAYS be included unless explicitly told not to be used.","version":"1","versions":{"1":"1.0.0"},"urlTemplate":"https://dev-custom-views-modules-usw2.s3.us-west-2.amazonaws.com/components.js","promptText":"You can directly access a subset of core shadcn/ui components:\\n<Components.Button>, <Components.Card>, <Components.CardContent>, <Components.CardDescription>, <Components.CardFooter>, <Components.CardHeader>, <Components.CardTitle>, <Components.Checkbox>, <Components.DropdownMenu>, <Components.Input>, <Components.Label>, <Components.Select>, <Components.SelectItem>, <Components.Skeleton>, <Components.Slider>, <Components.Switch>,  <Components.Tabs>, <Components.TabsList>, <Components.TabsTrigger>, <Components.TabsContent>, <Components.Textarea>, <Components.Tooltip>, <Components.TooltipContent>, <Components.TooltipProvider>, <Components.TooltipTrigger>. Prefer using these over the primitive HTML version where applicable (e.g. <Component.Button> is preferred over <button>).","types":"declare const cn: (...classes: any[]) => string;\\n\\ndeclare namespace Components {\\n\\tinterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\\n\\t\\tvariant?: \\"default\\" | \\"primary\\" | \\"secondary\\" | \\"destructive\\" | \\"outline\\" | \\"ghost\\" | \\"link\\" | \\"black\\" | \\"tintBlue\\" | \\"tintRed\\" | \\"tintRegular\\";\\n\\t\\tsize?: \\"default\\" | \\"sm\\" | \\"lg\\" | \\"icon\\";\\n\\t\\tasChild?: boolean;\\n\\t}\\n\\tconst Button: React.ForwardRefExoticComponent<ButtonProps & React.RefAttributes<HTMLButtonElement>>;\\n\\n\\ttype CardProps = React.HTMLAttributes<HTMLDivElement>;\\n\\tconst Card: React.ForwardRefExoticComponent<CardProps & React.RefAttributes<HTMLDivElement>>;\\n\\n\\ttype CardHeaderProps = React.HTMLAttributes<HTMLDivElement>;\\n\\tconst CardHeader: React.ForwardRefExoticComponent<CardHeaderProps & React.RefAttributes<HTMLDivElement>>;\\n\\n\\ttype CardTitleProps = React.HTMLAttributes<HTMLHeadingElement>;\\n\\tconst CardTitle: React.ForwardRefExoticComponent<CardTitleProps & React.RefAttributes<HTMLHeadingElement>>;\\n\\n\\ttype CardDescriptionProps = React.HTMLAttributes<HTMLParagraphElement>;\\n\\tconst CardDescription: React.ForwardRefExoticComponent<CardDescriptionProps & React.RefAttributes<HTMLParagraphElement>>;\\n\\n\\ttype CardContentProps = React.HTMLAttributes<HTMLDivElement>;\\n\\tconst CardContent: React.ForwardRefExoticComponent<CardContentProps & React.RefAttributes<HTMLDivElement>>;\\n\\n\\ttype CardFooterProps = React.HTMLAttributes<HTMLDivElement>;\\n\\tconst CardFooter: React.ForwardRefExoticComponent<CardFooterProps & React.RefAttributes<HTMLDivElement>>;\\n\\n\\ttype CheckboxProps = any;\\n\\tconst Checkbox: React.ForwardRefExoticComponent<CheckboxProps & React.RefAttributes<any>>;\\n\\n\\ttype DropdownMenuProps = any;\\n\\tconst DropdownMenu: React.ComponentType<DropdownMenuProps>;\\n\\ttype DropdownMenuTriggerProps = any;\\n\\tconst DropdownMenuTrigger: React.ForwardRefExoticComponent<DropdownMenuTriggerProps & React.RefAttributes<any>>;\\n\\ttype DropdownMenuContentProps = any;\\n\\tconst DropdownMenuContent: React.ForwardRefExoticComponent<DropdownMenuContentProps & React.RefAttributes<any>>;\\n\\n\\ttype InputProps = React.InputHTMLAttributes<HTMLInputElement>;\\n\\tconst Input: React.ForwardRefExoticComponent<InputProps & React.RefAttributes<HTMLInputElement>>;\\n\\n\\ttype LabelProps = any;\\n\\tconst Label: React.ForwardRefExoticComponent<LabelProps & React.RefAttributes<any>>;\\n\\n  type SelectProps = any;\\n  const Select: React.ForwardRefExoticComponent<SelectProps & React.RefAttributes<any>>;\\n  type SelectItemProps = any;\\n  const SelectItem: React.ForwardRefExoticComponent<SelectItemProps & React.RefAttributes<any>>;\\n\\n\\ttype SkeletonProps = React.HTMLAttributes<HTMLDivElement>;\\n\\tconst Skeleton: React.ForwardRefExoticComponent<SkeletonProps & React.RefAttributes<HTMLDivElement>>;\\n\\n\\ttype SliderProps = any;\\n\\tconst Slider: React.ForwardRefExoticComponent<SliderProps & React.RefAttributes<any>>;\\n\\n\\ttype SwitchProps = any;\\n\\tconst Switch: React.ForwardRefExoticComponent<SwitchProps & React.RefAttributes<any>>;\\n\\n\\ttype TabsProps = any;\\n\\tconst Tabs: React.ForwardRefExoticComponent<TabsProps & React.RefAttributes<any>>;\\n\\n\\ttype TabsListProps = any;\\n\\tconst TabsList: React.ForwardRefExoticComponent<TabsListProps & React.RefAttributes<any>>;\\n\\n\\ttype TabsTriggerProps = any;\\n\\tconst TabsTrigger: React.ForwardRefExoticComponent<TabsTriggerProps & React.RefAttributes<any>>;\\n\\n\\ttype TabsContentProps = any;\\n\\tconst TabsContent: React.ForwardRefExoticComponent<TabsContentProps & React.RefAttributes<any>>;\\n\\n\\ttype TextareaProps = React.TextareaHTMLAttributes<HTMLTextAreaElement>;\\n\\tconst Textarea: React.ForwardRefExoticComponent<TextareaProps & React.RefAttributes<HTMLTextAreaElement>>;\\n\\n\\ttype TooltipProps = any;\\n\\ttype TooltipProviderProps = any;\\n\\tconst TooltipProvider: React.ComponentType<TooltipProviderProps>;\\n\\tconst Tooltip: React.ComponentType<TooltipProps>;\\n\\ttype TooltipTriggerProps = any;\\n\\tconst TooltipTrigger: React.ForwardRefExoticComponent<TooltipTriggerProps & React.RefAttributes<any>>;\\n\\ttype TooltipContentProps = any;\\n\\tconst TooltipContent: React.ForwardRefExoticComponent<TooltipContentProps & React.RefAttributes<any>>;\\n}","exportedVariables":["cn","Components"]},"d3.js":{"visible":true,"name":"d3.js","description":"Use d3.js for complex data visualization needs, if and only if the user explicitly asks for d3.js.","version":"1","versions":{"1":"7.9.0"},"urlTemplate":"https://unpkg.com/d3@{version}/dist/d3.min.js","promptText":"You can access the global `d3` object to use d3.js (for any charts or dashboards or other data visualizations) v7.9.0.","types":"declare const d3: any // Use d3.js for data visualization.","exportedVariables":["d3"]},"threeJs":{"visible":true,"name":"three.js","description":"Use three.js for 3D rendering, if and only if the user explicitly asks for three.js.","version":"1","versions":{"1":"0.150.0"},"urlTemplate":"https://unpkg.com/three@{version}/build/three.min.js","promptText":"You can directly access the global `THREE` object to use three.js (for any 3D models or animations or other visualizations) v0.150.0.","types":"declare const THREE: any // Use three.js for 3D models or animations or other visualizations.","exportedVariables":["THREE"]}}')},246203:(t,e,n)=>{n.d(e,{c:()=>T});var o=()=>n(226e3),r=()=>n(140176),a=()=>n(644540),i=()=>n(170582),s=()=>n(635123),l=()=>n(700150),c=()=>n(278739),u=()=>n(870122);n(242343);const d={viewBox:"0 0 20 20",svg:(0,n(163643).jsx)("path",{d:"M6.175 2.4c-.842 0-1.525.683-1.525 1.525v.4c0 1.283.481 2.52 1.349 3.465L8.027 10l-2.028 2.21a5.13 5.13 0 0 0-1.35 3.465v.4c0 .842.684 1.525 1.526 1.525h7.65c.842 0 1.525-.683 1.525-1.525v-.4c0-1.283-.481-2.52-1.349-3.465L11.973 10l2.028-2.21a5.13 5.13 0 0 0 1.349-3.465v-.4c0-.842-.683-1.525-1.525-1.525zM5.9 3.925c0-.152.123-.275.275-.275h7.65c.152 0 .275.123.275.275v.4c0 .97-.364 1.905-1.02 2.62l-2.416 2.632a.625.625 0 0 0 0 .846l2.416 2.632c.62.676.98 1.548 1.017 2.46l-2.907-2.463a1.84 1.84 0 0 0-2.38 0l-2.907 2.464a3.88 3.88 0 0 1 1.017-2.46l2.415-2.633a.625.625 0 0 0 0-.846L6.92 6.945a3.88 3.88 0 0 1-1.02-2.62z"})},p=(0,n(680369).wt)("hourglass",d);var g=()=>n(842940),f=()=>n(956548),m=()=>n(528626),y=()=>n(954397),b=()=>n(486796),v=()=>n(565467),w=()=>n(965646),h=()=>n(35885),k=()=>n(880425),M=()=>n(76394);function T(t){return"database"===t.type?s().c:"slack"===t.type?h().slackIcon:"search"===t.type?g().J:"users"===t.type?m().z:"agent"===t.type?o().v:"recurrence"===t.type?p:"files"===t.type?r().B:"ai"===t.type?b().sparklesIcon:"discussions"===t.type?a().arrowUTurnUpLeftIcon:"page"===t.type?f().pageIcon:"github"===t.type?w().gitHubIcon:"mcpServer"===t.type?l().V:"notionmail"===t.type?c().o:"web"===t.type?u().globeIcon:"zendesk"===t.type?k().zendeskIcon:"config"===t.type?y().slidersIcon:"notifications"===t.type?i().r:"npmModules"===t.type?l().V:"calendar"===t.type?v().calendarIcon:void(0,M().HB)(t.type)}},271142:(t,e,n)=>{n.d(e,{EC:()=>M,To:()=>k,YC:()=>T,or:()=>h,u:()=>w});n(610931);var o=n(242343),r=()=>n(237385),a=()=>n(803290),i=()=>n(496985),s=()=>n(232312),l=()=>n(653998),c=()=>n(76394),u=()=>n(337658),d=()=>n(73631),p=()=>n(137696),g=()=>n(129978),f=()=>n(113800),m=()=>n(830925),y=n(163643);const b=new WeakMap,v=(0,o.createContext)({automationStore:void 0,contextType:void 0,defined:!1,typecheckResult:void 0});v.displayName="AutomationContext";function w(t){const{automationStore:e,children:n,contextType:o}=t,w=(0,r().v3)(),h=(0,l().tz)(),{value:k}=(0,g().fJ)(d().T.formulas),{value:M}=(0,g().fJ)(u().QV.automationTypecheck),T=(0,m().n)(e),C=(0,a().K8)((()=>{if(!k)return{error:new(s().N9)("Missing formulas dependency")};if(!M)return{error:new(s().N9)("Missing automation dependency")};const t=function(t){const{environment:e,automationStore:n,automationTypecheckModule:o,contextType:r,formulasModule:a,intl:s,isSubscribed:l}=t,u=b.get(n);if(u)return u;{const t=new(i().default)((()=>{const t=n.getTriggerType();let i=r;return(0,c().O9)(t)&&(0,p().x2)(t)&&(i=(0,p().H8)(t)),(0,f().Z)({environment:e,automationStore:n,automationTypecheckModule:o,contextType:i,formulasModule:a,intl:s,isSubscribed:l})}),{debugName:"automationContextTypecheckResultCachedStore"});return b.set(n,t),t}}({environment:w,automationStore:e,automationTypecheckModule:M,contextType:o,formulasModule:k,intl:h,isSubscribed:T});return t.state}),[w,e,M,o,k,h,T]);return(0,y.jsx)(v.Provider,{value:{automationStore:e,typecheckResult:C,contextType:o,defined:!0},children:n})}function h(t){const{automationStore:e,children:n}=t,o=(0,a().K8)((()=>{var t;return null===(t=e.getTrigger())||void 0===t?void 0:t.type}),[e]);return(0,y.jsx)(w,{automationStore:e,contextType:(0,p().H8)(o??"event"),children:n})}function k(t){var e;return null===(e=b.get(t))||void 0===e?void 0:e.state}function M(){const t=o.useContext(v);if(!1===t.defined)throw new Error("No automation context found!");return t}function T(){return o.useContext(v)}},278739:(t,e,n)=>{n.d(e,{o:()=>r});n(242343);const o={viewBox:"0 0 20 20",svg:(0,n(163643).jsx)("path",{d:"M2.375 6.25c0-1.174.951-2.125 2.125-2.125h11c1.174 0 2.125.951 2.125 2.125v7.5a2.125 2.125 0 0 1-2.125 2.125h-11a2.125 2.125 0 0 1-2.125-2.125zm1.25 7.49L7.366 10 3.625 6.259zm.884.885H15.49l-3.74-3.741-1.309 1.308a.625.625 0 0 1-.884 0L8.25 10.884zM12.634 10l3.741 3.741V6.26zM4.509 5.375 10 10.866l5.491-5.491z"})},r=(0,n(680369).wt)("envelope",o)},307612:(t,e,n)=>{n.d(e,{s:()=>a});n(242343);var o=n(163643);const r={viewBox:"0 0 20 20",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M9.112 2.863a4.17 4.17 0 0 0-4.92.468.875.875 0 0 0 1.167 1.304 2.42 2.42 0 0 1 3.44.22.875.875 0 0 0 1.322-1.146 4.2 4.2 0 0 0-1.01-.846m1.248 2.563a4.167 4.167 0 0 1 7.173.037.875.875 0 1 1-1.511.883 2.417 2.417 0 0 0-4.16-.02l-5.21 8.697 3.828.62a.875.875 0 0 1-.28 1.728l-5.102-.827a.875.875 0 0 1-.61-1.313zM6.51 9.204a1.416 1.416 0 1 0 .452-2.795 1.416 1.416 0 0 0-.453 2.795"}),(0,o.jsx)("path",{d:"M12.72 10.21a1.416 1.416 0 1 0 .453-2.795 1.416 1.416 0 0 0-.453 2.795"})]})},a=(0,n(680369).wt)("aiFaceFill",r)},367950:(t,e,n)=>{function o(t){return`${t.table}:${t.id}`}n.d(e,{_:()=>o})},528626:(t,e,n)=>{n.d(e,{z:()=>r});n(242343);const o={viewBox:"0 0 20 20",svg:(0,n(163643).jsx)("path",{d:"M10 2.375c-1.137 0-2.054.47-2.674 1.242-.608.757-.9 1.765-.9 2.824s.292 2.066.9 2.824c.62.772 1.537 1.241 2.674 1.241s2.055-.469 2.675-1.241c.608-.758.9-1.766.9-2.824 0-1.059-.292-2.067-.9-2.824-.62-.773-1.538-1.242-2.675-1.242M7.676 6.441c0-.842.233-1.554.624-2.042.38-.473.937-.774 1.7-.774s1.32.301 1.7.774c.391.488.624 1.2.624 2.042s-.233 1.554-.624 2.041c-.38.473-.937.774-1.7.774s-1.32-.3-1.7-.774c-.391-.487-.624-1.2-.624-2.041M10 11.63c-2.7 0-5.101 1.315-6.12 3.305-.361.706-.199 1.421.23 1.923.412.48 1.06.767 1.74.767h8.3c.68 0 1.328-.287 1.74-.767.429-.502.591-1.217.23-1.923-1.02-1.99-3.42-3.305-6.12-3.305m-5.007 3.875c.761-1.488 2.672-2.626 5.007-2.626s4.246 1.138 5.007 2.626c.105.204.07.378-.067.54-.156.182-.448.33-.79.33h-8.3c-.342 0-.634-.148-.79-.33-.138-.162-.172-.336-.067-.54"})},r=(0,n(680369).wt)("person",o)},530255:(t,e,n)=>{n.d(e,{Y:()=>r,a:()=>a});var o=()=>n(852236);const r={getDescription:t=>t.formatMessage({id:"workflows.modules.config.description",defaultMessage:"Access configuration values"}),getName:t=>t.formatMessage({id:"workflows.modules.config.name",defaultMessage:"Configuration variables"}),getMessageIfNotValid:void 0,getModuleConfigSection:()=>"connections"};function a(t){const{modules:e}=t;if(!e)return!1;for(const n of e){const e=(0,o().v)(t,n.key);if(Object.keys(e).length>0)return!0}return!1}},533639:(t,e,n)=>{n.d(e,{p:()=>o});class o extends(()=>n(998969))().p3{constructor(t,e){super(t,e)}after(t,e){return super.after(t,e)}}},555434:(t,e,n)=>{n.d(e,{Y:()=>r});var o=()=>n(803290);function r(t){return(0,o().K8)((()=>null==t?void 0:t.getWorkflowStore()),[t])}},565467:(t,e,n)=>{n.r(e),n.d(e,{calendarIcon:()=>a,iconDefinition:()=>r});n(242343);var o=n(163643);const r={viewBox:"0 0 20 20",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{fill:"#484743",d:"M3.345 15.902c-.307-.003-.58-.083-.792-.285l-.001-.001-.07-.075a1.1 1.1 0 0 1-.258-.716L2.22 3.685c0-.644.534-1.223 1.165-1.263l10.917-.688q.035-.003.071-.003a1.03 1.03 0 0 1 .797.368c.164.194.253.441.253.709v.285s.007.233-.22.249l.001.001-10.041.641c-.737.047-1.335.697-1.335 1.45l-.005 10.298c-.007.17-.145.17-.258.17z"}),(0,o.jsx)("path",{fill:"#484743",d:"m17.784 16.765-.003.05a.82.82 0 0 1-.647.737l-.02.002-11.647.72H5.43a.93.93 0 0 1-.603-.26.97.97 0 0 1-.295-.681V5.455a.82.82 0 0 1 .707-.747l.029-.004L16.92 3.96l.055-.002a.796.796 0 0 1 .774.583q.025.09.031.185z"}),(0,o.jsx)("path",{fill:"#fff",d:"M18.5 4.786c0-.439-.169-.842-.477-1.136a1.5 1.5 0 0 0-1.142-.414l-.598.037c-.15.004-.143-.113-.143-.113v-.352c0-.51-.197-.98-.555-1.322a1.74 1.74 0 0 0-1.328-.482l-10.919.688C2.325 1.756 1.5 2.651 1.5 3.686l.002 11.14c0 .51.197.98.555 1.322.33.317.757.488 1.214.488l.4-.007c.131 0 .153.062.153.178v.57c0 .457.179.879.5 1.186.296.284.68.437 1.089.437l.048-.001.024.001.108-.003 11.502-.71a2 2 0 0 0 .15-.018c.698-.087 1.254-.714 1.254-1.437l-.002-.007.003-.06zM3.345 15.902c-.307-.003-.58-.083-.792-.285l-.001-.001-.07-.075a1.1 1.1 0 0 1-.258-.716L2.22 3.685c0-.644.534-1.223 1.165-1.263l10.917-.688q.035-.003.071-.003a1.03 1.03 0 0 1 .797.368c.164.194.253.441.253.709v.285s.007.233-.22.249l.001.001-10.041.641c-.737.047-1.335.697-1.335 1.45l-.005 10.298c-.007.17-.145.17-.258.17zm14.443.863-.003.05a.82.82 0 0 1-.647.737l-.02.002-11.647.719h-.036a.93.93 0 0 1-.603-.259.97.97 0 0 1-.294-.681l-.002-.032V5.505l.002-.05a.82.82 0 0 1 .706-.747q.015-.001.029-.004l11.652-.744.055-.002a.796.796 0 0 1 .774.583q.025.09.031.185v7.698l.003 4.34"}),(0,o.jsx)("path",{fill:"#fff",fillRule:"evenodd",d:"m16.11 16.391-9.75.579c-.4.028-.752-.11-.741-.642v-8.29c0-.284.23-.466.483-.48L16.24 6.94a.427.427 0 0 1 .46.432v8.304c0 .304-.074.695-.587.715z",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#484743",d:"M8.639 10.072c-.477.03-.638.4-.638.97v.101c-.057.014-.104.026-.162.03-.343.022-.59-.263-.591-.773-.001-.78.684-1.515 1.99-1.598 1.162-.074 1.906.5 1.907 1.51 0 .76-.618 1.3-1.227 1.47 1.143.057 1.62.707 1.622 1.538.001 1.421-1.017 2.226-2.59 2.326l-.038.002c-1.182.075-2.011-.383-2.012-1.173 0-.45.323-.831.81-.862.037-.003.075.005.113.002.097.805.63 1.101 1.164 1.068.515-.033.876-.387.876-.887v-.02c0-.781-.64-.82-1.602-.859l-.153-.931c.896-.168 1.343-.466 1.342-1.006 0-.58-.315-.941-.81-.91h-.001zm4.297-.384c-.953.281-1.163-.146-1.059-.593a36 36 0 0 0 2.62-.797l.007 5.995 1.038.154c0 .39-.218.634-.609.66-.324.02-1.077.048-1.439.07-.562.036-1.59.122-1.59.122a.7.7 0 0 1-.04-.228c0-.19.077-.386.324-.471l.752-.248z"})]})},a=(0,n(680369).wt)("calendar",r)},594329:(t,e,n)=>{n.r(e),n.d(e,{CustomCollectionView:()=>I});n(610931),n(725707),n(491955),n(500234),n(324989),n(403517);var o=n(242343),r=()=>n(237385),a=()=>n(803290),i=()=>n(174114),s=()=>n(971053),l=()=>n(307612),c=()=>n(59714),u=()=>n(707781),d=()=>n(34662),p=()=>n(233724),g=()=>n(31448);const f="\n\n:root {\n\tfont-family: system-ui, Avenir, Helvetica, Arial, sans-serif;\n\tcolor-scheme: light dark;\n\n\tfont-synthesis: none;\n\ttext-rendering: optimizeLegibility;\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\n\t--radius: 0.625rem;\n}\n\n@theme inline {\n\t--radius-sm: calc(var(--radius) - 4px);\n\t--radius-md: calc(var(--radius) - 2px);\n\t--radius-lg: var(--radius);\n\t--radius-xl: calc(var(--radius) + 4px);\n\t--color-background: var(--background);\n\t--color-foreground: var(--foreground);\n\t--color-card: var(--card);\n\t--color-card-foreground: var(--card-foreground);\n\t--color-popover: var(--popover);\n\t--color-popover-foreground: var(--popover-foreground);\n\t--color-primary: var(--primary);\n\t--color-primary-foreground: var(--primary-foreground);\n\t--color-secondary: var(--secondary);\n\t--color-secondary-foreground: var(--secondary-foreground);\n\t--color-muted: var(--muted);\n\t--color-muted-foreground: var(--muted-foreground);\n\t--color-accent: var(--accent);\n\t--color-accent-foreground: var(--accent-foreground);\n\t--color-destructive: var(--destructive);\n\t--color-border: var(--border);\n\t--color-input: var(--input);\n\t--color-ring: var(--ring);\n\t--color-chart-1: var(--chart-1);\n\t--color-chart-2: var(--chart-2);\n\t--color-chart-3: var(--chart-3);\n\t--color-chart-4: var(--chart-4);\n\t--color-chart-5: var(--chart-5);\n\t--color-sidebar: var(--sidebar);\n\t--color-sidebar-foreground: var(--sidebar-foreground);\n\t--color-sidebar-primary: var(--sidebar-primary);\n\t--color-sidebar-primary-foreground: var(--sidebar-primary-foreground);\n\t--color-sidebar-accent: var(--sidebar-accent);\n\t--color-sidebar-accent-foreground: var(--sidebar-accent-foreground);\n\t--color-sidebar-border: var(--sidebar-border);\n\t--color-sidebar-ring: var(--sidebar-ring);\n\t--animate-accordion-down: accordion-down 0.2s ease-out;\n\t--animate-accordion-up: accordion-up 0.2s ease-out;\n\n\t@keyframes accordion-down {\n\t\tfrom {\n\t\t\theight: 0;\n\t\t}\n\t\tto {\n\t\t\theight: var(--radix-accordion-content-height);\n\t\t}\n\t}\n\n\t@keyframes accordion-up {\n\t\tfrom {\n\t\t\theight: var(--radix-accordion-content-height);\n\t\t}\n\t\tto {\n\t\t\theight: 0;\n\t\t}\n\t}\n}\n\n@layer base {\n\t* {\n\t\t@apply border-border outline-ring/50;\n\t}\n\tbody {\n\t\t@apply bg-background text-foreground;\n\t}\n}\n\n\n:root {\n\t/* Notion's core colors for components */\n\t--notion-ui-blue-50: rgba(35, 131, 226, 0.035);\n\t--notion-ui-blue-75: rgba(35, 131, 226, 0.05);\n\t--notion-ui-blue-100: rgba(35, 131, 226, 0.07);\n\t--notion-ui-blue-200: rgba(35, 131, 226, 0.14);\n\t--notion-ui-blue-300: rgba(35, 131, 226, 0.21);\n\t--notion-ui-blue-400: rgba(35, 131, 226, 0.35);\n\t--notion-ui-blue-500: rgba(35, 131, 226, 0.57);\n\t--notion-ui-blue-600: rgba(35, 131, 226, 1);\n\t--notion-ui-blue-700: rgba(16, 95, 173, 1);\n\n\t/* Notion's pink colors */\n\t--notion-pink-30: rgba(231, 147, 188, 0.07);\n\t--notion-pink-50: rgba(252, 241, 246, 1);\n\t--notion-pink-100: rgba(225, 136, 179, 0.27);\n\t--notion-pink-200: rgba(204, 92, 146, 0.4);\n\t--notion-pink-300: rgba(209, 91, 148, 0.65);\n\t--notion-pink-400: rgba(196, 84, 138, 0.82);\n\t--notion-pink-500: rgba(193, 76, 138, 1);\n\t--notion-pink-600: rgba(162, 51, 111, 1);\n\t--notion-pink-700: rgba(111, 49, 81, 1);\n\t--notion-pink-800: rgba(76, 35, 55, 1);\n\t--notion-pink-900: rgba(44, 20, 32, 1);\n\n\t/* Notion's purple colors */\n\t--notion-purple-30: rgba(206, 175, 229, 0.07);\n\t--notion-purple-50: rgba(248, 243, 252, 1);\n\t--notion-purple-100: rgba(168, 129, 197, 0.27);\n\t--notion-purple-200: rgba(141, 98, 174, 0.4);\n\t--notion-purple-300: rgba(154, 114, 185, 0.65);\n\t--notion-purple-400: rgba(148, 103, 182, 0.82);\n\t--notion-purple-500: rgba(144, 101, 176, 1);\n\t--notion-purple-600: rgba(117, 77, 146, 1);\n\t--notion-purple-700: rgba(90, 56, 114, 1);\n\t--notion-purple-800: rgba(65, 36, 84, 1);\n\t--notion-purple-900: rgba(38, 21, 46, 1);\n\n\t/* Notion's green colors */\n\t--notion-green-30: rgba(123, 183, 129, 0.07);\n\t--notion-green-50: rgba(237, 243, 236, 1);\n\t--notion-green-100: rgba(123, 183, 129, 0.27);\n\t--notion-green-200: rgba(80, 144, 103, 0.4);\n\t--notion-green-300: rgba(80, 144, 103, 0.65);\n\t--notion-green-400: rgba(66, 133, 90, 0.82);\n\t--notion-green-500: rgba(68, 131, 97, 1);\n\t--notion-green-600: rgba(51, 104, 78, 1);\n\t--notion-green-700: rgba(31, 79, 59, 1);\n\t--notion-green-800: rgba(28, 56, 41, 1);\n\t--notion-green-900: rgba(16, 36, 22, 1);\n\n\t/* Notion's red colors */\n\t--notion-red-30: rgba(243, 136, 118, 0.07);\n\t--notion-red-50: rgba(253, 235, 236, 1);\n\t--notion-red-100: rgba(244, 171, 159, 0.4);\n\t--notion-red-200: rgba(215, 38, 21, 0.32);\n\t--notion-red-300: rgba(215, 38, 21, 0.5);\n\t--notion-red-400: rgba(215, 38, 21, 0.68);\n\t--notion-red-500: rgba(212, 76, 71, 1);\n\t--notion-red-600: rgba(174, 47, 46, 1);\n\t--notion-red-700: rgba(134, 33, 32, 1);\n\t--notion-red-800: rgba(93, 23, 21, 1);\n\t--notion-red-900: rgba(48, 19, 15, 1);\n\t--notion-red-hover: rgba(207, 83, 74, 1);\n\t--notion-red-pressed: rgba(191, 77, 69, 1);\n\n\t/* Notion's orange colors */\n\t--notion-orange-30: rgba(224, 124, 57, 0.07);\n\t--notion-orange-50: rgba(251, 236, 221, 1);\n\t--notion-orange-100: rgba(224, 124, 57, 0.27);\n\t--notion-orange-200: rgba(217, 95, 13, 0.4);\n\t--notion-orange-300: rgba(217, 95, 13, 0.65);\n\t--notion-orange-400: rgba(217, 95, 13, 0.82);\n\t--notion-orange-500: rgba(217, 115, 13, 1);\n\t--notion-orange-600: rgba(141, 78, 23, 1);\n\t--notion-orange-700: rgba(106, 59, 18, 1);\n\t--notion-orange-800: rgba(73, 41, 14, 1);\n\t--notion-orange-900: rgba(40, 24, 9, 1);\n\n\t/* Notion's brown colors */\n\t--notion-brown-30: rgba(210, 162, 141, 0.07);\n\t--notion-brown-50: rgba(244, 238, 238, 1);\n\t--notion-brown-100: rgba(210, 162, 141, 0.35);\n\t--notion-brown-200: rgba(156, 76, 40, 0.32);\n\t--notion-brown-300: rgba(156, 76, 40, 0.5);\n\t--notion-brown-400: rgba(156, 76, 40, 0.68);\n\t--notion-brown-500: rgba(159, 107, 83, 1);\n\t--notion-brown-600: rgba(128, 84, 63, 1);\n\t--notion-brown-700: rgba(97, 62, 46, 1);\n\t--notion-brown-800: rgba(68, 42, 30, 1);\n\t--notion-brown-900: rgba(45, 21, 6, 1);\n\n\t/* Notion's yellow colors */\n\t--notion-yellow-30: rgba(215, 177, 24, 0.07);\n\t--notion-yellow-50: rgba(251, 243, 219, 1);\n\t--notion-yellow-100: rgba(236, 191, 66, 0.39);\n\t--notion-yellow-200: rgba(229, 175, 25, 0.55);\n\t--notion-yellow-300: rgba(215, 150, 9, 0.75);\n\t--notion-yellow-400: rgba(192, 125, 0, 0.82);\n\t--notion-yellow-500: rgba(203, 145, 47, 1);\n\t--notion-yellow-600: rgba(131, 94, 51, 1);\n\t--notion-yellow-700: rgba(95, 64, 35, 1);\n\t--notion-yellow-800: rgba(64, 44, 27, 1);\n\t--notion-yellow-900: rgba(37, 25, 16, 1);\n\n\t/* Notion's blue colors (distinct from uiBlue) */\n\t--notion-blue-30: rgba(91, 166, 209, 0.07);\n\t--notion-blue-50: rgba(231, 243, 248, 1);\n\t--notion-blue-100: rgba(93, 165, 206, 0.27);\n\t--notion-blue-200: rgba(57, 135, 184, 0.4);\n\t--notion-blue-300: rgba(63, 137, 184, 0.65);\n\t--notion-blue-400: rgba(54, 129, 177, 0.82);\n\t--notion-blue-500: rgba(51, 126, 169, 1);\n\t--notion-blue-600: rgba(45, 99, 135, 1);\n\t--notion-blue-700: rgba(31, 74, 104, 1);\n\t--notion-blue-800: rgba(24, 51, 71, 1);\n\t--notion-blue-900: rgba(12, 29, 43, 1);\n\n\t/* Notion's neutral colors */\n\t--notion-gray-0: rgba(255, 255, 255, 1);\n\t--notion-gray-30: rgba(84, 72, 49, 0.04);\n\t--notion-gray-50: rgba(248, 248, 247, 1);\n\t--notion-gray-75: rgba(84, 72, 49, 0.08);\n\t--notion-gray-90: rgba(227, 226, 224, 0.7);\n\t--notion-gray-100: rgba(84, 72, 49, 0.15);\n\t--notion-gray-200: rgba(81, 73, 60, 0.32);\n\t--notion-gray-300: rgba(70, 68, 64, 0.45);\n\t--notion-gray-400: rgba(71, 70, 68, 0.6);\n\t--notion-gray-500: rgba(120, 119, 116, 1);\n\t--notion-gray-600: rgba(95, 94, 91, 1);\n\t--notion-gray-700: rgba(72, 71, 67, 1);\n\t--notion-gray-800: rgba(50, 48, 44, 1);\n\t--notion-gray-900: rgba(29, 27, 22, 1);\n\n\t/* Notion's transparent gray colors */\n\t--notion-transparent-gray-0: rgba(255, 255, 255, 0);\n\t--notion-transparent-gray-30: rgba(249, 249, 248, 0);\n\t--notion-transparent-gray-50: rgba(241, 241, 239, 0);\n\t--notion-transparent-gray-75: rgba(227, 226, 224, 0.5);\n\t--notion-transparent-gray-90: rgba(227, 226, 224, 0.3);\n\t--notion-transparent-gray-100: rgba(227, 226, 224, 0);\n\t--notion-transparent-gray-200: rgba(199, 198, 196, 0);\n\t--notion-transparent-gray-300: rgba(172, 171, 169, 0);\n\t--notion-transparent-gray-400: rgba(145, 145, 142, 0);\n\t--notion-transparent-gray-500: rgba(120, 119, 116, 0);\n\t--notion-transparent-gray-600: rgba(95, 94, 91, 0);\n\t--notion-transparent-gray-700: rgba(72, 71, 67, 0);\n\t--notion-transparent-gray-800: rgba(50, 48, 44, 0);\n\t--notion-transparent-gray-900: rgba(29, 27, 22, 0);\n\n\t/* Notion's translucent gray colors */\n\t--notion-translucent-gray-30: rgba(0, 0, 0, 0.01);\n\t--notion-translucent-gray-50: rgba(0, 0, 0, 0.04);\n\t--notion-translucent-gray-75: rgba(0, 0, 0, 0.05);\n\t--notion-translucent-gray-100: rgba(0, 0, 0, 0.06);\n\t--notion-translucent-gray-200: rgba(0, 0, 0, 0.07);\n\t--notion-translucent-gray-300: rgba(0, 0, 0, 0.11);\n\t--notion-translucent-gray-400: rgba(0, 0, 0, 0.155);\n\t--notion-translucent-gray-500: rgba(0, 0, 0, 0.335);\n\t--notion-translucent-gray-600: rgba(0, 0, 0, 0.46);\n\t--notion-translucent-gray-700: rgba(0, 0, 0, 0.62);\n\t--notion-translucent-gray-800: rgba(0, 0, 0, 0.815);\n\t--notion-translucent-gray-850: rgba(0, 0, 0, 0.89);\n\t--notion-translucent-gray-900: rgba(0, 0, 0, 0.9875);\n\n\t/* Notion Glass colors */\n\t--notion-page-glass-0: rgba(255, 255, 255, 0.8);\n\t--notion-wash-glass-0: rgba(249, 249, 248, 0.8);\n\n\t/* Notion's button variants */\n\t--notion-secondary-bg: #fdf5f2;\n\t--notion-secondary-hover: #fbebe8;\n\t--notion-secondary-pressed: #f9e5e2;\n\n\t/* Default (Black) button colors */\n\t--notion-black-bg: #323232;\n\t--notion-black-hover: #404040;\n\t--notion-black-pressed: #4b4b4b;\n\n\t/* Primary (Blue) button colors */\n\t--notion-primary-blue: var(--notion-ui-blue-600);\n\t--notion-primary-blue-hover: rgba(28, 115, 202, 1);\n\t--notion-primary-blue-pressed: rgba(21, 99, 178, 1);\n\n\t/* Notion Tint Button colors */\n\t--notion-tint-regular: rgba(242, 241, 238, 1);\n\t--notion-tint-regular-hover: rgba(235, 234, 232, 1);\n\t--notion-tint-regular-pressed: rgba(224, 223, 221, 1);\n\t--notion-tint-text: rgba(72, 71, 67, 1);\n\n\t--notion-tint-blue: rgba(234, 244, 253, 1);\n\t--notion-tint-blue-hover: rgba(221, 237, 251, 1);\n\t--notion-tint-blue-pressed: rgba(191, 223, 248, 1);\n\n\t--notion-tint-red: rgba(253, 235, 236, 1);\n\t--notion-tint-red-hover: rgba(249, 227, 228, 1);\n\t--notion-tint-red-pressed: rgba(246, 219, 220, 1);\n\n\t/* Button sizing */\n\t--notion-button-radius-small: 4px;\n\t--notion-button-radius-medium: 6px;\n\t--notion-button-radius-large: 8px;\n\n\t/* Typography */\n\t--notion-font-sans: ui-sans-serif, -apple-system, BlinkMacSystemFont,\n\t\t\"Segoe UI Variable Display\", \"Segoe UI\", Helvetica, \"Apple Color Emoji\",\n\t\tArial, sans-serif, \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n\t--notion-font-serif: Lyon-Text, Georgia, ui-serif, serif;\n\t--notion-font-mono: iawriter-mono, Nitti, Menlo, Courier, monospace;\n\n\t--font-sans: var(--notion-font-sans);\n\t--font-serif: var(--notion-font-serif);\n\t--font-mono: var(--notion-font-mono);\n\n\t/* Font sizes */\n\t--notion-text-xs: 12px;\n\t--notion-text-sm: 14px;\n\t--notion-text-base: 16px;\n}\n\n.dark {\n\t/* Dark mode overrides */\n\t--notion-blue-100: rgba(35, 131, 226, 0.1);\n\t--notion-blue-200: rgba(35, 131, 226, 0.18);\n\t--notion-blue-300: rgba(35, 131, 226, 0.3);\n\n\t/* Default (Black) button colors - dark mode */\n\t--notion-black-bg: rgba(255, 255, 255, 0.1);\n\t--notion-black-hover: rgba(255, 255, 255, 0.15);\n\t--notion-black-pressed: rgba(255, 255, 255, 0.2);\n\n\t/* Primary (Blue) button colors - dark mode */\n\t--notion-primary-blue: rgba(35, 131, 226, 1);\n\t--notion-primary-blue-hover: rgba(45, 142, 238, 1);\n\t--notion-primary-blue-pressed: rgba(55, 153, 255, 1);\n\n\t/* Dark mode grays */\n\t--notion-gray-0: rgba(0, 0, 0, 1);\n\t--notion-gray-30: rgba(21, 21, 21, 1);\n\t--notion-gray-50: rgba(25, 25, 25, 1);\n\t--notion-gray-75: rgba(28, 28, 28, 1);\n\t--notion-gray-90: rgba(30, 30, 30, 1);\n\t--notion-gray-100: rgba(32, 32, 32, 1);\n\t--notion-gray-200: rgba(37, 37, 37, 1);\n\t--notion-gray-300: rgba(47, 47, 47, 1);\n\t--notion-gray-400: rgba(55, 55, 55, 1);\n\t--notion-gray-500: rgba(90, 90, 90, 1);\n\t--notion-gray-600: rgba(127, 127, 127, 1);\n\t--notion-gray-700: rgba(155, 155, 155, 1);\n\t--notion-gray-800: rgba(211, 211, 211, 1);\n\t--notion-gray-850: rgba(225, 225, 225, 1);\n\t--notion-gray-900: rgba(255, 255, 255, 1);\n\n\t/* Dark mode tint button colors */\n\t--notion-tint-regular: rgba(37, 37, 37, 1);\n\t--notion-tint-regular-hover: rgba(45, 45, 45, 1);\n\t--notion-tint-regular-pressed: rgba(55, 55, 55, 1);\n\t--notion-tint-text: rgba(235, 235, 235, 1);\n\n\t/* Notion's core UI blue colors - dark mode */\n\t--notion-ui-blue-50: rgba(35, 131, 226, 0.035);\n\t--notion-ui-blue-75: rgba(35, 131, 226, 0.05);\n\t--notion-ui-blue-100: rgba(35, 131, 226, 0.07);\n\t--notion-ui-blue-150: rgba(35, 131, 226, 0.1);\n\t--notion-ui-blue-200: rgba(35, 131, 226, 0.14);\n\t--notion-ui-blue-300: rgba(35, 131, 226, 0.2);\n\t--notion-ui-blue-400: rgba(35, 131, 226, 0.35);\n\t--notion-ui-blue-500: rgba(35, 131, 226, 0.57);\n\t--notion-ui-blue-600: rgba(35, 131, 226, 1);\n\t--notion-ui-blue-700: rgba(79, 167, 255, 1);\n\n\t/* Notion's pink colors - dark mode */\n\t--notion-pink-30: rgba(246, 218, 247, 1);\n\t--notion-pink-50: rgba(220, 76, 145, 0.06);\n\t--notion-pink-75: rgba(220, 76, 145, 0.09);\n\t--notion-pink-100: rgba(48, 34, 40, 1);\n\t--notion-pink-200: rgba(220, 76, 145, 0.22);\n\t--notion-pink-300: rgba(78, 44, 60, 1);\n\t--notion-pink-400: rgba(220, 76, 145, 0.4);\n\t--notion-pink-500: rgba(220, 76, 145, 0.6);\n\t--notion-pink-600: rgba(220, 76, 145, 0.82);\n\t--notion-pink-700: rgba(216, 87, 149, 0.91);\n\t--notion-pink-800: rgba(201, 75, 140, 1);\n\t--notion-pink-900: rgba(209, 87, 150, 1);\n\n\t/* Notion's purple colors - dark mode */\n\t--notion-purple-30: rgba(232, 222, 246, 1);\n\t--notion-purple-50: rgba(155, 97, 211, 0.08);\n\t--notion-purple-75: rgba(155, 97, 211, 0.1);\n\t--notion-purple-100: rgba(43, 36, 49, 1);\n\t--notion-purple-200: rgba(155, 97, 211, 0.18);\n\t--notion-purple-300: rgba(60, 45, 73, 1);\n\t--notion-purple-400: rgba(168, 91, 242, 0.34);\n\t--notion-purple-500: rgba(155, 97, 211, 0.65);\n\t--notion-purple-600: rgba(155, 97, 211, 0.82);\n\t--notion-purple-700: rgba(155, 97, 211, 0.91);\n\t--notion-purple-800: rgba(157, 103, 210, 1);\n\t--notion-purple-900: rgba(157, 104, 211, 1);\n\n\t/* Notion's green colors - dark mode */\n\t--notion-green-30: rgba(215, 232, 217, 1);\n\t--notion-green-50: rgba(45, 153, 100, 0.08);\n\t--notion-green-75: rgba(45, 153, 100, 0.12);\n\t--notion-green-100: rgba(34, 43, 38, 1);\n\t--notion-green-200: rgba(45, 153, 100, 0.2);\n\t--notion-green-300: rgba(36, 61, 48, 1);\n\t--notion-green-400: rgba(45, 153, 100, 0.5);\n\t--notion-green-500: rgba(44, 167, 106, 0.65);\n\t--notion-green-600: rgba(44, 167, 106, 0.82);\n\t--notion-green-700: rgba(44, 167, 106, 0.91);\n\t--notion-green-800: rgba(60, 157, 106, 1);\n\t--notion-green-900: rgba(82, 158, 114, 1);\n\n\t/* Notion's red colors - dark mode */\n\t--notion-red-30: rgba(253, 218, 218, 1);\n\t--notion-red-50: rgba(222, 85, 88, 0.1);\n\t--notion-red-75: rgba(222, 85, 87, 0.15);\n\t--notion-red-100: rgba(54, 36, 34, 1);\n\t--notion-red-200: rgba(222, 85, 85, 0.25);\n\t--notion-red-300: rgba(82, 46, 42, 1);\n\t--notion-red-400: rgba(222, 85, 83, 0.45);\n\t--notion-red-500: rgba(222, 85, 82, 0.6);\n\t--notion-red-600: rgba(222, 85, 81, 0.8);\n\t--notion-red-700: rgba(222, 85, 80, 0.91);\n\t--notion-red-800: rgba(222, 85, 80, 1);\n\t--notion-red-900: rgba(223, 84, 82, 1);\n\t/* TODO: Add hover/pressed variants if needed */\n\n\t/* Notion's orange colors - dark mode */\n\t--notion-orange-30: rgba(240, 224, 200, 1);\n\t--notion-orange-50: rgba(233, 126, 40, 0.06);\n\t--notion-orange-75: rgba(233, 126, 39, 0.15);\n\t--notion-orange-100: rgba(56, 40, 30, 1);\n\t--notion-orange-200: rgba(233, 126, 37, 0.2);\n\t--notion-orange-300: rgba(92, 59, 35, 1);\n\t--notion-orange-400: rgba(233, 126, 35, 0.45);\n\t--notion-orange-500: rgba(233, 126, 34, 0.6);\n\t--notion-orange-600: rgba(233, 126, 33, 0.8);\n\t--notion-orange-700: rgba(233, 126, 32, 0.91);\n\t--notion-orange-800: rgba(228, 133, 57, 1);\n\t--notion-orange-900: rgba(199, 125, 72, 1);\n\n\t/* Notion's brown colors - dark mode */\n\t--notion-brown-30: rgba(244, 244, 211, 1);\n\t--notion-brown-50: rgba(184, 101, 72, 0.08);\n\t--notion-brown-75: rgba(184, 101, 71, 0.15);\n\t--notion-brown-100: rgba(47, 39, 35, 1);\n\t--notion-brown-200: rgba(184, 101, 69, 0.25);\n\t--notion-brown-300: rgba(74, 50, 40, 1);\n\t--notion-brown-400: rgba(184, 101, 67, 0.45);\n\t--notion-brown-500: rgba(239, 153, 118, 0.6);\n\t--notion-brown-600: rgba(209, 138, 109, 0.75);\n\t--notion-brown-700: rgba(187, 125, 100, 0.91);\n\t--notion-brown-800: rgba(178, 126, 103, 1);\n\t--notion-brown-900: rgba(186, 133, 111, 1);\n\n\t/* Notion's yellow colors - dark mode */\n\t--notion-yellow-30: rgba(240, 226, 203, 1);\n\t--notion-yellow-50: rgba(162, 105, 50, 0.1);\n\t--notion-yellow-75: rgba(152, 102, 48, 0.15);\n\t--notion-yellow-100: rgba(57, 46, 30, 1);\n\t--notion-yellow-200: rgba(179, 129, 61, 0.2);\n\t--notion-yellow-300: rgba(86, 67, 40, 1);\n\t--notion-yellow-400: rgba(250, 177, 67, 0.5);\n\t--notion-yellow-500: rgba(240, 166, 51, 0.6);\n\t--notion-yellow-600: rgba(232, 162, 37, 0.8);\n\t--notion-yellow-700: rgba(221, 154, 34, 0.91);\n\t--notion-yellow-800: rgba(217, 158, 53, 1);\n\t--notion-yellow-900: rgba(202, 152, 77, 1);\n\n\t/* Notion's blue colors (distinct from uiBlue) - dark mode */\n\t--notion-blue-30: rgba(203, 230, 247, 1);\n\t--notion-blue-50: rgba(51, 126, 169, 0.08);\n\t--notion-blue-75: rgba(51, 126, 169, 0.12);\n\t--notion-blue-100: rgba(29, 40, 46, 1);\n\t--notion-blue-200: rgba(51, 126, 169, 0.2);\n\t--notion-blue-300: rgba(20, 58, 78, 1);\n\t--notion-blue-400: rgba(51, 126, 169, 0.5);\n\t--notion-blue-500: rgba(51, 126, 169, 0.65);\n\t--notion-blue-600: rgba(51, 126, 169, 0.82);\n\t--notion-blue-700: rgba(51, 126, 169, 0.91);\n\t--notion-blue-800: rgba(56, 142, 191, 1);\n\t--notion-blue-900: rgba(55, 154, 211, 1);\n\n\t/* Notion's transparent gray colors - dark mode */\n\t--notion-transparent-gray-0: rgba(0, 0, 0, 0);\n\t--notion-transparent-gray-30: rgba(21, 21, 21, 0);\n\t--notion-transparent-gray-50: rgba(25, 25, 25, 0);\n\t--notion-transparent-gray-75: rgba(28, 28, 28, 0);\n\t--notion-transparent-gray-100: rgba(32, 32, 32, 0);\n\t--notion-transparent-gray-200: rgba(37, 37, 37, 0);\n\t--notion-transparent-gray-300: rgba(47, 47, 47, 0);\n\t--notion-transparent-gray-400: rgba(55, 55, 55, 0);\n\t--notion-transparent-gray-500: rgba(90, 90, 90, 0);\n\t--notion-transparent-gray-600: rgba(127, 127, 127, 0);\n\t--notion-transparent-gray-700: rgba(155, 155, 155, 0);\n\t--notion-transparent-gray-800: rgba(211, 211, 211, 0);\n\t--notion-transparent-gray-850: rgba(225, 225, 225, 0);\n\t--notion-transparent-gray-900: rgba(255, 255, 255, 0);\n\n\t/* Notion's translucent gray colors - dark mode */\n\t--notion-translucent-gray-30: rgba(21, 21, 21, 1);\n\t--notion-translucent-gray-50: rgba(25, 25, 25, 1);\n\t--notion-translucent-gray-75: rgba(255, 255, 255, 0.015);\n\t--notion-translucent-gray-100: rgba(255, 255, 255, 0.03);\n\t--notion-translucent-gray-200: rgba(255, 255, 255, 0.055);\n\t--notion-translucent-gray-300: rgba(255, 255, 255, 0.095);\n\t--notion-translucent-gray-400: rgba(255, 255, 255, 0.13);\n\t--notion-translucent-gray-500: rgba(255, 255, 255, 0.283);\n\t--notion-translucent-gray-600: rgba(255, 255, 255, 0.445);\n\t--notion-translucent-gray-700: rgba(255, 255, 255, 0.565);\n\t--notion-translucent-gray-800: rgba(255, 255, 255, 0.81);\n\t--notion-translucent-gray-850: rgba(255, 255, 255, 0.87);\n\t--notion-translucent-gray-900: rgba(255, 255, 255, 0.96);\n\n\t/* Notion Glass colors - dark mode */\n\t--notion-page-glass-0: rgba(25, 25, 25, 0.8);\n\t--notion-wash-glass-0: rgba(32, 32, 32, 0.8);\n\n\t/* Default (Black) button colors - dark mode */\n\t--notion-black-bg: rgba(255, 255, 255, 0.1);\n\t--notion-black-hover: rgba(255, 255, 255, 0.15);\n\t--notion-black-pressed: rgba(255, 255, 255, 0.2);\n\n\t/* Primary (Blue) button colors - dark mode */\n\t--notion-primary-blue: rgba(35, 131, 226, 1);\n\t--notion-primary-blue-hover: rgba(45, 142, 238, 1);\n\t--notion-primary-blue-pressed: rgba(55, 153, 255, 1);\n\n\t/* Dark mode tint button colors */\n\t--notion-tint-regular: rgba(37, 37, 37, 1);\n\t--notion-tint-regular-hover: rgba(45, 45, 45, 1);\n\t--notion-tint-regular-pressed: rgba(55, 55, 55, 1);\n\t--notion-tint-text: rgba(235, 235, 235, 1);\n}\n\n\n:root {\n\t--radius: 0.375rem;\n\t--background: oklch(1 0 0);\n\t--foreground: oklch(0.145 0 0);\n\t--card: oklch(1 0 0);\n\t--card-foreground: oklch(0.145 0 0);\n\t--popover: oklch(1 0 0);\n\t--popover-foreground: oklch(0.145 0 0);\n\t--primary: rgba(25, 25, 25, 1);\n\t--primary-foreground: oklch(0.985 0 0);\n\t--secondary: var(--notion-secondary-bg);\n\t--secondary-foreground: var(--notion-gray-900);\n\t--muted: var(--notion-gray-100);\n\t--muted-foreground: var(--notion-gray-500);\n\t--accent: var(--notion-gray-100);\n\t--accent-foreground: var(--notion-gray-900);\n\t--destructive: var(--notion-red-600);\n\t--destructive-foreground: oklch(1 0 0);\n\t--border: oklch(0.922 0 0);\n\t--input: var(--notion-gray-300);\n\t--ring: var(--notion-blue-200);\n\t--chart-1: oklch(0.646 0.222 41.116);\n\t--chart-2: oklch(0.6 0.118 184.704);\n\t--chart-3: oklch(0.398 0.07 227.392);\n\t--chart-4: oklch(0.828 0.189 84.429);\n\t--chart-5: oklch(0.769 0.188 70.08);\n\t--sidebar: oklch(0.985 0 0);\n\t--sidebar-foreground: oklch(0.145 0 0);\n\t--sidebar-primary: oklch(0.205 0 0);\n\t--sidebar-primary-foreground: oklch(0.985 0 0);\n\t--sidebar-accent: oklch(0.97 0 0);\n\t--sidebar-accent-foreground: oklch(0.205 0 0);\n\t--sidebar-border: oklch(0.922 0 0);\n\t--sidebar-ring: oklch(0.708 0 0);\n}\n\n.dark {\n\t--background: rgba(25, 25, 25, 1);\n\t--foreground: oklch(0.985 0 0);\n\t--card: oklch(0.205 0 0);\n\t--card-foreground: oklch(0.985 0 0);\n\t--popover: rgb(32, 32, 32);\n\t--popover-foreground: oklch(0.985 0 0);\n\t--primary: var(--notion-primary-blue);\n\t--primary-foreground: oklch(0.985 0 0);\n\t--secondary: rgba(42, 42, 42, 1);\n\t--secondary-foreground: oklch(0.985 0 0);\n\t--muted: rgba(42, 42, 42, 1);\n\t--muted-foreground: var(--notion-gray-700);\n\t--accent: rgba(42, 42, 42, 1);\n\t--accent-foreground: oklch(0.985 0 0);\n\t--destructive: var(--notion-red-500);\n\t--border: oklch(1 0 0 / 10%);\n\t--input: oklch(1 0 0 / 15%);\n\t--ring: var(--notion-blue-300);\n\t--chart-1: oklch(0.488 0.243 264.376);\n\t--chart-2: oklch(0.696 0.17 162.48);\n\t--chart-3: oklch(0.769 0.188 70.08);\n\t--chart-4: oklch(0.627 0.265 303.9);\n\t--chart-5: oklch(0.645 0.246 16.439);\n\t--sidebar: rgb(32, 32, 32);\n\t--sidebar-foreground: oklch(0.985 0 0);\n\t--sidebar-primary: oklch(0.488 0.243 264.376);\n\t--sidebar-primary-foreground: oklch(0.985 0 0);\n\t--sidebar-accent: oklch(0.269 0 0);\n\t--sidebar-accent-foreground: oklch(0.985 0 0);\n\t--sidebar-border: oklch(1 0 0 / 10%);\n\t--sidebar-ring: oklch(0.556 0 0);\n}\n";var m=()=>n(653998),y=()=>n(3311),b=()=>n(76394),v=()=>n(818369),w=()=>n(662861),h=()=>n(286404),k=()=>n(485966),M=()=>n(503780),T=()=>n(993054),C=()=>n(817616),x=()=>n(308265),_=()=>n(670298),S=()=>n(555434),R=n(163643);function I(t){const{paddingLeft:e,paddingRight:n,collectionViewStore:l,collectionContextStore:c,store:u}=t,p=(0,r().v3)(),g=(0,a().K8)((()=>(0,x().sx)()),[]),f=(0,i().IS)((t=>({container:{paddingLeft:e??0,paddingRight:n??0,display:"flex",flexDirection:"column",height:"100%"}})),[e,n]),m=(0,a().K8)((()=>c.collectionViewBlockStore()),[c]),y=(0,S().Y)(m),v=(0,a().K8)((()=>null==y?void 0:y.getData()),[y]),h=(0,a().K8)((()=>(0,C().Bn)(v)),[v]),I=(0,a().K8)((()=>{if(!v||!h||0===h.length)return{result:void 0,error:void 0};try{const t=function(t){var e;const{workflow:n,functions:o,collectionViewStore:r}=t,a=null===(e=r.getModel())||void 0===e?void 0:e.getAgentKey();if(!a)return;const i={};if(n.modules){var s;const t=n.modules.find((t=>"npmModules"===t.type));if(null!=t&&null!==(s=t.state)&&void 0!==s&&s.modules){const e=t.state.modules;if(e&&"object"==typeof e)for(const[t,n]of(0,b().WP)(e))"string"==typeof t&&"string"==typeof n&&(i[t]=n)}}const l=N({functionKey:a,functions:o}),c=l.flatMap((t=>t.callsFunctions||[])),u=o.filter((t=>c.includes(t.key)&&"server_function"===t.type));return{functionKey:a,code:l.map((t=>t.value||"")).join("\n\n"),serverFunctionKeys:u.map((t=>t.key)),requiredModules:i}}({workflow:v,functions:h,collectionViewStore:l});return{result:t,error:void 0}}catch(t){return{result:void 0,error:(0,s().OG)(t)}}}),[v,h,l]),{spaceStore:P,userStore:D,spaceId:F,spaceViewStore:j}=(0,a().K8)((()=>{const{currentSpaceStore:t,currentUserStore:e,currentSpaceViewStore:n}=k().default.state;return t&&e&&n?{spaceStore:t,userStore:e,spaceId:t.id,spaceViewStore:n}:{spaceStore:void 0,userStore:void 0,spaceId:void 0,spaceViewStore:void 0}}),[]),O=(0,o.useCallback)((()=>{var t;if(!P||!y||!I.error)return;if(!y.getData())return;const e=null===(t=l.getModel())||void 0===t?void 0:t.getAgentKey();if(!e)return;const n=(0,w().XZ)({environment:p,spaceStore:P,functionKey:e,message:(0,d().x9d)(I.error)}),o=(0,_().Y$)({environment:p,spaceStore:P,userStore:D,store:u,spaceViewStore:j,addSteps:[n]}),r=(0,M().addTranscriptToNewThreadAndRun)({environment:p,spaceStore:P,transcript:o});(0,T().showWorkflowEditor)({environment:p,chatSidebarState:{isOpen:!0,threadId:r.id},parentStore:u})}),[p,I.error,y,l,P,D,j,u]);return g&&F&&y&&u?I.error?(0,R.jsx)("div",{style:f.container,children:(0,R.jsx)(E,{error:I.error,workflowStore:y,store:u,collectionViewStore:l,onFixErrors:O})}):I.result?(0,R.jsx)("div",{style:f.container,children:I.result&&(0,R.jsx)(A,{code:I.result.code,functionKey:I.result.functionKey,serverFunctionKeys:I.result.serverFunctionKeys,requiredModules:I.result.requiredModules,workflowId:y.id,spaceId:F,workflowStore:y,store:u,collectionViewStore:l})}):null:null}function N(t){const{functionKey:e,functions:n}=t,o=n.find((t=>t.key===e));if(!o)throw new Error(`Function ${e} not found`);return[o,...(o.callsFunctions||[]).map((t=>{const e=n.find((e=>e.key===t));if(!e)throw new Error(`Function ${t} not found`);return e})).filter((t=>"client_react_component"===t.type)).flatMap((t=>N({functionKey:t.key,functions:n})))]}function A(t){const{code:e,functionKey:n,serverFunctionKeys:i,requiredModules:s,workflowId:l,spaceId:c,workflowStore:h,store:C,collectionViewStore:x}=t,S=(0,r().v3)(),[I,N]=o.useState([]),[A,P]=o.useState([]),D=o.useRef(null),F=(0,m().tz)(),j=(0,u().H)(F),O=o.useMemo((()=>(0,y().lZ)()),[]),V=o.useMemo((()=>(0,b().WP)(s).map((t=>{var e;let[n,o]=t;const r=null===p().r9||void 0===p().r9?void 0:p().r9[n];if(null==r||!r.urlTemplate)return null;const a=null==r||null===(e=r.versions)||void 0===e?void 0:e[o??""];return a?r.urlTemplate.replace("{version}",a):(console.error(`[Iframe] No external version found for module ${n} with internal version ${o}`),null)})).filter((t=>null!==t))),[s]);o.useEffect((()=>{const t=async t=>{var e;if(D.current&&t.source===D.current.contentWindow&&(null===(e=t.data)||void 0===e?void 0:e.securityToken)===O){const{type:e,functionKey:a,args:s,requestId:u,error:d,log:p}=t.data;if(d&&N((t=>[...t,d])),p&&P((t=>[...t,p])),"callServerFunction"===e&&i.includes(a))try{var n;const t=await v().callApi({eventName:"callWorkflowFunction",environment:S,data:{workflowId:l,spaceId:c,functionKey:a,functionArgs:s||{}}});null===(n=D.current.contentWindow)||void 0===n||n.postMessage({type:"serverFunctionResponse",requestId:u,securityToken:O,result:"failed"===t.type?null:t.data.returnValue,error:"failed"===t.type?t.error:null,success:"failed"!==t.type},"*")}catch(r){var o;null===(o=D.current.contentWindow)||void 0===o||o.postMessage({type:"serverFunctionResponse",requestId:u,securityToken:O,result:null,error:r instanceof Error?r.message:String(r),success:!1},"*")}}};return window.addEventListener("message",t),()=>{window.removeEventListener("message",t)}}),[i,l,c,S,O]);const L=`\n\t\t// @ts-nocheck - Disable TypeScript type checking for this script\n\t\t// Isolated scope for the workflow code\n\t\t(function() {\n\t\t\t// Override console methods to capture logs\n\t\t\tconst originalConsole = { ...console };\n\t\t\tconst consoleTypes = ['log', 'info', 'warn', 'error', 'debug'];\n\n\t\t\tconsoleTypes.forEach(type => {\n\t\t\t\tconsole[type] = (...args) => {\n\t\t\t\t\toriginalConsole[type](...args);\n\t\t\t\t\twindow.parent.postMessage({\n\t\t\t\t\t\ttype: 'consoleLog',\n\t\t\t\t\t\tlog: { type, args: JSON.parse(JSON.stringify(args)) },\n\t\t\t\t\t\tsecurityToken: "${O}"\n\t\t\t\t\t}, "*");\n\t\t\t\t};\n\t\t\t});\n\n\t\t\t// Set up global error handling\n\t\t\twindow.onerror = (message, source, lineno, colno, error) => {\n\t\t\t\twindow.parent.postMessage({\n\t\t\t\t\ttype: 'error',\n\t\t\t\t\terror: {\n\t\t\t\t\t\tmessage: message,\n\t\t\t\t\t\tstack: error?.stack,\n\t\t\t\t\t\tsource,\n\t\t\t\t\t\tlineno,\n\t\t\t\t\t\tcolno\n\t\t\t\t\t},\n\t\t\t\t\tsecurityToken: "${O}"\n\t\t\t\t}, "*");\n\t\t\t\treturn false;\n\t\t\t};\n\n\t\t\twindow.addEventListener('unhandledrejection', (event) => {\n\t\t\t\twindow.parent.postMessage({\n\t\t\t\t\ttype: 'error',\n\t\t\t\t\terror: {\n\t\t\t\t\t\tmessage: event.reason?.message || 'Unhandled Promise Rejection',\n\t\t\t\t\t\tstack: event.reason?.stack\n\t\t\t\t\t},\n\t\t\t\t\tsecurityToken: "${O}"\n\t\t\t\t}, "*");\n\t\t\t});\n\n\t\t\t${e}\n\n\t\t\t// Setup bridge for server function calls\n\t\t\tconst pendingRequests = new Map();\n\t\t\tlet requestCounter = 0;\n\t\t\tconst securityToken = "${O}";\n\n\t\t\twindow.addEventListener('message', (event) => {\n\t\t\t\t// Validate the message has our security token\n\t\t\t\tif (event.source === window.parent &&\n\t\t\t\t    event.data &&\n\t\t\t\t    event.data.type === 'serverFunctionResponse' &&\n\t\t\t\t    event.data.securityToken === securityToken) {\n\n\t\t\t\t\tconst { requestId, result, error, success } = event.data;\n\t\t\t\t\tconst resolver = pendingRequests.get(requestId);\n\n\t\t\t\t\tif (resolver) {\n\t\t\t\t\t\tpendingRequests.delete(requestId);\n\t\t\t\t\t\tif (!success) {\n\t\t\t\t\t\t\tresolver.reject(new Error(error));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t// Always parse the result as JSON\n\t\t\t\t\t\t\t\tresolver.resolve(result ? JSON.parse(result) : null);\n\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t// If parsing fails, return the raw result\n\t\t\t\t\t\t\t\tresolver.resolve(result);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t${i.map((t=>`\n\t\t\t\t\tasync function ${t}(args) {\n\t\t\t\t\t\tconst requestId = requestCounter++;\n\t\t\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\t\t\tpendingRequests.set(requestId, { resolve, reject });\n\n\t\t\t\t\t\t\t// Always stringify args\n\t\t\t\t\t\t\tconst safeArgs = args ? JSON.parse(JSON.stringify(args)) : {};\n\n\t\t\t\t\t\t\t// Use security token\n\t\t\t\t\t\t\twindow.parent.postMessage({\n\t\t\t\t\t\t\t\ttype: 'callServerFunction',\n\t\t\t\t\t\t\t\tfunctionKey: '${t}',\n\t\t\t\t\t\t\t\targs: safeArgs,\n\t\t\t\t\t\t\t\trequestId,\n\t\t\t\t\t\t\t\tsecurityToken\n\t\t\t\t\t\t\t}, "*");\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t`)).join("\n")}\n\n\t\t\t// Render the component\n\t\t\ttry {\n\t\t\t\tconst rootElement = document.getElementById('root');\n\t\t\t\tconst root = ReactDOM.createRoot(rootElement);\n\t\t\t\troot.render(React.createElement(${n}, {}));\n\t\t\t} catch (error) {\n\t\t\t\t// Error rendering component\n\t\t\t\tconsole.error("[Iframe] Error rendering component:", error);\n\t\t\t}\n\t\t})();\n\t`,H=(0,a().O$)(S.ThemeModeStore),z=`\n\t\t<!DOCTYPE html>\n\t\t<html class="${"dark"===H?"dark":""}">\n\t\t<head>\n\t\t\t<meta charset="utf-8">\n\t\t\t<meta name="viewport" content="width=device-width, initial-scale=1">\n\t\t\t<meta http-equiv="Content-Security-Policy" content="default-src 'none'; script-src https://unpkg.com https://dev-custom-views-modules-usw2.s3.us-west-2.amazonaws.com/ 'unsafe-inline'; style-src 'unsafe-inline'; connect-src 'none';">\n\t\t\t<script src="https://unpkg.com/react@18.2.0/umd/react.development.js" crossorigin defer><\/script>\n\t\t\t<script src="https://unpkg.com/react-dom@18.2.0/umd/react-dom.development.js" crossorigin defer><\/script>\n\t\t\t<script src="https://unpkg.com/@babel/standalone@7.26.9/babel.min.js" crossorigin defer><\/script>\n\t\t\t<script src="https://unpkg.com/dayjs-with-plugins@1.0.4/dist/dayjs-with-plugins.min.js" crossorigin defer><\/script>\n\t\t\t<script src="https://unpkg.com/@tailwindcss/browser@4" crossorigin><\/script>\n\t\t\t${V.map((t=>`<script src="${t}" crossorigin defer><\/script>`)).join("\n")}\n\t\t\t<style>\n\t\t\t\t#code {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\t\t\t\t${f}\n\t\t\t\t${function(t){return`\n/* Base styles */\nbody {\n\tbackground-color: var(--background);\n\tcolor: var(--foreground);\n\tfont-family: ${(0,g().vc)(t).sans};\n\tline-height: 1.5;\n\t-webkit-font-smoothing: antialiased;\n}\n`}(j)}\n\t\t\t</style>\n\t\t</head>\n\t\t<body>\n\t\t\t<div id="root" class="p-4"></div>\n\t\t\t<div id="code">${encodeURIComponent(L)}</div>\n\t\t\t<script>\n\t\t\t\twindow.addEventListener('DOMContentLoaded', () => {\n\t\t\t\t\tconst codeText = decodeURIComponent(document.getElementById('code')?.textContent || '');\n\t\t\t\t\twindow.now = new Date().toISOString();\n\t\t\t\t\twindow.timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n\t\t\t\t\twindow.safeJSONParse = (str) => {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\treturn JSON.parse(str);\n\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\tconsole.warn("[Iframe] Failed to parse JSON:", str, error);\n\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tif (codeText) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t// Transpile TypeScript to JavaScript\n\t\t\t\t\t\t\tconst tsCode = codeText;\n\t\t\t\t\t\t\tconst jsCode = Babel.transform(tsCode, {\n\t\t\t\t\t\t\t\tpresets: ['typescript', 'react'],\n\t\t\t\t\t\t\t\tfilename: 'component.tsx'\n\t\t\t\t\t\t\t}).code;\n\t\t\t\t\t\t\tconst executeScript = document.createElement('script');\n\t\t\t\t\t\t\texecuteScript.textContent = jsCode;\n\t\t\t\t\t\t\tdocument.body.appendChild(executeScript);\n\t\t\t\t\t\t} catch (transpileError) {\n\t\t\t\t\t\t\t// Use parent console to report transpilation errors\n\t\t\t\t\t\t\twindow.parent.postMessage({\n\t\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\t\terror: {\n\t\t\t\t\t\t\t\t\tmessage: "[Iframe] Error transpiling code: " + (transpileError instanceof Error ? transpileError.message : String(transpileError)),\n\t\t\t\t\t\t\t\t\tstack: transpileError instanceof Error ? transpileError.stack : undefined\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tsecurityToken: "${O}"\n\t\t\t\t\t\t\t}, "*");\n\t\t\t\t\t\t\tconsole.error("[Iframe] Error transpiling or executing code:", transpileError);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t<\/script>\n\t\t</body>\n\t\t</html>\n\t`;(0,o.useEffect)((()=>{const t=D.current;null!=t&&t.contentWindow&&t.contentWindow.postMessage({type:"themeChange",isDark:"dark"===H,securityToken:O},"*")}),[H,O]);const B=(0,o.useCallback)((()=>{var t;const e=k().default.state.currentSpaceStore;if(!e)throw new Error("No space store");const n=k().default.state.currentSpaceViewStore;if(!n)throw new Error("No space view store");const o=k().default.state.currentUserStore;if(!o)throw new Error("No space store or user store");if(!h.getData())return;const r=null===(t=x.getModel())||void 0===t?void 0:t.getAgentKey();if(!r)return;(0,T().showWorkflowEditor)({environment:S,parentStore:C});const a=`Found errors in custom view with key ${r}:\n${I.map((t=>`Error: ${t.message}${t.stack?`\nStack: ${t.stack}`:""}`)).join("\n")}\n\nConsole logs:\n${A.map((t=>`[${t.type}] ${JSON.stringify(t.args)}`)).join("\n")}`,i=(0,w().XZ)({environment:S,spaceStore:e,functionKey:r,message:(0,d().x9d)(a)}),s=(0,_().Y$)({environment:S,spaceStore:e,userStore:o,store:C,addSteps:[i],spaceViewStore:n}),l=(0,M().addTranscriptToNewThreadAndRun)({environment:S,spaceStore:e,transcript:s});(0,T().showWorkflowEditor)({environment:S,chatSidebarState:{isOpen:!0,threadId:l.id},parentStore:C})}),[h,I,A,S,C,x]);return c?(0,R.jsxs)(R.Fragment,{children:[I.length>0&&(0,R.jsx)(E,{error:I[I.length-1].message,workflowStore:h,store:C,collectionViewStore:x,onFixErrors:B}),(0,R.jsx)("iframe",{ref:D,srcDoc:z,sandbox:"allow-scripts allow-forms allow-pointer-lock",referrerPolicy:"no-referrer",style:{border:"none",width:"100%",height:"100%",minHeight:"300px"},title:"Workflow Content"})]}):null}function E(t){const{error:e,onFixErrors:n}=t,o=(0,i().IS)((t=>({container:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:12,marginBottom:12,borderRadius:4,width:"100%"},errorContent:{display:"flex",alignItems:"center",flexGrow:1,marginRight:12,color:t.accentColors.red[400],fontSize:14},errorIcon:{width:16,height:16,fill:t.accentColors.red[400],marginRight:8}})),[]);return(0,R.jsxs)("div",{style:o.container,children:[(0,R.jsxs)("div",{style:o.errorContent,children:[(0,c().Y)(o.errorIcon),e]}),(0,R.jsx)(h().A,{icon:l().s,size:"sm",onClick:n,children:(0,R.jsx)(m().sA,{defaultMessage:"Fix with AI",id:"WorkflowEditor.ErrorMessage.fixWithAI"})})]})}},615705:(t,e,n)=>{n.d(e,{Cq:()=>u,SU:()=>p,Uu:()=>g,V4:()=>d,aY:()=>c,dh:()=>l});n(610931),n(362833),n(725707),n(491955),n(771702),n(403517);var o=()=>n(897376),r=()=>n(44250),a=()=>n(39559),i=()=>n(442888),s=()=>n(413871);function l(t){var e;return(null===(e=t.getModel())||void 0===e?void 0:e.getData())||a().ZB}function c(t){return t.filter((t=>t.isFunction())).map((t=>t.getData())).filter((t=>void 0!==t))}function u(t){const{workflowPointer:e,threadPointer:n}=t,o=e??n;if(!o)throw new Error("No workflow definition pointer found");return o}function d(t){let{module:e,store:n}=t;const o=(0,r().DK)(e.state);if(null!=o&&o.pointer&&n)return s().md.createChildStore(n,o.pointer)}function p(t){const e=[];let n=[],o=-1;return t.forEach(((t,r)=>{"workflow"===t.type?(-1!==o&&n.length>0&&(e.splice(o+1,0,...n),n=[]),e.push(t),o=e.length-1):"workflow-progress"===t.type?n.push(t):e.push(t)})),-1!==o&&n.length>0&&e.splice(o+1,0,...n),e}function g(t){let{threadStore:e,clientStore:n}=t;return(0,i().A3)({clientStore:n,threadStore:e}).filter(o().Nz)??[]}},635123:(t,e,n)=>{n.d(e,{c:()=>r});n(242343);const o={viewBox:"0 0 20 20",svg:(0,n(163643).jsx)("path",{d:"M10 2.375c-1.778 0-3.415.256-4.63.69-.604.216-1.138.488-1.532.82-.391.331-.713.784-.713 1.347q0 .157.032.304h-.032v9.232c0 .563.322 1.016.713 1.346.394.333.928.605 1.532.82 1.215.435 2.852.691 4.63.691s3.415-.256 4.63-.69c.604-.216 1.138-.488 1.532-.82.391-.331.713-.784.713-1.347V5.536h-.032q.031-.147.032-.304c0-.563-.322-1.016-.713-1.346-.394-.333-.928-.605-1.532-.82-1.215-.435-2.852-.691-4.63-.691M4.375 5.232c0-.053.028-.188.27-.391.238-.201.62-.41 1.146-.599 1.047-.374 2.535-.617 4.209-.617s3.162.243 4.21.617c.526.188.907.398 1.146.599.24.203.269.338.269.391s-.028.188-.27.391c-.238.202-.62.41-1.146.599-1.047.374-2.535.617-4.209.617s-3.162-.243-4.21-.617c-.526-.188-.907-.397-1.146-.599-.24-.203-.269-.338-.269-.39m11.25 1.718V10c0 .053-.028.188-.27.391-.238.201-.62.41-1.146.599-1.047.374-2.535.617-4.209.617s-3.162-.243-4.21-.617c-.526-.188-.907-.398-1.146-.599-.24-.203-.269-.338-.269-.391V6.95c.297.17.633.32.995.45 1.215.433 2.852.69 4.63.69s3.415-.257 4.63-.69c.362-.13.698-.28.995-.45m-11.25 7.818v-3.05c.297.17.633.32.995.449 1.215.434 2.852.69 4.63.69s3.415-.256 4.63-.69c.362-.13.698-.279.995-.45v3.05c0 .054-.028.189-.27.392-.238.201-.62.41-1.146.599-1.047.374-2.535.617-4.209.617s-3.162-.243-4.21-.617c-.526-.188-.907-.398-1.146-.599-.24-.203-.269-.338-.269-.391"})},r=(0,n(680369).wt)("collection",o)},658294:(t,e,n)=>{n.d(e,{G:()=>a});var o=()=>n(137476),r=()=>n(836331);function a(t,e){o().vd(t,"delete_property",e),r().default.logEvent("delete_property")}},686752:(t,e,n)=>{n.r(e),n.d(e,{iconDefinition:()=>o,pencilLineIcon:()=>r});n(242343);const o={viewBox:"0 0 20 20",svg:(0,n(163643).jsx)("path",{d:"m13.987 5.682-.684.684-1.288-1.288.692-.691a.91.91 0 0 1 1.28 0c.35.35.35.93 0 1.28zm-9.433 9.433 7.914-7.914-1.289-1.289-7.92 7.908c-.122.122-.214.29-.274.457l-.336 1.082c-.06.229.153.442.366.366l1.082-.335q.252-.07.457-.275m12.446.76H5.61l1.25-1.25H17a.625.625 0 1 1 0 1.25"})},r=(0,n(680369).wt)("pencilLine",o)},700150:(t,e,n)=>{n.d(e,{V:()=>r});n(242343);const o={viewBox:"0 0 20 20",svg:(0,n(163643).jsx)("path",{d:"M3.875 3.25c0-.345.28-.625.625-.625h4c.345 0 .625.28.625.625v4c0 .345-.28.625-.625.625H7.125v.596c0 .179.126.333.302.368l5.39 1.075c.76.152 1.308.819 1.308 1.594v.617H15.5c.345 0 .625.28.625.625v4c0 .345-.28.625-.625.625h-4a.625.625 0 0 1-.625-.625v-4c0-.345.28-.625.625-.625h1.375v-.617a.375.375 0 0 0-.302-.368l-5.39-1.076a1.625 1.625 0 0 1-1.308-1.593v-.596H4.5a.625.625 0 0 1-.625-.625zm4 3.375v-2.75h-2.75v2.75zm4.25 6.75v2.75h2.75v-2.75z"})},r=(0,n(680369).wt)("connections",o)},779698:(t,e,n)=>{n.d(e,{Ah:()=>y,Dk:()=>g,Iv:()=>m,SF:()=>f,YO:()=>w,_f:()=>k,c_:()=>d,dW:()=>v,gW:()=>p,sp:()=>M,vN:()=>b});n(610931),n(362833),n(725707),n(491955),n(771702),n(403517),n(113085);var o=()=>n(975392),r=()=>n(204132),a=()=>n(76394),i=()=>n(599932),s=()=>n(465546),l=()=>n(409211),c=()=>n(34662),u=()=>n(876988);function d(t,e){t.DO_NOT_USE_commonTrackEvent({eventName:"add_automation_step",properties:e})}function p(t,e){t.DO_NOT_USE_commonTrackEvent({eventName:"delete_automation_step",properties:e})}function g(t,e){t.DO_NOT_USE_commonTrackEvent({eventName:"automation_create",properties:e})}function f(t,e){t.DO_NOT_USE_commonTrackEvent({eventName:"automation_update",properties:e})}function m(t,e){t.DO_NOT_USE_commonTrackEvent({eventName:"automation_delete",properties:e})}function y(t,e){t.DO_NOT_USE_commonTrackEvent({eventName:"automation_enable",properties:e})}function b(t,e){t.DO_NOT_USE_commonTrackEvent({eventName:"automation_disable",properties:e})}function v(t,e){t.DO_NOT_USE_commonTrackEvent({eventName:"automation_action_create",properties:e})}function w(t,e){t.DO_NOT_USE_commonTrackEvent({eventName:"automation_action_delete",properties:e})}function h(t){const{formulaAnalyticsModule:e,formulasModule:n,formulaTypecheckContextValues:o,getRecordModel:i,spaceId:l,value:c,featureGates:u}=t;if("formula"===c.type){if(!(0,a().O9)(c.value))return;const t=r().Q.unwrapOr(n.parseFormulaInputToAst(c.value),void 0);if(t){const r=n.addTypesToFormulaAST(t,{handleDataRequest:(0,s().zg)(i),spaceId:l,valueTypes:o,featureGates:u});return{...e.getFormulaAnalytics(t,{getRecordModel:i,typecheckContextValues:o}),formula_return_type:r.node.type,redacted_formula:e.getRedactedFormulaAsStringSync(t,{getRecordModel:i,typecheckContextValues:o})}}}else{if("simple"===c.type){if(!(0,a().O9)(c.value))return;return e.getSimpleFormulaAnalytics(c.value,{getRecordModel:i,typecheckContextValues:o})}(0,a().HB)(c.type)}}function k(t){const{automationActionModel:e,automationActionModels:n,formulaAnalyticsModule:r,formulasModule:d,formulaTypecheckContextValues:p,getRecordModel:g,featureGates:f,simpleFormulasModule:m}=t;return e.isType("complete_sprint")?{automation_action_id:e.pointer.id,type:"complete_sprint"}:e.isType("create_page")?function(t){const{automationActionModel:e,formulaAnalyticsModule:n,formulasModule:o,formulaTypecheckContextValues:r,getRecordModel:i,featureGates:s}=t,l=e.getConfig();let c,u=[];const d=null==l?void 0:l.collection,p=null==l?void 0:l.properties;if((0,a().O9)(d)&&(0,a().O9)(p)&&p.length>0){const t=i(d),f=null==t?void 0:t.getNormalizedSchema();(0,a().O9)(f)&&(u=p.map((t=>{var e;return(null===(e=f[t])||void 0===e?void 0:e.type)??"unknown"})));const m=null==l?void 0:l.values;if(o&&(0,a().O9)(m)){c=[];for(const t of p){var g;const a=null===(g=m[t])||void 0===g?void 0:g.value;if(!a)continue;const l=h({formulaAnalyticsModule:n,formulasModule:o,getRecordModel:i,formulaTypecheckContextValues:r,spaceId:e.spaceId,value:a,featureGates:s});l&&c.push(l)}}}return{automation_action_id:e.pointer.id,property_formula_stats:c,property_types:u,type:"create_page"}}({automationActionModel:e,formulaAnalyticsModule:r,formulasModule:d,formulaTypecheckContextValues:p,getRecordModel:g,featureGates:f}):e.isType("duplicate_blocks")?{automation_action_id:e.pointer.id,type:"duplicate_blocks"}:e.isType("modal_confirmation")?function(t){const{automationActionModel:e,formulaAnalyticsModule:n,formulasModule:o,formulaTypecheckContextValues:r,getRecordModel:i,featureGates:s}=t,l=e.getConfig(),c=[];if(o&&(0,a().O9)(l)&&l.text){const t=h({formulasModule:o,formulaAnalyticsModule:n,getRecordModel:i,formulaTypecheckContextValues:r,spaceId:e.spaceId,value:l.text,featureGates:s});t&&c.push(t)}return{automation_action_id:e.pointer.id,formula_stats:c,type:"modal_confirmation"}}({automationActionModel:e,formulaAnalyticsModule:r,formulasModule:d,formulaTypecheckContextValues:p,getRecordModel:g,featureGates:f}):e.isType("open_page")?{automation_action_id:e.pointer.id,type:"open_page"}:e.isType("query_collection")?{automation_action_id:e.pointer.id,type:"query_collection"}:e.isType("send_in_app_notification")?function(t){var e;const{automationActionModel:n,formulaAnalyticsModule:o,formulasModule:r,formulaTypecheckContextValues:i,getRecordModel:s,featureGates:l,simpleFormulasModule:u}=t,d={automation_action_id:n.pointer.id,messageCharacterCount:0,type:"send_in_app_notification"},p=n.getConfig();if(!(0,a().O9)(p))return d;if((0,a().O9)(p.target))if("formula"===p.target.type&&(0,a().O9)(p.target.value)){if(d.targetData={type:"formula",numUserFormulaTargets:(0,c().Fbh)(p.target.value.value).length,numFormulaContextTargets:u.getReferencedContextValueIds(p.target.value).length},r){const t=h({formulasModule:r,formulaAnalyticsModule:o,getRecordModel:s,formulaTypecheckContextValues:i,spaceId:n.spaceId,value:p.target.value,featureGates:l});t&&(d.formula_stats??=[],d.formula_stats.push(t))}}else if("property"===p.target.type&&(0,a().O9)(p.target.propertyId)&&(0,a().O9)(p.target.collectionPointer)){const t=s(p.target.collectionPointer),e=null==t?void 0:t.getSchema();var g;(0,a().O9)(e)&&(d.targetData={type:"property",propertyType:null===(g=e[p.target.propertyId])||void 0===g?void 0:g.type})}if((0,a().O9)(null===(e=p.notification_message)||void 0===e?void 0:e.value)&&(d.messageCharacterCount=(0,c().FAw)(p.notification_message.value),r)){const t=h({formulasModule:r,formulaAnalyticsModule:o,getRecordModel:s,formulaTypecheckContextValues:i,spaceId:n.spaceId,value:p.notification_message,featureGates:l});t&&(d.formula_stats??=[],d.formula_stats.push(t))}return d}({automationActionModel:e,formulaAnalyticsModule:r,formulasModule:d,formulaTypecheckContextValues:p,getRecordModel:g,featureGates:f,simpleFormulasModule:m}):e.isType("send_gmail_notification")?function(t){var e,n,r,s,u,d,p;const{automationActionModel:g,formulaAnalyticsModule:f,formulasModule:m,formulaTypecheckContextValues:y,getRecordModel:b,featureGates:v}=t,w=g.getConfig();if(!(0,a().O9)(w))return{automation_action_id:g.pointer.id,fields:{},recipient_domains:{},type:"send_gmail_notification"};const k=Object.fromEntries(Object.entries(w||{}).map((t=>{let[e,n]=t;var o;return"formula"===(null==n?void 0:n.type)?[e,Boolean(null==n||null===(o=n.value)||void 0===o?void 0:o.value)]:"simple"===(null==n?void 0:n.type)?[e,Boolean(null==n?void 0:n.value)]:[e,Boolean(n)]}))),{to:M,cc:T,bcc:C}=w,x=[...(null==M||null===(e=M.value)||void 0===e?void 0:e.value)||[],...(null==T||null===(n=T.value)||void 0===n?void 0:n.value)||[],...(null==C||null===(r=C.value)||void 0===r?void 0:r.value)||[]],_=[...(0,c().Fbh)(x).map((t=>b({table:l().oo,id:t}))).map((t=>null==t?void 0:t.email)).filter(a().O9),...(0,i().C3)((0,c().k4p)(x))],S=o().Tr(_.map((t=>t.split("@")[1]))),R=[null===(s=w.to)||void 0===s?void 0:s.value,null===(u=w.cc)||void 0===u?void 0:u.value,null===(d=w.bcc)||void 0===d?void 0:d.value,null===(p=w.reply_to)||void 0===p?void 0:p.value,w.from_name,w.email_subject,w.email_body].map((t=>{if(m&&(0,a().O9)(t))return h({formulaAnalyticsModule:f,formulasModule:m,getRecordModel:b,formulaTypecheckContextValues:y,spaceId:g.spaceId,value:t,featureGates:v})})).filter(a().O9);return{automation_action_id:g.pointer.id,fields:k,formula_stats:R,recipient_domains:S,type:"send_gmail_notification"}}({automationActionModel:e,formulaAnalyticsModule:r,formulasModule:d,formulaTypecheckContextValues:p,getRecordModel:g,featureGates:f}):e.isType("slack_notification")?{automation_action_id:e.pointer.id,type:"slack_notification"}:e.isType("update_pages")?function(t){const{automationActionModel:e,automationActionModels:n,formulaAnalyticsModule:o,formulasModule:r,formulaTypecheckContextValues:i,getRecordModel:l,featureGates:c}=t,d=e.getConfig(),p=[],g=[],f=[];if((0,a().O9)(d)&&(0,a().O9)(d.target)&&(0,a().O9)(d.properties)&&d.properties.length>0){let t;if("variable"===d.target.type){const e=(0,s().y5)(d.target.id);if("action"===e.source){const e=(0,u().y)({actionModels:n,id:d.target.id}).collectionPointer;if((0,a().O9)(e)){const n=l(e);t=null==n?void 0:n.getNormalizedSchema()}}else{if("global"!==e.source||"button_page"!==e.global)throw new Error("Failed loading property schema");{const e=(0,s().IV)(i,d.target.id);if("block"===(null==e?void 0:e.type.type)&&(0,a().O9)(e.type.collection)){const n=l(e.type.collection);t=null==n?void 0:n.getNormalizedSchema()}}}}else if("collection"===d.target.type){const e=l(d.target.collection);t=null==e?void 0:e.getNormalizedSchema()}(0,a().O9)(t)&&d.properties.forEach((n=>{const s=t[n];if((0,a().O9)(s)&&(p.push(s.type),r&&(0,a().O9)(d.values))){const t=d.values[n];if((0,a().O9)(t)&&(g.push({type:s.type,operator:t.action}),t.value)){const n=h({formulasModule:r,formulaAnalyticsModule:o,getRecordModel:l,formulaTypecheckContextValues:i,spaceId:e.spaceId,value:t.value,featureGates:c});n&&f.push(n)}}}))}return{automation_action_id:e.pointer.id,property_configs:g,property_formula_stats:f,property_types:p,type:"update_pages"}}({automationActionModel:e,automationActionModels:n,formulaAnalyticsModule:r,formulasModule:d,formulaTypecheckContextValues:p,getRecordModel:g,featureGates:f}):e.isType("define_variables")?function(t){const{automationActionModel:e,formulaAnalyticsModule:n,formulasModule:o,formulaTypecheckContextValues:r,getRecordModel:i,featureGates:s}=t,l=e.getConfig(),c=[];if(o&&(0,a().O9)(l)&&l.values)for(const a of Object.values(l.values))if(a.value){const t=h({formulasModule:o,formulaAnalyticsModule:n,getRecordModel:i,formulaTypecheckContextValues:r,spaceId:e.spaceId,value:a.value,featureGates:s});t&&c.push(t)}return{automation_action_id:e.pointer.id,formula_stats:c,type:"define_variables"}}({automationActionModel:e,formulaAnalyticsModule:r,formulasModule:d,formulaTypecheckContextValues:p,getRecordModel:g,featureGates:f}):e.isType("http_request")?{automation_action_id:e.pointer.id,type:"http_request"}:e.isType("publish_site")?{automation_action_id:e.pointer.id,type:"publish_site"}:void(0,a().HB)(e)}function M(t){const{automationModel:e,builderType:n="sidebar",formulaAnalyticsModule:o,formulasModule:r,formulaTypecheckContextValues:i,getRecordModel:s,featureGates:l,simpleFormulasModule:c,source:u}=t,d=[],p=e.getActionPointers().map((t=>s(t))).filter(a().O9);for(const w of e.getActionPointers()){const t=s(w);(0,a().O9)(t)&&d.push(k({automationActionModel:t,automationActionModels:p,formulaAnalyticsModule:o,formulasModule:r,formulaTypecheckContextValues:i,getRecordModel:s,featureGates:l,simpleFormulasModule:c}))}const g=[];let f,m,y;if(e.isEventType()){var b;const t=e.getEventConfiguration(),n=s(e.getParentPointer());f=e.getParentId();const o=e.getEventConfiguration();if("collection_view"===(null===(b=o.source)||void 0===b?void 0:b.type)){const t=s(o.source.pointer);y=null==t?void 0:t.parent_id,m=null==o?void 0:o.source.pointer.id}const r=null==n?void 0:n.getNormalizedSchema();if((0,a().O9)(r)){const{pagesAdded:e,pagePropertiesEdited:n}=t;if(e&&g.push({type:"page"}),"any"===n.type)g.push({condition:"any",type:"property"});else if("none"===n.type)g.push({condition:"none",type:"property"});else{let t=[];"some"===n.type?t=n.some??[]:"all"===n.type&&(t=n.all??[]);const e=[],o=[];t.forEach((t=>{var n;const i=null===(n=r[t.property])||void 0===n?void 0:n.type;(0,a().O9)(i)&&(e.push({type:i,operator:t.filter.operator}),o.push(i))})),g.push({condition:n.type,property_configs:e,property_types:o,type:"property"})}}}else if(e.isButtonType())g.push({type:"button"});else if(e.isRecurrenceType()){var v;g.push({type:"recurrence",frequency:null===(v=e.getTrigger().recurrence)||void 0===v?void 0:v.frequency})}else(0,a().HB)(e);return{automation_actions:d,automation_id:e.id,automation_triggers:g,collection_id:f,collection_view_id:m,collection_view_block_id:y,builder_type:n,source:u}}},817616:(t,e,n)=>{n.d(e,{Bn:()=>u,Dk:()=>p,My:()=>f,Rd:()=>d,_q:()=>v,bq:()=>b,gf:()=>g,nG:()=>m,wI:()=>y});n(610931),n(362833),n(333225),n(494367),n(516262),n(573119),n(240480),n(950443),n(619601),n(725707),n(491955),n(500234),n(403517);var o=()=>n(902567),r=()=>n(76394),a=()=>n(485966),i=()=>n(413871),s=()=>n(530255),l=()=>n(18642),c=()=>n(615705);function u(t){if(!t)return[];const{currentUserStore:e}=a().default.state;if(!e)throw new Error("No current user store");if(t.functions&&t.functions.length>0)return t.functions;if(!t.functionPointers||0===t.functionPointers.length)return[];const n=t.functionPointers.map((t=>i().je.createChildStore(e,t)));return(0,c().aY)(n)}function d(t){if(!t)return[];const{modules:e=[]}=t;return e.filter((e=>function(t){const{workflow:e,module:n}=t;if("connections"!==l().d.getModuleConfigSection(n))return!1;var o;if("ai"===n.type)return Object.keys((null===(o=n.state)||void 0===o?void 0:o.promptNamesToModel)??{}).length>0;if("config"===n.type)return e&&(0,s().a)(e);return!0}({workflow:t,module:e})))}function p(t){const{workflow:e,blockStore:n,functionKey:o}=t;return function(t){const{workflow:e,blockStore:n}=t;return e.functionPointers?e.functionPointers.map((t=>i().je.createChildStore(n,t))).filter((t=>t.isFunction())):[]}({workflow:e,blockStore:n}).find((t=>{var e;return(null===(e=t.getData())||void 0===e?void 0:e.key)===o}))}function g(t){var e;const{runStore:n,userStore:o,workflow:r}=t;if(!r)return[];const a=(null===(e=n.getData())||void 0===e?void 0:e.function_artifact_pointers)||r.functionPointers;if(!a||0===a.length)return[];const s=a.map((t=>i().je.createChildStore(o,t)));return(0,c().aY)(s)}function f(t){const{workflowStore:e,resultIds:n}=t,a=u((0,c().dh)(e));return n.map((t=>function(t){const{workflowStore:e,runId:n,functions:a}=t,s=function(t){const{workflowStore:e,runId:n}=t,r=e.getSpaceId();if(!r)throw new Error("No space id");return i().ty.createChildStore(e,{table:o().QR,id:n,spaceId:r})}({workflowStore:e,runId:n}),l=function(t,e){const n=t.getScript();if(n)return n.name;const o=t.getTriggerKey();if(!o)return;const r=e.find((t=>t.key===o));return(null==r?void 0:r.name)||o}(s,a),c=function(t){var e;const n=null===(e=t.getData())||void 0===e?void 0:e.workflow_version;return(0,r().O9)(n)?`v${n}`:void 0}(s),u=s.getStatus()??"pending",d=s.getFinishedAt();return{id:s.id,isClickable:!0,isLoading:!s.isReady(),runFinishedAt:d,runId:s.id,runName:l,runStatus:u,runTrigger:void 0,workflowVersion:c}}({workflowStore:e,runId:t,functions:a})))}function m(t){return t?t.triggers??[]:[]}function y(t){const{workflow:e,functionStore:n}=t;return e.functionPointers&&n?new Map(e.functionPointers.map((t=>i().je.createChildStore(n,t))).filter((t=>t.isFunction())).map((t=>{const e=t.getData();return e?[e.key,e]:null})).filter((t=>null!==t))):new Map}function b(t){var e;const{workflow:n,fn:o,functionStoreMap:r}=t;return null!==(e=o.callsFunctions)&&void 0!==e&&e.length?o.callsFunctions.map((t=>{var e;const o=r.get(t);return o||(null===(e=n.functions)||void 0===e?void 0:e.find((e=>e.key===t)))})).filter((t=>void 0!==t)):[]}function v(t){const{functionKey:e,allFunctions:n}=t,o=t.visitedKeys??new Set;if(o.has(e))return[];o.add(e);const r=n.find((t=>t.key===e));if(!r)return[];const a=[];if(r.callsFunctions)for(const i of r.callsFunctions){const t=n.find((t=>t.key===i));t&&a.push(t)}return[r,...a.flatMap((t=>v({functionKey:t.key,allFunctions:n,visitedKeys:o})))]}},842940:(t,e,n)=>{n.d(e,{J:()=>r});n(242343);const o={viewBox:"0 0 20 20",svg:(0,n(163643).jsx)("path",{d:"M8.875 2.625a6.25 6.25 0 1 0 3.955 11.09l3.983 3.982a.625.625 0 1 0 .884-.884l-3.983-3.982a6.25 6.25 0 0 0-4.84-10.205m-5 6.25a5 5 0 1 1 10 0 5 5 0 0 1-10 0"})},r=(0,n(680369).wt)("magnifyingGlass",o)},870122:(t,e,n)=>{n.r(e),n.d(e,{globeIcon:()=>r,iconDefinition:()=>o});n(242343);const o={viewBox:"0 0 20 20",svg:(0,n(163643).jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 15.25 0 7.625 7.625 0 0 1-15.25 0m3.123-4.514c.55.252 1.21.463 1.953.612q.135-.585.308-1.086a6.6 6.6 0 0 1 .512-1.15 6.4 6.4 0 0 0-2.773 1.624m-.814.994a6.34 6.34 0 0 0-1.029 2.895h3.396c.022-.715.081-1.403.173-2.048-.962-.191-1.827-.48-2.54-.847m-1.029 4.145a6.34 6.34 0 0 0 1.03 2.895c.712-.367 1.577-.656 2.54-.848a19 19 0 0 1-.174-2.047zm4.647 0c.021.657.076 1.283.158 1.862a15 15 0 0 1 3.08 0c.082-.58.137-1.205.158-1.862zm4.647 0a19 19 0 0 1-.173 2.048c.845.169 1.615.412 2.274.717a.6.6 0 0 1 .23.182 6.34 6.34 0 0 0 1.065-2.947zm3.396-1.25a6.34 6.34 0 0 0-1.03-2.895c-.712.367-1.577.656-2.54.847.093.645.152 1.333.174 2.048zm-4.647 0a17 17 0 0 0-.158-1.862 15 15 0 0 1-3.08 0c-.082.58-.137 1.205-.158 1.862zm-6.2 5.139a6.4 6.4 0 0 0 2.773 1.624 6.6 6.6 0 0 1-.512-1.15 11 11 0 0 1-.308-1.086 9 9 0 0 0-1.953.612m9.004 0a9 9 0 0 0-1.953-.611q-.135.584-.308 1.085a6.6 6.6 0 0 1-.512 1.15 6.4 6.4 0 0 0 2.773-1.624m-3.443.067q.136-.395.249-.86a13.7 13.7 0 0 0-2.615-.001q.111.466.248.861c.198.575.42.995.635 1.259.22.269.366.302.424.302s.205-.033.424-.302c.215-.264.437-.684.635-1.259m3.443-9.095a6.4 6.4 0 0 0-2.773-1.624c.196.337.366.726.512 1.15q.173.501.308 1.086a9 9 0 0 0 1.953-.612M10 6.342q.676-.001 1.308-.062a9 9 0 0 0-.249-.861c-.198-.575-.42-.995-.635-1.259-.22-.269-.366-.302-.424-.302s-.204.033-.424.302c-.215.264-.437.684-.635 1.259q-.136.395-.248.861.631.061 1.307.062"})},r=(0,n(680369).wt)("globe",o)},876988:(t,e,n)=>{n.d(e,{y:()=>a});n(725707),n(500234);var o=()=>n(76394),r=()=>n(465546);function a(t){var e;const{actionModels:n,id:a}=t,i=(0,r().y5)(a),s="action"===i.source?n.find((t=>t.id===i.action_id)):void 0,l=(0,o().O9)(s)&&s.isType("create_page")?null===(e=s.getConfig())||void 0===e?void 0:e.collection:void 0;return{automationValueInfo:i,collectionPointer:l,actionModel:s}}},880425:(t,e,n)=>{n.r(e),n.d(e,{iconDefinition:()=>o,zendeskIcon:()=>r});n(242343);const o={viewBox:"0 0 20 20",svg:(0,n(163643).jsx)("path",{fill:"#000",d:"M9.298 6.778v10.073H1zm0-3.633a4.16 4.16 0 0 1-4.17 4.17C2.817 7.315 1 5.457 1 3.145zm1.363 13.665a4.16 4.16 0 0 1 4.17-4.17A4.16 4.16 0 0 1 19 16.81zm0-3.592V3.145H19z"})},r=(0,n(680369).wt)("zendesk",o)},911575:(t,e,n)=>{n.d(e,{$0:()=>y,Fx:()=>T,Ge:()=>g,I3:()=>d,Kj:()=>k,PP:()=>C,TK:()=>x,Yy:()=>u,aE:()=>_,cQ:()=>M,kH:()=>f,m7:()=>p,nq:()=>w,nv:()=>b,tj:()=>m});n(725707),n(491955),n(113085);var o=()=>n(975392),r=()=>n(76394),a=()=>n(564134),i=()=>n(810111),s=()=>n(479056),l=()=>n(875089);(0,r().u0)((t=>(0,r().O9)(t)&&(0,r().O9)(t.target)&&(0,r().O9)(t.external_bot_id)?{true:{external_bot_id:t.external_bot_id,target:t.target,custom_message:t.custom_message}}:{false:t}));const c={checkbox:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,auto_increment_id:!1,button:!1,created_by:!1,created_time:!1,file:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1,geo_point:!1},u={checkbox:[{type:"checkbox"}],date:[{type:"date"}],email:[{type:"text"}],multi_select:[{type:"text"},{of:{type:"text"},type:"array"}],number:[{type:"number"}],person:[{type:"person"},{of:{type:"person"},type:"array"}],phone_number:[{type:"text"}],relation:[{type:"block"},{of:{type:"block"},type:"array"}],select:[{type:"text"},{of:{type:"text"},type:"array"}],status:[{type:"text"},{of:{type:"text"},type:"array"}],text:void 0,title:void 0,url:[{type:"text"}]};function d(t){return Boolean(c[t.type]&&!(0,a().UU)(t)&&(!(0,a().$M)(t)||void 0===(0,a().om)(t)))}function p(t){const{collectionFormat:e,collectionSchema:n,filter:s,sort:c,sourcePropertyIds:u}=t,p=(u??(0,r().uv)(n)).filter(((e,o,r)=>{const i=n[e];return!(!i||!d(i))&&(("relation"!==i.type||!t.restrictCrossSpace||!(0,a().o2)(t.spaceId,i))&&(!s||s([e,i],o,n)))}));if(0===p.length)return[];if(!e||!1===c)return p;const g=(0,l().L)(e,n,void 0,i().jf.Page).collection_page_properties||[];return o().Ul(p,(t=>g.findIndex((e=>e.property===t))))}function g(t){const{collectionFormat:e,collectionSchema:n,sort:s}=t,c=(0,r().uv)(n).filter(((t,e,o)=>{const r=n[t];return!(!r||!(0,a().JY)(r))}));if(0===c.length)return[];if(!e||!1===s)return c;const u=(0,l().L)(e,n,void 0,i().jf.Page).collection_page_properties||[];return o().Ul(c,(t=>u.findIndex((e=>e.property===t))))}function f(t){return t.type===s().M9.InvalidCharacter?{type:t.type,character:t.character}:t.type===s().M9.TokenExpected?{type:t.type,token:t.token}:t.type===s().uW.MissingSchemaPropertyOnThisRow||t.type===s().uW.MissingSchemaPropertyOnCollection?{type:t.type,collectionId:t.collectionId,property:t.property}:t.type===s().uW.ThisRowBlockPropertyMismatchCollection?{type:t.type,thisRowCollection:t.thisRowCollection}:t.type===s().uW.MissingContextVariable?{type:t.type,valueId:t.valueId}:t.type===s().uW.FunctionCallTooFewArguments?{type:t.type,numArguments:t.numArguments}:t.type===s().uW.FunctionCallUnexpectedArgument?{type:t.type,parameterIndex:t.parameterIndex}:t.type===s().uW.FunctionCallArgumentWrongType?{type:t.type,argumentType:t.argumentType,libraryFunctionName:t.libraryFunction.name,parameterIndex:t.parameterIndex}:t.type===s().uW.MissingDataDependencyBlock?{type:t.type,blockPointer:t.blockPointer,node:t.node}:t.type===s().uW.MissingDataDependencyPerson?{type:t.type,personPointer:t.personPointer}:t.type===s().uW.MemberPropertyMismatchCollection?{type:t.type,blockCollection:t.blockCollection}:t.type===s().uW.DownstreamParseFailure?{type:t.type,collectionId:t.collectionId,property:t.property}:t.type===s().uW.ContextVariableWrongType?{type:t.type,valueId:t.valueId,expectedType:t.expectedType,resultType:t.resultType}:t.type===s().uW.DisallowedValueType?{type:t.type,expressionValue:t.expressionValue,allowedValueTypes:t.allowedValueTypes}:t.type===s().uW.LibraryFunctionExecutionError?{type:t.type,error:t.error,libraryFunctionName:t.libraryFunction.name}:{type:t.type}}const m={checkbox:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,button:!1,file:!1,verification:!1,auto_increment_id:!1,created_by:!1,created_time:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,geo_point:!1};function y(t){return Boolean(m[t.type])}function b(t){const{collectionFormat:e,collectionSchema:n,filter:s,sort:c}=t,u=(0,r().uv)(n).filter(((t,e,o)=>{var r;const i=n[t];return!(!i||!m[i.type])&&((!(0,a().$M)(i)||null===(r=(0,a().om)(i))||void 0===r||!r.auto_update_on_edit)&&(!s||s([t,i],e,n)))}));if(0===u.length)return[];if(!e||!1===c)return u;const d=(0,l().L)(e,n,void 0,i().jf.Page).collection_page_properties||[];return o().Ul(u,(t=>d.findIndex((e=>e.property===t))))}const v={checkbox:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,auto_increment_id:!1,button:!1,created_by:!1,created_time:!1,date:!1,file:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1,geo_point:!1};function w(t){return v[t.type]}const h={checkbox:!0,created_by:!0,created_time:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,last_edited_by:!0,last_edited_time:!0,auto_increment_id:!1,button:!1,file:!1,formula:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1,geo_point:!1};function k(t){return h[t.type]}function M(t){return 0===t}function T(t){return function(t){return"button_block"===t||"button_property"===t}(t)}function C(t){const{property:e,collectionSchema:n}=t;return!!n&&!n[e]}function x(t){const{collectionSchema:e,property:n,type:o}=t,r=null==e?void 0:e[n];return!r||("action"===o?!d(r):!m[r.type])}function _(t){let{automationTrigger:e,collectionSchema:n}=t;if("event"===(null==e?void 0:e.type)){const{pagesAdded:t,pagePropertiesEdited:o,source:a,relativeDate:i}=e.event;if(void 0===a)return!1;const s="some"===o.type&&o.some,l="all"===o.type&&o.all;if((s||l||[]).some((t=>C({collectionSchema:n,property:t.property})||x({collectionSchema:n,property:t.property,type:"trigger"}))))return!1;const c="some"===o.type&&(!(0,r().O9)(o.some)||0===o.some.length),u="all"===o.type&&(!(0,r().O9)(o.all)||0===o.all.length);if(!t&&("none"===o.type||c||u)&&!i)return!1}else{if("recurrence"!==(null==e?void 0:e.type))return!1;if(!e.recurrence)return!1}return!0}},954397:(t,e,n)=>{n.r(e),n.d(e,{iconDefinition:()=>r,slidersIcon:()=>a});n(242343);var o=n(163643);const r={viewBox:"0 0 20 20",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M3 7.375h6.829a2.501 2.501 0 0 0 4.842 0H17a.625.625 0 1 0 0-1.25h-2.329a2.501 2.501 0 0 0-4.842 0H3a.625.625 0 1 0 0 1.25M12.25 5.5a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5"}),(0,o.jsx)("path",{fillRule:"evenodd",d:"M7.75 15.75a2.5 2.5 0 0 0 2.421-1.875H17a.625.625 0 1 0 0-1.25h-6.829a2.5 2.5 0 0 0-4.842 0H3a.625.625 0 1 0 0 1.25h2.329A2.5 2.5 0 0 0 7.75 15.75m0-1.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5",clipRule:"evenodd"})]})},a=(0,n(680369).wt)("sliders",r)},956548:(t,e,n)=>{n.r(e),n.d(e,{iconDefinition:()=>r,pageIcon:()=>a});n(242343);var o=n(163643);const r={viewBox:"0 0 20 20",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M13.3 14.25a.55.55 0 0 1-.55.55h-5.5a.55.55 0 1 1 0-1.1h5.5a.55.55 0 0 1 .55.55m-.55-1.95a.55.55 0 1 0 0-1.1h-5.5a.55.55 0 0 0 0 1.1z"}),(0,o.jsx)("path",{d:"M6.25 2.375A2.125 2.125 0 0 0 4.125 4.5v11c0 1.174.951 2.125 2.125 2.125h7.5a2.125 2.125 0 0 0 2.125-2.125V8.121c0-.563-.224-1.104-.622-1.502L11.63 2.997a2.13 2.13 0 0 0-1.502-.622zM5.375 4.5c0-.483.392-.875.875-.875h3.7V6.25A2.05 2.05 0 0 0 12 8.3h2.625v7.2a.875.875 0 0 1-.875.875h-7.5a.875.875 0 0 1-.875-.875zm8.691 2.7H12a.95.95 0 0 1-.95-.95V4.184z"})]})},a=(0,n(680369).wt)("page",r)},963644:(t,e,n)=>{n.d(e,{i:()=>a});var o=()=>n(876695),r=()=>n(658294);function a(t){const{environment:e,collectionContextStore:n,property_type:a,from:i,property:s,...l}=t,c=(0,o().sl)(n)||{};(0,r().G)(e,{property:s,property_type:a,from:i,...l,...c})}},994488:(t,e,n)=>{n.d(e,{o:()=>o});n(362833),n(403517);function o(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(0===n.length)return t.map((t=>[t]));const a=[];for(const i of t)a.push(...o(n[0],...n.slice(1)).map((t=>[i,...t])));return a}}}]);