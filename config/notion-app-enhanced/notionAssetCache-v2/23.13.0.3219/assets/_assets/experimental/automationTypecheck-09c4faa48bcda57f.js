"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[44158,97101],{81085:(e,t,o)=>{o.d(t,{Eo:()=>h,Fz:()=>m,KI:()=>s,M4:()=>l,YW:()=>b,iY:()=>x,mO:()=>g,qE:()=>c,vm:()=>v});var n=()=>o(16456),i=()=>o(807912),r=()=>o(465546);const a=(0,o(653998).YK)({buttonAutomationCurrentUserDescription:{defaultMessage:"The user who clicked this button",id:"automations.contextValue.buttonAutomationCurrentUserDescription"},buttonAutomationCurrentUserName:{defaultMessage:"Whoever clicked",id:"automations.contextValue.buttonAutomationCurrentUserName"},buttonAutomationCurrentUserTooltip:{defaultMessage:"The person who clicked the button",id:"automations.contextValue.buttonAutomationCurrentUserTooltip"},buttonAutomationThisPageDescription:{defaultMessage:"The page containing this button",id:"automations.contextValue.buttonAutomationThisPageDescription"},buttonAutomationThisPageName:{defaultMessage:"This page",id:"automations.contextValue.buttonAutomationThisPageName"},buttonAutomationThisPageTooltip:{defaultMessage:"The page containing this button",id:"automations.contextValue.buttonAutomationThisPageTooltip"},eventAutomationCurrentUserDescription:{defaultMessage:"The user who made the edit that triggered this automation to run.",id:"automations.contextValue.eventAutomationCurrentUserDescription"},eventAutomationCurrentUserName:{defaultMessage:"Whoever triggered",id:"automations.contextValue.eventAutomationCurrentUserName"},eventAutomationCurrentUserTooltip:{defaultMessage:"The person whose action triggered this automation",id:"automations.contextValue.eventAutomationCurrentUserTooltip"},eventAutomationThisPageDescription:{defaultMessage:"The page that was edited to trigger this automation to run.",id:"automations.contextValue.eventAutomationThisPageDescription"},eventAutomationThisPageName:{defaultMessage:"Trigger page",id:"automations.contextValue.eventAutomationThisPageName"},eventAutomationThisPageTooltip:{defaultMessage:"The page that triggered this automation",id:"automations.contextValue.eventAutomationThisPageTooltip"},now:{id:"automations.triggers.now.label",defaultMessage:"Time triggered"},nowDescription:{id:"automations.triggers.now.description",defaultMessage:"The time when this automation begins to run."},nowTooltip:{id:"automations.triggers.now.tooltip",defaultMessage:"The time this automation was triggered"},pageCreator:{id:"automations.triggers.pageCreator.label",defaultMessage:"Page creator"},pageCreatorDescription:{id:"automations.triggers.pageCreator.description",defaultMessage:"The user who created the page that was edited to trigger this automation to run."},pageCreatorTooltip:{id:"automations.triggers.pageCreator.tooltip",defaultMessage:"Person who created page"},today:{id:"automations.triggers.today.label",defaultMessage:"Date triggered"},todayDescription:{id:"automations.triggers.today.description",defaultMessage:"The date when this automation begins to run."},todayTooltip:{id:"automations.triggers.today.tooltip",defaultMessage:"The date this automation was triggered"}});function s(){return(0,r().$y)({source:"global",global:"button_page"})}function u(e,t,o){return{description:o,name:e,tooltip:t,compile:(n,r)=>({description:o?n.formatMessage(o):void 0,id:s(),kind:i().FormulaContextValueKind.ContextValue,name:n.formatMessage(e),tooltipName:n.formatMessage(t),type:{collection:r,type:"block"}}),evaluate:e=>({kind:i().FormulaContextValueKind.ContextValue,id:s(),value:{type:"block",value:e}})}}const l=u(a.buttonAutomationThisPageName,a.buttonAutomationThisPageTooltip,a.buttonAutomationThisPageDescription),c=u(a.eventAutomationThisPageName,a.eventAutomationThisPageTooltip,a.eventAutomationThisPageDescription);function p(){return(0,r().$y)({source:"global",global:"current_user"})}function d(e,t,o){return{description:o,name:e,tooltip:t,compile:n=>({description:o?n.formatMessage(o):void 0,id:p(),kind:i().FormulaContextValueKind.ContextValue,name:n.formatMessage(e),tooltipName:n.formatMessage(t),type:{type:"person"}}),evaluate:e=>({id:p(),kind:i().FormulaContextValueKind.ContextValue,value:{type:"person",value:e}})}}const m=d(a.buttonAutomationCurrentUserName,a.buttonAutomationCurrentUserTooltip,a.buttonAutomationCurrentUserDescription),g=d(a.eventAutomationCurrentUserName,a.eventAutomationCurrentUserTooltip,a.eventAutomationCurrentUserDescription);function y(){return(0,r().$y)({source:"global",global:"now"})}const v={description:a.nowDescription,name:a.now,tooltip:a.nowTooltip,compile(e){return{description:this.description?e.formatMessage(this.description):void 0,id:y(),kind:i().FormulaContextValueKind.ContextValue,name:e.formatMessage(this.name),tooltipName:this.tooltip?e.formatMessage(this.tooltip):void 0,type:{type:"date"}}},evaluate:e=>({id:y(),kind:i().FormulaContextValueKind.ContextValue,value:{type:"date",value:(0,n().KQ)(Date.now(),e)}})};function f(){return(0,r().$y)({source:"global",global:"today"})}const h={description:a.todayDescription,name:a.today,tooltip:a.todayTooltip,compile(e){return{description:this.description?e.formatMessage(this.description):void 0,id:f(),kind:i().FormulaContextValueKind.ContextValue,name:e.formatMessage(this.name),tooltipName:this.tooltip?e.formatMessage(this.tooltip):void 0,type:{type:"date"}}},evaluate:e=>({id:f(),kind:i().FormulaContextValueKind.ContextValue,value:{type:"date",value:(0,n().p6)(Date.now(),e)}})};function _(){return(0,r().$y)({source:"global",global:"page_creator"})}function T(e,t){return{description:a.pageCreatorDescription,name:e,tooltip:t,compile(o){return{description:this.description?o.formatMessage(this.description):void 0,id:_(),kind:i().FormulaContextValueKind.ContextValue,name:o.formatMessage(e),tooltipName:o.formatMessage(t),type:{type:"person"}}},evaluate:e=>({id:_(),kind:i().FormulaContextValueKind.ContextValue,value:{type:"person",value:e}})}}const b=T(a.pageCreator,a.pageCreatorTooltip),x=T(a.pageCreator,a.pageCreatorTooltip)},155342:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>i,questionMarkCircleIcon:()=>r});o(242343);var n=o(163643);const i={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M9.978 7.154c-.804 0-1.333.456-1.438.874a.625.625 0 0 1-1.213-.303c.28-1.121 1.44-1.82 2.65-1.82 1.365 0 2.714.905 2.714 2.298 0 .812-.49 1.477-1.13 1.872l-.755.516a.84.84 0 0 0-.381.677.625.625 0 1 1-1.25 0c0-.688.36-1.318.921-1.706l.003-.002.784-.535.014-.008c.374-.228.544-.537.544-.814 0-.459-.517-1.049-1.463-1.049m.662 6.336a.8.8 0 1 1-1.6 0 .8.8 0 0 1 1.6 0"}),(0,n.jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 15.25 0 7.625 7.625 0 0 1-15.25 0M10 3.625a6.375 6.375 0 1 0 0 12.75 6.375 6.375 0 0 0 0-12.75"})]})},r=(0,o(680369).wt)("questionMarkCircle",i)},170582:(e,t,o)=>{o.d(t,{r:()=>i});o(242343);const n={viewBox:"0 0 20 20",svg:(0,o(163643).jsx)("path",{d:"M10 2.355a2.35 2.35 0 0 0-2.253 1.686 5.06 5.06 0 0 0-2.803 4.527v1.189c0 .919-.334 1.806-.939 2.498l-.818.935c-.881 1.007-.166 2.583 1.173 2.583h3.02a2.65 2.65 0 0 0 5.24 0h3.02c1.339 0 2.054-1.576 1.173-2.583l-.818-.935a3.8 3.8 0 0 1-.939-2.498v-1.19a5.06 5.06 0 0 0-2.803-4.526A2.35 2.35 0 0 0 10 2.355m1.5 13.418a1.55 1.55 0 0 1-2.998 0zM8.909 4.564A1.104 1.104 0 0 1 10 3.605c.556 0 1.017.415 1.091.96l.049.353.329.138a3.81 3.81 0 0 1 2.337 3.512v1.189c0 1.221.444 2.401 1.248 3.32l.818.936a.307.307 0 0 1-.232.51H4.36a.308.308 0 0 1-.232-.51l.818-.935a5.04 5.04 0 0 0 1.248-3.321v-1.19c0-1.58.963-2.936 2.337-3.511l.33-.138z"})},i=(0,o(680369).wt)("bell",n)},178063:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>n,plusIcon:()=>i});o(242343);const n={viewBox:"0 0 20 20",svg:(0,o(163643).jsx)("path",{d:"M10 3.59a.66.66 0 0 1 .66.66v5.09h5.09a.66.66 0 0 1 0 1.32h-5.09v5.09a.66.66 0 0 1-1.32 0v-5.09H4.25a.66.66 0 0 1 0-1.32h5.09V4.25a.66.66 0 0 1 .66-.66"})},i=(0,o(680369).wt)("plus",n)},355149:(e,t,o)=>{o.d(t,{Z:()=>c});var n=()=>o(975392),i=()=>o(76394),r=()=>o(427091),a=()=>o(21164),s=()=>o(81085);const u={type:"button",getCreatePermissions(e){const{parentPointer:t}=e;return[{minimumRole:"read_and_write",pointer:t,type:"record_permission"}]},getEditPermissions(e){const{automationModel:t}=e;return[{minimumRole:"read_and_write",pointer:t.getParentPointer(),type:"record_permission"}]},getManagePermissions(e){const{automationModel:t}=e;return[{minimumRole:"read_and_write",pointer:t.getParentPointer(),type:"record_permission"}]},getExecutePermissions(e){const{automationModel:t}=e;return[{minimumRole:"reader",pointer:t.getParentPointer(),type:"record_permission"}]},typecheck(e){const{automationModel:t,contextType:r,getRecordModel:u,intl:l}=e,c=s().Fz.compile(l),p=s().vm.compile(l),d=s().Eo.compile(l),m=t.getParentPointer();let g,y;if("button_block"===r){if(e.pageBlockModel){const t=(0,o(103265).SH)({block:e.pageBlockModel,getRecordModel:u});t&&(g=s().M4.compile(l,t.pointer),y=s().YW.compile(l))}}else if("button_property"===r){const e=u(m);if((null==e?void 0:e.table)!==a().Vl)return{error:new(o(232312).N9)(`Unable to load automation parent: ${o(293665).L3.toKey(m)}`)};g=s().M4.compile(l,e.pointer),y=s().YW.compile(l)}else(0,i().HB)(r);return{value:{valueTypes:(0,n().oE)([c,p,d,g,y])}}},execute(e){const{formulaVariableResolution:t}=e,{executingUserPointer:o,executingUserTimeZone:i,thisPageBlockModel:a}=t??{},u=a?s().M4.evaluate(a.pointer):void 0,l=null==a?void 0:a.getCreatedByPointer(),c=l?s().YW.evaluate(l):void 0,p=o?s().Fz.evaluate(o):void 0,d=(0,r().P)(),m=s().vm.evaluate(i??d),g=s().Eo.evaluate(i??d);return{value:{values:(0,n().oE)([u,c,p,m,g])}}},isAvailableForContext:e=>!0};o(362833);const l={button:u,event:{type:"event",getCreatePermissions(e){const{parentPointer:t,spacePointer:o}=e;return[{minimumRole:"editor",pointer:t,type:"record_permission"},{minimumRole:"read_and_write",pointer:o,type:"record_permission"}]},getEditPermissions(e){const{automationModel:t}=e,n=[{minimumRole:"editor",pointer:t.getParentPointer(),type:"record_permission"},{minimumRole:"read_and_write",pointer:t.getSpacePointer(),type:"record_permission"}],r=t.getTrigger();if("event"===r.type){const e=r.event;(0,i().O9)(e.source)&&"filter"!==e.source.type&&(e.source.type===a().Vl||e.source.type===o(289765).Gy?n.push({minimumRole:"reader",pointer:e.source.pointer,type:"record_permission"}):(0,i().HB)(e.source))}return n},getManagePermissions(e){const{automationModel:t}=e;return[{minimumRole:"editor",pointer:t.getParentPointer(),type:"record_permission"},{minimumRole:"read_and_write",pointer:t.getSpacePointer(),type:"record_permission"}]},getExecutePermissions(e){const{automationModel:t}=e;return[{minimumRole:"reader",pointer:t.getParentPointer(),type:"record_permission"}]},typecheck(e){const{automationModel:t,intl:o}=e,i=s().mO.compile(o),r=s().iY.compile(o),u=s().vm.compile(o),l=s().Eo.compile(o),c=t.getParentPointer();let p;return c.table===a().Vl&&(p=s().qE.compile(o,c)),{value:{valueTypes:(0,n().oE)([i,r,u,l,p])}}},execute(e){const{formulaVariableResolution:t}=e,{executingUserPointer:o,executingUserTimeZone:a,thisPageBlockModel:u}=t??{},l=u?s().qE.evaluate(u.pointer):void 0,c=o?s().mO.evaluate(o):void 0,p=(0,r().P)(),d=s().vm.evaluate(a??p),m=null==u?void 0:u.getCreatedByPointer(),g=(0,i().O9)(m)?s().iY.evaluate(m):void 0,y=s().Eo.evaluate(a??p);return{value:{values:(0,n().oE)([l,c,d,y,g])}}},isAvailableForContext:e=>e.hasAccessToSlackAction},recurrence:{type:"recurrence",getCreatePermissions(e){const{parentPointer:t}=e;return[{minimumRole:"read_and_write",pointer:t,type:"record_permission"}]},getEditPermissions(e){const{automationModel:t}=e;return[{minimumRole:"read_and_write",pointer:t.getParentPointer(),type:"record_permission"}]},getManagePermissions(e){const{automationModel:t}=e;return[{minimumRole:"read_and_write",pointer:t.getParentPointer(),type:"record_permission"}]},getExecutePermissions(e){const{automationModel:t}=e;return[{minimumRole:"reader",pointer:t.getParentPointer(),type:"record_permission"}]},typecheck(e){const{intl:t}=e;return{value:{valueTypes:[s().vm.compile(t),s().Eo.compile(t)]}}},execute(e){const{formulaVariableResolution:t}=e,{executingUserTimeZone:o}=t??{},n=(0,r().P)();return{value:{values:[s().vm.evaluate(o??n),s().Eo.evaluate(o??n)]}}},isAvailableForContext(e){const{automation:t,automationActions:n,hasPremiumAutomations:r}=e;if(t.parent_table===o(145017).ev)return!0;if(t.parent_table===a().Vl){const e=o(220574).RecordMap.create();for(const t of n)e.addModel(t);return!!t.isCompleteSprintAutomation({getRecordModel:o(769884).b4_.fromRecordMap(e)})||r}(0,i().HB)(t.parent_table)}}};function c(e){return l[e]}},448865:(e,t,o)=>{o.d(t,{AL:()=>r,Q6:()=>s,vt:()=>a});o(725707),o(500234);var n=()=>o(65866),i=()=>o(964456);const r={autoCompleteSprints:!1,actionConfig:{complete_sprint_action:"complete_sprint_and_move_incomplete_tasks_to_next_sprint"},recurrenceConfig:{interval:2,weekdays:["MO"]}};function a(e){const{eventTracker:t,properties:o}=e;t.DO_NOT_USE_commonTrackEvent({eventName:"complete_sprint_action",properties:o})}function s(e,t){var o;return null===(o=t.groups)||void 0===o||null===(o=o.find((t=>t.id===n().nl||(null==t?void 0:t.name)===i().P0||(null==t?void 0:t.name)===e.formatMessage(i().oz.statusGroupNameComplete))))||void 0===o?void 0:o.name}},494082:(e,t,o)=>{o.d(t,{Z:()=>i});o(242343);const n={viewBox:"0 0 20 20",svg:(0,o(163643).jsx)("path",{d:"M7.154 3.625h1.23a.625.625 0 1 0 0-1.25h-1.23A2.625 2.625 0 0 0 4.529 5v2.069c0 .9-.508 1.722-1.313 2.124l-.317.159a.725.725 0 0 0 0 1.297l.317.158a2.38 2.38 0 0 1 1.313 2.124V15a2.625 2.625 0 0 0 2.625 2.625h1.23a.625.625 0 1 0 0-1.25h-1.23c-.76 0-1.375-.616-1.375-1.375v-2.069c0-1.17-.564-2.256-1.492-2.931a3.63 3.63 0 0 0 1.492-2.931V5c0-.76.615-1.375 1.375-1.375m5.692 12.75h-1.23a.625.625 0 1 0 0 1.25h1.23A2.625 2.625 0 0 0 15.471 15v-2.069c0-.9.508-1.722 1.313-2.124l.317-.159a.725.725 0 0 0 0-1.296l-.317-.159a2.38 2.38 0 0 1-1.313-2.124V5a2.625 2.625 0 0 0-2.625-2.625h-1.23a.625.625 0 1 0 0 1.25h1.23c.76 0 1.375.616 1.375 1.375v2.069c0 1.17.564 2.256 1.492 2.931a3.63 3.63 0 0 0-1.492 2.931V15c0 .76-.615 1.375-1.375 1.375"})},i=(0,o(680369).wt)("curlyBraces",n)},644518:(e,t,o)=>{o.r(t),o.d(t,{getAllContextValues:()=>f,getContextValueForActionById:()=>_,getContextValuesForAction:()=>h,typecheckAutomation:()=>y,typecheckAutomationAsync:()=>v});o(362833),o(725707),o(403517),o(113085);var n=()=>o(975392),i=()=>o(204132),r=()=>o(76394),a=()=>o(77408),s=()=>o(465546),u=()=>o(268163),l=()=>o(818713),c=()=>o(232312),p=()=>o(508265),d=()=>o(150992),m=()=>o(355149);function*g(e){const{actionModels:t,automationModel:o,contextType:g,formulasModule:y,runtimeStats:v}=e,f={valueTypes:e.valueTypes,actionInputValueTypes:{},actionValidationFailures:{}},h=performance.now();let _,T,b;if("button_block"===g||"button_property"===g){if(!o.isButtonType())return{error:new(c().N9)(`Automation trigger (${o.getTriggerType()}) does not match context type (${g}).`)};const t=o.getTrigger();b=(0,m().Z)(o.getTriggerType()).typecheck(e,t)}else if("event"===g){if(!o.isEventType())return{error:new(c().N9)(`Automation trigger (${o.getTriggerType()}) does not match context type (${g}).`)};const t=o.getTrigger();b=(0,m().Z)(o.getTriggerType()).typecheck(e,t)}else if("recurrence"===g){if(!o.isRecurrenceType())return{error:new(c().N9)(`Automation trigger (${o.getTriggerType()}) does not match context type (${g}).`)};const t=o.getTrigger();b=(0,m().Z)(o.getTriggerType()).typecheck(e,t)}else(0,r().HB)(e);if(i().Q.isFail(b))return b;f.valueTypes.push(...n().o8(b.value.valueTypes));for(const r of t){_=void 0,v&&(_=d().hs.getOrCreateAction(v,r.pointer,r.getType()));const t=(0,u().getActionRegistryItem)(r.getType());if(!t){T={error:new(c().oM)({actionId:r.id,message:`Unsupported action type: ${r.getType()}`})};break}const m=performance.now(),g=(0,l().Q)({automationModel:o,formulasModule:y,formulaValueTypes:f.valueTypes}),h=(0,p().HI)(yield*t.resolveExecutionDependencies(g,r));yield*a().q.fetchRecords(h.map((e=>e.pointer))),_&&(_.totalDependencies=h.length,_.getDependenciesDurationMs=Math.trunc(performance.now()-m));const b=t.typecheck(e,r),x=n().o8(f.valueTypes);if(f.actionInputValueTypes[r.id]=x,i().Q.isFail(b)){T=b;break}for(const e of b.value.valueTypes??[]){f.valueTypes.some((t=>(0,s().oH)(e,t)))||f.valueTypes.push(e)}b.value.validationFailures&&b.value.validationFailures.length>0&&(f.actionValidationFailures[r.id]=b.value.validationFailures)}const x=Math.trunc(performance.now()-h);return v&&(v.typecheckStartTime=h,v.typecheckDurationMs=x,v.typecheckSuccess=!(0,r().O9)(T)),T??{value:f}}function y(e){return a().q.runSync(e.getRecordModel,g(e))}async function v(e){return await a().q.runAsync(e.loadRecordModel,g(e))}function f(e){return i().Q.isFail(e)?[]:e.value.valueTypes.slice(0)}function h(e,t){return i().Q.isFail(e)?[]:e.value.actionInputValueTypes[t]??[]}function _(e,t,o){const n=h(e,t);return(0,s().IV)(n,o)}},686752:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>n,pencilLineIcon:()=>i});o(242343);const n={viewBox:"0 0 20 20",svg:(0,o(163643).jsx)("path",{d:"m13.987 5.682-.684.684-1.288-1.288.692-.691a.91.91 0 0 1 1.28 0c.35.35.35.93 0 1.28zm-9.433 9.433 7.914-7.914-1.289-1.289-7.92 7.908c-.122.122-.214.29-.274.457l-.336 1.082c-.06.229.153.442.366.366l1.082-.335q.252-.07.457-.275m12.446.76H5.61l1.25-1.25H17a.625.625 0 1 1 0 1.25"})},i=(0,o(680369).wt)("pencilLine",n)},842940:(e,t,o)=>{o.d(t,{J:()=>i});o(242343);const n={viewBox:"0 0 20 20",svg:(0,o(163643).jsx)("path",{d:"M8.875 2.625a6.25 6.25 0 1 0 3.955 11.09l3.983 3.982a.625.625 0 1 0 .884-.884l-3.983-3.982a6.25 6.25 0 0 0-4.84-10.205m-5 6.25a5 5 0 1 1 10 0 5 5 0 0 1-10 0"})},i=(0,o(680369).wt)("magnifyingGlass",n)},870122:(e,t,o)=>{o.r(t),o.d(t,{globeIcon:()=>i,iconDefinition:()=>n});o(242343);const n={viewBox:"0 0 20 20",svg:(0,o(163643).jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 15.25 0 7.625 7.625 0 0 1-15.25 0m3.123-4.514c.55.252 1.21.463 1.953.612q.135-.585.308-1.086a6.6 6.6 0 0 1 .512-1.15 6.4 6.4 0 0 0-2.773 1.624m-.814.994a6.34 6.34 0 0 0-1.029 2.895h3.396c.022-.715.081-1.403.173-2.048-.962-.191-1.827-.48-2.54-.847m-1.029 4.145a6.34 6.34 0 0 0 1.03 2.895c.712-.367 1.577-.656 2.54-.848a19 19 0 0 1-.174-2.047zm4.647 0c.021.657.076 1.283.158 1.862a15 15 0 0 1 3.08 0c.082-.58.137-1.205.158-1.862zm4.647 0a19 19 0 0 1-.173 2.048c.845.169 1.615.412 2.274.717a.6.6 0 0 1 .23.182 6.34 6.34 0 0 0 1.065-2.947zm3.396-1.25a6.34 6.34 0 0 0-1.03-2.895c-.712.367-1.577.656-2.54.847.093.645.152 1.333.174 2.048zm-4.647 0a17 17 0 0 0-.158-1.862 15 15 0 0 1-3.08 0c-.082.58-.137 1.205-.158 1.862zm-6.2 5.139a6.4 6.4 0 0 0 2.773 1.624 6.6 6.6 0 0 1-.512-1.15 11 11 0 0 1-.308-1.086 9 9 0 0 0-1.953.612m9.004 0a9 9 0 0 0-1.953-.611q-.135.584-.308 1.085a6.6 6.6 0 0 1-.512 1.15 6.4 6.4 0 0 0 2.773-1.624m-3.443.067q.136-.395.249-.86a13.7 13.7 0 0 0-2.615-.001q.111.466.248.861c.198.575.42.995.635 1.259.22.269.366.302.424.302s.205-.033.424-.302c.215-.264.437-.684.635-1.259m3.443-9.095a6.4 6.4 0 0 0-2.773-1.624c.196.337.366.726.512 1.15q.173.501.308 1.086a9 9 0 0 0 1.953-.612M10 6.342q.676-.001 1.308-.062a9 9 0 0 0-.249-.861c-.198-.575-.42-.995-.635-1.259-.22-.269-.366-.302-.424-.302s-.204.033-.424.302c-.215.264-.437.684-.635 1.259q-.136.395-.248.861.631.061 1.307.062"})},i=(0,o(680369).wt)("globe",n)},876988:(e,t,o)=>{o.d(t,{y:()=>r});o(725707),o(500234);var n=()=>o(76394),i=()=>o(465546);function r(e){var t;const{actionModels:o,id:r}=e,a=(0,i().y5)(r),s="action"===a.source?o.find((e=>e.id===a.action_id)):void 0,u=(0,n().O9)(s)&&s.isType("create_page")?null===(t=s.getConfig())||void 0===t?void 0:t.collection:void 0;return{automationValueInfo:a,collectionPointer:u,actionModel:s}}},906384:(e,t,o)=>{o.d(t,{Me:()=>s,Vv:()=>i,Z3:()=>r,wI:()=>a});var n=()=>o(486826);function i(e){if("week"===e.frequency&&e.weekdays&&1===e.weekdays.length)return{weekday:e.weekdays[0],duration:e.interval}}function r(e){const{currentSprintEndDate:t,sprintSchedule:o}=e;return u({startDate:c({dateToAdjust:n().c9.fromISO(t),weekday:o.weekday,wrapForEqualDays:!0}),duration:o.duration})}function a(e){const{userTimeZone:t,sprintSchedule:o}=e;return u({startDate:n().c9.local({zone:t}),duration:o.duration})}function s(e){const{currentSprintStartDate:t,sprintSchedule:o}=e,i=c({dateToAdjust:n().c9.fromISO(t),weekday:o.weekday,wrapForEqualDays:!1}),{end_date:r}=u({startDate:i,duration:o.duration});let a=n().c9.fromISO(r);const s=n().c9.now().startOf("day");for(;a.diff(s,"days").days<0;)a=a.plus({weeks:1});return{type:"daterange",start_date:a.plus({days:1}).minus({weeks:o.duration}).toISODate(),end_date:a.toISODate()}}function u(e){const{startDate:t,duration:o}=e,n=t.plus({weeks:o}).minus({days:1});return{type:"daterange",start_date:t.toISODate(),end_date:n.toISODate()}}const l={SU:0,MO:1,TU:2,WE:3,TH:4,FR:5,SA:6};function c(e){const{dateToAdjust:t,weekday:o,wrapForEqualDays:n}=e,i=p({currentWeekday:t.weekday%7,nextWeekday:l[o],wrapForEqualDays:n});return t.plus({days:i})}function p(e){const{currentWeekday:t,nextWeekday:o,wrapForEqualDays:n}=e,i="number"==typeof t?t:l[t],r="number"==typeof o?o:l[o];if(i===r)return n?7:0;let a=i,s=0;for(;a!==r;)a===l.SA?a=0:a+=1,s+=1;return s}},911575:(e,t,o)=>{o.d(t,{$0:()=>v,Fx:()=>M,Ge:()=>m,I3:()=>p,Kj:()=>b,PP:()=>w,TK:()=>P,Yy:()=>c,aE:()=>C,cQ:()=>x,kH:()=>g,m7:()=>d,nq:()=>_,nv:()=>f,tj:()=>y});o(725707),o(491955),o(113085);var n=()=>o(975392),i=()=>o(76394),r=()=>o(564134),a=()=>o(810111),s=()=>o(479056),u=()=>o(875089);(0,i().u0)((e=>(0,i().O9)(e)&&(0,i().O9)(e.target)&&(0,i().O9)(e.external_bot_id)?{true:{external_bot_id:e.external_bot_id,target:e.target,custom_message:e.custom_message}}:{false:e}));const l={checkbox:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,auto_increment_id:!1,button:!1,created_by:!1,created_time:!1,file:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1,geo_point:!1},c={checkbox:[{type:"checkbox"}],date:[{type:"date"}],email:[{type:"text"}],multi_select:[{type:"text"},{of:{type:"text"},type:"array"}],number:[{type:"number"}],person:[{type:"person"},{of:{type:"person"},type:"array"}],phone_number:[{type:"text"}],relation:[{type:"block"},{of:{type:"block"},type:"array"}],select:[{type:"text"},{of:{type:"text"},type:"array"}],status:[{type:"text"},{of:{type:"text"},type:"array"}],text:void 0,title:void 0,url:[{type:"text"}]};function p(e){return Boolean(l[e.type]&&!(0,r().UU)(e)&&(!(0,r().$M)(e)||void 0===(0,r().om)(e)))}function d(e){const{collectionFormat:t,collectionSchema:o,filter:s,sort:l,sourcePropertyIds:c}=e,d=(c??(0,i().uv)(o)).filter(((t,n,i)=>{const a=o[t];return!(!a||!p(a))&&(("relation"!==a.type||!e.restrictCrossSpace||!(0,r().o2)(e.spaceId,a))&&(!s||s([t,a],n,o)))}));if(0===d.length)return[];if(!t||!1===l)return d;const m=(0,u().L)(t,o,void 0,a().jf.Page).collection_page_properties||[];return n().Ul(d,(e=>m.findIndex((t=>t.property===e))))}function m(e){const{collectionFormat:t,collectionSchema:o,sort:s}=e,l=(0,i().uv)(o).filter(((e,t,n)=>{const i=o[e];return!(!i||!(0,r().JY)(i))}));if(0===l.length)return[];if(!t||!1===s)return l;const c=(0,u().L)(t,o,void 0,a().jf.Page).collection_page_properties||[];return n().Ul(l,(e=>c.findIndex((t=>t.property===e))))}function g(e){return e.type===s().M9.InvalidCharacter?{type:e.type,character:e.character}:e.type===s().M9.TokenExpected?{type:e.type,token:e.token}:e.type===s().uW.MissingSchemaPropertyOnThisRow||e.type===s().uW.MissingSchemaPropertyOnCollection?{type:e.type,collectionId:e.collectionId,property:e.property}:e.type===s().uW.ThisRowBlockPropertyMismatchCollection?{type:e.type,thisRowCollection:e.thisRowCollection}:e.type===s().uW.MissingContextVariable?{type:e.type,valueId:e.valueId}:e.type===s().uW.FunctionCallTooFewArguments?{type:e.type,numArguments:e.numArguments}:e.type===s().uW.FunctionCallUnexpectedArgument?{type:e.type,parameterIndex:e.parameterIndex}:e.type===s().uW.FunctionCallArgumentWrongType?{type:e.type,argumentType:e.argumentType,libraryFunctionName:e.libraryFunction.name,parameterIndex:e.parameterIndex}:e.type===s().uW.MissingDataDependencyBlock?{type:e.type,blockPointer:e.blockPointer,node:e.node}:e.type===s().uW.MissingDataDependencyPerson?{type:e.type,personPointer:e.personPointer}:e.type===s().uW.MemberPropertyMismatchCollection?{type:e.type,blockCollection:e.blockCollection}:e.type===s().uW.DownstreamParseFailure?{type:e.type,collectionId:e.collectionId,property:e.property}:e.type===s().uW.ContextVariableWrongType?{type:e.type,valueId:e.valueId,expectedType:e.expectedType,resultType:e.resultType}:e.type===s().uW.DisallowedValueType?{type:e.type,expressionValue:e.expressionValue,allowedValueTypes:e.allowedValueTypes}:e.type===s().uW.LibraryFunctionExecutionError?{type:e.type,error:e.error,libraryFunctionName:e.libraryFunction.name}:{type:e.type}}const y={checkbox:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,button:!1,file:!1,verification:!1,auto_increment_id:!1,created_by:!1,created_time:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,geo_point:!1};function v(e){return Boolean(y[e.type])}function f(e){const{collectionFormat:t,collectionSchema:o,filter:s,sort:l}=e,c=(0,i().uv)(o).filter(((e,t,n)=>{var i;const a=o[e];return!(!a||!y[a.type])&&((!(0,r().$M)(a)||null===(i=(0,r().om)(a))||void 0===i||!i.auto_update_on_edit)&&(!s||s([e,a],t,o)))}));if(0===c.length)return[];if(!t||!1===l)return c;const p=(0,u().L)(t,o,void 0,a().jf.Page).collection_page_properties||[];return n().Ul(c,(e=>p.findIndex((t=>t.property===e))))}const h={checkbox:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,auto_increment_id:!1,button:!1,created_by:!1,created_time:!1,date:!1,file:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1,geo_point:!1};function _(e){return h[e.type]}const T={checkbox:!0,created_by:!0,created_time:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,last_edited_by:!0,last_edited_time:!0,auto_increment_id:!1,button:!1,file:!1,formula:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1,geo_point:!1};function b(e){return T[e.type]}function x(e){return 0===e}function M(e){return function(e){return"button_block"===e||"button_property"===e}(e)}function w(e){const{property:t,collectionSchema:o}=e;return!!o&&!o[t]}function P(e){const{collectionSchema:t,property:o,type:n}=e,i=null==t?void 0:t[o];return!i||("action"===n?!p(i):!y[i.type])}function C(e){let{automationTrigger:t,collectionSchema:o}=e;if("event"===(null==t?void 0:t.type)){const{pagesAdded:e,pagePropertiesEdited:n,source:r,relativeDate:a}=t.event;if(void 0===r)return!1;const s="some"===n.type&&n.some,u="all"===n.type&&n.all;if((s||u||[]).some((e=>w({collectionSchema:o,property:e.property})||P({collectionSchema:o,property:e.property,type:"trigger"}))))return!1;const l="some"===n.type&&(!(0,i().O9)(n.some)||0===n.some.length),c="all"===n.type&&(!(0,i().O9)(n.all)||0===n.all.length);if(!e&&("none"===n.type||l||c)&&!a)return!1}else{if("recurrence"!==(null==t?void 0:t.type))return!1;if(!t.recurrence)return!1}return!0}}}]);