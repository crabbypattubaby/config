"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[92011],{3364:(e,t,o)=>{o.d(t,{Ay:()=>A,iZ:()=>w,vE:()=>k});var n=o(242343),i=()=>o(862510),r=()=>o(174114),a=()=>o(887508),l=()=>o(81322),s=()=>o(653998),d=()=>o(31448),c=()=>o(521325),p=()=>o(126451),u=()=>o(356813),g=()=>o(935091),h=()=>o(743668),m=()=>o(701270),y=()=>o(502852),f=()=>o(640979),v=()=>o(495312),S=()=>o(639659),b=o(163643);const x=(0,s().YK)({back:{defaultMessage:"Back",id:"collectionsSettingsMenu.back"}}),k=290,w=400;function C(e){let{children:t,title:o,desktopTitleType:n,settingsStackLength:i,handleClose:c,handleBackArrowClick:g,hideDesktopHeader:h,hasBackStack:y}=e;const f=(0,S().a)(),v=(0,s().tz)(),k=(0,r().IS)((e=>({hiddenDesktopHeaderDiv:{height:0},nonHiddenDesktopHeaderDiv:{display:"flex",alignItems:f?"top":"center",padding:f?"0px 14px 6px 14px":"14px 16px 6px 16px",height:f?void 0:42},arrowButton:{marginRight:8,marginLeft:-2,height:22},arrowIcon:{width:16,height:16},title:{flexGrow:1,fontWeight:f?d().Wy.medium:d().Wy.semibold,fontSize:f?16:14,lineHeight:f?"24px":void 0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},closeButton:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",background:e.buttonHoveredBackground,width:18,height:18,flexShrink:0},closeButtonHover:{background:e.buttonPressedBackground},closeIcon:{width:14,fill:e.text.secondary}})),[f]),w=!f;return(0,b.jsxs)(b.Fragment,{children:[h?(0,b.jsx)("div",{style:k.hiddenDesktopHeaderDiv}):(0,b.jsxs)("div",{style:k.nonHiddenDesktopHeaderDiv,children:[(i>1||y)&&(0,b.jsx)(u().A,{icon:a().v,style:k.arrowButton,iconStyle:k.arrowIcon,onClick:g,ariaLabel:v.formatMessage(x.back)}),"sectionHeader"===n?(0,b.jsx)(m().D,{styleName:"UISmall-12px/Medium",colorName:"secondary",customStyles:{flexGrow:1},children:o}):(0,b.jsx)("span",{style:k.title,children:o}),w&&(0,b.jsx)(p().A,{onClick:c,style:k.closeButton,hoveredStyle:k.closeButtonHover,children:(0,l().V)(k.closeIcon)})]}),t]})}function P(e,t){let{children:r,footer:a,header:l,unconstrainedWidth:s,desktopWidth:d,title:p,desktopTitleType:u,collectionSettingsStore:m,fullHeight:x,hideDesktopHeader:w,menuScrollerStyle:P,innerContentWrapperStyle:A,disableScroller:I,handleBackArrowClick:M,hasBackStack:T,handleClose:j}=e;const B=(0,o(237385).Y0)(),H=(0,o(749975).Ks)(),_=(0,f().Tf)(),D=(0,S().a)(),{currentTab:L,settingsStackLength:V,hideHeader:N}=(0,o(803290).K8)((()=>{const e=m.state;return{currentTab:(0,o(155352).S)(m),settingsStackLength:e.stack.length,hideHeader:e.hideSettingsHeader}}),[m]),O=(0,n.useCallback)((()=>{var e;M?M():c().yl({collectionSettingsStore:m,keepPreviousRef:"form_editor"===(null==H||null===(e=H.collectionViewStore())||void 0===e?void 0:e.getType())})}),[M,m,H]),R=(0,n.useCallback)((e=>{j?j(e):(0,y().SQ)({event:e,context:y().y$.CollectionSettingsClick,callback:()=>{c().os({collectionSettingsStore:m})}})}),[j,m]),W=(0,n.useCallback)((e=>{(0,v().rW)(e.target)||(0,v().iX)(e.target)||(0,v().u2)(e.target)||o(521972).g.state.isOpen||R(e)}),[R]);if(!L)return null;let E;if(B.isMobile)E={disableScroller:I,menuType:f().gu.Modal,title:p,left:V>1?(0,b.jsx)(h().MobileModalBackButton,{}):void 0,onClickLeft:V>1?O:void 0,scrollerStyle:P,innerRef:t,right:_?void 0:(0,b.jsx)(h().DoneMenuText,{}),onClickRight:_?void 0:R};else{const e=s||d?void 0:D?280:k;E={disableScroller:I,menuType:f().gu.Popup,minWidth:D?280:k,width:d,maxHeight:x?"100%":"80vh",...e&&{maxWidth:e},onClickOutside:W,scrollerStyle:{flexGrow:0,...P},header:!N&&(0,b.jsx)(C,{settingsStackLength:V,handleClose:R,handleBackArrowClick:O,hasBackStack:T,hideDesktopHeader:w,title:p,desktopTitleType:u,children:l}),paddingTop:N?6:0,footer:a,innerRef:t}}const F=(0,b.jsxs)(b.Fragment,{children:[B.isMobile&&l,r,B.isMobile&&a]});return x?(0,b.jsx)(i().Y,{direction:"vertical",children:(0,b.jsx)(g().A,{...E,children:F})}):(0,b.jsx)(o(435819).A,{capture:!0,allowMobileAutoScroll:!0,allowEsc:!0,render:e=>(0,b.jsx)(i().Y,{direction:"vertical",children:(0,b.jsx)(g().A,{...E,...e,children:(0,b.jsx)("div",{style:A,children:F})})})})}const A=(0,n.forwardRef)(P)},6327:(e,t,o)=>{o.d(t,{g:()=>s});var n=o(242343),i=()=>o(174114),r=()=>o(670481),a=()=>o(951920),l=o(163643);function s(e){let{setIsHovered:t}=e;const[o,s]=(0,a().B)();(0,n.useEffect)((()=>{t(s)}),[s,t]);const d=(0,i().IS)((e=>({container:{display:"inline-flex",alignItems:"center"},icon:{width:14,fill:s?e.mediumIconColor:e.lightIconColor,marginLeft:5,marginTop:1}})),[s]);return(0,l.jsx)("div",{ref:o,style:d.container,children:(0,r().G)(d.icon)})}},8677:(e,t,o)=>{o.d(t,{a:()=>i});o(242343);const n={viewBox:"0 0 16 16",svg:(0,o(163643).jsx)("path",{d:"M8 1.675a3.7 3.7 0 0 0-1.825 6.92v4.092c0 .094.04.183.111.245l1.5 1.313a.325.325 0 0 0 .428 0l1.5-1.313a.325.325 0 0 0 .033-.456l-.944-1.101.944-1.1a.33.33 0 0 0 .078-.213V8.595A3.7 3.7 0 0 0 8 1.674M8 3.75A.875.875 0 1 1 8 5.5a.875.875 0 0 1 0-1.75"})},i=(0,o(680369).wt)("keyFillSmall",n)},9349:(e,t,o)=>{o.d(t,{m:()=>i});o(242343);const n={viewBox:"0 0 20 20",svg:(0,o(163643).jsx)("path",{d:"M4.485 8.86V5.369l4.073 4.073a.625.625 0 0 0 .884-.884L5.369 4.485H8.86a.625.625 0 0 0 0-1.25h-5a.625.625 0 0 0-.625.625v5a.625.625 0 1 0 1.25 0m10.146 6.655-4.07-4.07a.625.625 0 1 1 .884-.884l4.07 4.07V11.14a.625.625 0 1 1 1.25 0v5c0 .345-.28.625-.625.625h-5a.625.625 0 1 1 0-1.25z"})},i=(0,o(680369).wt)("arrowExpandDiagonal",n)},105886:(e,t,o)=>{o.d(t,{A:()=>s,q:()=>l});var n=o(242343),i=()=>o(653998),r=()=>o(514799),a=o(163643);const l=300,s=(0,n.forwardRef)((function(e,t){const s=(0,i().tz)(),d=(0,o(486905).Jj)(),c=(0,o(174114).IS)((t=>({buttonStyle:{display:"flex",alignItems:"center",justifyContent:"center",cursor:e.disableDrag?"pointer":"grab",width:e.width??r().Z,height:e.height??r().S,borderRadius:4,fill:d?t.icon.secondary:t.lightIconColor,...e.style},text:{color:t.text.contrastSecondary}})),[e.disableDrag,e.width,e.height,e.style,d]);const{onClick:p}=e,u=(0,n.useCallback)((e=>{p&&(e.preventDefault(),p(e))}),[p]),g=(0,n.useCallback)((n=>(0,a.jsx)(o(126451).A,{ref:t,ariaLabel:s.formatMessage({id:"dragHandleButton.ariaLabel",defaultMessage:"Drag"}),role:e.role,style:c.buttonStyle,onClick:e.onClick,onContextMenu:u,disallowTabbing:e.disallowTabbing,...n,children:(0,o(916809).i)({width:14,height:14,...e.iconStyle})})),[u,s,e.disallowTabbing,e.iconStyle,e.onClick,e.role,t,c.buttonStyle]);return e.disableTooltip?g({}):(0,a.jsx)(o(103151).A,{placement:e.tooltipPlacement??o(907721).W.Bottom,delayThreshold:l,renderTooltip:function(){return(0,a.jsxs)("div",{style:{textAlign:"center"},children:[!e.disableDrag&&(0,a.jsx)(i().sA,{defaultMessage:"Drag <medium>to move</medium>",id:"dragHandleButton.dragPrompt.text",values:{medium:e=>(0,a.jsx)("span",{style:c.text,children:e})}}),!e.hideClickMessage&&(0,a.jsx)("div",{children:(0,a.jsx)(i().sA,{defaultMessage:"Click <medium>to open menu</medium>",id:"dragHandleButton.clickPrompt.text",values:{medium:e=>(0,a.jsx)("span",{style:c.text,children:e})}})})]})},render:g})}))},204427:(e,t,o)=>{o.d(t,{s:()=>l});o(242343);var n=()=>o(8677),i=()=>o(246669),r=()=>o(695951),a=o(163643);function l(e){let{collectionStore:t,propertyId:o,propertySchema:l}=e;return(0,i().i)({collectionStore:t,propertyId:o,propertySchema:l})?(0,a.jsx)(r().A,{color:"yellow",style:{borderRadius:4,height:16,width:16,display:"flex",alignItems:"center",justifyContent:"center"},content:(0,a.jsx)(a.Fragment,{children:(0,n().a)({width:14,height:14})})}):null}},230849:(e,t,o)=>{o.d(t,{b:()=>r,g:()=>a});var n=()=>o(797470),i=()=>o(589004);const r=i().YG;function a(e){let{environment:t,layoutArea:o,moduleType:a,pageViewBlockContext:l}=e;return("page_main"===o||"views_main_tab_modules"===o)&&"properties"===a||"properties"===a&&"page_details"===o&&(0,i().Wi)({environment:t,isInPeek:l===n().Rr.PeekView})>=r}},242103:(e,t,o)=>{o.d(t,{S:()=>i});o(242343);var n=o(163643);const i=(0,o(680369).wt)("locked",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M4.79395 14.7227H11.1992C12.252 14.7227 12.7783 14.1963 12.7783 13.0479V8.20801C12.7783 7.19629 12.3682 6.66992 11.541 6.56055V4.96094C11.541 2.36328 9.81152 1.1123 7.99316 1.1123C6.18164 1.1123 4.45215 2.36328 4.45215 4.96094V6.56055C3.625 6.66992 3.21484 7.19629 3.21484 8.20801V13.0479C3.21484 14.1963 3.73438 14.7227 4.79395 14.7227ZM5.75098 4.83105C5.75098 3.22461 6.76953 2.35645 7.99316 2.35645C9.2168 2.35645 10.2422 3.22461 10.2422 4.83105V6.54004H5.75098V4.83105ZM4.99219 13.5059C4.69141 13.5059 4.54102 13.3623 4.54102 13V8.25586C4.54102 7.89355 4.69141 7.76367 4.99219 7.76367H11.0078C11.3086 7.76367 11.4521 7.89355 11.4521 8.25586V13C11.4521 13.3623 11.3086 13.5059 11.0078 13.5059H4.99219Z"})})},246669:(e,t,o)=>{o.d(t,{i:()=>r});o(725707),o(500234);var n=()=>o(803290),i=()=>o(446588);function r(e){let{collectionStore:t,propertyId:o,propertySchema:r}=e;const a=(0,n().K8)((()=>{if("person"!==r.type)return;return t.getPropertyPermissionItems({filterOutInvalidItems:!0}).find((e=>"person"===e.property_info.type&&e.property_info.property_id===o))}),[t,o,r.type]);return a&&(0,i().tb)(a)?a:void 0}},260682:(e,t,o)=>{o.d(t,{D:()=>p});var n=o(242343),i=()=>o(237385),r=()=>o(803290),a=()=>o(564134),l=()=>o(946670),s=()=>o(409211),d=()=>o(485966),c=()=>o(836331);function p(e){const t=function(){const e=(0,i().v3)();return(0,r().K8)((()=>{var t;return(0,l().Sf)({experimentService:c().default,actor:{table:s().oo,id:e.currentUser.id??""},spaceId:(null===(t=d().default.state.currentSpaceStore)||void 0===t?void 0:t.id)??""})}),[e.currentUser])}();return(0,n.useMemo)((()=>{var o;if(!t)return!1;if(!e)return!1;if(!a().nC(e))return!1;return Boolean(null===(o=e.permissions_data)||void 0===o?void 0:o.shared_by_enabled)}),[e,t])}},261603:(e,t,o)=>{o.d(t,{nR:()=>c,m$:()=>l,m4:()=>s,Dy:()=>d,it:()=>p,FZ:()=>g});o(242343);var n=()=>o(129978),i=o(163643);function r(e){const{shouldShowSpinner:t,collectionSettingsProps:n}=e;return(0,i.jsx)(o(3364).Ay,{collectionSettingsStore:n.collectionSettingsStore,fullHeight:n.fullHeight,hideDesktopHeader:n.hideDesktopHeader,children:t&&(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center",overflow:"hidden",paddingBottom:20},children:(0,i.jsx)(o(966789).A,{})})})}const a=new(n().O2)("collectionSettings",(()=>Promise.all([o.e(96159),o.e(75134),o.e(43380),o.e(96346),o.e(36192),o.e(55373),o.e(62475),o.e(3151),o.e(44711),o.e(98629),o.e(53321),o.e(58550),o.e(90825),o.e(22900),o.e(36209),o.e(92845),o.e(71718),o.e(48486),o.e(83324),o.e(63077),o.e(41870),o.e(90966),o.e(88552),o.e(90214),o.e(74562),o.e(8184),o.e(28271),o.e(17254),o.e(18895),o.e(78708),o.e(28721),o.e(4422),o.e(28866),o.e(67435),o.e(17989),o.e(76181),o.e(59794),o.e(72832),o.e(90280),o.e(26483),o.e(33813),o.e(2804),o.e(84778),o.e(69914),o.e(26090),o.e(12341),o.e(47864),o.e(90978),o.e(87598),o.e(84341),o.e(6463),o.e(25368),o.e(80759),o.e(68455),o.e(28773),o.e(72883),o.e(1440),o.e(45986),o.e(91137),o.e(92924),o.e(19167),o.e(55717),o.e(10152),o.e(73738),o.e(70584),o.e(97074),o.e(99108)]).then(o.bind(o,282826)))),l=(0,n()._h)(a,(e=>e.CollectionSettings),{renderLoading:(e,t)=>(0,i.jsx)(r,{shouldShowSpinner:e,collectionSettingsProps:t})}),s=(0,n()._h)(a,(e=>e.CollectionSettingsButtonOptions)),d=(0,n()._h)(a,(e=>e.CollectionSettingsPropertyTypeMenuItem)),c=(0,n()._h)(a,(e=>e.CollectionEditButtonAutomationOption)),p=(0,n()._h)(a,(e=>e.CollectionSettingsSaveAsAppButton)),u=new(n().O2)("TableHeaderPropertyCreationMenu",(()=>Promise.all([o.e(96159),o.e(96346),o.e(36192),o.e(55373),o.e(36209),o.e(92845),o.e(71718),o.e(48486),o.e(83324),o.e(63077),o.e(41870),o.e(90966),o.e(88552),o.e(90214),o.e(74562),o.e(8184),o.e(28271),o.e(17254),o.e(89693),o.e(68455),o.e(43935)]).then(o.bind(o,784676)))),g=(0,n()._h)(u,(e=>e.TableHeaderPropertyCreationMenu))},361837:(e,t,o)=>{o.d(t,{B2:()=>T,F1:()=>C,Kc:()=>k,NN:()=>M,UY:()=>x,br:()=>I,lA:()=>P,lh:()=>w,pi:()=>v,w_:()=>b,zP:()=>S});o(725707),o(113085);var n=()=>o(712437),i=()=>o(594876),r=()=>o(564134),a=()=>o(716605),l=()=>o(9349),s=()=>o(32765),d=()=>o(663619),c=()=>o(361308),p=()=>o(34662),u=()=>o(975392),g=()=>o(76394),h=()=>o(809811),m=()=>o(141666),y=()=>o(29869),f=()=>o(477784);function v(e){return Boolean(e.state.isOpen&&e.state.collectionsBulkActionsToolbarStore)}function S(e){switch(e){case"table":return"table";case"board":return"board";case"list":return"list";case"gallery":return"gallery";case"relation":case"relation_section":return"relation_section";case"timeline":return"timeline";case"calendar":return"calendar";case"page":return"page_properties";case"compact_page":return"compact_page";case"mini":return"mini_peek";case"form_editor":case"form_viewer":case"property_module":return"property_module";default:(0,g().HB)(e)}}function b(e){return{backgroundImage:`linear-gradient(\n\t\tto right,\n\t\t${e.darkDividerColor} 0%,\n\t\t${e.darkDividerColor} 100%\n\t)`,backgroundRepeat:"repeat-x",backgroundPosition:"0 100%",backgroundSize:"100% 1px"}}function x(e){const{store:t,property:o,propertySchema:i}=e,r=null==i?void 0:i.type;if("title"===r)return(0,y().Ay)({store:t,fullyQualified:!1,pageVisitSource:n().y8.LinkInPage});{const e=t.getPropertyValue(o);return a().UY(r,e)}}function k(e){let t=(0,p().k4p)(e);if(!t||""===t.trim()||t.trim().includes(" "))return{domain:void 0,restOfUrl:void 0};t=t.trim();let o=h().qg(t),n=o.host;if(o.protocol&&n||(o=h().qg(`http://${t}`),n=o.host),!n)return{domain:void 0,restOfUrl:void 0};n&&(n=n.replace(/^www./i,""));const i=t.toLowerCase().indexOf(n.toLowerCase());if(-1===i)return{domain:void 0,restOfUrl:void 0};n=t.slice(i,i+n.length);return{domain:n,restOfUrl:t.slice(i+n.length)}}function w(e){const{numberValue:t,numberFormat:o,numberShowAs:n}=e;if(!(u().yr(t)||m().pN(t)||"bar"!==(null==n?void 0:n.type)&&"ring"!==(null==n?void 0:n.type))){const e=f().A.getIntl();return"percent"===o?c().ZV(t,"percent",e):`${t} / ${n.maxValue}`}}function C(e){const{property:t,collectionStore:o}=e,n=o.isSyncedCollection();return Boolean(n)&&(0,i().u)(t)}function P(e,t){switch(e){case"side_peek":return{icon:d().A,tooltip:f().A.formatMessage(A.openInSidePeekTooltip),caption:t?"":f().A.formatMessage(A.openAsPageTitle)};case"center_peek":return{icon:s().q,tooltip:f().A.formatMessage(A.openInCenterPeekTooltip),caption:t?"":f().A.formatMessage(A.openAsPageTitle)};case"full_page":return{icon:l().m,tooltip:f().A.formatMessage(A.openAsPageTooltip),caption:t?"":f().A.formatMessage(A.openAsPageTitle)};default:(0,g().HB)(e)}}const A=(0,o(653998).YK)({openAsPageTitle:{defaultMessage:"Open",id:"database.actionButton.openAsPageTitle"},openAsPageTooltip:{defaultMessage:"Open as page",id:"database.actionButton.openAsPageTooltip"},openInCenterPeekTooltip:{defaultMessage:"Open in center peek",id:"database.actionButton.openInCenterPeekTooltip"},openInSidePeekTooltip:{defaultMessage:"Open in side peek",id:"database.actionButton.openInSidePeekTooltip"}});function I(e){const{store:t,additionalStores:o,collectionContextStore:n}=e,i=t.getAssociatedCollectionStore();return!("collectionTypedView"!==(null==n?void 0:n.contextType)||!i)&&o.some((e=>{var t;return(null===(t=e.getAssociatedCollectionStore())||void 0===t?void 0:t.id)!==i.id}))}function M(e){return"form_editor"===e||"form_viewer"===e}function T(e){return Boolean(e&&!r().dA.includes(e.type))}},416347:(e,t,o)=>{o.d(t,{o:()=>s});o(610931),o(242343);var n=()=>o(803290),i=()=>o(653998),r=()=>o(76394),a=()=>o(246669),l=o(163643);function s(e){let{collectionStore:t,propertyId:o,propertySchema:s,style:d}=e;const c=(0,a().i)({collectionStore:t,propertyId:o,propertySchema:s}),p=(0,n().K8)((()=>{if(!c)return null;const{role:e}=c,t=s.name;switch(e){case"editor":return(0,l.jsx)(i().sA,{id:"PersonPropertyPermissionsBadge.tooltipText.editor",defaultMessage:"Anyone selected in {propertyName} has full access to this page",values:{propertyName:t}});case"read_and_write":return(0,l.jsx)(i().sA,{id:"PersonPropertyPermissionsBadge.tooltipText.readAndWrite",defaultMessage:"Anyone selected in {propertyName} can edit this page",values:{propertyName:t}});case"reader":return(0,l.jsx)(i().sA,{id:"PersonPropertyPermissionsBadge.tooltipText.reader",defaultMessage:"Anyone selected in {propertyName} can view this page",values:{propertyName:t}});case"comment_only":return(0,l.jsx)(i().sA,{id:"PersonPropertyPermissionsBadge.tooltipText.commentOnly",defaultMessage:"Anyone selected in {propertyName} can comment on this page",values:{propertyName:t}});case"content_only_editor":case"membership_admin":case"none":throw new Error(`Unhandled role in person property permissions badge: ${e}`);default:(0,r().HB)(e)}}),[c,s.name]);return p?(0,l.jsx)("span",{style:d,children:p}):null}},446464:(e,t,o)=>{o.d(t,{Ge:()=>l,OQ:()=>i,aG:()=>s,yN:()=>a});var n=()=>o(230849);const i=160,r=120,a=120;function l(e){let{isMobile:t,stackPropertyLabelAndValue:o,isPropertyInPageDetails:l}=e;if(o||!l)return;const s=r/n().b*100;return t?a:`min(max(${s}%, ${r}px), ${i}px)`}function s(e){let{stackPropertyLabelAndValue:t}=e;return t?{variant:"hug-content"}:{variant:"fixed"}}},475923:(e,t,o)=>{o.d(t,{Bd:()=>l,DN:()=>h,II:()=>S,R8:()=>v,U9:()=>f,VM:()=>y,ZF:()=>u,ZI:()=>c,bf:()=>d,jx:()=>p,wW:()=>m,xO:()=>s});o(610931),o(242343);var n=()=>o(810111),i=()=>o(653998),r=()=>o(141122),a=o(163643);let l=function(e){return e[e.ViewSettings=0]="ViewSettings",e[e.FilterBar=1]="FilterBar",e[e.TopbarFilterPopup=2]="TopbarFilterPopup",e[e.TopbarSortPopup=3]="TopbarSortPopup",e[e.TopbarFollowPopup=4]="TopbarFollowPopup",e}({});const s=480,d=320;function c(e){const{timelineViewTab:t,collectionContextStore:o}=e,i=p({collectionContextStore:o}),r=u({collectionContextStore:o});return"timeline"===i?"timeline"===t?"timeline_properties":r?"timeline_table_properties":void 0:(0,n().u9)(p({collectionContextStore:o}))}function p(e){var t;const{collectionContextStore:o}=e,n=null===(t=o.collectionViewStore())||void 0===t?void 0:t.getType();if(!n)throw new Error("View type was not defined.");return n}function u(e){const{collectionContextStore:t}=e,o=t.normalizedFormatStore.state;return Boolean(o.timeline_show_table)}const g=600;function h(e,t,o){const n=o||0,i=e.settingsStore.state;if(i.open&&!0!==i.hideSettingsPopup)return m(e,t,n)}function m(e,t,o){const n=o||0,i=e.settingsStore.state,a=p({collectionContextStore:e});return i.open&&"form_editor"===a||t||r().default.isSidePeekOpen()||e.isInHomeWidgetStore.state||e.isInlineViewStore.state||n<=g?"popup":"sidebar"}function y(e){let{sourceCollectionCount:t,linkedCollectionCount:o,isCollectionViewPageWithContent:n,locked:r}=e;return n?r?(0,a.jsx)(i().sA,{defaultMessage:"Unlock wiki",id:"action.unlockWikiName.name"}):(0,a.jsx)(i().sA,{defaultMessage:"Lock wiki",id:"action.lockWikiName.name"}):0===t?r?(0,a.jsx)(i().sA,{defaultMessage:"Unlock views",id:"database.viewSettings.mainTab.unlockViews.title"}):(0,a.jsx)(i().sA,{defaultMessage:"Lock views",id:"database.viewSettings.mainTab.lockViews.title"}):1===t&&0===o?r?(0,a.jsx)(i().sA,{defaultMessage:"Unlock database",id:"database.viewSettings.mainTab.unlockDatabase.title"}):(0,a.jsx)(i().sA,{defaultMessage:"Lock database",id:"database.viewSettings.mainTab.lockDatabase.title"}):r?(0,a.jsx)(i().sA,{defaultMessage:"Unlock databases",id:"database.viewSettings.mainTab.unlockDatabases.title"}):(0,a.jsx)(i().sA,{defaultMessage:"Lock databases",id:"database.viewSettings.mainTab.lockDatabases.title"})}let f=function(e){return e[e.Source=0]="Source",e[e.Relation=1]="Relation",e[e.Automation=2]="Automation",e}({});const v=6;function S(e){let{currentViewType:t,isPlaceholderExternalCollection:o,collectionContextStore:n,allowedActions:i,settingsHeaderSizeObserver:r}=e;return"page"!==t&&"form_editor"!==t&&(!o&&(!!n.shouldAllowNewItemCreation()&&(!(i&&!i.includes("addItem"))&&!(r&&r.rect.state.width>d))))}},546820:(e,t,o)=>{o.d(t,{LH:()=>r,Op:()=>i,bi:()=>s,sf:()=>l,v$:()=>a});o(610931);var n=o(242343);const i=(0,n.createContext)(null);function r(){const e=(0,n.useContext)(i);if(!e)throw new Error("usePageLayoutEditorContext must be used inside BaseLayoutEditorContext.Provider");return e}function a(){return(0,n.useContext)(i)}i.displayName="BaseLayoutEditorContext";const l=(0,n.createContext)(null);function s(){const e=(0,n.useContext)(l);if(!e)throw new Error("usePageLayoutEditorContext must be used inside PageLayoutEditorContextProvider");return e}l.displayName="PageLayoutEditorContext"},639659:(e,t,o)=>{o.d(t,{a:()=>r});var n=()=>o(803290);const i=new(o(496985).default)((()=>o(521972).g.state.isOpen),{debugName:"IsInPageViewModeStore"});function r(){return(0,n().O$)(i)}},696088:(e,t,o)=>{o.d(t,{l:()=>i});var n=()=>o(803290);function i(e){const t=(0,n().K8)((()=>function(e){if(!e)return;const t=null==e?void 0:e.getAssociatedCollectionStore();return null==t?void 0:t.getLayoutStore()}(e)),[e]);return t}},743661:(e,t,o)=>{o.d(t,{I:()=>S});var n=o(242343),i=()=>o(237385),r=()=>o(803290),a=()=>o(174114),l=()=>o(564134),s=()=>o(806125),d=()=>o(129978);const c=new(d().O2)("PagePropertiesRowNameMenu",(async()=>Promise.all([o.e(96159),o.e(43380),o.e(96346),o.e(36192),o.e(55373),o.e(36209),o.e(92845),o.e(71718),o.e(48486),o.e(83324),o.e(63077),o.e(41870),o.e(90966),o.e(88552),o.e(90214),o.e(74562),o.e(8184),o.e(28271),o.e(17254),o.e(89693),o.e(68455),o.e(1423)]).then(o.bind(o,941064)))),p=(0,d()._h)(c,(e=>e.PagePropertiesRowNameMenu));var u=()=>o(446464),g=()=>o(907721),h=()=>o(236631),m=()=>o(514799),y=()=>o(443252),f=()=>o(224281),v=o(163643);const S=n.memo((function(e){const{property:t,schema:d,disabled:c,locked:h,canConfigureCollection:f,isInPeekRenderer:S,labelComponent:x,hideDragHandle:k,pagePropertiesStore:w,styleVariants:C,disableRowNameInteractivity:P,dragHandleStyle:A,layoutModule:I,forceHighlight:M,forceFocusedHighlight:T,hideIcon:j,propertyNameAriaId:B,showDragHandleAsIcon:H}=e,_=(0,n.useRef)(null),D=(0,o(749975).Ks)(),L=(0,i().v3)(),V=(0,i().Y0)(),[N,O]=(0,n.useState)(!1),R=d[t],W=(0,r().K8)((()=>w.state.hoveredProperty===t),[w,t]),E=(0,r().K8)((()=>!V.isMobile&&W&&!o(13889).A.state.isKeyboardMode&&!k),[V.isMobile,k,W]),F=(0,r().K8)((()=>w.state.openProperty),[w]),U=(0,o(260682).D)(R),K=(0,r().K8)((()=>null==D?void 0:D.collectionStore()),[D]),$=(0,a().IS)((e=>{const{size:t="medium",width:n={variant:"fixed",widthMobile:u().yN,widthDesktop:u().OQ},height:i,color:r="default"}=C||{},a="medium"!==(null==i?void 0:i.variant)&&(null!=i&&i.variant||"medium"!==t)?24:34;let l;if("fixed"===n.variant){const e=V.isMobile?n.widthMobile||u().yN:n.widthDesktop||u().OQ;l={width:e,maxWidth:e,minWidth:0}}else if("hug-content"===n.variant){l={width:"min-content",maxWidth:V.isMobile?n.maxWidthMobile||"100%":n.maxWidthDesktop||"100%",minWidth:0}}else(0,o(76394).HB)(n);return{propertyLabelContainerStyles:{display:"flex",alignItems:"center",color:"primary"===r?e.text.primary:e.text.secondary,height:a,...l},tooltipLockedIcon:{width:12,fill:e.text.contrastPrimary,marginLeft:2,display:"inline-block",verticalAlign:"middle",paddingBottom:3},tooltipDescription:{color:e.text.contrastSecondary},tooltipAutoUpdatedByAi:{color:e.text.contrastSecondary},sharingEnabledTooltip:{marginTop:8,color:e.text.contrastSecondary},personPropertyPermissionsTooltip:{marginTop:8,color:e.text.contrastSecondary}}}),[V.isMobile,C]),z=(0,n.useCallback)((()=>{w.setState({...w.state,hoveredProperty:void 0})}),[w]),Z=(0,n.useCallback)((()=>{w.setState({...w.state,hoveredProperty:t})}),[w,t]),Y=(0,n.useMemo)((()=>!V.isMobile&&!c&&!(h||!f)&&!k&&!e.showDragHandleAsIcon&&(0,v.jsx)(o(615917).A,{animate:{opacity:E?1:0},initial:{opacity:0},exit:{opacity:0},style:{width:m().Z+4,marginLeft:-(m().Z+4)},onMouseMove:Z,onMouseLeave:z,children:(0,v.jsx)(o(105886).A,{role:"cell",disallowTabbing:!0,onClick:t=>function(e,t,n,i){o(917717).Zm()||i.setState({...i.state,openProperty:{property:t,isInPeekRenderer:n}})}(0,e.property,e.isInPeekRenderer,w)})})),[f,V.isMobile,c,k,h,w,e.isInPeekRenderer,e.property,e.showDragHandleAsIcon,E,z,Z]),G=(0,n.useCallback)((e=>{if(!D)return;const n=D.permissionScopesStore.state,i={onClick:!P&&n.canConfigureBlock?()=>function(e,t,n,i){o(384221).clear({environment:n}),o(360378).IU({environment:n}),(0,o(862384).y)(),i.setState({...i.state,openProperty:{property:e,isInPeekRenderer:t}})}(t,S,L,w):o(975392).D_};return(0,v.jsx)(b,{hideIcon:Boolean(j),showDragIcon:!j&&H&&E,dragHandleStyle:A,schema:d,property:t,disabled:c||Boolean(P),locked:h,canConfigureCollection:f,events:(0,o(906230).A)(i,e),propertyNameAriaId:B,setIsDescriptionIconTooltipHovered:e=>O(e),styleVariants:C,layoutModule:I,forceHighlight:M,forceFocusedHighlight:T,isSharingEnabled:U,collectionStore:K})}),[D,P,j,H,E,A,d,t,c,h,f,B,C,I,M,T,U,K,S,L,w]),Q=Boolean(F&&!c&&F.property===t&&F.isInPeekRenderer===S),q=(0,n.useCallback)((()=>{if(!D)return;w.setState({...w.state,openProperty:void 0});const e=D.settingsStore;o(521325).os({collectionSettingsStore:e})}),[D,w]),J=(0,n.useCallback)((()=>{const t=null==D?void 0:D.settingsStore;if(D&&t)return(0,v.jsx)("div",{ref:_,children:t.state.open?(0,v.jsx)(o(261603).m$,{context:o(475923).Bd.TopbarFilterPopup,collectionContextStore:D,collectionSettingsStore:t,hideDesktopHeader:!0}):(0,v.jsx)(p,{...e,popupContainerRef:_})})}),[D,e]),X=(0,n.useCallback)((e=>{if(!D||!R)return null;const n=(0,l().$M)(R)&&(0,l().om)(R);return(0,v.jsxs)("div",{...e,style:o(663073).Q$,children:[(0,v.jsxs)("div",{children:[R.name,K&&"relation"===R.type&&U&&(0,v.jsx)(s().F,{propertySchema:R,collectionStore:K,style:$.sharingEnabledTooltip}),h&&(0,o(242103).S)($.tooltipLockedIcon)]}),void 0!==(null==R?void 0:R.description)&&R.description.length>0?(0,v.jsx)("div",{style:$.tooltipDescription,children:R.description}):null,K&&(0,v.jsx)(o(416347).o,{propertySchema:R,collectionStore:K,propertyId:t,style:$.personPropertyPermissionsTooltip}),n&&n.auto_update_on_edit&&(0,v.jsx)("div",{style:$.tooltipAutoUpdatedByAi,children:(0,v.jsx)(o(653998).sA,{defaultMessage:"Auto-updated by AI",id:"database.tableHeaderCell.tooltipAiAutofillDescription"})})]})}),[D,R,K,U,$.sharingEnabledTooltip,$.tooltipLockedIcon,$.tooltipDescription,$.personPropertyPermissionsTooltip,$.tooltipAutoUpdatedByAi,h,t]);return D&&R?(0,v.jsx)(o(103151).A,{disableTooltip:V.isMobile,renderTooltip:X,delayThreshold:N?0:500,placement:g().W.Left,tooltipClassName:o(983050).StS,render:e=>(0,v.jsxs)("div",{style:$.propertyLabelContainerStyles,onMouseMove:Z,onMouseLeave:z,children:[Y,(0,v.jsx)(y().Ay,{popupType:V.isMobile?y().nl.SlideUp:y().nl.Popup,originGap:1,alignmentToOrigin:g().C.Start,render:J,open:Q,onDismiss:q,origin:x??G(e)})]},t)}):null})),b=n.memo((function(e){var t;const{schema:n,property:l,disabled:d,locked:c,canConfigureCollection:p,events:u,styleVariants:g,forceHighlight:m,forceFocusedHighlight:y,showDragIcon:S,isSharingEnabled:b,collectionStore:x}=e,k=(null==g?void 0:g.color)||"default",w=(null==g?void 0:g.size)||"medium",C=null==g?void 0:g.fontWeight,P=n[l],{isMobile:A}=(0,i().Y0)(),I=(0,r().K8)((()=>{if(y)return!0;const e=h().wb.state;return!(!e||"page_property_name"!==e.type)&&e.propertyId===l}),[l,y]),M=(0,r().K8)((()=>{var e;if(m)return!0;const t=h().qu.state,o=null===(e=n[l])||void 0===e?void 0:e.name;if(!t||!o)return!1;return o.toLowerCase().includes(t.toLowerCase())}),[l,n,m]),T=(0,a().IS)((t=>{const n=I?t.findHighlightMatch.selectedBackground:t.findHighlightMatch.unselectedBackground;return{button:{display:"flex",alignItems:"center",height:"100%",width:(0,o(946854).gx)(e.layoutModule)?void 0:"100%",borderRadius:4,padding:"0 6px",maxWidth:"100%"},property:{backgroundColor:M?n:void 0,outline:M?`5px solid ${n}`:void 0,borderRadius:M?4:void 0,color:I?"black":void 0,..."medium"===w?{fontSize:14,lineHeight:"20px"}:{fontSize:13,lineHeight:"18px"},...C?{fontWeight:o(31448).Wy[C]}:{}},icon:{marginRight:2,..."primary"===k?{fill:t.icon.primary}:I?{fill:"black"}:{}}}}),[k,I,w,C,e.layoutModule,M]);return P?(0,v.jsx)(o(126451).A,{role:"cell",id:e.propertyNameAriaId,style:T.button,disabled:d||c||!p,...u,onContextMenu:e=>{e.preventDefault(),u.onClick(e)},children:(0,v.jsx)(f().mA,{propertySchema:P,showIcon:!e.hideIcon,showDragIcon:S,badge:(0,v.jsxs)(v.Fragment,{children:["relation"===P.type&&b&&(0,v.jsx)(s().z,{style:{width:20,height:20,marginLeft:4}}),x&&(0,v.jsx)(o(204427).s,{propertySchema:P,collectionStore:x,propertyId:l}),(0,v.jsx)(f().Jv,{propertySchema:P}),!A&&Boolean(null===(t=P.description)||void 0===t?void 0:t.length)&&(0,v.jsx)(o(6327).g,{setIsHovered:e.setIsDescriptionIconTooltipHovered})]}),style:T.property,property:l,className:I?o(73792).wT:void 0,labelSizeVariant:w,iconSize:"medium"===w?16:14,iconStyle:T.icon,dragHandleStyle:e.dragHandleStyle})}):null}))},806125:(e,t,o)=>{o.d(t,{F:()=>r,z:()=>a});var n=()=>o(129978);const i=new(n().O2)("SharingEnabled",(async()=>{const[{default:e},{default:t}]=await Promise.all([o.e(47307).then(o.bind(o,492237)),o.e(14227).then(o.bind(o,433223))]);return{SharingEnabledIcon:e,SharingEnabledPropertyNameTooltip:t}})),r=(0,n()._h)(i,(e=>e.SharingEnabledPropertyNameTooltip)),a=(0,n()._h)(i,(e=>e.SharingEnabledIcon))},887508:(e,t,o)=>{o.d(t,{v:()=>i});o(242343);var n=o(163643);const i=(0,o(680369).wt)("arrowLeftThick",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M1.54004 8.05762C1.54004 8.2627 1.62891 8.46094 1.78613 8.61133L6.29102 13.1162C6.45508 13.2734 6.63965 13.3486 6.82422 13.3486C7.25488 13.3486 7.5625 13.041 7.5625 12.6309C7.5625 12.4189 7.48047 12.2344 7.34375 12.1045L5.8125 10.5527L3.78906 8.70703L5.38867 8.80273H13.7012C14.1455 8.80273 14.46 8.49512 14.46 8.05762C14.46 7.61328 14.1455 7.3125 13.7012 7.3125H5.38867L3.7959 7.4082L5.8125 5.5625L7.34375 4.01074C7.48047 3.87402 7.5625 3.68945 7.5625 3.47754C7.5625 3.06738 7.25488 2.7666 6.82422 2.7666C6.63965 2.7666 6.45508 2.83496 6.27734 3.00586L1.78613 7.50391C1.62891 7.64746 1.54004 7.85254 1.54004 8.05762Z"})})}}]);