"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[27942,76007],{17791:(e,n,t)=>{t.d(n,{I:()=>o});var i=()=>t(237385),s=()=>t(803290);const a=new(t(172814).n)((e=>{let{spaceId:n}=e;return n}),(async(e,n)=>{const i=await Promise.resolve().then(t.bind(t,818369)),s=await i.callApi({eventName:"getAllUpgradeRequestsForSpace",environment:e,data:n}),a=[{key:(0,t(201430).VI)(n),version:-1}];return"success"===s.type?{value:s.data.requests,dependencies:s.data.dependencies??a}:void 0}));function o(e){let{spaceId:n}=e;const t=(0,i().v3)(),o=(0,s().K8)((()=>n?a.getData(t,{spaceId:n}):"no_space_id"),[t,n]);return"no_space_id"===o?{isLoading:!1,requests:{}}:{isLoading:void 0===o,requests:o??{}}}},23082:(e,n,t)=>{t.d(n,{A:()=>s});t(242343);var i=t(163643);const s=function(){return(0,i.jsx)(t(932322).Ay,{title:(0,i.jsx)(t(966789).A,{})})}},30922:(e,n,t)=>{t.d(n,{k:()=>i});const i=(0,t(680369).xh)("arrowInCircleUp",{default:{loader:()=>t.e(15538).then(t.bind(t,635616))},small:{loader:()=>t.e(15538).then(t.bind(t,387654))},fill:{loader:()=>t.e(15538).then(t.bind(t,338828))},fillSmall:{loader:()=>t.e(15538).then(t.bind(t,27421))}},["arrow","circle","up","direction","pointer","upgrade"])},35294:(e,n,t)=>{t.r(n),t.d(n,{applyMultiplayerReverseTrialIfEligible:()=>c().V_,applyReverseBusinessTrial:()=>c().xX,applyReversePlusTrial:()=>c().xE,handleTrialUpgradeFromOnboarding:()=>c().WR,handleTrialUpgradeFromOnboardingImpl:()=>c().eu,isEligibleForBlockLimitTimedTrial:()=>l});var i=()=>t(732541),s=()=>t(647242),a=()=>t(436622),o=()=>t(397138),r=()=>t(384055);async function l(e,n){const t=await a().A.awaitData(e,{spaceId:null==n?void 0:n.id});if("free"!==(0,s().AI)(t))return!1;const l=null==n?void 0:n.getSetting("reach_block_limit_time");if(!l||(0,i().Mn)(l)<3)return!1;if(await(0,o().G)(e))return!1;const c=n.getSpaceId();return!!(await(0,r().L6)({environment:e,spaceId:c,offerCampaign:"default"}))}var c=()=>t(308839)},107640:(e,n,t)=>{t.d(n,{L:()=>h,p:()=>f});var i=()=>t(228138),s=()=>t(214144),a=()=>t(76394),o=()=>t(336519),r=()=>t(113920),l=()=>t(485966),c=()=>t(489905),d=()=>t(840024),u=()=>t(943066),p=()=>t(133926),g=()=>t(467586),m=()=>t(108797);function h(e){var n;const{clientStore:t,spaceId:s,userId:o}=e,r=null===(n=t.state.configForNewTranscripts)||void 0===n?void 0:n.type,l="ai_limit_in_app";if((0,i().rL)(r))switch(r){case"researcher":return{pfaFeatureLoadArgs:{name:"ai_research_mode",spaceId:s,userId:o,amount:1},upsellFromForCheckoutBanner:"ai_research_mode"};case"search":return{pfaFeatureLoadArgs:{name:"ai_usage",spaceId:s,userId:o,amount:1},upsellFromForCheckoutBanner:l};case"setup-generator":case"workflow":return{pfaFeatureLoadArgs:{name:"ai_app_builder",spaceId:s,userId:o,amount:1},upsellFromForCheckoutBanner:l};default:(0,a().HB)(r)}return{pfaFeatureLoadArgs:{name:"ai_usage",spaceId:s,userId:o,amount:0},upsellFromForCheckoutBanner:l}}function f(e){const{environment:n,connector:t,analyticsFrom:i,connectorsFeatureAvailability:a}=e;if(void 0===a)return;const h=l().default.state.currentSpaceStore;if(!h)return;const f=d().zD.isAiSettingsTabEnabled();if(h.canAdmin())(0,p().N9)(a,{available:()=>{if("generic"===t)return void o().Ow({openedFrom:i,currentTab:f?"ai":"integrations",subtab:"workspace_connections"});const e=s().JW();(0,m().navigateToAIConnectorOnboarding)({connector:t,analyticsFrom:i,sessionId:e})},unavailable:e=>{let{upsell:s}=e;(0,g().vp)(n,h.id)?c().O.setState({open:!0,analyticsFrom:i,modal:"sales_assisted_admin_request",connector:t}):d().zD.canShowAiConnectorsAiPlanUpsellIntroModal()?c().O.setState({open:!0,analyticsFrom:i,modal:"ai_plan_upsell_admin_intro",connector:t}):(u().K(n,{from:i,upsell:s}),"generic"!==t&&r().A.setState({...r().A.state,connectorTriggeringUpsell:t,upsellTriggeredAt:Date.now()}))}});else{if("generic"===t)return void(f?o().Ow({openedFrom:i,currentTab:"ai",subtab:"workspace_connections"}):c().O.setState({open:!0,modal:"nonadmin_request",analyticsFrom:i}));const e=s().JW();(0,m().navigateToAIConnectorOnboarding)({connector:t,analyticsFrom:i,sessionId:e})}}},117751:(e,n,t)=>{t.d(n,{R2:()=>f,RR:()=>b,bS:()=>y,nh:()=>g,oz:()=>m,pd:()=>v,yE:()=>h});var i=()=>t(108797),s=()=>t(688522),a=()=>t(137476),o=()=>t(980936),r=()=>t(145652),l=()=>t(818369),c=()=>t(437071),d=()=>t(961987),u=()=>t(84543);const p=(0,t(653998).YK)({userOverwritePopupTitle:{id:"slackConnectionOptions.overwriteEmail.title",defaultMessage:"User Authorization"},githubAIConnectorOauthPopupTitle:{id:"githubAIConnector.oauthPopup.title",defaultMessage:"GitHub Authentication"}});function g(){s().R.setState({...s().R.state,currentScreen:"settings"})}function m(){r().E.setState({...r().E.state,currentScreen:"settings"})}async function h(e){const{environment:n,spaceId:t,analyticsProperties:i}=e,{analyticsFrom:s,buttonName:o,sessionId:r}=i;(0,a().u4)({environment:n,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:o,integration_type:"slack",setup_session_id:r,from:s}}});const u=await l().callApi({eventName:"getSlackIngestionAuthorizeUrl",environment:n,data:{spaceId:t,isAdminAuth:!1,isDesktopApp:n.device.isElectron,isUserMapping:!0}});"success"===u.type&&(n.device.isElectron?c().openExternalUrl(u.data.url):await d().P(n,{width:800,height:600,url:u.data.url,titleMessage:p.userOverwritePopupTitle}))}function f(e){const{environment:n,currentSpaceViewStore:t,analyticsProperties:i}=e,{analyticsFrom:s,buttonName:o,sessionId:r}=i;(0,a().u4)({environment:n,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:o,integration_type:"slack",setup_session_id:r,from:s}}}),u().createAndCommit({userAction:"slackAIConnector.onboarding.dismissPersonalAuthPrompt",environment:n,canUndo:!0,perform:e=>{u().applyOperation({store:t,operation:{pointer:t.pointer,path:["settings"],command:"update",args:{...t.getSettings(),dismissed_slack_personal_auth_prompt:!0}},transaction:e})}})}async function v(e){const{environment:n,spaceId:t,onAuthSuccess:i,analyticsProperties:s}=e,{analyticsFrom:r,buttonName:u}=s;(0,a().u4)({environment:n,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:u,integration_type:"github",setup_session_id:o().o.state.sessionId,from:r}}});const g=await l().callApi({eventName:"getGithubUserAuthUrl",environment:n,data:{spaceId:t,isDesktop:n.device.isElectron,sessionId:o().o.state.sessionId}});"success"===g.type&&(n.device.isElectron?c().openExternalUrl(g.data.url):(d().P(n,{width:800,height:600,url:g.data.url,titleMessage:p.githubAIConnectorOauthPopupTitle}),null==i||i()))}function b(e){const{environment:n,currentSpaceViewStore:t}=e;t&&(u().createAndCommit({userAction:"githubAIConnector.forceShowGithubAuthNotification",environment:n,canUndo:!0,perform:e=>{u().applyOperation({store:t,operation:{pointer:t.pointer,path:["settings"],command:"update",args:{...t.getSettings(),dismissed_github_personal_auth_prompt:!1}},transaction:e})}}),o().o.setState({...o().o.state,forceShowGithubAuthNotificationTriggeredAt:Date.now()}))}function y(e){const{spaceId:n,environment:t,analyticsProperties:s}=e;n&&((0,a().u4)({environment:t,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"user_jira_resume_pending_connection",integration_type:"jira",setup_session_id:s.sessionId,from:s.analyticsFrom}}}),(0,i().navigateToAIConnectorOnboarding)({connector:"jira",analyticsFrom:s.analyticsFrom,sessionId:s.sessionId}))}},119181:(e,n,t)=>{t.r(n),t.d(n,{iconDefinition:()=>i,plusFillIcon:()=>s});t(242343);const i={viewBox:"0 0 20 20",svg:(0,t(163643).jsx)("path",{d:"M10 3.375c.483 0 .875.392.875.875v4.875h4.875a.875.875 0 0 1 0 1.75h-4.875v4.875a.875.875 0 0 1-1.75 0v-4.875H4.25a.875.875 0 0 1 0-1.75h4.875V4.25c0-.483.392-.875.875-.875"})},s=(0,t(680369).wt)("plusFill",i)},139586:(e,n,t)=>{t.d(n,{y:()=>d});var i=()=>t(237385),s=()=>t(803290),a=()=>t(647242),o=()=>t(455831),r=()=>t(997310),l=()=>t(931371),c=()=>t(613313);function d(e){const n=(0,i().v3)(),t=(0,l().HI)(),d=(0,s().K8)((()=>Boolean((null==t?void 0:t.isMember())&&!(null!=t&&t.isWorkspaceOwner()))),[t]),u=(0,s().K8)((()=>(0,c().Gy)(n)),[n]),p=(0,r().r)(),g=(0,s().K8)((()=>null==p?void 0:p.getDisableMemberUpgradeRequests()),[p]);return!!u&&(!g&&(!!(0,o().jR)((0,a().AI)(e))&&(!(0,a().et)(e)&&d)))}},153642:(e,n,t)=>{t.d(n,{V:()=>a});var i=()=>t(803290),s=()=>t(485966);function a(){return(0,i().K8)((()=>{const{currentSpaceStore:e}=s().default.state;return(null==e?void 0:e.getMemberCountFromPublicSpaceData())??void 0}),[])}},158960:(e,n,t)=>{t.r(n),t.d(n,{SlackConnectionOptions:()=>R});t(362833),t(725707),t(491955),t(403517);var i=t(242343),s=()=>t(237385),a=()=>t(269280),o=()=>t(803290),r=()=>t(174114),l=()=>t(162901),c=()=>t(680369),d=t(163643);const u=(0,c().wt)("aiFixSpellingGrammar",{viewBox:"0 0 16 16",svg:(0,d.jsx)("path",{d:"M6.57812 14.1621C6.23633 14.1621 5.9834 14.0186 5.74414 13.7246L2.20312 9.29492C2.03223 9.08301 1.95703 8.88477 1.95703 8.67969C1.95703 8.20801 2.30566 7.86621 2.78418 7.86621C3.08496 7.86621 3.29004 7.97559 3.48828 8.24219L6.55078 12.1729L12.4912 2.73926C12.6963 2.41797 12.8945 2.30176 13.2295 2.30176C13.708 2.30176 14.0361 2.62988 14.0361 3.10156C14.0361 3.28613 13.9814 3.47754 13.8379 3.69629L7.41211 13.7178C7.21387 14.0117 6.94043 14.1621 6.57812 14.1621Z"})}),p=(0,c().wt)("key",{viewBox:"0 0 30 30",svg:(0,d.jsx)("path",{d:"M14.757 4A5.724 5.724 0 009 9.748c0 2.364 1.389 4.456 3.586 5.335V23.6c0 .255.079.483.272.676l1.53 1.477a.578.578 0 00.808-.009l2.769-2.768a.598.598 0 000-.87l-1.591-1.574 2.232-2.232a.602.602 0 00-.017-.861l-2.171-2.18c2.628-1.116 4.087-3.13 4.087-5.511A5.733 5.733 0 0014.757 4zm0 5.344a1.55 1.55 0 01-1.547-1.547c0-.861.685-1.547 1.547-1.547a1.55 1.55 0 011.547 1.547 1.55 1.55 0 01-1.547 1.547z"})});var g=()=>t(396760),m=()=>t(83788),h=()=>t(921080),f=()=>t(52531),v=()=>t(519423),b=()=>t(653998),y=()=>t(31448),x=()=>t(818369),A=()=>t(145046),S=()=>t(437071),j=()=>t(961987),_=()=>t(108797),M=()=>t(535906),k=()=>t(966789),C=()=>t(935091),w=()=>t(858023),I=()=>t(88271),T=()=>t(610271),L=()=>t(137476),B=()=>t(640979),D=()=>t(863969),P=()=>t(622286),O=()=>t(167532),W=()=>t(485966),F=()=>t(836331),N=()=>t(688522);const U=(0,b().YK)({userOverwritePopupTitle:{id:"slackConnectionOptions.overwriteEmail.title",defaultMessage:"User Authorization"}});function R(e){var n;let{parent:t,from:c}=e;const R=(0,s().v3)(),[q,K]=(0,i.useState)(),Y=(0,P().X)("ingestion_mapped_child_spaces"),G=(0,O().J)(),H=(0,r().IS)((e=>({icon:{width:16,height:16},caption:{color:e.text.tertiary,fontSize:12,textWrap:"wrap"},option:{paddingTop:4,paddingBottom:4},optionLabel:{fontSize:14,marginBottom:2},disabledOptionLabel:{color:e.text.tertiary,fontSize:14,marginBottom:2},iconWrapper:{paddingTop:4}})),[]),Q=(0,o().O$)(W().AppStoreCurrentSpaceStore),J=(0,o().K8)((()=>N().R.state.isPublicSync),[]),V=(0,o().K8)((()=>N().R.state.isPrivateSync),[]),$=(0,o().K8)((()=>N().R.state.isSyncCompleted),[]),X=(0,o().K8)((()=>N().R.state.sessionId),[]),[Z,ee]=i.useState(!0),[ne,te]=i.useState(!1),[ie,se]=i.useState([]),ae=(0,D().O)(),oe=(0,o().K8)((()=>N().R.state.isDisconnecting),[]),re=(0,o().K8)((()=>N().R.state.analyticsFrom),[]),[le,ce]=(0,i.useState)(!0),de=(0,o().K8)((()=>N().R.state.isSlackGridAiConnectorEnabled),[]);(0,a().l)((async()=>{const e=null==Q?void 0:Q.id;if(!e)return;if(Y){const n=await x().callApi({eventName:"getMappedParentSpace",environment:R,data:{spaceId:e}});if("success"!==n.type)return;if(n.data.isMapped)return K(n.data),void ee(!1)}const n=await x().callApi({eventName:"getSlackBulkIngestionStatus",environment:R,data:{spaceId:e},headers:(0,v().WS)({spaceId:e})});"success"===n.type&&N().R.setState({...N().R.state,...n.data});const t=await x().callApi({eventName:"getConnectedAppsForUniversalQna",environment:R,data:{spaceId:e},headers:(0,v().WS)({spaceId:e})});"success"===t.type&&se(t.data.connectedApps);const i=await x().callApi({eventName:"canUserQuerySlack",environment:R,data:{spaceId:e}});"success"===i.type&&(ce(i.data.canQuery),N().R.setState({...N().R.state,canQuery:i.data.canQuery})),ee(!1)})),(0,l().Yb)((async()=>{if(!ae)return;const e=await x().callApi({eventName:"allowPrivateSlackIngestion",environment:R,data:{spaceId:ae}});"success"===e.type&&te(e.data.allow)}),[R,ae]);const ue=(0,o().K8)((()=>ie.includes("slack-admin")),[ie]),pe=(0,o().K8)((()=>ie.includes("slack")),[ie]),ge=(0,o().K8)((()=>{const e=F().default.getConfigKey("ingestion","slack");return(null==e?void 0:e.userScopes.length)>0}),[]),me=[{key:"slack-connection-section",render:e=>(0,d.jsx)(I().A,{...e}),items:(null!=q&&q.isMapped?[{key:"inherited-space",label:(0,d.jsx)(b().sA,{id:"assistantOverflowMenu.slackIngestion.connectionDisabled",defaultMessage:"Disabled"}),caption:(0,d.jsx)(b().sA,{id:"assistantOverflowMenu.slackIngestion.disabledDescription",defaultMessage:"Cannot connect Slack to this space. Slack connection is inherited from {parentSpaceName}",values:{parentSpaceName:(0,d.jsx)("u",{children:null===(n=q.spaceDetails)||void 0===n?void 0:n.spaceName})}}),icon:(0,g().f)(H.icon),disabled:!0,connected:!1,hidden:!1,action:()=>{}}]:[{key:"slack-ingestion-admin-auth",label:E(ie,$,J,de),caption:z(G,ie,J,oe,$),icon:(0,g().f)(H.icon),disabled:!0,connected:ue,hidden:!1,action:()=>{ae&&((0,_().navigateToSlackUniversalQnAOnboarding)({analyticsFrom:c||"chat_menu"}),(0,L().u4)({environment:R,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"connect_public_slack",integration_type:"slack",setup_session_id:X,from:c||re}}}))}},{key:"slack-ingestion-user-auth",label:(0,d.jsx)(b().sA,{id:"assistantOverflowMenu.slackIngestion.userAuth",defaultMessage:"Private conversations"}),caption:V?(0,d.jsx)(b().sA,{id:"assistantOverflowMenu.slackIngestion.privateConnectionInProgress",defaultMessage:"Connecting. This can take up to 36 hours."}):pe?(0,d.jsx)(b().sA,{id:"assistantOverflowMenu.slackIngestion.connectedByYou",defaultMessage:"Connected by you"}):(0,d.jsx)(b().sA,{id:"assistantOverflowMenu.slackIngestion.userCaption",defaultMessage:"Connect to enhance your AI results"}),icon:(0,m().h)(H.icon),disabled:!1,connected:pe,hidden:!!de||Boolean(!ue||Boolean(ie.includes("slack-admin")&&J)||!ne||!ge||oe),action:async()=>{if(ae)if(pe){"success"===(await x().callApi({eventName:"disconnectSlackIngestion",environment:R,data:{spaceId:ae,disconnectForWorkspace:!1}})).type&&se((e=>e.filter((e=>"slack"!==e)))),(0,L().u4)({environment:R,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"disconnect_private_slack",integration_type:"slack",setup_session_id:X,from:c||re}}})}else{const e=await x().callApi({eventName:"getSlackIngestionAuthorizeUrl",environment:R,data:{spaceId:ae,isAdminAuth:!1,isDesktopApp:R.device.isElectron}});"success"===e.type&&window.open(e.data.url,"_blank"),(0,L().u4)({environment:R,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"connect_private_slack",integration_type:"slack",setup_session_id:X,from:c||re}}})}}},{key:"slack-overwrite-email",label:(0,d.jsx)(b().sA,{id:"assistantOverflowMenu.slackIngestion.overWriteEmail",defaultMessage:"Log in to Slack"}),caption:(0,d.jsx)(b().sA,{id:"assistantOverflowMenu.slackIngestion.overWriteEmailCaption",defaultMessage:"We couldn't verify your Slack e-mail. Click to authenticate."}),icon:p(H.icon),disabled:!1,connected:pe,hidden:!!de||(!$||le),action:async()=>{if(!ae)return;(0,L().u4)({environment:R,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"connect_slack_user_mapping",integration_type:"slack",setup_session_id:X,from:c||re}}});const e=await x().callApi({eventName:"getSlackIngestionAuthorizeUrl",environment:R,data:{spaceId:ae,isAdminAuth:!1,isDesktopApp:R.device.isElectron,isUserMapping:!0,sessionId:X}});"success"===e.type&&(R.device.isElectron?S().openExternalUrl(e.data.url):await j().P(R,{width:800,height:600,url:e.data.url,titleMessage:U.userOverwritePopupTitle}))}},{key:"slack-overwrite-email-logout",label:(0,d.jsx)(b().sA,{id:"assistantOverflowMenu.slackIngestion.overWriteEmailLogout",defaultMessage:"Disconnect your account"}),caption:(0,d.jsx)(d.Fragment,{}),icon:(0,f().I)(H.icon),disabled:!1,connected:!1,hidden:!!de||!ie.includes("slack-user-mapping"),action:async()=>{if(!ae)return;null==t||t.close();const{accept:e}=await A().Gh({message:(0,d.jsxs)(T().wt,{gap:8,children:[(0,d.jsx)("div",{style:{fontWeight:y().Wy.semibold,fontSize:18},children:(0,d.jsx)(b().sA,{id:"universalQna.slackChannelSelection.disconnectOverwriteHeader",defaultMessage:"Are you sure?"})}),(0,d.jsx)("div",{style:{fontWeight:y().Wy.regular},children:(0,d.jsx)(b().sA,{id:"universalQna.slackChannelSelection.disconnectOverwriteNote1",defaultMessage:"Your Slack data will be permanently deleted from Notion."})}),(0,d.jsx)("div",{style:{fontWeight:y().Wy.regular},children:(0,d.jsx)(b().sA,{id:"universalQna.slackChannelSelection.disconnectOverwriteNote2",defaultMessage:"This process can take up to 3 hours, and you'll only be able to reconnect after disconnecting is complete."})})]}),acceptLabel:(0,d.jsx)(b().sA,{id:"universalQna.slackChannelSelection.disconnectButtonLabel",defaultMessage:"Disconnect Slack"})});e&&((0,L().u4)({environment:R,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"slack_user_mapping_disconnect",integration_type:"slack",setup_session_id:X,from:c||re}}}),await x().callApi({eventName:"disconnectSlackIngestion",environment:R,data:{spaceId:ae,disconnectUserMapping:!0}}))}}]).filter((e=>!e.hidden)).map((e=>{let{key:n,label:i,caption:s,icon:a,disabled:o,connected:r,action:l}=e;return{key:n,action:async()=>{await l(),null==t||t.close()},render:e=>(0,d.jsx)(M().A,{...e,title:(0,d.jsxs)(T().Ye,{gap:4,children:[(0,d.jsx)("div",{style:H.iconWrapper,children:a}),(0,d.jsxs)("div",{style:H.option,children:[(0,d.jsx)("div",{style:o?H.disabledOptionLabel:H.optionLabel,children:i}),(0,d.jsx)("div",{style:H.caption,children:s})]})]}),right:r&&u({width:12,height:12}),disabled:o})}}))}];return q||!ie.includes("slack-admin")||!G||J||oe||me.push({key:"slack-settings-section",render:e=>(0,d.jsx)(I().A,{...e,topBorder:!0}),items:[{key:"slack-settings",action:()=>{ae&&(N().R.setState({...N().R.state,currentScreen:"settings"}),null==t||t.close())},render:e=>(0,d.jsx)(M().A,{...e,title:(0,d.jsxs)(T().Ye,{gap:4,children:[(0,d.jsx)("div",{style:H.iconWrapper,children:(0,h().B)(H.icon)}),(0,d.jsx)("div",{style:H.option,children:(0,d.jsx)("div",{style:H.optionLabel,children:(0,d.jsx)(b().sA,{id:"assistantOverflowMenu.slackIngestion.settings",defaultMessage:"Settings"})})})]})})}]}),(0,d.jsx)(C().A,{menuType:B().gu.Popup,width:230,children:Z?(0,d.jsx)(T().Ye,{style:{padding:8,justifyContent:"center"},children:(0,d.jsx)(k().A,{})}):(0,d.jsx)(w().Ay,{type:w().Oh.Vertical,sections:me,initialFocus:void 0})})}function E(e,n,t,i){return t||n||!e.includes("slack-admin")?(0,d.jsx)(b().sA,{id:"assistantOverflowMenu.slackIngestion.adminAuth",defaultMessage:"Public conversations"}):i?(0,d.jsx)(b().sA,{id:"assistantOverflowMenu.slackIngestion.noWorkspacesSelected",defaultMessage:"No workspaces selected"}):(0,d.jsx)(b().sA,{id:"assistantOverflowMenu.slackIngestion.noChannelsSelected",defaultMessage:"No channels selected"})}function z(e,n,t,i,s){return e?i?(0,d.jsx)(b().sA,{id:"assistantOverflowMenu.slackIngestion.disconnectingPublicSlack",defaultMessage:"Disconnecting. This can take up to 3 hours."}):t?(0,d.jsx)(b().sA,{id:"assistantOverflowMenu.slackIngestion.connectingPublicSlack",defaultMessage:"Connecting. This can take up to 36 hours."}):n.includes("slack-admin")?s?(0,d.jsx)(b().sA,{id:"assistantOverflowMenu.slackIngestion.connectedByWorkspaceOwner",defaultMessage:"Connected by workspace owner"}):(0,d.jsx)(b().sA,{id:"assistantOverflowMenu.slackIngestion.selectChannels",defaultMessage:"Your workspace owner hasn't completed the setup."}):(0,d.jsx)(b().sA,{id:"assistantOverflowMenu.slackIngestion.connectSlackToEnhanceResults",defaultMessage:"Connect to enhance your AI results"}):n.includes("slack-admin")?s?(0,d.jsx)(b().sA,{id:"assistantOverflowMenu.slackIngestion.connectedByWorkspaceOwner",defaultMessage:"Connected by workspace owner"}):t?(0,d.jsx)(b().sA,{id:"assistantOverflowMenu.slackIngestion.connectingPublicSlack",defaultMessage:"Connecting. This can take up to 36 hours."}):(0,d.jsx)(b().sA,{id:"assistantOverflowMenu.slackIngestion.selectChannels",defaultMessage:"Your workspace owner hasn't completed the setup."}):(0,d.jsx)(b().sA,{id:"assistantOverflowMenu.slackIngestion.contactAdmin",defaultMessage:"Contact your workspace owner to connect"})}},159448:(e,n,t)=>{t.d(n,{lh:()=>o().l,bw:()=>c,UL:()=>S,lI:()=>M,IU:()=>C,g4:()=>A().g,Wo:()=>k().W,EF:()=>w().E,o2:()=>I().o});var i=()=>t(237385),s=()=>t(162901),a=()=>t(818369);var o=()=>t(898055),r=()=>t(803290),l=()=>t(669199);function c(e){return(0,r().K8)((()=>(0,l().eJ)({billingData:e})),[e])}var d=t(242343),u=()=>t(331863),p=()=>t(395665),g=()=>t(997310),m=()=>t(647242),h=()=>t(548694),f=()=>t(863969),v=()=>t(153642),b=()=>t(485966),y=()=>t(670682),x=()=>t(764227),A=()=>t(967010);function S(e){const n=(0,i().v3)(),[t,s]=(0,d.useState)(!1),o=function(e){const n=(0,A().g)("ai_fifty_percent_upgrade"),t=(0,f().O)(),i=(0,y().f_)({spaceId:t}),s=(0,m().eh)(i,"ai"),a=(0,v().V)();return(0,r().K8)((()=>{const t=n&&!s&&(0,x().wb)()&&1===a,i=(0,h().aB)(b().default.state.currentSpaceStore);return Boolean(t&&(!i||"sidebar"!==e||i>=7))}),[n,s,a,e])}(e),l=(0,g().r)(),c=(0,r().K8)((()=>null==l?void 0:l.canAdmin()),[l]),S=(0,r().K8)((()=>null==l?void 0:l.getSpaceId()),[l]);return(0,d.useEffect)((()=>{!async function(){if(o&&S&&c)try{const t=await a().callApi({eventName:"getCustomerOffer",environment:n,data:{spaceId:S,offerCampaign:"ai_fifty_percent_upgrade"}});if("failed"===t.type)return;if("offer"in t.data){var e;const n=(0,u().RS)(null===(e=t.data)||void 0===e?void 0:e.offer);s((0,p().J5)(n))}}catch(t){return}}()}),[n,o,S,c]),t}var j=()=>t(167532),_=()=>t(320168);function M(e){let{spaceId:n}=e;const t=(0,i().v3)(),s=(0,j().J)();return(0,r().K8)((()=>{if(!n||!s)return;const e=_().A.getData(t,{spaceId:n});return null==e?void 0:e.billingData}),[t,n,s])}var k=()=>t(653928);function C(e,n){const t=(0,r().O$)(e),i=(0,v().V)()??1,c=(0,f().O)(),d=(0,o().l)({spaceId:c}),u=(0,r().K8)((()=>(0,l().eJ)({billingData:d})),[d]),[{value:p}]=(0,s().Yb)((()=>a().callApi({eventName:"isEmailEducation",environment:n,data:{}})),[n]);return!!p&&("failed"!==p.type&&(!!p.data.isEligible&&(!!t&&(!!d&&(!Boolean((0,m().KH)(d,"plan"))&&(u&&1===i))))))}var w=()=>t(499104),I=()=>t(338578)},162883:(e,n,t)=>{t.d(n,{G:()=>i});const i=(0,t(680369).xh)("questionMarkCircled",{default:{loader:()=>t.e(35839).then(t.bind(t,701524))},small:{loader:()=>t.e(83633).then(t.bind(t,310618))},mini:{loader:()=>t.e(58431).then(t.bind(t,935828))},large:{loader:()=>t.e(38405).then(t.bind(t,139982))}})},185807:(e,n,t)=>{t.d(n,{fT:()=>C,lZ:()=>B,pq:()=>A});t(403517),t(242343);var i=()=>t(237385),s=()=>t(174114),a=()=>t(162883),o=()=>t(101017),r=()=>t(653998),l=()=>t(421338),c=()=>t(126451),d=()=>t(356813),u=()=>t(286404),p=()=>t(103151),g=()=>t(206799),m=()=>t(701270),h=t(163643);const f=(0,r().YK)({learnMore:{id:"banner.learnMore",defaultMessage:"Learn more"}}),v={red:"uiRedPrimary",yellow:"uiYellowPrimary",blue:"uiBluePrimary",gray:"secondary"},b={red:"uiRedSecondary",yellow:"uiYellowSecondary",blue:"uiBlueSecondary",gray:"secondary"},y={red:"uiRedPrimary",yellow:"uiYellowPrimary",blue:"uiBluePrimary",gray:"secondary"},x={red:e=>e.tint.uiRed,yellow:e=>e.tint.uiYellow,blue:e=>e.tint.uiBlue,gray:e=>e.surface.wash},A={red:e=>e.text.uiRedPrimary,blue:e=>e.text.uiBluePrimary,yellow:e=>e.text.uiYellowPrimary,gray:e=>"dark"===e.mode?e.text.primary:e.text.secondary},S={red:e=>e.icon.uiRedSecondary,blue:e=>e.icon.uiBlueSecondary,yellow:e=>e.icon.uiYellowSecondary,gray:e=>"dark"===e.mode?e.text.secondary:e.text.quaternary};function j(e){return(0,s().IS)((n=>({container:{backgroundColor:x[e](n),padding:"8px 12px"},content:{color:A[e](n)},learnMoreIcon:{fill:A[e](n)},titleIcon:{marginRight:8}})),[e])}function _(e){const{onDismiss:n,tint:t}=e;return n?(0,h.jsx)(c().A,{onClick:n,style:{width:20,height:20},children:(0,h.jsx)(g().Q,{iconGroup:o().Q,variantName:"default",colorName:y[t]})}):(0,h.jsx)("div",{})}function M(e){const{tint:n,iconGroup:t,style:i}=e;return t?(0,h.jsx)(g().Q,{iconGroup:t,variantName:"small",colorName:v[n],style:i}):null}function k(e){const{tint:n,iconGroup:t}=e;return t?(0,h.jsx)(g().Q,{iconGroup:t,variantName:"small",colorName:b[n]}):null}function C(e){const{tint:n,action:t}=e,{label:i,onClick:a,iconGroup:o}=t,r=(0,s().IS)((e=>({button:{color:A[n](e),borderWidth:1,borderStyle:"solid",borderColor:S[n](e),padding:o?"4px 10px 4px 8px":"4px 8px",height:"unset",gap:o&&4},buttonContent:{display:"flex",flexDirection:"row",alignItems:"center"}})),[n,o]);return(0,h.jsx)(u().A,{size:"lg",icon:()=>(0,h.jsx)(k,{iconGroup:o,tint:n}),onClick:a,buttonStyle:r.button,children:(0,h.jsx)(m().D,{styleName:"UIRegular-14px/Medium",customStyles:r.buttonContent,children:i})})}function w(e){const{label:n,iconGroup:t,tint:i,onDismiss:s,actions:o,onLearnMoreClick:c}=e,u=j(i),p=(0,r().tz)();return(0,h.jsxs)(l().Y1,{style:u.container,gap:"auto",direction:"horizontal",align:"center",width:"fill",children:[(0,h.jsxs)(l().Y1,{style:u.content,direction:"horizontal",align:"center",width:"hug",children:[(0,h.jsx)(M,{tint:i,iconGroup:t,style:u.titleIcon}),(0,h.jsx)(m().D,{styleName:"UIRegular-14px/Medium",children:n}),c&&(0,h.jsx)(d().A,{onClick:c,icon:()=>(0,h.jsx)(g().Q,{iconGroup:a().G,variantName:"large",colorName:"secondary",style:u.learnMoreIcon}),ariaLabel:p.formatMessage(f.learnMore)})]}),(0,h.jsxs)(l().Y1,{direction:"horizontal",align:"center-right",gap:12,children:[(0,h.jsx)(l().Y1,{direction:"horizontal",align:"center",gap:8,width:"hug",children:null==o?void 0:o.map(((e,n)=>e.isCustom?e.render():(0,h.jsx)(C,{tint:i,action:e},n)))}),(0,h.jsx)(_,{tint:i,onDismiss:s})]})]})}function I(e){const{label:n,iconGroup:t,staticIcon:i,tint:s,onDismiss:o,actions:c,onLearnMoreClick:u}=e,v=j(s),b=(0,r().tz)(),y=t?(0,h.jsx)(M,{tint:s,iconGroup:t,style:v.titleIcon}):i;return(0,h.jsxs)(l().Y1,{style:v.container,gap:"auto",direction:"horizontal",align:"center",children:[(0,h.jsx)("div",{}),(0,h.jsxs)(l().Y1,{style:v.content,direction:"horizontal",align:"center",width:"hug",gap:24,children:[(0,h.jsxs)(l().Y1,{direction:"horizontal",align:"center",width:"hug",children:[y,(0,h.jsx)(m().D,{styleName:"UIRegular-14px/Medium",children:n}),u&&(0,h.jsx)(p().A,{renderTooltip:()=>b.formatMessage(f.learnMore),render:e=>(0,h.jsx)(d().A,{onClick:u,icon:()=>(0,h.jsx)(g().Q,{iconGroup:a().G,variantName:"large",colorName:"secondary",style:v.learnMoreIcon}),ariaLabel:b.formatMessage(f.learnMore),...e})})]}),(0,h.jsx)(l().Y1,{direction:"horizontal",gap:8,width:"hug",children:null==c?void 0:c.map(((e,n)=>e.isCustom?e.render():(0,h.jsx)(C,{tint:s,action:e},n)))})]}),(0,h.jsx)(_,{tint:s,onDismiss:o})]})}function T(e){const{label:n,description:t,iconGroup:i,staticIcon:a,tint:o,onDismiss:r,actions:c}=e,d=(0,s().IS)((e=>({container:{backgroundColor:x[o](e),padding:16,borderRadius:8},content:{color:A[o](e)},iconContainer:{height:20,display:"flex",alignItems:"center",justifyContent:"center"}})),[o]),u=i?(0,h.jsx)(M,{tint:o,iconGroup:i}):a;return(0,h.jsxs)(l().Y1,{style:d.container,gap:8,direction:"horizontal",children:[u?(0,h.jsx)("div",{style:d.iconContainer,children:u}):null,(0,h.jsxs)(l().Y1,{style:d.content,gap:8,children:[(0,h.jsxs)(l().Y1,{gap:4,children:[(0,h.jsx)(m().D,{styleName:"UIRegular-14px/Medium",colorName:"gray"===o?"primary":void 0,children:n}),(0,h.jsx)(m().D,{styleName:"UIRegular-14px/Regular",children:t})]}),c?(0,h.jsx)(l().Y1,{direction:"horizontal",gap:8,children:null==c?void 0:c.map(((e,n)=>e.isCustom?e.render():(0,h.jsx)(C,{tint:o,action:e},n)))}):null]}),(0,h.jsx)(_,{tint:o,onDismiss:r})]})}function L(e){const{tint:n,onDismiss:t,content:i}=e,s=j(n);return(0,h.jsxs)(l().Y1,{style:s.container,align:"center",gap:8,direction:"horizontal",children:[(0,h.jsx)("div",{style:{flex:1,...s.content},children:i}),(0,h.jsx)(_,{tint:n,onDismiss:t})]})}function B(e){const{display:n}=e,t=(0,i().v3)();switch(n){case"inline":return(0,h.jsx)(T,{...e});case"full-width":return t.device.isMobile?(0,h.jsx)(w,{...e}):(0,h.jsx)(I,{...e});case"full-width-no-content":return(0,h.jsx)(L,{...e})}return(0,h.jsx)(h.Fragment,{})}},220549:(e,n,t)=>{t.d(n,{J7:()=>a,V9:()=>l,XF:()=>c,tk:()=>o,tz:()=>r});t(403517);var i=()=>t(486826);const s={0:"onboardingIntro",1:"intro",3:"inviteMembers",5:"connectWorkspace",8:"createTeamspaces",11:"verifyPages",14:"samlSSO",17:"storeRecords",20:"notionAi"},a=Object.fromEntries((0,t(76394).WP)(s).map((e=>{let[n,t]=e;return[t,Number(n)]})));function o(e){if(e in s)return s[e]}function r(e,n,t){const s=i().c9.fromMillis(e.endDateMs),a=t??i().c9.now();return a<s&&s.diff(a).as("days")<=n}function l(e,n){const t=i().c9.fromMillis(e.endDateMs);return(n??i().c9.now())>t}function c(e,n){const t=i().c9.fromMillis(e.endDateMs);return(n??i().c9.now()).hasSame(t,"day")}},241461:(e,n,t)=>{t.d(n,{c:()=>K,M:()=>q});t(362833),t(725707),t(491955),t(403517);var i=t(242343),s=()=>t(237385),a=()=>t(803290),o=()=>t(174114),r=t(163643);const l={viewBox:"0 0 21 20",svg:(0,r.jsx)("path",{d:"m4.004 10.548.76-.76A.875.875 0 1 1 6 11.025l-2.254 2.254a.875.875 0 0 1-1.237 0L.256 11.025a.875.875 0 0 1 1.238-1.237l.76.76V10a7.875 7.875 0 0 1 13.234-5.77.875.875 0 0 1-1.192 1.281A6.125 6.125 0 0 0 4.003 10zm14-1.096.76.76A.875.875 0 1 0 20 8.976l-2.254-2.254a.875.875 0 0 0-1.237 0l-2.254 2.254a.875.875 0 0 0 1.238 1.238l.76-.76V10A6.125 6.125 0 0 1 5.96 14.489a.875.875 0 1 0-1.19 1.282A7.875 7.875 0 0 0 18.004 10z"})},c=(0,t(680369).wt)("arrowCircleLoopFill",l);var d=()=>t(55813),u=()=>t(653998),p=()=>t(76394),g=()=>t(31448),m=()=>t(117751),h=()=>t(194568),f=()=>t(847723),v=()=>t(209684),b=()=>t(286270),y=()=>t(884373),x=()=>t(397791),A=()=>t(286404),S=()=>t(443252),j=()=>t(951540),_=()=>t(610271),M=()=>t(393728),k=()=>t(65062),C=()=>t(477784),w=()=>t(863969),I=()=>t(167532),T=()=>t(907721),L=()=>t(466321),B=()=>t(485966),D=()=>t(741329),P=()=>t(688522),O=()=>t(253619),W=()=>t(222324),F=()=>t(108797),N=()=>t(137476),U=()=>t(330469);const R=(0,u().YK)({mobileNotAvailable:{id:"jiraAIConnector.mobileNotAvailable",defaultMessage:"Not available on mobile"}});function E(){const e=(0,w().O)(),n=(0,s().v3)(),{isMobile:t}=(0,s().Y0)(),i="chat_menu",a=(0,o().IS)((e=>({actionRequiredPopupIconStyle:{width:t?18:16,height:t?18:16,fill:e.icon.orangePrimary},connectionStatusHeader:{fontSize:t?g().J.UIRegular.mobile:g().J.UIRegular.desktop,fontWeight:g().Wy.regular,lineHeight:t?g().K_.UIRegular.mobile:g().K_.UIRegular.desktop,textAlign:"left"},connectionStatusCaption:{fontSize:t?g().J.UISmall.mobile:g().J.UISmall.desktop,fontWeight:g().Wy.regular,lineHeight:t?g().K_.UISmall.mobile:g().K_.UISmall.desktop,color:e.text.secondary,textAlign:"left"},actionButton:{fontSize:t?g().J.UIRegular.mobile:g().J.UIRegular.desktop,fontWeight:g().Wy.medium,lineHeight:t?g().K_.UIRegular.mobile:g().K_.UIRegular.desktop,display:"flex",alignItems:"center",maxWidth:97,maxHeight:28,borderRadius:6,gap:3,border:"dark"===e.mode?`1px solid ${e.accentColors.gray[700]}`:`1px solid ${e.accentColors.gray[200]}`,marginTop:6},popupBlock:{paddingBottom:3},iconDivStyles:{paddingTop:1}})),[t]);return(0,r.jsxs)(_().Ye,{gap:8,style:a.popupBlock,children:[(0,r.jsx)("div",{style:a.iconDivStyles,children:(0,W().f)(a.actionRequiredPopupIconStyle)}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:a.connectionStatusHeader,children:(0,r.jsx)(u().sA,{id:"assistantChat.ingestion.jiraConnectionPendingStatusConfirmation",defaultMessage:"Confirm Jira Connection"})}),(0,r.jsx)("div",{style:a.connectionStatusCaption,children:(0,r.jsx)(u().sA,{id:"assistantChat.ingestion.jiraConnectionPendingStatusConfirmationDescription",defaultMessage:"We need more information before starting your jira connection"})}),(0,r.jsx)(_().Ye,{gap:8,children:t?(0,r.jsx)("div",{style:a.connectionStatusCaption,children:(0,r.jsx)(u().sA,{...R.mobileNotAvailable})}):(0,r.jsx)(A().A,{size:"lg",style:a.actionButton,onClick:()=>{e&&((0,N().u4)({environment:n,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"user_jira_resume_pending_connection",integration_type:"jira",setup_session_id:U().y.state.sessionId,from:i}}}),(0,F().navigateToAIConnectorOnboarding)({connector:"jira",analyticsFrom:i,sessionId:U().y.state.sessionId}))},children:(0,r.jsx)(u().sA,{id:"assistantChat.ingestion.ctaForJira",defaultMessage:"Finish setup"})})})]})]})}const z=(0,u().YK)({actionRequiredLabel:{id:"assistantChat.ingestion.actionRequiredButton",defaultMessage:"Action required"},syncingLabel:{id:"assistantChat.ingestion.syncingButton",defaultMessage:"Syncing"},mobileNotAvailable:{id:"assistantChat.ingestion.actionMenuNotAvailable",defaultMessage:"Access Notion on desktop to fix this issue."},disconnectingPopupTitle:{id:"assistantChat.ingestion.disconnectingPopupTitle",defaultMessage:"Disconnecting {appName}"},disconnectingPopupCaption:{id:"assistantChat.ingestion.disconnectingPopupCaption",defaultMessage:"Your workspace owner has disconnected {appName}. This can take up to 3 hours."},connectingPopupTitle:{id:"assistantChat.ingestion.connectingPopupTitle",defaultMessage:"Connecting {appName}"}});function q(e){let{type:n,title:t,caption:i,actionButton:a,onDismiss:l}=e;const{isMobile:p}=(0,s().Y0)(),m=(0,o().IS)((e=>({container:{display:"flex",gap:8,paddingBottom:4},iconContainer:{paddingTop:2},contentContainer:{display:"flex",flexDirection:"column",gap:2},title:{fontSize:p?g().J.UIRegular.mobile:g().J.UIRegular.desktop},caption:{fontSize:p?g().J.UISmall.mobile:g().J.UISmall.desktop,color:e.text.secondary},actionsContainer:{marginTop:6,display:"flex",gap:8}})),[p]),h="error"===n?d().exclamationMarkTriangleFillIcon:c,f=p?(0,r.jsx)("div",{style:m.caption,children:(0,r.jsx)(u().sA,{...z.mobileNotAvailable})}):(0,r.jsxs)(_().Ye,{gap:8,children:[a&&(0,r.jsx)(j().A,{color:"black",size:"sm",onClick:a.onClick,children:a.label}),l&&(0,r.jsx)(A().A,{size:"sm",onClick:l,children:(0,r.jsx)(u().sA,{id:"slackAIConnector.onboarding.dismissUserMappingPrompt",defaultMessage:"Dismiss"})})]});return(0,r.jsxs)(_().Ye,{style:m.container,children:[(0,r.jsx)("div",{style:m.iconContainer,children:(0,r.jsx)(x().I,{icon:h,size:"sm",color:"error"===n?"uiRedPrimary":"uiBluePrimary"})}),(0,r.jsxs)("div",{style:m.contentContainer,children:[(0,r.jsx)("div",{style:m.title,children:t}),(0,r.jsx)("div",{style:m.caption,children:i}),(a||l)&&(0,r.jsx)("div",{style:m.actionsContainer,children:f})]})]})}function K(e){const{tooltipEvents:n}=e,t=C().A.getIntl(),l=(0,s().v3)(),{isMobile:u}=(0,s().Y0)(),g=(0,M().jw)().isType("fullPage"),m=(0,I().J)(),h=(0,a().O$)(B().AppStoreCurrentSpaceViewStore),f=(0,a().K8)((()=>(0,D().kB)()),[]),[x,A]=(0,i.useState)([]),j=(0,i.useCallback)((e=>{A((n=>[...n,e]))}),[]),_=(0,a().K8)((()=>k()._1.filter((e=>{return"slack_select_channels"!==e&&("sharepoint_select_sites"!==e&&("slack_re_auth"===e?null==h||null===(n=h.getSettings())||void 0===n?void 0:n.dismissed_slack_personal_auth_prompt:"github_re_auth"===e?null==h||null===(t=h.getSettings())||void 0===t?void 0:t.dismissed_github_personal_auth_prompt:"jira_connection_pending"===e?null==h||null===(i=h.getSettings())||void 0===i?void 0:i.dismissed_jira_installation_pending_prompt:void(0,p().HB)(e)));var n,t,i}))),[h]),w=(0,a().K8)((()=>{const e=[];for(const n of f){const t=(0,k().G9)(n,m);for(const i of t)x.includes(i.type)||_.includes(i.type)||e.push({connector:n,type:"action_required",action:i})}return e}),[f,m,x,_]),P=w.length>0,O=(0,a().K8)((()=>{const e=[];for(const n of f){const t=(0,k().LT)(n);t.isInProgress&&e.push({connector:n,type:"in_progress",ingestionProgress:t.ingestionProgress})}return e}),[f]),W=(0,a().K8)((()=>{const e=[];for(const n of f){(0,k().$t)(n)&&e.push({connector:n,type:"disconnecting"})}return e}),[f]),F=(0,i.useMemo)((()=>[...w,...O,...W]),[w,O,W]),[N,U]=(0,i.useState)(!1);(0,i.useEffect)((()=>{setTimeout((()=>{u||U(P)}),1e3)}),[u,P]);const R=(0,i.useCallback)((()=>{U(!1)}),[]),E=(0,o().IS)((e=>({popupStyle:{minWidth:250},popupContainer:{display:"flex",flexDirection:"column",gap:2,paddingLeft:12,paddingTop:8,paddingRight:10,paddingBottom:8,maxWidth:u?void 0:250,maxHeight:400,overflowY:"scroll"}})),[u]);return 0===F.length?null:(0,r.jsx)(S().Ay,{popupType:l.device.isMobile?L().n.BottomSheet:L().n.Popup,originGap:6,alignmentToOrigin:T().C.Center,open:N,onDismiss:()=>{U(!1)},placementToOrigin:g?T().W.Bottom:T().W.Top,borderRadius:6,trapFocus:!1,render:()=>(0,r.jsx)("div",{style:E.popupContainer,children:F.map(((e,n)=>(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(Y,{notification:e,hideNotification:j,minimizePopup:R}),n!==F.length-1&&(0,r.jsx)(y().A,{size:14,isHidden:!1})]},n)))}),origin:g?(0,r.jsx)(b().E,{size:"xxs",...n,icon:P?d().exclamationMarkTriangleFillIcon:c,color:P?"uiRed":"uiBlue",onClick:()=>{U(!0)},children:P?C().A.formatMessage(z.actionRequiredLabel):C().A.formatMessage(z.syncingLabel)}):(0,r.jsx)(v().p,{...n,size:"sm",icon:P?d().exclamationMarkTriangleFillIcon:c,isRed:P,isBlue:!P,ariaLabel:t.formatMessage({id:"assistantChat.ingestion.viewConnectionStatusAriaLabel",defaultMessage:"View connection status"}),onClick:()=>{U(!0)}}),style:E.popupStyle})}function Y(e){const{notification:n,hideNotification:t,minimizePopup:i}=e;if("action_required"===n.type){if("slack_select_channels"===n.action.type)return(0,r.jsx)(Q,{});if("sharepoint_select_sites"===n.action.type)return(0,r.jsx)(J,{});if("slack_re_auth"===n.action.type)return(0,r.jsx)(V,{hideNotification:t});if("github_re_auth"===n.action.type)return(0,r.jsx)(O().A,{minimizePopup:i,hideNotification:t,showDismiss:!0});if("jira_connection_pending"===n.action.type)return(0,r.jsx)(E,{});(0,p().HB)(n.action)}else{if("in_progress"===n.type){const{connector:e,ingestionProgress:t}=n;return(0,r.jsx)(G,{connection:e,ingestionProgress:t,time:f().fQ[e]})}if("disconnecting"===n.type){const{connector:e}=n;return(0,r.jsx)(H,{connection:e})}(0,p().HB)(n)}}function G(e){const{connection:n,time:t,ingestionProgress:i}=e,s=h().w0[n],a=i?(0,r.jsx)(u().sA,{id:"assistantChat.ingestion.textWithProgress",defaultMessage:"This can take up to 36h{br}{ingestionProgress}% done",values:{ingestionProgress:i,br:(0,r.jsx)("br",{})}}):(0,r.jsx)(u().sA,{id:"assistantChat.ingestion.textWithoutProgress",defaultMessage:"This can take up to {time}h",values:{time:t||36}});return(0,r.jsx)(q,{type:"progress",title:(0,r.jsx)(u().sA,{...z.connectingPopupTitle,values:{appName:s}}),caption:a})}function H(e){const{connection:n}=e,t=h().w0[n];return(0,r.jsx)(q,{type:"disconnecting",title:(0,r.jsx)(u().sA,{...z.disconnectingPopupTitle,values:{appName:t}}),caption:(0,r.jsx)(u().sA,{...z.disconnectingPopupCaption,values:{appName:t}})})}function Q(){return(0,r.jsx)(q,{type:"error",title:(0,r.jsx)(u().sA,{id:"assistantChat.ingestion.connectionStatusActionRequired",defaultMessage:"No Slack channels selected"}),caption:(0,r.jsx)(u().sA,{id:"assistantChat.ingestion.connectionStatusActionRequiredCaption",defaultMessage:"Click to confirm channels or disconnect"}),actionButton:{label:(0,r.jsx)(u().sA,{id:"assistantChat.ingestion.slackActionRequiredButton",defaultMessage:"Finish setup"}),onClick:()=>{m().nh()}}})}function J(){return(0,r.jsx)(q,{type:"error",title:(0,r.jsx)(u().sA,{id:"assistantChat.ingestion.sharepointConnectionStatusActionRequired",defaultMessage:"No SharePoint sites selected"}),caption:(0,r.jsx)(u().sA,{id:"assistantChat.ingestion.sharepointConnectionStatusActionRequiredCaption",defaultMessage:"Click to select sites"}),actionButton:{label:(0,r.jsx)(u().sA,{id:"assistantChat.ingestion.sharepointActionRequiredButton",defaultMessage:"Select sites"}),onClick:()=>{m().oz()}}})}function V(e){const{hideNotification:n}=e,t=(0,s().v3)(),i=(0,w().O)(),o=(0,a().O$)(B().AppStoreCurrentSpaceViewStore);return o&&i?(0,r.jsx)(q,{type:"error",title:(0,r.jsx)(u().sA,{id:"assistantChat.ingestion.connectionStatusActionRequiredForLogin",defaultMessage:"Log in to Slack"}),caption:(0,r.jsx)(u().sA,{id:"assistantChat.ingestion.connectionStatusActionRequiredCaptionForLogin",defaultMessage:"We couldnâ€™t verify your slack e-mail. Authenticate to proceed."}),actionButton:{label:(0,r.jsx)(u().sA,{id:"assistantChat.ingestion.slackActionRequiredButtonForLogin",defaultMessage:"Log in"}),onClick:()=>{n("slack_re_auth"),m().yE({environment:t,spaceId:i,analyticsProperties:{analyticsFrom:P().R.state.analyticsFrom,buttonName:"connect_slack_user_mapping",sessionId:P().R.state.sessionId}})}},onDismiss:()=>{m().R2({environment:t,currentSpaceViewStore:o,analyticsProperties:{analyticsFrom:P().R.state.analyticsFrom,buttonName:"dismiss_connect_slack_user_mapping",sessionId:P().R.state.sessionId}})}}):null}},253619:(e,n,t)=>{t.d(n,{A:()=>p});var i=t(242343),s=()=>t(237385),a=()=>t(803290),o=()=>t(653998),r=()=>t(84543),l=()=>t(137476),c=()=>t(980936),d=()=>t(485966),u=t(163643);const p=function(e){var n;let{showDismiss:p,parent:g,minimizePopup:m,hideNotification:h}=e;const[f,v]=(0,i.useState)(!1),b=(0,a().K8)((()=>c().o.state),[]),y=(0,t(863969).O)(),x=(0,s().v3)(),A=(0,a().K8)((()=>d().default.state.currentUserSettingsStore),[]),{isMobile:S}=(0,s().Y0)(),j=(0,a().O$)(d().AppStoreCurrentSpaceViewStore),_=(0,i.useCallback)((()=>{A&&j&&r().createAndCommit({userAction:"githubAIConnector.onboarding.dismissPersonalAuthPrompt",environment:x,canUndo:!0,perform:e=>{r().applyOperation({store:j,operation:{pointer:j.pointer,path:["settings"],command:"update",args:{...j.getSettings(),dismissed_github_personal_auth_prompt:!0}},transaction:e})}})}),[A,j,x]),M=(0,i.useCallback)((()=>{(0,l().u4)({environment:x,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"user_auth_dismiss",integration_type:"github",setup_session_id:c().o.state.sessionId,from:"connect_nudge"}}}),c().o.setState({...b,forceShowGithubAuthNotificationTriggeredAt:void 0}),_()}),[_,x,b]),k=p?"connect_nudge":"chat_menu";(0,t(269280).l)((()=>{(0,l().u4)({environment:x,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"show_github_personal_auth_prompt",integration_type:"github",setup_session_id:c().o.state.sessionId,from:k}}})}));const C=S?void 0:{label:(0,u.jsx)(o().sA,{id:"assistantChat.ingestion.ctaForGithubPersonalAuth",defaultMessage:"Log in"}),onClick:async()=>{if(!y)return;const e=Boolean(b.forceShowGithubAuthNotificationTriggeredAt);c().o.setState({...b,analyticsFrom:k,forceShowGithubAuthNotificationTriggeredAt:void 0}),e||null==h||h("github_re_auth"),v(!0),await t(117751).pd({environment:x,spaceId:y,analyticsProperties:{buttonName:"user_auth_connect",analyticsFrom:k},onAuthSuccess:()=>{null==g||g.close(),null==m||m()}}),v(!1)},disabled:f};return(0,u.jsx)(t(241461).M,{type:"error",title:(0,u.jsx)(o().sA,{id:"assistantChat.ingestion.githubConnectionStatusActionRequiredForLogin",defaultMessage:"Log in to GitHub"}),caption:(0,u.jsx)(o().sA,{id:"assistantChat.ingestion.githubConnectionStatusActionRequiredForLoginDescription",defaultMessage:"Authenticate to get answers from repositories in {githubOrgName}",values:{githubOrgName:null===(n=b.githubOrg)||void 0===n?void 0:n.name}}),actionButton:C,onDismiss:p?M:void 0})}},258813:(e,n,t)=>{t.d(n,{f:()=>a});t(242343);var i=()=>t(174114),s=t(163643);function a(e){const n=(0,i().IS)((e=>({assistantBlueLink:{color:e.text.uiBluePrimary,cursor:"pointer",fontWeight:600}})),[]);return(0,s.jsx)("span",{style:n.assistantBlueLink,onClick:e.onClick,children:e.children})}},260773:(e,n,t)=>{t.d(n,{y:()=>s});t(242343);var i=t(163643);const s=(0,t(680369).wt)("sync",{viewBox:"0 0 21 21",svg:(0,i.jsx)("path",{d:"M10.4913 20.6992C9.12373 20.6992 7.83685 20.4378 6.63059 19.9151C5.42433 19.3988 4.35999 18.6792 3.43755 17.7563C2.52157 16.8335 1.80233 15.7686 1.27984 14.5618C0.757342 13.3549 0.496094 12.0674 0.496094 10.6992C0.496094 9.33103 0.757342 8.04352 1.27984 6.83668C1.80233 5.62984 2.52157 4.56821 3.43755 3.65178C4.35999 2.72891 5.42111 2.00609 6.62091 1.48334C7.82717 0.960593 9.11406 0.699219 10.4816 0.699219C11.8556 0.699219 13.1457 0.960593 14.3519 1.48334C15.5582 2.00609 16.6225 2.72891 17.545 3.65178C18.4674 4.56821 19.1899 5.62984 19.7124 6.83668C20.2348 8.04352 20.4961 9.33103 20.4961 10.6992C20.4961 12.0674 20.2348 13.3549 19.7124 14.5618C19.1899 15.7686 18.4674 16.8335 17.545 17.7563C16.6225 18.6792 15.5582 19.3988 14.3519 19.9151C13.1457 20.4378 11.8588 20.6992 10.4913 20.6992ZM10.53 16.1784C11.1363 16.1784 11.7201 16.0848 12.2813 15.8977C12.8425 15.7105 13.3295 15.4524 13.7423 15.1232C13.9939 14.9232 14.1455 14.7005 14.1971 14.4553C14.2552 14.21 14.1971 13.9906 14.0229 13.797C13.8552 13.5969 13.6585 13.4937 13.4327 13.4872C13.2069 13.4808 12.9812 13.555 12.7554 13.7099C12.42 13.968 12.0749 14.1649 11.7201 14.3004C11.3653 14.4295 10.9686 14.494 10.53 14.494C9.91716 14.494 9.34628 14.3714 8.81733 14.1261C8.29484 13.8744 7.84975 13.5356 7.48206 13.1097C7.11438 12.6773 6.85636 12.1868 6.708 11.6382H7.6659C7.91103 11.6382 8.06261 11.5414 8.12067 11.3478C8.18518 11.1542 8.14647 10.9606 8.00456 10.767L6.39837 8.5695C6.25646 8.37589 6.07906 8.27908 5.8662 8.27908C5.65978 8.27263 5.48239 8.36943 5.33402 8.5695L3.74718 10.767C3.61172 10.9606 3.57302 11.1542 3.63107 11.3478C3.68913 11.5414 3.84072 11.6382 4.08584 11.6382H5.0631C5.22436 12.5353 5.55979 13.3259 6.06939 14.01C6.58543 14.6941 7.22727 15.2265 7.99488 15.6073C8.7625 15.988 9.60753 16.1784 10.53 16.1784ZM10.5203 5.19099C9.91393 5.19099 9.33015 5.28457 8.76895 5.47173C8.20775 5.65888 7.72074 5.92026 7.3079 6.25585C7.04988 6.44946 6.89506 6.67211 6.84346 6.92381C6.7983 7.16905 6.85958 7.38525 7.0273 7.5724C7.19501 7.77247 7.39176 7.87895 7.61753 7.89186C7.8433 7.89832 8.06907 7.82087 8.29484 7.65953C8.63027 7.40783 8.97215 7.21745 9.32048 7.08838C9.67526 6.95285 10.0752 6.88509 10.5203 6.88509C11.1331 6.88509 11.7007 7.01093 12.2232 7.26263C12.7457 7.50787 13.1908 7.84669 13.5585 8.27908C13.9262 8.70503 14.1842 9.19228 14.3326 9.74084H13.336C13.0844 9.74084 12.9296 9.83765 12.8715 10.0313C12.8135 10.2249 12.8554 10.4153 12.9973 10.6024L14.6035 12.8096C14.739 12.9967 14.9131 13.0935 15.126 13.1C15.3389 13.1064 15.5195 13.0096 15.6678 12.8096L17.2547 10.6024C17.3901 10.4088 17.4288 10.2184 17.3708 10.0313C17.3192 9.83765 17.1676 9.74084 16.916 9.74084H15.9871C15.8259 8.84378 15.4872 8.05643 14.9712 7.37879C14.4616 6.6947 13.823 6.15904 13.0554 5.77182C12.2877 5.3846 11.4427 5.19099 10.5203 5.19099Z"})})},279464:(e,n,t)=>{t.r(n),t.d(n,{iconDefinition:()=>i,presentFillIcon:()=>s});t(242343);const i={viewBox:"0 0 20 20",svg:(0,t(163643).jsx)("path",{d:"M7.932 1.824A2.765 2.765 0 0 0 5.077 6.05H4.3c-.87 0-1.575.705-1.575 1.575v1.9c0 .61.347 1.14.856 1.402h5.794v-4.87h1.25v4.87h5.794c.508-.262.856-.791.856-1.402v-1.9c0-.87-.705-1.575-1.575-1.575h-.776c.285-.435.451-.956.451-1.515 0-1.75-1.613-3.05-3.319-2.709a3.34 3.34 0 0 0-2.043 1.309 3.26 3.26 0 0 0-2.011-1.297zm1.443 3.214V6.05H7.39a1.515 1.515 0 1 1 .297-3l.07.014a2.01 2.01 0 0 1 1.618 1.974m4.75-.503c0 .832-.67 1.507-1.5 1.515h-2v-.963c0-.985.705-1.84 1.676-2.035a1.523 1.523 0 0 1 1.824 1.483m2.289 7.642h-5.789v5.098h4.214c.87 0 1.575-.705 1.575-1.575zm-7.039 0h-5.79V15.7c0 .87.706 1.575 1.576 1.575h4.214z"})},s=(0,t(680369).wt)("presentFill",i)},281337:(e,n,t)=>{t.r(n),t.d(n,{arrowLeftRightIcon:()=>s,iconDefinition:()=>i});t(242343);const i={viewBox:"0 0 20 20",svg:(0,t(163643).jsx)("path",{d:"M3.45 5.925a.625.625 0 0 0 0 .884l3.499 3.497a.625.625 0 1 0 .884-.883L5.402 6.992h10.705a.625.625 0 0 0 0-1.25H5.402l2.43-2.431a.625.625 0 0 0-.883-.884zm8.717 11.648a.625.625 0 0 1 0-.884l2.431-2.43H3.893a.625.625 0 1 1 0-1.25h10.705l-2.43-2.431a.625.625 0 0 1 .883-.884l3.498 3.497a.625.625 0 0 1 0 .884l-3.498 3.498a.625.625 0 0 1-.884 0"})},s=(0,t(680369).wt)("arrowLeftRight",i)},308110:(e,n,t)=>{t.d(n,{h:()=>x});t(725707),t(491955),t(403517),t(242343);var i=()=>t(803290),s=()=>t(174114),a=()=>t(260773),o=()=>t(921080),r=()=>t(150936),l=()=>t(653998),c=()=>t(31448),d=()=>t(108797),u=()=>t(535906),p=()=>t(935091),g=()=>t(858023),m=()=>t(88271),h=()=>t(610271),f=()=>t(640979),v=()=>t(167532),b=()=>t(873573),y=t(163643);function x(e){const{parent:n}=e,t=(0,s().IS)((e=>({bannerLikeIcon:{width:16,height:16,fill:e.blueColor,alignSelf:"flex-start",marginBottom:48,marginRight:4},caption:{color:e.text.tertiary,fontSize:c().J.UISmall.desktop,textWrap:"wrap"},option:{paddingTop:4,paddingBottom:4},optionLabel:{fontSize:14,marginBottom:2},disabledOptionLabel:{color:e.text.tertiary,fontSize:14,marginBottom:2}})),[]),x=(0,v().J)(),A=(0,i().K8)((()=>b().F.state.connectionStatus),[]),S=(0,i().K8)((()=>b().F.state.analyticsFrom),[]),j=(0,i().K8)((()=>b().F.state.sessionId),[]),_=[{key:"microsoft-teams-connection-section",render:e=>(0,y.jsx)(m().A,{...e}),items:[{key:"microsoft-teams-ingestion-status-connecting",label:(0,y.jsx)(l().sA,{id:"universalSearch.microsoftTeams.connectionOptions.connecting.title",defaultMessage:"Connecting"}),caption:(0,y.jsx)(l().sA,{id:"universalSearch.microsoftTeams.connectionOptions.connecting.subtext",defaultMessage:"Your workspace owner is connecting Microsoft Teams. This can take up to 36 hours"}),iconElement:(0,y.jsx)(y.Fragment,{children:(0,a().y)(t.bannerLikeIcon)}),disabled:!0,hidden:!("in_progress"===A||"editing"===A),action:()=>{}},{key:"microsoft-teams-ingestion-status-connected",label:(0,y.jsx)(l().sA,{id:"universalSearch.microsoftTeams.connectionOptions.connected.title",defaultMessage:"Connected"}),caption:(0,y.jsx)(l().sA,{id:"universalSearch.microsoftTeams.connectionOptions.connected.subtext",defaultMessage:"Connected by workspace owner"}),icon:r().b,disabled:!0,hidden:"completed"!==A,action:()=>{}},{key:"microsoft-teams-ingestion-disconnect",label:(0,y.jsx)(l().sA,{id:"universalSearch.microsoftTeams.connectionOptions.disconnect.title",defaultMessage:"Disconnecting..."}),caption:(0,y.jsx)(l().sA,{id:"universalSearch.microsoftTeams.connectionOptions.disconnect.subtext",defaultMessage:"Your workspace owner has disconnected Microsoft Teams. This can take up to 3 hours."}),iconElement:(0,y.jsx)(y.Fragment,{children:(0,a().y)(t.bannerLikeIcon)}),disabled:!0,hidden:"disconnecting"!==A,action:()=>{}},{key:"microsoft-teams-ingestion-settings",label:(0,y.jsx)(l().sA,{id:"universalSearch.microsoftTeams.connectionOptions.settings",defaultMessage:"Settings"}),icon:o().B,disabled:!1,hidden:!(x&&"completed"===A),action:()=>{null==n||n.close(),(0,d().navigateToMicrosoftTeamsUniversalScreen)({currentScreen:"settings_screen",analyticsFrom:S||"chat_menu",sessionId:j})}}].filter((e=>!e.hidden)).map((e=>{const{key:n,label:i,caption:s,icon:a,iconElement:o,disabled:r,action:l,labelStyleOverride:c,captionStyleOverride:d,iconStyleOverride:p}=e,g=a?a({width:12,height:12}):o;return{key:n,action:()=>l(),render:e=>(0,y.jsx)(u().A,{...e,disabled:r,title:(0,y.jsx)(h().Ye,{children:(0,y.jsxs)("div",{style:t.option,children:[(0,y.jsx)("div",{style:c??(r?t.disabledOptionLabel:t.optionLabel),children:i}),s&&(0,y.jsx)("div",{style:d??t.caption,children:s})]})}),left:g,leftStyle:p})}}))}];return(0,y.jsx)(p().A,{menuType:f().gu.Popup,minWidth:230,children:(0,y.jsx)(g().Ay,{type:g().Oh.Vertical,sections:_,initialFocus:void 0})})}},308839:(e,n,t)=>{t.d(n,{V_:()=>L,WR:()=>T,eu:()=>I,xE:()=>D,xX:()=>B});t(610931);var i=()=>t(486826),s=(t(242343),()=>t(502140)),a=()=>t(647242),o=()=>t(678988),r=()=>t(653998),l=()=>t(450475),c=()=>t(3311),d=()=>t(421650),u=()=>t(818369),p=()=>t(145046),g=()=>t(70989),m=()=>t(137476),h=()=>t(485966),f=()=>t(436622),v=()=>t(836331),b=()=>t(855827),y=()=>t(397138),x=()=>t(104838),A=()=>t(384055),S=()=>t(298520),j=()=>t(613313),_=()=>t(111826),M=()=>t(879205),k=()=>t(30299),C=t(163643);const w=(0,r().YK)({applyingBusinessTrial:{id:"trialUpsellActions.applyingBusinessTrial",defaultMessage:"Setting up your Business trialâ€¦"}});async function I(e){var n,t;const{environment:l,stripe:c,elements:u,trialData:g,trialDays:m,sessionId:v,customerName:b,businessName:y}=e;if(!u||!c)return void s().log({level:"error",from:"trialUpsellActions",type:"StripeError",error:{miscDataString:"Stripe elements not initialized when user tried to upgrade"}});const{error:A}=await u.submit();if(A)return void d().$X(l,{error:"could not submit form",error_type:"payment_method"});const w=await c.createPaymentMethod({elements:u});if(w.error)return void d().$X(l,{error:w.error.message,error_type:"payment_method"});if(!w.paymentMethod)return void d().$X(l,{error:"could not create token",error_type:"payment_method"});const I={type:"paymentMethodId",value:w.paymentMethod.id},T=h().default.state.currentSpaceStore;if(!T)return;const L=T.id,B=await S().p_({environment:l,spaceId:L}),D=await f().A.awaitData(l,{spaceId:L});if(!D)throw new Error("Billing data not loaded");const P=(0,a().lQ)(D),O=M().A.state.selectedCurrencyCode??"USD",W=(0,k().Zr)(),F=(0,o().vk)(B,{interval:"month",product:W,currency:O}),N=(0,j().Le)(),U=(0,o().vH)(P,{price:F,quantity:1},{isMay13PackagingChangesEnabled:N}),R=i().c9.now().plus({days:m});return await async function(e){const{environment:n,spaceStore:t,paymentData:i,desiredState:s,stripe:a,trialData:o,customerName:l,businessName:c,addressZip:u,addressCountry:g,sessionId:m}=e,h=await f().A.awaitData(n,{spaceId:t.id});try{const e=await x().nV({environment:n,sessionId:m,spaceStore:t,desiredState:s,paymentData:i,from:"onboarding",trialData:o,billingEmail:(0,_().cs)(h),customerName:l,businessName:c,addressZip:u,addressCountry:g}),d=e.paymentIntentClientSecret,f=e.paymentIntentStatus;if(d&&"requires_action"===f){const{error:e}=await a.handleNextAction({clientSecret:d});e&&(await x().M2({environment:n,spaceStore:t,from:"subscription_upgrade_onboarding_failed_payment"}),p().f1((0,C.jsx)(r().sA,{id:"subscription.upgrade.payment_failed",defaultMessage:"Your payment could not be processed. Please provide an alternate payment method or you will lose access to Notion."})))}return"success"}catch{return void d().AF(n)}}({environment:l,spaceStore:T,desiredState:{...U,trialEnd:R},paymentData:I,stripe:c,trialData:g,customerName:b,businessName:y,addressZip:(null===(n=w.paymentMethod.billing_details.address)||void 0===n?void 0:n.postal_code)||"",addressCountry:(null===(t=w.paymentMethod.billing_details.address)||void 0===t?void 0:t.country)||"",sessionId:v})}const T=(0,t(975392).sg)(I,1e3,{leading:!0,trailing:!1});async function L(e){let{spaceStore:n,environment:t}=e;const i=n.id;if(await(0,A().L6)({environment:t,spaceId:i,offerCampaign:"reverse"})&&(0,j().s)(t)){await D(n,t,"going_multiplayer")&&await b().A.resetData(t,{spaceId:i})}}async function B(e,n,t){try{g().m({message:w.applyingBusinessTrial});const i=e.id,s=await u().callApi({eventName:"applyReverseTrial",environment:n,data:{spaceId:i,trialData:{id:"business_reverse",from:t}}});return"success"===s.type?((0,m().u4)({environment:n,event:{eventName:"trial_apply_attempt",eventProperties:{trial_id:"business_reverse",success:"success"===s.data.status}}}),await x().o2({environment:n,spaceStore:e}),g().V(),"success"===s.data.status):(P("business_reverse",n,s.error),g().V(),!1)}catch(i){return P("business_reverse",n,i),g().V(),!1}}async function D(e,n,t){let i="reverse";try{const s=await(0,y().G)(n),a=Boolean(v().default.checkGate({gateName:"apply_reverse_trial_key"}));s&&(i="reverse_mm_ent");const o=e.id,r=`${o}_timed_trial`,l=a?(0,c().gB)(r):void 0,d=await u().callApi({eventName:"applyReverseTrial",environment:n,data:{spaceId:o,trialData:{id:i,from:t},idempotencyKey:l}});return"success"===d.type?((0,m().u4)({environment:n,event:{eventName:"trial_apply_attempt",eventProperties:{trial_id:i,success:"success"===d.data.status}}}),await x().o2({environment:n,spaceStore:e}),"success"===d.data.status):(P(i,n,d.error),!1)}catch(s){return P(i,n,s),!1}}function P(e,n,t){(0,m().u4)({environment:n,event:{eventName:"trial_apply_attempt",eventProperties:{trial_id:e,success:!1}}}),s().log({level:"error",from:"trialUpsellActions",type:"applyReverseTrialError",error:(0,l().convertErrorToLog)(t)})}},310450:(e,n,t)=>{t.d(n,{a:()=>k});t(725707),t(491955),t(403517);var i=t(242343),s=()=>t(237385),a=()=>t(269280),o=()=>t(803290),r=()=>t(174114),l=()=>t(260773),c=()=>t(921080),d=()=>t(150936),u=()=>t(653998),p=()=>t(194568),g=()=>t(108797),m=()=>t(366470),h=()=>t(535906),f=()=>t(966789),v=()=>t(935091),b=()=>t(858023),y=()=>t(88271),x=()=>t(610271),A=()=>t(640979),S=()=>t(167532),j=()=>t(485966),_=()=>t(741329),M=t(163643);function k(e){const{parent:n,callGetStatusAPI:t,connector:k}=e,C=Boolean(t),[w,I]=i.useState(C),T=(0,r().IS)((e=>({bannerLikeIcon:{width:16,height:16,fill:e.blueColor,alignSelf:"flex-start",marginTop:12,marginRight:4},caption:{color:e.text.tertiary,fontSize:12,textWrap:"wrap"},bannerLikeCaption:{display:"flex",alignItems:"top",justifyContent:"center",color:e.text.tertiary,whiteSpace:"normal",fontSize:12},option:{paddingTop:4,paddingBottom:4},optionLabel:{fontSize:14,marginBottom:2},bannerLikeLabel:{fontSize:14,marginBottom:2,whiteSpace:"normal"},disabledOptionLabel:{color:e.text.tertiary,fontSize:14,marginBottom:2}})),[]),L=(0,S().J)(),B=(0,o().O$)(m().NT[k]),{isDisconnecting:D,isEditing:P,analyticsFrom:O}=B,W=p().w0[k],F=(0,o().K8)((()=>(0,_().XY)(k)),[k]),N=(0,o().O$)(j().AppStoreCurrentSpaceStore),U=(0,s().v3)();if((0,a().l)((async()=>{N&&C&&(I(!0),await(0,m().Vn)(k)({environment:U,spaceId:N.getSpaceId()}),I(!1))})),w)return(0,M.jsx)(x().Ye,{style:{width:200,height:50,justifyContent:"center",alignItems:"center"},children:(0,M.jsx)(f().A,{})});const R="in_progress"===F||P,E="completed"===F,z=[{key:"connection-section",render:e=>(0,M.jsx)(y().A,{...e}),items:[{key:"ingestion-status-connecting",label:(0,M.jsx)(u().sA,{id:"assistantOverflowMenu.ingestion.connecting",defaultMessage:"Connecting"}),caption:(0,M.jsx)(u().sA,{id:"assistantOverflowMenu.ingestion.subtext",defaultMessage:"This can take up to 36 hours"}),disabled:!0,hidden:!R||Boolean(D),action:()=>{}},{key:"connected",label:(0,M.jsx)(u().sA,{id:"assistantOverflowMenu.ingestion.connected",defaultMessage:"Connected"}),caption:(0,M.jsx)(u().sA,{id:"assistantOverflowMenu.ingestion.connected.subtext",defaultMessage:"Connected by workspace owner"}),icon:d().b,disabled:!0,hidden:!E||Boolean(D),action:()=>{}},{key:"disconnecting",label:(0,M.jsx)(u().sA,{id:"assistantOverflowMenu.ingestion.disconnecting",defaultMessage:"{displayName} is disconnecting from Notion",values:{displayName:W}}),caption:(0,M.jsx)(u().sA,{id:"assistantOverflowMenu.ingestion.disconnecting.subtext",defaultMessage:"Your workspace owner has disconnected {displayName}. This can take up to 3 hours.",values:{displayName:W}}),disabled:!0,hidden:!D,iconElement:(0,M.jsx)(M.Fragment,{children:(0,l().y)(T.bannerLikeIcon)}),action:()=>{},labelStyleOverride:T.bannerLikeLabel,captionStyleOverride:T.bannerLikeCaption},{key:"settings",label:(0,M.jsx)(u().sA,{id:"assistantOverflowMenu.ingestion.settings",defaultMessage:"Settings"}),icon:c().B,disabled:Boolean(D),hidden:R||D||!L,action:()=>{null==n||n.close(),(0,g().navigateToAIConnectorSettingsScreen)({connector:k,analyticsFrom:O,sessionId:B.sessionId})}}].filter((e=>!e.hidden)).map((e=>{const{key:n,label:t,caption:i,icon:s,iconElement:a,disabled:o,action:r,labelStyleOverride:l,captionStyleOverride:c,iconStyleOverride:d}=e,u=s?s({width:12,height:12}):a;return{key:n,action:()=>{r()},render:e=>(0,M.jsx)(h().A,{...e,title:(0,M.jsx)(x().Ye,{children:(0,M.jsxs)("div",{style:T.option,children:[(0,M.jsx)("div",{style:l??(o?T.disabledOptionLabel:T.optionLabel),children:t}),i&&(0,M.jsx)("div",{style:c??T.caption,children:i})]})}),left:u,leftStyle:d,disabled:o})}}))}];return(0,M.jsx)(v().A,{menuType:A().gu.Popup,minWidth:230,children:(0,M.jsx)(b().Ay,{type:b().Oh.Vertical,sections:z,initialFocus:void 0})})}},338578:(e,n,t)=>{t.d(n,{o:()=>c});var i=t(242343),s=()=>t(237385),a=()=>t(803290),o=()=>t(485966),r=()=>t(298520),l=()=>t(879205);function c(){const e=(0,s().v3)(),{spaceId:n,isGuest:t}=(0,a().K8)((()=>{const e=o().default.state.currentSpaceStore,n=null==e?void 0:e.getPublicSpaceData();return{spaceId:null==e?void 0:e.id,isGuest:"none"===(null==n?void 0:n.role)}}),[]);return(0,i.useEffect)((()=>{n&&!t&&(0,r().$W)({environment:e,spaceId:n})}),[e,n,t]),(0,a().K8)((()=>l().A.state.prices),[])}},396760:(e,n,t)=>{t.d(n,{f:()=>s});t(242343);var i=t(163643);const s=(0,t(680369).wt)("openTeamSearch",{viewBox:"0 0 16 14",svg:(0,i.jsx)("path",{d:"M9.506 13.342h4.447c.348 0 .621-.11.82-.328.2-.22.3-.516.3-.891V4.852c0-.375-.1-.67-.3-.885-.199-.219-.472-.328-.82-.328H9.922v1.136h3.709c.101 0 .178.026.228.077.051.05.076.127.076.228v6.815c0 .101-.025.177-.076.228-.05.05-.127.076-.228.076H9.506v1.143zm2.28-6.358h.925c.129 0 .193-.064.193-.193v-.896c0-.133-.064-.2-.193-.2h-.926c-.125 0-.187.067-.187.2v.896c0 .129.062.193.187.193zm0 2.168h.925c.129 0 .193-.066.193-.199v-.896c0-.133-.064-.2-.193-.2h-.926c-.125 0-.187.067-.187.2v.896c0 .133.062.2.187.2zm0 2.163h.925c.129 0 .193-.067.193-.2v-.896c0-.13-.064-.194-.193-.194h-.926c-.125 0-.187.065-.187.194v.896c0 .133.062.2.187.2zm-10.864.808c0 .375.1.672.299.89.199.22.474.329.826.329H9.44c.348 0 .621-.11.82-.328.204-.22.305-.516.305-.891V1.928c0-.38-.101-.676-.304-.89-.2-.22-.473-.329-.82-.329H2.046c-.352 0-.627.11-.826.328-.2.215-.3.512-.3.89v10.196zm1.142-.228V2.162c0-.105.026-.183.077-.234.05-.051.127-.076.228-.076h6.75c.102 0 .178.025.229.076.05.05.076.129.076.234v9.733c0 .101-.026.177-.076.228-.051.05-.127.076-.229.076H2.37c-.101 0-.178-.025-.228-.076-.051-.05-.077-.127-.077-.228zm1.588.85h.891v-1.946c0-.117.06-.176.182-.176h2.039c.12 0 .181.059.181.176v1.945h.89V10.5c0-.25-.058-.435-.175-.557-.117-.125-.295-.187-.533-.187H4.36c-.238 0-.416.062-.533.187-.117.122-.176.307-.176.557v2.244zm.17-8.362h1.12c.156 0 .234-.078.234-.235v-1.09c0-.156-.078-.234-.235-.234H3.822c-.148 0-.222.078-.222.235v1.09c0 .156.074.234.222.234zm2.719 0h1.12c.152 0 .228-.078.228-.235v-1.09c0-.156-.077-.234-.229-.234H6.541c-.152 0-.229.078-.229.235v1.09c0 .156.077.234.229.234zM3.822 6.627h1.12c.156 0 .234-.078.234-.234V5.309c0-.157-.078-.235-.235-.235H3.822c-.148 0-.222.078-.222.235v1.084c0 .156.074.234.222.234zm2.719 0h1.12c.152 0 .228-.078.228-.234V5.309c0-.157-.077-.235-.229-.235H6.541c-.152 0-.229.078-.229.235v1.084c0 .156.077.234.229.234zm-2.719 2.25h1.12c.156 0 .234-.08.234-.24V7.553c0-.157-.078-.235-.235-.235H3.822c-.148 0-.222.078-.222.235v1.084c0 .16.074.24.222.24zm2.719 0h1.12c.152 0 .228-.08.228-.24V7.553c0-.157-.077-.235-.229-.235H6.541c-.152 0-.229.078-.229.235v1.084c0 .16.077.24.229.24z"})})},418096:(e,n,t)=>{t.d(n,{u:()=>A});t(362833),t(403517),t(242343);var i=()=>t(237385),s=()=>t(803290),a=()=>t(174114),o=()=>t(396760),r=()=>t(921080),l=()=>t(52531),c=()=>t(653998),d=()=>t(535906),u=()=>t(935091),p=()=>t(858023),g=()=>t(88271),m=()=>t(610271),h=()=>t(137476),f=()=>t(640979),v=()=>t(863969),b=()=>t(167532),y=()=>t(145652),x=t(163643);function A(e){let{parent:n}=e;const t=(0,a().IS)((e=>({icon:{width:16,height:16},caption:{color:e.text.tertiary,fontSize:12,textWrap:"wrap"},option:{paddingTop:4,paddingBottom:4},optionLabel:{fontSize:14,marginBottom:2},disabledOptionLabel:{color:e.text.tertiary,fontSize:14,marginBottom:2},iconWrapper:{paddingTop:4}})),[]),A=(0,b().J)(),S=(0,i().v3)(),j=(0,v().O)(),_=(0,s().K8)((()=>{var e;return null===(e=y().E.state.connectionDetails)||void 0===e?void 0:e.status}),[]),M=(0,s().O$)(y().E),k=[];"completed"===_&&k.push({key:"sharepoint-admin-auth-connected",label:(0,x.jsx)(c().sA,{defaultMessage:"Connected",id:"sharepointAiConnector.connectionOptions.connected"}),caption:(0,x.jsx)(c().sA,{defaultMessage:"SharePoint has been connected by your workspace owner",id:"sharepointAiConnector.connectionOptions.connectedByAdmin"}),icon:(0,o().f)(t.icon),disabled:!0,connected:!0,hidden:!1,action:()=>{}}),"pending_selection"===_&&k.push({key:"sharepoint-admin-auth-pending-selection",label:(0,x.jsx)(c().sA,{defaultMessage:"No sites selected",id:"sharepointAiConnector.connectionOptions.noSitesSelected"}),caption:(0,x.jsx)(c().sA,{defaultMessage:"Click to select sites",id:"sharepointAiConnector.connectionOptions.pendingSelectionCaption"}),icon:(0,o().f)(t.icon),disabled:!1,connected:!1,hidden:!1,action:()=>{y().E.setState({...M,currentScreen:"settings"})}}),"in_progress"!==_&&"awaiting_live_ingestion"!==_||k.push({key:"sharepoint-admin-auth-connecting",label:(0,x.jsx)(c().sA,{defaultMessage:"Connecting SharePoint...",id:"sharePointAiConnector.connectionOptions.connectingSharepoint"}),caption:(0,x.jsx)(c().sA,{defaultMessage:"This can take up to 36 hours.",id:"sharePointAiConnector.connectionOptions.connectingSharepointCaption"}),icon:(0,o().f)(t.icon),disabled:!0,connected:!1,hidden:!1,action:()=>{}});const C=[{key:"sharepoint-connection-section",render:e=>(0,x.jsx)(g().A,{...e}),items:k.filter((e=>!e.hidden)).map((e=>{if("component"in e){const{key:n,component:t}=e;return{key:n,action:()=>{},render:()=>t}}const{key:i,label:s,caption:a,icon:o,disabled:r,connected:l,action:c}=e;return{key:i,action:async()=>{await c(),null==n||n.close()},render:e=>(0,x.jsx)(d().A,{...e,title:(0,x.jsxs)(m().Ye,{gap:4,children:[(0,x.jsx)("div",{style:t.iconWrapper,children:o}),(0,x.jsxs)("div",{style:t.option,children:[(0,x.jsx)("div",{style:r?t.disabledOptionLabel:t.optionLabel,children:s}),(0,x.jsx)("div",{style:t.caption,children:a})]})]}),isChecked:l,disabled:r})}}))}];if("completed"===_&&A&&C.push({key:"sharepoint-settings-section",render:e=>(0,x.jsx)(g().A,{...e,topBorder:!0}),items:[{key:"sharepoint-settings",action:()=>{j&&((0,h().u4)({environment:S,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"open_settings",integration_type:"sharepoint",setup_session_id:M.sessionId,from:M.analyticsFrom}}}),y().E.setState({...M,currentScreen:"settings"}),null==n||n.close())},render:e=>(0,x.jsx)(d().A,{...e,title:(0,x.jsxs)(m().Ye,{gap:4,children:[(0,x.jsx)("div",{style:t.iconWrapper,children:(0,r().B)(t.icon)}),(0,x.jsx)("div",{style:t.option,children:(0,x.jsx)("div",{style:t.optionLabel,children:(0,x.jsx)(c().sA,{id:"sharepointAiConnector.settings",defaultMessage:"Settings"})})})]})})}]}),"disconnecting"===_){for(;C.length>0;)C.pop();C.push({key:"sharepoint-disconnecting-section",render:e=>(0,x.jsx)(g().A,{...e,topBorder:!0}),items:[{key:"sharepoint-disconnecting",action:()=>{},render:e=>(0,x.jsx)(d().A,{...e,disabled:!0,title:(0,x.jsxs)(m().Ye,{gap:4,children:[(0,x.jsx)("div",{style:t.iconWrapper,children:(0,l().I)(t.icon)}),(0,x.jsxs)("div",{style:t.option,children:[(0,x.jsx)("div",{style:t.optionLabel,children:(0,x.jsx)(c().sA,{id:"sharepointAiConnector.disconnecting",defaultMessage:"Disconnecting..."})}),(0,x.jsx)("div",{style:t.caption,children:(0,x.jsx)(c().sA,{id:"sharepointAiConnector.disconnectingCaption",defaultMessage:"This can take up to 3 hours."})})]})]})})}]})}return(0,x.jsx)(u().A,{menuType:f().gu.Popup,width:220,children:(0,x.jsx)(p().Ay,{type:p().Oh.Vertical,sections:C,initialFocus:void 0})})}},435377:(e,n,t)=>{t.r(n),t.d(n,{iconDefinition:()=>s,oneDriveIcon:()=>a});t(242343);var i=t(163643);const s={viewBox:"0 0 20 20",svg:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("g",{clipPath:"url(#clip0_501_593)",children:[(0,i.jsx)("path",{fill:"#0364B8",d:"m7.627 7.008 4.198 2.514 2.502-1.053a4.05 4.05 0 0 1 1.885-.321A6.25 6.25 0 0 0 4.936 6.264L5 6.262a5 5 0 0 1 2.627.746"}),(0,i.jsx)("path",{fill:"#0078D4",d:"M7.627 7.007v.001A5 5 0 0 0 5 6.263l-.064.001a4.998 4.998 0 0 0-4.038 7.857l3.703-1.559 1.646-.692 3.664-1.542 1.914-.806z"}),(0,i.jsx)("path",{fill:"#1490DF",d:"M16.212 8.148a4.05 4.05 0 0 0-1.885.322l-2.502 1.052.726.435 2.378 1.424 1.037.622 3.548 2.125a4.063 4.063 0 0 0-3.302-5.98"}),(0,i.jsx)("path",{fill:"#28A8EA",d:"m15.966 12.003-1.037-.622-2.378-1.424-.726-.435-1.914.806-3.664 1.542-1.646.692-3.703 1.559A5 5 0 0 0 5 16.261h10.938a4.06 4.06 0 0 0 3.576-2.134z"})]}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_501_593",children:(0,i.jsx)("path",{fill:"#fff",d:"M0 3.45h20v12.813H0z"})})})]})},a=(0,t(680369).wt)("oneDrive",s)},440380:(e,n,t)=>{t.d(n,{A3:()=>p,Fj:()=>c,Fn:()=>d,Sn:()=>a,gp:()=>s,oO:()=>u,rT:()=>m,vK:()=>o,vc:()=>g,z$:()=>r});var i=()=>t(653998);const s=(0,i().YK)({betaDisclaimer:{defaultMessage:"Beta availability and pricing are subject to change.",id:"GithubUniversalQnaAnnouncementModal.betaDisclaimer"},ctaButtonLabelWithAddon:{defaultMessage:"Try now",id:"GithubUniversalQnaAnnouncementModal.ctaButtonLabelWithAddon"},ctaButtonLabelWithoutAddon:{defaultMessage:"Get unlimited AI",id:"GithubUniversalQnaAnnouncementModal.ctaButtonLabelWithoutAddon"},learnMoreLink:{defaultMessage:"Learn more",id:"GithubUniversalQnaAnnouncementModal.learnMoreLink"},notifyWorkspaceOwner:{defaultMessage:"Notify your workspace owner",id:"GithubUniversalQnaAnnouncementModal.notifyWorkspaceOwner"}}),a=(0,i().YK)({title:{defaultMessage:"Get GitHub answers in Notion",id:"GithubUniversalQnaAnnouncementModal.title"},subtitleForAnnouncement:{defaultMessage:"Find information and get answers about your GitHub Pull Requests, Issues, and more.",id:"GithubUniversalQnaAnnouncementModal.subtitleForAnnouncement"},shortDescription:{defaultMessage:"Search and ask about PRs, issues, and docs",id:"GithubUniversalQnaAnnouncementModal.shortDescription"},betaDisclaimer:s.betaDisclaimer,ctaButtonLabelWithAddon:s.ctaButtonLabelWithAddon,ctaButtonLabelWithoutAddon:s.ctaButtonLabelWithoutAddon,learnMoreLink:s.learnMoreLink}),o=(0,i().YK)({title:{defaultMessage:"Get Slack answers in Notion AI",id:"slackUniversalQnaAnnouncementModal.title"},subtitleForAnnouncement:{defaultMessage:"Summarize threads, get answers, find information from public channels, and more.",id:"slackUniversalQnaAnnouncementModal.subtitleForAnnouncement"},shortDescription:{defaultMessage:"Search and ask about channels and threads",id:"slackUniversalQnaAnnouncementModal.shortDescription"},betaDisclaimer:s.betaDisclaimer,ctaButtonLabelWithAddon:s.ctaButtonLabelWithAddon,ctaButtonLabelWithoutAddon:s.ctaButtonLabelWithoutAddon,learnMoreLink:s.learnMoreLink}),r=(0,i().YK)({title:{defaultMessage:"Get Jira answers in Notion AI",id:"JiraUniversalQnaAnnouncementModal.title"},subtitleForAnnouncement:{defaultMessage:"Find information and get answers about your Jira sites, projects, issues, and more.",id:"JiraUniversalQnaAnnouncementModal.subtitleForAnnouncement"},shortDescription:{defaultMessage:"Search and ask about sites, projects, and issues",id:"JiraUniversalQnaAnnouncementModal.shortDescription"},betaDisclaimer:s.betaDisclaimer,ctaButtonLabelWithAddon:s.ctaButtonLabelWithAddon,ctaButtonLabelWithoutAddon:s.ctaButtonLabelWithoutAddon,learnMoreLink:s.learnMoreLink}),l=(0,i().YK)({title:{defaultMessage:"Get Gmail answers in Notion AI",id:"GmailUniversalQnaAnnouncementModal.title"},subtitleForAnnouncement:{defaultMessage:"Find information and get answers about your Gmail emails.",id:"GmailUniversalQnaAnnouncementModal.subtitleForAnnouncement"},shortDescription:{defaultMessage:"Search and ask about your emails",id:"GmailUniversalQnaAnnouncementModal.shortDescription"},betaDisclaimer:s.betaDisclaimer,ctaButtonLabelWithAddon:s.ctaButtonLabelWithAddon,ctaButtonLabelWithoutAddon:s.ctaButtonLabelWithoutAddon,learnMoreLink:s.learnMoreLink}),c=(0,i().YK)({title:{defaultMessage:"Get Microsoft Teams answers in Notion AI",id:"MicrosoftTeamsUniversalQnaAnnouncementModal.title"},subtitleForAnnouncement:{defaultMessage:"Find information and get answers about your Teams channels and chats.",id:"MicrosoftTeamsUniversalQnaAnnouncementModal.subtitle"},shortDescription:{defaultMessage:"Search and ask about channels and chats",id:"MicrosoftTeamsUniversalQnaAnnouncementModal.shortDescription"},betaDisclaimer:s.betaDisclaimer,ctaButtonLabelWithAddon:s.ctaButtonLabelWithAddon,ctaButtonLabelWithoutAddon:s.ctaButtonLabelWithoutAddon,learnMoreLink:s.learnMoreLink}),d=(0,i().YK)({title:{defaultMessage:"Get Google Drive answers in Notion AI",id:"GoogleDriveUniversalQnaAnnouncementModal.title"},subtitleForAnnouncement:{defaultMessage:"Find information and get answers about your Google Docs, Slides, and Sheets.",id:"GoogleDriveUniversalQnaAnnouncementModal.subtitleForAnnouncement"},shortDescription:{defaultMessage:"Search and ask about your Drive content",id:"GoogleDriveUniversalQnaAnnouncementModal.shortDescription"},betaDisclaimer:s.betaDisclaimer,ctaButtonLabelWithAddon:s.ctaButtonLabelWithAddon,ctaButtonLabelWithoutAddon:s.ctaButtonLabelWithoutAddon,learnMoreLink:s.learnMoreLink}),u=(0,i().YK)({title:{defaultMessage:"Get SharePoint answers in Notion AI",id:"sharePointUniversalQnaAnnouncementModal.title"},subtitleForAnnouncement:{defaultMessage:"Find information and get answers about your SharePoint content.",id:"sharePointUniversalQnaAnnouncementModal.subtitle"},shortDescription:{defaultMessage:"Search and ask about your stored content",id:"sharePointUniversalQnaAnnouncementModal.shortDescription"},betaDisclaimer:s.betaDisclaimer,ctaButtonLabelWithAddon:s.ctaButtonLabelWithAddon,ctaButtonLabelWithoutAddon:s.ctaButtonLabelWithoutAddon,learnMoreLink:s.learnMoreLink}),p=(0,i().YK)({title:{defaultMessage:"Get Linear answers in Notion AI",id:"LinearUniversalQnaAnnouncementModal.title"},subtitleForAnnouncement:{defaultMessage:"Find information and get answers about your Linear projects, issues, and more.",id:"LinearUniversalQnaAnnouncementModal.subtitle"},shortDescription:{defaultMessage:"Search and ask about tasks, issues and more",id:"LinearUniversalQnaAnnouncementModal.shortDescription"},betaDisclaimer:s.betaDisclaimer,ctaButtonLabelWithAddon:s.ctaButtonLabelWithAddon,ctaButtonLabelWithoutAddon:s.ctaButtonLabelWithoutAddon,learnMoreLink:s.learnMoreLink}),g={github:a,slack:o,jira:r,gmail:l,sharepoint:u,linear:p,google_drive:d,microsoftTeams:c},m=(0,i().YK)({github:{defaultMessage:"Search and ask about PRs, issues, and docs",id:"GithubUniversalQnaAnnouncementModal.shortDescription"},slack:{defaultMessage:"Search and ask about channels and threads",id:"slackUniversalQnaAnnouncementModal.shortDescription"},google_drive:{defaultMessage:"Search and ask about your Drive content",id:"GoogleDriveUniversalQnaAnnouncementModal.shortDescription"},jira:{defaultMessage:"Search and ask about sites, projects, and issues",id:"JiraUniversalQnaAnnouncementModal.shortDescription"},gmail:{defaultMessage:"Search and ask about your emails",id:"GmailUniversalQnaAnnouncementModal.shortDescription"},microsoftTeams:{defaultMessage:"Search and ask about channels and chats",id:"MicrosoftTeamsUniversalQnaAnnouncementModal.shortDescription"},sharepoint:{defaultMessage:"Search and ask about your stored content",id:"SharepointUniversalQnaAnnouncementModal.shortDescription"},linear:{defaultMessage:"Search and ask about tasks, issues and more",id:"LinearUniversalQnaAnnouncementModal.shortDescription"}})},442161:(e,n,t)=>{t.d(n,{t:()=>o});var i=t(242343),s=()=>t(237385),a=()=>t(818369);function o(){const e=(0,s().v3)(),[n,t]=(0,i.useState)();return(0,i.useEffect)((()=>{!async function(){const n=await a().callApi({eventName:"getExternalOrgData",environment:e,data:{}});if("failed"===n.type)return;const i=n.data;t(i)}()}),[e]),n}},448476:(e,n,t)=>{t.d(n,{f:()=>A});var i=t(242343),s=()=>t(237385),a=()=>t(803290),o=()=>t(174114),r=()=>t(30922),l=()=>t(76394),c=()=>t(31448),d=()=>t(548694),u=()=>t(912258),p=()=>t(863969),g=()=>t(997310),m=()=>t(133926),h=()=>t(772357),f=()=>t(206799),v=()=>t(701270),b=()=>t(286404),y=()=>t(610271),x=t(163643);function A(e){const{upgradeRequestAnalyticsEntrypoint:n,upgradeRequestEntrypoint:t,sunsetCheckSource:A,additionalOnClickUpgrade:S}=e,j=(0,p().O)(),_=(0,s().v3)().currentUser.id,M=(0,m()._X)({name:"ai_connectors",spaceId:j,userId:_}),{upsellMessage:k,upsellHeader:C,actionButtonMsg:w,actionForFeatureAvailability:I,isSunset:T}=(0,u().x)({featureAvailability:M,upgradeRequestAnalyticsEntrypoint:n,upgradeRequestEntrypoint:t,upsellFrom:"ai_connectors_sunset",sunsetCheckSource:A}),L=(0,i.useCallback)((()=>{I&&I(),S&&S()}),[I,S]),B=(0,g().r)(),D=(0,a().K8)((()=>!!B&&(0,d().p4)(B)),[B]),P=(0,o().IS)((e=>({title:{fontSize:c().J.UIRegular.desktop,fontWeight:c().Wy.regular,color:e.text.secondary},wrapperStyle:"assistant_overflow_menu"===A?{padding:"3px 0px 0px 0px"}:"ai_settings_banner"===A?{marginBottom:24}:"ai_connectors_modal"===A?{padding:"0px 20px"}:{}})),[A]),{bannerIcon:O,bannerLabel:W,bannerDescription:F,bannerActions:N}=(0,i.useMemo)((()=>{switch(A){case"assistant_overflow_menu":return{bannerIcon:void 0,bannerLabel:(0,x.jsxs)(y().Ye,{gap:8,alignItems:"center",children:[(0,x.jsx)(f().Q,{iconGroup:r().k,variantName:"fill",colorName:"uiBluePrimary"}),(0,x.jsx)("div",{style:{maxWidth:360,whiteSpace:"pre-wrap"},children:C})]}),bannerDescription:(0,x.jsx)("div",{style:{maxWidth:360,whiteSpace:"pre-wrap"},children:k}),bannerActions:[{isCustom:!0,render:()=>(0,x.jsx)(b().A,{onClick:L,children:(0,x.jsx)(v().D,{styleName:"UIRegular-14px/Medium",colorName:"primary",children:w})})}]};case"ai_settings_banner":return{bannerIcon:void 0,bannerLabel:(0,x.jsxs)(y().Ye,{alignItems:"center",justifyContent:"space-between",style:{marginBottom:-4},children:[(0,x.jsxs)(y().Ye,{gap:8,alignItems:"center",children:[(0,x.jsx)(f().Q,{iconGroup:r().k,variantName:"fill",colorName:"uiBluePrimary"}),(0,x.jsx)("div",{style:P.title,children:k})]}),(0,x.jsx)(b().A,{onClick:L,children:(0,x.jsx)(v().D,{styleName:"UIRegular-14px/Medium",colorName:"primary",children:w})})]}),bannerDescription:void 0,bannerActions:void 0};case"ai_connectors_modal":return{bannerIcon:(0,x.jsx)(f().Q,{iconGroup:r().k,variantName:"fill",colorName:"uiBluePrimary"}),bannerLabel:C,bannerDescription:k,bannerActions:[{isCustom:!0,render:()=>(0,x.jsx)(b().A,{onClick:L,children:(0,x.jsx)(v().D,{styleName:"UIRegular-14px/Medium",colorName:"primary",children:w})})}]};default:(0,l().HB)(A)}}),[A,C,k,w,L,P]);return T&&I&&D?(0,x.jsx)("div",{style:P.wrapperStyle,children:(0,x.jsx)(h().l,{staticIcon:O,display:"inline",tint:"gray",label:W,description:F,actions:N})}):null}},457967:(e,n,t)=>{t.r(n),t.d(n,{checkmarkFillSmallIcon:()=>s,iconDefinition:()=>i});t(242343);const i={viewBox:"0 0 16 16",svg:(0,t(163643).jsx)("path",{d:"M12.756 2.987a.75.75 0 0 1 .257 1.029l-5.244 8.74a.75.75 0 0 1-1.212.102L3.06 8.78a.75.75 0 1 1 1.138-.976l2.82 3.289 4.708-7.848a.75.75 0 0 1 1.029-.257"})},s=(0,t(680369).wt)("checkmarkFillSmall",i)},463002:(e,n,t)=>{t.d(n,{w:()=>y});t(362833),t(403517),t(242343);var i=()=>t(803290),s=()=>t(174114),a=()=>t(396760),o=()=>t(921080),r=()=>t(52531),l=()=>t(653998),c=()=>t(535906),d=()=>t(935091),u=()=>t(858023),p=()=>t(88271),g=()=>t(610271),m=()=>t(640979),h=()=>t(863969),f=()=>t(167532),v=()=>t(216842),b=t(163643);function y(e){let{parent:n}=e;const t=(0,s().IS)((e=>({icon:{width:16,height:16},caption:{color:e.text.tertiary,fontSize:12,textWrap:"wrap"},option:{paddingTop:4,paddingBottom:4},optionLabel:{fontSize:14,marginBottom:2},disabledOptionLabel:{color:e.text.tertiary,fontSize:14,marginBottom:2},iconWrapper:{paddingTop:4}})),[]),y=(0,f().J)(),x=(0,h().O)(),A=(0,i().K8)((()=>v().W.state.status),[]),S=(0,i().K8)((()=>v().W.state.isConnected),[]),j=(0,i().O$)(v().W),_=[];"completed"===A&&_.push({key:"linear-user-auth-connected",label:(0,b.jsx)(l().sA,{defaultMessage:"Connected",id:"linearAiConnector.connectionOptions.connected"}),caption:(0,b.jsx)(l().sA,{defaultMessage:"Linear has been connected by your workspace owner",id:"linearAiConnector.connectionOptions.connectedByUser"}),icon:(0,a().f)(t.icon),disabled:!0,connected:!0,hidden:!1,action:()=>{}}),"in_progress"===A&&_.push({key:"linear-auth-connecting",label:(0,b.jsx)(l().sA,{defaultMessage:"Connecting Linear...",id:"linearAiConnector.connectionOptions.connectingLinear"}),caption:(0,b.jsx)(l().sA,{defaultMessage:"This can take up to 36 hours.",id:"linearAiConnector.connectionOptions.connectingLinearCaption"}),icon:(0,a().f)(t.icon),disabled:!0,connected:!1,hidden:!1,action:()=>{}});const M=[{key:"linear-connection-section",render:e=>(0,b.jsx)(p().A,{...e}),items:_.filter((e=>!e.hidden)).map((e=>{if("component"in e){const{key:n,component:t}=e;return{key:n,action:()=>{},render:()=>t}}const{key:i,label:s,caption:a,icon:o,disabled:r,connected:l,action:d}=e;return{key:i,action:async()=>{await d(),null==n||n.close()},render:e=>(0,b.jsx)(c().A,{...e,title:(0,b.jsxs)(g().Ye,{gap:4,children:[(0,b.jsx)("div",{style:t.iconWrapper,children:o}),(0,b.jsxs)("div",{style:t.option,children:[(0,b.jsx)("div",{style:r?t.disabledOptionLabel:t.optionLabel,children:s}),(0,b.jsx)("div",{style:t.caption,children:a})]})]}),isChecked:l,disabled:r})}}))}];if(S&&y&&M.push({key:"linear-settings-section",render:e=>(0,b.jsx)(p().A,{...e,topBorder:!0}),items:[{key:"linear-settings",action:()=>{x&&(v().W.setState({...j,currentScreen:"settings"}),null==n||n.close())},render:e=>(0,b.jsx)(c().A,{...e,title:(0,b.jsxs)(g().Ye,{gap:4,children:[(0,b.jsx)("div",{style:t.iconWrapper,children:(0,o().B)(t.icon)}),(0,b.jsx)("div",{style:t.option,children:(0,b.jsx)("div",{style:t.optionLabel,children:(0,b.jsx)(l().sA,{id:"linearAiConnector.settings",defaultMessage:"Settings"})})})]})})}]}),"disconnecting"===A){for(;M.length>0;)M.pop();M.push({key:"linear-disconnecting-section",render:e=>(0,b.jsx)(p().A,{...e,topBorder:!0}),items:[{key:"linear-disconnecting",action:()=>{},render:e=>(0,b.jsx)(c().A,{...e,disabled:!0,title:(0,b.jsxs)(g().Ye,{gap:4,children:[(0,b.jsx)("div",{style:t.iconWrapper,children:(0,r().I)(t.icon)}),(0,b.jsxs)("div",{style:t.option,children:[(0,b.jsx)("div",{style:t.optionLabel,children:(0,b.jsx)(l().sA,{id:"linearAiConnector.disconnecting",defaultMessage:"Disconnecting..."})}),(0,b.jsx)("div",{style:t.caption,children:(0,b.jsx)(l().sA,{id:"linearAiConnector.disconnectingCaption",defaultMessage:"This can take up to 3 hours."})})]})]})})}]})}return(0,b.jsx)(d().A,{menuType:m().gu.Popup,width:220,children:(0,b.jsx)(u().Ay,{type:u().Oh.Vertical,sections:M,initialFocus:void 0})})}},467586:(e,n,t)=>{t.d(n,{vp:()=>a});var i=()=>t(111826);const s={isSalesAssisted:void 0};function a(e,n){return s.isSalesAssisted??(0,i().e9)(e,n)}(0,t(497420).exposeDebugEnvironmentValue)("getAssistantOnboardingDebugInfo",(e=>()=>{const{currentUserSettingsStore:n,currentSpaceStore:i}=t(485966).default.state,s=null==n?void 0:n.getSettings();if(!s||!i)return;const{ai_qna_intro_onboarding_phase:o,ai_assistant_onboarding_phase:r,ai_assistant_onboarding_phase_last_set_at:l,ai_assistant_tooltips_onboarding_phase:c,ai_sales_assisted_extra_notification_seen_at:d,last_exposed_to_ai_qna_at:u,qna_reminders_shown_at:p}=s;return{isSalesAssisted:a(e,i.id),relevantUserSettings:{ai_qna_intro_onboarding_phase:o,ai_assistant_onboarding_phase:r,ai_assistant_tooltips_onboarding_phase:c,ai_assistant_onboarding_phase_last_set_at:l,ai_sales_assisted_extra_notification_seen_at:d,last_exposed_to_ai_qna_at:u,qna_reminders_shown_at:p}}}))},499104:(e,n,t)=>{t.d(n,{E:()=>a});var i=()=>t(803290),s=()=>t(111826);function a(e){return(0,i().K8)((()=>s().Fq(e.state)),[e])}},561775:(e,n,t)=>{t.d(n,{Q:()=>a});var i=()=>t(485966),s=()=>t(111826);function a(e){var n;return!(null===(n=i().default.state.currentSpaceStore)||void 0===n||!n.canAdmin())&&(0,s().n)(e,"enterprise")}},633427:(e,n,t)=>{t.r(n),t.d(n,{arrowChevronSingleDownIcon:()=>s,iconDefinition:()=>i});t(242343);const i={viewBox:"0 0 20 20",svg:(0,t(163643).jsx)("path",{d:"M9.558 13.442c.244.244.64.244.884 0l5.4-5.4a.625.625 0 1 0-.884-.884L10 12.116 5.042 7.158a.625.625 0 0 0-.884.884z"})},s=(0,t(680369).wt)("arrowChevronSingleDown",i)},646240:(e,n,t)=>{t.d(n,{Q:()=>k});t(362833),t(403517),t(242343);var i=()=>t(237385),s=()=>t(803290),a=()=>t(174114),o=()=>t(396760),r=()=>t(921080),l=()=>t(52531),c=()=>t(653998),d=()=>t(818369),u=()=>t(437071),p=()=>t(84543),g=()=>t(535906),m=()=>t(935091),h=()=>t(858023),f=()=>t(88271),v=()=>t(610271),b=()=>t(137476),y=()=>t(640979),x=()=>t(863969),A=()=>t(167532),S=()=>t(980936),j=()=>t(485966),_=()=>t(253619),M=t(163643);function k(e){var n,t,k;let{parent:C}=e;const w=(0,a().IS)((e=>({icon:{width:16,height:16},caption:{color:e.text.tertiary,fontSize:12,textWrap:"wrap"},option:{paddingTop:4,paddingBottom:4},optionLabel:{fontSize:14,marginBottom:2},disabledOptionLabel:{color:e.text.tertiary,fontSize:14,marginBottom:2},iconWrapper:{paddingTop:4}})),[]),I=(0,A().J)(),T=(0,i().v3)(),L=(0,s().K8)((()=>j().default.getState().currentSpaceViewStore),[]),B=(0,x().O)(),D=(0,s().O$)(S().o),P=[];var O;null!==(n=D.githubOrg)&&void 0!==n&&n.isSyncComplete&&P.push({key:"github-admin-auth-connected",label:(0,M.jsx)(c().sA,{defaultMessage:"Connected",id:"githubAIConnector.connectionOptions.publicRepositories"}),caption:(0,M.jsx)(c().sA,{defaultMessage:"The {orgName} GitHub has been connected by your workspace owner",id:"githubAIConnector.connectionOptions.connectedByAdmin",values:{orgName:null===(O=D.githubOrg)||void 0===O?void 0:O.name}}),icon:(0,o().f)(w.icon),disabled:!0,connected:!0,hidden:!1,action:()=>{}});null!==(t=D.githubOrg)&&void 0!==t&&t.isSyncComplete||P.push({key:"github-admin-auth-connecting",label:(0,M.jsx)(c().sA,{defaultMessage:"Connecting GitHub...",id:"githubAIConnector.connectionOptions.connectingGitHub"}),caption:(0,M.jsx)(c().sA,{defaultMessage:"This can take up to 72 hours.",id:"githubAIConnector.connectionOptions.connectingGitHubCaption"}),icon:(0,o().f)(w.icon),disabled:!0,connected:!1,hidden:!1,action:()=>{}}),D.isPersonalAuthComplete||P.push({key:"github-personal-auth-not-complete",hidden:!1,component:(0,M.jsx)("div",{style:{marginLeft:6,marginRight:6,paddingLeft:4,paddingRight:4},children:(0,M.jsx)(_().A,{parent:C,showDismiss:!1})})});const W=[{key:"github-connection-section",render:e=>(0,M.jsx)(f().A,{...e}),items:P.filter((e=>!e.hidden)).map((e=>{if("component"in e){const{key:n,component:t}=e;return{key:n,action:()=>{},render:()=>t}}const{key:n,label:t,caption:i,icon:s,disabled:a,connected:o,action:r}=e;return{key:n,action:async()=>{await r(),null==C||C.close()},render:e=>(0,M.jsx)(g().A,{...e,title:(0,M.jsxs)(v().Ye,{gap:4,children:[(0,M.jsx)("div",{style:w.iconWrapper,children:s}),(0,M.jsxs)("div",{style:w.option,children:[(0,M.jsx)("div",{style:a?w.disabledOptionLabel:w.optionLabel,children:t}),(0,M.jsx)("div",{style:w.caption,children:i})]})]}),isChecked:o,disabled:a})}}))}];if(D.isPersonalAuthComplete&&W.push({key:"github-user-disconnect-section",render:e=>(0,M.jsx)(f().A,{...e,topBorder:!0}),items:[{key:"github-user-auth-disconnect",render:e=>(0,M.jsx)(g().A,{...e,title:(0,M.jsxs)(v().Ye,{gap:4,children:[(0,M.jsx)("div",{style:w.iconWrapper,children:(0,l().I)(w.icon)}),(0,M.jsx)("div",{style:w.option,children:(0,M.jsx)("div",{children:(0,M.jsx)(c().sA,{id:"githubAIConnector.disconnectPersonalAuth",defaultMessage:"Disconnect your account"})})})]}),disabled:!1}),action:async()=>{if(!B)return;(0,b().u4)({environment:T,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"user_auth_disconnect",integration_type:"github",setup_session_id:S().o.state.sessionId,from:S().o.state.analyticsFrom}}}),null==C||C.close();const e=await d().callApi({eventName:"disconnectGithub",environment:T,data:{spaceId:B,disconnectUserAuth:!0}});p().createAndCommit({userAction:"githubAIConnector.onboarding.dismissPersonalAuthPrompt",environment:T,canUndo:!0,perform:e=>{L&&p().applyOperation({store:L,operation:{pointer:L.pointer,path:["settings"],command:"update",args:{...L.getSettings(),dismissed_github_personal_auth_prompt:!0}},transaction:e})}}),S().o.setState({...S().o.state,isPersonalAuthComplete:!1}),"success"===e.type&&e.data.redirectUrl&&(T.device.isElectron?u().openExternalUrl(e.data.redirectUrl):window.open(e.data.redirectUrl,"_blank"))}}]}),null!==(k=D.githubOrg)&&void 0!==k&&k.isSyncComplete&&I&&W.push({key:"github-settings-section",render:e=>(0,M.jsx)(f().A,{...e,topBorder:!0}),items:[{key:"github-settings",action:()=>{B&&((0,b().u4)({environment:T,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"open_settings",integration_type:"github",setup_session_id:S().o.state.sessionId,from:S().o.state.analyticsFrom}}}),S().o.setState({...S().o.state,currentScreen:"settings"}),null==C||C.close())},render:e=>(0,M.jsx)(g().A,{...e,title:(0,M.jsxs)(v().Ye,{gap:4,children:[(0,M.jsx)("div",{style:w.iconWrapper,children:(0,r().B)(w.icon)}),(0,M.jsx)("div",{style:w.option,children:(0,M.jsx)("div",{style:w.optionLabel,children:(0,M.jsx)(c().sA,{id:"githubAIConnector.settings",defaultMessage:"Settings"})})})]})})}]}),D.isDisconnecting){for(;W.length>0;)W.pop();W.push({key:"github-disconnecting-section",render:e=>(0,M.jsx)(f().A,{...e,topBorder:!0}),items:[{key:"github-disconnecting",action:()=>{},render:e=>(0,M.jsx)(g().A,{...e,disabled:!0,title:(0,M.jsxs)(v().Ye,{gap:4,children:[(0,M.jsx)("div",{style:w.iconWrapper,children:(0,l().I)(w.icon)}),(0,M.jsxs)("div",{style:w.option,children:[(0,M.jsx)("div",{style:w.optionLabel,children:(0,M.jsx)(c().sA,{id:"githubAIConnector.disconnecting",defaultMessage:"Disconnecting..."})}),(0,M.jsx)("div",{style:w.caption,children:(0,M.jsx)(c().sA,{id:"githubAIConnector.disconnectingCaption",defaultMessage:"This can take up to 3 hours."})})]})]})})}]})}return(0,M.jsx)(m().A,{menuType:y().gu.Popup,width:220,children:(0,M.jsx)(h().Ay,{type:h().Oh.Vertical,sections:W,initialFocus:void 0})})}},653928:(e,n,t)=>{t.d(n,{W:()=>a});var i=t(242343),s=()=>t(442161);function a(){const e=(0,s().t)(),[n,t]=(0,i.useState)();return(0,i.useEffect)((()=>{t(!(!e||!("company_employee_count"in e))&&parseInt(e.company_employee_count)>99)}),[e]),n}},669199:(e,n,t)=>{t.d(n,{D_:()=>j,Ft:()=>S,HN:()=>x,MA:()=>v,Sk:()=>y,Yn:()=>M,e9:()=>f,eJ:()=>_,su:()=>A});t(362833),t(725707),t(500234),t(113085);var i=()=>t(532444),s=()=>t(647242),a=()=>t(649074),o=()=>t(455831),r=()=>t(653998),l=()=>t(477784),c=()=>t(670682);const d=(0,r().YK)({cancellationError:{id:"midtermSubscriptionHelpers.cancellationFailed",defaultMessage:"There was an error attempting to cancel your pending changes. Please try again."},unableToCancelError:{id:"midtermSubscriptionHelpers.unableToCancel",defaultMessage:"We cannot cancel your scheduled changes right now. Please contact support for more help."},cancellationSuccess:{id:"midtermSubscriptionHelpers.cancellationSucceeded",defaultMessage:"Pending changes have been canceled"},invalidSubscriptionId:{id:"midtermSubscriptionHelpers.invalidSubscriptionId",defaultMessage:"Unable to cancel your pending changes. Something was wrong with your pending subscription changes."}});function u(e){return(0,o().dL)(e)?"free":(0,o().wb)(e)?"education":(0,o().sP)(e)?"singlePlayerPlus":(0,o().$P)(e)?"plus":(0,o().tL)(e)?"business":(0,o().OX)(e)?"enterprise":"legacy"}const p=(0,r().YK)({freePlan:{defaultMessage:"Free Plan",id:"freePlan.title"},educationPlusPlan:{defaultMessage:"Education Plus Plan",id:"educationPlusPlan.title"},plusPlan:{defaultMessage:"Plus Plan",id:"plusPlan.title"},businessPlan:{id:"businessPlan.title",defaultMessage:"Business Plan"},enterprisePlan:{defaultMessage:"Enterprise Plan",id:"enterprisePlan.label"},legacyPlan:{defaultMessage:"Legacy Plan",id:"legacyPlan.label"}}),g={free:{planTitle:p.freePlan},singlePlayerPlus:{planTitle:p.plusPlan},education:{planTitle:p.educationPlusPlan},plus:{planTitle:p.plusPlan},business:{planTitle:p.businessPlan},enterprise:{planTitle:p.enterprisePlan},legacy:{planTitle:p.legacyPlan}},m=(0,r().YK)({notionAI:{defaultMessage:"Notion AI",id:"notionAI.title"},removeAI:{defaultMessage:"Remove AI",id:"notionAI.remove.title"}}),h=(0,r().YK)({month:{defaultMessage:"Monthly billing",id:"billingInterval.monthly"},year:{defaultMessage:"Annual billing",id:"billingInterval.annual"}});function f(){return l().A.formatMessage(d.unableToCancelError)}function v(){return l().A.formatMessage(d.cancellationSuccess)}function b(e){var n;const t=null==e||null===(n=e.subscription)||void 0===n?void 0:n.pending;if(!t)return;const i=(0,s().PP)(e),o=(0,s().lQ)(e);return{oldTier:(0,a().Gf)(i)??"free",newTier:(0,a().Gf)(o)??"free",oldAIAddOn:(0,a().V_)(i).find((e=>"ai"===e)),newAIAddOn:(0,a().V_)(o).find((e=>"ai"===e)),oldInterval:(0,a().yw)(i),newInterval:(0,a().yw)(o),phaseOneEndDate:t.startDate}}function y(e){const n=b(e);return!(!n||!n.newInterval)&&n.oldInterval!==n.newInterval}function x(e){const n=b(e);return!!n&&n.oldTier!==n.newTier}function A(e){const n=b(e),t=[];if(!n)return{scheduledChanges:t,periodEndDate:null};const{newTier:i,oldTier:s,oldAIAddOn:a,newAIAddOn:o,oldInterval:r,newInterval:c,phaseOneEndDate:d}=n;var p,f;return s!==i&&t.push(function(e,n){const t=u(e),i=l().A.formatMessage(g[t].planTitle);if(!n)return"";const s=u(n);return`${i} â†’ ${l().A.formatMessage(g[s].planTitle)}`}(s,i)),a!==o&&t.push((p=a,f=o,`${l().A.formatMessage(p?m.notionAI:m.removeAI)} â†’ ${l().A.formatMessage(f?m.notionAI:m.removeAI)}`)),r!==c&&t.push(function(e,n){return e&&n?`${l().A.formatMessage("month"===e?h.month:h.year)} â†’ ${l().A.formatMessage("month"===n?h.month:h.year)}`:""}(r,c)),{scheduledChanges:t,periodEndDate:d}}function S(e,n){if(!e)return;const t=(0,s().PP)(e).items,i=(0,s().lQ)(e).items;var a;return(0,s().HO)(t,i).some((e=>{let[t,i]=e;return(0,s().IE)(t??i)===n&&t&&!i}))?null===(a=e.subscription)||void 0===a||null===(a=a.pending)||void 0===a?void 0:a.startDate:void 0}function j(e){if(!e)return;var n;return 0===(0,s().lQ)(e).items.length?null===(n=e.subscription)||void 0===n||null===(n=n.pending)||void 0===n?void 0:n.startDate:void 0}function _(e){let{billingData:n}=e;const t=(0,c().a9)(n);if(!t)return!1;if((0,s().et)(n))return!1;const i=(0,s().bO)(t),a=(0,s().N8)(null==t?void 0:t.subscription);return!i&&!a}function M(e){const n=(0,s().V9)(e),t=(0,s().ji)(e).length>0;return!n||(!i().xd.includes(n)||!(!t||!i().iV.includes(n)))}},687867:(e,n,t)=>{t.d(n,{k:()=>s});var i=t(242343);t(725707),t(500234);function s(e){let{requests:n,feature:t,userId:s}=e;const[a,o]=(0,i.useState)("loading");return(0,i.useEffect)((()=>{if(!t)return;const e=function(e,n,t){var i;if(!n||!t)return"unrequested";const s=null===(i=n[e])||void 0===i?void 0:i.find((e=>e.created_by_id===t));return s&&s.request_status||"unrequested"}(t,n,s);o(e)}),[n,t,s]),[a,o]}},700432:(e,n,t)=>{t.d(n,{q:()=>d});var i=()=>t(803290),s=()=>t(647242),a=()=>t(76394),o=()=>t(548694),r=()=>t(153642),l=()=>t(997310),c=()=>t(159448);function d(){const e=(0,l().r)(),n=(0,c().lh)({spaceId:null==e?void 0:e.id}),t=(0,s().N8)(null==n?void 0:n.subscription),d=(0,c().Wo)(),u=(0,i().K8)((()=>e&&(0,o().hT)(e)),[e]),p=(0,r().V)()??1;if(t)return"sales_assisted";return!((0,a().Vq)(p)&&p>=100)&&!d||u?"self_serve":"sales_eligible"}},702888:(e,n,t)=>{t.d(n,{g:()=>r});var i=()=>t(237385),s=()=>t(803290),a=()=>t(485966),o=()=>t(855827);function r(e){let{spaceId:n}=e;const t=(0,i().v3)(),r=(0,s().K8)((()=>{var e;return null===(e=a().default.state.currentSpaceStore)||void 0===e?void 0:e.canEdit()}),[]);return(0,s().K8)((()=>{if(n&&r)return o().A.getData(t,{spaceId:n})}),[t,n,r])}},711593:(e,n,t)=>{t.d(n,{AC:()=>u,I2:()=>c,YC:()=>d});t(242343);var i=()=>t(174114),s=()=>t(169201),a=()=>t(150936),o=()=>t(653998),r=t(163643);function l(e){const{enabled:n,labelIfEnabled:t,labelIfDisabled:s}=e,a=(0,i().IS)((e=>({container:{color:n?e.text.secondary:e.text.tertiary}})),[n]);return(0,r.jsxs)("div",{style:a.container,children:[p(n)," ",n?t:s]})}function c(e){const n="none"!==e;return[(0,r.jsx)(l,{enabled:n&&e.read_content,labelIfEnabled:(0,r.jsx)(o().sA,{id:"capabilitiesTooltip.mixedAccess.readContent.enabled",defaultMessage:"Can read content."}),labelIfDisabled:(0,r.jsx)(o().sA,{id:"capabilitiesTooltip.mixedaccess.readContent.disabled",defaultMessage:"Cannot read content."})},"read_content"),(0,r.jsx)(l,{enabled:n&&e.insert_content,labelIfEnabled:(0,r.jsx)(o().sA,{id:"capabilitiesTooltip.mixedaccess.insertContent.enabled",defaultMessage:"Can insert content."}),labelIfDisabled:(0,r.jsx)(o().sA,{id:"capabilitiesTooltip.mixedaccess.insertContent.disabled",defaultMessage:"Cannot insert content."})},"insert_content"),(0,r.jsx)(l,{enabled:n&&e.update_content,labelIfEnabled:(0,r.jsx)(o().sA,{id:"capabilitiesTooltip.mixedaccess.updateContent.enabled",defaultMessage:"Can update content."}),labelIfDisabled:(0,r.jsx)(o().sA,{id:"capabilitiesTooltip.mixedaccess.updateContent.disabled",defaultMessage:"Cannot update content."})},"update_content"),(0,r.jsx)(l,{enabled:n&&e.insert_comment,labelIfEnabled:(0,r.jsx)(o().sA,{id:"capabilitiesTooltip.insertComment.enabled",defaultMessage:"Can comment."}),labelIfDisabled:(0,r.jsx)(o().sA,{id:"capabilitiesTooltip.insertComment.disabled",defaultMessage:"Cannot comment."})},"insert_comment"),(0,r.jsx)(l,{enabled:n&&e.read_comment,labelIfEnabled:(0,r.jsx)(o().sA,{id:"capabilitiesTooltip.readComment.enabled",defaultMessage:"Can read comments."}),labelIfDisabled:(0,r.jsx)(o().sA,{id:"capabilitiesTooltip.readComment.disabled",defaultMessage:"Cannot read comments."})},"read_comment")]}function d(e){return[(0,r.jsx)(l,{enabled:e.read_user_without_email,labelIfEnabled:(0,r.jsx)(o().sA,{id:"capabilitiesTooltip.userAccess.readUsers.enabled",defaultMessage:"Can view users."}),labelIfDisabled:(0,r.jsx)(o().sA,{id:"capabilitiesTooltip.userAccess.readUsers.disabled",defaultMessage:"Cannot view users."})},"read_user_without_email"),(0,r.jsx)(l,{enabled:e.read_user_with_email,labelIfEnabled:(0,r.jsx)(o().sA,{id:"capabilitiesTooltip.userAccess.readUserEmailAddresses.enabled",defaultMessage:"Can view user email addresses."}),labelIfDisabled:(0,r.jsx)(o().sA,{id:"capabilitiesTooltip.userAccess.readUserEmailAddresses.disabled",defaultMessage:"Cannot view user email addresses."})},"read_user_with_email")]}function u(e){return[(0,r.jsx)(l,{enabled:e.link_preview,labelIfEnabled:(0,r.jsx)(o().sA,{id:"capabilitiesTooltip.linkPreview.enabled",defaultMessage:"Can preview links."}),labelIfDisabled:(0,r.jsx)(o().sA,{id:"capabilitiesTooltip.linkPreview.disabled",defaultMessage:"Cannot preview links."})},"link_preview"),(0,r.jsx)(l,{enabled:e.synced_database,labelIfEnabled:(0,r.jsx)(o().sA,{id:"capabilitiesTooltip.syncedDatabase.enabled",defaultMessage:"Can sync databases."}),labelIfDisabled:(0,r.jsx)(o().sA,{id:"capabilitiesTooltip.syncedDatabase.disabled",defaultMessage:"Cannot sync databases."})},"synced_database")]}function p(e){const n={width:12,display:"inline",verticalAlign:"middle"};return e?(0,a().b)(n):(0,s().u)(n)}},772357:(e,n,t)=>{t.d(n,{l:()=>i().lZ});var i=()=>t(185807)},781937:(e,n,t)=>{t.d(n,{E:()=>g,b:()=>m});t(242343);var i=()=>t(174114),s=()=>t(281337),a=()=>t(827086),o=()=>t(106804),r=()=>t(435377),l=()=>t(31448),c=()=>t(194568),d=()=>t(206799),u=()=>t(610271),p=t(163643);function g(e){let{size:n=40}=e;const t=(0,i().IS)((e=>({wrapper:{width:n,height:n,display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},largeLogo:{width:"80%",height:"80%",position:"absolute",top:"-10%",left:"-5%"},smallLogoWrapper:{width:"60%",height:"60%",display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",bottom:0,right:0,boxShadow:e.shadowMD,borderRadius:"50%",backgroundColor:e.accentColors.gray[0]},smallLogo:{width:"70%"}})),[n]);return(0,p.jsxs)("div",{style:t.wrapper,children:[(0,p.jsx)(d().Q,{iconGroup:c().GK.sharepoint,variantName:"default",style:t.largeLogo}),(0,p.jsx)("div",{style:t.smallLogoWrapper,children:(0,r().oneDriveIcon)(t.smallLogo)})]})}function m(e){const{connectorType:n,title:t,subtext:r,titleSubtitleGap:m=!1,fullWidthTitle:h=!1}=e,f=c().GK[n],v="dark"===(0,i().eP)(),b=(0,i().IS)((e=>({logoSection:{padding:"40px 20px 24px 20px",gap:8,justifyContent:"center",alignItems:"center"},logos:{width:40,height:40},arrowLogo:{width:20,height:20,color:e.icon.secondary},titleWrapper:{width:"100%",justifyContent:"center",textAlign:"center",alignItems:"center",gap:m?12:0},title:{fontSize:16,paddingLeft:20,paddingRight:20,width:h?"auto":352,fontWeight:l().Wy.medium,lineHeight:"22px",marginBottom:"2px",justifyContent:"center",textWrap:"balance"},subtext:{fontSize:14,fontWeight:l().Wy.regular,color:`${e.text.secondary}`,textAlign:"center",alignItems:"center",justifyContent:"center",paddingLeft:20,paddingRight:20,textWrap:"balance"},wrapper:{paddingBottom:16}})),[m,h]);return(0,p.jsxs)("div",{style:b.wrapper,children:[(0,p.jsxs)(u().Ye,{style:b.logoSection,children:[(0,o().notionIcon)(b.logos),e.disconnectFlow?(0,a().xMarkIcon)(b.arrowLogo):(0,s().arrowLeftRightIcon)(b.arrowLogo),"sharepoint"===n?(0,p.jsx)(g,{}):(0,p.jsx)(d().Q,{iconGroup:f,overrideSize:()=>b.logos.width,variantName:v?"darkMode":"default"})]}),(0,p.jsxs)(u().wt,{style:b.titleWrapper,children:[(0,p.jsx)(u().Ye,{style:b.title,children:t}),r?(0,p.jsx)(u().Ye,{style:b.subtext,children:r}):(0,p.jsx)(p.Fragment,{})]})]})}},820731:(e,n,t)=>{t.d(n,{Q:()=>i});const i=t(129044).default.createValue({open:!1},{name:"UpgradeRequestFormModalStore"})},831586:(e,n,t)=>{t.d(n,{B:()=>x});t(725707),t(491955),t(403517),t(242343);var i=()=>t(803290),s=()=>t(174114),a=()=>t(260773),o=()=>t(921080),r=()=>t(150936),l=()=>t(653998),c=()=>t(31448),d=()=>t(108797),u=()=>t(535906),p=()=>t(935091),g=()=>t(858023),m=()=>t(88271),h=()=>t(610271),f=()=>t(640979),v=()=>t(167532),b=()=>t(330469),y=t(163643);function x(e){const{parent:n,from:t}=e,x=(0,s().IS)((e=>({bannerLikeIcon:{width:16,height:16,fill:e.blueColor,alignSelf:"flex-start",marginBottom:48,marginRight:4},caption:{color:e.text.tertiary,fontSize:c().J.UISmall.desktop,textWrap:"wrap"},option:{paddingTop:4,paddingBottom:4},optionLabel:{fontSize:14,marginBottom:2},disabledOptionLabel:{color:e.text.tertiary,fontSize:14,marginBottom:2}})),[]),A=(0,v().J)(),S=(0,i().K8)((()=>b().y.state.jiraSyncState),[]),j=(0,i().K8)((()=>b().y.state.analyticsFrom),[]),_="completed"===S,M=[{key:"jira-connection-section",render:e=>(0,y.jsx)(m().A,{...e}),items:[{key:"jira-ingestion-status-connecting",label:(0,y.jsx)(l().sA,{id:"assistantOverflowMenu.jiraIngestion.connecting",defaultMessage:"Connecting"}),caption:(0,y.jsx)(l().sA,{id:"assistantOverflowMenu.jiraIngestion.subtext",defaultMessage:"Your workspace owner is connecting Jira. This can take up to 36 hours"}),iconElement:(0,y.jsx)(y.Fragment,{children:(0,a().y)(x.bannerLikeIcon)}),disabled:!0,hidden:!("in_progress"===S||"editing"===S),action:()=>{}},{key:"jira-ingestion-status-connected",label:(0,y.jsx)(l().sA,{id:"assistantOverflowMenu.jiraIngestion.connected",defaultMessage:"Connected"}),caption:(0,y.jsx)(l().sA,{id:"assistantOverflowMenu.jiraIngestion.connected.subtext",defaultMessage:"Connected by workspace owner"}),icon:r().b,disabled:!0,hidden:!_,action:()=>{}},{key:"jira-ingestion-disconnect",label:(0,y.jsx)(l().sA,{id:"assistantOverflowMenu.jiraIngestion.disconnect",defaultMessage:"Disconnecting..."}),caption:(0,y.jsx)(l().sA,{id:"assistantOverflowMenu.jiraIngestion.disconnecting.subtext",defaultMessage:"Your workspace owner has disconnected Jira. This can take up to 3 hours."}),iconElement:(0,y.jsx)(y.Fragment,{children:(0,a().y)(x.bannerLikeIcon)}),disabled:!0,hidden:"disconnecting"!==S,action:()=>{}},{key:"jira-ingestion-settings",label:(0,y.jsx)(l().sA,{id:"assistantOverflowMenu.jiraIngestion.settings",defaultMessage:"Settings"}),icon:o().B,disabled:!1,hidden:"completed"!==S||!A,action:()=>{null==n||n.close(),(0,d().navigateToJiraUniversalScreen)({screenToShow:"settings_screen",analyticsFrom:t||j||"chat_menu"})}}].filter((e=>!e.hidden)).map((e=>{const{key:n,label:t,caption:i,icon:s,iconElement:a,disabled:o,action:r,labelStyleOverride:l,captionStyleOverride:c,iconStyleOverride:d}=e,p=s?s({width:12,height:12}):a;return{key:n,action:()=>r(),render:e=>(0,y.jsx)(u().A,{...e,disabled:o,title:(0,y.jsx)(h().Ye,{children:(0,y.jsxs)("div",{style:x.option,children:[(0,y.jsx)("div",{style:l??(o?x.disabledOptionLabel:x.optionLabel),children:t}),i&&(0,y.jsx)("div",{style:c??x.caption,children:i})]})}),left:p,leftStyle:d})}}))}];return(0,y.jsx)(p().A,{menuType:f().gu.Popup,minWidth:230,children:(0,y.jsx)(g().Ay,{type:g().Oh.Vertical,sections:M,initialFocus:void 0})})}},835431:(e,n,t)=>{t.d(n,{E:()=>m});var i=t(242343),s=()=>t(237385),a=()=>t(803290),o=()=>t(11639),r=()=>t(997310),l=()=>t(485966),c=()=>t(670682),d=()=>t(17791),u=()=>t(139586),p=()=>t(820731),g=()=>t(687867);function m(e){let{feature:n,entrypoint:t,analyticsEntrypoint:m}=e;const h=(0,s().v3)(),f=(0,r().r)(),v=null==f?void 0:f.id,b=(0,a().K8)((()=>{var e;return null===(e=l().default.state.currentUserStore)||void 0===e?void 0:e.id}),[]),y=(0,a().K8)((()=>p().Q.state.open),[]),x=(0,c().f_)({spaceId:v}),A=(0,u().y)(x),{requests:S}=(0,d().I)({spaceId:v}),[j,_]=(0,g().k)({feature:n,requests:S,userId:b}),M=A&&"unrequested"===j,k=(0,i.useCallback)((()=>{n&&M&&((0,o().u)({environment:h,event:{eventName:"upgrade_request_button_clicked",eventProperties:{feature:n,entrypoint:m}}}),p().Q.update((e=>({open:!0,feature:n,userId:b,setRequestState:_,entrypoint:t}))))}),[M,h,n,m,b,_,t]),C=(0,i.useCallback)((()=>{p().Q.update((e=>({open:!1})))}),[]);return n?{isModalOpen:y,openModal:k,closeModal:C,requestState:j,canUserRequestUpgrade:M,isUserEligibleToRequestUpgrade:A,userHasPendingRequest:"pending"===j}:{isModalOpen:!1,openModal:()=>{},closeModal:()=>{},requestState:"unrequested",canUserRequestUpgrade:!1,isUserEligibleToRequestUpgrade:!1,userHasPendingRequest:!1}}},844393:(e,n,t)=>{t.r(n),t.d(n,{closeSelfServeBusinessTrialEndingModal:()=>v,closeSelfServeBusinessTrialExplorePlanModal:()=>A,closeSelfServeBusinessTrialLossAversionModal:()=>y,closeSelfServeBusinessTrialStartModal:()=>h,createSelfServeBusinessTrial:()=>S,determineMessageEligibility:()=>j,openSelfServeBusinessTrialEndingModal:()=>f,openSelfServeBusinessTrialExplorePlanModal:()=>x,openSelfServeBusinessTrialLossAversionModal:()=>b,openSelfServeBusinessTrialStartModal:()=>m});var i=()=>t(486826),s=()=>t(519423),a=()=>t(647242),o=()=>t(678988),r=()=>t(884697),l=()=>t(818369),c=()=>t(220549),d=()=>t(879205),u=()=>t(967772),p=()=>t(35294),g=()=>t(262230);function m(e){u().iJ.setState({open:!0,...e})}function h(){u().iJ.update((e=>({...e,open:!1})))}function f(e){u().L3.update((()=>({...e,open:!0})))}function v(){u().L3.update((e=>({...e,open:!1,modalState:"initial"})))}function b(e){u().uE.setState({...e,open:!0})}function y(){u().uE.update((e=>({...e,open:!1})))}function x(e){u().Sp.setState({open:!0,...e})}function A(){u().Sp.update((e=>({...e,open:!1})))}async function S(e){const{billingData:n,environment:t,spaceStore:s,from:l,memberCount:c,prices:u,campaign:m="stacked_business_trial"}=e;if(!s||!l||!n||void 0===c)return;if("free"===(0,a().AI)(n))return void(await(0,p().applyReverseBusinessTrial)(s,t,l));const h=e.nowForTesting??i().c9.now(),f=c,v={product:"business",interval:"month",currency:d().A.state.selectedCurrencyCode??"USD"},b={items:[{price:(0,o().vk)(u,v),quantity:f}],trialEnd:h.plus({days:r().WL})};await(0,g().updateSubscription)({environment:t,spaceStore:s,from:l,desiredState:b,trialData:{id:m,from:l}})}async function j(e,n){const{billingData:t,environment:i,currentSpaceStore:o}=n,d=o.getSpaceId();if(!t)return!1;if(!(0,a().TB)(t))return!1;const u=(0,a().DS)(t),p=await l().callApi({eventName:"getCustomerOffersReceived",environment:i,data:{spaceId:d},headers:(0,s().WS)({cellId:void 0,spaceId:d})});if("failed"===p.type)return!1;const g=(0,r().yL)(p.data);if(!g)return!1;const m=Math.floor(u.diff(g,"days").days),h=c().J7[e];if("onboardingIntro"===e){const e=(0,r().F$)(p.data);if(0===m&&"onboarding"!==(null==e?void 0:e.entrypoint))return!1}return m===h}},847723:(e,n,t)=>{t.d(n,{Iu:()=>be,aV:()=>ye,KZ:()=>Le,fQ:()=>ke,LR:()=>xe});t(362833),t(403517);var i=t(242343),s=()=>t(237385),a=()=>t(803290),o=()=>t(174114),r=t(163643);const l={viewBox:"0 0 17 16",svg:(0,r.jsx)("path",{d:"m3.303 8.778.523-.522a.75.75 0 0 1 1.06 1.06L3.083 11.12a.75.75 0 0 1-1.06 0L.22 9.316a.75.75 0 1 1 1.06-1.06l.523.522V8a6.25 6.25 0 0 1 9.752-5.178.75.75 0 1 1-.842 1.242A4.75 4.75 0 0 0 3.303 8zm11-1.556.523.522a.75.75 0 0 0 1.06-1.06L14.085 4.88a.75.75 0 0 0-1.061 0L11.22 6.684a.75.75 0 0 0 1.06 1.06l.523-.522V8a4.75 4.75 0 0 1-7.41 3.936.75.75 0 1 0-.841 1.242A6.25 6.25 0 0 0 14.303 8z"})},c=(0,t(680369).wt)("arrowCircleLoopFillSmall",l);var d=()=>t(457967),u=()=>t(55813),p=()=>t(389324),g=()=>t(119181),m=()=>t(279464),h=()=>t(647242),f=()=>t(653998),v=()=>t(76394),b=()=>t(31448),y=()=>t(117751),x=()=>t(145046),A=()=>t(759625),S=()=>t(84543),j=()=>t(194568),_=()=>t(420789),M=()=>t(107640),k=()=>t(310450),C=()=>t(781937),w=()=>t(440380),I=()=>t(646240),T=()=>t(901928),L=()=>t(831586),B=()=>t(463002),D=()=>t(308110),P=()=>t(418096),O=()=>t(158960),W=()=>t(741329),F=()=>t(688522),N=()=>t(604322),U=()=>t(561775),R=()=>t(65062),E=()=>t(477784),z=()=>t(392608),q=()=>t(863969),K=()=>t(622286),Y=()=>t(167532),G=()=>t(840024),H=()=>t(330469),Q=()=>t(844393),J=()=>t(883466),V=()=>t(133926),$=()=>t(448476),X=()=>t(862185),Z=()=>t(209684),ee=()=>t(273520),ne=()=>t(356813),te=()=>t(772357),ie=()=>t(397791),se=()=>t(206799),ae=()=>t(701270),oe=()=>t(286404),re=()=>t(279150),le=()=>t(35462),ce=()=>t(611824),de=()=>t(610271),ue=()=>t(629457),pe=()=>t(90760);const ge=(0,f().YK)({turnOffAiWhenSubscribedToAiWarning:{id:"spaceBasicSettings.aiFeature.turnOffAiWhenSubscribedToAiWarning",defaultMessage:"Your current plan includes Notion AI. You can turn off access to AI, but you will continue to be billed for it."},turnOffAiWhenSubscribedToAccept:{id:"spaceBasicSettings.aiFeature.turnOffAiWhenSubscribedToAccept",defaultMessage:"Turn off AI"},aiConnectorsDescription:{id:"aiSettings.aiConnectors.description",defaultMessage:"Connect your favorite tools to Notion AI to get answers and information from your data. <learnmore>Learn more</learnmore>"},aiConnectorsHeader:{id:"aiSettings.aiConnectors.header",defaultMessage:"AI Connectors"},aiLeapLabel:{id:"spaceBasicSettings.aiLeap.label",defaultMessage:"Share data to improve Notion AI"},aiConnectorsUpsellBanner:{id:"aiSettings.aiConnectors.upsellBanner",defaultMessage:"Try Advanced AI features, free for 30 days"},aiConnectorsUpsellButton:{id:"aiSettings.aiConnectors.upsellButton",defaultMessage:"Try it now"},aiLeapDescription:{id:"spaceBasicSettings.aiLeap.description",defaultMessage:"Help improve Notionâ€™s AI models by allowing data from across this workspace to be shared with Notion. By enabling AI LEAP (Learning and Early Access Program) you are agreeing to the <inlinelink>Notion AI LEAP Supplementary Terms</inlinelink>. <learnmore>Learn more</learnmore>."},aiConnectedAppsSettingsButton:{id:"aiSettings.aiConnectedApps.settingsButton",defaultMessage:"Settings"},aiConnectedAppsConnectedStatus:{id:"aiSettings.aiConnectedApps.connectedStatus",defaultMessage:"Connected"},aiConnectedAppsConnectingStatus:{id:"aiSettings.aiConnectedApps.connectingStatus",defaultMessage:"Connecting...Could take up to {hours} hours"},aiConnectedAppsConnectingStatusWithProgress:{id:"aiSettings.aiConnectedApps.connectingStatusWithProgress",defaultMessage:"Connecting...{progress}% complete"},aiConnectedAppsDisconnectingStatus:{id:"aiSettings.aiConnectedApps.disconnectingStatus",defaultMessage:"Disconnecting..."},meetingNotesSettingsHeader:{id:"aiSettings.meetingNotesSettingsHeader",defaultMessage:"AI Meeting Notes"},meetingNotesSettingsDescription:{id:"aiSettings.meetingNotesSettingsDescription",defaultMessage:"When enabled, all members can access the AI Meeting Notes block to automatically create transcripts and summaries of their meetings."},coWritingSettingsHeader:{id:"aiSettings.coWritingSettingsHeader",defaultMessage:"AI Co-Editing Mode"},coWritingSettingsDescription:{id:"aiSettings.coWritingSettingsDescription",defaultMessage:"When enabled, AI will help improve your writing by auto-correcting spelling, grammar and style in real-time. <learnmore>Learn more</learnmore>"},personalSettingsHeader:{id:"aiSettings.personalSettingsHeader",defaultMessage:"Personal AI settings"},workspaceSettingsHeader:{id:"aiSettings.workspaceSettingsHeader",defaultMessage:"Workspace AI settings"},aiFeatureLabel:{id:"spaceBasicSettings.aiFeature.label",defaultMessage:"Enable Notion AI"},aiFeatureCaption:{id:"spaceBasicSettings.aiFeature.ga.caption",defaultMessage:"Enable to provide AI-powered functionality for all members of your workspace. By enabling Notion AI, you are agreeing to the <inlinelink>Notion AI Supplementary Terms</inlinelink>"}}),me=(0,f().YK)({slack_select_channels:{id:"aiSettings.aiConnectedApps.slackSelectChannels",defaultMessage:"Select channels"},sharepoint_select_sites:{id:"aiSettings.aiConnectedApps.sharepointSelectSites",defaultMessage:"Select sites"},slack_re_auth:{id:"aiSettings.aiConnectedApps.slackReAuth",defaultMessage:"Login required"},github_re_auth:{id:"aiSettings.aiConnectedApps.githubReAuth",defaultMessage:"Login required"},jira_connection_pending:{id:"aiSettings.aiConnectedApps.jiraConnectionPending",defaultMessage:"Finish setup"}}),he={github:{icon:j().FJ.github.icon,displayName:j().FJ.github.name,subtitle:w().rT.github,betaTag:j().DE.github},slack:{icon:j().FJ.slack.icon,displayName:j().FJ.slack.name,subtitle:w().rT.slack,betaTag:j().DE.slack},google_drive:{icon:j().FJ.google_drive.icon,displayName:j().FJ.google_drive.name,subtitle:w().rT.google_drive,betaTag:j().DE.google_drive},jira:{icon:j().FJ.jira.icon,displayName:j().FJ.jira.name,subtitle:w().rT.jira,betaTag:j().DE.jira},gmail:{icon:j().FJ.gmail.icon,displayName:j().FJ.gmail.name,subtitle:w().rT.gmail,betaTag:j().DE.gmail},microsoftTeams:{icon:j().FJ.microsoftTeams.icon,displayName:j().FJ.microsoftTeams.name,subtitle:w().rT.microsoftTeams,betaTag:j().DE.microsoftTeams},sharepoint:{icon:j().FJ.sharepoint.icon,displayName:E().A.formatMessage(j().Nv),subtitle:w().rT.sharepoint,betaTag:j().DE.sharepoint},linear:{icon:j().FJ.linear.icon,displayName:j().FJ.linear.name,subtitle:w().rT.linear,betaTag:j().DE.linear}};function fe(e){const{spaceStore:n}=e,t=(0,s().v3)(),{device:o}=t,l=(0,a().K8)((()=>{const e=n.getModel();return!e||e.isTranscriptionEnabled()}),[n]),c=(0,i.useCallback)((()=>{S().createAndCommit({userAction:"AiSettings.toggleTranscription",environment:t,canUndo:!1,perform:e=>{A().zv({store:n.getSettingsStore(),transaction:e,data:{disable_transcription:l}})}})}),[l,n,t]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(pe().A,{isMobile:o.isMobile,type:"toggle",isOn:l,onToggle:c,title:(0,r.jsx)(f().sA,{...ge.meetingNotesSettingsHeader}),caption:(0,r.jsx)(f().sA,{...ge.meetingNotesSettingsDescription,values:{learnmore:e=>(0,r.jsx)(ce().A,{href:N().WQ,external:!0,onClick:e=>e.stopPropagation(),children:e})}})}),(0,r.jsx)(re().A,{size:8})]})}function ve(e){let{}=e;const n=(0,s().v3)(),{device:t}=n;return(0,r.jsx)(pe().A,{isMobile:t.isMobile,type:"toggle",isOn:!0,onToggle:()=>{},title:(0,r.jsx)(f().sA,{...ge.coWritingSettingsHeader}),caption:(0,r.jsx)(f().sA,{...ge.coWritingSettingsDescription,values:{learnmore:e=>(0,r.jsx)(ce().A,{href:"#",external:!0,onClick:e=>e.stopPropagation(),children:e})}})})}function be(e){let{securitySettingsStore:n}=e;const t=(0,s().v3)(),{device:i}=t,o=(0,a().K8)((()=>Boolean(n.state.enableAiTraining)),[n]);return(0,r.jsx)(pe().A,{isMobile:i.isMobile,type:"toggle",isOn:o,onToggle:()=>{n.setState({...n.state,enableAiTraining:!o})},title:(0,r.jsx)(f().sA,{...ge.aiLeapLabel}),caption:(0,r.jsx)(f().sA,{...ge.aiLeapDescription,values:{learnmore:e=>(0,r.jsx)(ce().A,{href:"https://www.notion.so/help/notion-ai-leap-program-faqs",external:!0,onClick:e=>e.stopPropagation(),children:e}),inlinelink:e=>(0,r.jsx)(ce().A,{href:"https://notion.notion.site/0c55d702d0154a788d9e70c4ee396399",external:!0,onClick:e=>e.stopPropagation(),children:e})}})})}function ye(e){let{billingData:n,spaceStore:t}=e;const i=(0,s().v3)(),{device:o}=i,l=(0,a().K8)((()=>t.isAiEnabledOnSpace()),[t]);return(0,r.jsx)(pe().A,{isMobile:o.isMobile,type:"toggle",isOn:l,onToggle:async()=>{await async function(e){const{environment:n,billingData:t,spaceStore:i}=e,s=(0,h().eh)(t,"ai"),a=!i.isAiEnabledOnSpace();if(!a&&s){if(!(await x().Gh({message:E().A.formatMessage(ge.turnOffAiWhenSubscribedToAiWarning),acceptLabel:E().A.formatMessage(ge.turnOffAiWhenSubscribedToAccept)})).accept)return}S().createAndCommit({userAction:"AiSettings.toggleAiFeature",environment:n,canUndo:!1,perform:e=>{"enterprise"===i.getSubscriptionTier()?A().zv({store:i.getSettingsStore(),transaction:e,data:{enable_ai_feature:a}}):A().zv({store:i.getSettingsStore(),transaction:e,data:{disable_ai_feature:!a}})}})}({environment:i,billingData:n,spaceStore:t})},title:(0,r.jsx)(f().sA,{...ge.aiFeatureLabel}),caption:(0,r.jsx)(f().sA,{...ge.aiFeatureCaption,values:{inlinelink:e=>(0,r.jsx)(ce().A,{href:"https://notion.notion.site/fa9034c8b5a04818a6baf3eac2adddbb",external:!0,onClick:e=>e.stopPropagation(),children:e})}})})}function xe(e){var n;const{spaceStore:t,billingData:i}=e;return!!t.canAdmin()&&(!!Boolean(null===(n=t.getModel())||void 0===n?void 0:n.isAiLeapEnabledOnSpace())||!(0,h().N8)(null==i?void 0:i.subscription)&&G().zD.isWorkspaceLeapEligible({ignoreEnterpriseCheck:!0}))}function Ae(e){let{connectorType:n}=e;const t=(0,s().v3)(),[a,l]=(0,i.useState)(!1),c="dark"===(0,o().eP)(),d=(0,o().IS)((e=>({contentWrapper:{display:"flex",flexDirection:"column",gap:4,height:"auto",border:`1px solid ${e.stroke.secondary}`,borderRadius:4,padding:12},topRow:{display:"flex",justifyContent:"space-between",width:"100%"},iconTitleWrapper:{display:"flex",alignItems:"center",gap:4,width:"fit-content",maxWidth:"calc(100% - 24px)"},iconWrapper:{width:24,height:24,borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center"},textWrapper:{display:"flex",flexDirection:"column",gap:2,width:"100%",minWidth:0},title:{fontSize:b().J.UIRegular.desktop,color:e.text.primary,fontWeight:b().Wy.medium,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:2},subtitle:{fontSize:b().J.UISmall.desktop,color:e.text.secondary,textWrap:"pretty",maxWidth:"calc(100% - 24px)"},fakePlusIconButton:{width:24,height:24,flexShrink:0,borderRadius:"50%",backgroundColor:a?e.accentColors.blue[100]:e.accentColors.blue[50],display:"flex",alignItems:"center",justifyContent:"center"},fakePlusIcon:{fill:e.accentColors.uiBlue[600],width:16,height:16},betaBadge:{marginLeft:0,alignSelf:"flex-start",marginTop:4}})),[a]),u=(0,q().O)(),p=(0,V()._X)({name:"ai_connectors",spaceId:u,userId:t.currentUser.id});return(0,r.jsxs)(Z().p,{disabled:!p,onClick:()=>{p&&function(e,n,t){(0,M().p)({connector:e,environment:n,analyticsFrom:"ai_settings_page",connectorsFeatureAvailability:t})}(n,t,p)},style:d.contentWrapper,children:[(0,r.jsxs)("div",{style:d.topRow,children:[(0,r.jsxs)("div",{style:d.iconTitleWrapper,children:[(0,r.jsx)("div",{style:d.iconWrapper,children:"sharepoint"===n?(0,r.jsx)(C().E,{size:24}):(0,r.jsx)(se().Q,{iconGroup:he[n].icon,variantName:c?"darkMode":"default"})}),(0,r.jsx)("div",{style:d.title,children:he[n].displayName})]}),(0,r.jsx)("div",{style:d.fakePlusIconButton,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:(0,g().plusFillIcon)(d.fakePlusIcon)})]}),(0,r.jsx)("div",{style:d.textWrapper,children:(0,r.jsx)("div",{style:d.subtitle,children:(0,r.jsx)(f().sA,{...he[n].subtitle})})}),he[n].betaTag&&(0,r.jsx)(X().A,{style:d.betaBadge})]})}function Se(e){let{availableConnectors:n}=e;return(0,r.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8},children:n.map((e=>(0,r.jsx)(Ae,{connectorType:e},e)))})}function je(e){let{availableConnectors:n}=e;return 0===n.length?null:(0,r.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:(0,r.jsx)(Se,{availableConnectors:n})})}function _e(e){let{connectorType:n,connectionStatus:t,showTopBorder:i}=e;const s="dark"===(0,o().eP)(),a=(0,o().IS)((e=>({contentWrapper:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0px",borderBottom:`1px solid ${e.stroke.secondary}`,borderTop:i?`1px solid ${e.stroke.secondary}`:"none",borderRadius:4},leftContentWrapper:{display:"flex",alignItems:"center",gap:10},rightContentWrapper:{display:"flex",alignItems:"center",gap:12},iconWrapper:{width:24,height:24,display:"flex",alignItems:"center",justifyContent:"center"},titleAndWorkspaceNameWrapper:{display:"flex",flexDirection:"column",gap:0},title:{display:"flex",alignItems:"center",gap:4,fontSize:b().J.UIRegular.desktop,fontWeight:b().Wy.medium,color:e.text.primary}})),[i]);return(0,r.jsxs)("div",{style:a.contentWrapper,children:[(0,r.jsxs)("div",{style:a.leftContentWrapper,children:[(0,r.jsx)("div",{style:a.iconWrapper,children:"sharepoint"===n?(0,r.jsx)(C().E,{size:24}):(0,r.jsx)(se().Q,{iconGroup:he[n].icon,variantName:s?"darkMode":"default"})}),(0,r.jsx)("div",{style:a.titleAndWorkspaceNameWrapper,children:(0,r.jsxs)("div",{style:a.title,children:[he[n].displayName,he[n].betaTag&&(0,r.jsx)(X().A,{})]})})]}),(0,r.jsxs)("div",{style:a.rightContentWrapper,children:[(0,r.jsx)(Ce,{connectorType:n,connectionStatus:t}),(0,r.jsx)(ee().Ay,{popupType:ee().z7.Popup,renderOrigin:e=>(0,r.jsx)(ne().A,{...e,style:{width:24,height:24},iconStyle:{width:20,height:20},icon:p().gearIcon,ariaLabel:E().A.formatMessage(ge.aiConnectedAppsSettingsButton)}),render:e=>(0,r.jsx)(Me,{connectorType:n,buttonPopupParent:e})})]})]})}function Me(e){const{connectorType:n,buttonPopupParent:t}=e;return"slack"===n?(0,r.jsx)(O().SlackConnectionOptions,{parent:t}):"google_drive"===n?(0,r.jsx)(T().A,{parent:t}):"github"===n?(0,r.jsx)(I().Q,{parent:t}):"jira"===n?(0,r.jsx)(L().B,{parent:t}):"microsoftTeams"===n?(0,r.jsx)(D().h,{parent:t}):"sharepoint"===n?(0,r.jsx)(P().u,{parent:t}):"gmail"===n?(0,r.jsx)(k().a,{connector:n,parent:t}):"linear"===n?(0,r.jsx)(B().w,{parent:t}):void(0,v().HB)(n)}const ke={slack:36,google_drive:36,github:72,jira:36,microsoftTeams:72,sharepoint:36,gmail:36,linear:36};function Ce(e){const{connectorType:n,connectionStatus:t}=e,i=(0,s().v3)(),a=(0,q().O)(),l=(0,o().IS)((e=>({connectedStatusWrapper:{display:"flex",gap:4,flexWrap:"nowrap"},connectedStatusIconWrapper:{display:"flex",alignItems:"center",justifyContent:"center"},connectedStatusIcon:{width:16,height:16,fill:e.lightIconColor},connectedStatusMessage:{fontSize:b().J.UISmall.desktop,fontWeight:b().Wy.regular,color:e.text.secondary},connectingStatusWrapper:{display:"flex",gap:4,flexWrap:"nowrap"},connectingStatusIconWrapper:{display:"flex",alignItems:"center",justifyContent:"center"},connectingStatusMessage:{fontSize:b().J.UISmall.desktop,fontWeight:b().Wy.regular,color:e.text.secondary},connectingStatusIcon:{width:16,height:16,fill:e.accentColors.uiBlue[600]},actionRequiredStatusIcon:{width:16,height:16,fill:"dark"===e.mode?e.accentColors.red[900]:e.accentColors.red[500]}})),[]);return"connected"===t.type?(0,r.jsxs)("div",{style:l.connectedStatusWrapper,children:[(0,r.jsx)("div",{style:l.connectedStatusIconWrapper,children:(0,d().checkmarkFillSmallIcon)(l.connectedStatusIcon)}),(0,r.jsx)("div",{style:l.connectedStatusMessage,children:(0,r.jsx)(f().sA,{...ge.aiConnectedAppsConnectedStatus})})]}):"in_progress"===t.type?(0,r.jsxs)("div",{style:l.connectingStatusWrapper,children:[(0,r.jsx)("div",{style:l.connectingStatusIconWrapper,children:c(l.connectingStatusIcon)}),(0,r.jsx)("div",{style:l.connectingStatusMessage,children:t.ingestionProgress?(0,r.jsx)(f().sA,{...ge.aiConnectedAppsConnectingStatusWithProgress,values:{progress:t.ingestionProgress}}):(0,r.jsx)(f().sA,{...ge.aiConnectedAppsConnectingStatus,values:{hours:ke[n]}})})]}):"action_required"===t.type?(0,r.jsx)(oe().A,{icon:u().exclamationMarkTriangleFillIcon,iconStyle:l.actionRequiredStatusIcon,onClick:()=>{a&&function(e){const{action:n,environment:t,spaceId:i,analyticsFrom:s}=e;"slack_select_channels"===n?y().nh():"sharepoint_select_sites"===n?y().oz():"slack_re_auth"===n?y().yE({environment:t,spaceId:i,analyticsProperties:{analyticsFrom:s,buttonName:n,sessionId:F().R.state.sessionId}}):"github_re_auth"===n?y().pd({environment:t,spaceId:i,analyticsProperties:{analyticsFrom:s,buttonName:n}}):"jira_connection_pending"===n?y().bS({environment:t,spaceId:i,analyticsProperties:{analyticsFrom:s,buttonName:n,sessionId:H().y.state.sessionId}}):(0,v().HB)(n)}({action:t.action,environment:i,spaceId:a,analyticsFrom:"ai_workspace_settings"})},children:(0,r.jsx)(f().sA,{...me[t.action]})}):"disconnecting"===t.type?(0,r.jsxs)("div",{style:l.connectingStatusWrapper,children:[(0,r.jsx)("div",{style:l.connectedStatusIconWrapper,children:c(l.connectingStatusIcon)}),(0,r.jsx)("div",{style:l.connectingStatusMessage,children:(0,r.jsx)(f().sA,{...ge.aiConnectedAppsDisconnectingStatus})})]}):void(0,v().HB)(t)}function we(e){let{connectedConnectors:n}=e;const t=(0,o().IS)((e=>({contentWrapper:{display:"flex",flexDirection:"column"}})),[]);return(0,r.jsx)("div",{style:t.contentWrapper,children:n.map(((e,n)=>(0,r.jsx)(Ie,{connectorType:e,showTopBorder:0===n},e)))})}function Ie(e){const{connectorType:n,showTopBorder:t}=e,i=(0,Y().J)(),s=(0,a().K8)((()=>(0,R().HF)(n,i)),[n,i]);return(0,r.jsx)(_e,{connectorType:n,connectionStatus:s,showTopBorder:t})}function Te(){return(0,r.jsx)(te().l,{display:"inline",tint:"gray",label:(0,r.jsxs)(de().Ye,{alignItems:"center",justifyContent:"space-between",children:[(0,r.jsxs)(de().Ye,{gap:8,alignItems:"center",children:[(0,r.jsx)(ie().I,{icon:m().presentFillIcon,color:"orangePrimary"}),(0,r.jsx)(ae().D,{styleName:"UIRegular-14px/Medium",colorName:"primary",children:(0,r.jsx)(f().sA,{...ge.aiConnectorsUpsellBanner})})]}),(0,r.jsx)(oe().A,{onClick:()=>(0,Q().openSelfServeBusinessTrialStartModal)({openedFrom:"business_trial_ai_settings_banner"}),children:(0,r.jsx)(ae().D,{styleName:"UIRegular-14px/Medium",colorName:"primary",children:(0,r.jsx)(f().sA,{...ge.aiConnectorsUpsellButton})})})]})})}function Le(e){const{spaceStore:n,billingData:t,securitySettingsStore:i}=e,o=(0,s().v3)(),l=(0,Y().J)(),c=(0,a().K8)((()=>(0,U().Q)(o)),[o]),d=(0,a().K8)((()=>xe({spaceStore:n,billingData:t})),[n,t]),u=(0,a().K8)((()=>n.isAiEnabledOnSpace()),[n]),p=(0,K().X)("meeting_notes_toggle")&&l,g=(0,a().K8)((()=>(0,W().kB)()),[]),m=(0,a().K8)((()=>g.length>0),[g]),h=(0,K().X)("business_trials_2025"),v=(0,J().O)(),b=h&&v,y=(0,a().K8)((()=>(0,W().wd)()),[]),{availableConnectors:x,inProgressAndConnectedConnectors:A}=(0,a().K8)((()=>{const e=[],n=[];for(const t of g){const i=(0,R().HF)(t,l);"action_required"===i.type||"in_progress"===i.type||"disconnecting"===i.type||y.includes(t)?n.push(t):e.push(t)}return{availableConnectors:e,inProgressAndConnectedConnectors:n}}),[l,g,y]),S=l&&(c||d),j=S&&(m||p),M=(0,K().X)("ai_co_editing");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ue().A,{divider:"full",children:(0,r.jsx)(f().sA,{..._().D.notionAI})}),S&&(0,r.jsxs)(r.Fragment,{children:[c&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ye,{billingData:t,spaceStore:n}),(0,r.jsx)(re().A,{size:16})]}),d&&u&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(be,{securitySettingsStore:i}),(0,r.jsx)(re().A,{size:16})]})]}),u&&(0,r.jsxs)(r.Fragment,{children:[j&&(0,r.jsx)(ue().A,{divider:"full",hasMarginTop:!0,children:(0,r.jsx)(f().sA,{...ge.workspaceSettingsHeader})}),b&&(0,r.jsx)("div",{style:{marginBottom:24},children:(0,r.jsx)(Te,{})}),!b&&(0,r.jsx)($().f,{upgradeRequestAnalyticsEntrypoint:"ai_settings",upgradeRequestEntrypoint:"settings",sunsetCheckSource:"ai_settings_banner"}),m&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ue().A,{children:(0,r.jsx)(f().sA,{...ge.aiConnectorsHeader})}),(0,r.jsx)(le().A,{isSmall:!0,children:(0,r.jsx)(f().sA,{...ge.aiConnectorsDescription,values:{learnmore:e=>(0,r.jsx)(ce().A,{href:(0,z().xS)("guides.aiConnectors"),external:!0,onClick:e=>e.stopPropagation(),children:e})}})}),(0,r.jsx)(re().A,{size:16}),A.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(we,{connectedConnectors:A}),(0,r.jsx)(re().A,{size:16})]}),x.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(je,{availableConnectors:x}),(0,r.jsx)(re().A,{size:16})]})]}),p&&(0,r.jsx)(fe,{spaceStore:n}),M&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ue().A,{divider:"full",hasMarginTop:!0,children:(0,r.jsx)(f().sA,{...ge.personalSettingsHeader})}),(0,r.jsx)(ve,{}),(0,r.jsx)(re().A,{size:8})]})]})]})}},883466:(e,n,t)=>{t.d(n,{O:()=>s});var i=()=>t(967010);function s(){const e=(0,i().g)("biz_upgrade_2025_8"),n=(0,i().g)("biz_upgrade_2025_10"),t=(0,i().g)("stacked_business_trial"),s=(0,i().g)("business_reverse");return!e&&!n&&Boolean(t||s)}},901928:(e,n,t)=>{t.d(n,{A:()=>_});t(725707),t(491955),t(403517);var i=t(242343),s=()=>t(237385),a=()=>t(269280),o=()=>t(803290),r=()=>t(174114),l=()=>t(260773),c=()=>t(921080),d=()=>t(150936),u=()=>t(653998),p=()=>t(108797),g=()=>t(535906),m=()=>t(966789),h=()=>t(935091),f=()=>t(858023),v=()=>t(88271),b=()=>t(610271),y=()=>t(640979),x=()=>t(167532),A=()=>t(485966),S=()=>t(14944),j=t(163643);function _(e){const{parent:n,callGetStatusAPI:t,from:_}=e,M=Boolean(t),[k,C]=i.useState(M),w=(0,r().IS)((e=>({bannerLikeIcon:{width:16,height:16,fill:e.blueColor,alignSelf:"flex-start",marginTop:12,marginRight:4},caption:{color:e.text.tertiary,fontSize:12,textWrap:"wrap"},bannerLikeCaption:{display:"flex",alignItems:"top",justifyContent:"center",color:e.text.tertiary,whiteSpace:"normal",fontSize:12},option:{paddingTop:4,paddingBottom:4},optionLabel:{fontSize:14,marginBottom:2},bannerLikeLabel:{fontSize:14,marginBottom:2,whiteSpace:"normal"},disabledOptionLabel:{color:e.text.tertiary,fontSize:14,marginBottom:2}})),[]),I=(0,x().J)(),T=(0,o().K8)((()=>S().d.state.isDisconnecting),[]),L=(0,o().K8)((()=>S().d.state.isEditing),[]),B=(0,o().K8)((()=>S().d.state.initialSyncState),[]),D=(0,o().O$)(A().AppStoreCurrentSpaceStore),P=(0,o().K8)((()=>S().d.state.analyticsFrom),[]),O=(0,s().v3)();if((0,a().l)((async()=>{D&&M&&(C(!0),await(0,p().updateGoogleDriveQnAConnectionState)({environment:O,spaceId:D.getSpaceId()}),C(!1))})),k)return(0,j.jsx)(b().Ye,{style:{width:200,height:50,justifyContent:"center",alignItems:"center"},children:(0,j.jsx)(m().A,{})});const W="in_progress"===B||L,F="completed"===B,N=[{key:"google-connection-section",render:e=>(0,j.jsx)(v().A,{...e}),items:[{key:"google-drive-ingestion-status-connecting",label:(0,j.jsx)(u().sA,{id:"assistantOverflowMenu.googleIngestion.connecting",defaultMessage:"Connecting"}),caption:(0,j.jsx)(u().sA,{id:"assistantOverflowMenu.googleIngestion.subtext",defaultMessage:"This can take up to 36 hours"}),disabled:!0,hidden:!W||T,action:()=>{}},{key:"google-drive-ingestion-status-connected",label:(0,j.jsx)(u().sA,{id:"assistantOverflowMenu.googleIngestion.connected",defaultMessage:"Connected"}),caption:(0,j.jsx)(u().sA,{id:"assistantOverflowMenu.googleIngestion.connected.subtext",defaultMessage:"Connected by workspace owner"}),icon:d().b,disabled:!0,hidden:!F||T,action:()=>{}},{key:"google-drive-ingestion-status-disconnecting",label:(0,j.jsx)(u().sA,{id:"assistantOverflowMenu.googleIngestion.disconnecting",defaultMessage:"Google Drive is disconnecting from Notion"}),caption:(0,j.jsx)(u().sA,{id:"assistantOverflowMenu.googleIngestion.disconnecting.subtext",defaultMessage:"Your workspace owner has disconnected Google Drive. This can take up to 3 hours."}),disabled:!0,hidden:!T,iconElement:(0,j.jsx)(j.Fragment,{children:(0,l().y)(w.bannerLikeIcon)}),action:()=>{},labelStyleOverride:w.bannerLikeLabel,captionStyleOverride:w.bannerLikeCaption},{key:"google-drive-ingestion-settings",label:(0,j.jsx)(u().sA,{id:"assistantOverflowMenu.googleIngestion.settings",defaultMessage:"Settings"}),icon:c().B,disabled:T,hidden:W||T||!I,action:()=>{null==n||n.close(),(0,p().navigateToGoogleDriveUniversalScreen)({screenToShow:"settings_screen",analyticsFrom:_||P||"chat_menu"})}}].filter((e=>!e.hidden)).map((e=>{const{key:n,label:t,caption:i,icon:s,iconElement:a,disabled:o,action:r,labelStyleOverride:l,captionStyleOverride:c,iconStyleOverride:d}=e,u=s?s({width:12,height:12}):a;return{key:n,action:()=>{r()},render:e=>(0,j.jsx)(g().A,{...e,title:(0,j.jsx)(b().Ye,{children:(0,j.jsxs)("div",{style:w.option,children:[(0,j.jsx)("div",{style:l??(o?w.disabledOptionLabel:w.optionLabel),children:t}),i&&(0,j.jsx)("div",{style:c??w.caption,children:i})]})}),left:u,leftStyle:d,disabled:o})}}))}];return(0,j.jsx)(h().A,{menuType:y().gu.Popup,minWidth:230,children:(0,j.jsx)(f().Ay,{type:f().Oh.Vertical,sections:N,initialFocus:void 0})})}},912258:(e,n,t)=>{t.d(n,{x:()=>h});var i=t(242343),s=()=>t(237385),a=()=>t(803290),o=()=>t(653998),r=()=>t(76394),l=()=>t(420789),c=()=>t(258813),d=()=>t(943066),u=()=>t(700432),p=()=>t(835431),g=()=>t(622286),m=t(163643);function h(e){const{featureAvailability:n,upgradeRequestAnalyticsEntrypoint:t,upgradeRequestEntrypoint:h,upsellFrom:f,sunsetCheckSource:v}=e,b=(0,s().v3)(),y=(0,o().tz)(),x=(0,u().q)(),A=(0,g().X)("packaging_changes_05_13_2025"),S=(0,a().K8)((()=>!!n&&("available"===n.type&&void 0!==n.expiry&&"sunset"===n.expiry.type)),[n]),j=function(e){if(!e)return;const n="unavailable"===e.type?e.upsell:void 0!==e.expiry?e.expiry.upsell:void 0;if(!n)return;const t=n.type;switch(t){case"product":const e=n.product;switch(e){case"ai":case"business":case"enterprise":return e;case"plus":case"personal":case"sites_custom_hostnames":case void 0:return;default:(0,r().HB)(e)}return;case"none":case void 0:return;default:(0,r().HB)(t)}}(n),{userHasPendingRequest:_,canUserRequestUpgrade:M,openModal:k}=(0,p().E)({feature:j,entrypoint:h,analyticsEntrypoint:t}),C="sales_assisted"===x;return(0,i.useMemo)((()=>{if(!n||!j)return{upsellHeader:void 0,upsellMessage:y.formatMessage(l().D.noAccessFeatureMessage),actionButtonMsg:void 0,actionForFeatureAvailability:void 0,isSunset:S};if("available"===n.type){const e=n.expiry;if(void 0!==v&&S&&void 0!==n&&void 0!==e){const n=()=>{(0,d().K)(b,{from:f,upsell:e.upsell})};return{upsellHeader:y.formatMessage(l().D.upgradeToBusiness),upsellMessage:y.formatMessage(l().D.aiConnectorsSunsetUpsellBanner,{date:e.endDate.toFormat("MMMM d"),bold:e=>(0,m.jsx)(c().f,{onClick:n,children:e}),breakLine:"assistant_overflow_menu"===v,br:(0,m.jsx)("br",{})}),actionButtonMsg:y.formatMessage(l().D.upgradeButton),actionForFeatureAvailability:n,isSunset:S}}return{upsellHeader:void 0,upsellMessage:void 0,actionButtonMsg:void 0,actionForFeatureAvailability:void 0,isSunset:S}}const e=function(e){const{isMemberWithPendingUpgradeRequest:n,isMemberCanRequestUpgrade:t,salesAssistedUpgradeRequired:i,may13PackagingChangesEnabled:s}=e,a=t?"memberCanRequest":n?"memberRequested":"adminUpsell",o=i?"salesAssisted":"selfService",r=s?"v2":"v1",c=`${a}.${o}.${r}`;return l().D[c]}({isMemberWithPendingUpgradeRequest:_,isMemberCanRequestUpgrade:M,salesAssistedUpgradeRequired:C,may13PackagingChangesEnabled:A});if(_)return{upsellHeader:void 0,upsellMessage:y.formatMessage(e),actionButtonMsg:void 0,actionForFeatureAvailability:void 0,isSunset:S};if(M)return{upsellHeader:void 0,upsellMessage:y.formatMessage(e,{bold:e=>(0,m.jsx)(c().f,{onClick:k,children:e})}),actionButtonMsg:y.formatMessage(l().D.upgradeRequestButton),actionForFeatureAvailability:k,isSunset:S};{const t=()=>{(0,d().K)(b,{from:f,upsell:n.upsell})},i=C?y.formatMessage(l().D.contactSalesButton):y.formatMessage(l().D.getUnlimitedAI);return{upsellHeader:void 0,upsellMessage:y.formatMessage(e,{bold:e=>(0,m.jsx)(c().f,{onClick:t,children:e})}),actionButtonMsg:i,actionForFeatureAvailability:t,isSunset:S}}}),[b,y,C,f,n,j,_,M,A,k,S,v])}},967010:(e,n,t)=>{t.d(n,{g:()=>l});var i=t(242343),s=()=>t(237385),a=()=>t(863969),o=()=>t(384055),r=()=>t(702888);function l(e){var n;const t=(0,s().v3)(),[l,c]=(0,i.useState)(),d=(0,a().O)(),u=(null===(n=(0,r().g)({spaceId:d}))||void 0===n?void 0:n.length)??0;return(0,i.useEffect)((()=>{!async function(){d&&c(await(0,o().L6)({environment:t,spaceId:d,offerCampaign:e}))}()}),[t,d,e,u]),l}},967772:(e,n,t)=>{t.d(n,{L3:()=>a,Sp:()=>r,iJ:()=>s,uE:()=>o});var i=()=>t(129044);const s=i().default.createValue({open:!1,openedFrom:void 0},{name:"SelfServeBusinessTrialStartModalStore"}),a=i().default.createValue({open:!1,openedFrom:void 0,recentPageStores:[],verifiedPageStores:[],teamStores:[],workspaceUserStores:[],connectedApps:[],modalState:"initial"},{name:"SelfServeBusinessTrialEndingModalStore"}),o=i().default.createValue({open:!1,openedFrom:void 0,connectedApps:[],teamStores:[],pageStores:[],onSecondaryButtonClick:void 0},{name:"SelfServeBusinessTrialLossAversionModalStore"}),r=i().default.createValue({open:!1,connectedApps:[],teamStores:[],pageStores:[]},{name:"SelfServeBusinessTrialExplorePlanStore"})}}]);