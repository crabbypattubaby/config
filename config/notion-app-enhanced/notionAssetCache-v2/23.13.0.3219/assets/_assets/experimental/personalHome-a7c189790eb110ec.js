"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[44802],{12542:(e,t,n)=>{n.d(t,{A:()=>c,u:()=>l});n(725707),n(771702),n(403517);var i=n(242343),o=()=>n(653998),a=()=>n(273520),s=()=>n(858023),r=n(163643);const l=(0,o().YK)({hide:{id:"PersonalHomePanel.moreDropdown.hide.title",defaultMessage:"Hide from Home"}});function d(e){let{actions:t}=e;const d=(0,o().tz)(),c=(0,i.useMemo)((()=>{const e={};return t.forEach((t=>{"custom"===t.type&&(e[t.item.key]=t.closeOnAccept)})),e}),[t]),u=[{key:"all",render:e=>(0,r.jsx)(n(88271).A,{...e}),items:t.map((e=>{switch(e.type){case"hide":return{key:"hide",render:e=>(0,r.jsx)(n(535906).A,{...e,icon:(0,r.jsx)(n(397791).I,{icon:n(99949).e}),title:d.formatMessage(l.hide),style:{borderRadius:n(382640)._g}}),action:e.hide};case"custom":return e.item;default:(0,n(76394).HB)(e)}}))}];return(0,r.jsx)(a().Ay,{popupType:a().z7.Popup,alignmentToOrigin:a().yP.Center,originGap:2,renderOrigin:e=>(0,r.jsx)(n(169959).A,{...e}),render:e=>(0,r.jsx)(n(935091).A,{menuType:n(640979).gu.Popup,children:(0,r.jsx)(s().Ay,{onAccept:t=>((e,t)=>{c[e.key]&&t.close()})(t,e),type:s().Oh.Vertical,sections:u,initialFocus:void 0})})})}const c=i.memo(d)},16250:(e,t,n)=>{n.d(t,{m:()=>u});n(725707),n(491955),n(500234),n(113085);var i=n(242343),o=()=>n(237385),a=()=>n(803290),s=()=>n(706788),r=()=>n(485966),l=()=>n(836331),d=()=>n(773082),c=()=>n(427871);function u(){const e=(0,o().v3)(),t=(0,i.useRef)(void 0);return(0,a().K8)((()=>{if(void 0===t.current){if(!l().default.isStatsigReady())return{loading:!0,botId:void 0,botSpaceId:void 0,botUserId:void 0};t.current=l().default.checkGate({gateName:"calendar_home_tile_caching"})}if(t.current){var n;const{currentSpaceViewStore:t}=r().default.state;if(!t||!t.isReady())return{loading:!0,botId:void 0,botSpaceId:void 0,botUserId:void 0};const i=t.getSelectedCalendarBotId(),o=!d().A.state.loaded;if(i&&o)return{loading:!1,botId:i,botSpaceId:t.getSpaceId(),botUserId:t.getUserId()};const{spaceId:a,userId:l}=d().A.state.loaded?d().A.state:{spaceId:void 0,userId:void 0},u=d().A.bots.state.filter((e=>e.integration_id===s().io)),m=null===(n=u[0])||void 0===n?void 0:n.id,p=i&&u.some((e=>e.id===i))?i:m;return p&&p!==i?(0,c().rq)({environment:e,botId:p,shouldLog:!1}):!p&&i&&(0,c().k2)({environment:e}),{loading:o,botId:p,botSpaceId:a,botUserId:l}}{var i,o,a;const e=d().A.bots.state.filter((e=>e.integration_id===s().io)),t=null===(i=r().default.state.currentSpaceViewStore)||void 0===i?void 0:i.getSelectedCalendarBotId(),n=!d().A.state.loaded||!(null!==(o=r().default.state.currentSpaceViewStore)&&void 0!==o&&o.isReady()),{spaceId:l,userId:c}=d().A.state.loaded?d().A.state:{spaceId:void 0,userId:void 0},u=null===(a=e[0])||void 0===a?void 0:a.id;if(!t)return{loading:n,botId:u,botSpaceId:l,botUserId:c};const m=e.find((e=>e.id===t));return{loading:n,botId:(null==m?void 0:m.id)??u,botSpaceId:l,botUserId:c}}}),[e])}},30659:(e,t,n)=>{n.d(t,{s:()=>o});n(242343);const i={viewBox:"0 0 20 20",svg:(0,n(163643).jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 15.25 0 7.625 7.625 0 0 1-15.25 0M10 3.625a6.375 6.375 0 1 0 0 12.75 6.375 6.375 0 0 0 0-12.75"})},o=(0,n(680369).wt)("circle",i)},86979:(e,t,n)=>{n.d(t,{Bs:()=>c,L:()=>d,Ob:()=>l});n(333225),n(494367),n(516262),n(573119),n(240480),n(950443),n(619601),n(725707),n(491955),n(771702);var i=n(242343),o=()=>n(269280),a=()=>n(551919),s=()=>n(885237),r=()=>n(211923);const l=new class{constructor(){this.currentPageId=void 0,this._localStorage=void 0}startCachingViewIds(e){this.currentPageId=e;this.entryForPage(e).v=[]}stopCachingViewIds(){const e=this.currentPageId;if(this.currentPageId=void 0,e){0===this.entryForPage(e).v.length&&delete this.localStorage[e]}}registerView(e,t){if(this.currentPageId!==e)return;const n=this.entryForPage(e);n.v=[...new Set([...n.v,t])],n.t=Date.now(),this.writeToLocalStorage()}unregisterView(e,t){const n=this.localStorage[e];n&&(n.v=n.v.filter((e=>e!==t)),0===n.v.length&&delete this.localStorage[e],this.writeToLocalStorage())}lookupViewIds(e){const t=this.localStorage[e];return(null==t?void 0:t.v)??[]}clear(){this.currentPageId=void 0,this._localStorage=void 0}get localStorage(){return this._localStorage??(this._localStorage=s().A.get(r().O)||Object.create(null))}entryForPage(e){let t=this.localStorage[e];return t||(t={v:[],t:0},this.localStorage[e]=t),t}writeToLocalStorage(){this.limitLocalStorageSize(),s().A.set(r().O,this.localStorage)}limitLocalStorageSize(){const e=Object.keys(this.localStorage);if(e.length>=100){const t={timestamp:Number.MAX_SAFE_INTEGER,key:void 0};e.forEach((e=>{e!==this.currentPageId&&this.localStorage[e].t<t.timestamp&&(t.timestamp=this.localStorage[e].t,t.key=e)})),t.key&&delete this.localStorage[t.key]}}};function d(e){let{collectionContextStore:t,isFullScreen:n,wasCreatedThisSessionStore:o,didDelayOffscreenRenderRef:a,environment:s}=e;const r=(0,i.useCallback)((()=>{var e;const n=null===(e=t.collectionViewStore())||void 0===e?void 0:e.id,i=s.RouterStore.state.route;if("page"!==i.name)return;const o=i.blockId;o&&n&&(a.current?(l.unregisterView(o,n),t.shouldDelayRenderStore.removeListener(r)):l.registerView(o,n))}),[t,a,s]);(0,i.useEffect)((()=>{var e;if(n||o.state)return;const i=null===(e=t.collectionViewStore())||void 0===e?void 0:e.id,a=s.RouterStore.state.route;if("page"!==a.name)return;return a.blockId&&i?(t.shouldDelayRenderStore.addListener(r),r(),()=>{t.shouldDelayRenderStore.removeListener(r)}):void 0}),[t,n,o,s,r])}function c(e){let{pageId:t,isFrameContext:n}=e;(0,o().l)((()=>{n&&l.startCachingViewIds(t)})),(0,a().X)((()=>{n&&l.stopCachingViewIds()}))}},87607:(e,t,n)=>{n.d(t,{x:()=>d});n(242343);var i=()=>n(803290),o=()=>n(653998),a=()=>n(76394),s=()=>n(470313),r=()=>n(487893),l=n(163643);function d(){const e=(0,i().K8)((()=>(0,r().dl)()),[]);switch(e){case"unread_and_read":case"unread_only":return(0,l.jsx)(s().A,{message:(0,l.jsx)(o().sA,{defaultMessage:"You'll be notified here for @mentions, page activity, and page invites",id:"inbox.filterEmptyState.nonArchivedMessage"}),title:(0,l.jsx)(o().sA,{defaultMessage:"You're all caught up",id:"inbox.filterEmptyState.nonArchivedTitle"})});case"archived_only":return(0,l.jsx)(s().A,{message:(0,l.jsx)(o().sA,{defaultMessage:"Any Inbox updates you archived will show up here.",id:"inbox.filterEmptyState.archivedMessage"}),title:(0,l.jsx)(o().sA,{defaultMessage:"No archived updates",id:"inbox.filterEmptyState.archivedTitle"})});case"all_updates":return(0,l.jsx)(s().A,{message:(0,l.jsx)(o().sA,{defaultMessage:"Any activity in the workspace will show up here.",id:"inbox.filterEmptyState.allPagesMessage"}),title:(0,l.jsx)(o().sA,{defaultMessage:"No activity in the workspace",id:"inbox.filterEmptyState.allPagesTitle"})});default:(0,a().HB)(e)}}},144656:(e,t,n)=>{n.d(t,{A:()=>a});var i=()=>n(662988);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e){(0,i().A)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===o(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}},146914:(e,t,n)=>{n.d(t,{Lq:()=>s,QG:()=>m,Uk:()=>d,_O:()=>r,de:()=>c,dn:()=>l,lK:()=>a,vY:()=>u});var i=()=>n(401548),o=()=>n(31448);const a=28,s=44,r=144,l=144,d=112;function c(e){let{theme:t,dominantColorFromIcon:n,height:o}=e;return{container:{position:"relative",width:r,height:o,display:"flex",justifyContent:"stretch"},coverAndIconContainer:{position:"relative",width:r,marginBottom:16},emptyGalleryCoverStyle:{border:"unset",background:n?(0,i().X4)(n,.1):t.home.cards.coverPhoto.base}}}const u={titleWrap:{width:"100%",minHeight:72,paddingTop:10,paddingBottom:12,paddingLeft:16,paddingRight:16,position:"relative",display:"flex",flexDirection:"column",justifyContent:"space-between",gap:10,flexGrow:1},titleText:{fontWeight:o().Wy.medium,fontSize:o().J.UIRegular.desktop,lineHeight:"normal",width:"auto",whiteSpace:"pre-wrap",...(0,n(622163).pA)(2)}},m={position:"absolute",bottom:-a/2,left:16,width:a,height:a,display:"flex",justifyContent:"flex-start"}},158082:(e,t,n)=>{n.d(t,{p:()=>o});n(242343);var i=n(163643);const o=(0,n(680369).wt)("myTasksLarge",{viewBox:"0 0 48 48",svg:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M21.693 39.17a9.05 9.05 0 0 1-.73 1.238H39.52c1.65 0 2.892-.413 3.727-1.238.835-.824 1.253-2.05 1.253-3.68V19.203c0-1.628-.418-2.855-1.253-3.68-.835-.824-2.078-1.236-3.727-1.236H16.253c-1.66 0-2.908.412-3.744 1.237-.824.814-1.237 2.04-1.237 3.68v5.28c.212-.02.423-.036.635-.047a6.387 6.387 0 0 1 1.269 0c.222.01.438.027.65.048v-5.14c0-.824.211-1.448.634-1.87.423-.424 1.031-.635 1.824-.635h23.188c.783 0 1.39.212 1.824.634.434.423.65 1.047.65 1.872v16.003c0 .825-.216 1.449-.65 1.872-.433.423-1.041.634-1.824.634H22.248a8.47 8.47 0 0 1-.555 1.316ZM15.364 10.082c-.38.381-.629.93-.745 1.65h26.55c-.127-.72-.38-1.269-.761-1.65-.37-.39-.952-.586-1.745-.586H17.125c-.793 0-1.38.195-1.76.586ZM18.52 5.816c-.38.338-.591.846-.634 1.523h20.016c-.053-.677-.275-1.185-.666-1.523-.38-.349-.936-.523-1.665-.523H20.2c-.729 0-1.29.174-1.68.523Z"}),(0,i.jsx)("path",{d:"M9.448 42.073a7.71 7.71 0 0 0 3.11.634c1.088 0 2.12-.211 3.092-.634a8.253 8.253 0 0 0 2.57-1.745 8.123 8.123 0 0 0 1.76-2.57 7.712 7.712 0 0 0 .634-3.108 7.75 7.75 0 0 0-.634-3.124 8.032 8.032 0 0 0-1.729-2.57 8.03 8.03 0 0 0-2.57-1.728 7.75 7.75 0 0 0-3.124-.635 7.71 7.71 0 0 0-3.109.635 7.907 7.907 0 0 0-2.569 1.744 8.253 8.253 0 0 0-1.745 2.57A7.639 7.639 0 0 0 4.5 34.65c0 1.11.211 2.152.634 3.125a8.254 8.254 0 0 0 1.745 2.57 8.03 8.03 0 0 0 2.57 1.728Zm3.807-2.649c-.17.18-.402.27-.698.27-.296 0-.534-.09-.714-.27-.169-.18-.253-.412-.253-.698v-3.108H8.48c-.286 0-.518-.09-.698-.27-.18-.17-.27-.402-.27-.698 0-.296.09-.528.27-.698.18-.18.412-.27.698-.27h3.109v-3.108c0-.285.084-.518.253-.698.18-.18.418-.27.714-.27s.529.09.698.27c.18.18.27.413.27.698v3.109h3.108c.286 0 .518.09.698.27.18.169.27.401.27.697 0 .296-.09.529-.27.698-.18.18-.412.27-.698.27h-3.108v3.108c0 .286-.09.519-.27.698ZM27.229 32.326c.292.341.664.512 1.116.512.514 0 .903-.198 1.166-.592l5.693-8.58c.095-.14.164-.277.21-.413a1.3 1.3 0 0 0 .068-.401c0-.354-.124-.646-.37-.876a1.246 1.246 0 0 0-.901-.352c-.247 0-.456.05-.63.149-.168.094-.328.259-.48.493l-4.78 7.506-2.394-2.868c-.259-.3-.584-.45-.974-.45-.366 0-.668.117-.907.351a1.186 1.186 0 0 0-.357.883c0 .16.024.312.073.456.054.14.15.286.29.438l3.177 3.744Z"})]})})},159850:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>o,templatesSmallIcon:()=>a});n(242343);var i=n(163643);const o={viewBox:"0 0 16 16",svg:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("g",{clipPath:"url(#clip0_9410_11368)",children:(0,i.jsx)("path",{d:"m14.98 12.41-1.86-3.22c.55-.25.91-.8.91-1.4V2.83c0-.84-.69-1.53-1.53-1.53H7.32c-.84 0-1.53.69-1.53 1.53v1.2C5.61 4.01 5.43 4 5.24 4 2.8 3.99.82 5.98.82 8.42s1.99 4.43 4.43 4.43q.36 0 .72-.06a1.53 1.53 0 0 0 1.49 1.91h6.2c.55 0 1.04-.28 1.32-.76s.28-1.05 0-1.53M7.32 9.33h.58L7 10.9c-.5.36-1.11.55-1.75.55-1.67 0-3.03-1.36-3.03-3.03A3.034 3.034 0 0 1 5.8 5.44V7.8c0 .84.68 1.52 1.52 1.52zm5.31-1.53c0 .07-.06.13-.13.13h-.11l-.51-.89c-.27-.46-.74-.74-1.27-.76a1.53 1.53 0 0 0-1.31.65c-.03.04-.06.07-.08.11l-.51.88H7.32c-.07 0-.12-.05-.12-.12V2.83c0-.07.06-.13.13-.13h5.18c.07 0 .13.06.13.13V7.8zm-5.3 5.31 3.05-5.28s.04-.06.06-.08c.03-.04.07-.07.12-.07s.09.02.12.07l3.09 5.36s.02.09 0 .13-.07.06-.11.06h-6.2s-.09-.02-.11-.06a.15.15 0 0 1 0-.13z"})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_9410_11368",children:(0,i.jsx)("path",{d:"M0 0h16v16H0z"})})})]})},a=(0,n(680369).wt)("templatesSmall",o)},169959:(e,t,n)=>{n.d(t,{A:()=>s});var i=n(242343),o=n(163643);function a(e){let{...t}=e;const i=(0,n(653998).tz)(),a=(0,n(174114).IS)((e=>({buttonStyle:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:4,height:24,width:24},threeDotIcon:{width:12,height:12,fill:e.mediumIconColor}})),[]),s=i.formatMessage({defaultMessage:"View options",id:"PersonalHomePanel.moreDropdownButton.tooltip"});return(0,o.jsx)(n(126451).A,{ariaLabel:s,style:a.buttonStyle,mobileFeedback:!1,...t,children:(0,n(711361)._)(a.threeDotIcon)})}const s=i.memo(a)},189812:(e,t,n)=>{n.d(t,{a:()=>d,E:()=>l});n(610931);var i=n(242343),o=()=>n(237385),a=(n(725707),n(500234),()=>n(758611));a().GJ.downloadMac,a().GJ.downloadMacUniversal,a().GJ.downloadMacIntel,a().GJ.downloadMacAppleSilicon,a().GJ.downloadWindows,a().GJ.downloadWindowsArm;const s=[{route:a().GJ.downloadMac,architecture:"universal",operatingSystem:"mac",target:"macUniversal"},{route:a().GJ.downloadMacIntel,architecture:"x86",operatingSystem:"mac",target:"mac"},{route:a().GJ.downloadMacUniversal,architecture:"universal",operatingSystem:"mac",target:"macUniversal"},{route:a().GJ.downloadMacAppleSilicon,architecture:"arm",operatingSystem:"mac",target:"macArm64"},{route:a().GJ.downloadWindows,architecture:"x86",operatingSystem:"windows",target:"windows"},{route:a().GJ.downloadWindowsArm,architecture:"arm",operatingSystem:"windows",target:"windowsArm64"}];function r(e,t){const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=e.toLowerCase();if(t.startsWith("arm"))return"arm";if(t.startsWith("x86")||"intel"===t)return"x86";return null}(e);if(!n||!("mac"===t||"windows"===t))return null;const i=s.find((e=>e.architecture===n&&e.operatingSystem===t));return(null==i?void 0:i.route)||null}function l(){const e=(0,i.useRef)(null),t=(0,o().Y0)();return(0,i.useEffect)((()=>{d(t).then((t=>{e.current=t??null})).catch((e=>{throw new Error(e)}))}),[t]),e}async function d(e){var t;if(!("userAgentData"in navigator))return e.isMac?a().GJ.downloadMacUniversal:a().GJ.downloadWindows;const n=navigator.userAgentData,i=await(null==n||null===(t=n.getHighEntropyValues)||void 0===t?void 0:t.call(n,["architecture"])),o=r(null==i?void 0:i.architecture,e.os);return o||null}},258015:(e,t,n)=>{n.d(t,{m:()=>o});class i extends(()=>n(129044))().default{getInitialState(){return{type:"initial"}}}const o=new i},258499:(e,t,n)=>{n.r(t),n.d(t,{PersonalHomeContainer:()=>co,SetupPendingHomeTile:()=>De});n(725707),n(771702);var i=n(242343),o=()=>n(237385),a=()=>n(803290),s=()=>n(174114),r=()=>n(142708),l=()=>n(652039),d=()=>n(883249),c=()=>n(392968),u=()=>n(966789),m=()=>n(335157),p=()=>n(283992),g=n(163643);function h(e){const t=(0,o().v3)(),n=(0,o().Y0)().isMobile,[r,h]=(0,i.useState)(),f=(0,a().K8)((()=>e.store.getCover()),[e.store]),v=(0,a().K8)((()=>d().A),[]),y=(0,a().K8)((()=>v.state.loadingMode!==l().pF&&v.state.loadingMode!==l().Wc),[v]),x=(0,a().K8)((()=>"uploading"===v.state.loadingMode&&v.state.uploadProgress||0),[v]),S=(0,a().K8)((()=>t.WindowSizeStore.state.paddingTop),[t.WindowSizeStore]),C=(0,s().IS)((e=>({background:{position:"absolute",width:"100%",height:"100%",marginTop:n?S:void 0,top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundImage:`url(${r}`,backgroundAttachment:"fixed",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},loadingContainer:{...c().fd,top:8,right:8,height:28},loadingSpinner:{marginRight:4},percentageIndicator:{minWidth:30,textAlign:"right"}})),[r,n,S]);return f?(0,g.jsx)(p().A,{url:f.cover,isAuthenticated:!0,permissionRecord:f.pointer,render:(e,t)=>(h(t),(0,g.jsx)("div",{role:"img",style:C.background,onLoad:()=>{v.setState({loadingMode:"loaded"})},children:y&&(0,g.jsxs)("div",{style:C.loadingContainer,children:[(0,g.jsx)(u().A,{size:"sm",style:C.loadingSpinner}),x??(0,g.jsx)("div",{style:C.percentageIndicator,children:(0,g.jsx)(m().A,{percentage:x})})]})}))}):null}var f=()=>n(622286),v=()=>n(456143),y=()=>n(116485),x=()=>n(300659),S=()=>n(98508),C=()=>n(485966),w=()=>n(836331),b=()=>n(580257),j=()=>n(382329),A=()=>n(520969),k=()=>n(659810),I=(n(362833),n(491955),n(403517),n(113085),n.n(n(309102))),M=()=>n(486826),T=()=>n(76394),_=()=>n(601661),H=()=>n(983050),P=()=>n(802955),L=()=>n(258015),R=()=>n(29393),B=()=>n(892871),E=()=>n(204810),V=()=>n(153777),N=()=>n(382640),D=()=>n(375589),W=()=>n(119148),F=()=>n(517198),K=()=>n(393728),O=()=>n(636670),U=()=>n(447425);function z(e){const{onLoaded:t,clientStore:n}=e,r=(0,o().v3)(),[l,d]=(0,i.useState)(!1),c=(0,a().O$)(C().AppStoreCurrentSpaceStore),u=(0,i.useCallback)((e=>{(0,W().VK)({environment:r,threadStore:e})}),[r]);(0,O().v)({firstMountToReadyMetricName:"home.ai.first_mount_to_ready",pageOriginToReadyMetricName:"home.ai.page_origin_to_ready",isReady:l,homeType:"personal"});const m=(0,i.useCallback)((()=>{t(),d(!0)}),[t]),p=(0,s().IS)((()=>({outer:{minHeight:l?void 0:156},inner:{display:l?void 0:"none"}})),[l]);return c?(0,g.jsx)(U().A,{hideWrapStyle:!0,children:(0,g.jsxs)("div",{style:p.outer,children:[(0,g.jsx)("div",{style:p.inner,children:(0,g.jsx)(K().hP,{surface:K().wy.inferenceTranscriptChatView,children:(0,g.jsx)(D().M4,{aiChatFeature:"home_module",threadStore:void 0,onAfterThreadChange:u,parentStore:c,defaultUserMessage:void 0,clientStore:n,onLoaded:m})})}),l?null:(0,g.jsx)(Z,{})]})}):null}function Z(){const e=(0,s().IS)((e=>({wrapper:{height:156,padding:"24px 2px 0 2px"},mockAIChatInputWrap:{height:96,boxShadow:`0px 0px 0px 0.5px ${e.stroke.primary}, 0px 4px 12px -2px rgba(0, 0, 0, 0.08)`,backgroundColor:"dark"===e.mode?e.surface.elevated:e.contentBackground,borderRadius:12,position:"relative"},placeholderShimmer:{position:"absolute",left:8,top:8,borderRadius:6,height:22,width:360},modeShimmer:{position:"absolute",left:8,bottom:8,borderRadius:6,width:232,height:26},sourcesShimmer:{position:"absolute",right:8,bottom:8,borderRadius:6,width:200,height:26}})),[]);return(0,g.jsx)("div",{style:e.wrapper,children:(0,g.jsxs)("div",{style:e.mockAIChatInputWrap,children:[(0,g.jsx)(F().A,{style:e.placeholderShimmer}),(0,g.jsx)(F().A,{style:e.modeShimmer}),(0,g.jsx)(F().A,{style:e.sourcesShimmer})]})})}var G=()=>n(129044),q=()=>n(723361),Y=()=>n(214144),$=()=>n(653998),J=()=>n(975392),Q=()=>n(209684),X=()=>n(103151),ee=()=>n(533975),te=()=>n(313067),ne=()=>n(678671),ie=()=>n(898253),oe=()=>n(16250),ae=()=>n(592301),se=()=>n(158082),re=()=>n(35462),le=()=>n(622163),de=()=>n(326913),ce=()=>n(31448),ue=()=>n(477784),me=()=>n(713807);const pe=(0,$().YK)({lunch:{id:"CalendarFeaturePreview.eventTitle.lunch",defaultMessage:"Lunch"},firstMeeting:{id:"CalendarFeaturePreview.eventTitle.firstMeeting",defaultMessage:"My first meeting"},groceryShop:{id:"CalendarFeaturePreview.eventTitle.groceryShop",defaultMessage:"Grocery shopping"},birthday:{id:"CalendarFeaturePreview.eventTitle.birthday",defaultMessage:"Birthday celebration"},office:{id:"CalendarFeaturePreview.eventLocation.office",defaultMessage:"Office"},store:{id:"CalendarFeaturePreview.eventLocation.store",defaultMessage:"Store"},park:{id:"CalendarFeaturePreview.eventLocation.park",defaultMessage:"Park"},restaurant:{id:"CalendarFeaturePreview.eventLocation.restaurant",defaultMessage:"Restaurant"}}),ge=[{title:pe.firstMeeting,time:M().c9.fromObject({hour:9}),location:pe.office,includeJoinButton:!0},{title:pe.lunch,time:M().c9.fromObject({hour:13}),location:pe.restaurant,includeJoinButton:!1}],he=[{title:pe.groceryShop,time:M().c9.fromObject({hour:11}),location:pe.store,includeJoinButton:!1},{title:pe.birthday,time:M().c9.fromObject({hour:14}),location:pe.park,includeJoinButton:!1}];function fe(e){let{date:t,events:n}=e;const a=(0,o().v3)(),r=(0,s().IS)((e=>({container:{display:"flex",flexDirection:"row",paddingBottom:10},date:{width:"25%",paddingRight:10,display:"flex",flexDirection:"column",fontSize:(0,le().ny)(a,"UISmall"),fontWeight:ce().Wy.medium},events:{width:"75%"}})),[a]),l=(0,i.useMemo)((()=>t.day===M().c9.now().day?(0,g.jsx)($().sA,{id:"notionCalendarEventDate.today",defaultMessage:"Today"}):t.toLocaleString({weekday:"short"})),[t]);return(0,g.jsxs)("div",{style:r.container,children:[(0,g.jsxs)("div",{style:r.date,children:[(0,g.jsx)("div",{children:l}),(0,g.jsx)("div",{children:t.toLocaleString({month:"short",day:"numeric"})})]}),(0,g.jsx)("div",{style:r.events,children:n.map((e=>(0,g.jsx)(ve,{event:e},e.title.id)))})]})}function ve(e){let{event:t}=e;const n=(0,$().tz)(),o=(0,s().IS)((e=>({container:{marginBottom:14,display:"flex"},calendarIndicator:{width:4,backgroundColor:e.home.emptyStatePreview.calendarIndicator,borderRadius:4,flexShrink:0},event:{display:"flex",width:"100%",gap:4,overflow:"hidden"},eventDetails:{display:"flex",flexDirection:"column",flex:1,paddingLeft:10,overflow:"hidden"},title:{fontWeight:ce().Wy.medium,...ce().RC},joinButton:{textAlign:"end",alignSelf:"center",flexShrink:0}})),[]),a=(0,i.useMemo)((()=>(0,me().ax)({time:t.time,showAmPm:!0,locale:n.locale,timeZone:t.time.zoneName})),[t.time,n.locale]);return(0,g.jsx)("div",{style:o.container,children:(0,g.jsxs)("div",{style:o.event,children:[(0,g.jsx)("div",{style:o.calendarIndicator}),(0,g.jsxs)("div",{style:o.eventDetails,children:[(0,g.jsx)("div",{style:o.title,children:ue().A.formatMessage(t.title)}),(0,g.jsx)("div",{children:`${a} â¸± ${ue().A.formatMessage(t.location)}`})]}),t.includeJoinButton&&(0,g.jsx)("div",{style:o.joinButton,children:(0,g.jsx)(ye,{})})]})})}function ye(){const e=(0,s().IS)((e=>({container:{width:"fit-content",padding:"2px 8px 2px 8px",display:"flex",flexDirection:"row",backgroundColor:e.home.emptyStatePreview.joinButtonBackground,borderRadius:4},iconWrapper:{display:"flex",justifyContent:"center",alignItems:"center",paddingRight:4},icon:{width:16,height:16,marginRight:4},joinTitleContainer:{display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center"}})),[]);return(0,g.jsxs)("div",{style:e.container,children:[(0,g.jsx)("div",{style:e.iconWrapper,children:(0,de().U)(e.icon)}),(0,g.jsx)("div",{style:e.joinTitleContainer,children:(0,g.jsx)($().sA,{id:"notionCalendarEvent.joinButtonWithMeeting",defaultMessage:"Join meeting"})})]})}const xe=function(){const e=(0,$().tz)(),t=M().c9.now().setLocale(e.locale);return(0,g.jsxs)("div",{children:[(0,g.jsx)(fe,{date:t,events:ge}),(0,g.jsx)(fe,{date:t.plus({days:1}),events:he})]})};var Se=()=>n(680369);const Ce=(0,Se().wt)("bookClosedFilled",{viewBox:"0 0 17 16",svg:(0,g.jsx)("path",{d:"M14 4.5V14H6.3275C5.735 14 5.3325 13.8325 4.9125 13.415L3.585 12.0875C3.165 11.6675 3 11.265 3 10.6725V2H11.5V11.5H5.12L6.12 12.5H12.5V4.5H14Z"})}),we=(0,Se().wt)("exercise",{viewBox:"0 0 17 16",svg:(0,g.jsx)("path",{d:"M9.25 3C9.25 2.2275 9.7275 1.75 10.5 1.75C11.2725 1.75 11.75 2.2275 11.75 3C11.75 3.7725 11.2725 4.25 10.5 4.25C9.7275 4.25 9.25 3.7725 9.25 3ZM10.8775 7.185C11.37 7.77 11.985 8.5 13.5 8.5V7.25C12.565 7.25 12.275 6.905 11.8325 6.38C11.315 5.765 10.67 5 9 5C6.5875 5 5.205 6.2825 4.25 8.19L5.3675 8.75C6.06 7.365 6.795 6.665 7.8025 6.3925L6.565 8.8675C6.0925 9.815 5.3875 10.25 4.33 10.25H3.25V11.75H4.33C6.005 11.75 7.1275 11.065 7.8825 9.585C8.5425 10.085 10.5175 11.7425 11.075 14L12.4975 13.525C11.945 11.285 10.3625 9.6625 9.34 8.8125L10.405 6.685C10.57 6.8275 10.715 6.9975 10.875 7.1875L10.8775 7.185Z"})}),be=(0,Se().wt)("foodAndDrink",{viewBox:"0 0 17 16",svg:(0,g.jsx)("g",{clipPath:"url(#clip0_6853_89883)",children:(0,g.jsx)("path",{d:"M8.5 8.5C8.5 6.65 9.84 5.5 12 5.5C14.16 5.5 15.5 6.65 15.5 8.5H8.5ZM15.5 9.5H8.5C8.1925 9.5 8 9.6925 8 10V10.5C8 10.8075 8.1925 11 8.5 11H15.5C15.8075 11 16 10.8075 16 10.5V10C16 9.6925 15.8075 9.5 15.5 9.5ZM8.5 12.5C8.5 13.1175 8.8825 13.5 9.5 13.5H14.5C15.1175 13.5 15.5 13.1175 15.5 12.5V12H8.5V12.5ZM8.5 5.5V4H6.005L6.245 1.125L4.75 1L4.5 4H0.5V5.5H1.625L2.2925 13.5H6.71L7.3775 5.5H8.5025H8.5Z"})})}),je=(0,Se().wt)("sun",{viewBox:"0 0 17 16",svg:(0,g.jsx)("path",{d:"M11.5 8C11.5 9.6575 10.1575 11 8.5 11C6.8425 11 5.5 9.6575 5.5 8C5.5 6.3425 6.8425 5 8.5 5C10.1575 5 11.5 6.3425 11.5 8ZM9 1.5H8V4H9V1.5ZM8 14.5H9V12H8V14.5ZM6.025 4.8175L4.2575 3.05L3.55 3.7575L5.3175 5.525L6.025 4.8175ZM10.975 11.1825L12.7425 12.95L13.45 12.2425L11.6825 10.475L10.975 11.1825ZM4.5 7.5H2V8.5H4.5V7.5ZM12.5 7.5V8.5H15V7.5H12.5ZM3.55 12.2425L4.2575 12.95L6.025 11.1825L5.3175 10.475L3.55 12.2425ZM13.45 3.7575L12.7425 3.05L10.975 4.8175L11.6825 5.525L13.45 3.7575Z"})}),Ae=(0,Se().wt)("wheat",{viewBox:"0 0 17 16",svg:(0,g.jsx)("path",{d:"M12.0625 4.9975L10.56 6.5H13.75C13.75 7.425 13.175 8 12.25 8H9.06L7.56 9.5H10.75C10.75 10.425 10.175 11 9.25 11H6.06L3.06 14L2 12.94L3.5 11.44V8.25C3.5 7.325 4.075 6.75 5 6.75V9.94L6.5 8.44V5.25C6.5 4.325 7.075 3.75 8 3.75V6.94L12.06 2.88C12.6875 2.2525 13.2925 2.0025 14.1825 2.0025H15C15 3.8325 13.8775 4.9725 12.0625 5V4.9975Z"})}),ke=["wake","breakfast","work","lunch","exercise"];function Ie(){const e=(0,o().v3)(),t=(0,s().IS)((t=>({databaseHeader:{display:"flex",flexDirection:"row",paddingTop:4,paddingBottom:4,gap:4,fontSize:(0,le().ny)(e,"UISmall")},status:{flex:1,textAlign:"end"}})),[e]);return(0,g.jsxs)("div",{style:t.databaseHeader,children:[(0,g.jsx)("div",{children:(0,g.jsx)($().sA,{id:"CustomDbFeaturePreview.activity.headerTitle",defaultMessage:"Activity"})}),(0,g.jsx)("div",{style:t.status,children:(0,g.jsx)($().sA,{defaultMessage:"Status",id:"database.propertyTypeName.status"})})]})}function Me(e){let{type:t}=e;const n=(0,s().IS)((e=>({databaseRow:{display:"flex",flexDirection:"row",borderTop:`1px solid ${e.stroke.secondary}`,gap:12,paddingTop:4,paddingBottom:4},status:{flex:1,textAlign:"end"},title:{fontWeight:ce().Wy.medium},iconContainer:{alignContent:"center"},icon:{width:16,height:16,alignSelf:"center",fill:"light"===e.mode?e.icon.quaternary:e.icon.tertiary}})),[]),o=(0,i.useMemo)((()=>{switch(t){case"wake":return je;case"breakfast":return Ae;case"work":return Ce;case"lunch":return be;case"exercise":return we;default:(0,T().HB)(t)}}),[t]),a=(0,i.useMemo)((()=>{switch(t){case"wake":return(0,g.jsx)($().sA,{id:"CustomDbFeaturePreview.rowTitle.wake",defaultMessage:"Wake up and freshen up"});case"breakfast":return(0,g.jsx)($().sA,{id:"CustomDbFeaturePreview.rowTitle.breakfast",defaultMessage:"Have breakfast"});case"work":return(0,g.jsx)($().sA,{id:"CustomDbFeaturePreview.rowTitle.work",defaultMessage:"Work or study"});case"lunch":return(0,g.jsx)($().sA,{id:"CustomDbFeaturePreview.rowTitle.lunch",defaultMessage:"Have lunch"});case"exercise":return(0,g.jsx)($().sA,{id:"CustomDbFeaturePreview.rowTitle.exercise",defaultMessage:"Exercise"});default:(0,T().HB)(t)}}),[t]),r=(0,i.useMemo)((()=>{switch(t){case"wake":return(0,g.jsx)($().sA,{id:"database.statusProperty.option.done",defaultMessage:"Done"});case"breakfast":return(0,g.jsx)($().sA,{id:"database.statusProperty.option.inProgress",defaultMessage:"In progress"});case"work":case"lunch":case"exercise":return(0,g.jsx)($().sA,{id:"database.statusProperty.option.notStarted",defaultMessage:"Not started"});default:(0,T().HB)(t)}}),[t]);return(0,g.jsxs)("div",{style:n.databaseRow,children:[(0,g.jsx)("div",{style:n.iconContainer,children:o(n.icon)}),(0,g.jsx)("div",{style:n.title,children:a}),(0,g.jsx)("div",{style:n.status,children:r})]})}const Te=function(){const e=(0,s().IS)((e=>({database:{display:"flex",flexDirection:"column",overflow:"hidden",height:"100%"}})),[]);return(0,g.jsxs)("div",{style:e.database,children:[(0,g.jsx)(Ie,{}),ke.map((e=>(0,g.jsx)(Me,{type:e},e)))]})};var _e=()=>n(303707),He=()=>n(528190);const Pe=[{type:"sync",date:M().c9.now(),area:"work"},{type:"review",date:M().c9.now().plus({days:1}),area:"work"},{type:"create",date:M().c9.now().plus({days:7}),area:"work"},{type:"book",date:M().c9.now(),area:"personal"},{type:"dinner",date:M().c9.now().plus({days:7}),area:"personal"}];function Le(e){let{task:t}=e;const{type:n,date:o,area:a}=t,r=(0,$().tz)(),l=(0,s().IS)((e=>({databaseRow:{display:"flex",flexDirection:"row",gap:12,paddingBottom:10,alignItems:"center"},date:{flex:1,textAlign:"end"},title:{fontWeight:ce().Wy.medium},icon:{width:14,height:14,borderRadius:2,alignSelf:"center",fill:"light"===e.mode?e.icon.quaternary:e.icon.tertiary}})),[]),d=(0,i.useMemo)((()=>{switch(n){case"sync":return(0,g.jsx)($().sA,{id:"MyTasksFeaturePreview.taskTitle.sync",defaultMessage:"Sync with Lisa"});case"review":return(0,g.jsx)($().sA,{id:"MyTasksFeaturePreview.taskTitle.review",defaultMessage:"Review design docs"});case"create":return(0,g.jsx)($().sA,{id:"MyTasksFeaturePreview.taskTitle.create",defaultMessage:"Create color palette"});case"book":return(0,g.jsx)($().sA,{id:"MyTasksFeaturePreview.taskTitle.book",defaultMessage:"Book flights to New York"});case"dinner":return(0,g.jsx)($().sA,{id:"MyTasksFeaturePreview.taskTitle.dinner",defaultMessage:"Dinner with Alex"});default:(0,T().HB)(n)}}),[n]),c=(0,i.useMemo)((()=>{switch(a){case"work":return(0,g.jsx)($().sA,{id:"MyTasksFeaturePreview.area.work",defaultMessage:"Work"});case"personal":return(0,g.jsx)($().sA,{id:"MyTasksFeaturePreview.area.personal",defaultMessage:"Personal"});default:(0,T().HB)(a)}}),[a]);return(0,g.jsxs)("div",{style:l.databaseRow,children:[(0,g.jsx)("div",{children:(0,_e().K)(l.icon)}),(0,g.jsx)("div",{style:l.title,children:d}),(0,g.jsx)("div",{style:l.date,children:o.setLocale(r.locale).toLocaleString({month:"short",day:"numeric",year:"numeric"})}),(0,g.jsx)("div",{children:c})]})}function Re(){const e=(0,s().IS)((e=>({container:{display:"flex",flexDirection:"row",alignItems:"center"},iconContainer:{marginRight:14},icon:{width:12,height:12}})),[]);return(0,g.jsxs)("div",{style:e.container,children:[(0,g.jsx)("div",{style:e.iconContainer,children:(0,He().P)(e.icon)}),(0,g.jsx)("div",{children:(0,g.jsx)($().sA,{defaultMessage:"New task",id:"appTemplates.projects.tasksCollectionEmptyButtonTitle"})})]})}const Be=function(){const e=(0,s().IS)((e=>({database:{display:"flex",flexDirection:"column",overflow:"hidden",height:"100%"}})),[]);return(0,g.jsxs)("div",{style:e.database,children:[Pe.map((e=>(0,g.jsx)(Le,{task:e},e.type))),(0,g.jsx)(Re,{})]})};function Ee(e){const{feature:t}=e,n=i.useRef(null),o=(0,s().IS)((e=>({button:{padding:8,width:"fit-content"}})),[]),r=(0,a().K8)((()=>{switch(t){case"custom_db":return(0,g.jsx)($().sA,{id:"CustomDbHomePanel.setup.button",defaultMessage:"Select database"});case"calendar":return(0,g.jsx)($().sA,{id:"notionCalendarEmptyState.signedOut.buttonText",defaultMessage:"Connect Notion Calendar"});case"calendarDisconnectedAccount":return(0,g.jsx)($().sA,{id:"notionCalendarEmptyState.disconnectedAccount.buttonText",defaultMessage:"Reconnect with Notion Calendar"});case"calendarMissingScopes":return(0,g.jsx)($().sA,{id:"notionCalendarEmptyState.missingScopes.buttonText",defaultMessage:"Access calendar and contacts"});case"tasks":return(0,g.jsx)($().sA,{defaultMessage:"Don't see your tasks?",id:"tasksEmptyState.noDatabases.title"});default:(0,T().HB)(t)}}),[t]);return(0,g.jsx)("div",{children:(0,g.jsx)(Q().p,{isBlue:!0,shouldShrink:!0,onClick:()=>e.onSetup(n),style:o.button,ref:n,children:r})})}function Ve(e){let{feature:t}=e;const n=(0,s().IS)((e=>{const t={...(0,N().Xx)(e),fill:"light"===e.mode?e.text.quaternary:e.text.tertiary,color:e.text.quaternary,margin:8};return{icon:t,calendarIcon:{...t,height:34,width:34}}}),[]);return(0,a().K8)((()=>{switch(t){case"custom_db":return(0,ae().k)(n.icon);case"calendar":case"calendarDisconnectedAccount":case"calendarMissingScopes":return(0,g.jsx)(ne().y,{style:n.calendarIcon});case"tasks":return(0,se().p)(n.icon);default:(0,T().HB)(t)}}),[t,n.calendarIcon,n.icon])}function Ne(e){let{feature:t,centerText:n}=e;const i=(0,s().IS)((e=>({featureDescription:{paddingLeft:8,paddingRight:8,marginTop:10,marginBottom:16,textAlign:n?"center":void 0}})),[n]),o=(0,a().K8)((()=>{var e;return null===(e=C().default.state.currentSpaceStore)||void 0===e||null===(e=e.getModel())||void 0===e?void 0:e.getRenderTitle()}),[]),r=(0,a().K8)((()=>{switch(t){case"custom_db":return(0,g.jsx)($().sA,{id:"CustomDbHomePanel.setup.description",defaultMessage:"Pin a database view to quickly access it from Home."});case"calendar":return(0,g.jsx)($().sA,{id:"notionCalendarEmptyState.signedOut.title",defaultMessage:"See your upcoming events and join meetings from Home."});case"calendarDisconnectedAccount":return(0,g.jsx)($().sA,{id:"notionCalendarEmptyState.calendarAccountDisconnected.title",defaultMessage:"Unable to connect to your account."});case"calendarMissingScopes":return(0,g.jsx)($().sA,{id:"notionCalendarEmptyState.missingScopes.title",defaultMessage:"Missing required permissions to access your calendar and contacts."});case"tasks":return(0,g.jsx)($().sA,{id:"MyTasksHomePanel.setup.description",defaultMessage:"See all your tasks across {spaceName} in one place.",values:{spaceName:o}});default:(0,T().HB)(t)}}),[t,o]);return(0,g.jsx)("div",{style:i.featureDescription,children:(0,g.jsx)(re().A,{isSecondaryColor:!0,isMultiline:!0,children:r})})}const De=function(e){let{feature:t,onSetup:i}=e;const r=(0,o().v3)(),l="narrow"===(0,n(555086).q)(),d=(0,s().IS)((e=>({container:{display:"flex",flexDirection:"row",justifyContent:"stretch"},leftContainer:{flexBasis:0,flexGrow:1,paddingTop:36,paddingBottom:36,paddingLeft:24,paddingRight:24,borderRight:l?void 0:`1px solid ${e.home.emptyStatePreview.verticalDivider}`},leftContent:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100%",alignItems:l?"center":void 0,paddingBottom:["calendar","calendarDisconnectedAccount","calendarMissingScopes"].includes(t)?0:8},right:{flexBasis:0,flexGrow:1,paddingTop:32,paddingLeft:24,paddingRight:24,height:236,fontSize:(0,le().ny)(r,"UIRegular"),color:"light"===e.mode?e.text.quaternary:e.text.tertiary,overflow:"hidden"}})),[r,t,l]),c=(0,a().K8)((()=>{switch(t){case"custom_db":return(0,g.jsx)(Te,{});case"calendar":case"calendarDisconnectedAccount":case"calendarMissingScopes":return(0,g.jsx)(xe,{});case"tasks":return(0,g.jsx)(Be,{});default:(0,T().HB)(t)}}),[t]);return(0,g.jsxs)("div",{style:d.container,children:[(0,g.jsx)("div",{style:d.leftContainer,children:(0,g.jsxs)("div",{style:d.leftContent,children:[(0,g.jsx)(Ve,{feature:t}),(0,g.jsx)(Ne,{feature:t,centerText:l}),(0,g.jsx)(Ee,{feature:t,onSetup:i})]})}),!l&&(0,g.jsx)("div",{style:d.right,children:c})]})};var We=()=>n(542683);function Fe(e){const{type:t}=e,n=(0,o().v3)(),r=(0,i.useContext)(B().a)??B().H,l=(0,a().K8)((()=>(0,We().P8)((0,We()._I)())),[]),d=(0,i.useCallback)((()=>{const e=Y().JW();(0,ie().V0)({environment:n,calendarPanelContext:(0,ie().sp)({panelState:r.panelState,view:r.view}),notionAnalyticsSessionId:e}),(0,te().i$)({environment:n,from:"homeEmptyStateCreateEvent",notionAnalyticsSessionId:e})}),[n,r.panelState,r.view]),c=(0,s().IS)((e=>({container:{display:"flex",flexGrow:1,width:"100%",height:"100%",flexDirection:"column",justifyContent:"center",alignItems:"center",paddingLeft:"15%",paddingRight:"15%",gap:16},icon:{width:48,height:48,color:e.lightIconColor},titleText:{fontSize:(0,le().ny)(n,"UIRegular"),color:e.text.tertiary,textAlign:"center"},buttonStyle:{color:e.blueColor}})),[n]);let u,m,p,h=!0;switch(t){case"noEvents":u=(0,g.jsxs)(g.Fragment,{children:[1===l&&(0,g.jsx)($().sA,{id:"notionCalendarEmptyState.noEvents.title.today",defaultMessage:"No upcoming events today"}),2===l&&(0,g.jsx)($().sA,{id:"notionCalendarEmptyState.noEvents.title.todayOrTomorrow",defaultMessage:"No upcoming events today or tomorrow"}),l>=3&&(0,g.jsx)($().sA,{id:"notionCalendarEmptyState.noEvents.title",defaultMessage:"No upcoming events in the next {days} days",values:{days:l}})]}),m=(0,g.jsx)($().sA,{id:"notionCalendarEmptyState.noEvents.buttonText",defaultMessage:"+ New event"}),p=d;break;case"loadError":u=(0,g.jsx)($().sA,{id:"notionCalendarEmptyState.loadError.title",defaultMessage:"Events not loading"}),m=(0,g.jsx)($().sA,{id:"notionCalendarEmptyState.loadError.buttonText",defaultMessage:"Try again"}),p=e.onRetry,h=e.isRetryEnabled;break;default:(0,T().HB)(t)}return(0,g.jsxs)("div",{style:c.container,children:[(0,g.jsx)(ne().y,{style:c.icon}),(0,g.jsx)("div",{style:c.titleText,children:u}),h&&(0,g.jsx)(Q().p,{style:c.buttonStyle,onClick:p,children:m})]})}const Ke=i.memo(Fe);var Oe=()=>n(461099),Ue=()=>n(201430),ze=()=>n(698094),Ze=()=>n(427871),Ge=()=>n(50902),qe=()=>n(707715);function Ye(e){let{}=e;const t=(0,a().K8)((()=>qe().A.getCalendarAndAccountIds()),[]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(g.Fragment,{children:[t.map((e=>(0,g.jsx)($e,{accountId:e.accountId,calendarId:e.calendarId},(0,Ge().N)(e)))),(0,g.jsx)(Je,{})]}),(0,g.jsx)(Qe,{})]})}function $e(e){let{accountId:t,calendarId:n}=e;const{botId:s}=(0,oe().m)();return function(e){let{accountId:t,botId:n,calendarId:s}=e;const r=(0,o().v3)(),l=(0,a().O$)(C().AppStoreCurrentSpaceViewStore),d=(0,i.useRef)([]),c=(0,i.useCallback)((()=>{if(!n)return;const e=(0,Ue().Xq)({accountId:t,botId:n,calendarId:s}),i=ze().Ay.addListener(e,void 0,(0,ze().AY)((()=>(0,Ze().tD)({currentSpaceViewStore:l,environment:r,botId:n,timeRange:(0,We().M)(),calendarAndAccountIds:[{calendarId:s,accountId:t}],forceRefetch:!0,reason:"event_change"}))),void 0,r);i&&d.current.push(i);const o=(0,Ue().Bp)({botId:n,accountId:t,calendarId:s}),a=ze().Ay.addListener(o,void 0,(0,ze().AY)((e=>{let{value:i}=e;if("true"!==i&&"false"!==i)return;const o=JSON.parse(i);(0,Ze().X8)({environment:r,botId:n,calendarId:s,accountId:t,newIsVisible:o})})),void 0,r);a&&d.current.push(a)}),[n,t,s,r,l]),u=(0,i.useCallback)((()=>{for(const e of d.current)ze().Ay.removeListener(e,r);d.current=[]}),[r]);(0,i.useEffect)((()=>(c(),u)),[c,u])}({accountId:t,botId:s,calendarId:n}),null}function Je(){const e=(0,o().v3)(),t=(0,a().O$)(C().AppStoreCurrentSpaceViewStore),{botId:n}=(0,oe().m)(),s=(0,i.useRef)(),r=(0,i.useCallback)((()=>{if(!n)return;const i=(0,Ue().G8)({botId:n});s.current=ze().Ay.addListener(i,void 0,(0,ze().AY)((()=>(0,Ze().tD)({currentSpaceViewStore:t,environment:e,botId:n,timeRange:(0,We().M)(),forceRefetch:!0,updateMethod:"replace",reason:"calendar_change"}))),void 0,e)}),[n,e,t]),l=(0,i.useCallback)((()=>{s.current&&(ze().Ay.removeListener(s.current,e),s.current=void 0)}),[e]);return(0,i.useEffect)((()=>(r(),l)),[r,l]),null}function Qe(){const e=(0,o().v3)(),t=(0,a().O$)(C().AppStoreCurrentSpaceViewStore),n=(0,oe().m)(),s=(0,i.useCallback)((()=>M().c9.now().plus({minutes:1}).startOf("minute").plus({seconds:1}).diffNow().as("milliseconds")),[]),r=(0,i.useCallback)((()=>(0,Ze().m5)({currentSpaceViewStore:t})),[t]);var l,d;l=s,d=r,(0,i.useEffect)((()=>{let e;const t=()=>{d(),e=setTimeout(t,l())};return e=setTimeout(t,l()),()=>clearTimeout(e)}),[d,l]);const c=(0,ee().s5)().toISODate(),u=(0,i.useRef)(c);return(0,i.useEffect)((()=>{n.botId&&c!==u.current&&((0,Ze().tD)({environment:e,currentSpaceViewStore:t,botId:n.botId,timeRange:(0,We().M)(),forceRefetch:!0,reason:"date_change"}),u.current=c)}),[n,t,e,c]),null}const Xe=i.memo(Ye);var et=()=>n(273520),tt=()=>n(443252);class nt extends G().default{getInitialState(){return{open:!1}}close(){this.setState({open:!1})}open(e){this.setState({open:!0,panel:e})}}const it=nt;var ot=()=>n(650199),at=()=>n(99949);const st=(0,Se().wt)("navigationCrossedOut",{viewBox:"0 0 20 20",svg:(0,g.jsx)("path",{d:"M3.91602 10.6729C3.67904 10.6683 3.47852 10.6136 3.31445 10.5088C3.15495 10.404 3.03418 10.2718 2.95215 10.1123C2.87467 9.94824 2.84277 9.77734 2.85645 9.59961C2.87012 9.41732 2.93164 9.24414 3.04102 9.08008C3.15039 8.91602 3.31445 8.78613 3.5332 8.69043L6.5752 7.27539L7.55957 8.2666L5.22852 9.33301C5.21029 9.34212 5.20117 9.35124 5.20117 9.36035C5.20573 9.36947 5.21484 9.37402 5.22852 9.37402L8.65332 9.35352L10.2529 10.9531L10.2324 14.3779C10.2324 14.3916 10.237 14.4007 10.2461 14.4053C10.2552 14.4053 10.262 14.3984 10.2666 14.3848L11.3467 12.0537L12.3379 13.0449L10.9707 15.998C10.8659 16.2214 10.7314 16.3923 10.5674 16.5107C10.4033 16.6338 10.2279 16.7044 10.041 16.7227C9.85417 16.7409 9.67871 16.7135 9.51465 16.6406C9.35059 16.5677 9.21615 16.4492 9.11133 16.2852C9.00651 16.1257 8.9541 15.9251 8.9541 15.6836L8.94043 10.7754C8.94043 10.7344 8.93587 10.7093 8.92676 10.7002C8.91764 10.6911 8.89486 10.6865 8.8584 10.6865L3.91602 10.6729ZM13.5547 10.3994L12.5566 9.40137L14.5049 5.16992C14.5186 5.13802 14.5186 5.11979 14.5049 5.11523C14.4958 5.10612 14.4798 5.10612 14.457 5.11523L10.2119 7.06348L9.20703 6.07227L14.4639 3.63867C14.7555 3.50195 15.0244 3.44727 15.2705 3.47461C15.5166 3.50195 15.7171 3.59082 15.8721 3.74121C16.0316 3.88704 16.1273 4.08073 16.1592 4.32227C16.1911 4.55924 16.1387 4.82357 16.002 5.11523L13.5547 10.3994ZM15.4141 14.9863L4.72266 4.29492C4.61784 4.19466 4.56543 4.06934 4.56543 3.91895C4.56543 3.764 4.61784 3.63411 4.72266 3.5293C4.82747 3.41992 4.95508 3.36751 5.10547 3.37207C5.26042 3.37207 5.3903 3.42448 5.49512 3.5293L16.1865 14.2139C16.2913 14.3232 16.3415 14.4531 16.3369 14.6035C16.3369 14.7493 16.2868 14.877 16.1865 14.9863C16.0817 15.0911 15.9518 15.1436 15.7969 15.1436C15.6465 15.1436 15.5189 15.0911 15.4141 14.9863Z"})}),rt={viewBox:"0 0 20 20",svg:(0,g.jsx)("path",{d:"M8 2.375c-1.137 0-2.054.47-2.674 1.242-.608.757-.9 1.765-.9 2.824s.292 2.066.9 2.824c.62.772 1.537 1.241 2.674 1.241s2.055-.469 2.675-1.241c.608-.758.9-1.766.9-2.824 0-1.059-.292-2.067-.9-2.824-.62-.773-1.538-1.242-2.675-1.242M5.676 6.441c0-.842.233-1.554.624-2.042.38-.473.937-.774 1.7-.774s1.32.301 1.7.774c.391.488.624 1.2.624 2.042s-.233 1.554-.624 2.041c-.38.473-.937.774-1.7.774s-1.32-.3-1.7-.774c-.391-.487-.624-1.2-.624-2.041M8 11.63c-2.7 0-5.101 1.315-6.12 3.305-.361.706-.199 1.421.23 1.923.412.48 1.06.767 1.74.767h8.3c.68 0 1.328-.287 1.74-.767.429-.502.591-1.217.23-1.923C13.1 12.945 10.7 11.63 8 11.63m-5.007 3.875c.761-1.488 2.672-2.626 5.007-2.626s4.246 1.138 5.007 2.626c.105.204.07.378-.067.54-.156.182-.448.33-.79.33h-8.3c-.342 0-.634-.148-.79-.33-.138-.162-.172-.336-.067-.54m15.493-8.568a.625.625 0 0 1 0 .884L16.807 9.5l1.68 1.68a.625.625 0 1 1-.884.883l-1.68-1.68-1.68 1.68a.625.625 0 0 1-.883-.884L15.04 9.5l-1.68-1.68a.625.625 0 1 1 .884-.883l1.68 1.68 1.678-1.68a.625.625 0 0 1 .884 0"})},lt=(0,Se().wt)("personXmark",rt);var dt=()=>n(155342),ct=()=>n(348588),ut=()=>n(598995),mt=()=>n(704204),pt=()=>n(535906),gt=()=>n(935091),ht=()=>n(858023),ft=()=>n(397791),vt=()=>n(88271),yt=()=>n(725599),xt=()=>n(640979),St=()=>n(392608),Ct=()=>n(540059),wt=()=>n(181301);function bt(){return(0,a().K8)((()=>(0,wt().pH)()),[])}var jt=()=>n(12542),At=()=>n(887508),kt=()=>n(238107),It=()=>n(356813),Mt=()=>n(659952),Tt=(n(500234),()=>n(573520)),_t=()=>n(269556),Ht=()=>n(896864);function Pt(e){let{botId:t,isMirrored:n}=e;const i=(0,a().K8)((()=>qe().A.getCurrentAccountIds()),[]),o=(0,s().IS)((()=>({container:{width:"100%",display:"flex",flexDirection:"column",height:228,opacity:n?.3:void 0},spacer:{width:"100%",paddingBottom:12}})),[n]);return(0,g.jsxs)("div",{style:o.container,children:[i.map((e=>(0,g.jsx)(Lt,{mirrored:n,botId:t,accountId:e},e))),(0,g.jsx)("div",{style:o.spacer})]})}function Lt(e){let{accountId:t,mirrored:n,botId:r}=e;const l=(0,o().v3)(),d=(0,a().K8)((()=>qe().A.getAccount(t)),[t]),c=(0,a().K8)((()=>qe().A.getCalendarsForAccount(t)),[t]),u=(0,i.useCallback)((()=>{(0,te().u$)({environment:l,from:"homeDisconnectedAccountWarning"})}),[l]),m=(0,s().IS)((e=>({container:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"stretch"},title:{...ce().RC},titleWrapper:{display:"flex",alignItems:"center",gap:4,cursor:"pointer"},disconnectedAccountWarningIcon:{color:e.text.secondary,width:12,height:12},sectionItem:{paddingTop:12,paddingBottom:4,marginTop:0,marginBottom:0},sectionTitle:{paddingTop:0,paddingBottom:0,marginTop:0,marginBottom:0}})),[]);if(!d||d.authorized&&0===c.length)return null;const p=d.authorized?d.displayName:(0,g.jsx)(X().A,{renderTooltip:()=>(0,g.jsx)($().sA,{id:"notionCalendarPanel.disconnectedAccountWarningTooltip",defaultMessage:"Calendar account requires reconnecting"}),render:e=>(0,g.jsxs)("span",{role:"button",style:m.titleWrapper,onClick:u,...e,children:[(0,g.jsx)("span",{style:m.title,children:d.displayName}),(0,q().Q)(m.disconnectedAccountWarningIcon)]})});return(0,g.jsxs)("div",{style:m.container,children:[(0,g.jsx)(vt().A,{title:p,style:m.sectionItem,desktopTitleStyle:m.sectionTitle}),c.map((e=>(0,g.jsx)(Rt,{mirrored:n,botId:r,calendar:e},(0,Ge().N)(e))))]})}function Rt(e){let{mirrored:t,botId:n,calendar:r}=e;const l=(0,o().v3)(),d=(0,i.useContext)(B().a)??B().H,c=(0,a().K8)((()=>{if(!r.notionParentId||!r.subtitle)return!1;const e=qe().A.getCalendarsForAccount(r.accountId).find((e=>e.id!==r.id&&e.notionParentId&&e.notionParentId===r.notionParentId));return Boolean(e)}),[r.accountId,r.id,r.notionParentId,r.subtitle]),u=(0,a().K8)((()=>{const{currentSpaceViewStore:e}=C().default.state;return!!r&&(0,Mt().Pj)({spaceViewStore:e,botId:n,calendar:r})}),[n,r]),m=(0,s().IS)((e=>({container:{height:32},calendarColorIndicator:{height:10,width:10,flexShrink:0,flexGrow:0,borderRadius:"100%",backgroundColor:(0,Ht().QL)({theme:e,calendarColor:null==r?void 0:r.color})},calendarVisibilityIndicator:{flexShrink:0,flexGrow:0},eyeIcon:{width:20,height:20,padding:2,fill:e.text.secondary},eyeHiddenIcon:{width:20,height:20,fill:e.mediumIconColor},calendarNameAndSubtitleContainer:{display:"flex",alignItems:"center"},calendarSubtitle:{marginLeft:4,color:e.text.secondary}})),[null==r?void 0:r.color]);if(!r)return null;const p=c?(0,g.jsxs)("div",{style:m.calendarNameAndSubtitleContainer,children:[r.name,(0,g.jsx)("span",{style:m.calendarSubtitle,children:r.subtitle})]}):r.name;return(0,g.jsx)(pt().A,{onClick:()=>(0,Ze().vA)({environment:l,botId:n,calendarId:r.id,accountId:r.accountId,newIsVisible:!u,analyticsContext:d}),disabled:t,focused:!1,style:m.container,left:(0,g.jsx)("div",{style:m.calendarColorIndicator}),title:p,right:(0,g.jsx)("div",{style:m.calendarVisibilityIndicator,children:u?(0,Tt().h)(m.eyeIcon):(0,_t().F)(m.eyeHiddenIcon)})})}const Bt=i.memo(Pt);function Et(e){let{popupStore:t}=e;const l=(0,o().v3)(),{botId:d}=(0,oe().m)(),c=(0,i.useContext)(B().a)??B().H,u=(0,a().O$)(C().AppStoreCurrentSpaceViewStore),m=(0,a().uB)(void 0,b().A),p=(0,a().K8)((()=>(0,Mt().Xg)({botId:d,spaceViewStore:u})),[d,u]),h=(0,i.useCallback)((()=>{t.close(),(0,ie().lv)({environment:l,action:"close",calendarPanelContext:(0,ie().sp)({panelState:c.panelState,view:c.view})})}),[l,c.panelState,c.view,t]),f=(0,i.useCallback)((()=>t.open("main")),[t]),v=(0,i.useCallback)((()=>d&&(0,Ze().Kq)({environment:l,botId:d,mirrorWithNotionCalendar:!p,analyticsContext:{panelState:c.panelState,view:c.view}})),[d,l,c.panelState,c.view,p]),y=(0,s().IS)((()=>({accountsListSection:{paddingTop:0,paddingBottom:0}})),[]);if(!d)return null;const x=(0,J().oE)([{key:"headerSection",render:e=>(0,g.jsx)(vt().A,{...e}),items:[{key:"headerItem",render:e=>(0,g.jsx)(Vt,{onClose:h,onBackClick:f}),action:()=>{}}]},{key:"mirrorToggle",render:e=>(0,g.jsx)(vt().A,{...e,topBorder:!0}),items:(0,J().oE)([{key:"mirrorToggleItem",render:e=>(0,g.jsx)(yt().A,{...e,focused:!1,on:p,title:(0,g.jsx)($().sA,{id:"calendarSettingsVisibilityPanel.mirrorWithNotionCalendar",defaultMessage:"Mirror calendar app"}),onClick:v}),action:()=>{}}])},{key:"accountsList",render:e=>(0,g.jsx)(vt().A,{...e,style:y.accountsListSection}),items:(0,J().oE)([{key:"accountsList",render:e=>(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(n(304566).A,{scrollerStore:m}),(0,g.jsx)(r().H,{type:S().A.Y,store:m,children:(0,g.jsx)(Bt,{botId:d,isMirrored:p,...e})})]}),action:()=>{}}])}]);return(0,g.jsx)(ht().Ay,{onAccept:e=>{},type:ht().Oh.Vertical,sections:x,initialFocus:void 0})}function Vt(e){let{onClose:t,onBackClick:n}=e;const i=(0,o().v3)(),a=(0,$().tz)(),r=(0,s().IS)((()=>({container:{paddingLeft:8,paddingRight:10,height:28,display:"flex",alignItems:"center",justifyContent:"flex-start",gap:3},arrowLeftIcon:{width:24,height:24,flexShrink:0,flexGrow:0},menuTitle:{flexGrow:1,fontWeight:ce().Wy.semibold,fontSize:(0,le().ny)(i,"UIRegular")},closeButton:{flexShrink:0}})),[i]);return(0,g.jsxs)("div",{style:r.container,children:[(0,g.jsx)(It().A,{style:r.arrowLeftIcon,icon:At().v,ariaLabel:a.formatMessage({id:"calendarSettingsVisibilityPanel.back",defaultMessage:"Back"}),onClick:n}),(0,g.jsx)("div",{style:r.menuTitle,children:(0,g.jsx)($().sA,{id:"calendarSettingsVisibilityPanel.title",defaultMessage:"Calendars"})}),(0,g.jsx)(kt().A,{onClose:t,style:r.closeButton})]})}const Nt=i.memo(Et);var Dt=()=>n(511952),Wt=()=>n(907721);const Ft={one_day:{title:(0,g.jsx)($().sA,{id:"IncludeEventsPickerMenu.oneDay",defaultMessage:"Today"})},two_days:{title:(0,g.jsx)($().sA,{id:"IncludeEventsPickerMenu.two_days",defaultMessage:"Today and tomorrow"})},three_days:{title:(0,g.jsx)($().sA,{id:"IncludeEventsPickerMenu.three_days",defaultMessage:"3 days"})},one_week:{title:(0,g.jsx)($().sA,{id:"IncludeEventsPickerMenu.one_week",defaultMessage:"1 week"})}};function Kt(e){const t=(0,o().v3)(),r=(0,i.useContext)(B().a)??B().H,l=(0,a().K8)((()=>(0,We().iI)().key),[]),d=(0,s().IS)((e=>({lightText:{color:e.text.secondary},currentRangeIndicator:{display:"flex",alignItems:"center"}})),[]);return(0,g.jsx)(Dt().A,{...e,popupType:tt().nl.Popup,placementToOrigin:Wt().W.Right,alignmentToOrigin:Wt().C.Start,renderOrigin:t=>(0,g.jsx)(pt().A,{...t,focused:e.focused,icon:(0,g.jsx)(ft().I,{icon:n(741158).t}),title:(0,g.jsx)($().sA,{id:"IncludeEventsPickerMenu.includeEventsTitle",defaultMessage:"Include events"}),right:(0,g.jsxs)("div",{style:d.currentRangeIndicator,children:[(0,g.jsx)("span",{style:d.lightText,children:Ft[l].title}),(0,g.jsx)(ft().I,{icon:ot().x,size:"sm",color:"secondary"})]})}),render:e=>(0,g.jsx)(gt().A,{menuType:xt().gu.Popup,children:(0,g.jsx)(ht().Ay,{onAccept:e.close,type:ht().Oh.Vertical,sections:[{key:"all",render:e=>(0,g.jsx)(vt().A,{...e}),items:(0,T().WP)(Ft).map((e=>{let[n,{title:i}]=e;return{action:()=>(e=>{(0,Ze().w1)({environment:t,timeRange:e,analyticsContext:r})})(n),key:n,render:e=>(0,g.jsx)(pt().A,{...e,title:i,isChecked:n===l})}}))}],initialFocus:void 0})})})}const Ot=i.memo(Kt);function Ut(e){const t=(0,o().v3)(),r=(0,i.useContext)(B().a)??B().H,{botId:l}=(0,oe().m)(),d=bt(),c=(0,a().O$)(n(773082).A.externalAuthentications),u=(0,i.useCallback)((e=>{if(!e)return"";const t=c.find((t=>t.parent_id===e.id));return null==t?void 0:t.account_name}),[c]),m=(0,s().IS)((e=>({lightText:{color:e.text.secondary},accountIndicator:{display:"flex",alignItems:"center"}})),[]);return(0,g.jsx)(Dt().A,{...e,popupType:tt().nl.Popup,placementToOrigin:Wt().W.Right,alignmentToOrigin:Wt().C.Start,renderOrigin:t=>(0,g.jsx)(pt().A,{...t,focused:e.focused,icon:(0,g.jsx)(ft().I,{icon:n(528626).z}),title:(0,g.jsx)($().sA,{id:"NotionCalendarAccountPickerMenu.connectedAccountTitle",defaultMessage:"Connected"}),right:(0,g.jsxs)("div",{style:m.accountIndicator,children:[(0,g.jsx)("span",{style:m.lightText,children:u(d.find((e=>e.id===l)))}),(0,g.jsx)(ft().I,{icon:ot().x,size:"sm",color:"secondary"})]})}),render:e=>(0,g.jsx)(gt().A,{menuType:xt().gu.Popup,children:(0,g.jsx)(ht().Ay,{onAccept:e.close,type:ht().Oh.Vertical,sections:[{key:"all",render:e=>(0,g.jsx)(vt().A,{...e}),items:d.map((e=>({action:()=>{(0,Ze().rq)({environment:t,botId:e.id,shouldLog:!0,analyticsContext:r})},key:e.id,render:t=>(0,g.jsx)(pt().A,{...t,title:u(e),isChecked:e.id===l})})))}],initialFocus:void 0})})})}const zt=i.memo(Ut),Zt={all_day_events:{title:(0,g.jsx)($().sA,{id:"NotionCalendarSettingsContent.allDayEvents",defaultMessage:"All-day events"}),icon:n(30659).s},events_without_participants:{title:(0,g.jsx)($().sA,{id:"NotionCalendarSettingsContent.eventsWithoutParticipants",defaultMessage:"Events without participants"}),icon:lt},events_without_location:{title:(0,g.jsx)($().sA,{id:"NotionCalendarSettingsContent.eventsWithoutLocation",defaultMessage:"Events without conferencingâ/âlocation"}),icon:st}};function Gt(e){let{hasConnectedCalendar:t,popupStore:n}=e;const o=(0,a().K8)((()=>n.state.open?n.state.panel:void 0),[n]),[s,r]=(0,i.useState)(0),l=(0,i.useCallback)((e=>{e&&e.getBoundingClientRect().width>0&&!s&&r(e.getBoundingClientRect().width)}),[s]);if(!o)return null;let d;return"main"===o?d=(0,g.jsx)(qt,{hasConnectedCalendar:t,popupStore:n}):"calendarVisibility"===o?d=(0,g.jsx)(Nt,{popupStore:n}):(0,T().ub)(o),(0,g.jsx)(gt().A,{menuType:xt().gu.Popup,innerRef:l,...s?{width:s}:{},children:d})}function qt(e){let{hasConnectedCalendar:t,popupStore:n}=e;const r=(0,o().v3)(),l=(0,$().tz)(),d=!(0,v().w)().showAiChatModuleInHome,c=(0,a().O$)(C().AppStoreCurrentSpaceViewStore),u=bt(),m=(0,i.useCallback)((()=>{ut().FH(r,{from:"home_calendar_settings"})}),[r]),p=(0,i.useCallback)((()=>n.open("calendarVisibility")),[n]),h=(0,i.useCallback)((()=>{c&&mt().WO({environment:r,currentSpaceViewStore:c,feature:"calendar",from:"calendar_dismiss_button"})}),[c,r]),f=(0,s().IS)((e=>({lightMenuButton:{color:(0,N().EI)(e).text}})),[]),y={key:"calendars",render:e=>(0,g.jsx)(pt().A,{...e,icon:(0,g.jsx)(ft().I,{icon:ct().D}),title:(0,g.jsx)($().sA,{id:"NotionCalendarSettingsContent.calendars",defaultMessage:"Calendars"}),right:(0,g.jsx)(ft().I,{icon:ot().x,size:"sm",color:"secondary"})}),action:p},x={key:"includeEvents",render:e=>(0,g.jsx)(Ot,{...e}),action:()=>{}},S=(0,T().WP)(Zt).map((e=>{let[t,{title:n,icon:i}]=e;return{key:`eventFilter_${t}`,render:e=>(0,g.jsx)(Yt,{...e,filter:t,icon:(0,g.jsx)(ft().I,{icon:i}),title:n}),action:()=>{}}})),w={key:"hideWidget",render:e=>(0,g.jsx)(pt().A,{...e,icon:(0,g.jsx)(ft().I,{icon:at().e}),title:l.formatMessage(jt().u.hide)}),action:h},b={key:"learnMore",render:e=>(0,g.jsx)(pt().A,{...e,style:f.lightMenuButton,icon:(0,g.jsx)(ft().I,{icon:dt().questionMarkCircleIcon,color:"secondary"}),href:(0,St().xS)("guides.homeCalendar"),title:(0,g.jsx)($().sA,{id:"NotionCalendarSettingsContent.learnMore",defaultMessage:"Learn more"})}),action:m},j={key:"connectedCalendarAccount",render:e=>(0,g.jsx)(zt,{...e}),action:()=>{}},A=(0,J().oE)([t?{key:"calendarSpecificSettings",render:e=>(0,g.jsx)(vt().A,{...e}),items:[y,x,...S]}:void 0,{key:"highLevelSettingsAndLinks",render:e=>(0,g.jsx)(vt().A,{...e,topBorder:t}),items:[...u.length>1?[j]:[],...d?[w]:[],b]}]);return(0,g.jsx)(ht().Ay,{onAccept:e=>{},type:ht().Oh.Vertical,sections:A,initialFocus:void 0})}function Yt(e){let{filter:t,title:n,icon:r,...l}=e;const d=(0,o().v3)(),c=(0,i.useContext)(B().a)??B().H,u=(0,a().K8)((()=>(0,Ct().E)(t)),[t]),m=(0,i.useCallback)((()=>{(0,Ze().X6)({environment:d,filter:t,analyticsContext:{panelState:c.panelState,view:c.view}})}),[d,t,c.panelState,c.view]),p=(0,s().IS)((e=>({title:{marginRight:8}})),[]);return(0,g.jsx)(yt().A,{...l,on:u,icon:r,title:n,titleStyle:p.title,onClick:m})}const $t=i.memo(Gt);function Jt(e){let{hasConnectedCalendar:t}=e;const s=(0,o().v3)(),r=(0,a().uB)(void 0,it),l=(0,a().K8)((()=>r.state.open),[r]),d=(0,i.useContext)(B().a)??B().H,c=(0,i.useCallback)((()=>{r.close(),(0,ie().lv)({environment:s,action:"close",calendarPanelContext:(0,ie().sp)({panelState:d.panelState,view:d.view})})}),[s,d.panelState,d.view,r]),u=(0,i.useCallback)((()=>{r.open("main"),(0,ie().lv)({environment:s,action:"open",calendarPanelContext:(0,ie().sp)({panelState:d.panelState,view:d.view})})}),[s,d.panelState,d.view,r]);return(0,g.jsx)(et().Ay,{renderOrigin:e=>(0,g.jsx)(n(169959).A,{...e,onClick:u}),open:l,popupType:tt().nl.Popup,alignmentToOrigin:et().yP.End,placementToOrigin:et().sx.Bottom,onClose:c,onClick:u,render:e=>(0,g.jsx)($t,{hasConnectedCalendar:t,popupStore:r})},"settings")}const Qt=i.memo(Jt);let Xt=!1;function en(e){switch(e){case"signedOut":case"disconnectedAccount":case"missingScopes":case"loading":case"loadError":return!1;case"noEvents":case"events":return!0;default:(0,T().ub)(e)}}function tn(e){switch(e){case"signedOut":case"disconnectedAccount":case"missingScopes":case"loading":case"loadError":return!1;case"noEvents":case"events":return!0;default:(0,T().ub)(e)}}function nn(e,t){switch(e){case"signedOut":case"disconnectedAccount":case"missingScopes":case"loading":case"loadError":return!1;case"noEvents":case"events":return t.length>0;default:(0,T().ub)(e)}}function on(e){let{disconnectedAccounts:t,style:n,iconStyle:a}=e;const s=(0,o().v3)(),r=(0,i.useCallback)((()=>{(0,te().u$)({environment:s,from:"homeDisconnectedAccountWarning"})}),[s]);if(0===t.length)return null;const l=1===t.length?(0,g.jsx)($().sA,{id:"notionCalendarPanel.disconnectedAccountsWarningTooltip.singleAccount",defaultMessage:"{accountName} requires reconnecting",values:{accountName:t[0].displayName}}):(0,g.jsx)($().sA,{id:"notionCalendarPanel.disconnectedAccountsWarningTooltip.multiple",defaultMessage:"{numDisconnectedAccounts} accounts require reconnecting",values:{numDisconnectedAccounts:t.length}});return(0,g.jsx)(X().A,{renderTooltip:()=>l,render:e=>(0,g.jsx)(Q().p,{icon:q().Q,iconStyle:a,onClick:r,style:n,...e})})}const an=function(e){let{maxHeight:t,onLoaded:l,onDisplayStateChanged:d}=e;const c=(0,o().v3)(),u=(0,a().O$)(C().AppStoreCurrentSpaceStore),m=(0,oe().m)(),{timeZone:p}=(0,n(199726).mn)(),h=(0,ee().s5)();(0,i.useEffect)((()=>{l()}),[l]);const f=(0,i.useMemo)((()=>G().default.createValue({})),[]),{isRetryEventLoadingEnabled:v,retryEventLoading:y,days:x,displayState:w}=(0,n(999408).O)(),{disconnectedAccounts:b}=(0,n(532555).B)();(0,i.useEffect)((()=>{let e=0;const t={};for(const i of x){const o=(0,n(739536).qi)(h.toISODate(),i.date,p);for(const{baseEvent:a}of(0,n(965170).Om)(i)){t[(0,Oe().f)({event:a,date:i.date})]={eventIndex:e,numDaysFromToday:o},e++}}f.setState(t)}),[x,f,p,h]),(0,i.useEffect)((()=>d(w)),[w,d]),(0,O().v)({firstMountToReadyMetricName:"home.calendar.first_mount_to_ready",pageOriginToReadyMetricName:"home.calendar.page_origin_to_ready",isReady:"noEvents"===w||"events"===w,homeType:"personal"});const j=(0,i.useContext)(B().a)??B().H;(0,i.useEffect)((()=>{if(!Xt){void 0!==(null==j?void 0:j.panelState)&&((0,ie().qL)({environment:c,calendarPanelContext:(0,ie().sp)({panelState:j.panelState,view:j.view})}),Xt=!0)}}),[j.panelState,j.view,c]);const A=(0,i.useCallback)((()=>{const e=Y().JW();(0,ie().V0)({environment:c,calendarPanelContext:(0,ie().sp)({panelState:j.panelState,view:j.view}),notionAnalyticsSessionId:e}),(0,te().i$)({environment:c,from:"homeCreateEvent",notionAnalyticsSessionId:e})}),[j.panelState,j.view,c]),k=(0,i.useCallback)((()=>{(0,te().Op)({environment:c,spaceStore:C().default.state.currentSpaceStore,collectionViewStore:void 0,from:"homeOpenCalendarFromPanel"})}),[c]),I=(0,i.useCallback)((()=>{(0,te().Op)({environment:c,spaceStore:u,collectionViewStore:void 0,from:"homeSignupClick"})}),[c,u]),M=(0,i.useCallback)((()=>{(0,te().u$)({environment:c,from:"homeReconnectAccountClick"})}),[c]),_=(0,i.useMemo)((()=>function(e){let{displayState:t,isRetryEventLoadingEnabled:n,retryEventLoading:i,onConnectCalendarClick:o,onReconnectAccountClick:a}=e;const s={minHeight:0,paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0};let r;switch(t){case"signedOut":r={isShowingEmptyState:!0,emptyStateReactNode:(0,g.jsx)(De,{feature:"calendar",onSetup:o}),styleOverrides:s};break;case"disconnectedAccount":r={isShowingEmptyState:!0,emptyStateReactNode:(0,g.jsx)(De,{feature:"calendarDisconnectedAccount",onSetup:a}),styleOverrides:s};break;case"missingScopes":r={isShowingEmptyState:!0,emptyStateReactNode:(0,g.jsx)(De,{feature:"calendarMissingScopes",onSetup:a}),styleOverrides:s};break;case"noEvents":r={isShowingEmptyState:!0,emptyStateReactNode:(0,g.jsx)(Ke,{type:"noEvents"})};break;case"loadError":r={isShowingEmptyState:!0,emptyStateReactNode:(0,g.jsx)(Ke,{type:"loadError",onRetry:i,isRetryEnabled:n})};break;case"loading":case"events":r={isShowingEmptyState:!1};break;default:(0,T().HB)(t)}return r}({displayState:w,isRetryEventLoadingEnabled:v,retryEventLoading:y,onConnectCalendarClick:I,onReconnectAccountClick:M})),[w,v,y,I,M]),H=_.isShowingEmptyState,P=(0,s().IS)((e=>{const n=H?N().VQ:0,i={width:24,height:24,padding:0,display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"none"};return{panel:{minHeight:"events"===w?0:t,maxHeight:t,...H?{paddingBottom:N().VQ,paddingLeft:N().VQ,paddingTop:N().VQ,paddingRight:n}:{paddingRight:n,paddingBottom:0},...null==_?void 0:_.styleOverrides},innerContainer:{position:"relative",display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"hidden",paddingBottom:0},listShimmerContainer:{paddingTop:12,height:t,overflow:"hidden"},icon:{width:14,height:14,fill:"inherit"},createEventIcon:{marginRight:0},actionButton:i,createEventButton:{...i,marginLeft:4},arrowUpRightIcon:{transform:"rotate(90deg)",marginTop:4,marginLeft:2,width:14,height:14,fill:e.mediumIconColor},disconnectedAccountWarningIcon:{fill:e.mediumIconColor,marginRight:0},scroller:{paddingTop:10}}}),[H,w,t,null==_?void 0:_.styleOverrides]);return(0,g.jsxs)(g.Fragment,{children:["loading"!==w&&(0,g.jsx)(Xe,{}),(0,g.jsx)(U().A,{title:(0,g.jsx)($().sA,{id:"notionCalendarPanel.panelTitle",defaultMessage:"Upcoming events"}),tooltip:(0,g.jsx)($().sA,{id:"notionCalendarEmptyState.signedOut.title",defaultMessage:"See your upcoming events and join meetings from Home."}),actions:(0,J().oE)([nn(w,b)?(0,g.jsx)(on,{disconnectedAccounts:b,style:P.actionButton,iconStyle:P.disconnectedAccountWarningIcon},"disconnectedAccountWarning"):void 0,tn(w)?(0,g.jsx)(X().A,{renderTooltip:()=>(0,g.jsx)($().sA,{id:"notionCalendarPanel.openNotionCalendarTooltip",defaultMessage:"Open Notion Calendar"}),render:e=>(0,g.jsx)(Q().p,{icon:n(455936).p,iconStyle:P.arrowUpRightIcon,onClick:k,style:P.actionButton,...e})},"openNotionCalendar"):void 0,(0,g.jsx)(Qt,{hasConnectedCalendar:!m.loading&&(0,T().O9)(m.botId)},"settings"),en(w)?(0,g.jsx)(X().A,{renderTooltip:()=>(0,g.jsx)($().sA,{id:"notionCalendarPanel.createEventTooltip",defaultMessage:"Create event"}),render:e=>(0,g.jsx)(n(951540).A,{icon:n(280704).b,iconStyle:P.createEventIcon,onClick:A,style:P.createEventButton,...e})},"createEvent"):void 0]),actionsGap:2,panelStyle:P.panel,icon:(0,g.jsx)(ne().y,{style:P.icon}),children:_.isShowingEmptyState?_.emptyStateReactNode:(0,g.jsx)("div",{style:P.innerContainer,children:"loading"===w?(0,g.jsx)("div",{style:P.listShimmerContainer,children:(0,g.jsx)(n(282074).c,{isFullScreen:!1,hasGroups:!1,hasPartialResults:!1,hasSearchQuery:!1})}):(0,g.jsx)(r().H,{type:S().A.Y,style:P.scroller,children:(0,g.jsx)(Oe().A,{days:x,eventToAnalyticsStateStore:f})})})})]})};var sn=()=>n(64713);const rn=function(e){const{storeType:t,onLoaded:r,shouldRenderSetup:l,collectionContextStore:d,setCollectionContextStore:c,emptyStateTitle:u,emptyStateTooltip:m,emptyStateIcon:p,pageOriginToReadyMetricName:h,firstMountToReadyMetricName:f,userSelectOverride:y}=e,x=(0,o().v3)(),S=(0,o().Y0)(),w=!(0,v().w)().showAiChatModuleInHome,b=(0,a().O$)(C().AppStoreCurrentSpaceViewStore),j=(0,a().K8)((()=>{const e=(0,A().XH)(t);if(null!=e&&e.isCollectionView())return e}),[t]),k=(0,a().K8)((()=>{const e=null==d?void 0:d.collectionViewStore();return null==e?void 0:e.getType()}),[d]),I=(0,a().K8)((()=>"chart"===k?N().Mk:"list"===k?N().BZ:"feed"===k?N().EC:!S.isPhone||"board"!==k&&"gallery"!==k?N().dd:N().Ed),[S.isPhone,k]),M=(0,a().K8)((()=>(null==d?void 0:d.isLoadedStore.state)||(null==d?void 0:d.remoteErrorStore.state)),[d]);(0,i.useEffect)((()=>{M&&r()}),[M,r]);const T=(0,a().K8)((()=>{const e=Boolean(null==d?void 0:d.collectionStoresStore.state.length);return Boolean(M&&e)}),[d,M]);(0,O().v)({firstMountToReadyMetricName:f,pageOriginToReadyMetricName:h,isReady:T,homeType:"personal"});const _=(0,s().IS)((e=>({panel:{paddingRight:0,paddingBottom:0,paddingLeft:0,paddingTop:0,height:"100%",minHeight:76,maxHeight:I,..."timeline"===k?{background:e.timelineBackground}:{},...l?{flexDirection:"row"}:{}}})),[k,I,l]),H=(0,i.useMemo)((()=>{const e=j&&(0,g.jsx)(sn().dN,{store:j,disabled:!1,isFullScreen:!1,productUseCase:"editable_home_panel",overrideViewType:k,isFirstItem:!0,isLastItem:!0,maxHeight:I,overridePaddingLeft:"feed"===k?2:0,overridePaddingRight:"feed"===k?2:0,headerActionsBehavior:l?"hidden":void 0,hideViewTabBar:l,setCollectionContextStore:c,headerAllowedActions:"feed"===k?n(372078).l:void 0});let i={panelStyle:_.panel,hideWrapStyle:!0,children:e,userSelectOverride:y};if(l){const e=()=>{const e=function(e){switch(e){case"customDb":return{feature:"custom_db",from:"custom_db_more_menu"};case"myTasks":return{feature:"tasks",from:"home_more_menu"};default:return}}(t);b&&t&&e&&mt().WO({environment:x,currentSpaceViewStore:b,...e})};i={...i,title:u,tooltip:m,icon:p,actions:w?[(0,g.jsx)(jt().A,{actions:[{type:"hide",hide:e}]},"moreMenu")]:void 0}}return(0,g.jsx)(U().A,{...i})}),[j,k,I,l,c,_.panel,y,u,m,p,w,t,b,x]);return(0,g.jsx)(n(615917).A,{animate:{maxHeight:I},children:j?(0,g.jsx)(n(365060).A,{store:j,isDefaultContainer:!0,droppable:!0,disableEditNearestBlock:!0,render:e=>{let{selectableEvents:t}=e;return(0,g.jsx)("div",{...t,children:H})}}):H})};const ln=function(e){let{onLoaded:t}=e;const[o,r]=i.useState(void 0),l=(0,s().IS)((e=>({icon:{color:e.mediumIconColor,width:14,height:14}})),[]),d=(0,a().K8)((()=>{const e=(0,A().XH)("customDb");if(null!=e&&e.isCollectionView())return e}),[]),c=(0,a().K8)((()=>Boolean(d&&o&&!o.collectionStore()&&d.getCollectionViewStores().length<=1)),[o,d]);return(0,g.jsx)(rn,{storeType:"customDb",onLoaded:t,shouldRenderSetup:c,collectionContextStore:o,setCollectionContextStore:r,emptyStateTitle:(0,g.jsx)($().sA,{id:"homePageTemplates.customDbTitle.includeHome",defaultMessage:"Home views"}),emptyStateTooltip:(0,g.jsx)($().sA,{id:"CustomDbHomePanel.setup.description",defaultMessage:"Pin a database view to quickly access it from Home."}),emptyStateIcon:(0,n(84525).K)(l.icon),pageOriginToReadyMetricName:"home.custom_db.page_origin_to_ready",firstMountToReadyMetricName:"home.custom_db.first_mount_to_ready"})};n(875472),n(76509),n(863754);const dn={viewBox:"0 0 16 16",svg:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("path",{d:"M7.201 5.65a.649.649 0 0 0-.976.561v3.578c0 .5.543.813.976.56l3.067-1.788a.65.65 0 0 0 0-1.122z"}),(0,g.jsx)("path",{fillRule:"evenodd",d:"M8 1.875a6.125 6.125 0 1 1 0 12.25 6.125 6.125 0 0 1 0-12.25M3.125 8a4.875 4.875 0 1 1 9.75 0 4.875 4.875 0 0 1-9.75 0",clipRule:"evenodd"})]})},cn=(0,Se().wt)("arrowTriangleRightCircleSmall",dn);var un=()=>n(17384),mn=()=>n(886848),pn=()=>n(409211),gn=()=>n(110975),hn=()=>n(780942),fn=()=>n(279150);function vn(e){let{completedType:t,offsetLeftOfCompletedType:n,cardWidth:i,from:o,visibleTips:a}=e;const s=function(e,t,n){if("modal"===t)return!1;const{currentUserSettingsStore:i}=C().default.state,o=null==i?void 0:i.getPersonalHomeTipsSettings().progress_data;if(!o)return!1;let a=!1;for(let r=0;r<e.length;r++){const t=e[r].key;if(t===n)a=!0;else{var s;const e=null===(s=o[t])||void 0===s?void 0:s.completed;if(!a&&!e)return!1;if(a&&e)return!1}}return!0}(a,o,t);return s?n+i:void 0}class yn extends G().default{getInitialState(){return{num_checked:0,total_cards_shown:0}}}const xn=new yn;var Sn=()=>n(720554),Cn=()=>n(204066),wn=()=>n(104271);function bn(e){let{message:t,icon:n,iconStyle:i}=e;const o=(0,s().IS)((e=>({container:{display:"flex",flexGrow:1,justifyContent:"center",alignItems:"center",flexDirection:"column",textAlign:"center",gap:12},icon:{...(0,N().Xx)(e),...i}})),[i]);return(0,g.jsxs)("div",{style:o.container,children:[null==n?void 0:n(o.icon),(0,g.jsx)(re().A,{isSecondaryColor:!0,isMultiline:!0,children:t})]})}const jn=3*N().VQ;function An(){const e=(0,o().v3)(),t=(0,s().IS)((e=>({container:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:14,color:e.text.tertiary,flexGrow:1,paddingTop:34,paddingBottom:30}})),[]);return(0,g.jsx)(bn,{message:(0,g.jsxs)("div",{style:t.container,children:[(0,g.jsx)($().sA,{id:"TipsHomePanel.emptyState.message",defaultMessage:"New tips and guides will appear here."}),(0,g.jsx)(fn().A,{size:12}),(0,g.jsxs)(hn().p,{isBlue:!0,onClick:()=>{gn().f({environment:e,url:"https://www.notion.so/help",targetSelf:!1})},children:[(0,g.jsx)($().sA,{id:"TipsHomePanel.emptyState.exploreMore",defaultMessage:"Explore more in Help Center"}),(0,g.jsx)(fn().A,{size:2}),(0,g.jsx)(ft().I,{icon:un().arrowUpRightSquareSmallIcon,size:"sm",color:"uiBluePrimary"})]})]})})}function kn(e){const{card:t,onCompleted:n}=e,s=(0,o().v3)(),r=(0,a().K8)((()=>{const{isElectron:e,isMobileNative:t}=s.device,n=["local","production"].includes("production");return(!e||n)&&!t}),[s]),l=t.key,d=(0,a().K8)((()=>{const{currentUserSettingsStore:e}=C().default.state;if(!e)return!1;const t=e.getPersonalHomeTipsSettings().progress_data[l];return!!t&&t.completed}),[l]),c=(0,i.useRef)(null),u=(0,i.useCallback)(((e,t)=>{if(e===d)return;(0,j().it)({tipType:l,completed:e,environment:s});const i=xn.state,o=i.num_checked+(e?1:-1);xn.setState({...i,num_checked:o}),R().kx(s,{tip_key:l,checked:e,from:t,num_checked:o,total_cards_shown:i.total_cards_shown}),e&&c.current&&n(l,t,c.current)}),[l,s,d,n]),m=(0,i.useCallback)((()=>{R().cF(s,{tip_key:l,was_completed:d,in_app_modal_enabled:r}),r?Sn().A.setState({open:!0,tipCardDisplayInfo:t,onClosed:()=>u(!0,"modal")}):u(!0,"clickthrough")}),[s,l,d,r,u,t]),p=(0,i.useMemo)((()=>{const e=(0,St().xS)("guides.guides"),n=new URLSearchParams;return n.set("utm_source","tips"),n.set("utm_medium","inapp"),n.set("utm_campaign","2024q1_tipsinhome_m2"),r?void 0:`${e}${t.href}?${n.toString()}`}),[r,t.href]);return(0,g.jsx)(Mn,{ref:c,isChecked:d,href:p,onCheck:u,onClick:m,card:t})}function In(e,t){let{isChecked:o,href:a,onCheck:r,onClick:l,card:d}=e;const[c,u]=(0,i.useState)(!1),m=(0,s().IS)((e=>{const t={opacity:1,transition:"opacity 0.2s ease, transform 200ms ease-out"},n={display:"inline-flex",alignItems:"center",fontSize:12,gap:4};return{container:{height:216,width:240,display:"flex",flexDirection:"column",alignItems:"stretch"},imageContainer:{height:126,flexShrink:0,flexGrow:0,background:e.home.cards.coverPhoto.base,objectFit:"cover"},detailsAndCheckboxContainer:{flexGrow:1,padding:12,paddingBottom:10,display:"flex",flexDirection:"row",justifyContent:"stretch"},checkboxContainer:{flexShrink:0,flexGrow:0,marginLeft:12},detailsContainer:{flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"start"},title:{fontSize:14,lineHeight:"18px",fontWeight:ce().Wy.medium,whiteSpace:"pre-wrap",...(0,le().pA)(2)},caption:{...n,color:e.text.secondary,fill:e.mediumIconColor},pressedCaption:{...n,color:e.text.tertiary,fill:e.lightIconColor},hiddenCheckbox:{baseCheckboxStyle:t,opacity:0},checkbox:t,hoveredCheckbox:{...t,fill:e.home.cards.coverPhoto.base}}}),[]),p=o?m.checkbox:c?m.hoveredCheckbox:m.hiddenCheckbox,h=o?m.pressedCaption:m.caption;let f;switch(d.contentType){case"video":f=(0,g.jsxs)("div",{style:h,children:[(0,g.jsx)(ft().I,{icon:cn,size:"sm"}),(0,g.jsx)($().sA,{id:"tipsHomePanel.captionDuration2.watch",defaultMessage:"{duration}m watch",values:{duration:d.durationMinutes}})]});break;case"article":f=(0,g.jsxs)("div",{style:h,children:[(0,g.jsx)(ft().I,{icon:mn().bookSmallIcon,size:"sm"}),(0,g.jsx)($().sA,{id:"tipsHomePanel.captionDuration2.read",defaultMessage:"{duration}m read",values:{duration:d.durationMinutes}})]});break;default:(0,T().ub)(d.contentType)}return(0,g.jsxs)(Cn().A,{ref:t,href:a,style:m.container,external:!0,onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),onClick:l,borderRadiusVariant:"small",children:[(0,g.jsx)("img",{src:d.image,style:m.imageContainer}),(0,g.jsxs)("div",{style:m.detailsAndCheckboxContainer,children:[(0,g.jsxs)("div",{style:m.detailsContainer,children:[(0,g.jsx)("div",{style:m.title,children:d.title}),f]}),(0,g.jsx)("div",{style:m.checkboxContainer,children:(0,g.jsx)(n(559637).A,{checked:o,size:20,onClick:()=>r(!o,"check_button"),round:!0,thinOutline:!0,style:p,tooltipHeader:o?(0,g.jsx)($().sA,{id:"tipsHomePanel.checkboxRedesign.incompleteTooltip",defaultMessage:"Mark incomplete"}):(0,g.jsx)($().sA,{id:"tipsHomePanel.checkboxRedesign.completeTooltip",defaultMessage:"Mark complete"})})})]})]})}const Mn=i.forwardRef(In),Tn=function(e){var t;let{onLoaded:r}=e;const{value:l}=(0,n(129978).fJ)(n(573643).KM.personalHomeLearnHelpers),d=(0,o().v3)(),[c,u]=(0,i.useState)(!0),[m,p]=(0,i.useState)([]),[h,f]=(0,i.useState)([]),[v,y]=(0,i.useState)(void 0),x=null===(t=d.currentUser)||void 0===t?void 0:t.id,S=(0,n(931371).HI)(),w=(0,a().K8)((()=>null==S?void 0:S.getSpaceId()),[S]),b=(0,n(898055).l)({spaceId:w}),A=(0,n(979740).uq)(b),k=(0,a().K8)((()=>{if(!l)return[];const e=n(118808).A.state,{currentUserSettingsStore:t}=C().default.state;if(e)return l.getRelevantTipCards(e);if(null==t||!t.isReady())return[];const i=Boolean(null==S?void 0:S.isWorkspaceOwner())||pn().BF.id===x,o=l.getTipsEligibilityData({isWorkspaceOwner:i,isOnTrial:A});return l.getRelevantTipCards(o)}),[A,l,S,x]),I=(0,a().K8)((()=>{const{currentUserSettingsStore:e}=C().default.state;return!!e&&e.getPersonalHomeTipsSettings().hide_completed}),[]),M=(0,i.useCallback)((()=>{const{currentUserSettingsStore:e}=C().default.state;if(null==e||!e.isReady())return;const t=e.getPersonalHomeTipsSettings().progress_data,[n,i]=J().jB(k,(e=>{const n=e.key,i=t[n];return null==i?void 0:i.completed}));p(n),f(i),u(!1),r(),xn.setState({...xn.state,num_checked:n.length,total_cards_shown:k.length})}),[k,r]),T=(0,i.useCallback)((()=>{(0,j().Qs)({hide:!I,environment:d});const e=xn.state;R().ZX(d,{show_completed_tips:I,num_checked:e.num_checked,total_cards_shown:e.total_cards_shown}),M()}),[d,I,M]);(0,i.useEffect)((()=>{M()}),[M]);const _=(0,i.useCallback)((e=>{e&&y({position:e.offsetLeft-jn,animate:!1})}),[]),H=(0,s().IS)((e=>({divider:{height:void 0,scrollMarginLeft:jn},dividerColor:{color:e.home.cards.verticalDivider}})),[]),P=(0,i.useCallback)((()=>{C().default.state.currentSpaceViewStore&&mt().WO({environment:d,currentSpaceViewStore:C().default.state.currentSpaceViewStore,feature:"tips",from:"learn_dismiss_button"})}),[d]),L=!c&&I&&0===h.length,B=(0,i.useCallback)(((e,t,n)=>{const i=I?h:m.concat(h),o=vn({completedType:e,offsetLeftOfCompletedType:n.offsetLeft,cardWidth:240,from:t,visibleTips:i});o&&y({position:o,animate:!0})}),[I,h,m]);return(0,g.jsx)(U().A,{title:(0,g.jsx)($().sA,{id:"LearnHomePanel.Title",defaultMessage:"Learn"}),actions:[(0,g.jsx)(jt().A,{actions:[{type:"custom",closeOnAccept:!0,item:{key:"show-hide-completed",action:T,render:e=>(0,g.jsx)(pt().A,{...e,title:I?(0,g.jsx)($().sA,{id:"tipsHomePanel.hideCompletedButton.show",defaultMessage:"Show completed"}):(0,g.jsx)($().sA,{id:"tipsHomePanel.hideCompletedButton.hide",defaultMessage:"Hide completed"}),icon:(0,g.jsx)(ft().I,{icon:n(423162).checkmarkCircleIcon})})}},{type:"hide",hide:P}]},"more-menu")],icon:(0,g.jsx)(ft().I,{icon:mn().bookSmallIcon,size:"sm",color:"secondary"}),tooltip:(0,g.jsx)($().sA,{id:"LearnHomePanel.Tooltip",defaultMessage:"Explore resources from our help center"}),hideWrapStyle:!L,children:L?(0,g.jsx)(An,{}):(0,g.jsxs)(wn().A,{cardWidth:240,scrollPosition:v,children:[!I&&m.map((e=>(0,g.jsx)(kn,{card:e,onCompleted:B},e.key))),!I&&m.length>0&&h.length>0&&(0,g.jsx)(n(884373).A,{ref:_,vertical:!0,size:1,style:H.divider,dividerColor:H.dividerColor.color}),h.map((e=>(0,g.jsx)(kn,{card:e,onCompleted:B},e.key)))]})})},_n={viewBox:"0 0 16 16",svg:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("path",{d:"M10.172 5.564a.625.625 0 0 0-.858.214L7.36 9.035 6.325 7.827a.625.625 0 1 0-.95.813l1.6 1.867a.625.625 0 0 0 1.01-.085l2.4-4a.625.625 0 0 0-.213-.858"}),(0,g.jsx)("path",{d:"M4.25 2.375c-1.036 0-1.875.84-1.875 1.875v7.5c0 1.036.84 1.875 1.875 1.875h7.5c1.036 0 1.875-.84 1.875-1.875v-7.5c0-1.036-.84-1.875-1.875-1.875zM3.625 4.25c0-.345.28-.625.625-.625h7.5c.345 0 .625.28.625.625v7.5c0 .345-.28.625-.625.625h-7.5a.625.625 0 0 1-.625-.625z"})]})},Hn=(0,Se().wt)("checkmarkSquareSmall",_n);const Pn=function(e){let{onLoaded:t}=e;const[n,o]=i.useState(void 0),s=(0,a().K8)((()=>{var e,t;const i=(null==n||null===(e=n.collectionStoresStore)||void 0===e?void 0:e.state)??[];return Boolean((null==n||null===(t=n.isLoadedStore)||void 0===t?void 0:t.state)&&0===i.length)}),[n]),r=(0,a().K8)((()=>{var e;return null===(e=C().default.state.currentSpaceStore)||void 0===e||null===(e=e.getModel())||void 0===e?void 0:e.getRenderTitle()}),[]);return(0,g.jsx)(rn,{storeType:"myTasks",onLoaded:t,shouldRenderSetup:s,collectionContextStore:n,setCollectionContextStore:o,emptyStateTitle:(0,g.jsx)($().sA,{id:"MyTasksHomePanel.myTasksFeature",defaultMessage:"My tasks"}),emptyStateTooltip:(0,g.jsx)($().sA,{id:"MyTasksHomePanel.setup.description",defaultMessage:"See all your tasks across {spaceName} in one place.",values:{spaceName:r}}),emptyStateIcon:(0,g.jsx)(ft().I,{icon:Hn,size:"sm",color:"secondary"}),pageOriginToReadyMetricName:"home.my_tasks.page_origin_to_ready",firstMountToReadyMetricName:"home.my_tasks.first_mount_to_ready"})},Ln={viewBox:"0 0 16 16",svg:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("path",{d:"M11.104 4.428h-4.2a.575.575 0 1 0 0 1.15h4.2a.575.575 0 0 0 0-1.15m0 1.996h-4.2a.575.575 0 1 0 0 1.15h4.2a.575.575 0 0 0 0-1.15m-4.2 1.998a.575.575 0 0 0-.575.575v2c0 .318.257.575.575.575h4.2a.575.575 0 0 0 .575-.575v-2a.575.575 0 0 0-.575-.575zm.575 2v-.85h3.05v.85z"}),(0,g.jsx)("path",{d:"M5.704 2.425c-.76 0-1.375.616-1.375 1.375v3.631H2.504a.575.575 0 0 0-.575.575v3.737c0 .988.768 1.832 1.775 1.832h8.2c.98 0 1.775-.795 1.775-1.775v-8c0-.76-.616-1.375-1.375-1.375zM5.479 3.8c0-.124.1-.225.225-.225h6.6c.124 0 .225.1.225.225v8c0 .345-.28.625-.625.625h-6.52q.093-.26.095-.557zm-2.4 7.943V8.581h1.25v3.171c-.004.395-.301.67-.62.673h-.007c-.321 0-.623-.28-.623-.682"})]})},Rn=(0,Se().wt)("newspaperSmall",Ln);const Bn=function(e){const{onLoaded:t}=e;(0,n(501633).e)();const[o,a]=i.useState(void 0);return(0,g.jsx)(n(409179).bO,{surface:"PersonalHome",children:(0,g.jsx)(rn,{storeType:"posts",onLoaded:t,shouldRenderSetup:!1,collectionContextStore:o,setCollectionContextStore:a,emptyStateTitle:(0,g.jsx)($().sA,{id:"postsHomePanel.title",defaultMessage:"Your Feed"}),emptyStateTooltip:(0,g.jsx)($().sA,{id:"postsHomePanel.tooltip",defaultMessage:"Catch up on updates from your team"}),emptyStateIcon:(0,g.jsx)(ft().I,{icon:Rn,size:"sm",color:"secondary"}),pageOriginToReadyMetricName:"feed.page_origin_to_ready",firstMountToReadyMetricName:"feed.first_mount_to_ready",userSelectOverride:"auto"})})};var En=()=>n(646591),Vn=()=>n(694013);const Nn=6;function Dn(e){let{showLoadingShimmer:t,width:n,height:i,borderRadiusVariant:o}=e;const a=(0,s().IS)((e=>({item:{width:n,height:i,background:t?"unset":e.home.cards.coverPhoto.base,boxShadow:"unset"},loadingShimmer:{width:"100%",height:"100%"}})),[i,t,n]);return(0,g.jsx)(Cn().A,{style:a.item,disabled:!0,borderRadiusVariant:o,children:t&&(0,g.jsx)(F().A,{style:a.loadingShimmer})})}const Wn=i.memo(Dn);var Fn=()=>n(146914),Kn=()=>n(712437);const On=(0,Se().wt)("newPageIconFilledDark",{viewBox:"0 0 16 16",svg:(0,g.jsxs)("g",{children:[(0,g.jsx)("path",{d:"M13.5474 2.46289C13.8937 2.80924 14.117 3.22624 14.2173 3.71387C14.3221 4.19694 14.3745 4.75065 14.3745 5.375V10.6182C14.3745 11.2471 14.3221 11.8031 14.2173 12.2861C14.117 12.7692 13.8937 13.1862 13.5474 13.5371C13.1919 13.888 12.7703 14.1159 12.2827 14.2207C11.7951 14.3255 11.2414 14.3779 10.6216 14.3779H5.37842C4.75407 14.3779 4.19808 14.3255 3.71045 14.2207C3.22738 14.1159 2.81038 13.888 2.45947 13.5371C2.104 13.1862 1.87614 12.7692 1.77588 12.2861C1.67562 11.8031 1.62549 11.2471 1.62549 10.6182V5.36816C1.62549 4.74837 1.67562 4.19694 1.77588 3.71387C1.8807 3.23079 2.10856 2.8138 2.45947 2.46289C2.81038 2.11198 3.22738 1.88411 3.71045 1.7793C4.19808 1.67448 4.74951 1.62207 5.36475 1.62207H10.6216C11.2414 1.62207 11.7951 1.67448 12.2827 1.7793C12.7703 1.88411 13.1919 2.11198 13.5474 2.46289Z",fill:"#252525"}),(0,g.jsx)("path",{d:"M13.5474 2.46289C13.8937 2.80924 14.117 3.22624 14.2173 3.71387C14.3221 4.19694 14.3745 4.75065 14.3745 5.375V10.6182C14.3745 11.2471 14.3221 11.8031 14.2173 12.2861C14.117 12.7692 13.8937 13.1862 13.5474 13.5371C13.1919 13.888 12.7703 14.1159 12.2827 14.2207C11.7951 14.3255 11.2414 14.3779 10.6216 14.3779H5.37842C4.75407 14.3779 4.19808 14.3255 3.71045 14.2207C3.22738 14.1159 2.81038 13.888 2.45947 13.5371C2.104 13.1862 1.87614 12.7692 1.77588 12.2861C1.67562 11.8031 1.62549 11.2471 1.62549 10.6182V5.36816C1.62549 4.74837 1.67562 4.19694 1.77588 3.71387C1.8807 3.23079 2.10856 2.8138 2.45947 2.46289C2.81038 2.11198 3.22738 1.88411 3.71045 1.7793C4.19808 1.67448 4.74951 1.62207 5.36475 1.62207H10.6216C11.2414 1.62207 11.7951 1.67448 12.2827 1.7793C12.7703 1.88411 13.1919 2.11198 13.5474 2.46289ZM13.0347 5.19043C13.0347 4.83496 13.0028 4.50456 12.939 4.19922C12.8797 3.88932 12.7521 3.63867 12.5562 3.44727C12.3693 3.25586 12.1187 3.12826 11.8042 3.06445C11.4943 3.00065 11.1639 2.96875 10.813 2.96875H5.20752C4.84749 2.96875 4.51025 3.00065 4.1958 3.06445C3.88135 3.12826 3.62842 3.25358 3.43701 3.44043C3.25016 3.63639 3.12484 3.88932 3.06104 4.19922C3.00179 4.50911 2.97217 4.84408 2.97217 5.2041V10.8096C2.97217 11.165 3.00179 11.4977 3.06104 11.8076C3.12484 12.113 3.25016 12.3613 3.43701 12.5527C3.62842 12.7396 3.87907 12.8672 4.18896 12.9355C4.50342 12.9993 4.83838 13.0312 5.19385 13.0312H10.813C11.1639 13.0312 11.4943 12.9993 11.8042 12.9355C12.1187 12.8717 12.3693 12.7441 12.5562 12.5527C12.7476 12.3613 12.8752 12.113 12.939 11.8076C13.0028 11.4977 13.0347 11.165 13.0347 10.8096V5.19043ZM4.84521 8C4.84521 7.80859 4.90446 7.65365 5.02295 7.53516C5.14144 7.41211 5.29867 7.35059 5.49463 7.35059H7.36768V5.47754C7.36768 5.29069 7.42692 5.13802 7.54541 5.01953C7.6639 4.89648 7.81429 4.83496 7.99658 4.83496C8.18799 4.83496 8.34294 4.89421 8.46143 5.0127C8.58447 5.13118 8.646 5.28613 8.646 5.47754V7.35059H10.519C10.7104 7.35059 10.8654 7.41211 10.9839 7.53516C11.1024 7.65365 11.1616 7.80859 11.1616 8C11.1616 8.18229 11.1024 8.33268 10.9839 8.45117C10.8654 8.56966 10.7104 8.62891 10.519 8.62891H8.646V10.5088C8.646 10.6956 8.58447 10.8506 8.46143 10.9736C8.34294 11.0921 8.18799 11.1514 7.99658 11.1514C7.81429 11.1514 7.6639 11.0921 7.54541 10.9736C7.42692 10.8506 7.36768 10.6956 7.36768 10.5088V8.62891H5.49463C5.30322 8.62891 5.146 8.56966 5.02295 8.45117C4.90446 8.33268 4.84521 8.18229 4.84521 8Z",fill:"white",fillOpacity:"0.283"})]})}),Un=(0,Se().wt)("newPageIconFilledLight",{viewBox:"0 0 16 16",svg:(0,g.jsxs)("g",{children:[(0,g.jsx)("path",{d:"M13.5474 2.46289C13.8937 2.80924 14.117 3.22624 14.2173 3.71387C14.3221 4.19694 14.3745 4.75065 14.3745 5.375V10.6182C14.3745 11.2471 14.3221 11.8031 14.2173 12.2861C14.117 12.7692 13.8937 13.1862 13.5474 13.5371C13.1919 13.888 12.7703 14.1159 12.2827 14.2207C11.7951 14.3255 11.2414 14.3779 10.6216 14.3779H5.37842C4.75407 14.3779 4.19808 14.3255 3.71045 14.2207C3.22738 14.1159 2.81038 13.888 2.45947 13.5371C2.104 13.1862 1.87614 12.7692 1.77588 12.2861C1.67562 11.8031 1.62549 11.2471 1.62549 10.6182V5.36816C1.62549 4.74837 1.67562 4.19694 1.77588 3.71387C1.8807 3.23079 2.10856 2.8138 2.45947 2.46289C2.81038 2.11198 3.22738 1.88411 3.71045 1.7793C4.19808 1.67448 4.74951 1.62207 5.36475 1.62207H10.6216C11.2414 1.62207 11.7951 1.67448 12.2827 1.7793C12.7703 1.88411 13.1919 2.11198 13.5474 2.46289Z",fill:"white"}),(0,g.jsx)("path",{d:"M13.5474 2.46289C13.8937 2.80924 14.117 3.22624 14.2173 3.71387C14.3221 4.19694 14.3745 4.75065 14.3745 5.375V10.6182C14.3745 11.2471 14.3221 11.8031 14.2173 12.2861C14.117 12.7692 13.8937 13.1862 13.5474 13.5371C13.1919 13.888 12.7703 14.1159 12.2827 14.2207C11.7951 14.3255 11.2414 14.3779 10.6216 14.3779H5.37842C4.75407 14.3779 4.19808 14.3255 3.71045 14.2207C3.22738 14.1159 2.81038 13.888 2.45947 13.5371C2.104 13.1862 1.87614 12.7692 1.77588 12.2861C1.67562 11.8031 1.62549 11.2471 1.62549 10.6182V5.36816C1.62549 4.74837 1.67562 4.19694 1.77588 3.71387C1.8807 3.23079 2.10856 2.8138 2.45947 2.46289C2.81038 2.11198 3.22738 1.88411 3.71045 1.7793C4.19808 1.67448 4.74951 1.62207 5.36475 1.62207H10.6216C11.2414 1.62207 11.7951 1.67448 12.2827 1.7793C12.7703 1.88411 13.1919 2.11198 13.5474 2.46289ZM13.0347 5.19043C13.0347 4.83496 13.0028 4.50456 12.939 4.19922C12.8797 3.88932 12.7521 3.63867 12.5562 3.44727C12.3693 3.25586 12.1187 3.12826 11.8042 3.06445C11.4943 3.00065 11.1639 2.96875 10.813 2.96875H5.20752C4.84749 2.96875 4.51025 3.00065 4.1958 3.06445C3.88135 3.12826 3.62842 3.25358 3.43701 3.44043C3.25016 3.63639 3.12484 3.88932 3.06104 4.19922C3.00179 4.50911 2.97217 4.84408 2.97217 5.2041V10.8096C2.97217 11.165 3.00179 11.4977 3.06104 11.8076C3.12484 12.113 3.25016 12.3613 3.43701 12.5527C3.62842 12.7396 3.87907 12.8672 4.18896 12.9355C4.50342 12.9993 4.83838 13.0312 5.19385 13.0312H10.813C11.1639 13.0312 11.4943 12.9993 11.8042 12.9355C12.1187 12.8717 12.3693 12.7441 12.5562 12.5527C12.7476 12.3613 12.8752 12.113 12.939 11.8076C13.0028 11.4977 13.0347 11.165 13.0347 10.8096V5.19043ZM4.84521 8C4.84521 7.80859 4.90446 7.65365 5.02295 7.53516C5.14144 7.41211 5.29867 7.35059 5.49463 7.35059H7.36768V5.47754C7.36768 5.29069 7.42692 5.13802 7.54541 5.01953C7.6639 4.89648 7.81429 4.83496 7.99658 4.83496C8.18799 4.83496 8.34294 4.89421 8.46143 5.0127C8.58447 5.13118 8.646 5.28613 8.646 5.47754V7.35059H10.519C10.7104 7.35059 10.8654 7.41211 10.9839 7.53516C11.1024 7.65365 11.1616 7.80859 11.1616 8C11.1616 8.18229 11.1024 8.33268 10.9839 8.45117C10.8654 8.56966 10.7104 8.62891 10.519 8.62891H8.646V10.5088C8.646 10.6956 8.58447 10.8506 8.46143 10.9736C8.34294 11.0921 8.18799 11.1514 7.99658 11.1514C7.81429 11.1514 7.6639 11.0921 7.54541 10.9736C7.42692 10.8506 7.36768 10.6956 7.36768 10.5088V8.62891H5.49463C5.30322 8.62891 5.146 8.56966 5.02295 8.45117C4.90446 8.33268 4.84521 8.18229 4.84521 8Z",fill:"#C7C6C4"})]})});function zn(){const e=(0,o().v3)(),t=(0,a().K8)((()=>(0,x().D)({isMobileNative:e.device.isMobileNative,disableExposureLogging:!0})),[e]),r=(0,i.useCallback)((()=>{n(667801).quickAddPage({environment:e,from:"home_recents_new_page_button",pageVisitSource:Kn().y8.PersonalHomeTileRecentsQuickAdd})}),[e]),l=(0,s().IS)((e=>Fn().de({theme:e,dominantColorFromIcon:void 0,height:t?Fn().Uk:Fn().dn})),[t]);return(0,g.jsxs)(Cn().A,{style:l.container,onClick:r,borderRadiusVariant:"large",children:[(0,g.jsxs)("div",{style:l.coverAndIconContainer,children:[(0,g.jsx)(n(803291).t,{coverHeight:Fn().Lq,emptyGalleryCoverStyle:l.emptyGalleryCoverStyle}),(0,g.jsx)(Zn,{})]}),(0,g.jsx)(Gn,{})]})}function Zn(){const e=(0,s().DP)().mode,t=(0,s().IS)((e=>({recordIcon:{...Fn().QG,fill:e.lightIconColor}})),[]);switch(e){case"dark":return On(t.recordIcon);case"light":return Un(t.recordIcon);default:(0,T().HB)(e)}}function Gn(){const e=(0,s().IS)((e=>({titleWrap:Fn().vY.titleWrap,titleText:{...Fn().vY.titleText,color:e.text.tertiary}})),[]);return(0,g.jsx)("div",{style:e.titleWrap,children:(0,g.jsx)("div",{style:e.titleText,children:(0,g.jsx)($().sA,{id:"NewPageRecentsGalleryItem.newPageTitle",defaultMessage:"New page"})})})}const qn=i.memo(zn);var Yn=()=>n(846581);const $n=(0,Se().wt)("pageIconFilledDark",{viewBox:"0 0 16 16",svg:(0,g.jsxs)("g",{children:[(0,g.jsx)("path",{d:"M4.35986 15.3999C2.89697 15.3999 2.13818 14.6343 2.13818 13.1577V2.84229C2.13818 1.37256 2.89697 0.600098 4.35986 0.600098H7.65479C8.50928 0.600098 8.98096 0.736816 9.55518 1.31787L13.144 4.96826C13.7388 5.56982 13.8618 6.00732 13.8618 6.95752V13.1577C13.8618 14.6274 13.103 15.3999 11.6401 15.3999H4.35986Z",fill:"#252525"}),(0,g.jsx)("path",{d:"M4.35986 15.3999C2.89697 15.3999 2.13818 14.6343 2.13818 13.1577V2.84229C2.13818 1.37256 2.89697 0.600098 4.35986 0.600098H7.65479C8.50928 0.600098 8.98096 0.736816 9.55518 1.31787L13.144 4.96826C13.7388 5.56982 13.8618 6.00732 13.8618 6.95752V13.1577C13.8618 14.6274 13.103 15.3999 11.6401 15.3999H4.35986ZM4.46924 14.0601H11.5239C12.187 14.0601 12.522 13.7114 12.522 13.0757V7.13525H8.8374C7.8667 7.13525 7.38135 6.66357 7.38135 5.68604V1.93994H4.46924C3.80615 1.93994 3.47803 2.29541 3.47803 2.92432V13.0757C3.47803 13.7114 3.80615 14.0601 4.46924 14.0601ZM8.96045 5.95947H12.3374L8.56396 2.12451V5.55615C8.56396 5.83643 8.68018 5.95947 8.96045 5.95947ZM10.437 8.93311C10.6831 8.93311 10.8677 9.12451 10.8677 9.36377C10.8677 9.60986 10.6831 9.80127 10.437 9.80127H5.43311C5.17334 9.80127 4.98877 9.60986 4.98877 9.36377C4.98877 9.12451 5.17334 8.93311 5.43311 8.93311H10.437ZM10.437 11.23C10.6831 11.23 10.8677 11.4214 10.8677 11.6675C10.8677 11.9067 10.6831 12.0913 10.437 12.0913H5.43311C5.17334 12.0913 4.98877 11.9067 4.98877 11.6675C4.98877 11.4214 5.17334 11.23 5.43311 11.23H10.437Z",fill:"white",fillOpacity:"0.445"})]})}),Jn=(0,Se().wt)("pageIconFilledDarkNoContent",{viewBox:"0 0 16 16",svg:(0,g.jsxs)("g",{children:[(0,g.jsx)("path",{d:"M4.35986 15.3999C2.89697 15.3999 2.13818 14.6343 2.13818 13.1577V2.84229C2.13818 1.37256 2.89697 0.600098 4.35986 0.600098H7.65479C8.50928 0.600098 8.98096 0.736816 9.55518 1.31787L13.144 4.96826C13.7388 5.56982 13.8618 6.00732 13.8618 6.95752V13.1577C13.8618 14.6274 13.103 15.3999 11.6401 15.3999H4.35986Z",fill:"#252525"}),(0,g.jsx)("path",{d:"M4.35986 15.3999C2.89697 15.3999 2.13818 14.6343 2.13818 13.1577V2.84229C2.13818 1.37256 2.89697 0.600098 4.35986 0.600098H7.65479C8.50928 0.600098 8.98096 0.736816 9.55518 1.31787L13.144 4.96826C13.7388 5.56982 13.8618 6.00732 13.8618 6.95752V13.1577C13.8618 14.6274 13.103 15.3999 11.6401 15.3999H4.35986ZM4.46924 14.0601H11.5239C12.187 14.0601 12.522 13.7114 12.522 13.0757V7.13525H8.8374C7.8667 7.13525 7.38135 6.66357 7.38135 5.68604V1.93994H4.46924C3.80615 1.93994 3.47803 2.29541 3.47803 2.92432V13.0757C3.47803 13.7114 3.80615 14.0601 4.46924 14.0601ZM8.96045 5.95947H12.3374L8.56396 2.12451V5.55615C8.56396 5.83643 8.68018 5.95947 8.96045 5.95947Z",fill:"white",fillOpacity:"0.445"})]})}),Qn=(0,Se().wt)("pageIconFilledLight",{viewBox:"0 0 16 16",svg:(0,g.jsxs)("g",{children:[(0,g.jsx)("path",{d:"M4.35986 15.3999C2.89697 15.3999 2.13818 14.6343 2.13818 13.1577V2.84229C2.13818 1.37256 2.89697 0.600098 4.35986 0.600098H7.65479C8.50928 0.600098 8.98096 0.736816 9.55518 1.31787L13.144 4.96826C13.7388 5.56982 13.8618 6.00732 13.8618 6.95752V13.1577C13.8618 14.6274 13.103 15.3999 11.6401 15.3999H4.35986Z",fill:"white"}),(0,g.jsx)("path",{d:"M4.35986 15.3999C2.89697 15.3999 2.13818 14.6343 2.13818 13.1577V2.84229C2.13818 1.37256 2.89697 0.600098 4.35986 0.600098H7.65479C8.50928 0.600098 8.98096 0.736816 9.55518 1.31787L13.144 4.96826C13.7388 5.56982 13.8618 6.00732 13.8618 6.95752V13.1577C13.8618 14.6274 13.103 15.3999 11.6401 15.3999H4.35986ZM4.46924 14.0601H11.5239C12.187 14.0601 12.522 13.7114 12.522 13.0757V7.13525H8.8374C7.8667 7.13525 7.38135 6.66357 7.38135 5.68604V1.93994H4.46924C3.80615 1.93994 3.47803 2.29541 3.47803 2.92432V13.0757C3.47803 13.7114 3.80615 14.0601 4.46924 14.0601ZM8.96045 5.95947H12.3374L8.56396 2.12451V5.55615C8.56396 5.83643 8.68018 5.95947 8.96045 5.95947ZM10.437 8.93311C10.6831 8.93311 10.8677 9.12451 10.8677 9.36377C10.8677 9.60986 10.6831 9.80127 10.437 9.80127H5.43311C5.17334 9.80127 4.98877 9.60986 4.98877 9.36377C4.98877 9.12451 5.17334 8.93311 5.43311 8.93311H10.437ZM10.437 11.23C10.6831 11.23 10.8677 11.4214 10.8677 11.6675C10.8677 11.9067 10.6831 12.0913 10.437 12.0913H5.43311C5.17334 12.0913 4.98877 11.9067 4.98877 11.6675C4.98877 11.4214 5.17334 11.23 5.43311 11.23H10.437Z",fill:"#91918E"})]})}),Xn=(0,Se().wt)("pageIconFilledLightNoContent",{viewBox:"0 0 16 16",svg:(0,g.jsxs)("g",{children:[(0,g.jsx)("path",{d:"M4.35986 15.3999C2.89697 15.3999 2.13818 14.6343 2.13818 13.1577V2.84229C2.13818 1.37256 2.89697 0.600098 4.35986 0.600098H7.65479C8.50928 0.600098 8.98096 0.736816 9.55518 1.31787L13.144 4.96826C13.7388 5.56982 13.8618 6.00732 13.8618 6.95752V13.1577C13.8618 14.6274 13.103 15.3999 11.6401 15.3999H4.35986Z",fill:"white"}),(0,g.jsx)("path",{d:"M4.35986 15.3999C2.89697 15.3999 2.13818 14.6343 2.13818 13.1577V2.84229C2.13818 1.37256 2.89697 0.600098 4.35986 0.600098H7.65479C8.50928 0.600098 8.98096 0.736816 9.55518 1.31787L13.144 4.96826C13.7388 5.56982 13.8618 6.00732 13.8618 6.95752V13.1577C13.8618 14.6274 13.103 15.3999 11.6401 15.3999H4.35986ZM4.46924 14.0601H11.5239C12.187 14.0601 12.522 13.7114 12.522 13.0757V7.13525H8.8374C7.8667 7.13525 7.38135 6.66357 7.38135 5.68604V1.93994H4.46924C3.80615 1.93994 3.47803 2.29541 3.47803 2.92432V13.0757C3.47803 13.7114 3.80615 14.0601 4.46924 14.0601ZM8.96045 5.95947H12.3374L8.56396 2.12451V5.55615C8.56396 5.83643 8.68018 5.95947 8.96045 5.95947Z",fill:"#91918E"})]})});var ei=()=>n(850313),ti=()=>n(518797),ni=()=>n(28210),ii=()=>n(709237),oi=()=>n(951156),ai=()=>n(482570),si=()=>n(289113);const ri=16;function li(e){let{store:t}=e;const i=(0,o().v3)(),r=(0,s().DP)(),l=(0,a().K8)((()=>{var e;return(0,n(874620).b)({icon:null===(e=t.getIconStore())||void 0===e?void 0:e.getValue(),theme:r})}),[t,r]),d=(0,a().K8)((()=>t.isReady()),[t]),c=(0,a().K8)((()=>(0,n(29869).Ay)({store:t,fullyQualified:!1,pageVisitSource:Kn().y8.PersonalHomeTileRecents})),[t]),u=(0,a().K8)((()=>(0,x().D)({isMobileNative:i.device.isMobileNative,disableExposureLogging:!0})),[i]),m=u?Fn().Uk:Fn().dn,p=(0,s().IS)((e=>Fn().de({theme:e,dominantColorFromIcon:l,height:m})),[l,m]);return d?(0,g.jsxs)(Cn().A,{style:p.container,href:c,metaHref:c,borderRadiusVariant:"large",children:[(0,g.jsxs)("div",{style:p.coverAndIconContainer,children:[(0,g.jsx)(n(78245).z,{variant:"gallery",store:t,coverFormat:{type:"page_cover"},coverHeight:Fn().Lq,showEmptyGalleryCover:!0,onLoadProxiedImage:e=>{},emptyGalleryCoverStyle:p.emptyGalleryCoverStyle}),(0,g.jsx)(di,{store:t})]}),(0,g.jsx)(ci,{store:t,hideLastEdited:u})]}):(0,g.jsx)(Wn,{width:Fn()._O,height:m,showLoadingShimmer:!0,borderRadiusVariant:"large"})}function di(e){let{store:t}=e;const n=(0,o().WS)(),i=(0,o().v3)(),r=(0,a().K8)((()=>t.hasError()),[t]),l=(0,a().K8)((()=>t.getIcon()),[t]),d=(0,a().K8)((()=>t.isEmptyPage()),[t]),c=(0,s().DP)().mode,u=(0,s().IS)((e=>({recordIcon:Fn().QG,warningIcon:{fill:e.accentColors.orange[500],width:n?20:16,marginLeft:n?2:4,marginRight:n?4:6,paddingBottom:6,paddingTop:6,display:"inline-block",verticalAlign:"bottom"},defaultIconStyle:{width:Fn().lK-2,height:Fn().lK-2,marginLeft:-3},progressContainer:{top:14,bottom:"unset",right:"unset",fontSize:(0,le().ny)(i,"UISmall")}})),[i,n]);if(r)return(0,q().Q)(u.warningIcon);const m=function(e){let{style:t,mode:n,isEmptyPage:i}=e;switch(n){case"light":return i?Xn(t):Qn(t);case"dark":return i?Jn(t):$n(t);default:(0,T().HB)(n)}}({style:u.defaultIconStyle,mode:c,isEmptyPage:d});return(0,g.jsx)(ni().B,{disabled:!0,bucket:"secure",style:u.recordIcon,progressContainerStyle:u.progressContainer,icon:l,store:t,size:Fn().lK,isEmptyPage:d,defaultIcon:m})}function ci(e){let{store:t,hideLastEdited:n}=e;const i=(0,$().tz)(),o=(0,a().K8)((()=>t.getLastEditedTime()),[t]),r=(0,a().K8)((()=>(0,si().nl)(o,{useCompactFormat:!0,useWeeks:!0})),[o]),l=(0,a().K8)((()=>(0,Yn().W_)(o,"medium_with_time",i.locale)),[i.locale,o]),d=(0,a().K8)((()=>{const e=t.getLastEditedByPointer();if(e)return t.getRecordStore(t.getKeyStore("last_edited_by_id"),e)}),[t]),c=(0,a().K8)((()=>{if(d)switch(d.table){case pn().oo:return(0,g.jsx)(ai().A,{userStore:d,size:ri});case ti().GP:return(0,g.jsx)(oi().A,{botStore:d,size:ri});case ei().yj:return(0,g.jsx)(ai().A,{userStore:void 0,size:ri});default:(0,T().HB)(d)}}),[d]),u=(0,a().K8)((()=>null==d?void 0:d.getDisplayName(i)),[d,i]),m=(0,s().IS)((e=>({...Fn().vY,editedAtWrap:{display:"flex",justifyContent:"start",alignItems:"center",gap:4},tooltipDateText:{color:e.text.contrastSecondary}})),[]);return(0,g.jsxs)("div",{style:m.titleWrap,children:[(0,g.jsx)(ii().A,{style:m.titleText,store:t}),!n&&(0,g.jsx)(X().A,{disableTooltip:!d,renderTooltip:()=>(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{children:(0,g.jsx)($().sA,{id:"recentsGalleryItemV2.lastEditedByTooltipHeader",defaultMessage:"Last edited by"})}),u,(0,g.jsx)("br",{}),d&&(0,g.jsx)("span",{style:m.tooltipDateText,children:l})]}),placement:Wt().W.Bottom,alignment:Wt().C.Start,render:e=>0===o?null:(0,g.jsxs)("div",{style:m.editedAtWrap,...e,children:[c,(0,g.jsx)(re().A,{isSmall:!0,isSecondaryColor:!0,children:r})]})})]})}const ui=i.memo(li),mi=20;function pi(e){let{onLoaded:t}=e;const n=(0,o().v3)(),r=(0,a().K8)((()=>(0,x().D)({isMobileNative:n.device.isMobileNative,disableExposureLogging:!0})?Fn().Uk:Fn().dn),[n]),l=(0,s().IS)((e=>({containerStyle:{minHeight:r+5}})),[r]),d=(0,a().K8)((()=>function(e){if(En().NK.state)return{type:"global-recents-store",recentsStores:En().NK.state.filter((e=>e.store.canRead())).slice(0,e).map((e=>e.store)),isInitialized:!0};if(w().default.checkGate({gateName:"home_recents_caching"})){const t=(0,Vn().RK)();if(!t)return{type:"cache-miss",recentsStores:void 0,isInitialized:!1};const n=t.length;let i=t.findIndex((e=>!e.isReady()));return i=-1===i?void 0:i,void 0!==i&&i<Nn?{type:"cache-hit-blocks-not-ready",firstUnloadedStoreIndex:i,recentsStores:void 0,totalCachedRecents:n,isInitialized:!1}:{type:"cache-hit-blocks-loaded",firstUnloadedStoreIndex:i??Vn().zf,recentsStores:t.filter((e=>e.canRead())).slice(0,e),totalCachedRecents:n,isInitialized:!0}}return{type:"caching-not-enabled",recentsStores:void 0,isInitialized:!1}}(mi)),[]),c=(0,a().K8)((()=>d.isInitialized),[d]);!function(e){let{environment:t,recentPagesResult:n}=e;(0,i.useEffect)((()=>{if(!hi)switch(n.type){case"global-recents-store":case"cache-miss":case"caching-not-enabled":return;case"cache-hit-blocks-loaded":case"cache-hit-blocks-not-ready":hi=!0,(0,R().GE)({environment:t,firstUnloadedCachePageIndex:n.firstUnloadedStoreIndex??Vn().zf});break;default:(0,T().ub)(n)}}),[t,n])}({environment:n,recentPagesResult:d});const u=(0,a().K8)((()=>"global-recents-store"===d.type&&d.recentsStores.length<7),[d]);return(0,i.useEffect)((()=>{c&&t()}),[c,t]),(0,O().v)({firstMountToReadyMetricName:"home.recents.first_mount_to_ready",pageOriginToReadyMetricName:"home.recents.page_origin_to_ready",isReady:c,homeType:"personal"}),(0,g.jsxs)(wn().A,{cardWidth:Fn()._O,containerStyle:l.containerStyle,preventScroll:!c,children:[!c&&new Array(gi(d)).fill(0).map(((e,t)=>(0,g.jsx)(Wn,{width:Fn()._O,height:r,showLoadingShimmer:!1,borderRadiusVariant:"large"},t))),(d.recentsStores??[]).map((e=>(0,g.jsx)(ui,{store:e},e.id))),u&&(0,g.jsx)(qn,{})]})}function gi(e){switch(e.type){case"cache-hit-blocks-loaded":case"cache-hit-blocks-not-ready":return e.totalCachedRecents;case"global-recents-store":case"cache-miss":case"caching-not-enabled":return 4;default:return(0,T().ub)(e),4}}let hi=!1;const fi=function(e){let{onLoaded:t}=e;return(0,g.jsx)(U().A,{title:(0,g.jsx)($().sA,{id:"recentsHomePanel.multiplayer.title",defaultMessage:"Recently visited"}),tooltip:(0,g.jsx)($().sA,{id:"recentsHomePanel.tooltip",defaultMessage:"Jump into pages you've seen recently"}),icon:(0,g.jsx)(ft().I,{icon:n(403323).clockSmallIcon,size:"sm",color:"secondary"}),hideWrapStyle:!0,children:(0,g.jsx)(pi,{onLoaded:t})})};const vi=(0,Se().wt)("suggestedLarge",{viewBox:"0 0 48 48",svg:(0,g.jsx)("path",{d:"M10.7126 24.083C7.82146 24.083 5.48723 21.5473 5.48723 18.4192C5.47538 15.3622 7.84516 12.8621 10.7126 12.8621C13.6156 12.8621 15.9498 15.3266 15.9498 18.4074C15.9498 21.5355 13.6156 24.083 10.7126 24.083ZM24.2441 24.083C21.3529 24.083 19.0187 21.5473 19.0069 18.4192C19.0069 15.3622 21.3648 12.8621 24.2441 12.8621C27.1471 12.8621 29.4813 15.3266 29.4813 18.4074C29.4813 21.5355 27.1352 24.083 24.2441 24.083ZM37.7756 24.083C34.8844 24.083 32.5502 21.5473 32.5383 18.4192C32.5383 15.3622 34.8963 12.8621 37.7756 12.8621C40.6785 12.8621 43.0128 15.3266 43.0128 18.4074C43.0128 21.5355 40.6785 24.083 37.7756 24.083ZM10.7245 21.8317C12.3122 21.8317 13.6274 20.3269 13.6274 18.4074C13.6274 16.5352 12.3122 15.1134 10.7245 15.1134C9.14854 15.1134 7.80962 16.5589 7.80962 18.4192C7.80962 20.3506 9.14854 21.8317 10.7245 21.8317ZM24.2441 21.8317C25.8318 21.8317 27.1471 20.3269 27.1471 18.4074C27.1471 16.5352 25.8318 15.1134 24.2441 15.1134C22.6682 15.1134 21.3292 16.5589 21.3411 18.4192C21.3411 20.3506 22.6682 21.8317 24.2441 21.8317ZM37.7874 21.8317C39.3633 21.8317 40.6904 20.3269 40.6904 18.4074C40.6904 16.5352 39.3752 15.1134 37.7874 15.1134C36.1996 15.1134 34.8726 16.5589 34.8726 18.4192C34.8726 20.3506 36.2115 21.8317 37.7874 21.8317ZM3.36627 35.138C1.26901 35.138 0.25 34.4508 0.25 32.9934C0.25 29.652 4.40897 25.3982 10.7126 25.3982C17.0281 25.3982 21.1871 29.652 21.1871 32.9934C21.1871 34.4508 20.1562 35.138 18.0589 35.138H3.36627ZM24.2441 25.3982C30.5477 25.3982 34.7067 29.652 34.7067 32.9934C34.7067 34.4508 33.6877 35.138 31.5904 35.138H22.3127C22.7748 34.4508 22.9051 33.6925 22.8814 32.8867H31.8511C32.0999 32.8867 32.1947 32.8038 32.1947 32.6024C32.1947 30.8843 29.3273 27.6495 24.2441 27.6495C23.0118 27.6495 21.9098 27.851 20.9619 28.1827C20.4761 27.5429 19.8718 26.9623 19.1846 26.4291C20.642 25.7892 22.3364 25.3982 24.2441 25.3982ZM37.7756 25.3982C44.091 25.3982 48.25 29.652 48.25 32.9934C48.25 34.4508 47.2191 35.138 45.1219 35.138H35.8323C36.2944 34.4508 36.4248 33.6925 36.4129 32.8867H45.3826C45.6432 32.8867 45.738 32.8038 45.738 32.6024C45.738 30.8843 42.8587 27.6495 37.7756 27.6495C36.5433 27.6495 35.4413 27.851 34.4934 28.1946C34.0076 27.5429 33.4033 26.9623 32.7042 26.4409C34.1616 25.8011 35.8679 25.3982 37.7756 25.3982ZM3.10559 32.8867H18.3196C18.5803 32.8867 18.6751 32.8038 18.6751 32.6024C18.6751 30.8843 15.7958 27.6495 10.7126 27.6495C5.62941 27.6495 2.76197 30.8843 2.76197 32.6024C2.76197 32.8038 2.85676 32.8867 3.10559 32.8867Z"})});function yi(e){let{store:t,style:n,scrollContainerStyle:i,collectionContextStore:o,emptyState:l,pageOriginToReadyMetricName:d,firstMountToReadyMetricName:c,...u}=e;const m=(0,s().IS)((()=>({container:{position:"relative",display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"hidden",paddingBottom:0,...n},innerContainer:{paddingLeft:8,paddingBottom:4},scrollerStyle:{paddingRight:8,paddingTop:12},emptyStateWrapper:{paddingRight:N().VQ,paddingBottom:N().VQ,height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}})),[n]),p=(0,a().K8)((()=>null==o?void 0:o.isEmptyStore.state),[o]);return(0,O().v)({firstMountToReadyMetricName:c,pageOriginToReadyMetricName:d,isReady:Boolean(!p&&o&&t),homeType:"personal"}),p&&l?(0,g.jsx)("div",{style:m.emptyStateWrapper,children:l}):(0,g.jsx)("div",{style:m.container,children:t&&(0,g.jsx)(r().H,{type:S().A.Y,style:m.scrollerStyle,children:(0,g.jsx)("div",{style:m.innerContainer,children:(0,g.jsx)(Si,{store:t,...u})})})})}function xi(e){let{store:t,...n}=e;return(0,g.jsx)(sn().dN,{store:t,disabled:!1,hideViewTabBar:!0,headerActionsBehavior:"hidden",isFullScreen:!1,productUseCase:"personal_home",overrideViewType:"list",...n})}const Si=i.memo(xi),Ci=i.memo(yi);function wi(e){let{onLoaded:t,panelStyle:o}=e;const s=(0,a().K8)((()=>{const e=(0,A().XH)("similarUsers");if(null!=e&&e.isCollectionView())return e}),[]),[r,l]=i.useState(void 0);return(0,i.useEffect)((()=>{null!=r&&r.shouldShowSpinnerStore&&null!=r&&r.isLoadingStore&&t()}),[r,t]),(0,g.jsx)(U().A,{title:(0,g.jsx)($().sA,{id:"personalHomePanelConfig.similarUsersActivityPanelTitle.withWorkspaceName",defaultMessage:"Suggested for you"}),icon:(0,g.jsx)(ft().I,{icon:n(975358).lightBulbBrightSmallIcon,size:"sm",color:"secondary"}),tooltip:(0,g.jsx)($().sA,{id:"personalHomePanel.panelTooltip.similarUsers",defaultMessage:"Suggestions based on your recent activity"}),panelStyle:o,children:(0,g.jsx)(Ci,{store:s,collectionContextStore:r,setCollectionContextStore:l,emptyState:(0,g.jsx)(bi,{}),pageOriginToReadyMetricName:"home.suggested_for_you.page_origin_to_ready",firstMountToReadyMetricName:"home.suggested_for_you.first_mount_to_ready"})})}function bi(){return(0,g.jsx)(bn,{icon:vi,message:(0,g.jsx)($().sA,{id:"SimilarUsersHomePanel.emptyState.message",defaultMessage:"Pages relevant to you will show up here."})})}const ji=i.memo(wi);var Ai=()=>n(707781),ki=()=>n(220574),Ii=()=>n(960994),Mi=()=>n(818369),Ti=()=>n(413871);function _i(e){if("function"===e.type)switch(e.persona){case"student":return"13FpH1AGHci69ERczKupOU";case"educator":return"7ys8LLEWhlmVEwjJjASuE2";case"operations":return"4SPA9JI4ZQtyKtYzZvAVt1";case"knowledge_management":return"5IRBIHYcfXWjy5HamFCwAn";case"it_admin":return"2lxkUWVxPdhbYcvxe7FFty";case"hr":return"17Fklm4NRZaaMdctNNyl8L";case"support":return"2SmrAf6VMtcqx2Rszb5QZn";case"sales_or_success":return"4pVIkK7rg7S6DcqwvyNHs";case"finance":return"jDnY125acofk3O42a2IZ8";case"marketing":return"3TTtGQffJRQ0H3MSUNYs6j";case"product":return"3OAmgIdyPo9wEXGRH6j4dO";case"project_or_program_management":return"1mSX3Ie5sfGGT9ZrBuPXuO";case"product_design":return"W5d1S5UYPjuiY1t2cRG4T";case"eng":return"7vJ3HPIubGvIa4PzHrAG04";case"internal_communication":return"6F1MIc09JzFpGsxknKL0pq";case"creative":return"6H3xYAAg00HPET7xvqwcl4";default:(0,T().HB)(e)}else if("space_intent"===e.type)switch(e.persona){case"life":return"2X7QqO4KLsoTArIKyG7QA";case"school":return"5zeHsLqZ0Vk5kMfTQYiupq";case"work":return"1XoFa69pF2Yf1QzikYDOk6";default:(0,T().HB)(e)}else if("space_type"===e.type)switch(e.persona){case"multiplayer":return"2mk1W9x7ihl3uEpAwIy3zP";case"singleplayer":return"hjxAjQJHiLsYhivckSUZP";default:(0,T().HB)(e)}else(0,T().HB)(e)}var Hi=()=>n(758989);const Pi=150,Li=240;function Ri(){return{height:Pi,width:Li}}function Bi(e){let{store:t}=e;const r=(0,o().v3)(),l=(0,a().K8)((()=>t.getName()),[t]),d=(0,a().K8)((()=>{const e=t.getTemplateImage();if(null!=e&&e.url)return(0,n(130052).NU)(e.url)}),[t]),c=(0,a().K8)((()=>{const e=t.getTemplateIcon();if(e){if((0,Hi().T8)(e)){const{iconName:t}=(0,Hi().DV)(e)??{};if(!t)return;return`/icons/${t}_lightgray.svg`}return e.endsWith(".svg")?void 0:`/icons/${e}_lightgray.svg`}}),[t]),u=Boolean(c),m=!u,p=(0,i.useCallback)((()=>{const e=r.RouterStore.state.route,{currentSpaceStore:i}=C().default.state,o=(0,n(358920).dY)(t);if(!o||!i||"page"!==e.name||!e.blockId)return;const a=n(638907).B.createChildStore(i,{table:n(145017).ev,id:e.blockId,spaceId:i.id});n(191756).uK({environment:r,store:a,pageVisitSource:Kn().y8.PersonalHomeTileTemplates,templateGalleryItem:o})}),[r,t]),{height:h,width:f}=Ri(),v=(0,s().IS)((e=>{const t=e.home.cards.templateCardBackground;return{container:{width:f,height:h,display:"flex",flexDirection:"column",justifyContent:"stretch",background:t.base,boxShadow:"dark"!==e.mode?void 0:e.homeShadow.templateCard.base},containerHovered:{background:t.hovered,boxShadow:"dark"!==e.mode?void 0:e.homeShadow.templateCard.hovered},containerPressed:{background:t.pressed,boxShadow:"dark"!==e.mode?void 0:e.homeShadow.templateCard.hovered},headerTitleAndIconContainer:{paddingTop:14,paddingBottom:14,paddingLeft:m?24:16,paddingRight:16,display:"flex",alignItems:"center",gap:12,flexShrink:0,justifyContent:"start"},headerTextContainer:{display:"flex",flexDirection:"column",gap:2,alignItems:"start",flexGrow:1,flexShrink:1},offsetImageContainer:{position:"relative",flexShrink:1,flexGrow:1,minHeight:0},offsetImage:{position:"absolute",width:f,top:0,left:24,borderRadius:6,boxShadow:"0px 6px 16px 0px rgba(0, 0, 0, 0.05), 0px 0px 0px 1px rgba(18, 18, 18, 0.03)"},text:{width:"100%",lineHeight:1.3,...ce().RC}}}),[f,h,m]);return(0,g.jsxs)(Cn().A,{style:v.container,hoveredStyle:v.containerHovered,pressedStyle:v.containerPressed,onClick:p,borderRadiusVariant:"small",children:[(0,g.jsxs)("div",{style:v.headerTitleAndIconContainer,children:[u&&(0,g.jsx)(Ei,{templateIcon:c,size:32}),(0,g.jsxs)("div",{style:v.headerTextContainer,children:[(0,g.jsx)(re().A,{style:v.text,children:l}),(0,g.jsx)(re().A,{isSmall:!0,isSecondaryColor:!0,children:(0,g.jsx)($().sA,{id:"templatesGalleryItem.authorByNotion",defaultMessage:"By Notion"})})]})]}),(0,g.jsx)("div",{style:v.offsetImageContainer,children:(0,g.jsx)("img",{style:v.offsetImage,src:d})})]})}function Ei(e){let{templateIcon:t,size:n}=e;const i=(0,s().IS)((e=>({headerIcon:{width:n,height:n,opacity:.6}})),[n]);return t?(0,g.jsx)("img",{src:t,crossOrigin:"anonymous",style:i.headerIcon}):null}const Vi=i.memo(Bi);function Ni(e){let{onLoaded:t}=e;const s=(0,o().v3)(),r=(0,$().tz)(),l=(0,a().K8)((()=>{const{currentSpaceStore:e}=C().default.state,t=n(734898).A.state;if(t)return t;const{function:i,useCases:o}=(0,n(548694).p3)();return(0,V().Lt)({spaceSurveyData:null==e?void 0:e.getSpaceSurveyData(),userUseCases:o,userPersonaValue:i})}),[]),[d]=(0,n(162901).Yb)((async()=>{if(l)return await async function(e){let{persona:t,environment:n,intl:i}=e;const{currentSpaceStore:o}=C().default.state;if(!o)return[];const a=await Mi().callApi({eventName:"getTemplateContentGroup",environment:n,data:{contentfulId:_i(t),locale:(0,Ai().Nk)(i),includeRecordMap:!0}});return"success"!==a.type||!1===a.data.success||"template"!==a.data.type?[]:ki().RecordMapWithRole.create(a.data.recordMap).getByTable(Ii().XX).map((e=>Ti().$x.createChildStore(o,{table:Ii().XX,id:e.pointer.id})))}({persona:l,environment:s,intl:r})}),[s,r,l]),c="pending"===(null==d?void 0:d.status),u=(0,a().K8)((()=>"resolved"===(null==d?void 0:d.status)?d.value??[]:[]),[d]);(0,i.useEffect)((()=>{c||t()}),[c,t]);const m=(0,i.useCallback)((()=>{const{currentSpaceViewStore:e}=C().default.state;e&&mt().WO({environment:s,currentSpaceViewStore:e,feature:"templates",from:"templates_dismiss_button"})}),[s]),p=(0,i.useCallback)((()=>{(0,n(105373).P)({environment:s})}),[s]),h=(0,i.useMemo)((()=>{const e=[{type:"custom",closeOnAccept:!0,item:{key:"all_templates",render:(e,t)=>(0,g.jsx)(pt().A,{...e,title:(0,g.jsx)($().sA,{id:"TemplatesHomePanel.showAllTemplates",defaultMessage:"Explore more templates"}),icon:(0,g.jsx)(ft().I,{icon:n(314456).templatesFillIcon})}),action:p}},{type:"hide",hide:m}];return[(0,g.jsx)(jt().A,{actions:e},"more")]}),[m,p]),f=Ri();return(0,g.jsx)(U().A,{title:(0,g.jsx)($().sA,{id:"TemplatesHomePanel.Title",defaultMessage:"Featured templates"}),tooltip:(0,g.jsx)($().sA,{id:"TemplatesHomePanel.tooltip",defaultMessage:"Get inspired about how to use Notion"}),icon:(0,g.jsx)(ft().I,{icon:n(159850).templatesSmallIcon,size:"sm",color:"secondary"}),actions:h,hideWrapStyle:!0,children:(0,g.jsx)(wn().e,{cardWidth:f.width,children:c||0===u.length?[...Array(3).keys()].map((e=>(0,g.jsx)(Wn,{width:f.width,height:f.height,showLoadingShimmer:c,borderRadiusVariant:"small"},e))):u.map((e=>(0,g.jsx)(Vi,{store:e},e.id)))})})}const Di=i.memo(Ni);var Wi=()=>n(198654);const Fi=(0,Se().wt)("trendingArrow",{viewBox:"0 0 20 20",svg:(0,g.jsx)("path",{d:"M3.76208 13.6882L2.71619 12.6491L5.81287 9.49773C5.98604 9.32 6.15466 9.19467 6.31873 9.12175C6.48735 9.04428 6.66052 9.00554 6.83826 9.00554C7.01599 9.00554 7.18917 9.04428 7.35779 9.12175C7.53097 9.19923 7.69958 9.32455 7.86365 9.49773L10.2494 11.986C10.3086 12.0453 10.3679 12.0749 10.4271 12.0749C10.4909 12.0749 10.5524 12.0453 10.6117 11.986L13.2367 9.29949L12.2181 8.28093C12.1088 8.17156 12.0518 8.05307 12.0472 7.92547C12.0472 7.79786 12.0905 7.68393 12.1771 7.58367C12.2683 7.47885 12.3913 7.40593 12.5463 7.36492L16.5726 6.33269C16.7094 6.29623 16.837 6.30763 16.9554 6.36687C17.0785 6.42612 17.1696 6.51498 17.2289 6.63347C17.2881 6.74741 17.2995 6.87501 17.2631 7.01629L16.224 11.0495C16.183 11.2044 16.1101 11.3275 16.0052 11.4186C15.9004 11.5052 15.7842 11.5485 15.6566 11.5485C15.5336 11.544 15.4174 11.487 15.308 11.3776L14.2758 10.3386L11.4525 13.1755C11.1198 13.5081 10.778 13.6745 10.4271 13.6745C10.2494 13.6745 10.0739 13.6358 9.90076 13.5583C9.72758 13.4762 9.56124 13.3486 9.40173 13.1755L7.01599 10.694C6.9613 10.6302 6.90206 10.5983 6.83826 10.5983C6.77901 10.5983 6.71977 10.6302 6.66052 10.694L3.76208 13.6882Z"})});var Ki=()=>n(21557),Oi=()=>n(126451),Ui=()=>n(158918),zi=()=>n(360482),Zi=()=>n(424339);function Gi(e){let{onLoaded:t,panelStyle:n}=e;const[o,r]=i.useState(void 0),l=(0,a().K8)((()=>{const{currentSpaceStore:e,currentUserStore:t}=C().default.state;if(!e||!t)return;const n=(0,A().XH)("trending");return null!=n&&n.isCollectionView()?n:void 0}),[]),d=(0,s().IS)((e=>({icon:{width:20,height:20,margin:-2,fill:e.mediumIconColor},rightStyle:{overflow:"hidden"}})),[]);return(0,i.useEffect)((()=>{null!=o&&o.shouldShowSpinnerStore&&null!=o&&o.isLoadingStore&&t()}),[o,t]),(0,g.jsx)(U().A,{title:(0,g.jsx)($().sA,{id:"personalHomePanelConfig.workspaceActivityPanelTitle.trending",defaultMessage:"Trending"}),right:o&&(0,g.jsx)(qi,{collectionContextStore:o}),rightStyle:d.rightStyle,disableRightFadeIn:!0,icon:Fi(d.icon),tooltip:(0,g.jsx)($().sA,{id:"personalHomePanel.panelTooltip.trending",defaultMessage:"Popular pages this week"}),panelStyle:n,children:(0,g.jsx)(Ci,{store:l,collectionContextStore:o,setCollectionContextStore:r,emptyState:(0,g.jsx)(Ji,{}),pageOriginToReadyMetricName:"home.trending.page_origin_to_ready",firstMountToReadyMetricName:"home.trending.first_mount_to_ready"})})}function qi(e){let{collectionContextStore:t}=e;const n=(0,o().v3)(),{currentSpaceViewStore:s,currentSpaceStore:r}=(0,a().K8)((()=>{const{currentSpaceViewStore:e,currentSpaceStore:t}=C().default.state;return{currentSpaceViewStore:e,currentSpaceStore:t}}),[]),l=(0,a().K8)((()=>(null==s?void 0:s.getTeamsStores())??[]),[s]),d=(0,a().K8)((()=>t.collectionViewStore()),[t]),c=(0,a().K8)((()=>{if(!r)return;const e=null==d?void 0:d.getCollectionSource();if("trending"!==(null==e?void 0:e.type))return;const t=e.teamId;return t?l.find((e=>e.id===t)):r}),[l,r,d]),u=(0,i.useCallback)((e=>{mt().hK({environment:n,currentSpaceViewStore:s,selectedStore:e,collectionContextStore:t})}),[n,t,s]),m=(0,a().K8)((()=>{if(!r)return{};const e={};return e[r.id]=null==r?void 0:r.getName(),l.forEach((t=>{e[t.id]=t.getName()})),e}),[r,l]);return s&&r&&c?(0,g.jsx)(Ui().A,{items:[r,...l],getKey:e=>e.id,selectedItem:c,onSelect:u,renderItem:e=>{const t=e.value;return(0,g.jsx)(pt().A,{...e,title:m[t.id],icon:(0,g.jsx)(Zi().x,{store:t,size:16,disabled:!0})})},renderOrigin:e=>(0,g.jsx)(Yi,{...e,selectedStore:c}),width:300}):null}function Yi(e){const t=(0,o().v3)(),{device:n}=t,{selectedStore:i,...a}=e,r=(0,s().IS)((e=>({dropdownButton:{width:"100%",padding:"6px 8px",color:e.text.secondary,fontSize:(0,le().ny)(t,"UISmall"),display:"inline-flex",justifyContent:"end",alignItems:"center",borderRadius:N()._g},dropdownIcon:{width:10,marginLeft:4,fill:e.lightIconColor},dropdownText:{display:"inline-flex",alignItems:"center",fontWeight:ce().Wy.medium,overflow:"hidden"}})),[t]);return(0,g.jsxs)(Oi().A,{mobileFeedback:n.isMobile,style:r.dropdownButton,...a,children:[(0,g.jsx)("div",{style:r.dropdownText,children:(0,g.jsx)($i,{selectedStore:i})}),(0,Wi().b)(r.dropdownIcon)]})}function $i(e){let{selectedStore:t}=e;const n=(0,a().K8)((()=>null==t?void 0:t.getName()),[t]),i=(0,s().IS)((()=>({icon:{marginLeft:4,marginRight:4},spaceOrTeamName:{...ce().RC}})),[]),o=(0,g.jsx)(Zi().x,{store:t,size:16,disabled:!0,style:i.icon});return n?(0,g.jsx)($().sA,{id:"personalHomePanelConfig.workspaceActivityPanelDropdownTitle.withWorkspaceOrTeamName",defaultMessage:"In {spaceOrTeamIcon} {spaceOrTeamName}",values:{spaceOrTeamIcon:o,spaceOrTeamName:(0,g.jsx)("div",{style:i.spaceOrTeamName,children:n})}}):(0,zi().$R)(t)?(0,g.jsx)($().sA,{id:"personalHomePanelConfig.workspaceActivityPanelDropdownTitle.withoutTeamName",defaultMessage:"In your teamspace"}):(0,g.jsx)($().sA,{id:"personalHomePanelConfig.workspaceActivityPanelDropdownTitle.withoutWorkspaceName",defaultMessage:"In your workspace"})}function Ji(){return(0,g.jsx)(bn,{icon:Ki().G,message:(0,g.jsx)($().sA,{id:"PersonalHomeTrendingPanel.emptyState.message",defaultMessage:"Popular pages will show up here."})})}const Qi=i.memo(Gi);const Xi=function(){const e=(0,a().K8)((()=>{const{currentSpaceStore:e}=C().default.state;if(e)return e.id}),[]),t=(0,o().v3)(),r=(0,o().WS)(),l=(0,s().DP)(),d=(0,s().IS)((e=>({emptyState:{marginTop:100,cursor:"auto"},tile:{height:400,overflowY:"auto"}})),[]),[c,u]=(0,i.useState)(!1),m=(0,i.useCallback)((e=>{if(c)return;const i=e.target,o=i.scrollTop,a=i.scrollHeight;o+i.clientHeight>=a-150&&(u(!0),(0,n(137476).u4)({environment:t,event:{eventName:"scroll_to_bottom",eventProperties:{source:"homeTile"}}}))}),[c,t]),p=(0,n(660714).Y)(m,250);return e?(0,g.jsx)(U().A,{title:(0,g.jsx)($().sA,{id:"recentUpdatesHomePanel.title",defaultMessage:"Recent updates"}),tooltip:(0,g.jsx)($().sA,{id:"recentUpdatesHomePanel.tooltip",defaultMessage:"Catch up with recent updates from suggested pages"}),icon:(0,g.jsx)(ft().I,{icon:n(849402).peopleSmallIcon,size:"sm",color:"secondary"}),hideWrapStyle:!0,children:(0,g.jsx)("div",{style:{...(0,N().V$)({isPhone:r,theme:l}),...d.tile},onScroll:p,children:(0,g.jsx)(n(840408).A,{spaceId:e,source:"home_tile",empty:()=>(0,g.jsx)("div",{style:d.emptyState,children:(0,g.jsx)(n(87607).x,{})})},"suggested_page_updates_home_tile")})}):null},eo=M().c9.fromISO("2024-05-06"),to="main",no="right",io="single",oo="twoColumn";function ao(e){let{showWelcomeAnimation:t,onAllPanelsLoaded:r,clientStore:l}=e;const[d,c]=(0,i.useState)({recents:!1,updates:!1,tips:!1,templates:!1,similarUsersAndTrending:!1,tasks:!1,customDb:!1,calendar:!1,unifiedFeed:!1,aiChatModule:!1}),u=(0,o().v3)(),{isMobile:m,isPhone:p}=(0,o().Y0)(),h=(0,a().K8)((()=>{var e;return(null===(e=C().default.state.currentSpaceViewStore)||void 0===e?void 0:e.getHomeEnabledFeatures())??{}}),[]),S=(0,f().X)("updates_ai"),w=(0,f().X)("two_column_home_layout"),b=(0,a().K8)((()=>(0,x().D)({isMobileNative:u.device.isMobileNative})),[u]),k=(0,v().w)(),D=(0,a().K8)((()=>{var e;const t=C().default.state.currentSpaceStore;return P().A.state.online?k.showAiChatModuleInHome?{aiChatModule:!m,recents:!0,updates:S,tasks:!1,customDb:!1,similarUsersAndTrending:!b&&(0,V().Az)()&&!1!==(null==t||null===(n=t.getSettings())||void 0===n?void 0:n.show_home_virtual_views),tips:!1,templates:!1,calendar:(0,E().x)({isPhone:p,spaceStore:t})&&Boolean(h.calendar),unifiedFeed:b}:{aiChatModule:k.showAiChatModuleInHome&&!m,recents:!0,updates:S,tasks:Boolean(h.tasks),customDb:Boolean(h.custom_db),similarUsersAndTrending:!b&&(0,V().Az)()&&!1!==(null==t||null===(e=t.getSettings())||void 0===e?void 0:e.show_home_virtual_views),tips:Boolean(h.tips),templates:!m&&Boolean(h.templates),calendar:(0,E().x)({isPhone:p,spaceStore:t})&&Boolean(h.calendar),unifiedFeed:b}:{aiChatModule:!1,recents:!0,updates:!1,tasks:!1,customDb:!1,similarUsersAndTrending:!1,tips:!1,templates:!1,calendar:!1,unifiedFeed:!1};var n}),[k.showAiChatModuleInHome,h,m,p,S,b]),[W,F]=(0,i.useState)(void 0),K=(0,i.useMemo)((()=>({panelState:W,view:"notionHomeTile"})),[W]),O=(0,a().K8)((()=>{if(!P().A.state.online)return!0;if(D.unifiedFeed)return!0;if(!Object.values(D).some(Boolean))return!1;for(const[e,t]of(0,T().WP)(D))if(t&&!d[e])return!1;return!0}),[D,d]),U=(0,a().K8)((()=>{const e=C().default.state.currentSpaceStore;return!!e&&M().c9.fromMillis(e.getCreatedTime())>eo}),[]);(0,n(269280).l)((()=>{b&&n(172470).A.state.initialRenderCompleted?n(869183).u.initMeasurement({homeType:"personal"}):(_().updateMetricDataWithIsPushTag(u),_().measurePageRenderMetrics({environment:u,isHomePage:!0,isEditable:!1,isWikiHome:!1,isPageWithCustomLayout:!1}))})),(0,i.useEffect)((()=>{O&&r(!0),t||c({recents:!0,updates:!0,tips:!0,templates:!0,similarUsersAndTrending:!0,tasks:!0,calendar:!0,customDb:!0,unifiedFeed:d.unifiedFeed,aiChatModule:d.aiChatModule})}),[t,O,r,d.unifiedFeed,d.aiChatModule,D.unifiedFeed]);const Z=(0,s().IS)((()=>({suggestedTiles:{height:N().BZ,paddingRight:0,paddingBottom:0,paddingLeft:0},unifiedFeedContainer:d.unifiedFeed?{display:"contents"}:{display:"block",opacity:0},twoColumnContainer:{gap:40,flex:1,display:"flex",flexDirection:"row",justifyContent:"center",paddingLeft:30,paddingRight:30},mainPanel:{maxWidth:752,minWidth:300,width:"-webkit-fill-available"},rightPanel:{maxWidth:300}})),[d.unifiedFeed]),G=(0,i.useCallback)((e=>{F((0,n(174977).oM)(e))}),[]),q=(0,i.useCallback)((e=>({"--depth":e})),[]),Y=(0,i.useCallback)((e=>{c((t=>({...t,[e]:!0})))}),[]),$=(0,i.useCallback)((()=>{Y("aiChatModule")}),[Y]),J=(0,i.useCallback)((()=>Y("recents")),[Y]),Q=(0,i.useCallback)((()=>Y("tasks")),[Y]),X=(0,i.useCallback)((()=>Y("similarUsersAndTrending")),[Y]),ee=(0,i.useCallback)((()=>{Y("calendar")}),[Y]),te=(0,i.useCallback)((()=>Y("templates")),[Y]),ne=(0,i.useCallback)((()=>Y("tips")),[Y]),ie=(0,i.useCallback)((()=>Y("customDb")),[Y]),oe=(0,i.useCallback)((()=>Y("unifiedFeed")),[Y]),ae=(0,a().K8)((()=>{if(!1!==t)return O?H().eUs:H().Rag}),[t,O]),se=(0,a().K8)((()=>{if("initial"!==L().m.state.type)return"visible"===L().m.state.type?H().q2i:"hidden"===L().m.state.type?H().Ad9:void 0}),[]),re=(0,i.useCallback)((e=>"aiChatModule"===e?ae:I()(ae,se)),[ae,se]);(0,i.useEffect)((()=>{var e;null===(e=u.mobileNative)||void 0===e||e.markTransitionReady({environment:u,type:"posts"})}),[u]),(0,i.useEffect)((()=>{if(!O)return;(0,R().Ao)({environment:u,args:{tasks:D.tasks?"show":"hide",custom_db:D.customDb?"show":"hide",tips:D.tips?"show":"hide",templates:m?"always_hide":D.templates?"show":"hide",calendar:(0,E().x)({isPhone:p,spaceStore:C().default.state.currentSpaceStore})?D.calendar?"show":"hide":"always_hide"}});const e=C().default.state.currentSpaceViewStore;if(e){var t;const n=null===(t=(0,A().x$)(e))||void 0===t?void 0:t.id,i=e.getUserId();i&&n&&(0,j().Oh)({userId:i,enabledFeatures:D,blockId:n})}}),[O]);const le=D.unifiedFeed&&w?no:to,de=function(e){const{showTipsAboveCalendar:t}=e;if(t)return["aiChatModule","recents","updates","tips","calendar","tasks","customDb","similarUsersAndTrending","templates"].filter(T().O9);return["aiChatModule","recents","updates","calendar","tasks","customDb","similarUsersAndTrending","tips","templates"].filter(T().O9)}({showTipsAboveCalendar:U}).map((e=>{if(D[e])switch(e){case"recents":return{key:e,panel:le,type:io,content:(0,g.jsx)(fi,{onLoaded:J})};case"updates":return{key:e,panel:to,type:io,content:(0,g.jsx)(Xi,{})};case"calendar":return{key:e,panel:le,type:io,content:(0,g.jsx)(B().a.Provider,{value:K,children:(0,g.jsx)(an,{maxHeight:N().BZ,onLoaded:ee,onDisplayStateChanged:G})})};case"tasks":return{key:e,panel:to,type:io,content:(0,g.jsx)(Pn,{onLoaded:Q})};case"customDb":return{key:e,panel:to,type:io,content:(0,g.jsx)(ln,{onLoaded:ie})};case"similarUsersAndTrending":return{key:e,panel:to,type:oo,left:(0,g.jsx)(ji,{panelStyle:Z.suggestedTiles,onLoaded:X}),right:(0,g.jsx)(Qi,{panelStyle:Z.suggestedTiles,onLoaded:X})};case"templates":return{key:e,panel:to,type:io,content:(0,g.jsx)(Di,{onLoaded:te})};case"tips":return{key:e,panel:to,type:io,content:(0,g.jsx)(Tn,{onLoaded:ne})};case"aiChatModule":return{key:e,panel:to,type:io,content:(0,g.jsx)(z,{onLoaded:$,clientStore:l})};default:(0,T().HB)(e)}})).filter(T().O9);D.unifiedFeed&&de.push({key:"unifiedFeed",panel:to,type:io,content:(0,g.jsxs)(g.Fragment,{children:[!d.unifiedFeed&&(0,g.jsx)(n(460686).SU,{hasComposer:!1}),(0,g.jsx)("div",{style:Z.unifiedFeedContainer,children:(0,g.jsx)(Bn,{onLoaded:oe})})]})});const ce=(0,g.jsx)(g.Fragment,{children:de.filter((e=>e.panel===to)).map(((e,t)=>e.type===io?(0,g.jsx)(y().vV,{className:re(e.key),style:q(t),children:e.content},e.key):(0,g.jsx)(y().MR,{minWidth:300,className:re(e.key),style:q(t),left:e.left,right:e.right},e.key)))}),ue=de.filter((e=>e.panel===no)),me=(0,g.jsx)(g.Fragment,{children:ue.map(((e,t)=>(0,g.jsx)(y().vV,{className:re(e.key),style:q(t),children:e.type===io?e.content:void 0},e.key)))});return ue.length>0?(0,g.jsx)(y().Pb,{children:(0,g.jsx)(y().MR,{style:Z.twoColumnContainer,minWidth:300,left:(0,g.jsx)("div",{style:Z.mainPanel,children:ce}),right:(0,g.jsx)("div",{style:Z.rightPanel,children:me})})}):ce}const so=i.memo(ao);function ro(e,t,n){return e?"home-phone":t||n?"home-redesign-desktop":"home"}function lo(){const[e,t]=(0,i.useState)(!1),[l,d]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1),m=(0,o().WS)(),p=(0,o().v3)();(0,i.useEffect)((()=>k().A.setState(!0)),[]);const I=(0,a().K8)((()=>{const e=C().default.state.currentSpaceViewStore;return e&&(0,A().x$)(e)}),[]),M=(0,a().K8)((()=>{var e;return Boolean(null===(e=C().default.state.currentSpaceViewStore)||void 0===e?void 0:e.isReady())}),[]),T=(0,a().K8)((()=>{var e;return Boolean(null===(e=C().default.state.currentSpaceViewStore)||void 0===e||null===(e=e.getPersonalHomeSettings())||void 0===e?void 0:e.seen_welcome_animation)}),[]),_=(0,f().X)("home_welcome_animation"),H=n(312905).Kd;(0,i.useEffect)((()=>{n(809226).u4({name:"open_home"})}),[]),(0,i.useEffect)((()=>{c||async function(){await w().default.waitUntilStatsigReady(),u(!0)}()}),[c]),(0,i.useEffect)((()=>{M&&c&&!T&&(t(!1),d(!0),j().aX({environment:p,newSeenWelcomeHomeValue:!0}));const e=setTimeout((()=>{t(!0),d(!1)}),3e3);return()=>{clearTimeout(e)}}),[p,M,e]),(0,i.useEffect)((()=>{"rendered"!==C().default.state.renderPhase&&C().default.setState({...C().default.state,renderPhase:"rendered"})}),[]);const P=(0,a().K8)((()=>(0,n(426962).x)(C().default.state.currentSpaceViewStore).greeting),[]),L=(0,n(7050).l)(),R=(0,a().K8)((()=>n(990394).A.state.banners),[]),B=(0,a().K8)((()=>!m||P?R.length>0?124:64:0),[R,m,P]),E=(0,a().uB)(void 0,b().A),V=(0,a().K8)((()=>E.state.elementRef??{current:null}),[E]),N=(0,n(967454).yE)(V);(0,i.useEffect)((()=>{const e=0===N;e!==k().A.state&&k().A.setState(e)}),[N]);const D=_&&(!T||l);let W=!1;R.forEach((e=>{"over_free_block_limit"===e.contentKey&&(W=!0)}));const F=(0,a().K8)((()=>(0,n(613313).Km)(p)),[p]),K=(0,a().K8)((()=>(0,n(129808).ek)(p.device.isElectronMac)),[p.device]),O=F&&W,U=B-(O?K:0),z=(0,s().IS)((e=>({container:{width:"100%",height:"100%",cursor:"default",backgroundColor:e.contentBackground},topPaddingWhenHeaderHidden:{width:"100%",marginTop:U},banner:m?{}:{paddingTop:K}})),[U,m,K]),Z=(0,a().K8)((()=>(0,x().D)({isMobileNative:p.device.isMobileNative})),[p]),G=(0,v().w)().showAiChatModuleInHome;return M&&c?(0,g.jsxs)(g.Fragment,{children:[I&&(0,g.jsx)(h,{store:I}),(0,g.jsx)(r().H,{type:S().A.Y,style:z.container,className:"home-content",store:E,children:(0,g.jsx)(n(138045).l,{children:(0,g.jsxs)(y().Mx,{type:ro(m,Z,G),gap:L,withBottomPadding:!0,children:[(0,g.jsxs)(y().Pb,{children:[O?(0,g.jsx)("div",{style:z.banner,children:(0,g.jsx)(n(302498).i,{})}):null,P?(0,g.jsx)("div",{children:(0,g.jsx)(n(602129).L,{marginTop:U,marginHorizontal:L,allPanelsLoaded:e,showWelcomeAnimation:D,clientStore:H})}):(0,g.jsx)("div",{style:z.topPaddingWhenHeaderHidden})]}),(0,g.jsx)(so,{showWelcomeAnimation:D,onAllPanelsLoaded:t,clientStore:H})]})})})]}):null}const co=i.memo(lo)},269556:(e,t,n)=>{n.d(t,{F:()=>o});n(242343);var i=n(163643);const o=(0,n(680369).wt)("eyeHideInversePadded",{viewBox:"0 0 24 24",svg:(0,i.jsx)("path",{d:"M17.3867 18.1074C17.6055 18.3193 17.9404 18.333 18.1592 18.1074C18.3848 17.875 18.3711 17.5469 18.1592 17.335L6.5791 5.76855C6.37402 5.55664 6.01855 5.5498 5.80664 5.76855C5.60156 5.97363 5.60156 6.3291 5.80664 6.53418L17.3867 18.1074ZM12 6.1582C10.8105 6.1582 9.73047 6.36328 8.72559 6.69141L9.81934 7.78516C10.5098 7.58691 11.2275 7.4707 12 7.4707C16.3682 7.4707 19.8408 11.2715 19.8408 12.0713C19.8408 12.6113 18.7334 14.0059 16.9766 15.1064L17.9883 16.125C20.1348 14.7168 21.3857 12.8779 21.3857 12.0713C21.3857 10.6699 17.6055 6.1582 12 6.1582ZM12 17.9912C13.2646 17.9912 14.4199 17.7725 15.4658 17.4102L14.3789 16.3232C13.6338 16.542 12.8477 16.6787 12 16.6787C7.63184 16.6787 4.15918 13.0283 4.15918 12.0713C4.15918 11.6133 5.32129 10.1299 7.19434 8.98145L6.16211 7.94922C3.92676 9.37109 2.60742 11.251 2.60742 12.0713C2.60742 13.4727 6.46973 17.9912 12 17.9912ZM15.4111 13.3906C15.5889 12.9873 15.6914 12.5361 15.6914 12.0713C15.6914 10.0137 14.0508 8.39355 12 8.39355C11.5283 8.39355 11.084 8.48242 10.6738 8.65332L15.4111 13.3906ZM12 15.7559C12.5332 15.7559 13.0322 15.6328 13.4766 15.4209L8.64355 10.5811C8.4248 11.0322 8.30176 11.5312 8.30176 12.0781C8.30859 14.0811 9.94238 15.7559 12 15.7559Z"})})},302498:(e,t,n)=>{n.d(t,{i:()=>a});var i=()=>n(129978);const o={ScrollableBlockLimitBanner:new(i().O2)("ScrollableBlockLimitBanner",(async()=>Promise.all([n.e(87584),n.e(27942)]).then(n.bind(n,754907))))},a=(0,i()._h)(o.ScrollableBlockLimitBanner,(e=>e.default))},304566:(e,t,n)=>{n.d(t,{A:()=>r});n(242343);var i=()=>n(803290),o=()=>n(174114),a=()=>n(967454),s=n(163643);function r(e){let{scrollerStore:t}=e;const n=(0,i().K8)((()=>t.state.elementRef??{current:null}),[t]),r=0===(0,a().yE)(n),l=(0,o().IS)((e=>({border:{flexShrink:0,width:"100%",boxShadow:r?"0 0 0 transparent":`0 1px 0 ${e.regularDividerColor}`,transition:"box-shadow 300ms",height:2,marginTop:-2,zIndex:99}})),[r]);return(0,s.jsx)("div",{style:l.border})}},308439:(e,t,n)=>{n.r(t),n.d(t,{exclamationMarkTriangleIcon:()=>a,iconDefinition:()=>o});n(242343);var i=n(163643);const o={viewBox:"0 0 20 20",svg:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M9.875 6.75c.345 0 .625.28.625.625v3.5a.625.625 0 1 1-1.25 0v-3.5c0-.345.28-.625.625-.625m0 7.375a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5"}),(0,i.jsx)("path",{d:"M8.16 3.563c.818-1.417 2.863-1.417 3.68 0l5.846 10.125c.818 1.416-.204 3.187-1.84 3.187H4.155c-1.636 0-2.659-1.77-1.84-3.187zm2.598.624a.875.875 0 0 0-1.516 0L3.397 14.313a.875.875 0 0 0 .758 1.313h11.69a.875.875 0 0 0 .759-1.312z"})]})},a=(0,n(680369).wt)("exclamationMarkTriangle",o)},314456:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>o,templatesFillIcon:()=>a});n(242343);var i=n(163643);const o={viewBox:"0 0 20 20",svg:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"m14.636 8.765 1.003 1.737a.93.93 0 0 0 .355-.73v-5.59a.934.934 0 0 0-.932-.932H9.239a.934.934 0 0 0-.932.932v5.6c0 .502.41.921.923.921h.752L11.1 8.765q.048-.083.109-.155a2.035 2.035 0 0 1 3.425.152z"}),(0,i.jsx)("path",{d:"M9.347 11.803H9.23a2.024 2.024 0 0 1-2.022-2.022V6.284a4.195 4.195 0 1 0 .538 8.295zm2.706-2.488L8.57 15.353a.931.931 0 0 0 .81 1.397h6.978a.934.934 0 0 0 .811-1.398l-3.484-6.037a.936.936 0 0 0-1.622 0z"})]})},a=(0,n(680369).wt)("templatesFill",o)},372078:(e,t,n)=>{n.d(t,{l:()=>i});const i=["filter","sort","automations","search","noDate","viewSettings"]},377403:(e,t,n)=>{n.d(t,{W:()=>a});var i=()=>n(803290),o=()=>n(950347);function a(){return(0,i().K8)((()=>(0,o().M5)()),[])}},409179:(e,t,n)=>{n.d(t,{bO:()=>b,tV:()=>I,Vs:()=>k,WA:()=>A,lU:()=>j});var i=n(242343),o=()=>n(76394),a=()=>n(653998),s=(n(362833),n(725707),n(324989),n(771702),()=>n(237385)),r=()=>n(409211),l=()=>n(34662),d=()=>n(795394),c=()=>n(759625),u=()=>n(84543),m=()=>n(863969),p=()=>n(303862),g=()=>n(413871);function h(e){return"__SEGMENTED__"===e.messageKey}function f(e){let{cacheName:t,messages:n,contentLines:o}=e;const f=(0,s().v3)(),v=(0,p().l)(t,{overrideDefaultRecordCache:!1,isTemporaryData:!0});v.addCacheFallback(f.defaultRecordCache.inMemoryRecordCache);const y=(0,a().tz)(),x=(0,m().O)(),S=(0,i.useMemo)((()=>({table:r().oo,id:r().EP.id})),[]),C=(0,i.useMemo)((()=>{if(!S||!x)return;const{performResult:e}=u().createAndCommit({userAction:"BaseWelcomePost.createWelcomePost",environment:f,canUndo:!0,skipUpdatingEditedMetadata:!0,perform:e=>{const t=c().Wv({environment:f,type:"text",properties:{title:[l().Ey_(y.formatMessage(n.welcomeTitle))]},inMemoryRecordCache:v,transaction:e,spaceId:x,createdTime:Date.now()-288e5,createdByTable:S.table,createdById:S.id,lastEditedTime:Date.now()-288e5,lastEditedByTable:S.table,lastEditedById:S.id});return o.forEach((i=>{const o=c().Wv({environment:f,type:"bulleted_list"===i.type?"bulleted_list":"header"===i.type?"header":"sub_header"===i.type?"sub_header":"text",properties:{title:h(i)?i.segments.flatMap((e=>function(e,t,n,i){var o;if(e.pageMention)return[l().Ey_(e.pageMention.id,[["p",e.pageMention.id]])];const a=i.formatMessage(t[e.messageKey]),s=[];return null!==(o=e.formatting)&&void 0!==o&&o.bold&&s.push(["b"]),e.link&&s.push(["a",e.link]),[l().Ey_(a,s)]}(e,n,0,y))):[l().Ey_(y.formatMessage(n[i.messageKey]))]},inMemoryRecordCache:v,transaction:e,spaceId:x,createdTime:Date.now()-288e5,createdByTable:S.table,createdById:S.id,lastEditedTime:Date.now()-288e5,lastEditedByTable:S.table,lastEditedById:S.id});d().NI({parentStore:t.getContentStore(),childStore:g().Bv.createChildStore(t.getContentStore(),o.pointer),transaction:e})})),t}});return new(g().Bv)(f,e.pointer,{inMemoryRecordCache:v})}),[f,n,o,S,v,y,x]);if(C)return C}const v=(0,a().YK)({welcomeTitle:{id:"TeamHomeWelcomePage.welcomeTitle",defaultMessage:"ð Welcome to your teamspace"},intro:{id:"TeamHomeWelcomePage.intro",defaultMessage:"Your central hub to share announcements, manage members, and find key docs in your team."},aboutSpaceHeader:{id:"TeamHomeWelcomePage.aboutSpaceHeader",defaultMessage:"About the space"},feedItem:{id:"TeamHomeWelcomePage.feedItem",defaultMessage:"Feed â Read and share project updates, team announcements, and more"},aboutItem:{id:"TeamHomeWelcomePage.aboutItem",defaultMessage:"About â Learn what the teamspace is for and how it should be used"},membersItem:{id:"TeamHomeWelcomePage.membersItem",defaultMessage:"Members â See who is a part of this teamspace today"},docsItem:{id:"TeamHomeWelcomePage.docsItem",defaultMessage:"Docs â Access your teamâs documents"},moreHeader:{id:"TeamHomeWelcomePage.moreHeader",defaultMessage:"Looking for more?"},moreInfoPrefix:{id:"TeamHomeWelcomePage.moreInfoPrefix",defaultMessage:"Check out this âIntro to Teamspacesâ guide "},moreInfoLink:{id:"TeamHomeWelcomePage.moreInfoLink",defaultMessage:"here"},moreInfoSuffix:{id:"TeamHomeWelcomePage.moreInfoSuffix",defaultMessage:"."}}),y=[{type:"text",messageKey:"intro"},{type:"sub_header",messageKey:"aboutSpaceHeader"},{type:"bulleted_list",messageKey:"feedItem"},{type:"bulleted_list",messageKey:"aboutItem"},{type:"bulleted_list",messageKey:"membersItem"},{type:"bulleted_list",messageKey:"docsItem"},{type:"sub_header",messageKey:"moreHeader"},{type:"text",messageKey:"__SEGMENTED__",segments:[{messageKey:"moreInfoPrefix"},{messageKey:"moreInfoLink",link:"https://www.notion.com/help/intro-to-teamspaces"},{messageKey:"moreInfoSuffix"}]}];const x=(0,a().YK)({welcomeTitle:{id:"UnifiedFeedWelcomePage.welcomeTitle",defaultMessage:"ð Welcome to Notion"},tipsHeader:{id:"UnifiedFeedWelcomePage.tipsHeader",defaultMessage:"Tips for starting"},inviteTeamPrefix:{id:"UnifiedFeedWelcomePage.inviteTeamPrefix",defaultMessage:"Invite teammates by clicking on the "},inviteTeamBold1:{id:"UnifiedFeedWelcomePage.inviteTeamBold1",defaultMessage:"name of your workspace"},inviteTeamMiddle:{id:"UnifiedFeedWelcomePage.inviteTeamMiddle",defaultMessage:" in the upper left, and going to "},inviteTeamBold2:{id:"UnifiedFeedWelcomePage.inviteTeamBold2",defaultMessage:"Members"},importDocsPrefix:{id:"UnifiedFeedWelcomePage.importDocsPrefix",defaultMessage:"Import any existing documents by clicking on the name of your workspace, going to "},importDocsBold1:{id:"UnifiedFeedWelcomePage.importDocsBold1",defaultMessage:"Settings"},importDocsMiddle:{id:"UnifiedFeedWelcomePage.importDocsMiddle",defaultMessage:", then "},importDocsBold2:{id:"UnifiedFeedWelcomePage.importDocsBold2",defaultMessage:"Import"},templatesPrefix:{id:"UnifiedFeedWelcomePage.templatesPrefix",defaultMessage:"Explore our template gallery by clicking "},templatesBold:{id:"UnifiedFeedWelcomePage.templatesBold",defaultMessage:"Templates"},templatesSuffix:{id:"UnifiedFeedWelcomePage.templatesSuffix",defaultMessage:" in the sidebar and start writing whatever you like!"},moreInfoPrefix:{id:"UnifiedFeedWelcomePage.moreInfoPrefix",defaultMessage:"ð Want more tips or ideas? Check out our guides "},moreInfoLink:{id:"UnifiedFeedWelcomePage.moreInfoLink",defaultMessage:"here"},moreInfoMiddle:{id:"UnifiedFeedWelcomePage.moreInfoMiddle",defaultMessage:" or "},moreInfoBold:{id:"UnifiedFeedWelcomePage.moreInfoBold",defaultMessage:"ask AI"},moreInfoSuffix:{id:"UnifiedFeedWelcomePage.moreInfoSuffix",defaultMessage:" in Search or clicking on the face in the bottom right!"}}),S=[{type:"sub_header",messageKey:"tipsHeader"},{type:"bulleted_list",messageKey:"__SEGMENTED__",segments:[{messageKey:"inviteTeamPrefix"},{messageKey:"inviteTeamBold1",formatting:{bold:!0}},{messageKey:"inviteTeamMiddle"},{messageKey:"inviteTeamBold2",formatting:{bold:!0}}]},{type:"bulleted_list",messageKey:"__SEGMENTED__",segments:[{messageKey:"importDocsPrefix"},{messageKey:"importDocsBold1",formatting:{bold:!0}},{messageKey:"importDocsMiddle"},{messageKey:"importDocsBold2",formatting:{bold:!0}}]},{type:"bulleted_list",messageKey:"__SEGMENTED__",segments:[{messageKey:"templatesPrefix"},{messageKey:"templatesBold",formatting:{bold:!0}},{messageKey:"templatesSuffix"}]},{type:"text",messageKey:"__SEGMENTED__",segments:[{messageKey:"moreInfoPrefix"},{messageKey:"moreInfoLink",link:"https://www.notion.com/help/guides"},{messageKey:"moreInfoMiddle"},{messageKey:"moreInfoBold",formatting:{bold:!0}},{messageKey:"moreInfoSuffix"}]}];var C=n(163643);const w=i.createContext(void 0);function b(e){return(0,C.jsx)(w.Provider,{value:e.surface,children:e.children})}function j(){return i.useContext(w)}function A(){const e=j();return"TeamHome"===e||"PersonalHome"===e}function k(){return void 0===j()}function I(){const e=j();if(void 0!==e)return"PersonalHome"===e?f({cacheName:"UnifiedFeedWelcomePost.cache",messages:x,contentLines:S}):"TeamHome"===e?f({cacheName:"TeamHomeWelcomePost.cache",messages:v,contentLines:y}):void(0,o().HB)(e)}w.displayName="PostFeedSurfaceContext"},423162:(e,t,n)=>{n.r(t),n.d(t,{checkmarkCircleIcon:()=>a,iconDefinition:()=>o});n(242343);var i=n(163643);const o={viewBox:"0 0 20 20",svg:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M12.876 7.982a.625.625 0 1 0-1.072-.644L9.25 11.595 7.815 9.92a.625.625 0 0 0-.95.813l2 2.334a.625.625 0 0 0 1.01-.085z"}),(0,i.jsx)("path",{d:"M10 2.375a7.625 7.625 0 1 0 0 15.25 7.625 7.625 0 0 0 0-15.25M3.625 10a6.375 6.375 0 1 1 12.75 0 6.375 6.375 0 0 1-12.75 0"})]})},a=(0,n(680369).wt)("checkmarkCircle",o)},433364:(e,t,n)=>{n.d(t,{KD:()=>d,gt:()=>c,i9:()=>l,ll:()=>s,tb:()=>r,x$:()=>a});var i=()=>n(612408),o=()=>n(975392);function a(e,t){return s(c(e,t))}function s(e){return void 0!==e&&(e===i().q_||e===i().YD)}function r(e,t){if(s(t))return;const n=i().c$[e],o=n.steps.findIndex((e=>e.id===t));return-1===o?n.steps[0].id:o===n.steps.length-1?i().q_:n.steps[o+1].id}function l(e,t){const n=c(e,t);if(n&&!s(n))return r(t,n)}function d(e,t){const n=c(e,t);if(n)return function(e,t){const n=i().c$[e];var a;if(s(t))return null===(a=(0,o().HV)(n.steps))||void 0===a?void 0:a.id;const r=n.steps.findIndex((e=>e.id===t));return-1!==r&&0!==r?n.steps[r-1].id:void 0}(t,n)}function c(e,t){var n;if(!e)return;const o=((null===(n=e.getSettings())||void 0===n?void 0:n.tutorials)||{})[t];return void 0===o?i().c$[t].steps[0].id:o}},447425:(e,t,n)=>{n.d(t,{A:()=>v});var i=n(242343),o=()=>n(237385),a=()=>n(803290),s=()=>n(174114),r=()=>n(680369),l=()=>n(31448),d=()=>n(103151),c=()=>n(622163),u=()=>n(907721),m=()=>n(382640),p=()=>n(76394),g=n(163643);const h=function(e){let{additionalStyles:t,transitionMs:i,force:o,children:a}=e;const r=(0,n(447331).j)(),l=(0,s().IS)((()=>{let e;switch(o){case"forceShow":e=1;break;case"forceHide":e=0;break;case void 0:e=r?1:0;break;default:(0,p().HB)(o)}return{hoverStyle:{opacity:e,transition:`opacity ${(0,p().O9)(i)?i:200}ms ease-in`,...t}}}),[t,o,r,i]);return(0,g.jsx)("div",{style:l.hoverStyle,children:a})};function f(e){let{icon:t,title:n,tooltip:i,hasRightElement:a,iconContainerStyle:m}=e;const p=(0,o().v3)(),h=(0,s().IS)((e=>({panelTitleAndIcon:{display:"flex",alignItems:"center",fontSize:(0,c().ny)(p,"UISmall"),fontWeight:l().Wy.medium,color:e.text.secondary,fill:e.mediumIconColor,flexShrink:0,maxWidth:a?200:"100%"},title:{...l().RC},panelIconContainer:{display:"flex",alignItems:"center",justifyContent:"center",width:r().Ev.sm,height:r().Ev.sm,marginRight:8,marginTop:1,...m}})),[p,m,a]);return n?(0,g.jsx)(d().A,{renderTooltip:()=>i,disableTooltip:!i,placement:u().W.Top,alignment:u().C.Start,render:e=>(0,g.jsxs)("div",{style:h.panelTitleAndIcon,...e,children:[(0,g.jsx)("div",{style:h.panelIconContainer,children:t}),(0,g.jsx)("span",{style:h.title,children:n})]})}):null}const v=function(e){let{children:t,title:r,icon:l,tooltip:d,iconContainerStyle:c,panelStyle:u,headerStyle:p,rightStyle:v,actions:y,right:x,disableRightFadeIn:S,disableActionsFadeIn:C,hideWrapStyle:w,actionsGap:b,userSelectOverride:j}=e;const A=(0,o().WS)(),k=Boolean(r),I=Boolean(x),M=(0,a().uB)(void 0,n(522841).B),T=(0,a().uB)(void 0,n(283451)._),_=(0,i.useMemo)((()=>({isHoveredOnPanelStore:M,sizeStore:T})),[M,T]),H=(0,i.useCallback)((()=>M.setState(!0)),[M]),P=(0,i.useCallback)((()=>M.setState(!1)),[M]),L=(0,i.useCallback)((e=>{e.width<m().Xy?T.setState("narrow"):T.setState("wide")}),[T]),R=(0,s().IS)((e=>({tile:{userSelect:j??"none",WebkitUserSelect:j??"none"},panel:w?{}:{paddingLeft:12,paddingRight:12,...(0,m().V$)({isPhone:A,theme:e}),...u},headerContainer:{flexShrink:0,display:"flex",justifyContent:"space-between",alignItems:"center",height:32,paddingBottom:14,marginLeft:m().Fq,...p},rightActions:{display:"flex",flexDirection:"row",alignItems:"center"},actions:{display:"flex",alignItems:"center",gap:b??6,paddingLeft:6}})),[A,w,u,p,b,j]),B=(k||I)&&(0,g.jsxs)("div",{style:R.headerContainer,children:[(0,g.jsx)(f,{title:r,icon:l,tooltip:d,hasRightElement:I,iconContainerStyle:c}),(I||y)&&(0,g.jsxs)("div",{style:R.rightActions,children:[I&&(0,g.jsx)(h,{force:S?"forceShow":void 0,additionalStyles:v,children:x}),y&&(0,g.jsx)(h,{force:C?"forceShow":void 0,additionalStyles:R.actions,children:y})]})]});return(0,g.jsx)(n(275976).R.Provider,{value:_,children:(0,g.jsxs)("div",{style:R.tile,onMouseEnter:H,onMouseLeave:P,children:[B,(0,g.jsx)(n(686329).EE,{onSizeChange:L,children:(0,g.jsx)("div",{style:R.panel,children:t})})]})})}},455936:(e,t,n)=>{n.d(t,{p:()=>o});n(242343);var i=n(163643);const o=(0,n(680369).wt)("arrowUpLeft",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M0.845703 8.58691L0.852539 1.72363C0.852539 1.48665 0.923177 1.29525 1.06445 1.14941C1.21029 0.999023 1.40625 0.923828 1.65234 0.923828H8.51562C8.74349 0.923828 8.93034 0.999023 9.07617 1.14941C9.22201 1.2998 9.29492 1.47526 9.29492 1.67578C9.29492 1.8763 9.21973 2.04948 9.06934 2.19531C8.91895 2.33659 8.74121 2.40723 8.53613 2.40723H6.10254L3.16309 2.30469L4.40723 3.39844L10.915 9.91992C11.0745 10.084 11.1543 10.264 11.1543 10.46C11.1543 10.5921 11.1178 10.7174 11.0449 10.8359C10.972 10.9544 10.8763 11.0479 10.7578 11.1162C10.6439 11.1891 10.5186 11.2256 10.3818 11.2256C10.1813 11.2256 10.0013 11.1481 9.8418 10.9932L3.32715 4.47852L2.21973 3.23438L2.33594 6.05078V8.60742C2.33594 8.8125 2.26302 8.99251 2.11719 9.14746C1.97591 9.29785 1.80273 9.37305 1.59766 9.37305C1.39714 9.37305 1.22168 9.29785 1.07129 9.14746C0.920898 8.99707 0.845703 8.81022 0.845703 8.58691Z"})})},460686:(e,t,n)=>{n.d(t,{SU:()=>l,ah:()=>d});n(242343);var i=()=>n(237385),o=()=>n(174114),a=()=>n(517198),s=()=>n(382640),r=n(163643);function l(e){const t=(0,i().Y0)(),n=(0,o().IS)((e=>({feedContainer:(0,s().$E)({isPhone:t.isPhone})})),[t.isPhone]);return(0,r.jsxs)("div",{style:n.feedContainer,children:[e.hasComposer&&(0,r.jsx)(c,{}),(0,r.jsx)(u,{}),(0,r.jsx)(m,{})]})}function d(){const e=(0,o().IS)((()=>({teamHomeTitle:{display:"flex",gap:12,alignItems:"center",paddingBottom:24},teamIcon:{width:40,height:40,borderRadius:6},teamName:{width:120,height:28,borderRadius:6}})),[]);return(0,r.jsxs)("div",{style:e.teamHomeTitle,children:[(0,r.jsx)(a().A,{style:e.teamIcon}),(0,r.jsx)(a().A,{style:e.teamName})]})}function c(){const e=p(),t=(0,i().WS)()?300:520;return(0,r.jsxs)("div",{style:e.postContainer,children:[(0,r.jsx)(a().A,{style:e.postTitle}),(0,r.jsx)("div",{style:e.postContentContainer,children:(0,r.jsx)(a().A,{style:{width:t,height:20,borderRadius:10}})}),(0,r.jsx)("div",{style:e.postButtonContainer,children:(0,r.jsx)(a().A,{style:e.postButton})})]})}function u(){const e=p(),{shimmer1:t,shimmer2:n,shimmer3:i}=g();return(0,r.jsxs)("div",{style:e.postContainer,children:[(0,r.jsx)(a().A,{style:e.postTitle}),(0,r.jsxs)("div",{style:e.postContentContainer,children:[(0,r.jsx)(a().A,{style:t}),(0,r.jsx)(a().A,{style:n}),(0,r.jsx)(a().A,{style:i})]}),(0,r.jsxs)("div",{style:e.postComments,children:[(0,r.jsxs)("div",{style:e.postComment,children:[(0,r.jsx)(a().A,{style:{width:20,height:20,borderRadius:10}}),(0,r.jsx)(a().A,{style:{width:160,height:20,borderRadius:6}})]}),(0,r.jsxs)("div",{style:e.postComment,children:[(0,r.jsx)(a().A,{style:{width:20,height:20,borderRadius:10}}),(0,r.jsx)(a().A,{style:{width:80,height:20,borderRadius:6}})]})]})]})}function m(){const e=p(),{shimmer1:t,shimmer2:n,shimmer3:i}=g();return(0,r.jsxs)("div",{style:e.postContainer,children:[(0,r.jsx)(a().A,{style:e.postTitle}),(0,r.jsxs)("div",{style:e.postContentContainer,children:[(0,r.jsx)(a().A,{style:t}),(0,r.jsx)(a().A,{style:n}),(0,r.jsx)(a().A,{style:i})]}),(0,r.jsxs)("div",{style:e.postReactions,children:[(0,r.jsx)(a().A,{style:e.postReaction}),(0,r.jsx)(a().A,{style:e.postReaction}),(0,r.jsx)(a().A,{style:e.postReaction})]})]})}function p(){const e=(0,i().Y0)();return(0,o().IS)((t=>{const n=e.isPhone,{unhoveredBoxShadow:i}=(0,s().UO)({isPhone:n,theme:t});return{container:{display:"flex",flexDirection:"column",alignItems:"center"},postContainer:{display:"flex",flexDirection:"column",gap:36,borderRadius:n?0:12,boxShadow:i,padding:20,backgroundColor:t.surface.page},feedContainer:{display:"flex",flexDirection:"column",gap:24},postTitle:{width:80,height:20,borderRadius:10},postContentContainer:{display:"flex",flexDirection:"column",gap:12},postButtonContainer:{display:"flex",justifyContent:"flex-end"},postButton:{width:80,height:20,borderRadius:10},postComments:{display:"flex",flexDirection:"column",gap:12},postComment:{display:"flex",gap:8},postReactions:{display:"flex",gap:8},postReaction:{width:40,height:20,borderRadius:10}}}),[e.isPhone])}function g(){return(0,o().IS)((()=>({shimmer1:{width:"100%",height:20,borderRadius:10},shimmer2:{width:"90%",height:20,borderRadius:10},shimmer3:{width:"80%",height:20,borderRadius:10}})),[])}},470313:(e,t,n)=>{n.d(t,{A:()=>s});n(242343);var i=()=>n(174114),o=()=>n(49079),a=n(163643);function s(e){const{message:t,title:n}=e,s=(0,i().IS)((e=>({wrapper:{textAlign:"center",paddingLeft:20,paddingRight:20,height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",overflow:"hidden",minHeight:220},icon:{width:48,fill:e.icon.tertiary},message:{fontSize:14,color:e.text.tertiary,marginTop:2,marginBottom:4,maxWidth:380,textWrap:"balance"},title:{fontSize:14,fontWeight:500,color:e.text.secondary,maxWidth:380,textWrap:"balance"}})),[]),r=e.icon||o().y;return(0,a.jsxs)("div",{style:s.wrapper,children:[(0,a.jsx)("div",{style:{paddingBottom:12},children:r(s.icon)}),(0,a.jsx)("div",{style:s.title,children:n}),(0,a.jsx)("div",{style:s.message,children:t})]})}},501633:(e,t,n)=>{n.d(t,{e:()=>r});var i=n(242343),o=()=>n(237385),a=()=>n(84543),s=()=>n(485966);function r(){const[e,t]=(0,i.useState)(!0),n=(0,o().v3)();(0,i.useEffect)((()=>{if(e){const{currentSpaceViewStore:e}=s().default.state;if(!e)return;a().createAndCommit({userAction:"PostsHomePanel.updateLastOpened",environment:n,canUndo:!0,perform:t=>{a().applyOperation({store:e,operation:{pointer:e.pointer,path:["settings","last_opened_aggregated_feed"],command:"set",args:Date.now()},transaction:t})}})}}),[e,n])}},528190:(e,t,n)=>{n.d(t,{P:()=>o});n(242343);var i=n(163643);const o=(0,n(680369).wt)("thinPlus",{viewBox:"0 0 14 14",svg:(0,i.jsx)("path",{d:"M 7.75 0L 6.25 0L 6.25 6.25L 0 6.25L 0 7.75L 6.25 7.75L 6.25 14L 7.75 14L 7.75 7.75L 14 7.75L 14 6.25L 7.75 6.25L 7.75 0Z"})})},532555:(e,t,n)=>{n.d(t,{B:()=>s});var i=()=>n(803290),o=()=>n(975392),a=()=>n(707715);function s(){return(0,i().K8)((()=>{var e;const t=o().$z((null===(e=a().A.getStateForCurrentSpaceView())||void 0===e?void 0:e.accounts.getOrderedValues())??[],(e=>{let{authorized:t}=e;return String(t)}));return{connectedAccounts:t.true??[],disconnectedAccounts:t.false??[]}}),[])}},543127:(e,t,n)=>{function i(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,{A:()=>i})},586588:(e,t,n)=>{n.r(t),n.d(t,{dismissTutorial:()=>c,resetTutorials:()=>u,tutorialAdvanceToStep:()=>m,tutorialAdvanceToStepAfter:()=>p,tutorialGoToNextStep:()=>l,tutorialGoToPrevStep:()=>d});var i=()=>n(612408),o=()=>n(84543),a=()=>n(658388),s=()=>n(433364),r=()=>n(485966);function l(e,t){var n;const{currentUserSettingsStore:i}=r().default.state;if(!i)return;const o=null===(n=i.getSettings())||void 0===n?void 0:n.tutorials;g({userAction:"TutorialActions.nextStep",environment:e,perform:e=>{a().mJ({userSettingsStore:i,transaction:e,data:{tutorials:{...o,[t]:(0,s().i9)(i,t)}}})},userId:i.id})}function d(e,t){var n;const{currentUserSettingsStore:i}=r().default.state;if(!i)return;const o=null===(n=i.getSettings())||void 0===n?void 0:n.tutorials;g({userAction:"TutorialActions.prevStep",environment:e,perform:e=>{a().mJ({userSettingsStore:i,transaction:e,data:{tutorials:{...o,[t]:(0,s().KD)(i,t)}}})},userId:i.id})}function c(e,t){var n;const{currentUserSettingsStore:o}=r().default.state;if(!o)return;const s=null===(n=o.getSettings())||void 0===n?void 0:n.tutorials;(null==s?void 0:s[t])!==i().YD&&g({userAction:"TutorialActions.dismissTutorial",environment:e,perform:e=>{a().mJ({userSettingsStore:o,transaction:e,data:{tutorials:{...s,[t]:i().YD}}})},userId:o.id})}function u(e){const{currentUserSettingsStore:t}=r().default.state;t&&g({userAction:"TutorialActions.resetTutorialsDebug",environment:e,perform:e=>{a().mJ({userSettingsStore:t,transaction:e,data:{tutorials:{}}})},userId:t.id})}function m(e,t,n){var o;const{currentUserSettingsStore:l}=r().default.state;if(!l||(0,s().x$)(l,t))return;const d=(0,s().gt)(l,t);i().c$[t].steps.findIndex((e=>e.id===d))>=i().c$[t].steps.findIndex((e=>e.id===n))||a().mJ({userSettingsStore:l,transaction:e,data:{tutorials:{...null===(o=l.getSettings())||void 0===o?void 0:o.tutorials,[t]:n}}})}function p(e,t,n){if((0,s().ll)(n))return;const i=(0,s().tb)(t,n);i&&m(e,t,i)}function g(e){return o().createAndCommit({...e,canUndo:!1})}},592301:(e,t,n)=>{n.d(t,{k:()=>o});n(242343);var i=n(163643);const o=(0,n(680369).wt)("homeDatabaseViews",{viewBox:"0 0 48 48",svg:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.7646 26.1309H32.2473L36.0334 22.8856C36.2419 22.7069 36.4666 22.5572 36.7021 22.4365V11.7607C36.7021 10.1982 36.2969 9.0166 35.4863 8.21582C34.6758 7.40527 33.4746 7 31.8828 7H6.80469C5.22266 7 4.02637 7.40527 3.21582 8.21582C2.40527 9.0166 2 10.1982 2 11.7607V29.6025C2 31.165 2.40527 32.3467 3.21582 33.1475C4.02637 33.9482 5.22266 34.3486 6.80469 34.3486H28.2646V31.7785C28.2646 31.6778 28.2678 31.5774 28.274 31.4775H20.7646V26.1309ZM4.88574 23.377V17.9863H17.9521V23.377H4.88574ZM20.7646 23.377V17.9863H33.8164V23.377H20.7646ZM20.7646 15.2324H33.8164V12.0098C33.8164 11.3066 33.6357 10.7793 33.2744 10.4277C32.9131 10.0664 32.3955 9.88574 31.7217 9.88574H20.7646V15.2324ZM17.9521 15.2324V9.88574H6.98047C6.29688 9.88574 5.77441 10.0664 5.41309 10.4277C5.06152 10.7793 4.88574 11.3066 4.88574 12.0098V15.2324H17.9521ZM17.9521 26.1309V31.4775H6.98047C6.29688 31.4775 5.77441 31.3018 5.41309 30.9502C5.06152 30.5889 4.88574 30.0566 4.88574 29.3535V26.1309H17.9521Z"}),(0,i.jsx)("path",{d:"M31.2624 29.6092C30.6291 30.152 30.2646 30.9444 30.2646 31.7785V39.3216C30.2646 40.1106 30.9042 40.7501 31.6932 40.7501H35.0504C35.4448 40.7501 35.7646 40.4303 35.7646 40.0358V34.893C35.7646 34.4985 36.0844 34.1787 36.4789 34.1787H40.0504C40.4449 34.1787 40.7646 34.4985 40.7646 34.893V40.0358C40.7646 40.4303 41.0844 40.7501 41.4789 40.7501H44.8361C45.6251 40.7501 46.2646 40.1106 46.2646 39.3216V31.7785C46.2646 30.9444 45.9002 30.152 45.2669 29.6092L39.1943 24.4042C38.6594 23.9456 37.8699 23.9456 37.3349 24.4042L31.2624 29.6092Z"})]})})},601661:(e,t,n)=>{n.r(t),n.d(t,{measurePageRenderMetrics:()=>j,setInitialRenderCompleted:()=>w,setSubMetric:()=>x,setSubMetricsAtRenderCallback:()=>y,updateMetricData:()=>S,updateMetricDataWithIsPushTag:()=>b,updateOPFSMetricData:()=>C});n(725707),n(403517),n(113085),n(875472),n(76509),n(863754);var i=()=>n(412989),o=()=>n(982177),a=()=>n(86979),s=()=>n(137476),r=()=>n(37312),l=()=>n(211923),d=()=>n(695398),c=()=>n(392608),u=()=>n(157230),m=()=>n(196387),p=()=>n(876359),g=()=>n(836331),h=()=>n(172470),f=()=>n(230557),v=()=>n(551455);function y(e){const{mainStartTime:t,prefetchInitiatedTime:n,statsigBootupBlockingStartTime:i,renderStartTime:a,renderEndTime:s}=e,r=o().getAppStartTime();if(!r)return;const l={app_start_to_main_start:{startTime:r,endTime:t},main_start_to_prefetch_initiated:{startTime:t,endTime:n},prefetch_initiated_to_statsig_bootup_blocking_start:{startTime:n,endTime:i},statsig_bootup_blocking:{startTime:i,endTime:a},render_start_to_render_end:{startTime:a,endTime:s}};for(const[o,d]of Object.entries(l)){const e=null==d?void 0:d.startTime,t=null==d?void 0:d.endTime;e&&t&&(0,p().f)({name:o,startTime:e,endTime:t})}h().A.state.subMetricsStore.update((e=>({...e,...l})))}function x(e){const{name:t,endTime:n}=e,i=e.startTime(h().A.state.subMetricsStore.state);i&&(h().A.state.subMetricsStore.update((e=>({...e,[t]:{startTime:i,endTime:n}}))),(0,p().f)({name:t,startTime:i,endTime:n}))}function S(e){h().A.state.metricDataStore.update((t=>({...t,...e})))}function C(e){h().A.state.OPFSMetricDataStore.update((t=>({...t,...e})))}function w(){h().A.update((e=>({...e,initialRenderCompleted:!0}))),u().N.markInitialPageRendered()}function b(e){const t=e.RouterStore.state;let n;var i;"page"===t.route.name&&(n=t.route.mobileData,S({is_push:null===(i=n)||void 0===i?void 0:i.isPush}))}function j(e){let{environment:t,isEditable:n,isHomePage:a,isWikiHome:l,isPageWithCustomLayout:d,idSchema:p}=e;const{initialRoute:{name:y},route:S}=t.RouterStore.state,{initialRenderCompleted:C,initialRenderAfterLoginCompleted:b}=h().A.state,j=r().isPrewarmedTabInitialRender(t),I=(0,c().w6)(t);C?b||"login"!==y?function(e,t){const n="page"===t.name?t.mobileData:void 0,i=v().A.popTimings();if(i){const{navigationStart:o,requestFirstChunkStart:a,requestFirstChunkEnd:r,requestFirstChunkSource:l,requestFirstChunkLocalSource:d,pageViewBlockRender:c}=i,p=performance.now(),g="page"===t.name?e.prefetchCache.getPrefetchAnalytic(`loadCachedPageChunk(${t.blockId})`):void 0;m().default.measure({metricName:"navigation_page_render",startTime:o,endTime:p},{environment:e,data:{is_push:(null==n?void 0:n.isPush)??!1,wasm_sqlite_initialized:h().A.state.metricDataStore.state.wasm_sqlite_initialized,...g?{page_chunk_prefetch:g,page_chunk_prefetch_type:g.type}:{}}}),u().N.markNavigationRender(e),(0,s().LM)({eventName:"navigation_page_render_sub_metric",sampling:{behavior:"statsig",fallbackBehavior:"statsig",statsigNotAvailableBehavior:"drop"}}).then((t=>{if(!t)return;const n=n=>({environment:e,data:{type:n,chunk_source:l,local_source:d},sampleDecision:t});a&&m().default.measure({metricName:"navigation_page_render_sub_metric",startTime:o,endTime:a},n("navigation_start_to_request_first_chunk_start")),a&&r&&m().default.measure({metricName:"navigation_page_render_sub_metric",startTime:a,endTime:r},n("request_first_chunk_start_to_request_first_chunk_end")),r&&c&&m().default.measure({metricName:"navigation_page_render_sub_metric",startTime:r,endTime:c},n("request_first_chunk_end_to_pvb_render")),c&&m().default.measure({metricName:"navigation_page_render_sub_metric",startTime:c,endTime:p},n("pvb_render_to_handle_navigation_render"))}))}f().A.state.isMeasuring&&f().A.update((e=>({...e,isMeasuring:!1})))}(t,S):function(e){m().default.DO_NOT_USE_measureLegacy("initial_page_render_after_login",{environment:e}),h().A.update((e=>({...e,initialRenderAfterLoginCompleted:!0})))}(t):j?function(e){let{environment:t,initialRoute:n,isEditable:i,isHomePage:o,isWikiHome:a,isPageWithCustomLayout:s,isPublicDomain:r,idSchema:l}=e;w();const d=performance.now();x({name:"await_page_chunk_end_to_browser_repaint_start",startTime:e=>{var t;return null===(t=e.await_page_chunk_start_to_await_page_chunk_end)||void 0===t?void 0:t.endTime},endTime:d});const c=h().A.state.prewarmedTabAppStartTimeOverride;c&&m().default.measure({metricName:"initial_page_render",startTime:c,endTime:d},{environment:t,data:A({initialRoute:n,isEditable:i,isHomePage:o,isWikiHome:a,isPageWithCustomLayout:s,isPublicDomain:r,idSchema:l,isPrewarmedTab:!0,prewarmedTabNavigationStart:c}),shouldSendIfStatsigNotInitialized:!0});f().A.state.isMeasuring&&f().A.update((e=>({...e,isMeasuring:!1})))}({environment:t,initialRoute:y,isEditable:n,isHomePage:a,isWikiHome:l,isPageWithCustomLayout:d,isPublicDomain:I,idSchema:p}):function(e){var t;let{environment:n,initialRoute:a,isEditable:r,isHomePage:l,isWikiHome:d,isPageWithCustomLayout:c,isPublicDomain:u,idSchema:p}=e;const{initialLoadCachedPageChunkCalledAt:f}=h().A.state;w();const v=Boolean(null===(t=performance)||void 0===t?void 0:t.mark)?performance.mark("initial_page_render").startTime:performance.now();i().S3.mark("initial_page_render"),x({name:"await_page_chunk_end_to_browser_repaint_start",startTime:e=>{var t;return null===(t=e.await_page_chunk_start_to_await_page_chunk_end)||void 0===t?void 0:t.endTime},endTime:v});const y=o().getAppStartTime(),S=o().getPageOriginTime();y&&S&&S>0&&y>S&&x({name:"page_origin_to_app_start",startTime:()=>S,endTime:y});m().default.measureFromPageOrigin({metricName:"initial_page_render",endTime:v},{environment:n,data:A({initialRoute:a,isEditable:r,isHomePage:l,isWikiHome:d,isPageWithCustomLayout:c,isPublicDomain:u,idSchema:p,prefetchedQueryCollection:k(n),isPrewarmedTab:!1}),shouldSendIfStatsigNotInitialized:!0});h().A.state.subMetricsStore.state;void 0!==f&&m().default.DO_NOT_USE_measureFromPageOriginLegacy({metricName:"load_cached_page_chunk_wait_time",endTime:f},{environment:n,data:{initial_route:a},shouldSendIfStatsigNotInitialized:!0,sendToStatsig:!0});g().default.checkGate({gateName:"beacon_pre_ipr_assets"})&&function(e,t){var n;if(null===(n=performance)||void 0===n||!n.getEntriesByType)return;const i=performance.getEntriesByType("resource"),o={eventName:"pre_ipr_assets",eventProperties:{ipr_end:t,assets:i.map((e=>{let t;try{t=new URL(e.name).pathname}catch{t=e.name}return{url:t,initiator_type:e.initiatorType,time:e.duration,perf_start:e.startTime,perf_end:e.startTime+e.duration,decoded_body_size:e.decodedBodySize,transfer_size:e.transferSize}}))}};(0,s().u4)({environment:e,event:o})}(n,v)}({environment:t,initialRoute:y,isEditable:n,isHomePage:a,isWikiHome:l,isPageWithCustomLayout:d,isPublicDomain:I,idSchema:p})}function A(e){const{initialRoute:t,isEditable:n,isHomePage:i,isWikiHome:a,isPageWithCustomLayout:s,isPublicDomain:l,isPrewarmedTab:c,idSchema:u,prefetchedQueryCollection:m}=e;return{...r().getSubMetricsAndMetricDataForTracking(e.isPrewarmedTab?{isPrewarmedTab:!0,prewarmedTabNavigationStart:e.prewarmedTabNavigationStart}:{isPrewarmedTab:!1}),initial_route:t,is_editable:n,is_home_page:i,is_page_with_custom_layout:s,is_public_domain:l,profiling_tool:(0,d().getProfilingToolForSession)(),is_wiki_home:a,time_origin_to_app_start:o().getAppStartTime(),includes_page_origin_to_app_start:!0,id_schema:u,prefetched_cvb:m,is_prewarmed_tab:c,desktop_load_origin:r().getDesktopLoadOrigin(c),desktop_tab_count:h().A.state.desktopTabCount}}function k(e){const t=e.RouterStore.state.route;if("page"!==t.name||!t.blockId)return!1;return a().Ob.lookupViewIds(t.blockId).some((t=>{var n;const i=(0,l().A)(t),o=null===(n=e.prefetchCache)||void 0===n?void 0:n.getPrefetchAnalytic(i);return"hit-match"===(null==o?void 0:o.type)||"attempted"===(null==o?void 0:o.type)||"hit-mismatch"===(null==o?void 0:o.type)}))}},602129:(e,t,n)=>{n.d(t,{L:()=>O});var i=()=>n(486826),o=n(242343),a=()=>n(237385),s=()=>n(803290),r=()=>n(174114),l=()=>n(34662),d=()=>n(653998),c=()=>n(76394),u=()=>n(31448);const m=n.p+"4981305213d3ccf3.gif",p=n.p+"a1ccf6d6c898434a.gif",g=n.p+"37cd1c7cdce6731b.gif";var h=n(163643);const f=(0,d().YK)({altText:{id:"aiChatModeGifFace.altText",defaultMessage:"Notion AI animated face"}}),v=40;function y(e){const{configType:t}=e,n=(0,d().tz)();let i;return i="researcher"===t?g:"setup-generator"===t?p:m,(0,h.jsx)("img",{src:i,style:{width:v,height:v},alt:n.formatMessage(f.altText)})}var x=()=>n(485966),S=()=>n(647101),C=()=>n(209684),w=()=>n(907721),b=()=>n(448316),j=()=>n(384221),A=()=>n(84543);class k extends(()=>n(129044))().default{getInitialState(){return{open:!1}}}const I=new k;function M(e){let{environment:t}=e;I.reset(),j().clear({environment:t})}var T=()=>n(935091),_=()=>n(35462),H=()=>n(636045),P=()=>n(868199),L=()=>n(640979),R=()=>n(622163),B=()=>n(466321);function E(e){let{origin:t}=e;const i=(0,a().v3)(),o=(0,s().K8)((()=>I.state.open),[]),r=(0,s().K8)((()=>x().default.state.currentUserSettingsStore),[]),l=(0,a().WS)();return r?(0,h.jsx)(n(443252).Ay,{popupType:l?B().n.SlideUp:B().n.Popup,open:o,origin:t,placementToOrigin:w().W.Bottom,alignmentToOrigin:w().C.Center,originGap:4,onDismiss:()=>M({environment:i}),render:()=>(0,h.jsx)(V,{userSettingsStore:r})}):null}function V(e){let{userSettingsStore:t}=e;const[n,i]=(0,o.useState)(!1),l=(0,a().v3)(),c=(0,d().tz)(),u=(0,s().K8)((()=>{var e;return null===(e=x().default.state.currentUserStore)||void 0===e?void 0:e.getDisplayName(c)}),[c]),m=(0,a().WS)(),p=(0,o.useCallback)((()=>i(!0)),[]),g=(0,o.useCallback)((()=>i(!1)),[]),f=(0,o.useCallback)((()=>M({environment:l})),[l]),v=(0,o.useCallback)((()=>function(e){let{environment:t}=e;const n=I.state;if(!n.open)return;const i=n.originalNickname;M({environment:t});const{currentUserSettingsStore:o}=x().default.state;if(!o)return;const a=o.getNicknameStore();A().createAndCommit({environment:t,userAction:"nicknameMenuActions.revertToOldNickname",canUndo:!0,perform:e=>{b().R9({environment:t,store:a,value:i,transaction:e})}})}({environment:l})),[l]),y=(0,r().IS)((e=>({menuContainer:{paddingTop:12,paddingBottom:12,paddingLeft:14,paddingRight:14},inputContainer:{display:"flex",alignItems:"center",color:e.text.primary,fontSize:(0,R().ny)(l,"UIRegular")},input:{display:"block",flexGrow:1,fontSize:14,lineHeight:"20px",width:"100%",borderRadius:4,boxShadow:n?e.outlineBlueInputBoxShadow:e.inputBoxShadow,background:e.inputBackground,cursor:"text",position:"relative",marginTop:8,paddingTop:4,paddingBottom:4,paddingLeft:10,paddingRight:10}})),[l,n]),S=(0,s().K8)((()=>t.getSettingsStore().getKeyStore("nickname")),[t]);let C;return C=m?{menuType:L().gu.ActionSheet}:{menuType:L().gu.Popup,width:300},(0,h.jsx)(T().A,{...C,children:(0,h.jsxs)("div",{style:y.menuContainer,children:[(0,h.jsx)(_().A,{isSecondaryColor:!0,children:(0,h.jsx)(d().sA,{id:"personalHomeRenamePopup.title",defaultMessage:"Edit nickname"})}),(0,h.jsx)("div",{style:y.inputContainer,children:(0,h.jsx)(H().A,{style:y.input,store:S,disabled:!1,onEsc:v,onFocus:p,onBlur:g,onEnter:f,placeholder:u,pasteBehavior:"inline",disableEmojiCommands:!1,disableStyleAnnotations:!1,disableInsertedDeletedAnnotations:!1,disableSlashCommands:!0,disableComment:!0,disableMentions:!0,disableDrag:!0,disableEmbedMenu:!0,disableEquationInteraction:!0,disableMobileActionBar:!0,disableShiftEnter:!0,disableSelectAllBlocks:!0,disableSelectionDrag:!0,inPageFind:P().Os.none})})]})})}const N=o.memo(E);function D(e){var t;let{nickname:i}=e;const c=(0,a().v3)(),m=(0,r().DP)(),p=o.useRef(null),g=o.useRef();g.current=null===(t=p.current)||void 0===t?void 0:t.getBoundingClientRect();const f=(0,s().K8)((()=>I.state.open),[]),v=(0,s().K8)((()=>{var e;return null===(e=x().default.state.currentUserSettingsStore)||void 0===e?void 0:e.getNicknameStore()}),[]),y=(0,s().K8)((()=>{var e;const t=x().default.state.currentUserSettingsStore,o=null===(e=x().default.state.currentSpaceStore)||void 0===e?void 0:e.id;if(t&&o)return(0,n(654548).S5)({environment:c,textValue:i&&o?{value:i,spaceId:o}:void 0,parentStore:t,disableLinks:!0,disableHover:!1,disableStyleAnnotations:!1,disableInsertedDeletedAnnotations:!1,disableDateStyleAnnotations:!1,disableSuggestionAnnotations:!1,disabled:!0,theme:m,emojiType:(0,n(441165).FN)(c),katex:void 0,formulaValueTypes:[],stopLinkPropagation:!0})}),[c,i,m]),b=(0,o.useMemo)((()=>({height:"100%",flexShrink:1,fontSize:"inherit",fontWeight:"inherit",display:"flow",paddingTop:2,paddingBottom:2,marginLeft:-6,marginRight:-6,marginTop:-2,marginBottom:2,paddingLeft:6,paddingRight:6,...u().RC,color:void 0,lineHeight:void 0})),[]),A=(0,r().IS)((()=>({hiddenButton:{...b,width:0,overflow:void 0,pointerEvents:"none",color:"transparent",marginLeft:0,marginRight:0,paddingLeft:0,paddingRight:0},visibleButton:{...b,textShadow:"none"}})),[b]);return v?(0,h.jsx)(N,{origin:(0,h.jsx)(n(103151).A,{originRect:g.current,placement:w().W.Bottom,render:e=>(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(C().p,{hovered:!1,style:A.hiddenButton,children:y}),(0,h.jsx)(C().p,{...e,ref:p,hovered:f,style:A.visibleButton,onClick:()=>function(e){let{originalNicknameStore:t}=e;j().setSelection({store:t,selection:{startIndex:0,endIndex:(0,l().qAZ)(t.getValue()).length}}),I.setState({open:!0,originalNickname:t.getValue()})}({originalNicknameStore:v}),onMouseEnter:t=>{var n;null===(n=e.onMouseEnter)||void 0===n||n.call(e,t),S().A.setState({isHovered:!1})},children:y})]}),renderTooltip:()=>(0,h.jsx)(d().sA,{id:"personalHomeHeader.changeNameTooltip",defaultMessage:"Edit nickname"})})}):null}const W=o.memo(D);function F(e){let{marginTop:t,marginHorizontal:l,allPanelsLoaded:m,showWelcomeAnimation:p,clientStore:g}=e;const[f,v]=o.useState(!1),C=(0,d().tz)(),w=(0,a().WS)(),b=(0,n(456143).w)(),j=(0,s().K8)((()=>{var e;return null===(e=g.state.configForNewTranscripts)||void 0===e?void 0:e.type}),[g]),{name:A,loaded:k}=(0,s().K8)((()=>function(e){let{currentUserStore:t,currentUserSettingsStore:n,intl:i}=e;if(null==n||!n.isReady())return{name:void 0,loaded:!1};const o=n.getNickname();if(o&&K(o))return{name:o,loaded:!0};const a=null==t?void 0:t.getDisplayName(i),s=Boolean(null==t?void 0:t.isReady());return{name:a?[[a]]:void 0,loaded:s}}({currentUserStore:x().default.state.currentUserStore,currentUserSettingsStore:x().default.state.currentUserSettingsStore,intl:C})),[C]),I=(0,s().K8)((()=>{var e;return(null===(e=x().default.state.currentSpaceStore)||void 0===e?void 0:e.isReady())??!1}),[]);(0,o.useEffect)((()=>{const e=setTimeout((()=>{p&&!f&&v(!0)}),500);return()=>{clearTimeout(e)}}),[f,p]);const M=k&&I,T=function(e){let{timeOfDay:t,name:n}=e;if("morning"===t)return n?(0,h.jsx)(d().sA,{id:"personalHomeHeader.goodMorningUserName",defaultMessage:"<NoShrink>Good morning,</NoShrink>{nbsp}{userName}",values:{nbsp:(0,h.jsx)(h.Fragment,{children:"Â "}),NoShrink:e=>(0,h.jsx)("span",{style:{flexShrink:0},children:e}),userName:n}}):(0,h.jsx)(d().sA,{id:"personalHomeHeader.goodMorningNoUserName",defaultMessage:"Good morning"});if("afternoon"===t)return n?(0,h.jsx)(d().sA,{id:"personalHomeHeader.goodAfternoonUserName",defaultMessage:"<NoShrink>Good afternoon,</NoShrink>{nbsp}{userName}",values:{nbsp:(0,h.jsx)(h.Fragment,{children:"Â "}),NoShrink:e=>(0,h.jsx)("span",{style:{flexShrink:0},children:e}),userName:n}}):(0,h.jsx)(d().sA,{id:"personalHomeHeader.goodAfternoonNoUserName",defaultMessage:"Good afternoon"});if("evening"===t)return n?(0,h.jsx)(d().sA,{id:"personalHomeHeader.goodEveningUserName",defaultMessage:"<NoShrink>Good evening,</NoShrink>{nbsp}{userName}",values:{nbsp:(0,h.jsx)(h.Fragment,{children:"Â "}),NoShrink:e=>(0,h.jsx)("span",{style:{flexShrink:0},children:e}),userName:n}}):(0,h.jsx)(d().sA,{id:"personalHomeHeader.goodEveningNoUserName",defaultMessage:"Good evening"});(0,c().HB)(t)}({timeOfDay:function(){const e=i().c9.now().hour;return e>=19||e<2?"evening":e<12?"morning":"afternoon"}(),name:K(A)?(0,h.jsx)(W,{nickname:A}):void 0}),_=(0,h.jsx)(d().sA,{id:"personalHomeHeader.initialWelcomeText",defaultMessage:"Welcome home"}),H=(0,r().IS)((e=>{const n={width:"100%",height:"100%",marginTop:t,zIndex:1,paddingLeft:2*l,paddingRight:2*l,pointerEvents:"none",transition:"all 0.5s ease-in-out 2.75s",display:"flex",alignItems:"center",justifyContent:"center"},i=p&&!m;return{container:{width:"100%",height:"100%",display:"flex",position:"relative",flexDirection:"column",alignItems:"center",justifyContent:"center",opacity:f||!p?1:0,transition:"opacity 0.5s ease-in-out"},greetingTextContainer:{...n,opacity:i?0:1,transform:i?"translateY(12px)":"translateY(0px)"},welcomeTextContainer:{...n,opacity:i?1:0,transform:i?"translateY(0px)":"translateY(-12px)",position:"absolute"},headerText:{width:"100%",height:"100%",fontSize:w||b.showAiChatModuleInHome?24:30,lineHeight:1.2,fontWeight:u().Wy.semibold,color:e.text.primary,display:"flex",alignItems:"center",justifyContent:"center"},greetingTextSpan:{display:"flex",pointerEvents:"all",maxWidth:"100%"},mobileGreetingContainer:{display:"flex",flexDirection:"column"},gifFaceContainer:{marginTop:2,marginRight:6}}}),[t,l,m,p,f,w,b]),P=(0,h.jsxs)("div",{style:H.headerText,children:[b.showAiChatModuleInHome&&(0,h.jsx)("div",{style:H.gifFaceContainer,children:(0,h.jsx)(y,{configType:j})}),(0,h.jsx)("span",{style:H.greetingTextSpan,children:T})]}),L=(0,h.jsx)("div",{style:H.mobileGreetingContainer,children:(0,h.jsx)("div",{style:H.headerText,children:(0,h.jsx)("span",{style:H.greetingTextSpan,children:T})})}),R=(0,h.jsx)("div",{style:H.greetingTextContainer,children:w?L:P}),B=(0,h.jsx)("div",{style:H.welcomeTextContainer,children:(0,h.jsx)("div",{style:H.headerText,children:_})});return M?(0,h.jsxs)("div",{style:H.container,onMouseEnter:()=>S().A.setState({isHovered:!0}),onMouseLeave:()=>S().A.setState({isHovered:!1}),children:[R,B]}):null}function K(e){return!!(0,c().O9)(e)&&0!==(0,l().qAZ)(e).length}const O=o.memo(F)},612408:(e,t,n)=>{n.d(t,{YD:()=>a,c$:()=>i,q_:()=>o});const i={"sprints-onboarding":{steps:[{id:"current-sprint-view-tooltip"},{id:"sprint-task-tooltip"},{id:"complete-sprint-button-tooltip"}]},"enhanced-qna-onboarding":{steps:[{id:"find-in-tooltip"},{id:"mention-tooltip"}]},"jira-sync-onboarding":{steps:[{id:"all-projects-tooltip"},{id:"all-issues-tooltip"},{id:"database-views-and-filters-tooltip"},{id:"settings-to-setup-projects-and-issues"}]},"project-management-import-onboarding":{steps:[{id:"your-teamspace-tooltip"},{id:"all-projects-tooltip"},{id:"navigate-to-project-tasks-tooltip"},{id:"project-customization-tooltip"},{id:"related-tasks-database-views-tooltip"}]},"ai-comment-onboarding":{steps:[{id:"ai-comment-onboarding-tooltip"}]}},o="completed",a="dismissed"},617719:(e,t,n)=>{n.r(t),n.d(t,{appendTranscriptionBlockToPage:()=>C,createTranscriptionBlockInNewPage:()=>w});var i=()=>n(486826),o=()=>n(712437),a=()=>n(762847),s=()=>n(871002),r=()=>n(16456),l=()=>n(427091),d=()=>n(34662),c=()=>n(415029),u=()=>n(795394),m=()=>n(191756),p=()=>n(163875),g=()=>n(448316),h=()=>n(84543),f=()=>n(189170),v=()=>n(459742),y=()=>n(216143),x=()=>n(485966),S=()=>n(182613);function C(e){const{environment:t}=e;h().createAndCommit({userAction:"transcriptionNewPageActions.appendTranscriptionBlock",environment:t,canUndo:!0,perform:e=>{(0,f().insertBlockBelow)({environment:t,createBlockItem:v().ry[a().xd.transcription],analyticsFrom:"quick_templates",selection:[],transaction:e})}})}function w(e){const{environment:t,from:n}=e,f=x().default.state.currentSpaceStore,C=x().default.state.currentSpaceViewStore,w=S().default.getCurrentRecordCache();if(!w)return;if(!f||!C)return;const{performResult:{createdPage:b}}=h().createAndCommit({userAction:"transcriptionNewPageActions.createTranscriptionBlockInNewPage",environment:t,canUndo:!0,perform:e=>{const o=p().IT({environment:t,spaceStore:f,spaceViewStore:C,isPrivate:!0,transaction:e});if(o.isType(a().xd.page)){const n=o.getBlockTitleStore(),a=i().c9.now(),c=[d().wmz(d().Ww9({type:"datetime",start_date:a.toFormat(r().tr),start_time:a.toFormat(s().GE),time_zone:(0,l().P)(),date_format:"relative"}),[[d().BQP.Bold]])];g().yr({environment:t,store:n,tokens:c,transaction:e,index:0})}const m=v().ry[a().xd.transcription],h=c().w({environment:t,transaction:e,inMemoryRecordCache:w,from:n,selection:[],createBlockItem:m});return u().NI({childStore:h,parentStore:o,transaction:e}),{createdPage:o}}});m().uK({environment:t,store:b,visitType:y().ig.Link,pageVisitSource:o().y8.Create})}},636670:(e,t,n)=>{n.d(t,{v:()=>d});var i=n(242343),o=()=>n(237385),a=()=>n(803290),s=(n(333225),n(494367),n(516262),n(573119),n(240480),n(950443),n(619601),()=>n(196387));const r=new Set;const l=new Set;function d(e){let{firstMountToReadyMetricName:t,pageOriginToReadyMetricName:n,isReady:d,homeType:c}=e;const u=(0,o().v3)();function m(e){return{environment:u,...e.startsWith("feed.")?{home_type:c}:{}}}const p=function(e,t){const n=(0,i.useMemo)((()=>s().default.DO_NOT_USE_markLegacy(e)),[e]),o=(0,i.useRef)(t);return(0,i.useEffect)((()=>{o.current=t}),[t]),(0,i.useCallback)((()=>{r.has(e)||(r.add(e),s().default.DO_NOT_USE_measureLegacy(n,o.current))}),[n,e])}(t,m(t)),g=function(e,t){const n=(0,i.useRef)(t);return(0,i.useEffect)((()=>{n.current=t}),[t]),(0,i.useCallback)((()=>{l.has(e)||(l.add(e),s().default.DO_NOT_USE_measureFromPageOriginLegacy(e,n.current))}),[e])}(n,m(n)),h=(0,a().K8)((()=>"personal"===c?function(e){const{route:t,initialRoute:n,historyState:i}=e.RouterStore.state;if("page"!==t.name)return!1;switch(n.name){case"root":return 1===(null==i?void 0:i.index);case"page":return n.blockId===t.blockId&&0===(null==i?void 0:i.index);default:return!1}}(u):function(e){const{route:t,initialRoute:n,historyState:i}=e.RouterStore.state;if("team"!==t.name)return!1;switch(n.name){case"root":return 1===(null==i?void 0:i.index);case"team":return n.teamId===t.teamId&&0===(null==i?void 0:i.index);default:return!1}}(u)),[u,c]);(0,i.useEffect)((()=>{h&&d&&(p(),g())}),[d,p,g,h])}},650964:(e,t,n)=>{n.d(t,{A:()=>s});var i=()=>n(543127),o=()=>n(144656),a=()=>n(662988);function s(e,t){(0,a().A)(2,arguments);var n=(0,o().A)(e),s=(0,i().A)(t),r=n.getFullYear(),l=n.getDate(),d=new Date(0);d.setFullYear(r,s,15),d.setHours(0,0,0,0);var c=function(e){(0,a().A)(1,arguments);var t=(0,o().A)(e),n=t.getFullYear(),i=t.getMonth(),s=new Date(0);return s.setFullYear(n,i+1,0),s.setHours(0,0,0,0),s.getDate()}(d);return n.setMonth(s,Math.min(l,c)),n}},662988:(e,t,n)=>{function i(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,{A:()=>i})},694013:(e,t,n)=>{n.d(t,{RK:()=>d,x:()=>l,zf:()=>s});n(725707),n(491955),n(403517);var i=()=>n(145017),o=()=>n(485966),a=()=>n(413871);const s=10;const r=new class{constructor(){this.localStorageStore=new(n(146325).Ay)({namespace:"recentsCache",important:!1,trackingType:"preference"})}get(e){return this.localStorageStore.get(e)}set(e,t){this.localStorageStore.set(e,t)}remove(e){this.localStorageStore.remove(e)}};function l(e){var t;const n=null===(t=o().default.state.currentSpaceViewStore)||void 0===t?void 0:t.id;if(!n)return!1;const i=e.filter((e=>e.canRead())).slice(0,s);return r.set(n,i.map((e=>e.id))),!0}function d(){const{currentSpaceViewStore:e}=o().default.state;if(!e)return;const t=r.get(e.id);return t?t.map((t=>a().Bv.createChildStore(e,{id:t,table:i().ev,spaceId:e.id}))):void 0}},705653:(e,t,n)=>{n.d(t,{A:()=>a});var i=()=>n(144656),o=()=>n(662988);function a(e,t){(0,o().A)(2,arguments);var n=(0,i().A)(e),a=(0,i().A)(t),s=n.getTime()-a.getTime();return s<0?-1:s>0?1:s}},720554:(e,t,n)=>{n.d(t,{A:()=>o});class i extends(()=>n(129044))().default{getInitialState(){return{open:!1}}}const o=new i},741158:(e,t,n)=>{n.d(t,{t:()=>o});n(242343);const i={viewBox:"0 0 20 20",svg:(0,n(163643).jsx)("path",{d:"M13.977 5.393a.625.625 0 0 1-.883 0l-2.47-2.469v5.662a.625.625 0 1 1-1.25 0V2.924L6.907 5.393a.625.625 0 0 1-.884-.884L9.558.974a.625.625 0 0 1 .884 0l3.535 3.535a.625.625 0 0 1 0 .884m-3.352 6.026a.625.625 0 1 0-1.25 0v5.648l-2.469-2.469a.625.625 0 1 0-.884.884l3.536 3.535c.244.245.64.245.884 0l3.535-3.535a.625.625 0 0 0-.883-.884l-2.47 2.469z"})},o=(0,n(680369).wt)("arrowUpDownStacked",i)},849402:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>i,peopleSmallIcon:()=>o});n(242343);const i={viewBox:"0 0 16 16",svg:(0,n(163643).jsx)("path",{d:"M9.336 2.869c.48-.6 1.192-.96 2.064-.96s1.584.36 2.065.96c.468.583.687 1.352.687 2.144 0 .793-.219 1.561-.687 2.145-.48.599-1.193.96-2.065.96s-1.584-.361-2.064-.96c-.469-.584-.687-1.352-.687-2.145s.218-1.56.687-2.144m.98.786c-.252.313-.411.783-.411 1.358s.16 1.046.41 1.359c.24.298.589.49 1.085.49s.846-.192 1.085-.49c.251-.313.41-.783.41-1.359 0-.575-.159-1.045-.41-1.358-.239-.298-.589-.49-1.085-.49s-.846.192-1.085.49M4.6 2.572c-.803 0-1.462.334-1.907.888-.433.539-.632 1.245-.632 1.97s.2 1.43.632 1.97c.445.553 1.104.887 1.907.887.804 0 1.463-.334 1.907-.888.433-.539.632-1.245.632-1.97S6.94 4 6.507 3.46c-.444-.553-1.103-.887-1.907-.887M3.317 5.43c0-.507.14-.916.356-1.184.203-.253.5-.418.927-.418s.725.165.928.418c.215.268.355.677.355 1.184s-.14.915-.355 1.183c-.203.253-.5.418-.928.418s-.724-.165-.927-.418c-.216-.268-.356-.676-.356-1.183m-.887 7.206h3.344c.076.466.268.896.539 1.256H2.43c-.577 0-1.132-.243-1.49-.656a1.51 1.51 0 0 1-.23-1.675c.68-1.42 2.175-2.389 3.89-2.389.797 0 1.547.21 2.19.576a5.6 5.6 0 0 0-.685 1.056 3.16 3.16 0 0 0-1.505-.376c-1.24 0-2.29.699-2.758 1.676a.26.26 0 0 0-.03.161c.007.04.028.092.076.148a.73.73 0 0 0 .542.223M11.4 8.84c-1.917 0-3.58 1.117-4.279 2.735a1.54 1.54 0 0 0 .268 1.665c.36.41.913.652 1.49.652h5.04c.579 0 1.131-.242 1.492-.652a1.54 1.54 0 0 0 .268-1.665c-.7-1.618-2.362-2.736-4.279-2.736m-3.126 3.233c.496-1.147 1.698-1.978 3.126-1.978s2.63.831 3.126 1.978c.055.128.034.233-.058.338a.74.74 0 0 1-.548.225H8.88a.74.74 0 0 1-.548-.225c-.092-.105-.113-.21-.058-.338"})},o=(0,n(680369).wt)("peopleSmall",i)},850265:(e,t,n)=>{n.d(t,{A:()=>l});var i=()=>n(144656),o=()=>n(650964),a=()=>n(543127),s=()=>n(662988);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function l(e,t){if((0,s().A)(2,arguments),"object"!==r(t)||null===t)throw new RangeError("values parameter must be an object");var n=(0,i().A)(e);return isNaN(n.getTime())?new Date(NaN):(null!=t.year&&n.setFullYear(t.year),null!=t.month&&(n=(0,o().A)(n,t.month)),null!=t.date&&n.setDate((0,a().A)(t.date)),null!=t.hours&&n.setHours((0,a().A)(t.hours)),null!=t.minutes&&n.setMinutes((0,a().A)(t.minutes)),null!=t.seconds&&n.setSeconds((0,a().A)(t.seconds)),null!=t.milliseconds&&n.setMilliseconds((0,a().A)(t.milliseconds)),n)}},869183:(e,t,n)=>{n.d(t,{u:()=>o});var i=()=>n(172470);const o=new class{constructor(){this.pendingNavigation=void 0}initMeasurement(e){var t;let{homeType:o}=e;const a=i().A.state.initialRenderCompleted?"navigation":"initial",s="navigation"===a?null===(t=n(551455).A.popTimings())||void 0===t?void 0:t.navigationStart:(0,n(982177).getPageOriginTime)();"initial"===a&&i().A.update((e=>({...e,initialRenderCompleted:!0}))),s?this.pendingNavigation={loadType:a,homeType:o,measurementStartTime:s}:this.reset()}onResults(e){let{environment:t}=e;if(!this.pendingNavigation)return;const{measurementStartTime:i,homeType:o,loadType:a}=this.pendingNavigation;this.pendingNavigation=void 0,n(196387).default.measureAfterNextFlush({metricName:"feed_render",startTime:i},{environment:t,getData:()=>({home_type:o,load_type:a})})}reset(){this.pendingNavigation=void 0}}},874620:(e,t,n)=>{n.d(t,{b:()=>s});n(333225),n(494367),n(516262),n(573119),n(240480),n(950443),n(619601);var i=()=>n(758989),o=()=>n(694225),a=()=>n(284320);function s(e){let{icon:t,theme:n}=e;if(t)return(0,o().A)(t)?a().A.state.emojiByColorProcessed[t]:(0,i().T8)(t)?function(e){var t;let{uri:n,theme:o}=e;const a=null===(t=n.match(/\/icons\/[\w\-]*_(.+)\.svg/))||void 0===t?void 0:t[1];if(!function(e){if(!e)return!1;return r.has(e)}(a))return;return i().l8[o.mode][a]}({uri:t,theme:n}):void 0}const r=new Set((0,n(76394).uv)(i().l8.light))},876359:(e,t,n)=>{n.d(t,{f:()=>o});var i=()=>n(812815);function o(e){const{name:t,startTime:n,endTime:o}=e;try{performance.measure(t,{start:n,end:o})}catch(a){i().Fg(a,{extra:{name:t,startTime:n,endTime:o}})}}},886848:(e,t,n)=>{n.r(t),n.d(t,{bookSmallIcon:()=>o,iconDefinition:()=>i});n(242343);const i={viewBox:"0 0 16 16",svg:(0,n(163643).jsx)("path",{d:"M1.73 3.768C3.598 2.34 6.058 2.25 8 3.501c1.942-1.251 4.402-1.162 6.27.267a.63.63 0 0 1 .245.497v8.485a.625.625 0 0 1-1.005.496c-1.543-1.18-3.584-1.18-5.128-.001l-.015.01a.7.7 0 0 1-.19.094.62.62 0 0 1-.56-.105c-1.543-1.18-3.584-1.178-5.127.002a.625.625 0 0 1-1.005-.496V4.265c0-.195.09-.379.245-.497m1.005 7.87a5.37 5.37 0 0 1 4.64 0V4.586a4.14 4.14 0 0 0-4.64 0zm5.89 0a5.37 5.37 0 0 1 4.64 0V4.586a4.14 4.14 0 0 0-4.64 0z"})},o=(0,n(680369).wt)("bookSmall",i)},892871:(e,t,n)=>{n.d(t,{H:()=>o,a:()=>a});var i=n(242343);const o={panelState:void 0,view:"notionHomeTile"},a=(0,i.createContext)(o);a.displayName="CalendarAnalyticsContext"},942260:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});class i extends(()=>n(129044))().default{getInitialState(){return{discussionIdToExpansionStartPointMap:{}}}}const o=new i},942485:(e,t,n)=>{n.d(t,{A:()=>s});var i=()=>n(543127),o=()=>n(144656),a=()=>n(662988);function s(e,t){(0,a().A)(2,arguments);var n=(0,o().A)(e),s=(0,i().A)(t);return isNaN(s)?new Date(NaN):s?(n.setDate(n.getDate()+s),n):n}},975358:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>i,lightBulbBrightSmallIcon:()=>o});n(242343);const i={viewBox:"0 0 16 16",svg:(0,n(163643).jsx)("path",{d:"M8 1.385c-2.23 0-4.035 1.793-4.035 3.985 0 .782.193 1.525.56 2.147.09.161.181.312.281.473.454.725.86 1.386.86 2.08a.63.63 0 0 0 .624.625.63.63 0 0 0 .625-.625c.01-1.064-.553-1.972-1.041-2.75l-.27-.448a3 3 0 0 1-.389-1.512C5.215 3.853 6.46 2.625 8 2.625s2.785 1.228 2.785 2.735c0 .558-.137 1.084-.39 1.512l-.269.449-.01.016c-.475.773-1.03 1.675-1.03 2.723a.63.63 0 0 0 .55.62v.015h.074a.63.63 0 0 0 .625-.625c0-.684.406-1.355.859-2.08v-.002l.001-.001q.067-.117.139-.233t.141-.237c.367-.622.56-1.365.56-2.147 0-2.202-1.815-3.985-4.035-3.985m-1.6 10.19a.63.63 0 0 0-.625.625.63.63 0 0 0 .625.625h3.2a.63.63 0 0 0 .625-.625.63.63 0 0 0-.625-.625zm.8 1.8a.63.63 0 0 0-.625.625.63.63 0 0 0 .625.625h1.6A.63.63 0 0 0 9.425 14a.63.63 0 0 0-.625-.625z"})},o=(0,n(680369).wt)("lightBulbBrightSmall",i)},999408:(e,t,n)=>{n.d(t,{O:()=>j});n(725707),n(491955),n(113085);var i=()=>n(486826),o=n(242343),a=()=>n(237385),s=()=>n(803290),r=()=>n(162901),l=()=>n(975392),d=()=>n(76394),c=()=>n(199726),u=()=>n(533975),m=()=>n(485966),p=()=>n(427871);n(107652);function g(e){if(0===e.length)return!0;const t=e[0];return e.every((e=>void 0!==e&&e===t))}var h=()=>n(540059),f=()=>n(965170),v=()=>n(542683),y=()=>n(739536),x=()=>n(659952),S=()=>n(707715),C=()=>n(16250),w=()=>n(532555);const b=1e4;function j(){var e;const t=(0,a().v3)(),n=(0,C().m)(),{timeZone:j}=(0,c().mn)(),M=(0,u().s5)(),{connectedAccounts:T,disconnectedAccounts:_}=(0,w().B)(),[H,P]=o.useState(0),[L,R]=o.useState(!0),B=(0,o.useMemo)((()=>(0,l().sg)((()=>{P((e=>e+1)),R(!1),setTimeout((()=>R(!0)),b)}),1e3,{leading:!0,trailing:!1})),[]),{currentSpaceViewStore:E,currentSpaceStore:V}=(0,s().K8)((()=>({currentSpaceViewStore:m().default.state.currentSpaceViewStore,currentSpaceStore:m().default.state.currentSpaceStore})),[]),N=(0,s().K8)((()=>void 0!==S().A.getStateForCurrentSpaceView()),[]),D=(0,s().K8)((()=>{var e,i;const{botSpaceId:o,botUserId:a}=n,s=null==E?void 0:E.getSpaceId(),r=null==E?void 0:E.getUserId(),l=null==V?void 0:V.id,d=null===(e=m().default.state.currentUserStore)||void 0===e?void 0:e.id,c=null===(i=t.currentUser)||void 0===i?void 0:i.id;return g([o,s,l])&&g([a,r,d,c])}),[n,null==V?void 0:V.id,E,null===(e=t.currentUser)||void 0===e?void 0:e.id]),W=o.useRef(void 0),[F]=(0,r().Yb)((async()=>{const e=n.botId;if(!D||!E)return"appNotSynced";if(!e)return n.loading||(0,p().F8)(),"noConnectedBot";const i=await(0,p().qq)({environment:t,currentSpaceViewStore:E,botId:e,forceRefetch:!1,timeRange:(0,v().M)(),reason:"foreground_load"}),o=!W.current,a=W.current&&(W.current.spaceViewId!==E.id||W.current.botId!==e);switch("skipped"===i&&(o||a)&&I({environment:t,currentSpaceViewStore:E,botId:e,forceRefetch:!0,timeRange:(0,v().M)(),updateMethod:"replace",reason:"background_load"}),W.current={spaceViewId:E.id,botId:e},i){case"success":case"skipped":return"loadCompleted";case"failure":return"loadError";default:(0,d().HB)(i)}}),[D,n.botId,n.loading,E,t,H]),{days:K,numDaysWithEvents:O}=(0,s().K8)((()=>{const e=n.botId;if(!e||"resolved"!==F.status||!N||!E)return{days:[],numDaysWithEvents:0};const{timeMin:t,timeMax:o}=(0,v().iI)(),a=(0,f().g2)({events:S().A.getEvents(),calendars:S().A.getCalendarMap(),startDate:i().c9.fromMillis(t,{zone:j}),endDateInclusive:i().c9.fromMillis(o,{zone:j}),getCalendarVisibility:t=>(0,x().Pj)({spaceViewStore:E,botId:e,calendar:t}),eventFilters:{all_day_events:(0,h().E)("all_day_events"),events_without_participants:(0,h().E)("events_without_participants"),events_without_location:(0,h().E)("events_without_location")},timeZone:j});let s=0;return{days:a.filter((e=>{const t=e.allDayEvents.length>0||e.timedEvents.length>0;return t&&s++,t||(0,y().cK)(e.date,M)})),numDaysWithEvents:s}}),[n.botId,F.status,N,E,M,j]),U=function(e){let{botIdState:t,eventsLoadingState:n,isEventsDataAvailable:i,numDaysWithEvents:o,connectedAccounts:a,disconnectedAccounts:s}=e;const r=a.filter((e=>A(e)||k(e))),l=s.filter((e=>A(e)||k(e)));return t.loading||"resolved"!==n.status&&"rejected"!==n.status||"resolved"===n.status&&"noConnectedBot"===n.value&&!t.loading&&void 0!==t.botId||"resolved"===n.status&&"loadCompleted"===n.value&&!i||"resolved"===n.status&&"appNotSynced"===n.value?"loading":!t.loading&&!t.botId||0===r.length&&0===l.length?"signedOut":0===a.filter(A).length&&s.filter(A).length>0?s.filter(A).some((e=>"missingScopes"===e.authorizationStatus))?"missingScopes":"disconnectedAccount":"rejected"===n.status||"resolved"===n.status&&"loadError"===n.value?"loadError":0===o?"noEvents":"events"}({botIdState:n,eventsLoadingState:F,isEventsDataAvailable:N,numDaysWithEvents:O,connectedAccounts:T,disconnectedAccounts:_});return{isRetryEventLoadingEnabled:L,retryEventLoading:B,displayState:U,eventsLoadingState:F,days:K}}function A(e){let{provider:t}=e;return"google"===t}function k(e){let{provider:t}=e;return"icloud"===t}const I=(0,l().sg)(p().qq,1e4,{leading:!0,trailing:!0})}}]);