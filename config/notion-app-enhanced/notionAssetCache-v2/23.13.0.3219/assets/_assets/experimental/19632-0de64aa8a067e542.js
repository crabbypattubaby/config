"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[19632],{17127:(e,t,a)=>{a.d(t,{C:()=>s});a(242343);const n={viewBox:"0 0 20 20",svg:(0,a(163643).jsx)("path",{d:"M14.075 3.45a.625.625 0 0 0-.884 0l-3.497 3.5a.625.625 0 0 0 .883.884l2.431-2.431v10.705a.625.625 0 0 0 1.25 0V5.402l2.431 2.43a.625.625 0 1 0 .884-.883zM2.427 12.167a.625.625 0 0 1 .884 0l2.43 2.431V3.893a.625.625 0 0 1 1.25 0v10.705l2.431-2.43a.625.625 0 0 1 .884.883L6.81 16.55a.625.625 0 0 1-.884 0l-3.498-3.498a.625.625 0 0 1 0-.884"})},s=(0,a(680369).wt)("arrowUpDown",n)},49173:(e,t,a)=>{a.d(t,{a:()=>s});a(242343);var n=a(163643);const s=(0,a(680369).wt)("sortSidebar",{viewBox:"0 0 20 20",svg:(0,n.jsx)("path",{d:"M5.40625 3.26855C5.57031 3.09082 5.76855 3.00195 6.00098 3.00195C6.2334 3.00195 6.43164 3.09082 6.5957 3.26855L10.041 6.7959C10.2005 6.95996 10.2803 7.15365 10.2803 7.37695C10.2803 7.60938 10.2051 7.80078 10.0547 7.95117C9.90885 8.09701 9.72201 8.16992 9.49414 8.16992C9.26628 8.16992 9.07943 8.09473 8.93359 7.94434L7.53223 6.48828L6.75977 5.58594L6.80078 6.95996V15.3271C6.80078 15.5596 6.72559 15.751 6.5752 15.9014C6.4248 16.0563 6.2334 16.1338 6.00098 16.1338C5.76855 16.1338 5.57487 16.0563 5.41992 15.9014C5.26953 15.751 5.19434 15.5596 5.19434 15.3271V6.95996L5.24902 5.58594L4.46289 6.48828L3.06836 7.94434C2.91797 8.09473 2.73112 8.16992 2.50781 8.16992C2.27539 8.16992 2.08398 8.09701 1.93359 7.95117C1.78776 7.80078 1.71484 7.60938 1.71484 7.37695C1.71484 7.15365 1.79688 6.95996 1.96094 6.7959L5.40625 3.26855ZM14.5938 15.874C14.4251 16.0518 14.2246 16.1383 13.9922 16.1338C13.7643 16.1338 13.5684 16.0472 13.4043 15.874L9.96582 12.3398C9.7972 12.1758 9.71289 11.9821 9.71289 11.7588C9.71289 11.5218 9.78809 11.3304 9.93848 11.1846C10.0889 11.0387 10.2803 10.9658 10.5127 10.9658C10.7314 10.9658 10.916 11.041 11.0664 11.1914L12.4678 12.6406L13.2471 13.5498L13.1924 12.1758V3.80859C13.1924 3.57617 13.2676 3.38477 13.418 3.23438C13.5729 3.07943 13.7666 3.00195 13.999 3.00195C14.2314 3.00195 14.4229 3.07943 14.5732 3.23438C14.7236 3.38477 14.7988 3.57617 14.7988 3.80859V12.1758L14.751 13.5498L15.5371 12.6406L16.9316 11.1914C17.0775 11.041 17.262 10.9658 17.4854 10.9658C17.7178 10.9658 17.9069 11.0387 18.0527 11.1846C18.2031 11.3304 18.2783 11.5218 18.2783 11.7588C18.2783 11.9821 18.1963 12.1758 18.0322 12.3398L14.5938 15.874Z"})})},120332:(e,t,a)=>{a.d(t,{m:()=>i});var n=()=>a(803290),s=()=>a(4822);function i(){return(0,n().K8)((()=>(0,s().VR)()),[])}},157710:(e,t,a)=>{a.d(t,{F:()=>P});var n=a(242343),s=()=>a(237385),i=()=>a(803290),o=()=>a(174114),r=()=>a(418077),l=()=>a(680369),c=a(163643);const d={viewBox:"0 0 20 20",svg:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("path",{d:"M8.35 12.274a.625.625 0 0 0 0 1.25h3.3a.625.625 0 1 0 0-1.25zM13 9.844a.625.625 0 1 1 0 1.25H7a.625.625 0 0 1 0-1.25zm-7-2.43a.625.625 0 1 0 0 1.25h8a.625.625 0 1 0 0-1.25z"}),(0,c.jsx)("path",{d:"M10 2.375a7.625 7.625 0 1 0 0 15.25 7.625 7.625 0 0 0 0-15.25M3.625 10a6.375 6.375 0 1 1 12.75 0 6.375 6.375 0 0 1-12.75 0"})]})},u=(0,l().wt)("filterCircle",d);var p=()=>a(653998),h=()=>a(273520),g=()=>a(356813),b=()=>a(103151),m=()=>a(190094),y=()=>a(487893),f=()=>a(636023),v=()=>a(907721),x=(a(403517),()=>a(955308)),S=()=>a(247428),M=()=>a(934889),k=()=>a(49079),A=()=>a(237185),w=()=>a(535906),j=()=>a(935091),C=()=>a(858023),T=()=>a(397791),_=()=>a(88271),I=()=>a(35462),L=()=>a(640979),B=()=>a(764872),z=()=>a(459708);function R(e){const{closePopup:t}=e,a=(0,s().v3)(),r=(0,s().Y0)(),l=(0,i().K8)((()=>y().dl()),[]),d=(0,n.useCallback)((e=>function(e,t){z().Ay.setState({...z().Ay.state,filter:t}),B().DK(e,{tab:t})}(a,e)),[a]),u=(0,o().IS)((e=>({iconContainer:{display:"flex",justifyContent:"center",alignItems:"center",...r.isMobile&&{height:20}},icon:{...r.isMobile?{height:24,width:24}:{height:20,width:20}}})),[r]),h=(0,m().T4)(),g=[{type:"unread_and_read",title:(0,c.jsx)(p().sA,{id:"inboxFilterMenu.readAndUnreadOption.label",defaultMessage:"Unread & read"}),icon:k().y},{type:"unread_only",title:(0,c.jsx)(p().sA,{id:"inboxFilterMenu.unreadOption.label",defaultMessage:"Unread"}),icon:A().C},{type:"archived_only",title:(0,c.jsx)(p().sA,{id:"inboxFilterMenu.archivedOption.label",defaultMessage:"Archived"}),icon:x().B},{type:"all_updates",title:(0,c.jsx)(p().sA,{id:"inboxFilterMenu.allUpdatesOption.label",defaultMessage:"All workspace updates"}),icon:M().clockIcon}];return(0,c.jsx)(j().A,{menuType:L().gu.Popup,height:r.isTablet?"100%":r.isMobile?"50vh":void 0,minWidth:250,maxWidth:r.isMobile?"100vw":void 0,maxHeight:r.isTablet?"100%":void 0,scrollerStyle:h.menuScroller,header:(0,c.jsx)(I().A,{style:h.header,isSmall:!r.isMobile,isSecondaryColor:!r.isMobile,children:(0,c.jsx)(p().sA,{id:"inbox.filterOptionsMenu.headerMobile",defaultMessage:"Filter"})}),children:(0,c.jsx)(C().Ay,{type:C().Oh.Vertical,sections:[{key:"inbox filters",render:e=>(0,c.jsx)(_().A,{...e,topBorder:0!==e.index,style:h.sectionMenuItem}),items:g.map(((e,a)=>{const n=e.type===l,s=a===g.length-1,i=r.isMobile&&s;return{key:e.type,render:t=>(0,c.jsx)(w().A,{...t,style:{...h.buttonMenuItem,...i&&h.transparentButtonMenuItemBorder},pressedStyle:h.buttonMenuItemPressed,title:e.title,titleStyle:h.title,icon:(0,c.jsx)("div",{style:u.iconContainer,children:e.icon(u.icon)}),right:n?(0,c.jsx)(T().I,{icon:S().checkmarkSmallIcon,size:"sm"}):void 0}),action:()=>{t(),d(e.type)}}}))}],initialFocus:void 0,onAccept:()=>t()})})}function P(){const e=(0,s().Y0)(),t=(0,p().tz)(),a=(0,i().K8)((()=>y().dl()),[]),n=(0,f().zg)(),d=(0,o().IS)((t=>({button:e.isMobile?{height:30,width:30}:n.button,icon:{...n.icon,...e.isMobile&&{fill:t.icon.primary,width:l().lD.default,height:l().lD.default},..."unread_and_read"!==a?{fill:t.blueColor}:{}}})),[e.isMobile,a,n.button,n.icon]),x=(0,m().T4)(),S=t.formatMessage({defaultMessage:"Filter notifications",id:"inbox.filterButton.tooltip"});return(0,c.jsx)(h().Ay,{style:x.popup,popupType:e.isMobile?h().z7.SlideUp:h().z7.Popup,renderOrigin:t=>{let{onClick:a}=t;return(0,c.jsx)(b().A,{renderTooltip:()=>S,placement:v().W.Bottom,alignment:v().C.Start,delayThreshold:0,originGap:6,render:t=>(0,c.jsx)(g().A,{ariaLabel:S,icon:e.isMobile?u:r().S,iconStyle:d.icon,onClick:a,style:d.button,...t})})},render:e=>(0,c.jsx)(R,{closePopup:e.close}),alignmentToOrigin:h().yP.Start,originGap:2})}},175864:(e,t,a)=>{a.d(t,{C:()=>_});a(362833);var n=a(242343),s=()=>a(237385),i=()=>a(803290),o=()=>a(174114),r=a(163643);const l={viewBox:"0 0 20 20",svg:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("path",{fillRule:"evenodd",d:"M3.125 4.75c0-.897.728-1.625 1.625-1.625h10.5c.898 0 1.625.728 1.625 1.625v1.57c0 .676-.413 1.256-1 1.5v3.904l-1.25 2.084V7.945h-9.25v7.305c0 .207.168.375.375.375h4.329c.05.338.192.667.431.945l.261.305H5.75a1.625 1.625 0 0 1-1.625-1.625V7.82c-.587-.244-1-.824-1-1.5zm12.5 1.57V4.75a.375.375 0 0 0-.375-.375H4.75a.375.375 0 0 0-.375.375v1.57c0 .205.164.372.369.375h10.512a.375.375 0 0 0 .369-.375",clipRule:"evenodd"}),(0,r.jsx)("path",{d:"M8 9.875a.625.625 0 1 0 0 1.25h4a.625.625 0 1 0 0-1.25zm10.282 2.697a.625.625 0 0 0-1.072-.644l-3.041 5.07-1.76-2.055a.625.625 0 1 0-.95.814l2.325 2.712a.625.625 0 0 0 1.01-.085z"})]})},c=(0,a(680369).wt)("archiveBoxCheck",l);var d=()=>a(794484),u=()=>a(653998),p=()=>a(76394),h=()=>a(764872),g=()=>a(557067),b=()=>a(535906),m=()=>a(273520),y=()=>a(356813),f=()=>a(935091),v=()=>a(858023),x=()=>a(88271),S=()=>a(103151),M=()=>a(35462),k=()=>a(640979),A=()=>a(190094),w=()=>a(636023),j=()=>a(907721),C=()=>a(264109),T=()=>a(487893);function _(){const e=(0,s().Y0)(),t=(0,u().tz)(),a=(0,i().K8)((()=>{const e=T().dl(),{currentTab:t,isCurrentTabEmpty:a}=C().Ay.state;if("all_updates"===e||"archived_only"===e||"mentions"!==t||a)return;const{containsUnreadNotifications:n,containsBothReadAndUnreadNotifications:s}=C().Ay.state;return{containsUnreadNotifications:n,containsBothReadAndUnreadNotifications:s,showOnlyUnreadNotifications:"unread_only"===e}}),[]),n=(0,w().zg)(),l=(0,o().IS)((t=>({button:e.isMobile?{height:30,width:30}:n.button,popup:{...e.isMobile&&{borderTopLeftRadius:12,borderTopRightRadius:12,overflow:"hidden"}},ellipsisIcon:{...n.icon,...e.isMobile&&{fill:t.icon.primary}}})),[e,n]);if(!a)return null;const c=t.formatMessage({defaultMessage:"More actions",id:"inbox.ellipsisButton.tooltip"});return(0,r.jsx)(m().Ay,{style:l.popup,popupType:e.isMobile?m().z7.SlideUp:m().z7.Popup,renderOrigin:e=>{let{onClick:a}=e;return(0,r.jsx)(S().A,{renderTooltip:()=>c,placement:j().W.Bottom,alignment:j().C.Start,delayThreshold:0,originGap:6,render:e=>(0,r.jsx)(y().A,{ariaLabel:t.formatMessage(z.moreActionsButtonAriaLabel),icon:d().L,iconStyle:l.ellipsisIcon,style:l.button,onClick:a,...e})})},render:e=>(0,r.jsx)(I,{...a,closePopup:e.close}),alignmentToOrigin:m().yP.Start,originGap:2})}function I(e){const{containsUnreadNotifications:t,containsBothReadAndUnreadNotifications:a,showOnlyUnreadNotifications:i,closePopup:o}=e,l=(0,s().v3)(),c=(0,s().Y0)(),d=["markAllAsRead"];i?d.push("archiveUnread"):(d.push("archiveAll"),a&&d.push("archiveRead"));const b=(0,n.useCallback)((()=>{h().cZ(l),g().hY(l)}),[l]),m=(0,n.useCallback)((e=>{let t="none";"archiveAll"===e?t="none":"archiveUnread"===e?t="unread":"archiveRead"===e&&(t="read"),h().xd(l,{readFilter:t}),g().Sy(l,"mentions",t)}),[l]),y=(0,A().T4)();return(0,r.jsx)(f().A,{menuType:k().gu.Popup,height:c.isTablet?"100%":c.isMobile?"50vh":void 0,maxWidth:c.isMobile?"100vw":void 0,maxHeight:c.isTablet?"100%":void 0,header:c.isMobile?(0,r.jsx)(M().A,{style:y.header,isSmall:!c.isMobile,isSecondaryColor:!c.isMobile,children:(0,r.jsx)(u().sA,{id:"inbox.moreActionsMenu.header",defaultMessage:"Actions"})}):void 0,minWidth:250,scrollerStyle:y.menuScroller,children:(0,r.jsx)(v().Ay,{type:v().Oh.Vertical,sections:[{key:"inbox global actions",render:e=>(0,r.jsx)(x().A,{...e,topBorder:0!==e.index,style:y.sectionMenuItem}),items:d.map(((e,a)=>({key:e,render:n=>{const s=a===d.length-1,i=c.isMobile&&s;return"archiveAll"===e||"archiveRead"===e||"archiveUnread"===e?(0,r.jsx)(B,{...n,archiveActionType:e,showTransparentButtonMenuItemDivider:i}):"markAllAsRead"===e?(0,r.jsx)(L,{...n,showTransparentButtonMenuItemDivider:i,containsUnreadNotifications:t}):void(0,p().HB)(e)},action:()=>{o(),"archiveAll"===e||"archiveUnread"===e||"archiveRead"===e?m(e):"markAllAsRead"===e?b():(0,p().HB)(e)}})))}],initialFocus:void 0,onAccept:()=>o()})})}const L=n.forwardRef(((e,t)=>{const{containsUnreadNotifications:n,showTransparentButtonMenuItemDivider:s,...o}=e,l=(0,i().K8)((()=>a(539581).A.getUnreadCountForCurrentSpace().mentions>0),[]),c=!(n||l),d=(0,A().T4)();return(0,r.jsx)(S().A,{placement:j().W.Left,disableTooltip:!c,renderTooltip:()=>(0,r.jsx)(u().sA,{defaultMessage:"All notifications have been marked as read.",id:"updatesModal.spaceUpdatesTab.markAllReadButton.disabledTooltip"}),render:e=>(0,r.jsx)(b().A,{...(0,a(906230).A)(o,e),ref:t,icon:(0,a(916653).i)(d.icon),title:(0,r.jsx)(u().sA,{defaultMessage:"Mark all as read",id:"updatesModal.spaceUpdates.mentionsTab.markAllReadButtonTitle"}),titleStyle:d.title,disabled:c,disabledFeedback:c,style:{...d.buttonMenuItem,...s&&d.transparentButtonMenuItemBorder}})})}));L.displayName="InboxMarkReadButtonMenuItem";const B=n.forwardRef(((e,t)=>{const{archiveActionType:n,showTransparentButtonMenuItemDivider:s,...i}=e,o=(0,A().T4)(),l="archiveRead"===n;return(0,r.jsx)(b().A,{...i,ref:t,icon:l?c(o.icon):(0,a(955308).B)(o.icon),title:(()=>{switch(n){case"archiveAll":return(0,r.jsx)(u().sA,{defaultMessage:"Archive all",id:"updatesModal.spaceUpdatesTab.archiveAll.tooltip"});case"archiveUnread":return(0,r.jsx)(u().sA,{defaultMessage:"Archive unread",id:"updatesModal.spaceUpdatesTab.archiveUnread.tooltip"});case"archiveRead":return(0,r.jsx)(u().sA,{defaultMessage:"Archive read",id:"updatesModal.spaceUpdatesTab.archiveRead.tooltip"});default:(0,p().HB)(n)}})(),titleStyle:o.title,style:{...o.buttonMenuItem,...s&&o.transparentButtonMenuItemBorder}})}));B.displayName="InboxArchiveButtonMenuItem";const z=(0,u().YK)({moreActionsButtonAriaLabel:{defaultMessage:"More actions",id:"inbox.button.moreActionsButtonAriaLabel"}})},236089:(e,t,a)=>{a.d(t,{s:()=>s});a(242343);const n={viewBox:"0 0 20 20",svg:(0,a(163643).jsx)("path",{d:"M9.792 2.41a.6.6 0 0 0-.234.148l-5.4 5.4a.625.625 0 1 0 .884.884l4.333-4.333V17a.625.625 0 1 0 1.25 0V4.509l4.333 4.333a.625.625 0 1 0 .884-.884l-5.4-5.4a.62.62 0 0 0-.65-.147"})},s=(0,a(680369).wt)("arrowStraightUp",n)},266307:(e,t,a)=>{a.d(t,{r:()=>s});a(725707),a(107652),a(771702);class n extends(()=>a(129044))().default{getInitialState(){return{workspaceFilter:"all",spaceSelections:{}}}initializeSelectionForAllWorkspaces(e){this.state.workspaceFilter="all",e.forEach((e=>{this.state.spaceSelections[e]=!0})),this.emit()}toggleAllWorkspacesFilter(){"all"!==this.state.workspaceFilter?(this.state.workspaceFilter="all",Object.keys(this.state.spaceSelections).forEach((e=>{this.state.spaceSelections[e]=!0}))):(this.state.workspaceFilter="none",Object.keys(this.state.spaceSelections).forEach((e=>{this.state.spaceSelections[e]=!1}))),this.emit()}toggleWorkspaceFilter(e){const t=!this.state.spaceSelections[e];this.state.spaceSelections={...this.state.spaceSelections},this.state.spaceSelections[e]=t,this.state.workspaceFilter="selection",t?this.areAllWorkspacesSelected()&&(this.state.workspaceFilter="all"):this.areNoWorkspacesSelected()&&(this.state.workspaceFilter="none"),this.emit()}areAllWorkspacesSelected(){return Object.values(this.state.spaceSelections).every((e=>e))}areNoWorkspacesSelected(){return Object.values(this.state.spaceSelections).every((e=>!e))}}const s=new n},304566:(e,t,a)=>{a.d(t,{A:()=>r});a(242343);var n=()=>a(803290),s=()=>a(174114),i=()=>a(967454),o=a(163643);function r(e){let{scrollerStore:t}=e;const a=(0,n().K8)((()=>t.state.elementRef??{current:null}),[t]),r=0===(0,i().yE)(a),l=(0,s().IS)((e=>({border:{flexShrink:0,width:"100%",boxShadow:r?"0 0 0 transparent":`0 1px 0 ${e.regularDividerColor}`,transition:"box-shadow 300ms",height:2,marginTop:-2,zIndex:99}})),[r]);return(0,o.jsx)("div",{style:l.border})}},420441:(e,t,a)=>{a.d(t,{Q:()=>je});a(362833);var n=a(242343),s=()=>a(237385),i=()=>a(803290),o=()=>a(174114),r=()=>a(653998),l=()=>a(76394),c=()=>a(31448),d=()=>a(178063),u=()=>a(165786),p=()=>a(119148),h=()=>a(312905),g=()=>a(356813),b=()=>a(103151),m=()=>a(393728),y=()=>a(456143),f=()=>a(636023),v=()=>a(278725),x=()=>a(894309),S=()=>a(208035),M=a(163643);const k=(0,r().YK)({newChatPlusIcon:{id:"assistantFullPageChat.newChat.ariaLabel",defaultMessage:"New chat"}});function A(){const e=(0,r().tz)(),t=(0,s().v3)(),a=(0,m().jw)(),n=(0,y().w)(),i=f().zg();return(0,M.jsx)(b().A,{renderTooltip:()=>e.formatMessage(k.newChatPlusIcon),render:s=>(0,M.jsx)(g().A,{...s,icon:d().plusIcon,iconStyle:i.icon,style:i.button,ariaLabel:e.formatMessage(k.newChatPlusIcon),onClick:()=>{!function(e){const{environment:t,assistantSurface:a,notionAiLandingPageFeatureGate:n}=e;(0,S().performSecondarySidebarAction)({environment:t,assistantSurface:a,action:()=>{n.isDeepFindOnInferenceTranscriptEnabled?((0,u().Wq)({environment:t,clientStore:h().Kd}),(0,p().VK)({environment:t,threadStore:void 0})):((0,v().U)({environment:t}),(0,x().trackAIChatTranscriptHistoryNewChatCreated)(t,{source:a.type}))}})}({environment:t,assistantSurface:a,notionAiLandingPageFeatureGate:n})}})})}var w=()=>a(983050),j=()=>a(175864),C=()=>a(157710),T=()=>a(851028),_=()=>a(908589),I=()=>a(949562),L=()=>a(485966),B=()=>a(216273),z=()=>a(610489),R=()=>a(628854);const P=(0,r().YK)({newTeamPlusIcon:{id:"sidebarTeamBrowser.newTeam.button",defaultMessage:"New teamspace"}});function O(){const e=(0,r().tz)(),t=f().zg(),a=(0,n.useCallback)((()=>R().vn("team_browser")),[]);return(0,M.jsx)(b().A,{renderTooltip:()=>e.formatMessage(P.newTeamPlusIcon),render:n=>(0,M.jsx)(g().A,{...n,icon:d().plusIcon,iconStyle:t.icon,style:t.button,ariaLabel:e.formatMessage(P.newTeamPlusIcon),onClick:a})})}var K=()=>a(637269),U=()=>a(48913);const W=30;function F(e){const t=(0,s().v3)(),a=(0,s().Y0)(),{isElectron:n}=a,r=(0,i().O$)(B().b),l=(0,i().K8)((()=>(0,U().KB)(t)),[t]),c=!r&&!l&&n,d=(0,o().IS)((()=>({container:{...(0,K().g)({drag:!0}),flexShrink:0,height:W,width:"100%"}})),[]);return c?(0,M.jsx)("div",{style:d.container}):null}const D=(0,a(680369).wt)("hamburgerMenuRound",{viewBox:"0 0 20 20",svg:(0,M.jsx)("path",{d:"M17.266 5.758H2.734a.713.713 0 0 1-.523-.219A.719.719 0 0 1 2 5.023a.737.737 0 0 1 .734-.75h14.532c.209 0 .383.073.523.22.14.145.211.322.211.53 0 .204-.07.378-.21.524a.71.71 0 0 1-.524.21ZM17.266 10.742H2.734a.713.713 0 0 1-.523-.219.719.719 0 0 1-.211-.515.737.737 0 0 1 .734-.75h14.532c.209 0 .383.073.523.219.14.145.211.322.211.53 0 .204-.07.378-.21.524a.71.71 0 0 1-.524.211ZM17.266 15.727H2.734a.713.713 0 0 1-.523-.22.719.719 0 0 1-.211-.515c0-.208.07-.385.21-.531a.713.713 0 0 1 .524-.219h14.532c.209 0 .383.073.523.219.14.146.211.323.211.531 0 .203-.07.378-.21.524a.71.71 0 0 1-.524.21Z"})});var N=()=>a(151835),H=()=>a(667801),E=()=>a(907721);function V(e){const{style:t}=e,a=(0,s().v3)(),n=(0,r().tz)(),l=(0,i().O$)(B().b),c=(0,i().K8)((()=>!(0,U().KB)(a)&&!l),[a,l]),d=(0,f().zg)(),u=(0,o().IS)((e=>({button:{...d.button,...t,marginLeft:-7},keyboardShortcut:{color:e.text.contrastSecondary}})),[d,t]),p=n.formatMessage({defaultMessage:"Lock sidebar open",id:"sidebarExpandButton.tooltip"});return c?(0,M.jsx)(b().A,{renderTooltip:()=>(0,M.jsxs)("div",{children:[(0,M.jsx)("div",{children:p}),(0,M.jsx)(N().A,{style:u.keyboardShortcut,name:"toggleSidebar"})]}),placement:E().W.Bottom,alignment:E().C.Start,delayThreshold:0,originGap:6,render:e=>(0,M.jsx)(g().A,{ariaLabel:p,icon:D,iconStyle:d.icon,style:u.button,onClick:()=>H().setExpand({environment:a,isExpanded:!0,from:"topbar_sidebar_button",saveDetailsSidebarPreference:!0}),className:w().l5X,...e})}):null}var Y=()=>a(862279),G=()=>a(397257),$=()=>a(945792),X=()=>a(557067),Q=()=>a(615917),Z=()=>a(487893),q=()=>a(264109),J=()=>a(271748);function ee(e){const{type:t}=e,a=(0,s().v3)(),{peekModeTooltipMessage:c,panelModeTooltipMessage:d}=function(e){const t=(0,r().tz)(),a={peekModeTooltipMessage:t.formatMessage({id:"secondarySidebar.lockInbox.tooltip",defaultMessage:"Lock inbox pane open"}),panelModeTooltipMessage:t.formatMessage({id:"secondarySidebar.closeInbox.tooltip",defaultMessage:"Close inbox pane"})};switch(e){case"inbox":case"activity":case"none":return a;case"assistant":return{peekModeTooltipMessage:t.formatMessage({id:"secondarySidebar.lockChatHistory.tooltip",defaultMessage:"Lock chat history open"}),panelModeTooltipMessage:t.formatMessage({id:"secondarySidebar.closeChatHistory.tooltip",defaultMessage:"Close chat history"})};case"private_pages":return{peekModeTooltipMessage:t.formatMessage({id:"secondarySidebar.lockPrivate.tooltip",defaultMessage:"Lock private pane open"}),panelModeTooltipMessage:t.formatMessage({id:"secondarySidebar.closePrivate.tooltip",defaultMessage:"Close private pane"})};case"shared_pages":return{peekModeTooltipMessage:t.formatMessage({id:"secondarySidebar.lockShared.tooltip",defaultMessage:"Lock shared pane open"}),panelModeTooltipMessage:t.formatMessage({id:"secondarySidebar.closeShared.tooltip",defaultMessage:"Close shared pane"})};case"teams":return{peekModeTooltipMessage:t.formatMessage({id:"secondarySidebar.lockTeams.tooltip",defaultMessage:"Lock teamspaces pane open"}),panelModeTooltipMessage:t.formatMessage({id:"secondarySidebar.closeTeams.tooltip",defaultMessage:"Close teamspaces pane"})};default:(0,l().HB)(e)}}(t),u=(0,i().K8)((()=>J().default.state.isMouseEntered),[]),p=(0,n.useCallback)((()=>{const e=z().oe();switch("peek"===e&&z().VI({environment:a}),t){case"inbox":const n={tab:(0,Z().dl)(),unread_notifications_count:X().j0(),sessionId:q().Ay.state.sessionId,...(0,U().hX)({environment:a})};return void $().x7(a,{view_type:e,section:t,...n});case"activity":break;case"private_pages":case"shared_pages":case"assistant":case"teams":return void $().x7(a,{view_type:e,section:t,...(0,U().hX)({environment:a})});case"none":return;default:(0,l().HB)(t)}}),[a,t]),h=(0,i().K8)((()=>J().default.state.mode),[]),m=f().zg(),y=(0,o().IS)((e=>({icon:{transform:"rotate(180deg)",...m.icon}})),[m]),v="peek"===h?c:d,x="panel"===h?G().O:Y().S;return(0,M.jsx)(b().A,{renderTooltip:()=>v,placement:E().W.Bottom,alignment:E().C.Start,delayThreshold:0,originGap:6,render:e=>(0,M.jsx)(Q().A,{tag:g().A,animate:{opacity:u?1:0},ariaLabel:v,onClick:p,icon:x,iconStyle:y.icon,style:m.button,...e})})}var te=()=>a(49173),ae=()=>a(273520),ne=()=>a(32901),se=()=>a(518397),ie=()=>a(935091),oe=()=>a(88271),re=()=>a(35462),le=()=>a(986571),ce=()=>a(640979);function de(e){const{type:t,spaceViewStore:a,onClick:n}=e,i=(0,s().v3)(),l=(0,o().IS)((e=>({header:{display:"flex",alignItems:"center",paddingLeft:16,paddingRight:16,paddingTop:10,fontSize:12,lineHeight:"16px",fontWeight:c().Wy.semibold,color:e.text.secondary}})),[]),d=(0,le().useSortActions)({type:t,spaceViewStore:a,onSelect:n,outlinerLocation:"pane"}),u=[(0,ne().gy)({key:"sort",render:e=>(0,M.jsx)(oe().A,{...e}),actions:d})];return(0,M.jsxs)(ie().A,{menuType:ce().gu.Popup,children:[(0,M.jsx)(re().A,{style:l.header,children:(0,M.jsx)(r().sA,{id:"secondarySidebar.sortMenu.headerLabel",defaultMessage:"Sort"})}),(0,M.jsx)(se().A,{context:{blocks:[],environment:i,publicEditMode:void 0,analyticsFrom:"sidebar_sort_menu"},sections:u,initialFocus:void 0})]})}function ue(e){let{type:t}=e;const a=(0,r().tz)(),n=(0,i().O$)(L().AppStoreCurrentSpaceViewStore),s=(0,f().zg)(),l=(0,o().IS)((e=>({icon:{fill:e.mediumIconColor,width:20,height:20}})),[]),c=a.formatMessage({defaultMessage:"Sort {type} pages",id:"secondarySidebar.sortButton.tooltip"},{type:t});return n?(0,M.jsx)(ae().Ay,{popupType:ae().z7.Popup,renderOrigin:e=>{let{onClick:t}=e;return(0,M.jsx)(b().A,{renderTooltip:()=>c,placement:E().W.Bottom,alignment:E().C.Start,delayThreshold:0,originGap:6,render:e=>(0,M.jsx)(g().A,{ariaLabel:c,icon:te().a,iconStyle:l.icon,onClick:t,style:s.button,...e})})},render:e=>(0,M.jsx)(de,{onClick:e.close,type:t,spaceViewStore:n}),alignmentToOrigin:ae().yP.Start,originGap:2}):(0,M.jsx)(M.Fragment,{})}a(403517);var pe=()=>a(124967),he=()=>a(289232),ge=()=>a(266307),be=()=>a(598758),me=()=>a(975392),ye=()=>a(331516),fe=()=>a(559637),ve=()=>a(28210),xe=()=>a(610271),Se=()=>a(548694);const Me=(0,r().YK)({filterWorkspace:{id:"secondarySidebar.workspaceFilterMenu.checkboxLabel",defaultMessage:"Filter workspace"}});function ke(e){const t=(0,s().v3)(),a=function(e){const t=(0,s().v3)(),a=(0,i().K8)((()=>"all"===ge().r.state.workspaceFilter),[]),l=(0,n.useCallback)((()=>{ge().r.toggleAllWorkspacesFilter()}),[]),c=(0,n.useCallback)((e=>{ge().r.toggleWorkspaceFilter(e)}),[]),d=(0,o().IS)((e=>({gridIcon:{height:20,width:20,color:e.icon.secondary}})),[]),u=(0,ne().Ls)({key:"all-spaces",displayName:void 0,analyticsName:"all-spaces",validators:[],closeParentMenu:!0,action:async()=>{},render:e=>(0,M.jsx)(ye().A,{...e,left:(0,M.jsx)(Ae,{icon:(0,be().p)(d.gridIcon),spaceName:void 0,spaceIcon:void 0,checked:a,onClick:l}),title:(0,M.jsx)(r().sA,{id:"secondarySidebar.workspaceFilterMenu.allSpaces",defaultMessage:"All workspaces"}),onClick:l})}),p=(0,i().K8)((()=>{const a=ge().r.state.spaceSelections;return(0,me().oE)(e.map((e=>{const n=e.getSpaceStore();if(!n)return;const s=n.id,i=(0,Se().GK)(t,n),o=(0,Se().c2)(t,n),r=Boolean(a[s]);return(0,ne().Ls)({key:s,displayName:void 0,analyticsName:s,validators:[],closeParentMenu:!0,action:async()=>{},render:e=>(0,M.jsx)(ye().A,{...e,left:(0,M.jsx)(Ae,{icon:void 0,spaceName:i,spaceIcon:o,checked:r,onClick:()=>{c(s)}}),title:i,onClick:()=>{c(s)}})})})))}),[t,e,c]);return[(0,ne().gy)({key:"sort",render:e=>(0,M.jsx)(oe().A,{...e}),actions:[u,...p]})]}((0,i().K8)((()=>(0,he().f)({currentUserRootStore:L().default.state.currentUserRootStore})),[])),l=(0,o().IS)((e=>({header:{display:"flex",alignItems:"center",paddingLeft:16,paddingRight:16,paddingTop:10,fontSize:12,lineHeight:"16px",fontWeight:c().Wy.semibold,color:e.text.secondary}})),[]);return(0,M.jsxs)(ie().A,{menuType:ce().gu.Popup,width:257,children:[(0,M.jsx)(re().A,{style:l.header,children:(0,M.jsx)(r().sA,{id:"secondarySidebar.workspaceFilterMenu.headerLabel",defaultMessage:"Filter"})}),(0,M.jsx)(se().A,{context:{blocks:[],environment:t,publicEditMode:void 0,analyticsFrom:"sidebar_workspace_filter_menu"},sections:a,initialFocus:-1})]})}function Ae(e){const{icon:t,spaceName:a,spaceIcon:n,checked:s,onClick:i}=e,o=(0,r().tz)();return(0,M.jsxs)(xe().Ye,{alignItems:"center",justifyContent:"center",gap:4,children:[(0,M.jsx)(fe().A,{checked:s,size:14,onClick:i,"aria-label":o.formatMessage(Me.filterWorkspace)}),t||(0,M.jsx)(ve().B,{icon:n,isEmptyPage:!1,title:a,size:22,disabled:!0})]})}function we(){const e=(0,r().tz)(),t=(0,i().K8)((()=>(0,he().f)({currentUserRootStore:L().default.state.currentUserRootStore})),[]);(0,n.useEffect)((()=>(ge().r.initializeSelectionForAllWorkspaces(t.map((e=>e.getSpaceId()))),()=>{ge().r.reset()})),[t]);const a=(0,i().K8)((()=>J().default.state.isMouseEntered),[]),s=(0,f().zg)(),o=e.formatMessage({defaultMessage:"Filter shared pages by workspace",id:"secondarySidebar.filterWorkspace.tooltip"});return(0,M.jsx)(ae().Ay,{popupType:ae().z7.Popup,renderOrigin:e=>{let{onClick:t}=e;return(0,M.jsx)(b().A,{renderTooltip:()=>o,placement:E().W.Bottom,alignment:E().C.Start,delayThreshold:0,originGap:6,render:e=>(0,M.jsx)(Q().A,{tag:g().A,animate:{opacity:a?1:0},ariaLabel:o,onClick:t,icon:pe().$,iconStyle:s.icon,style:s.button,...e})})},render:e=>(0,M.jsx)(ke,{onClick:e.close}),alignmentToOrigin:ae().yP.Start,originGap:2})}function je(e){const{type:t,titleId:a}=e,r=(0,s().v3)(),{isElectron:d,isTablet:u}=(0,s().Y0)(),p=(0,i().O$)(B().b),h=d&&!p,g=(0,i().K8)((()=>(0,_().o)(L().default.state.currentSpaceStore)),[]),b=(0,o().IS)((e=>({container:{display:"flex",flexDirection:"column"},header:{paddingTop:u?18:8,paddingLeft:16,paddingRight:10,paddingBottom:8,display:"flex",justifyContent:"space-between",alignItems:"center"},title:{display:"flex",alignItems:"center",gap:4,fontSize:u?16:14,fontWeight:c().Wy.medium},titleText:{font:"inherit",margin:0},actions:{display:"flex",alignItems:"center",gap:4},createPageButtonIcon:{fill:e.mediumIconColor}})),[u]),m=(0,n.useCallback)((()=>{"peek"===J().default.state.mode&&(0,z().VI)({environment:r})}),[r]),y=[];switch(t){case"inbox":case"activity":y.push((0,M.jsx)(ee,{type:t},"mode_toggle"),(0,M.jsx)(C().F,{},"inbox_filter"),(0,M.jsx)(j().C,{},"inbox_ellipsis"));break;case"private_pages":y.push((0,M.jsx)(ee,{type:t},"mode_toggle"),(0,M.jsx)(ue,{type:"private"},"sort"),(0,M.jsx)(I().A,{from:"sidebar_private_pane",onClick:m,iconStyle:b.createPageButtonIcon},"create_page"));break;case"shared_pages":g&&y.push((0,M.jsx)(we,{},"filter_workspace")),y.push((0,M.jsx)(ee,{type:t},"mode_toggle"),(0,M.jsx)(ue,{type:"shared"},"sort"));break;case"assistant":y.push((0,M.jsx)(ee,{type:t},"mode_toggle"),(0,M.jsx)(A,{},"add_chat"));break;case"teams":y.push((0,M.jsx)(ee,{type:t},"mode_toggle"),(0,M.jsx)(O,{},"add_team"));break;case"none":break;default:(0,l().HB)(t)}return(0,M.jsxs)("div",{className:h?w().sbV:void 0,style:b.container,children:[(0,M.jsx)(F,{type:t}),(0,M.jsxs)("div",{style:b.header,children:[(0,M.jsxs)("div",{style:b.title,children:[(0,M.jsx)(V,{}),(0,M.jsx)("h2",{style:b.titleText,id:a,children:(0,M.jsx)(Ce,{type:t})})]}),(0,M.jsx)("div",{style:b.actions,children:y})]})]})}function Ce(e){const{type:t}=e,a=(0,y().w)();switch(t){case"inbox":return(0,M.jsx)(T().R,{});case"activity":return(0,M.jsx)(r().sA,{id:"secondarySidebarHeader.title.activity",defaultMessage:"Activity"});case"private_pages":return(0,M.jsx)(r().sA,{id:"secondarySidebarHeader.title.privatePages",defaultMessage:"Private"});case"shared_pages":return(0,M.jsx)(r().sA,{id:"secondarySidebarHeader.title.sharedPages",defaultMessage:"Shared"});case"assistant":return a.showUpdatedChatHistoryTitle?(0,M.jsx)(r().sA,{id:"secondarySidebarHeader.title.assistantChatHistory",defaultMessage:"Chat history"}):(0,M.jsx)(r().sA,{id:"secondarySidebarHeader.title.assistant",defaultMessage:"Notion AI"});case"teams":return(0,M.jsx)(r().sA,{defaultMessage:"All teamspaces",id:"sidebarTeamBrowserHeader.title"});case"none":return null;default:(0,l().HB)(t)}}},564440:(e,t,a)=>{a.d(t,{A:()=>j});var n=a(242343),s=()=>a(237385),i=()=>a(803290),o=()=>a(174114),r=()=>a(653998),l=()=>a(975392),c=()=>a(76394),d=()=>a(385531),u=()=>a(360378),p=()=>a(724903),h=()=>a(729522),g=()=>a(610489),b=()=>a(636023),m=()=>a(514860),y=()=>a(271748),f=()=>a(667801),v=()=>a(48913),x=()=>a(440588),S=()=>a(370557),M=()=>a(907721),k=()=>a(141122),A=()=>a(151835),w=a(163643);const j=function(e){let{type:t}=e;const o=(0,r().tz)(),d=(0,s().v3)(),[p,g]=(0,a(152058).A)(),b=(0,n.useRef)(null),y=(0,a(381988).A)(p,b),k=(0,n.useRef)(!1),A=(0,n.useCallback)((()=>function(e){I({isResizing:!1},e)}(t)),[t]),j=(0,n.useCallback)((()=>function(e,t,a,n){a.current||z(t,e);I({isResizing:!1},t)}(d,t,k)),[d,t]),P=(0,n.useCallback)((e=>function(e,t,a,n){switch(h().clear(t),n.current=!0,a){case"page":f().setWidth({width:L(e.currentX,a,t),environment:t});break;case"update":f().setUpdateWidth({width:L(e.currentX,a,t),environment:t});break;case"peek":f().setPeekWidth({width:L(e.currentX,a,t),environment:t});break;case"secondary_sidebar":m().Ay.setWidth(L(e.currentX,a,t));break;default:(0,c().HB)(a)}}(e,d,t,k)),[d,t]),O=(0,n.useCallback)((()=>function(e,t,a){u().IU({environment:e}),a.current=!1,I({...x().sidebarResizingStore.state,isResizing:!0},t)}(d,t,k)),[d,t]),{device:K}=d,U=(0,i().K8)((()=>function(e){const t=_(e);switch(e){case"page":case"secondary_sidebar":return t;case"peek":case"update":return window.innerWidth-t;default:(0,c().HB)(e)}}(t)),[t]),W=(0,i().O$)(x().sidebarMouseEnterYStore),F=(0,i().O$)(a(983965).A),D=(0,i().K8)((()=>function(e){return{cursor:"col-resize",height:"100%",width:12,marginLeft:"update"===e?-S().Ay.state.width:-6}}(t)),[t]),N=(0,i().K8)((()=>function(e,t){const a=(0,v().KB)(t),n="peek"===e;return{position:"absolute",left:n?0:void 0,right:n?void 0:0,width:0,flexGrow:0,zIndex:"peek"===e?109:1,top:a?0:-1,bottom:a?0:-1,pointerEvents:"auto"}}(t,d)),[t,d]),H=(0,i().K8)((()=>function(e){const t=_(e),a=T(e),n=C(e);if(n===a)return 0;return(t-n)/(a-n)}(t)),[t]),E=(0,n.useRef)(!1);function V(e){x().sidebarMouseEnterYStore.setState(e.clientY)}const Y=(0,n.useCallback)((()=>{I({isResizerHovered:E.current||g},t)}),[g,t]);function G(){E.current=!0,Y()}function $(){E.current=!1,Y()}(0,n.useEffect)((()=>{Y()}),[g,Y]);const X=(0,n.useCallback)((()=>{R(-10,t,d)}),[t,d]),Q=(0,n.useCallback)((()=>{R(10,t,d)}),[t,d]),Z=(0,n.useCallback)((()=>{z(t,d)}),[t,d]);return F||K.isChromebook?null:(0,w.jsx)(a(655830).A,{capture:g,debugName:"SidebarResizer",onLeft:X,onRight:Q,onUp:l().D_,onDown:l().D_,onTab:l().D_,onUntab:l().D_,onEnter:Z,children:(0,w.jsx)(a(103151).A,{renderTooltip:()=>(0,w.jsx)(B,{type:t}),originRect:new DOMRect(U,W,0,0),delayThreshold:0,placement:"page"===t||"secondary_sidebar"===t?M().W.Right:M().W.Left,originGap:10,render:e=>(0,w.jsx)("div",{style:N,...(0,a(906230).A)(e,{onMouseMove:G,onMouseLeave:$,onMouseEnter:V}),children:(0,w.jsx)(a(928567).A,{onDraggableDragStart:O,onDraggableDragMove:P,onDraggableDragEnd:j,onDraggableDragCancel:A,disableVerticalEdgeScroll:!0,disableHorizontalEdgeScroll:!0,render:e=>(0,w.jsx)("div",{ref:y,role:"separator",tabIndex:0,"aria-label":o.formatMessage({id:"sidebarResizer.tooltip.resizeLabel",defaultMessage:"Resize with left and right arrow keys"}),"aria-orientation":"vertical","aria-valuenow":Math.round(100*H),"aria-valuemin":0,"aria-valuemax":100,style:D,...e})})})})})};function C(e){switch(e){case"page":return x().SIDEBAR_MIN_WIDTH;case"update":return S().Iz;case"peek":return k().SIDEPEEK_MIN_WIDTH;case"secondary_sidebar":return m().WR;default:(0,c().HB)(e)}}function T(e){const t=window.innerWidth;switch(e){case"page":return 480;case"update":return Math.min(t/2,v().aL);case"peek":return(0,p().QX)();case"secondary_sidebar":return m().y8;default:(0,c().HB)(e)}}function _(e){switch(e){case"page":return x().sidebarWidthStore.state;case"secondary_sidebar":const t=x().sidebarExpandedStore.state,a=b().n5();return t?x().sidebarWidthStore.state+a:a;case"update":return S().Ay.state.width;case"peek":return k().default.state.preferredSidePeekWidth;default:(0,c().HB)(e)}}function I(e,t){switch(t){case"page":x().sidebarResizingStore.update((t=>({...t,...e})));break;case"update":S().Ay.update((t=>({...t,...e})));break;case"secondary_sidebar":y().default.update((t=>({...t,...e})));break;case"peek":break;default:(0,c().HB)(t)}}function L(e,t,a){let n;switch(t){case"page":n=e;break;case"secondary_sidebar":n=e-(x().sidebarExpandedStore.state?x().sidebarWidthStore.state:0);break;case"peek":case"update":n=window.innerWidth-e;break;default:(0,c().HB)(t)}const s=T(t),i=C(t);return n>s?s:n<i?i:n}function B(e){let{type:t}=e;const a=(0,o().DP)(),n=(0,s().v3)(),l=(0,i().K8)((()=>function(e,t){switch(e){case"page":return(0,v().KB)(t);case"update":return(0,v().Nk)(t);case"peek":return k().default.state.open;case"secondary_sidebar":return y().default.isOpen();default:(0,c().HB)(e)}}(t,n)),[t,n]),d=a.text.contrastSecondary,u=(0,w.jsx)(A().A,{name:"toggleSidebar"}),p=e=>(0,w.jsx)("span",{style:{color:d},children:e});let h;if(l)switch(t){case"secondary_sidebar":case"update":h=(0,w.jsx)(r().sA,{defaultMessage:"Close <invertedcolor>Click</invertedcolor>",id:"sidebarResizer.tooltip.closeMessage.noShortcut",values:{invertedcolor:p,keyboardShortcut:u}});break;default:h=(0,w.jsx)(r().sA,{defaultMessage:"Close <invertedcolor>Click or {keyboardShortcut}</invertedcolor>",id:"sidebarResizer.tooltip.closeMessage",values:{invertedcolor:p,keyboardShortcut:u}})}else h=(0,w.jsx)(r().sA,{defaultMessage:"Lock open <invertedcolor>Click or {keyboardShortcut}</invertedcolor>",id:"sidebarResizer.tooltip.lockMessage",values:{invertedcolor:p,keyboardShortcut:u}});return(0,w.jsxs)(w.Fragment,{children:[h?(0,w.jsxs)(w.Fragment,{children:[h,(0,w.jsx)("br",{})]}):null,(0,w.jsx)(r().sA,{defaultMessage:"Resize <invertedcolor>Drag</invertedcolor>",id:"sidebarResizer.tooltip.resizeMessage",values:{invertedcolor:p,keyboardShortcut:u}})]})}function z(e,t){switch(e){case"page":f().setExpand({environment:t,isExpanded:!x().sidebarExpandedStore.state,from:"sidebar_resizer",saveDetailsSidebarPreference:!0}),x().sidebarOpenStore.setState(!1);break;case"update":f().setUpdateExpand({environment:t,isExpanded:!(0,v().Nk)(t),from:"drag",saveDetailsSidebarPreference:!0});break;case"peek":d().VN({environment:t,from:"resizer_click"});break;case"secondary_sidebar":g().VI({environment:t});break;default:(0,c().HB)(e)}}function R(e,t,a){const n=_(t);switch(t){case"page":f().setWidth({width:L(n+e,t),environment:a});break;case"update":f().setUpdateWidth({width:L(window.innerWidth-n+e,t),environment:a});break;case"peek":f().setPeekWidth({width:L(window.innerWidth-n+e,t),environment:a});break;case"secondary_sidebar":m().Ay.setWidth(L(n+e,t));break;default:(0,c().HB)(t)}}},618946:(e,t,a)=>{a.d(t,{p:()=>o});var n=()=>a(237385),s=()=>a(803290),i=()=>a(782422);function o(){const e=(0,n().v3)();return(0,s().O$)((0,i().rp)(e))}},626902:(e,t,a)=>{a.d(t,{L:()=>s});a(242343);const n={viewBox:"0 0 20 20",svg:(0,a(163643).jsx)("path",{d:"M8.848 3.085c.34.06.567.384.507.724l-.61 3.466h3.42l.65-3.683a.625.625 0 0 1 1.23.216l-.61 3.467h2.435a.625.625 0 1 1 0 1.25h-2.655l-.52 2.95h2.435a.625.625 0 0 1 0 1.25h-2.655l-.65 3.684a.625.625 0 0 1-1.23-.217l.61-3.467h-3.42l-.65 3.684a.625.625 0 0 1-1.23-.217l.61-3.467H4.13a.625.625 0 1 1 0-1.25h2.605l.52-2.95H4.87a.625.625 0 0 1 0-1.25h2.605l.65-3.683a.625.625 0 0 1 .723-.507m2.578 8.39.52-2.95H8.523l-.52 2.95z"})},s=(0,a(680369).wt)("number",n)},851028:(e,t,a)=>{a.d(t,{R:()=>l});a(242343);var n=()=>a(803290),s=()=>a(653998),i=()=>a(76394),o=()=>a(487893),r=a(163643);function l(){const e=(0,n().K8)((()=>(0,o().dl)()),[]);switch(e){case"unread_and_read":return(0,r.jsx)(s().sA,{id:"inbox.unreadAndUnreadFilter.title",defaultMessage:"Inbox"});case"unread_only":return(0,r.jsx)(s().sA,{id:"inbox.unreadOnlyFilter.title",defaultMessage:"Unread"});case"archived_only":return(0,r.jsx)(s().sA,{id:"inbox.archivedFilter.title",defaultMessage:"Archived"});case"all_updates":return(0,r.jsx)(s().sA,{id:"inbox.allUpdatesFilter.title",defaultMessage:"All workspace updates"});default:return(0,i().HB)(e)}}},949562:(e,t,a)=>{a.d(t,{A:()=>A});a(242343);var n=()=>a(237385),s=()=>a(803290),i=()=>a(174114),o=()=>a(712437),r=()=>a(625491),l=()=>a(809226),c=()=>a(653998),d=()=>a(437071),u=()=>a(356813),p=()=>a(151835),h=()=>a(103151),g=()=>a(307542),b=()=>a(302376),m=()=>a(29869),y=()=>a(548694),f=()=>a(622286),v=()=>a(907721),x=()=>a(485966),S=()=>a(299581),M=()=>a(667801),k=a(163643);function A(e){let{from:t,onClick:a,iconStyle:A}=e;const w=(0,n().v3)(),{isTablet:j}=(0,n().Y0)(),C=(0,c().tz)(),T=(0,s().O$)(x().AppStoreCurrentSpaceStore),_=(0,s().K8)((()=>x().default.state.currentUserRootStore),[]),I=(0,s().K8)((()=>(0,y().IL)(T)),[T]),L=(0,s().K8)((()=>(0,g().i3)({environment:w,spaceStore:T,userRootStore:_})),[w,T,_]),B=(0,f().X)("sidebar_add_new_pages_to_bottom"),z=(0,i().IS)((e=>({shortcutLabel:{color:e.text.contrastSecondary},button:{width:28,height:28,marginTop:j?-15:void 0,marginRight:j?10:void 0,borderRadius:4},icon:{width:22,height:22,fill:e.text.primary,...A},iconDisabled:{opacity:.4},hovered:{background:e.sidebarItemSelectedBackground}})),[A,j]);return I?"sidebar_new_page_button"===t&&L?(0,k.jsx)(u().A,{icon:r().M,ariaLabel:C.formatMessage(M().newPageMessages.label),onClick:e=>{S().A.open()},style:z.button,iconStyle:{...z.icon,...z.iconDisabled}}):null:(0,k.jsx)(h().A,{renderTooltip:()=>(0,k.jsxs)(k.Fragment,{children:[C.formatMessage(M().newPageMessages.tooltip),w.device.isNative&&(0,k.jsx)("div",{children:(0,k.jsx)(p().A,{style:z.shortcutLabel,name:"newPage"})})]}),originGap:6,placement:v().W.Right,render:e=>(0,k.jsx)(u().A,{...e,icon:r().M,ariaLabel:C.formatMessage(M().newPageMessages.label),onClick:async e=>{if(T){const a=w.device.isElectron&&b().Vr(e),n=await M().quickAddPage({environment:w,from:t,event:e,navigateOnCreate:!a,prependPrivatePage:!B});if(a&&n){const e=(0,m().Ay)({store:n,pageVisitSource:o().y8.SidebarQuickAdd});d().openNotionUrl({makeTabActive:!0,url:e,position:"end",openInNew:a,isNewPage:!0,environment:w})}"sidebar_private_pane"===t&&l().u4({name:"page_created",args:{type:"private",from:"secondary_sidebar"}})}a&&a()},style:z.button,iconStyle:z.icon,hoveredStyle:z.hovered})})}},986571:(e,t,a)=>{a.r(t),a.d(t,{OutlinerDropdownMenuButton:()=>H,useSortActions:()=>Y});a(403517);var n=a(242343),s=()=>a(237385),i=()=>a(803290),o=()=>a(174114),r=()=>a(17127),l=()=>a(725494),c=()=>a(533666),d=()=>a(626902),u=()=>a(178063),p=()=>a(688986),h=()=>a(809226),g=()=>a(653998),b=()=>a(32901),m=()=>a(945792),y=()=>a(759625),f=()=>a(84543),v=()=>a(737682),x=()=>a(307542),S=()=>a(640979),M=()=>a(4822),k=()=>a(904697),A=()=>a(622286),w=()=>a(715768),j=()=>a(236089),C=()=>a(331516),T=()=>a(618946),_=()=>a(485966),I=()=>a(120332),L=a(163643);const B=(0,g().YK)({move:{id:"useMoveSidebarAction.title.moveSection",defaultMessage:"Move section"},moveUp:{id:"useMoveSidebarAction.option.moveUp",defaultMessage:"Move up"},moveDown:{id:"useMoveSidebarAction.option.moveDown",defaultMessage:"Move down"}});var z=()=>a(974837),R=()=>a(177086),P=()=>a(628854),O=()=>a(518397),K=()=>a(126451),U=()=>a(273520),W=()=>a(935091),F=()=>a(397791),D=()=>a(88271);const N=(0,g().YK)({manual:{id:"outlinerDropdownMenuButton.sort.manual",defaultMessage:"Manual"},lastEdited:{id:"outlinerDropdownMenuButton.sort.lastEdited",defaultMessage:"Last edited"}});function H(e){const{type:t,spaceViewStore:a}=e,i=(0,s().v3)(),r=(0,o().IS)((e=>({button:{display:"flex",alignItems:"center",justifyContent:"center",height:20,width:20,borderRadius:4}})),[]),l=(0,n.useCallback)((()=>{z().A.setState({open:!0}),m().ye(i,{outliner_type:M().BP[t]})}),[i,t]),d=(0,n.useCallback)((()=>{z().A.setState({open:!1})}),[]),u=(0,g().tz)().formatMessage({id:"outlinerDropdownMenuButton.ariaLabel",defaultMessage:"Open menu"});return(0,L.jsx)(U().Ay,{popupType:U().z7.Popup,alignmentToOrigin:U().yP.Start,renderOrigin:e=>(0,L.jsx)(K().A,{style:r.button,ariaLabel:u,...e,children:(0,L.jsx)(F().I,{icon:c().Y,size:"sm",color:i.device.isMobile?"tertiary":"secondary"})}),onClick:l,onClose:d,render:e=>(0,L.jsx)(V,{type:t,spaceViewStore:a,onClose:()=>{e.close()}}),originGap:2})}const E=(0,g().YK)({sort:{id:"outlinerDropdownMenu.sort",defaultMessage:"Sort"},truncationLimit:{id:"outlinerDropdownMenu.truncationLimit",defaultMessage:"Show"},addTeam:{id:"outlinerDropdownMenu.addTeam",defaultMessage:"New teamspace"}});function V(e){const{type:t,spaceViewStore:a,onClose:n}=e,c=(0,s().v3)(),v=(0,g().tz)(),A=(0,o().IS)((e=>({rightText:{fontSize:12,color:e.text.secondary}})),[]),z=(0,i().K8)((()=>(0,x().rY)(c)),[c]),K=(0,i().K8)((()=>(0,M().RQ)({spaceViewStore:a,type:t})),[a,t]),U=K.sortOption,F=K.truncationLimit,H="shared"===t&&z||"private"===t||"teamspaces"===t,V="private"===t||"shared"===t&&z,$=(0,i().K8)((()=>!R().l.state),[]),X=(0,i().K8)((()=>{const{currentSpaceStore:e}=_().default.state;return!!e&&(0,k().canCreateTeam)({environment:c,spaceStore:e})}),[c]),Q=$&&"teamspaces"===t&&X,Z=Y({type:t,onSelect:n,spaceViewStore:a,outlinerLocation:"sidebar"}),q=function(e){const{type:t,spaceViewStore:a,onSelect:n}=e,r=(0,s().v3)(),c=(0,o().IS)((()=>({icon:{width:16,height:16},right:{width:16}})),[]),d=(0,i().K8)((()=>(0,M().RQ)({type:t,spaceViewStore:a}).truncationLimit),[t,a]);return p().AQ.map((e=>(0,b().Ls)({key:e.toString(),displayName:void 0,analyticsName:e.toString(),validators:[],closeParentMenu:!0,action:()=>{f().createAndCommit({userAction:"OutlinerDropdownMenuButton.setTruncationLimit",environment:r,canUndo:!0,perform:n=>{const s=a.getSettingsStore().getKeyStore("sidebar_section_menu").getKeyStore("truncationLimit").getKeyStore(t);y().KY({transaction:n,store:s,value:e})}}),h().u4({name:"update_sidebar_section_option",args:{option:"show",type:t}}),m().nT(r,{outliner_type:M().BP[t],option:e}),n()},render:t=>(0,L.jsx)(C().A,{...t,title:(0,L.jsx)(G,{limit:e,withItems:!0}),right:d===e&&(0,l().checkmarkIcon)(c.icon),rightStyle:c.right})})))}({type:t,onSelect:n,spaceViewStore:a}),J=function(e){const{type:t,onSelect:a}=e,n=(0,i().O$)(_().AppStoreCurrentSpaceStore),o=(0,i().O$)(_().AppStoreCurrentSpaceViewStore),r=(0,i().K8)((()=>_().default.state.currentUserRootStore),[]),l=(0,g().tz)(),c=(0,s().v3)(),d=(0,T().p)(),u=(0,I().m)(),p=(0,i().K8)((()=>(0,x().i3)({environment:c,spaceStore:n,userRootStore:r})),[c,n,r]),h=(0,M().KP)({sidebarOrder:u,sidebarState:d,showLockedSidebar:p});if(!o)return[];const v=h.indexOf(t),S=0===v,k=v===h.length-1,A=(null==d?void 0:d.shownSidebarSectionCount)??0;return["moveUp","moveDown"].map((e=>{const n=B[e];return(0,b().Ls)({key:e,displayName:void 0,analyticsName:n.defaultMessage,validators:[()=>A>1],closeParentMenu:!0,action:n=>{let{environment:s}=n;const i=function(e){let{sidebarSection:t,selectedMoveOption:a,sidebarOrder:n,visibleSidebarOrder:s}=e;const i=[...n],o=n.indexOf(t),r=s.indexOf(t);if("moveUp"===a&&r>0){const e=s[r-1];i[n.indexOf(e)]=t,i[o]=e}if("moveDown"===a&&r<s.length-1){const e=s[r+1];i[n.indexOf(e)]=t,i[o]=e}return i}({sidebarSection:t,selectedMoveOption:e,sidebarOrder:u,visibleSidebarOrder:h});f().createAndCommit({userAction:`useMoveSidebarAction.${e}`,environment:s,canUndo:!0,perform:e=>{y().zv({store:o,data:{sidebar_order:i},transaction:e})}}),m().ub(s,{section:t,previous_order:u,new_order:i,from:"outliner_section_menu"}),a()},render:t=>{const a="moveUp"===e&&S||"moveDown"===e&&k,s="moveUp"===e?j().s:w().v;return(0,L.jsx)(C().A,{...t,disabled:a,disabledFeedback:a,title:l.formatMessage(n),svg:s})}})}))}({type:t,onSelect:n}),ee=[(0,b().uk)({key:"sort",displayName:E.sort,analyticsName:E.sort.defaultMessage,validators:[()=>V],svg:r().C,right:v.formatMessage(N[U]),rightStyle:A.rightText,subActions:()=>[(0,b().gy)({key:"sort",render:e=>(0,L.jsx)(D().A,{...e}),actions:Z})]}),(0,b().uk)({key:"truncationLimit",displayName:E.truncationLimit,analyticsName:E.truncationLimit.defaultMessage,validators:[()=>H],svg:d().L,right:(0,L.jsx)(G,{limit:F}),rightStyle:A.rightText,subActions:()=>[(0,b().gy)({key:"truncationLimit",render:e=>(0,L.jsx)(D().A,{...e}),actions:q})]}),...J],te=[(0,b().gy)({key:"all",render:e=>(0,L.jsx)(D().A,{...e}),actions:ee}),(0,b().gy)({key:"addTeam",render:e=>(0,L.jsx)(D().A,{...e}),actions:[(0,b().Ls)({key:"addTeam",displayName:E.addTeam,analyticsName:E.addTeam.defaultMessage,validators:[()=>Q],svg:u().plusIcon,closeParentMenu:!0,action:()=>{(0,P().vn)("sidebar_team_section"),n()}})]})];return(0,L.jsx)(W().A,{menuType:S().gu.Popup,minWidth:220,children:(0,L.jsx)(O().A,{context:{blocks:[],environment:c,publicEditMode:void 0},sections:te,initialFocus:void 0})})}function Y(e){const{type:t,spaceViewStore:a,onSelect:n,outlinerLocation:r}=e,c=(0,s().v3)(),d=(0,g().tz)(),{currentSpaceStore:u}=(0,i().O$)(_().default),p=c.currentUser.id,x=(0,A().X)("sidebar_add_new_pages_to_bottom"),S=(0,i().K8)((()=>(0,M().RQ)({type:t,spaceViewStore:a}).sortOption),[t,a]),k=(0,o().IS)((()=>({icon:{width:16,height:16},right:{width:16}})),[]);return["manual","lastEdited"].map((e=>{const s=N[e];return(0,b().Ls)({key:e,displayName:void 0,analyticsName:s.defaultMessage,validators:[],closeParentMenu:!0,action:async()=>{f().createAndCommit({userAction:"OutlinerDropdownMenuButton.setSortOption",environment:c,canUndo:!0,perform:n=>{const s=a.getSettingsStore().getKeyStore("sidebar_section_menu").getKeyStore("sortOption").getKeyStore(t);y().KY({transaction:n,store:s,value:e})}}),"manual"===e&&"shared"===t&&!x&&p&&u&&await v().Z({environment:c,spaceId:u.id,userId:p}),h().u4({name:"update_sidebar_section_option",args:{option:"sort",type:t}}),m().Rf(c,{outliner_type:M().BP[t],outliner_location:r,option:e}),n()},render:t=>(0,L.jsx)(C().A,{...t,title:d.formatMessage(s),right:S===e&&(0,l().checkmarkIcon)(k.icon),rightStyle:k.right})})}))}function G(e){const{limit:t,withItems:a}=e;return t===p().vw?(0,L.jsx)(g().sA,{id:"outlinerDropdownMenuButton.truncationLimit.noTruncation",defaultMessage:"All"}):a?(0,L.jsx)(g().sA,{id:"outlinerDropdownMenuButton.truncationLimit",defaultMessage:"{limit} items",values:{limit:t}}):(0,L.jsx)("span",{children:t})}}}]);