"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[46990,53638],{23082:(e,t,o)=>{o.d(t,{A:()=>r});o(242343);var n=o(163643);const r=function(){return(0,n.jsx)(o(932322).Ay,{title:(0,n.jsx)(o(966789).A,{})})}},67558:(e,t,o)=>{o.d(t,{VY:()=>a,ZJ:()=>i,u3:()=>l});var n=()=>o(496985);class r extends(()=>o(129044))().default{getInitialState(){return{popupRenderedInPage:!1,popupRenderedInPeekView:!1}}}const i=new r,l=new(n().default)((()=>!1!==i.state.popupRenderedInPage),{debugName:"AssistantWriterRenderedInPageStore"}),a=new(n().default)((()=>!1!==i.state.popupRenderedInPeekView),{debugName:"AssistantWriterRenderedInPeekViewStore"})},82954:(e,t,o)=>{o.d(t,{A:()=>O});var n=o(242343),r=()=>o(803290),i=()=>o(502852),l=()=>o(752597),a=()=>o(384221),s=()=>o(755786),c=()=>o(126451),d=()=>o(709237),u=o(163643);function p(e){const{blockStore:t,titleStyle:o,shouldWrap:r,recordTitleRef:i,disableTooltip:p}=e,m=(0,n.useRef)({getNode:()=>i.current}),f=(0,n.useCallback)((e=>{l().default.afterNextFlush((()=>{const e=t.getBlockTitleStore();if(!e)return;const o=e.getValue(),n=o?o[0][0].length:0,r={start:{index:n,store:e},end:{index:n,store:e}};a().setMultiSelection({multiSelection:r})}))}),[t]);return(0,u.jsx)(c().A,{style:{height:s().d0+2,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:5,padding:"6px 8px 7px 8px",overflow:"hidden"},onClick:f,children:(0,u.jsx)(d().A,{store:t,underline:!0,shouldWrap:r,style:o,ref:m,disableTooltip:p})})}var m=()=>o(653998),f=()=>o(975392),g=()=>o(868199),h=()=>o(477784),v=()=>o(636045);const y=(0,m().YK)({typeTitle:{defaultMessage:"Type a title...",id:"relationToken.title.placeholder"}});function S(e){const{blockStore:t,clickTitleBehavior:o,onTitleEnter:n,onTitleEsc:i}=e,l="edit"===o,a=(0,r().K8)((()=>t.getBlockTitleStore()),[t]);return(0,u.jsx)(v().A,{store:a,disabled:!l,disableSlashCommands:!0,disableEmojiCommands:!0,disableStyleAnnotations:!0,disableInsertedDeletedAnnotations:!0,disableEmbedMenu:!0,onEnter:n,onEsc:i,onTab:f().D_,placeholder:h().A.formatMessage(y.typeTitle),style:{padding:"6px 8px 7px 8px",textOverflow:"none",overflow:"visible",whiteSpace:"pre"},disableSelectAllBlocks:!0,pasteBehavior:"inline",inPageFind:g().Os.none})}var x=()=>o(237385),b=()=>o(34662),C=()=>o(448316);const k=function(e){const{store:t,style:l,disableLinks:a,disableHover:s,isAndroid:c,externalIntegrations:d,canEdit:p,shouldWrap:f,tokenFormat:g}=e,h=(0,n.useRef)(null),v=(0,m().tz)(),y=(0,x().v3)(),S=(0,o(174114).DP)(),{isExternalIntegrationPageType:k,blockType:I,blockId:R,blockModel:w}=(0,r().K8)((()=>{const e=t.getModel();return{isExternalIntegrationPageType:Boolean(null==e?void 0:e.isType(o(762847).xd.externalObjectInstancePage)),blockType:t.getType(),blockId:t.id,blockModel:e}}),[t]),M=(0,r().K8)((()=>o(284320).A.getState()),[]),T=(0,n.useCallback)((()=>{if(!h||!h.current)return;const e=(0,b().bMp)(t.id),o=(0,b().wmz)(e);return{textValue:[o],tokenIndex:0,textToken:o,node:h.current}}),[h,t.id]),j=(0,n.useCallback)((e=>{if(s)return;const o=T(),n=t.getTitleStore();n&&o&&C().xE({environment:y,event:e,interactiveToken:o,store:n,canEdit:p})}),[s,T,t,y,p]),A=(0,n.useCallback)((e=>{const o=T(),n=t.getTitleStore();n&&o&&!s&&C().HH({environment:y,event:e,interactiveToken:o,store:n,canEdit:p})}),[T,t,s,y,p]),z=t.getRecordModel,P=R,B=(0,o(441165).FN)(y),O=o(927685).A.domainBaseUrl,D=y.currentUser.id,L=!a,E=(0,r().K8)((()=>{if(w)return(0,o(123047).gA)({blockModel:w,shouldWrap:f,index:0,style:l,disableHover:s,disableLinks:a,isAndroid:c,theme:S,getRecordModel:z,currentUserId:D,baseUrl:O,emojiType:B,externalIntegrations:d,classNames:[],intl:v,emojiData:M,stopLinkPropagation:L,tokenFormat:(0,o(250786).Ug)(g)})}),[w,f,l,s,a,c,S,z,D,O,B,d,v,M,L,g]);return P?"external_object_instance_page"!==I?null:k?(0,u.jsx)("span",{ref:h,onMouseOver:j,onMouseOut:A,onClick:L?i().kV:void 0,style:{width:"100%"},children:E}):null:null};function I(e){const{blockStore:t,shouldWrap:n,style:i,disableLinks:l,format:a}=e,s=(0,r().K8)((()=>(0,o(809811).q7)(t.getSyncedUri())),[t]),c=(0,r().O$)(o(773082).A.integrations),d=(0,x().v3)();return(0,u.jsx)(k,{shouldWrap:n,store:t,style:i,disableHover:l||!s,disableLinks:l||!s,isAndroid:d.device.isAndroid,externalIntegrations:c,canEdit:!0,tokenFormat:a})}var R=()=>o(219322);function w(e){const{format:t,showRemoveButton:n,onClickRemove:r}=e,{height:i,closeIconSize:l}=R().U[t];return n?(0,u.jsx)(c().A,{onClick:r,style:{display:"flex",alignItems:"center",justifyContent:"center",width:i,height:i,marginLeft:2,marginRight:2,flexGrow:0,flexShrink:0,borderRadius:4},children:(0,o(388732).l)({width:l,height:l,opacity:.5})}):null}var M=()=>o(712437),T=()=>o(314164),j=()=>o(749975),A=()=>o(29869),z=()=>o(485966);var P=()=>o(621641),B=()=>o(205670);const O=(0,n.forwardRef)((function(e,t){const{parentStore:i,blockId:l,shouldWrap:a,format:s,showRemoveButton:c,clickTitleBehavior:d,onClickRemove:p,titleStyle:m,onTitleEnter:f,onTitleEsc:g,index:h,noUnderline:v,disableTooltip:y,disableLinks:S}=e,x=o(413871).Bv.createChildStore(i,{table:o(145017).ev,id:l}),{style:b}=(0,R().t)(e),C=(0,n.useRef)(null),k=(0,n.useRef)(null),M="peek"===d;(0,n.useImperativeHandle)(t,(()=>x),[x]);const T=(0,r().K8)((()=>"external_object_instance_page"===x.getType()),[x]);if((0,o(731991).W)(x))return null;if(T)return(0,u.jsx)(I,{shouldWrap:a,blockStore:x,style:b,disableLinks:S,format:s});const j=(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o(957881).w,{format:s,blockStore:x,clickTitleBehavior:d,shouldWrap:a}),(0,u.jsx)(L,{blockStore:x,recordTitleRef:C,clickTitleBehavior:d,shouldWrap:a,titleStyle:m,noUnderline:v,onTitleEnter:f,onTitleEsc:g,index:h,disableTooltip:y})]});return(0,u.jsxs)("div",{style:b,ref:k,children:[M?(0,u.jsx)(D,{blockStore:x,relationTokenStyle:b,children:j}):j,(0,u.jsx)(w,{showRemoveButton:c,onClickRemove:p,format:s})]})}));function D(e){let{blockStore:t,relationTokenStyle:l,children:a}=e;const{blockUrlPage:s,blockUrlPeek:c}=function(e){const t=(0,x().v3)(),o=(0,j().Ks)(),n=(0,r().K8)((()=>(0,A().Ay)({store:e,fullyQualified:!1,pageVisitSource:M().y8.LinkInPage})),[e]);return{blockUrlPeek:(0,r().K8)((()=>{const{mainEditorCurrentBlockStore:n}=z().default.state;return T().wy({environment:t,store:e,mainEditorCurrentBlockStore:n,collectionContextStore:o,fullyQualified:!1})}),[t,e,o]),blockUrlPage:n}}(t),d=(0,n.useMemo)((()=>({display:l.display,height:l.height,alignItems:l.alignItems})),[l]);return(0,u.jsx)(o(579494).A,{href:s,metaHref:c,onClick:i().kV,style:d,children:a})}function L(e){const{blockStore:t,clickTitleBehavior:n,onTitleEnter:i,onTitleEsc:l,index:a,recordTitleRef:s,titleStyle:c,shouldWrap:d,noUnderline:m,disableTooltip:f}=e,g=(0,o(248584).Sm)(t),h="edit"===n&&!g,v=function(e){return(0,r().K8)((()=>{var t;const o=B().default.state;return"editing"===o.mode&&(null===(t=(0,P().H7)(o.multiSelection))||void 0===t?void 0:t.store)===e.getBlockTitleStore()}),[e])}(t);return h?v&&i&&a?(0,u.jsx)(S,{blockStore:t,clickTitleBehavior:n,onTitleEnter:i,onTitleEsc:l}):(0,u.jsx)(p,{blockStore:t,recordTitleRef:s,titleStyle:c,shouldWrap:d,disableTooltip:f}):(0,u.jsx)(o(399631).Y,{blockStore:t,recordTitleRef:s,titleStyle:c,shouldWrap:d,noUnderline:m,disableTooltip:f})}},96144:(e,t,o)=>{o.d(t,{R:()=>r});o(242343);var n=o(163643);const r=(0,o(680369).wt)("verificationCheck",{viewBox:"0 0 6 7",svg:(0,n.jsx)("path",{d:"M2.84245 6.11619C2.71116 6.30644 2.53392 6.40156 2.31072 6.40156C2.20131 6.40156 2.10066 6.37881 2.00875 6.33332C1.92123 6.28782 1.83589 6.21545 1.75274 6.11619L0.150985 4.25515C0.0503282 4.12694 0 3.99874 0 3.87053C0 3.73406 0.04814 3.61826 0.14442 3.52314C0.245077 3.42388 0.365427 3.37425 0.50547 3.37425C0.597374 3.37425 0.680525 3.39286 0.754923 3.43008C0.833698 3.46317 0.912473 3.52934 0.991247 3.6286L2.28446 5.21049L5.00875 1.07896C5.13129 0.892857 5.28446 0.799805 5.46827 0.799805C5.60394 0.799805 5.72648 0.841161 5.83589 0.923874C5.9453 1.00659 6 1.11618 6 1.25266C6 1.32297 5.98249 1.39327 5.94748 1.46358C5.91685 1.52975 5.88184 1.59178 5.84245 1.64968L2.84245 6.11619Z"})})},105429:(e,t,o)=>{o.d(t,{m:()=>r});class n extends(()=>o(129044))().default{getInitialState(){return{type:"uninitialized"}}isWriting(){return"filling"===this.state.type&&!this.state.haveAllBlocksCompletedAutofill&&!this.state.didInterruptStreaming}setIsWriting(e){var t;const{propertySchema:n,stores:r,sessionIdForAnalytics:i}=e,l=r[0].getAssociatedCollectionId()??(null===(t=r[0].getCollectionStore())||void 0===t?void 0:t.id),a=i||o(214144).JW();return this.setState({type:"filling",propertySchema:n,collectionId:l,numBlocksToAutofill:r.length,numBlocksAutofilled:0,sessionId:a,didInterruptStreaming:!1,haveAllBlocksCompletedAutofill:!1}),a}}const r=new n},151258:(e,t,o)=>{o.d(t,{Ay:()=>m,mI:()=>u,vb:()=>p});o(242343);var n=()=>o(174114),r=()=>o(752903),i=()=>o(388732),l=()=>o(653998),a=()=>o(31448),s=()=>o(126451),c=o(163643);const d=(0,l().YK)({removeTokenLabel:{defaultMessage:"Remove {title}",id:"uiGenericToken.removeTokenLabel"},removeTokenLabelGeneric:{defaultMessage:"Remove Item",id:"uiGenericToken.removeTokenLabelGeneric"}}),u=r().NY,p={[r().NY.ExtremeSmall]:{height:12,fontSize:10,margin:"0 4px 0 0",marginEditState:"0 6px 0 0",closeIconSize:8,avatarSize:14},[r().NY.ExtraSmall]:{height:14,fontSize:12,margin:"0 6px 0 0",marginEditState:"0 6px 0 0",closeIconSize:8,avatarSize:14},[r().NY.Small]:{height:18,fontSize:12,margin:"0 6px 6px 0",marginEditState:"0 6px 6px 0",closeIconSize:8,avatarSize:16},[r().NY.CompactEssential]:{height:20,fontSize:14,margin:"0 10px 6px 0",marginEditState:"0 6px 6px 0",closeIconSize:8,avatarSize:20},[r().NY.Medium]:{height:20,fontSize:14,margin:"0 10px 6px 0",marginEditState:"0 6px 6px 0",closeIconSize:8,avatarSize:20},[r().NY.Inline]:{height:20,fontSize:14,closeIconSize:8,avatarSize:20,margin:"0 -5px 0 0",marginEditState:"0 6px 0 0"},[r().NY.Large]:{height:24,fontSize:16,margin:"0 8px 8px 0",marginEditState:"0 8px 8px 0",closeIconSize:10,avatarSize:20}};function m(e){let{avatarSize:t,format:o,isSingle:r,onClickRemove:u,renderAvatar:m,showRemoveButton:f,shouldShrink:g,style:h,title:v}=e;const y=(0,l().tz)(),{height:S,fontSize:x,margin:b,marginEditState:C,closeIconSize:k,avatarSize:I}=p[o],R=t??I,w=(0,n().IS)((()=>({root:{display:"flex",alignItems:"center",flexShrink:g?1:0,minWidth:0,height:S,borderRadius:6,fontSize:x,lineHeight:"120%",margin:r?0:f?C:b,...h}})),[x,S,r,b,C,g,f,h]);return(0,c.jsxs)("div",{style:w.root,children:[null==m?void 0:m(R),(0,c.jsx)("div",{className:"notranslate",style:{...a().RC},children:v}),f?(0,c.jsx)(s().A,{ariaLabel:void 0!==v?y.formatMessage(d.removeTokenLabel,{title:v}):y.formatMessage(d.removeTokenLabelGeneric),onClick:u,style:{display:"flex",alignItems:"center",justifyContent:"center",width:S,height:S,marginLeft:2,marginRight:2,flexGrow:0,flexShrink:0,borderRadius:6},children:(0,i().l)({width:k,height:k,opacity:.5})}):null]})}},178063:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>n,plusIcon:()=>r});o(242343);const n={viewBox:"0 0 20 20",svg:(0,o(163643).jsx)("path",{d:"M10 3.59a.66.66 0 0 1 .66.66v5.09h5.09a.66.66 0 0 1 0 1.32h-5.09v5.09a.66.66 0 0 1-1.32 0v-5.09H4.25a.66.66 0 0 1 0-1.32h5.09V4.25a.66.66 0 0 1 .66-.66"})},r=(0,o(680369).wt)("plus",n)},201562:(e,t,o)=>{o.d(t,{Q1:()=>l,cJ:()=>i,zi:()=>r});o(610931);var n=o(242343);const r=(0,n.createContext)(null);function i(){const e=(0,n.useContext)(r);if(!e)throw new Error("useFormLayoutEditorContext must be used inside FormLayoutEditorContext.Provider");return(0,n.useMemo)((()=>e),[e])}function l(){return(0,n.useContext)(r)}r.displayName="FormLayoutEditorContext"},219322:(e,t,o)=>{o.d(t,{U:()=>a,t:()=>s});var n=()=>o(174114),r=()=>o(752903),i=()=>o(31448),l=()=>o(755786);const a={[r().NY.ExtremeSmall]:{height:16,fontSize:12,margin:"0 4px 0 0",recordIconMarginRight:3,pageIconSize:13,closeIconSize:8},[r().NY.ExtraSmall]:{height:16,fontSize:12,margin:"0 4px 0 0",recordIconMarginRight:3,pageIconSize:13,closeIconSize:8},[r().NY.Small]:{height:18,fontSize:12,margin:"0 6px 6px 0",recordIconMarginRight:3,pageIconSize:16,closeIconSize:8},[r().NY.CompactEssential]:{height:20,fontSize:14,margin:"0 12px 6px 0",recordIconMarginRight:4,pageIconSize:20,closeIconSize:8},[r().NY.Medium]:{height:20,fontSize:14,margin:"0 12px 6px 0",recordIconMarginRight:4,pageIconSize:20,closeIconSize:8},[r().NY.Inline]:{height:20,fontSize:14,margin:"0 12px 0 0",recordIconMarginRight:4,pageIconSize:20,closeIconSize:8},[r().NY.Large]:{height:24,fontSize:16,margin:"0 8px 8px 0",recordIconMarginRight:4,pageIconSize:24,closeIconSize:10}};function s(e){let{format:t,shouldShrink:o,shouldWrap:s,isSingle:d,style:u,clickTitleBehavior:p}=e;const m="edit"===p;return(0,n().IS)((()=>{const{fontSize:e,margin:n}=a[t],p=m?l().d0:a[t].height;return{style:{...s?{display:"inline",lineHeight:1.5,borderRadius:4}:c({height:p}),fontSize:e,fontWeight:i().Wy.medium,minWidth:o?0:"auto",margin:d?0:n,...t===r().NY.Inline&&{overflow:"hidden"},...u}}}),[t,o,s,d,m,u])}function c(e){let{height:t}=e;return{display:"flex",alignItems:"center",lineHeight:1.2,height:t}}},224281:(e,t,o)=>{o.d(t,{Jv:()=>y,Zr:()=>S,Rl:()=>x,mA:()=>v});var n=o(242343),r=()=>o(237385),i=()=>o(803290),l=()=>o(174114),a=()=>o(564134),s=()=>o(916963),c=()=>o(88442),d=()=>o(136239),u=()=>o(622286),p=()=>o(966789),m=o(163643);function f(){const e=(0,l().DP)();return(0,m.jsx)("span",{style:{marginLeft:6,fontSize:11,padding:"1px 4px",borderRadius:4,display:"inline-flex",flexDirection:"row",alignItems:"center",gap:4,marginTop:1,color:"light"===e.mode?e.accentColors.blue[500]:e.accentColors.blue[600]},children:(0,m.jsx)(p().A,{legacySize:14})})}var g=()=>o(870896);const h=function(){return(0,m.jsx)(o(695951).A,{color:"purple",style:{marginLeft:6,padding:"1px 4px",display:"inline-flex",flexDirection:"row",alignItems:"center",gap:4,marginTop:1},content:(0,m.jsx)(o(653998).sA,{defaultMessage:"AI",id:"database.property.aiAutofillEnabledIndicator"})})};const v=n.memo((function(e){const{propertySchema:t,showIcon:n,showDragIcon:i,hideName:a,badge:s,style:c,iconStyle:u,iconSize:p,dragHandleStyle:f,className:g,labelSizeVariant:h}=e,v=(0,r().v3)(),{device:y}=v,S=y.isMobile?16:14,b=(0,l().IS)((e=>({container:{display:"flex",alignItems:"center",lineHeight:"120%",minWidth:0,fontSize:S,...c},iconWrapper:{display:"grid",justifyContent:"center",alignItems:"center",marginRight:a?void 0:"small"===h||i?4:6,...u},dragHandle:{gridColumn:1,gridRow:1,opacity:i?1:0,transition:`opacity ${d().bM}`},itemIcon:{gridColumn:1,gridRow:1,opacity:i?0:1,transition:`opacity ${d().bM}`},dragIcon:{fill:e.icon.secondary}})),[S,a,u,h,i,c]);return(0,m.jsxs)("div",{className:g,style:b.container,children:[n&&(0,m.jsxs)("div",{style:b.iconWrapper,children:[(0,m.jsx)("div",{style:b.itemIcon,children:(0,m.jsx)(x,{propertySchema:t,iconSize:p,iconStyle:u})}),(0,m.jsx)("div",{style:b.dragHandle,children:(0,m.jsx)(o(369515).A,{style:f,iconSize:12,iconStyle:b.dragIcon})})]}),!a&&(0,m.jsx)("div",{style:{...o(31448).RC},children:t.name}),s]})}));function y(e){const{propertySchema:t}=e,o=(0,r().v3)();return(0,i().K8)((()=>(0,c().O0)(o)&&a().$M(t)&&a().om(t)),[o,t])?(0,m.jsx)(h,{}):null}function S(e){let{propertyId:t,collectionContextStore:o}=e;return(0,i().K8)((()=>{var e;const n=null===(e=o.collectionStore())||void 0===e?void 0:e.id;if(!n)return!1;const r=g().d.state.collectionsProperties[n];return!!r&&"Loading"===r[t]}),[o,t])?(0,m.jsx)(f,{}):null}function x(e){const{propertySchema:t,iconSize:o,iconStyle:n}=e,{isMobile:i}=(0,r().Y0)(),a=(0,l().DP)(),c=(0,u().X)("nds_default_property_noticon"),d=i?18:16;return(0,m.jsx)(s().zB,{type:t.type,icon:t.icon,size:o||d,theme:a,style:n,isDefaultNoticonEnabled:c})}},237894:(e,t,o)=>{o.d(t,{O:()=>c});var n=o(242343),r=()=>o(237385),i=()=>o(497808),l=()=>o(273520),a=()=>o(907721),s=o(163643);function c(e){const{collectionContextStore:t,groupFormat:o,renderLinkButton:c,onAddOrLink:d,...u}=e,p=(0,r().Y0)(),m=(0,n.useCallback)((e=>(0,s.jsx)(i().l7,{collectionContextStore:t,groupFormat:o,onClose:()=>e.close(),onAddOrLink:d})),[t,o,d]);return(0,s.jsx)(l().Ay,{popupType:p.isMobile?l().z7.BottomSheet:l().z7.Popup,alignmentToOrigin:a().C.Start,disableFlippingPlacement:!0,...u,renderOrigin:c,render:m})}},263696:(e,t,o)=>{o.d(t,{MobileCalendarDayMenu:()=>oe});o(403517);var n=()=>o(486826),r=o(242343),i=()=>o(237385),l=()=>o(803290),a=()=>o(174114),s=()=>o(129044),c=()=>o(712437),d=()=>o(871002),u=()=>o(846581),p=()=>o(16456),m=()=>o(427091),f=()=>o(740520),g=()=>o(377963),h=()=>o(855470),v=()=>o(145017),y=()=>o(653998),S=()=>o(975392),x=()=>o(102659),b=()=>o(865226),C=()=>o(84543),k=()=>o(237894),I=()=>o(585958),R=()=>o(314164),w=()=>o(276647),M=()=>o(535906),T=()=>o(356813),j=()=>o(935091),A=()=>o(975515),z=()=>o(743668),P=()=>o(397791),B=()=>o(88271),O=()=>o(23082),D=()=>o(282131),L=()=>o(73631),E=()=>o(29869),_=()=>o(640979),V=()=>o(129978);class W extends s().default{getInitialState(){return{}}}const N=W;var F=()=>o(413871),U=()=>o(898719),K=()=>o(865011),G=(o(725707),o(491955),o(500234),()=>o(387013)),H=()=>o(933396),Y=()=>o(213517),Z=()=>o(477784),Q=()=>o(485966),q=()=>o(836331),$=o(163643);const J=function(e){let{time:t,store:n,format:i,schema:s,blockPropertyValueOverlayStore:d,collectionStore:u}=e;const p=(0,a().DP)(),m=(0,l().K8)((()=>n.getIcon()),[n]),f=(0,l().K8)((()=>Boolean(n.getIcon())||!n.isEmptyPage()),[n]),g=(0,l().K8)((()=>n.hasError()),[n]),h=(0,l().K8)((()=>n.isEmptyPage()),[n]),v=(0,l().K8)((()=>(0,E().Ay)({store:n,fullyQualified:!1,pageVisitSource:c().y8.LinkInPage})),[n]),y=(0,l().K8)((()=>o(360482).oC(n,{recursivelyLoadAllDiscussions:!1})),[n]),S=(0,l().K8)((()=>{var e;return(null==i?void 0:i.table_wrap)||!0===(null==i||null===(e=i.calendar_properties)||void 0===e||null===(e=e.find((e=>"title"===(null==e?void 0:e.property))))||void 0===e?void 0:e.wrap)}),[null==i?void 0:i.calendar_properties,null==i?void 0:i.table_wrap]);return(0,$.jsx)(o(579494).A,{href:v,children:(0,$.jsx)(M().A,{focused:!1,title:(0,$.jsxs)(r.Fragment,{children:[t&&(0,$.jsx)("div",{style:{display:"flex",color:p.text.secondary,fontSize:14,marginTop:8,marginBottom:6},children:t}),(0,$.jsxs)("div",{style:{display:"flex",alignItems:"center",...t&&{marginBottom:8}},children:[f&&!g&&(0,$.jsx)(o(28210).B,{disabled:!0,icon:m,isEmptyPage:h,size:24,style:{flexShrink:0,marginRight:8,alignSelf:"baseline"}}),g&&(0,o(723361).Q)({marginLeft:2,marginRight:10,width:20,fill:p.accentColors.orange[500]}),(0,$.jsx)(o(709237).A,{store:n,style:{fontWeight:o(31448).Wy.semibold,whiteSpace:S?"pre-wrap":void 0}}),y>0&&(0,$.jsxs)("div",{style:{display:"flex",alignItems:"center",color:p.text.secondary,fontSize:12,marginLeft:4,flexShrink:0,alignSelf:"baseline"},children:[(0,o(850525).M)({width:12,height:12,marginRight:4,fill:p.mediumIconColor}),y]})]})]}),caption:(0,$.jsx)(ee,{format:i,schema:s,store:n,blockPropertyValueOverlayStore:d,collectionStore:u})})})};function X(e){let{property:t,schema:o,store:n,blockPropertyValueOverlayStore:r,collectionStore:i}=e;return o[t]?(0,$.jsx)(H().BlockPropertyRouter,{store:n,property:t,disabled:!0,locked:!1,format:"calendar",tableWrap:!1,blockPropertyValueOverlayStore:r,collectionStore:i},t):null}function ee(e){let{format:t,schema:o,store:n,blockPropertyValueOverlayStore:r,collectionStore:i}=e;const{value:a}=(0,V().fJ)(L().T.formulas),s=(0,l().K8)((()=>(t.calendar_properties?t.calendar_properties.filter((e=>e.visible)).map((e=>e.property)):[]).filter((e=>{var t;return(0,G().T)({block:n.getModel(),property:e,schema:o,getRecordModel:n.getRecordModel,userId:null===(t=Q().default.state.currentUserStore)||void 0===t?void 0:t.id,userTimeZone:(0,m().P)(),intl:Z().A.getIntl(),experimentService:q().default,collectionFeatureGates:(0,Y().i)(),formulasModule:a})}))),[t.calendar_properties,o,n,a]);return s.length>0?(0,$.jsx)("div",{style:{marginTop:8},children:s.map((e=>(0,$.jsx)(X,{property:e,schema:o,store:n,blockPropertyValueOverlayStore:r,collectionStore:i},e)))}):null}const te=s().default.createClass(void 0,{name:"ResultStore"});function oe(e){const{collectionContextStore:t,initialStartOfDay:o,calendarBy:n,disabled:i,onDismiss:a,blockPropertyValueOverlayStore:s,schema:c,format:d}=e,u=(0,l().uB)(void 0,te),p=(0,l().uB)(void 0,N),m=(0,l().K8)((()=>(0,K().Sn)({collectionContextStore:t,startOfDay:ie(o,p).valueOf()})),[t,o,p]),f=(0,r.useCallback)((()=>(0,$.jsx)(ae,{collectionContextStore:t,calendarBy:n,initialStartOfDay:o,disabled:i,onDismiss:a,blockPropertyValueOverlayStore:s,schema:c,format:d,store:p,resultStore:u})),[t,n,o,i,a,s,c,d,p,u]);return m?(0,$.jsx)(I().A,{id:"calendar_day_results",reducer:m,collectionContextStore:t,render:f,resultStore:u}):null}function ne(e){let{item:t,currentStartOfDay:o,currentEndOfDay:n,schema:r,calendarBy:i,intl:l}=e;const a=r[i];if(!a||"date"!==a.type)return;const s=a.date_format||d().vz,c=a.time_format||d().CE,f=t.start,g=t.end,h=Boolean(!(o<=f&&f<=n)||g&&!(o<=g&&g<=n));if(t.end){const e=p().NC(t.start.valueOf(),t.end?t.end.valueOf():t.start.valueOf(),t.timeZone??(0,m().P)());return h?(0,u().ZF)({value:e,date_format:s,time_format:c,userTimeZone:t.timeZone,allowRelativeDates:!0,intl:l}):(0,u().sH)({start_time:e.start_time,end_time:e.end_time,time_format:c,humanReadable:!0,intl:l})}return(0,u().fU)({start_time:p().KQ(t.start.valueOf(),t.timeZone??(0,m().P)()).start_time,time_format:c,humanReadable:!0,intl:l})}function re(e){let{blockStore:t,item:o,currentStartOfDay:n,currentEndOfDay:r,disabled:i,blockPropertyValueOverlayStore:a,collectionContextStore:s,schema:c,calendarBy:d,format:u}=e;const p=(0,y().tz)(),m=(0,l().K8)((()=>s.collectionStore()),[s]);return m?(0,$.jsx)(J,{store:t,time:o.includeTime?ne({schema:c,calendarBy:d,intl:p,item:o,currentStartOfDay:n,currentEndOfDay:r}):void 0,disabled:i,format:u,schema:c,blockPropertyValueOverlayStore:a,collectionStore:m},o.id):null}function ie(e,t){const{currentStartOfDay:o}=t.state;return o?n().c9.fromMillis(o):n().c9.fromMillis(e)}function le(e,t,o,n,r,i){const l=ie(n,r),a=C().createAndCommit({userAction:"MobileCalendarDayMenu.newStore",environment:e,canUndo:!0,perform:n=>{const r=(0,x().Q)({environment:e,collectionContextStore:t,groupsPointer:[],insertAtIndex:0,shouldCoerce:!0,templateStore:t.defaultPageTemplateStore.state,transaction:n,from:{createBlock:"mobile_calendar_day_menu"},inMemoryRecordCache:e.defaultRecordCache.inMemoryRecordCache});if(r)return U().D5({type:"timestamp",environment:e,store:r.newStore,propertyId:o,timestampMs:l.valueOf(),transaction:n}),r.newStore}});if(!a.performResult)return;!function(e,t,o){o?o(e):b().oo({environment:t,url:e})}((0,E().Ay)({store:a.performResult,pageVisitSource:c().y8.Create}),e,i)}function ae(e){let{collectionContextStore:t,calendarBy:o,initialStartOfDay:n,disabled:s,onDismiss:c,blockPropertyValueOverlayStore:d,schema:p,format:m,store:x,resultStore:b}=e;const C=(0,i().v3)(),I=(0,y().tz)(),{value:E}=(0,V().fJ)(L().T.formulas),W=(0,r.useContext)(D().n),N=(0,l().K8)((()=>t.collectionStore()),[t]),G=(0,l().K8)((()=>ie(n,x)),[n,x]),H=G.endOf("day"),Y=(0,r.useCallback)((()=>le(C,t,o,n,x,W)),[C,t,o,n,x,W]),Z=(0,r.useCallback)(((e,t)=>{U().D5({type:"timestamp",environment:C,store:t,propertyId:o,timestampMs:G.valueOf(),transaction:e})}),[o,G,C]),Q=(0,r.useCallback)((()=>function(e,t){const o=ie(e,t);t.setState({...t.state,currentStartOfDay:o.plus({day:1}).valueOf()})}(n,x)),[n,x]),q=(0,r.useCallback)((()=>function(e,t){const o=ie(e,t);t.setState({...t.state,currentStartOfDay:o.minus({day:1}).valueOf()})}(n,x)),[n,x]),J=(0,l().K8)((()=>function(e,t,o,n,r){const i=t.collectionStore();if(!i)return;const l=n.state,a=t.normalizedQueryStore.state,s=t.normalizedSchemaStore.state,c=a?a.calendar_by:void 0;if(!(l&&a&&c&&s))return;const d=new Map,u=new Map;let p=S().oE(l.blockIds.map((t=>{const n=F().Bv.createChildStore(i,{id:t,table:v().ev});return(0,K().S4)({blockStore:n,calendarBy:c,schema:s,getRecordValue:i.getRecordValue,userId:e.currentUser.id,intl:o,resultCache:d,regExpCache:u,formulasModule:r})})));return a.sort||(p=S().Ul(p,(e=>e.start))),p}(C,t,I,b,E)),[C,t,I,b,E]),X=(0,l().K8)((()=>R().fG({collectionContextStore:t,environment:C,intl:I})),[t,C,I]),ee=(0,a().IS)((e=>({headerStyle:{display:"flex",alignItems:"center",height:"100%"},linkExistingButton:{color:e.text.secondary,fill:e.text.secondary}})),[]);return N?(0,$.jsxs)(j().A,{menuType:_().gu.Modal,title:(0,$.jsxs)("div",{style:ee.headerStyle,children:[(0,$.jsx)(T().A,{onClick:q,icon:g().I,style:{marginRight:8,marginTop:2},mobileFeedback:!0}),(0,$.jsx)("div",{children:(0,u().eV)({value:G,preset:"month_day_long"})}),(0,$.jsx)(T().A,{onClick:Q,icon:h().V,style:{marginLeft:8,marginTop:2},mobileFeedback:!0})]}),right:(0,$.jsx)(z().DoneMenuText,{}),onClickRight:c,children:[!J&&(0,$.jsx)(B().A,{children:(0,$.jsx)(O().A,{})}),J&&0===J.length&&(0,$.jsx)(B().A,{children:(0,$.jsx)(A().A,{title:(0,$.jsx)(y().sA,{defaultMessage:"No items",id:"mobileCalendarDayMenu.noResults.message"})})}),J&&J.length>0&&(0,$.jsx)(B().A,{children:J.map((e=>{const n=F().Bv.createChildStore(N,{id:e.id,table:v().ev});return(0,$.jsx)(re,{disabled:s,blockPropertyValueOverlayStore:d,collectionContextStore:t,schema:p,calendarBy:o,format:m,blockStore:n,item:e,currentStartOfDay:G,currentEndOfDay:H},e.id)}))}),!s&&(0,$.jsxs)(B().A,{topBorder:!0,children:[(0,$.jsx)(w().o,{focused:!1,color:"secondary",onClick:Y,title:(0,$.jsx)(y().sA,{defaultMessage:"New item",id:"mobileCalendarDayMenu.newItemButton.label"})}),X&&(0,$.jsx)(k().O,{collectionContextStore:t,renderLinkButton:e=>(0,$.jsx)(M().A,{...e,focused:!1,title:(0,$.jsx)(y().sA,{id:"mobileCalendarDayMenu.linkExistingButton.label",defaultMessage:"Link existing"}),icon:(0,$.jsx)(P().I,{icon:f().arrowDiagonalUpRightIcon}),style:ee.linkExistingButton}),onAddOrLink:Z})]})]}):null}},265516:(e,t,o)=>{o.d(t,{Q:()=>n,a:()=>r});let n=function(e){return e[e.Left=0]="Left",e[e.Right=1]="Right",e}({});class r extends(()=>o(129044))().default{getInitialState(){return{dayStoreMap:new Map,isDragging:!1,startingMonth:0}}}},276647:(e,t,o)=>{o.d(t,{o:()=>i});var n=o(242343),r=o(163643);const i=n.forwardRef((function(e,t){let{color:n="primary",...i}=e;const l=(0,o(174114).IS)((e=>{const t="blue"===n?o(220413).Ay.blue:"secondary"===n?e.text.secondary:e.text.primary;return{title:{color:t,fill:t},buttonMenuItem:{...i.style,...i.disabled?{cursor:"not-allowed"}:{}}}}),[i.disabled,n,i.style]);return(0,r.jsx)(o(535906).A,{ref:t,...i,title:(0,r.jsx)("div",{style:l.title,children:i.title}),icon:(0,r.jsx)(o(397791).I,{icon:o(178063).plusIcon,style:{fill:n}}),style:l.buttonMenuItem})}))},303330:(e,t,o)=>{o.d(t,{FG:()=>v,Is:()=>h,Ix:()=>y,jD:()=>S,lF:()=>g});o(362833),o(725707),o(491955),o(500234),o(403517);var n=()=>o(15552),r=()=>o(769884),i=()=>o(314058),l=()=>o(728373),a=()=>o(76394),s=()=>o(84543),c=()=>o(213517),d=()=>o(113805),u=()=>o(933871),p=()=>o(130081),m=()=>o(836331),f=()=>o(332724);function g(e){const{environment:t,layoutStore:o,currentQuestionModule:n,area:r,property:i,filterValue:a,setModuleSelection:c,sessionId:u}=e;s().createAndCommit({userAction:"FormSelectProperty.handleAddConditionalLogic",environment:t,canUndo:!0,perform:e=>{if(!o.getModel())return;const s=(0,l().Ay)(),m=(0,l().Ay)(),f=function(e){var t,o;switch(e.type){case"select":return{operator:"enum_is",value:{type:"exact",value:null===(t=e.value)||void 0===t?void 0:t.value}};case"multi_select":return{operator:"enum_contains",value:{type:"exact",value:null===(o=e.value)||void 0===o?void 0:o.value}};case"checkbox":return{operator:"checkbox_is",value:{type:"exact",value:e.value}}}}(a);(0,p().UQ)({environment:t,transaction:e,layoutStore:o,position:{area:r,moduleId:n.id},updatedModule:{...n,conditionalGroups:[...n.conditionalGroups??[],{id:s,trigger:{property:i,filter:f},children:[]}]}});const g={id:m,type:"placeholder",parentModuleId:n.id,parentConditionalGroupId:s};(0,d().UQ)({environment:t,transaction:e,layoutStore:o,position:{type:"absolute",area:"form_conditional_modules",parentConditionalGroupId:s,parentModuleId:n.id},module:g,sessionId:u,isPropertyCreation:!1}),c&&c({type:"existing_module",moduleId:m,isDragging:!1})}})}function h(e){var t;const{environment:o,layoutStore:n,module:r,conditionalGroupId:l,newValue:a}=e,c=(0,i().A)(r.id,n.getModules()),d={...r,conditionalGroups:null===(t=r.conditionalGroups)||void 0===t?void 0:t.map((e=>e.id===l?{...e,trigger:{...e.trigger,filter:a}}:e))};s().createAndCommit({userAction:"FormConditionalLogicModuleRenderer.updateTriggerFilter",environment:o,canUndo:!0,perform:e=>{(0,p().UQ)({environment:o,transaction:e,layoutStore:n,position:{area:c.area,moduleId:r.id},updatedModule:d})}})}function v(e){const{environment:t,parentModule:o,groupId:n,layoutStore:i,collectionContextStore:l,isCollectionEmpty:a,sessionId:c}=e,d=i.getModules().form_conditional_modules??{};s().createAndCommit({userAction:"FormConditionalLogicModuleRenderer.deleteConditionalGroup",environment:t,canUndo:!0,perform:e=>{var u,m;const g=null==i?void 0:i.getModel();if(!i||!g)return;const h=null===(u=o.conditionalGroups)||void 0===u?void 0:u.filter((e=>e.id!==n)),v=null===(m=o.conditionalGroups)||void 0===m?void 0:m.find((e=>e.id===n));if(void 0!==v){for(const o of v.children??[]){const n=d[o];n&&("placeholder"!==n.type?(0,f().B)({environment:t,module:n,sessionId:c,transaction:e,layoutStore:i,collectionContextStore:l,collectionSettingsStore:l.settingsStore,isCollectionEmpty:a,area:"form_conditional_modules",updateParentModule:!1}):s().applyOperation({transaction:e,store:i,operation:r().N4X.deleteModuleInArea({pointer:i.pointer,area:"form_conditional_modules",moduleId:o})}))}(0,p().UQ)({environment:t,transaction:e,layoutStore:i,position:{area:Object.keys(d).includes(o.id)?"form_conditional_modules":"form_layout_schema",moduleId:o.id},updatedModule:{...o,conditionalGroups:h}})}}})}function y(e){const{environment:t,layoutStore:o,formQuestionModule:n,sessionId:r}=e;s().createAndCommit({userAction:"FormConditionalLogicModuleRenderer.deleteConditionalGroup",environment:t,canUndo:!0,perform:e=>{(0,u().U)({environment:t,transaction:e,layoutStore:o,position:{area:"form_conditional_modules",moduleId:n.id}}),(0,d().UQ)({environment:t,transaction:e,layoutStore:o,position:{area:"form_layout_schema",type:"area_relative",location:"end_moveable"},module:{...n,parentModuleId:void 0,parentConditionalGroupId:void 0},sessionId:r,isPropertyCreation:!1})}})}function S(e){const{questionModulesToVisit:t,draftSubmissionPageStore:o,collectionSchema:r,nestedQuestionModules:i,intl:l}=e,s=[],d=o.getModel();if(!d)return[];for(const p of t){s.push(p);const e=p.conditionalGroups;if(e)for(const t of e){var u;const e=t.trigger;if(!(0,n().ts)({filter:e.filter,property:e.property,propertyMapping:void 0,context:{schema:r,userId:void 0,userTimeZone:"",userStartOfWeek:0,relativeVariableResult:void 0,currentPageInRelatedCollection:void 0,intl:l,collectionFeatureGates:(0,c().i)()},depth:0})({block:d,getRecordModel:o.getRecordModel,propertyMapping:void 0,resultCache:new Map,regExpCache:new Map,experimentService:m().default,formulasModule:void 0}))continue;const p=null===(u=t.children)||void 0===u?void 0:u.map((e=>{const t=i[e];if(t&&"formQuestion"===t.type)return t})).filter(a().O9);if(!p||0===p.length)continue;const f=S({questionModulesToVisit:p,draftSubmissionPageStore:o,collectionSchema:r,nestedQuestionModules:i,intl:l});s.push(...f)}}return s}},326259:(e,t,o)=>{o.d(t,{OH:()=>a,T2:()=>s,do:()=>c});var n=()=>o(871002),r=()=>o(846581),i=()=>o(16456),l=()=>o(427091);function a(e){const{dateTime:t,intl:o,shortenDateAndRange:n}=e,l=i().C6.toPersistedDate(t.valueOf());return r().ZF({value:l,allowRelativeDates:!0,intl:o,shortenDateAndRange:n,displayInUserTimezone:!0})}function s(e){const{dateTime:t,intl:o,userTimeZone:n,displayInUserTimezone:l,alwaysIncludeTimezone:a}=e,s=i().C6.toPersistedDateTime(t.valueOf(),t.zoneName);return r().ZF({value:s,allowRelativeDates:!0,intl:o,userTimeZone:n,displayInUserTimezone:l,alwaysIncludeTimezone:a})}function c(e){const{luxonRange:t,intl:o}=e,a=i().C6.toPersistedDateRange(t),s=r().ZF({value:a,allowRelativeDates:!1,shortenDateAndRange:!0,intl:o,displayInUserTimezone:!0}),c=t.end.setZone((0,l().P)()),d=r().fU({start_time:c.toFormat(n().GE),humanReadable:!1,intl:o});return o.formatMessage({id:"verification.timeRange",defaultMessage:"{formattedDateRange} at {formattedEndTime}"},{formattedDateRange:s,formattedEndTime:d})}},332724:(e,t,o)=>{o.d(t,{B:()=>m});o(610931),o(725707),o(491955);var n=()=>o(769884),r=()=>o(109046),i=()=>o(154956),l=()=>o(521325),a=()=>o(84543),s=()=>o(137476),c=()=>o(933871),d=()=>o(413871),u=()=>o(659030),p=()=>o(956070);function m(e){let{environment:t,module:o,sessionId:n,layoutStore:r,collectionSettingsStore:i,isCollectionEmpty:a,collectionContextStore:s,area:c,transaction:d,updateParentModule:u}=e;const m=s.collectionStore();if(!m)throw new Error("Could not find collection store");const g=r.getModules().form_conditional_modules??{},h=(0,p().Yg)({currentModule:o,nestedModules:g,includePlaceholders:!0}).formQuestionDescendants.filter((e=>e.id!==o.id)),v=s.normalizedSchemaStore.state;for(const l of h)f({environment:t,module:l,sessionId:n,layoutStore:r,isCollectionEmpty:a,collectionContextStore:s,collectionStore:m,area:"form_conditional_modules",transaction:d,schema:v,updateParentModule:!1});f({environment:t,module:o,sessionId:n,layoutStore:r,isCollectionEmpty:a,collectionContextStore:s,collectionStore:m,area:c,transaction:d,schema:v,updateParentModule:u}),l().os({collectionSettingsStore:i})}function f(e){let t,{environment:o,module:l,sessionId:p,layoutStore:m,isCollectionEmpty:f,collectionContextStore:g,collectionStore:h,area:v,transaction:y,updateParentModule:S,schema:x}=e;if("formQuestion"===l.type){var b;if(t=d().c7.createChildStore(m,{table:r().lo,id:l.formQuestionId,spaceId:m.getSpaceId()??""}).getPropertyId(),!t)return;const e=null===(b=x[t])||void 0===b?void 0:b.type;f&&e&&"title"!==e&&i().BJ({environment:o,collectionStore:h,schema:x,property:t,transaction:y}),(0,s().u4)({environment:o,event:{eventName:"delete_form_question",eventProperties:(0,u().YA)({collectionContextStore:g,propertyId:t,questionId:l.id,parentModuleId:S?l.parentModuleId:void 0,area:v,layoutStore:m})}})}S?(0,c().U)({environment:o,position:{area:v,moduleId:l.id},layoutStore:m,sessionId:p,transaction:y}):a().applyOperation({transaction:y,store:m,operation:n().N4X.deleteModuleInArea({pointer:m.pointer,area:v,moduleId:l.id})})}},333212:(e,t,o)=>{o.d(t,{Lq:()=>n,WK:()=>i,nh:()=>r});const n=40,r=48,i=60},367923:(e,t,o)=>{o.d(t,{A:()=>p});o(333225),o(494367),o(516262),o(573119),o(240480),o(950443),o(619601),o(725707),o(491955);var n=o(242343),r=()=>o(752597),i=()=>o(803290),l=()=>o(833369),a=()=>o(192048),s=()=>o(975392),c=()=>o(728373),d=()=>o(572589);function u(e){const{reducerId:t,instanceId:o,reducer:n,collectionContextStore:r,groupsPointer:i}=e,l=r.reducersStore.state,a=l[t];let c,u;if(i&&i.length>0&&(c=(0,d().Hm)(i)),n){if(u={instanceIds:s().sb([...(null==a?void 0:a.instanceIds)||[],o]),reducer:n},c){r.reducerDependencies.has(c)||r.reducerDependencies.set(c,new Set);const e=r.reducerDependencies.get(c);null==e||e.add(t)}}else{if(c){const e=r.reducerDependencies.get(c);e&&(e.delete(t),0===e.size&&r.reducerDependencies.delete(c))}const e=s().FF((null==a?void 0:a.instanceIds)||[],o);u=a&&e.length>0?{instanceIds:e,reducer:a.reducer}:void 0}s().n4(a,u)||r.reducersStore.setState({...l,[t]:u})}function p(e){const{id:t,reducer:o,collectionContextStore:d,groupsPointer:p,debounceWait:m}=e,f=(0,i().K8)((()=>p),[p],{useDeepEqual:!0}),g=(0,i().K8)((()=>o),[o],{useDeepEqual:!0}),h=(0,i().K8)((()=>d.collectionViewStore()),[d]),v=(0,i().K8)((()=>d.normalizedFormatStore.state.collection_pointer),[d.normalizedFormatStore]),y=(0,i().K8)((()=>{var e;return null==h||null===(e=h.getFormatStore())||void 0===e?void 0:e.getKeyStore("collection_view_source").getValue()}),[h]),S=(0,n.useRef)(!1),x=(0,a().O)(),[b,C]=(0,n.useReducer)(((e,t)=>s().n4(e,t)?e:t),void 0),k=(0,n.useCallback)((()=>{const e=d.localResultStore.state,o=d.remoteResultStore.state,n=e&&"reducer"===e.type?e.reducerResults[t]:void 0,r=o&&"reducer"===o.type?o.reducerResults[t]:void 0;return function(e){const{reducerId:t,localReducerResult:o,remoteReducerResult:n,collectionContextStore:r,reducer:i}=e,a=r.reducersStore.state,c=r.remoteResultStore.state,d=r.isClientModeEnabledStore.state;if(d)return o;const u=r.isCreatingNewChartCollectionStore.state,p=r.wasCreatedThisSessionStore.state;if("aggregation"===i.type){if(u&&p){return Boolean(n&&"aggregation"===n.type&&"number"===n.aggregationResult.type&&0!==n.aggregationResult.value)&&r.isCreatingNewChartCollectionStore.setState(!1),o}if(n)return n;const e=Boolean(c&&"reducer"===c.type&&s().I6(c.reducerResults,((e,t)=>{const o=a[t];return!!o&&Boolean("results"===o.reducer.type&&!o.reducer.searchQuery&&"results"===e.type&&e.hasMore&&s().n4(i.filter,o.reducer.filter))})));return e?o:n}if("groups"===i.type){if(u&&p){return Boolean(n&&"groups"===n.type&&("v2"===n.version?n.hasMore:0!==n.total))&&r.isCreatingNewChartCollectionStore.setState(!1),o}if("v2"===i.version){if(o&&"groups"!==o.type||o&&"groups"===o.type&&"v2"!==o.version)return;if(n&&"groups"!==n.type||n&&"groups"===n.type&&"v2"!==n.version)return;const e=function(e){var t;const{collectionContextStore:o,reducer:n,wasCreatedThisSession:r,localReducerResult:i,remoteReducerResult:a}=e;let s,c;n.aggregation&&(a?s=a.aggregationResults:i&&(s=i.aggregationResults));if(n.blockResults){var d;const e=Boolean(a&&a.blockResults),t=null===(d=o.collectionViewStore())||void 0===d?void 0:d.getCollectionSource(),n=(0,l().TR)(t)||(0,l().hJ)(t);if((e||r)&&!n&&i&&i.blockResults){const e=i.blockResults,t=(null==a?void 0:a.blockResults)??{},o=new Set([...Object.keys(e),...Object.keys(t)]),n={};for(const r of o){const o=e[r],i=t[r];let l=[];o?l=o.blockIds:i&&(l=i.blockIds);let a=!1;i?a=i.hasMore:o&&(a=o.hasMore),n[r]={blockIds:l,hasMore:a}}c=n}c||(c=o.forceLocalQueryCollection?null==a?void 0:a.blockResults:null==i?void 0:i.blockResults)}let u;i&&i.pinnedResults&&(u=i.pinnedResults);a&&a.pinnedResults&&(u={groupResults:a.pinnedResults.groupResults,...u,aggregationResults:a.pinnedResults.aggregationResults});const p=a?a.hasMore:Boolean(null==i?void 0:i.hasMore),m=a?a.hasMoreSubGroups:null==i?void 0:i.hasMoreSubGroups;let f=(null==i?void 0:i.results)??(null==a?void 0:a.results)??[],g=(null==i?void 0:i.subGroupResults)??(null==a?void 0:a.subGroupResults);const h=n.groupBy;a&&("relation"===h.type||"formula"===h.type&&"relation"===h.groupBy.type)&&(f=a.results);const v=null===(t=n.subGroup)||void 0===t?void 0:t.groupBy;a&&("relation"===(null==v?void 0:v.type)||"formula"===(null==v?void 0:v.type)&&"relation"===v.groupBy.type)&&(g=a.subGroupResults);o.forceLocalQueryCollection&&(f=(null==a?void 0:a.results)??(null==i?void 0:i.results)??[],g=(null==a?void 0:a.subGroupResults)??(null==i?void 0:i.subGroupResults));return{type:"groups",version:"v2",results:f,subGroupResults:g,pinnedResults:u,hasMore:p,hasMoreSubGroups:m,blockResults:c,aggregationResults:s}}({collectionContextStore:r,reducer:i,wasCreatedThisSession:p,localReducerResult:o,remoteReducerResult:n});return e}return n||o}if("results"===i.type){var m;const e=r.wasCreatedThisSessionStore.state,i=Boolean(c&&"reducer"===c.type&&c.reducerResults[t]),a=null===(m=r.collectionViewStore())||void 0===m?void 0:m.getCollectionSource(),s=(0,l().TR)(a)||(0,l().hJ)(a);if((i||e)&&!s&&o&&"results"===o.type){return{...o,hasMore:n&&"results"===n.type?n.hasMore:o.hasMore}}return n}}({reducerId:t,collectionContextStore:d,reducer:g,localReducerResult:n,remoteReducerResult:r})}),[d,g,t]),I=(0,n.useCallback)((()=>{S.current=!1,x.current||C(k())}),[k,x]),R=(0,n.useCallback)((()=>{S.current||(S.current=!0,r().default.afterNextFlush(I))}),[I]),[w]=(0,n.useState)((()=>(0,c().Ay)()));return(0,n.useEffect)((()=>{const e=m?(0,s().sg)(R,m,{leading:!0}):R;return d.remoteResultStore.addListener(R),d.localResultStore.addListener(e),()=>{d.remoteResultStore.removeListener(R),d.localResultStore.removeListener(e)}}),[d,R,m]),(0,n.useEffect)((()=>(u({reducerId:t,instanceId:w,reducer:g,collectionContextStore:d,groupsPointer:f}),()=>{u({reducerId:t,instanceId:w,reducer:void 0,collectionContextStore:d,groupsPointer:f})})),[d,h,v,y,f,g,t,w]),(0,n.useEffect)((()=>{R()}),[]),(0,n.useEffect)((()=>(d.timingTracker.mountCollectionReducerRequest(t,g.type),()=>{d.timingTracker.unmountCollectionReducerRequest(t)})),[d,t,g]),b}},377963:(e,t,o)=>{o.d(t,{I:()=>r});o(242343);var n=o(163643);const r=(0,o(680369).wt)("chevronLeft",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M3.61816 8.06445C3.61816 8.29688 3.70703 8.49512 3.8916 8.67285L9.22363 13.8887C9.36719 14.0391 9.55859 14.1143 9.77734 14.1143C10.2217 14.1143 10.5703 13.7725 10.5703 13.3213C10.5703 13.1025 10.4814 12.9043 10.3311 12.7539L5.52539 8.06445L10.3311 3.375C10.4814 3.21777 10.5703 3.01953 10.5703 2.80078C10.5703 2.35645 10.2217 2.01465 9.77734 2.01465C9.55859 2.01465 9.36719 2.08984 9.22363 2.24023L3.8916 7.45605C3.70703 7.63379 3.625 7.83203 3.61816 8.06445Z"})})},382640:(e,t,o)=>{o.d(t,{$E:()=>M,$L:()=>a,BZ:()=>d,EC:()=>f,EI:()=>x,E_:()=>w,Ed:()=>p,Fq:()=>v,Lu:()=>C,Mk:()=>m,O0:()=>R,UO:()=>T,V$:()=>I,VQ:()=>g,Xx:()=>b,Xy:()=>c,YS:()=>h,_g:()=>S,dd:()=>u,pW:()=>s,q3:()=>l,wH:()=>i});var n=()=>o(975392),r=()=>o(76394);const i=160,l=40,a=24,s=20,c=600,d=270,u=405,p=480,m=500,f=void 0,g=16,h=10,v=8,y=(o(333212).nh,{backdropFilter:"blur(48px)",WebkitBackdropFilter:"blur(48px)"}),S=4;function x(e){return{icon:e.mediumIconColor,text:e.text.secondary}}function b(e){return{width:48,height:48,fill:e.lightIconColor}}function C(e){let{theme:t,isPhone:o}=e;return o?t.personalHomeBackgroundPhone:t.surface.page}const k=1;function I(e){let{isPhone:t,theme:o}=e;return{zIndex:1,position:"relative",display:"flex",flexDirection:"column",borderRadius:12,background:o.home.tile.background,boxShadow:w({isPhone:t,theme:o}),...y}}function R(e){let{mode:t}=e;switch(t){case"dark":return 0;case"light":return k;default:return(0,r().ub)(t),0}}function w(e){let{isPhone:t,theme:o,borderOnly:r}=e;if("dark"===o.mode)return"unset";o.mode;const i=R({mode:o.mode});return(0,n().oE)([r||t?void 0:"0 12px 32px rgba(0, 0, 0, 0.02)",`0 0 0 ${i}px rgba(0, 0, 0, 0.05)`]).join(", ")}function M(e){return{display:"flex",flexDirection:"column",width:"100%",gap:24}}function T(e){const{isPhone:t,theme:o,borderOnly:n}=e;return{unhoveredBoxShadow:w({isPhone:t,theme:o,borderOnly:n}),hoveredBoxShadow:"light"===o.mode?["0 12px 32px rgba(0, 0, 0, 0.03)","0 0 0 1px rgba(0, 0, 0, 0.085)"].join(", "):o.homeShadow.card.hovered}}},387013:(e,t,o)=>{o.d(t,{T:()=>r});var n=()=>o(716605);function r(e){const{block:t,property:o,schema:r,getRecordModel:i,userId:l,userTimeZone:a,intl:s,experimentService:c,collectionFeatureGates:d,formulasModule:u}=e;if(!t)return!1;if("title"===o)return!1;const p=r[o];return!(!p||"checkbox"!==p.type)||(!(!p||"button"!==p.type)||(!(!p||"status"!==p.type)||!n().r8({property:o,schema:r,block:t,getRecordModel:i,userId:l,userTimeZone:a,intl:s,experimentService:c,collectionFeatureGates:d,formulasModule:u})))}},388732:(e,t,o)=>{o.d(t,{l:()=>r});o(242343);var n=o(163643);const r=(0,o(680369).wt)("closeThick",{viewBox:"0 0 8 8",svg:(0,n.jsx)("polygon",{points:"8 1.01818182 6.98181818 0 4 2.98181818 1.01818182 0 0 1.01818182 2.98181818 4 0 6.98181818 1.01818182 8 4 5.01818182 6.98181818 8 8 6.98181818 5.01818182 4"})})},399631:(e,t,o)=>{o.d(t,{Y:()=>l});var n=o(242343),r=()=>o(709237),i=o(163643);function l(e){const{blockStore:t,shouldWrap:o,titleStyle:l,recordTitleRef:a,noUnderline:s,disableTooltip:c}=e,d=(0,n.useRef)({getNode:()=>a.current});return(0,i.jsx)(r().A,{store:t,underline:!s,shouldWrap:o,style:l,ref:d,enableHover:!0,showTooltipWhenTruncated:!0,disableTooltip:c})}},415806:(e,t,o)=>{o.d(t,{Ay:()=>v,t_:()=>y,v7:()=>S});o(242343);var n=()=>o(237385),r=()=>o(803290),i=()=>o(950635),l=()=>o(752903),a=()=>o(76394),s=()=>o(413871),c=()=>o(888575),d=()=>o(951156),u=()=>o(151258),p=()=>o(732165),m=()=>o(482570),f=o(163643);function g(e){const t=(0,n().v3)(),{actor:o,format:i,hasTooltip:g,tooltipHeader:v}=e,y=(0,r().K8)((()=>{const e=o.asActor;return e&&s().sk.createUniqueRootStore(t,e.pointer)}),[o,t]);return(0,f.jsx)(u().Ay,{...e,renderAvatar:e=>{if(y)return y instanceof s().vK?i===l().NY.Inline?(0,f.jsx)(d().A,{botStore:y,size:e,style:h}):(0,f.jsx)(c().A,{botStore:y,avatarSize:e,inline:!0,style:h}):y instanceof s().LU?i===l().NY.Inline?(0,f.jsx)(m().A,{userStore:y,size:e,avatarShouldShowShadow:!0,hasTooltip:g??!0,style:h,tooltipHeader:v}):(0,f.jsx)(p().A,{userStore:y,avatarSize:e,inline:!0,hasTooltip:g,style:h,tooltipHeader:v}):void(y instanceof s().pH||(0,a().HB)(y))}})}const h={minWidth:0};g.Format=l().NY;const v=g;function y(e){const{userValue:t,...o}=e;return(0,f.jsx)(g,{actor:(0,i().MR)(t),...o})}function S(e){const{botValue:t,...o}=e;return(0,f.jsx)(g,{actor:(0,i().oC)(t),...o})}y.Format=u().mI,S.Format=u().mI},427385:(e,t,o)=>{o.d(t,{C:()=>s});o(242343);var n=()=>o(174114),r=()=>o(907721),i=()=>o(103151),l=o(163643);const a=2;function s(e){const{percentage:t,ringWidth:o,size:s,style:c,label:d}=e,u=(0,n().DP)(),p=o??3,m=s/2-p/2,f=2*Math.PI*m,g=s/2,h=e.filledColor??u.accentColors.gray[500],v=e.unfilledColor??u.accentColors.gray[100],y=e.gapColor??"transparent",S=Math.min(Math.max(t,0),100),x=S>a&&S+2*a<95&&(0,l.jsx)("circle",{r:m,cx:g,cy:g,strokeWidth:p,stroke:y,strokeLinecap:"round",strokeDasharray:`${f} ${f*(100-(S+2*a))/100}`,strokeDashoffset:""+f*(100-(S+a))/100,fill:"transparent"}),b=e=>(0,l.jsx)("div",{role:"progressbar","aria-valuenow":S,style:{height:s,width:s,...c,pointerEvents:"auto"},...e,children:(0,l.jsxs)("svg",{viewBox:`0 0 ${s} ${s}`,color:"transparent",style:{width:"100%",height:"100%",transform:"rotate(-90deg)",transformOrigin:"50% 50%"},children:[(0,l.jsx)("circle",{r:m,cx:g,cy:g,strokeWidth:p,stroke:v,strokeLinecap:"round",fill:"transparent"}),x,(0,l.jsx)("circle",{r:m,cx:g,cy:g,strokeWidth:p,stroke:h,strokeLinecap:"round",strokeDasharray:f,strokeDashoffset:f-S/100*f,fill:"transparent"}),(0,l.jsx)("text",{x:g,y:g,textAnchor:"middle",dominantBaseline:"middle",fill:u.text.secondary,fontSize:"0.75em",style:{transformOrigin:"50% 50%",transform:"rotate(90deg)"},children:d})]})});return e.tooltip?(0,l.jsx)(i().A,{placement:r().W.Top,renderTooltip:()=>e.tooltip,render:b}):b()}},497808:(e,t,o)=>{o.d(t,{DV:()=>s,W5:()=>l,l7:()=>a,y7:()=>i});var n=()=>o(129978);const r={CollectionNewViewsPopupComponent:new(n().O2)("CollectionNewViewsPopupComponent",(async()=>await Promise.all([o.e(96159),o.e(96346),o.e(36192),o.e(55373),o.e(36209),o.e(92845),o.e(71718),o.e(48486),o.e(83324),o.e(63077),o.e(41870),o.e(90966),o.e(88552),o.e(90214),o.e(74562),o.e(8184),o.e(28271),o.e(17254),o.e(78708),o.e(67435),o.e(62620)]).then(o.bind(o,464342)))),CollectionViewSelect:new(n().O2)("CollectionViewSelect",(async()=>await o.e(35756).then(o.bind(o,230274)))),CollectionLinkExistingModal:new(n().O2)("CollectionLinkExistingModal",(async()=>await Promise.all([o.e(96159),o.e(96346),o.e(36192),o.e(55373),o.e(44711),o.e(53321),o.e(90825),o.e(36209),o.e(92845),o.e(71718),o.e(48486),o.e(83324),o.e(63077),o.e(41870),o.e(90966),o.e(88552),o.e(90214),o.e(74562),o.e(8184),o.e(28271),o.e(17254),o.e(18895),o.e(78708),o.e(4422),o.e(67435),o.e(76181),o.e(72832),o.e(90280),o.e(84778),o.e(26090),o.e(12341),o.e(47864),o.e(90978),o.e(5287)]).then(o.bind(o,407049)))),ModalOverlayCollectionView:new(n().O2)("ModalOverlayCollectionView",(async()=>await Promise.all([o.e(96159),o.e(96346),o.e(36209),o.e(92845),o.e(71718),o.e(48486),o.e(83324),o.e(73361),o.e(32413)]).then(o.bind(o,532623))))},i=(0,n()._h)(r.CollectionNewViewsPopupComponent,(e=>e.CollectionNewViewsPopupComponent)),l=(0,n()._h)(r.CollectionViewSelect,(e=>e.CollectionViewSelect)),a=(0,n()._h)(r.CollectionLinkExistingModal,(e=>e.CollectionLinkExistingModal)),s=(0,n()._h)(r.ModalOverlayCollectionView,(e=>e.ModalOverlayCollectionView))},501578:(e,t,o)=>{o.d(t,{j:()=>d});var n=o(242343),r=()=>o(237385),i=()=>o(174114),l=()=>o(31448),a=()=>o(103151);var s=()=>o(907721),c=o(163643);function d(e){let{children:t,style:o,tooltipStyle:d,placement:u=s().W.Bottom}=e;const{isSafari:p}=(0,r().Y0)(),m=(0,n.useRef)(null),f=function(e){const[t,o]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{const{current:t}=e;if(!t)return void o(!1);const n="ResizeObserver"in window?new ResizeObserver((e=>{let[t]=e;o(t.target.scrollWidth>t.target.clientWidth)})):void 0;return null==n||n.observe(t),()=>null==n?void 0:n.unobserve(t)}),[]),t}(m),g=(0,i().IS)((()=>({overflowText:{...l().RC,...o}})),[o]);return(0,c.jsx)(a().A,{delayThreshold:500,placement:u,textWrap:!0,style:d,forceVisibleState:!(p||!f)&&void 0,renderTooltip:()=>f?t:void 0,render:e=>(0,c.jsx)("div",{ref:m,style:g.overflowText,...e,children:t})})}},575185:(e,t,o)=>{o.d(t,{M:()=>r});o(242343);var n=o(163643);const r=(0,o(680369).wt)("collectionInbox",{viewBox:"0 0 14 14",svg:(0,n.jsx)("path",{d:"M11.0918,0 C11.5383,0 11.9307,0.295898 12.0533,0.725586 L13.9615,7.40332 C13.9871,7.49316 14,7.58594 14,7.67871 L14,13 C14,13.5527 13.5522,14 13,14 L1,14 C0.447754,14 0,13.5527 0,13 L0,7.67871 C0,7.58594 0.0129395,7.49316 0.0384521,7.40332 L1.94666,0.725586 C2.06934,0.295898 2.46167,0 2.9082,0 L11.0918,0 Z M4.27271,1.5 C3.83728,1.5 3.45178,1.78223 3.31982,2.19727 L1.91455,6.61328 C1.70947,7.25879 2.1908,7.91699 2.86755,7.91699 L4.70837,7.91699 C4.70837,8.93652 5.16663,10.168 7,10.168 C8.83337,10.168 9.29163,8.93652 9.29163,7.91699 L11.1478,7.89355 C11.8201,7.88477 12.2927,7.22852 12.0876,6.58887 L10.681,2.19531 C10.5485,1.78125 10.1635,1.5 9.72864,1.5 L4.27271,1.5 Z"})})},585958:(e,t,o)=>{o.d(t,{A:()=>a});var n=o(242343),r=()=>o(803290),i=o(163643);function l(e){const{resultStore:t,render:l,...a}=e,s=(0,o(367923).A)(a),c=(0,r().uB)(t,o(129044).default.createClass(void 0));(0,n.useEffect)((()=>{c.setState(s);const t=e.reducer;"groups"===t.type&&"v2"===t.version&&"groups"===(null==s?void 0:s.type)&&"v2"===s.version&&e.collectionContextStore.groupsStore.setGroupBlockResults(t,s)}),[e.collectionContextStore.groupsStore,e.reducer,s,c]);const d=(0,r().K8)((()=>l?l(c):null),[l,c]);return(0,i.jsx)(i.Fragment,{children:d})}const a=n.memo(l)},668657:(e,t,o)=>{o.d(t,{q:()=>r});o(242343);var n=o(163643);const r=(0,o(680369).wt)("search",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M.281 6.438c0-.875.164-1.696.492-2.461a6.484 6.484 0 011.375-2.032A6.237 6.237 0 016.64.078 6.2 6.2 0 019.11.57c.77.328 1.447.787 2.03 1.375a6.374 6.374 0 011.368 2.032c.333.765.5 1.586.5 2.46 0 .688-.107 1.342-.32 1.961a6.28 6.28 0 01-.868 1.696l3.563 3.578c.11.104.19.226.242.367.057.14.086.29.086.445 0 .22-.05.417-.149.594a1.122 1.122 0 01-1 .57c-.156 0-.307-.028-.453-.086a1.058 1.058 0 01-.382-.25l-3.586-3.585c-.5.333-1.047.596-1.641.789a6.089 6.089 0 01-1.86.28 6.237 6.237 0 01-2.468-.491 6.4 6.4 0 01-2.024-1.367A6.509 6.509 0 01.773 8.913a6.256 6.256 0 01-.492-2.476zm1.664 0c0 .65.12 1.26.36 1.828a4.775 4.775 0 001.015 1.5c.433.427.933.763 1.5 1.007a4.548 4.548 0 001.82.368c.652 0 1.261-.123 1.829-.368a4.747 4.747 0 002.508-2.507 4.567 4.567 0 00.367-1.829c0-.645-.123-1.252-.367-1.82a4.776 4.776 0 00-1.016-1.5A4.578 4.578 0 008.469 2.11a4.567 4.567 0 00-1.828-.367c-.646 0-1.253.123-1.82.367a4.667 4.667 0 00-1.5 1.008c-.433.432-.772.932-1.016 1.5a4.633 4.633 0 00-.36 1.82z"})})},699773:(e,t,o)=>{o.d(t,{A:()=>s});var n=o(242343),r=()=>o(846581),i=()=>o(16456),l=()=>o(427091),a=o(163643);const s=function(e){const t=(0,o(653998).tz)(),s=(0,o(174114).DP)(),u=(0,o(221573).I)(),p=(0,n.useRef)(),m=(0,n.useCallback)((()=>{const t=e.value;if(!t)return;const n=i().q8(t,(0,l().P)());if(!n)return;const r=n.valueOf(),a=r-Date.now();a<0||a>o(141666).nD||p.current&&p.current.timestamp===r||(p.current&&clearTimeout(p.current.timer),p.current={timestamp:r,timer:setTimeout((()=>u("DateBox","DateBox/createReminderTimer")),a)})}),[u,e.value]),f=(0,n.useCallback)((()=>{p.current&&(clearTimeout(p.current.timer),p.current=void 0)}),[]);(0,n.useEffect)((()=>{m()}),[m]),(0,n.useEffect)((()=>()=>{f()}),[f]);const{value:g,withComma:h}=e,v=(0,o(803290).K8)((()=>g?(0,r().ZF)({value:g,date_format:e.dateFormat,time_format:e.timeFormat,userTimeZone:(0,l().P)(),allowRelativeDates:!0,intl:t,shortenDateAndRange:e.shortenDateAndRange,displayInUserTimezone:e.displayInUserTimezone,getToday:o(533975).x1}):void 0),[t,e.dateFormat,e.displayInUserTimezone,e.shortenDateAndRange,e.timeFormat,g]);if(!g)return null;const y=i().AA(g,(0,l().P)(),o(16791).locale);let S;if(g.reminder){const e=i().Zs(g,(0,l().P)());S=e?{color:s.errorText}:{color:o(220413).Ay.blue}}const x=(0,a.jsxs)(a.Fragment,{children:[v,g.reminder&&(0,o(508024).P)({display:"inline-block",width:"1em",marginLeft:6,marginRight:2,paddingBottom:4,verticalAlign:"middle"}),h?", ":null]});return e.disableTooltip?(0,a.jsx)("div",{className:e.className,style:{...e.style,...S},children:x}):(0,a.jsx)(o(103151).A,{renderTooltip:()=>(0,a.jsxs)(a.Fragment,{children:[e.tooltipHeader,(0,a.jsxs)("div",{style:d(s,e.tooltipHeader),children:[c(y.start),y.end?` → ${c(y.end)}`:""]})]}),render:t=>(0,a.jsx)("div",{className:e.className,style:{...e.style,...S},...t,children:x}),placement:e.tooltipPlacement})};function c(e){return(0,r().eV)({value:e,preset:"medium"})}function d(e,t){return t?{color:e.text.contrastSecondary}:{}}},708920:(e,t,o)=>{o.d(t,{Gj:()=>r,RN:()=>a,vZ:()=>i});o(362833),o(725707),o(107652),o(491955),o(500234);var n=()=>o(486826);function r(e){const t=n().c9.fromMillis(e.startUnixTimestampMS),o=e.endUnixTimestampMS?n().c9.fromMillis(e.endUnixTimestampMS):void 0,r=n().c9.fromMillis(e.startOfWeekUnixTimestampMS),i=n().c9.fromMillis(e.endOfWeekUnixTimestampMS),l=t.startOf("day"),a=n().c9.max(r,l),s=Math.ceil(a.diff(r,"days").get("days"));let c=1;if(o){const e=o.endOf("day"),t=n().c9.min(i,e);c=Math.ceil(t.diff(a,"days").get("days"))}return{start:t,end:o,startOfWeek:r,endOfWeek:i,startColumn:s,columnCount:c}}function i(e){const t=(e.attendees||[]).filter((e=>!e.self&&!e.resource));return e.hasParticipants&&t.length>0&&t.every((e=>"declined"===e.responseStatus))}const l={upcomingMinsThreshold:10,startingMinsThreshold:5,startedMinsThreshold:15};function a(e){const t=e.filter((e=>{var t;if(!e.conferencing)return!1;return!function(e){if("declined"===e)return!0;return!1}((null===(t=e.attendees)||void 0===t?void 0:t.find((e=>e.self)))?e.responseStatus??"accepted":"accepted")&&!e.isAllDay}));if(0===t.length)return;const{upcomingMinsThreshold:o,startingMinsThreshold:r,startedMinsThreshold:i}=l,a=[],c=[],d=[],u=[],p=[];for(const l of t){if(l.isAllDay)continue;const e=s(l),t=n().c9.now(),m=e.start.diff(t,"minutes").minutes;m>=0&&m<=o?a.push(l):-m>=r?d.push(l):-m>=i?u.push(l):e.contains(t)?c.push(l):p.push(l)}return[...a,...d,...u,...c,...p][0]}function s(e){const t=n().c9.fromISO(e.start.dateTime,{zone:e.start.timeZone}),o=n().c9.fromISO(e.end.dateTime,{zone:e.end.timeZone});return n().IX.fromDateTimes(t,o)}},731991:(e,t,o)=>{o.d(t,{W:()=>i,X:()=>r});var n=()=>o(803290);function r(e){return e.isReady()&&!e.isDefined()&&"none"!==e.getRole()}function i(e){return(0,n().K8)((()=>r(e)),[e])}},749975:(e,t,o)=>{o.d(t,{ET:()=>s,Ks:()=>c,RI:()=>a,p2:()=>l});o(610931);var n=o(242343);const r="collectionContextStore",i=(0,o(372660).C)({displayName:r,legacyContextKey:r,modernContextDefaultValue:void 0}),l=i.context,a=i.Provider;function s(){const e=n.useContext(l);if(void 0===e)throw new Error(`No context provided: ${r}`);return e}function c(){return n.useContext(l)}},762732:(e,t,o)=>{o.d(t,{V:()=>r});o(242343);var n=o(163643);const r=(0,o(680369).wt)("subItem",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.88642 2.43778C1.98215 2.3846 2.09567 2.35999 2.22362 2.35999C2.41846 2.35999 2.58374 2.42299 2.71309 2.55179C2.84789 2.67678 2.91386 2.84079 2.91386 3.03655C2.91386 3.161 2.90926 3.28545 2.90008 3.40989C2.8956 3.52687 2.89335 3.66669 2.89335 3.82952C2.89335 4.6672 2.99989 5.34012 3.20906 5.85192C3.42107 6.35987 3.76386 6.73052 4.23921 6.9683C4.72178 7.20285 5.37665 7.32288 6.20897 7.32288H10.9303L12.4002 7.41264L10.2433 5.44074L8.72396 3.8939C8.66786 3.83269 8.6225 3.76177 8.58753 3.68184L8.58532 3.67681C8.55515 3.59133 8.54022 3.50307 8.54022 3.41252C8.54022 3.22504 8.60443 3.06601 8.73414 2.94147C8.86699 2.81372 9.02934 2.74963 9.21678 2.74963C9.40179 2.74963 9.5677 2.81976 9.71223 2.95431L9.71419 2.95614L14.2523 7.49436C14.4062 7.63869 14.4871 7.81019 14.4871 8.00627C14.4871 8.20241 14.4062 8.37593 14.2528 8.52459L9.72696 13.0436C9.57465 13.191 9.40407 13.2698 9.21678 13.2698C9.03026 13.2698 8.86827 13.2086 8.73525 13.0858L8.73305 13.0838C8.60434 12.9551 8.54022 12.7943 8.54022 12.6069C8.54022 12.5163 8.55535 12.4281 8.58551 12.3426C8.61631 12.2554 8.66304 12.1796 8.72601 12.1166L10.2463 10.5689L12.3938 8.61275L10.9258 8.69663L6.14745 8.69651C4.516 8.69651 3.32454 8.32105 2.59311 7.55211C1.86303 6.77991 1.50604 5.55355 1.50604 3.89104C1.50604 3.68942 1.51062 3.50571 1.51983 3.34C1.52904 3.17413 1.54527 3.03558 1.56915 2.92552C1.58898 2.82668 1.62376 2.73465 1.67362 2.64989C1.72566 2.56142 1.79795 2.48982 1.88642 2.43778Z"})})},810813:(e,t,o)=>{o.d(t,{p:()=>i});var n=()=>o(84543),r=()=>o(702851);function i(e){const{environment:t,collectionStore:o,performTransaction:i}=e;return n().createAndCommit({userAction:"collectionViewActions.createSchemaUpdateTransaction",environment:t,canUndo:!0,perform:e=>{const n=o.getSchema(),l=i(e),a=o.getSchema();return(0,r().H)({environment:t,collectionStore:o,oldSchema:n,newSchema:a,transaction:e}),l}}).performResult}},823519:(e,t,o)=>{o.d(t,{a:()=>m});var n=o(242343),r=()=>o(174114),i=()=>o(76394),l=()=>o(31448),a=()=>o(421338),s=()=>o(152058),c=()=>o(755002),d=o(163643);function u(e){const{disabled:t,checked:o,selectorSize:n}=e,[i,l]=(0,s().A)(),a=function(e){const{checked:t,disabled:o,isFocusVisible:n,selectorSize:i}=e;return(0,r().IS)((e=>({root:{position:"absolute",display:"flex",width:15,height:15,padding:5,margin:1.5,justifyContent:"center",alignItems:"center",gap:8,flexShrink:0,borderRadius:"50%",transition:"background 100ms ease-out",...t?{boxShadow:`0 0 0 1.5px ${o?e.tint.regular:e.blueColor}`,background:o?e.tint.regular:e.blueColor}:{boxShadow:`0 0 0 1.5px ${o?e.icon.quaternary:e.stroke.input}`,background:e.surface.page},...n&&{boxShadow:e.outlineBlueInputBoxShadow}},active:{background:t?e.blueButtonPressedBackground:e.buttonHoveredBackground},input:{opacity:0,width:"small"===i?14:18,height:"small"===i?14:18,...o?{pointerEvents:"none"}:{cursor:"pointer"}}})),[t,o,n,i])}({checked:o,disabled:t,isFocusVisible:l,selectorSize:n});return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("input",{ref:i,type:"radio",style:a.input,className:"radio-button",...e}),(0,d.jsx)("span",{...(0,c().AH)("custom-radio-button",a.root,t?{}:{pseudoActive:a.active})})]})}var p=()=>o(701270);const m=n.forwardRef((function(e,t){let{additionalContent:o,description:i,isDisabled:s,isSelected:c,label:u,name:p,onChange:m,width:h="fill",selectorSize:v="normal",selectAlignXAxis:y="left",selectAlignYAxis:S="center",selectType:x="checkbox",style:b,supportText:C,value:k,colorName:I,alignAdditionalContent:R,...w}=e;const M=(0,n.useId)(),T=function(e){const{isSelected:t,isDisabled:o,selectAlignYAxis:n,alignAdditionalContent:i}=e;return(0,r().IS)((e=>{const r=t&&!o?e.blueColor:e.selectorBorderUnselected;return{container:{display:"flex",alignItems:i??"center",gap:12,userSelect:"none",padding:"9px 16px 10px 10px",borderRadius:6,border:`1px solid ${r}`,...!o&&{cursor:"pointer"}},title:{fontWeight:l().Wy.medium,fontSize:14,userSelect:"none",lineHeight:18},additionalContentWrapper:{flexShrink:0},selectorWrapper:{display:"flex",..."top"===n?{marginTop:2}:{}},rightAlignSelectorWrapper:{display:"flex"}}}),[t,o,n,i])}({isSelected:c,isDisabled:s,selectAlignYAxis:S,alignAdditionalContent:R}),j=(0,d.jsxs)(a().Y1,{direction:"horizontal",align:"top"===S?"top-left":"center-left",gap:12,width:h,children:[(0,d.jsx)("div",{style:T.selectorWrapper,children:(0,d.jsx)(g,{id:M,selectType:x,name:p,value:k,onChange:m,isSelected:c,selectorSize:v,isDisabled:s,...w})}),(0,d.jsx)(f,{colorName:I,description:i,label:u,selectorSize:v,supportText:C,isDisabled:s})]}),A=(0,d.jsxs)(a().Y1,{direction:"horizontal",align:"top"===S?"top-center":"center",gap:12,children:[(0,d.jsx)(f,{colorName:I,description:i,label:u,selectorSize:v,supportText:C,isDisabled:s}),(0,d.jsx)("div",{style:{...T.selectorWrapper,...T.rightAlignSelectorWrapper},children:(0,d.jsx)(g,{id:M,selectType:x,name:p,value:k,onChange:m,selectorSize:v,isSelected:c,isDisabled:s,...w})})]}),z=o?(0,d.jsx)("div",{style:T.additionalContentWrapper,children:o}):null;return(0,d.jsx)("label",{ref:t,style:{...T.container,...b},htmlFor:M,children:"left"===y?(0,d.jsxs)(d.Fragment,{children:[j,z]}):(0,d.jsxs)(d.Fragment,{children:[z,A]})})}));function f(e){const{description:t,label:o,supportText:n,selectorSize:r,isDisabled:l,colorName:s}=e;let c;return"large"===r?c="Page-Content/Text-Block":"normal"===r||void 0===r?c="Body-13px/Medium":"small"===r?c="Body-12px/Regular":(0,i().HB)(r),(0,d.jsxs)(a().Y1,{gap:4,children:[(0,d.jsxs)(a().Y1,{gap:2,children:[(0,d.jsx)(p().D,{styleName:c,colorName:s||(l?"quaternary":"primary"),children:o}),t?(0,d.jsx)(p().D,{styleName:"Caption-12px/Regular",colorName:l?"quaternary":"secondary",children:t}):null]}),n?(0,d.jsx)(p().D,{styleName:"Caption-12px/Medium",colorName:"tertiary",children:n}):null]})}function g(e){const{selectType:t,selectorSize:n="normal",id:l,name:a,value:s,onChange:c,isSelected:p,isDisabled:m,...f}=e,g=(0,r().IS)((()=>({checkboxWrapper:{minWidth:18,display:"flex",justifyContent:"center"}})),[]);switch(t){case"radio":return(0,d.jsx)(u,{id:l,name:a,value:s,onChange:c,checked:p,disabled:m,selectorSize:n,...f});case"checkbox":return(0,d.jsx)("div",{style:g.checkboxWrapper,children:(0,d.jsx)(o(830025).W,{id:l,name:a,value:s,onChange:c,checked:p,disabled:m,selectorSize:n,...f})});default:(0,i().HB)(t)}}},827744:(e,t,o)=>{o.d(t,{r:()=>r});o(242343);var n=o(163643);const r=(0,o(680369).wt)("pencil",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M3.926 13.307H14.11c.183 0 .34-.066.472-.199a.644.644 0 00.198-.471.652.652 0 00-.198-.479.644.644 0 00-.472-.198H5.272l-1.346 1.347zm-.704-.636l7.683-7.684-1.312-1.319-7.69 7.684-.67 1.606c-.037.1-.017.191.06.273.083.082.174.105.274.069l1.655-.63zm8.34-8.326l.738-.732c.182-.187.278-.376.287-.567.009-.192-.068-.374-.232-.547l-.267-.267c-.169-.168-.351-.246-.547-.232-.196.014-.385.11-.567.287l-.739.732 1.327 1.326z"})})},830025:(e,t,o)=>{o.d(t,{W:()=>s});o(242343);var n=()=>o(152058),r=()=>o(174114),i=()=>o(755002),l=()=>o(96144),a=o(163643);function s(e){const{selectorSize:t="normal",...o}=e,{disabled:s,checked:c}=o,[d,u]=(0,n().A)(),p=function(e){const{checked:t,disabled:o,isFocusVisible:n,selectorSize:i}=e;return(0,r().IS)((e=>({root:{position:"absolute",display:"flex",width:"large"===i?15:11,height:"large"===i?15:11,margin:1.5,justifyContent:"center",alignItems:"center",flexShrink:0,borderRadius:"large"===i?2:1,transition:"background 100ms ease-out",...t?{boxShadow:`0 0 0 1.5px ${o?e.tint.regular:e.blueColor}`,background:o?e.tint.regular:e.blueColor}:{boxShadow:`0 0 0 1.5px ${o?e.icon.quaternary:e.stroke.input}`,background:e.surface.page},...n&&{boxShadow:e.outlineBlueInputBoxShadow}},active:{background:t?e.blueButtonPressedBackground:e.buttonHoveredBackground},input:{opacity:0,width:"large"===i?18:void 0,height:"large"===i?18:void 0,...o?{pointerEvents:"none"}:{cursor:"pointer"}},icon:{color:e.text.contrastPrimary,width:"large"===i?12:10,height:"large"===i?12:10,ariaHidden:!0}})),[i,t,o,n])}({checked:c,disabled:s,selectorSize:t,isFocusVisible:u});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("input",{ref:d,type:"checkbox",style:p.input,...o}),(0,a.jsx)("span",{...(0,i().AH)(p.root,s?{}:{pseudoActive:p.active}),children:c&&(0,l().R)(p.icon)})]})}},853100:(e,t,o)=>{o.d(t,{A:()=>n});const n=(0,o(653998).YK)({inputPlaceholder:{defaultMessage:"Property name",id:"database.viewSettings.propertyTab.propertyName"},autofillOffLabel:{defaultMessage:"Off",id:"database.viewSettings.propertyTab.autofillOffLabel"},autofillOnLabel:{defaultMessage:"On",id:"database.viewSettings.propertyTab.autofillOnLabel"},keptUpToDateWithNotionAITooltip:{defaultMessage:"Auto-updated by AI",id:"database.tableHeaderCell.tooltipAiAutofillDescription"},buttonPropertyErrorTooltip:{defaultMessage:"Button property has an error",id:"database.tableHeaderCell.tooltipButtonPropertyError"}})},855470:(e,t,o)=>{o.d(t,{V:()=>r});o(242343);var n=o(163643);const r=(0,o(680369).wt)("chevronRight",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M12.375 8.06445C12.375 7.83203 12.2861 7.63379 12.1084 7.45605L6.77637 2.24023C6.62598 2.08984 6.44141 2.01465 6.22266 2.01465C5.77832 2.01465 5.42285 2.35645 5.42285 2.80078C5.42285 3.01953 5.51172 3.21777 5.66211 3.375L10.4746 8.06445L5.66211 12.7539C5.51855 12.9043 5.42285 13.1025 5.42285 13.3213C5.42285 13.7725 5.77832 14.1143 6.22266 14.1143C6.44141 14.1143 6.62598 14.0391 6.77637 13.8887L12.1084 8.67285C12.293 8.49512 12.375 8.29688 12.375 8.06445Z"})})},858580:(e,t,o)=>{o.d(t,{l:()=>m});o(242343);var n=()=>o(174114),r=()=>o(361308),i=()=>o(975392),l=()=>o(141666),a=()=>o(361837),s=()=>o(477784),c=()=>o(805886),d=()=>o(427385),u=o(163643);const p=21;function m(e){const{numberValue:t,numberFormat:o,numberPrecision:m,numberShowAs:f,shouldRenderTooltip:g,withComma:h,style:v,ringWidth:y,className:S,barHeight:x}=e,b=(0,n().DP)();if(i().yr(t)||l().pN(t))return null;const C=e.progressSize??p,k=(null==f?void 0:f.showValue)??!0,I=k&&r().ZV(t,o,s().A.getIntl(),void 0,m);let R;if("bar"===(null==f?void 0:f.type)||"ring"===(null==f?void 0:f.type)){const n=r().XK(t,f.maxValue),{filledColor:i,gapColor:l,unfilledColor:s}=function(e){let{theme:t,color:o}=e;const n="default"===o?t.selectLightGray:t.accentColors[o],r="dark"===t.mode?n[500]:n[400],i=n[50],l="dark"===t.mode?n[200]:t.selectLightGray[200];return{filledColor:r,gapColor:i,unfilledColor:l}}({theme:b,color:f.color}),p=g?a().lh({numberValue:t,numberFormat:o,numberShowAs:f}):void 0;R="bar"===f.type?(0,u.jsx)(c().z,{percentage:n,filledColor:i,gapColor:l,unfilledColor:s,height:x,style:{height:C,...e.barStyle,...k?{}:{flexBasis:"100%"}},tooltip:p}):(0,u.jsx)(d().C,{percentage:n,filledColor:i,gapColor:l,unfilledColor:s,size:C,ringWidth:y,tooltip:p})}return(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",gap:"6px 8px",...v},className:S,children:[I,R,h?", ":null]})}},865011:(e,t,o)=>{o.d(t,{S4:()=>S,Sn:()=>h,j2:()=>g,kc:()=>f,oq:()=>y});o(362833),o(333225),o(494367),o(516262),o(573119),o(240480),o(950443),o(619601),o(725707),o(491955),o(771702),o(403517);var n=()=>o(486826),r=()=>o(352613),i=()=>o(871002),l=()=>o(16456),a=()=>o(427091),s=()=>o(769884),c=()=>o(975392),d=()=>o(782422),u=()=>o(708920),p=()=>o(213517),m=()=>o(836331);(0,o(653998).YK)({week:{defaultMessage:"Week",id:"calendar.viewRanges.week"},month:{defaultMessage:"Month",id:"calendar.viewRanges.month"}});function f(e){return!1===e.isDragging}function g(e){const{collectionContextStore:t}=e,o=t.collectionViewStore();if(!o)return;const n=t.normalizedSchemaStore.state,r=o.getQuery(n);if(!r||!r.calendar_by)return;const i=t.dateRangeStartStore.state,s=t.dateRangeEndStore.state,c=(0,l().p6)(i,(0,a().P)()),d=(0,l().p6)(s,(0,a().P)());return v({calendarBy:r.calendar_by,dateRangeStartDate:c,dateRangeEndDate:d})}function h(e){const{collectionContextStore:t,startOfDay:o}=e,r=t.collectionViewStore();if(!r)return;const i=t.normalizedSchemaStore.state,s=r.getQuery(i);if(!s||!s.calendar_by)return;const c=n().c9.fromMillis(o).endOf("day").valueOf(),d=(0,l().p6)(o,(0,a().P)()),u=(0,l().p6)(c,(0,a().P)());return v({calendarBy:s.calendar_by,dateRangeStartDate:d,dateRangeEndDate:u})}function v(e){const{dateRangeStartDate:t,dateRangeEndDate:o,calendarBy:n}=e;return{type:"results",filter:{operator:"and",filters:[{property:n,filter:{operator:"date_is_on_or_after",use_end:!0,value:{type:"exact",value:t}}},{property:n,filter:{operator:"date_is_on_or_before",value:{type:"exact",value:o}}}]},limit:5e3}}function y(e){var t;const{collectionContextStore:o,results:n,getRecordValue:r,intl:s,formulasModule:p}=e,m=o.collectionViewStore(),f=o.normalizedQueryStore.state,g=o.normalizedSchemaStore.state,h=f?f.calendar_by:void 0,v=o.dateRangeStartStore.state,y=o.dateRangeEndStore.state,b=(null===(t=o.collectionViewStore())||void 0===t?void 0:t.getFormat().calendar_show_weekends)??!0,C=d().XX.state,k=(0,a().P)(),I=o.getCurrentUserId();if(!(m&&f&&h&&g))return;const R=new Map,w=new Map,M=c().oE(n.map((e=>S({blockStore:e,calendarBy:h,schema:g,getRecordValue:r,userId:I,intl:s,resultCache:R,regExpCache:w,formulasModule:p})))),T={};n.forEach(((e,t)=>{T[e.id]=t}));0===(f.sort||[]).length&&M.sort(((e,t)=>{const o=e.start.valueOf(),n=t.start.valueOf();if(o===n){return T[e.id]-T[t.id]}return o-n}));const j=b?(0,l().iB)(v,C,k):(0,l().J0)(v,C,k),A=b?(0,l().hp)(y,C,k):(0,l().EK)(y,C,k);let z=j;const P=[];do{const e=b?(0,l().hp)(z.valueOf(),C,k):(0,l().EK)(z.valueOf(),C,k),t={},o=M.filter((t=>(0,i().m6)(z.valueOf(),e.valueOf(),t.start.valueOf(),t.end?t.end.valueOf():void 0))).map((o=>{const{id:n,start:r,end:i,includeTime:l,timeZone:a}=o,{startColumn:s,columnCount:c}=(0,u().Gj)({startUnixTimestampMS:r.valueOf(),endUnixTimestampMS:i?i.valueOf():void 0,startOfWeekUnixTimestampMS:z.valueOf(),endOfWeekUnixTimestampMS:e.valueOf()}),d=x(s,c,t);return{id:n,start:r.valueOf(),end:i?i.valueOf():void 0,row:d,includeTime:l,timeZone:a}}));P.push({start:z.valueOf(),end:e.valueOf(),items:o}),z=b?(0,l().iB)(z.plus({week:1}).plus({hour:25}).valueOf(),C,k):(0,l().J0)(z.plus({week:1}).plus({hour:25}).valueOf(),C,k)}while(z<A);return P}function S(e){const{blockStore:t,calendarBy:o,schema:n,getRecordValue:i,intl:c,userId:d,resultCache:u,regExpCache:f,formulasModule:g}=e,h=t.getAssociatedCollectionStore(),v=t.getModel();if(!v)return;const y=(0,r().d2)({property:o,schema:n,block:v,getRecordModel:s().b4_.fromGetRecordValueFn(i),propertyMapping:null==h?void 0:h.getPropertyMapping(),collectionRequestContext:{userId:d,userTimeZone:(0,a().P)(),depth:0,intl:c,visitedProperties:new Set,resultCache:u,regExpCache:f,experimentService:m().default,collectionFeatureGates:(0,p().i)()},formulasModule:g}).next().value;if("date"!==(null==y?void 0:y.type))return;const S=y.value;if(!S)return;const x=(0,l().AA)(S,(0,a().P)());if(!x)return;return{id:v.id,start:x.start,end:x.end,includeTime:"datetime"===S.type||"datetimerange"===S.type,timeZone:"datetime"===S.type||"datetimerange"===S.type?S.time_zone:void 0}}function x(e,t,o){let n=0;for(;;){let r=!1;for(let i=0;i<t;i++)b(o,e+i,n)&&(r=!0);if(!r)break;n++}for(let r=0;r<t;r++)C(o,e+r,n);return n}function b(e,t,o){return Boolean(e[o]&&e[o][t])}function C(e,t,o){e[o]||(e[o]={}),e[o][t]=!0}},870896:(e,t,o)=>{o.d(t,{d:()=>r});o(725707),o(491955);class n extends(()=>o(129044))().default{getInitialState(){return{flowId:void 0,type:"connected_properties_setup",collectionsProperties:{}}}createNewFlowId(){const e=(0,o(214144).JW)();return this.setState({...this.state,flowId:e}),e}getFlowId(){return this.state.flowId?this.state.flowId:this.createNewFlowId()}addCollectionProperties(e,t){const o=this.state.collectionsProperties[e],n=o?{...o,...t}:t;this.setState({...this.state,collectionsProperties:{...this.state.collectionsProperties,[e]:n}})}removeCollectionProperties(e,t){const o=this.state.collectionsProperties[e];if(!o)return;const n=Object.fromEntries(Object.entries(o).filter((e=>{let[o]=e;return!t.has(o)})));if(0===Object.keys(n).length){const{[e]:t,...o}=this.state.collectionsProperties;this.setState({...this.state,collectionsProperties:o})}else this.setState({...this.state,collectionsProperties:{...this.state.collectionsProperties,[e]:n}})}}const r=new n;(0,o(996094).exposeDebugValue)("ConnectedPropertiesSyncStore",r)},888575:(e,t,o)=>{o.d(t,{A:()=>r});o(242343);var n=o(163643);const r=function(e){const{botStore:t,avatarSize:r,shouldShowBadge:i,style:l,inline:a}=e,s=(0,o(653998).tz)(),c=(0,o(237385).Y0)(),d=(0,o(803290).K8)((()=>null==t?void 0:t.getDisplayName(s)),[t,s]),{outerStyle:u,avatarWrapStyle:p,badgeStyle:m}=(0,o(174114).IS)((e=>({outerStyle:{display:"flex",alignItems:"center",minWidth:0,...l},avatarWrapStyle:a?{width:"none",minHeight:"none",marginRight:6}:{marginRight:6},badgeStyle:{padding:"2px 6px",borderRadius:4,color:e.text.secondary,background:e.legacyDefaultSelectColor,fontSize:c.isMobile?11:9,lineHeight:c.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em",marginLeft:8,marginTop:1}})),[l,a,c]);return(0,n.jsxs)("div",{style:u,children:[(0,n.jsx)("div",{style:p,children:(0,n.jsx)(o(951156).A,{botStore:t,size:r})}),(0,n.jsx)("div",{style:{...o(31448).RC},children:d}),i&&(0,n.jsx)("div",{style:m,children:"Bot"})]})}},951156:(e,t,o)=>{o.d(t,{A:()=>l});o(242343);var n=()=>o(803290),r=()=>o(518797),i=o(163643);const l=function(e){const{botValue:t,botStore:l,showActiveDot:a,style:s,size:c}=e,d=(0,o(653998).tz)(),u=(0,n().K8)((()=>{if(l){const e=l.getIcon();if(e)return{pointer:{table:r().GP,id:l.id,spaceId:l.getSpaceId()},icon:e}}else if(null!=t&&t.icon)return{pointer:{table:r().GP,id:t.id,spaceId:t.space_id},icon:t.icon}}),[l,t]),p=(0,n().K8)((()=>(null==l?void 0:l.getDisplayName(d))??(0,o(466003).Hg)(t)),[l,t,d]),{activeDotStyle:m}=(0,o(174114).IS)((e=>({activeDotStyle:{height:10,width:10,backgroundColor:e.accentColors.green[400],border:"2px solid white",borderRadius:"50%",position:"absolute",left:11,top:11}})),[]);return(0,i.jsxs)("div",{style:s,children:[(0,i.jsx)(o(28210).B,{icon:u,title:p,size:c||18,disabled:!0,isEmptyPage:!1,useInvertedColors:!0}),a?(0,i.jsx)("div",{style:m}):void 0]})}},957881:(e,t,o)=>{o.d(t,{w:()=>m});var n=o(242343),r=()=>o(237385),i=()=>o(803290),l=()=>o(174114),a=()=>o(791976),s=()=>o(759625),c=()=>o(84543),d=()=>o(28210),u=()=>o(219322),p=o(163643);function m(e){const{clickTitleBehavior:t,blockStore:o,format:a,shouldWrap:m}=e,g="edit"===t,h=(0,r().v3)(),[v,y,S]=(0,i().K8)((()=>[o.getIcon(),o.isEmptyPage(),o.isReady()&&"none"===o.getRole()]),[o]),{style:x}=(0,l().IS)((()=>({style:{flexShrink:0,marginRight:g?0:u().U[a].recordIconMarginRight,justifyContent:"flex-start",...m&&{display:"inline-block",verticalAlign:"text-top",marginBottom:-1}}})),[g,a,m]),b=(0,n.useCallback)((e=>{const t=o.getIconStore();t&&c().createAndCommit({userAction:"RelationToken.handleRecordIconChange",environment:h,canUndo:!0,perform:o=>{s().KY({store:t,value:e,transaction:o})}})}),[o,h]),C={icon:v,size:u().U[a].pageIconSize,isEmptyPage:y,style:x};return S?(0,p.jsx)(f,{...C}):g?(0,p.jsx)(d().B,{...C,disabled:!1,onChange:b,bucket:"public"}):(0,p.jsx)(d().B,{...C,disabled:!0})}function f(e){const t=(0,l().DP)();return(0,a().T)({...e.style,width:e.size,height:e.size,fill:t.icon.secondary,verticalAlign:"top",marginTop:1})}},981814:(e,t,o)=>{o.d(t,{j:()=>r});o(242343);var n=o(163643);const r=(0,o(680369).wt)("parentItem",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.29662 5.47368L7.33167 4.11653L6.30839 5.24265L4.22625 7.32458C4.16064 7.39019 4.0821 7.43856 3.99288 7.47024C3.90958 7.5013 3.82192 7.51646 3.73089 7.51646C3.54036 7.51646 3.37427 7.45062 3.24187 7.31823L3.23992 7.31628C3.11249 7.18353 3.04999 7.01804 3.04999 6.82921C3.04999 6.63758 3.12598 6.46746 3.2656 6.32285L3.26711 6.32129L7.4749 2.10083C7.62016 1.9509 7.79567 1.87 7.99651 1.87C8.19734 1.87 8.37284 1.95089 8.51809 2.10079L12.7355 6.32457C12.8705 6.46954 12.943 6.63917 12.943 6.82921C12.943 7.01927 12.8775 7.18502 12.7458 7.31725C12.617 7.45083 12.4522 7.51646 12.2621 7.51646C12.1706 7.51646 12.0814 7.50115 11.995 7.47068L11.9926 7.4698C11.9069 7.43769 11.8313 7.38908 11.7668 7.32458L9.6802 5.238L8.65635 4.11153L8.69652 5.47736L8.69011 9.81896C8.69011 10.5736 8.80303 11.157 9.01808 11.5793C9.2312 11.9935 9.55909 12.2887 10.0079 12.4675L10.0088 12.4678C10.4652 12.6536 11.062 12.7499 11.8051 12.7499C11.952 12.7499 12.0793 12.7478 12.1871 12.7436C12.303 12.7393 12.417 12.7372 12.5287 12.7372C12.7186 12.7372 12.8855 12.7955 13.0191 12.9179C13.1612 13.0441 13.2287 13.2138 13.2287 13.4117C13.2287 13.5394 13.2018 13.6569 13.1388 13.7556C13.0846 13.8467 13.0093 13.919 12.9157 13.9718C12.8317 14.0256 12.7415 14.0631 12.6459 14.0833C12.5373 14.1068 12.4035 14.12 12.2469 14.1243C12.0973 14.1286 11.931 14.1307 11.748 14.1307C10.2678 14.1307 9.14333 13.8104 8.40142 13.144C7.6536 12.4723 7.29657 11.3702 7.29657 9.87609L7.29662 5.47368Z"})})},993254:(e,t,o)=>{o.d(t,{T:()=>r});o(362833),o(725707),o(244387);var n=()=>o(437800);function r(e){const{environment:t,collectionStore:o,duplicate:r,droppedStores:i,transaction:l,duplicateActions:a}=e,{movedStores:s,reparentedStores:c}=i.reduce(((e,t)=>(r||t.getAssociatedCollectionId()!==(null==o?void 0:o.id)?e.reparentedStores.push(t):e.movedStores.push(t),e)),{movedStores:[],reparentedStores:[]});return[...s,...n().MS({environment:t,droppedStores:c,duplicate:r,transaction:l,resolveTemplateVariables:!1,duplicateActions:a})]}}}]);