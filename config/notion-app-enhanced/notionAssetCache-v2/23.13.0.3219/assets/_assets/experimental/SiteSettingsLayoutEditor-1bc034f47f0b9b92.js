"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[22542,25700,46204],{40642:(e,t,n)=>{n.d(t,{b:()=>o});n(242343);var i=n(163643);const o=(0,n(680369).wt)("templates",{viewBox:"0 0 20 20",svg:(0,i.jsxs)("g",{children:[(0,i.jsx)("path",{d:"M6.39733 5.67853C5.89764 5.50234 5.36002 5.40649 4.8 5.40649C2.14904 5.40649 0 7.55432 0 10.2038C0 12.8533 2.14904 15.0011 4.8 15.0011C6.52165 15.0011 8.0316 14.0952 8.87867 12.7343L5.26487 12.0975L6.39733 5.67853Z"}),(0,i.jsx)("path",{d:"M17.3126 3.66609L7.85843 2L6.19141 11.4489L10.6545 12.2354L14.3998 5.81854L16.3449 9.15116L17.3126 3.66609Z"}),(0,i.jsx)("path",{d:"M8.80078 17L14.4008 7.4054L20.0008 17H8.80078Z"})]})})},63463:(e,t,n)=>{e.exports=n.p+"edfba4a6d1ff7acd.png"},78245:(e,t,n)=>{n.d(t,{z:()=>a});n(242343);var i=()=>n(129978),o=n(163643);const r=new(i().O2)("CollectionItemCover",(async()=>{const{CollectionItemCover:e}=await n.e(79883).then(n.bind(n,824997));return{CollectionItemCover:e}})),a=(0,i()._h)(r,(e=>e.CollectionItemCover),{renderLoading:(e,t)=>{const{coverHeight:i,coverSizeFormat:r,emptyGalleryCoverStyle:a,showEmptyGalleryCover:s}=t;return s?(0,o.jsx)(n(803291).t,{coverHeight:i,coverSizeFormat:r,emptyGalleryCoverStyle:a}):null}})},82954:(e,t,n)=>{n.d(t,{A:()=>j});var i=n(242343),o=()=>n(803290),r=()=>n(502852),a=()=>n(752597),s=()=>n(384221),l=()=>n(755786),c=()=>n(126451),d=()=>n(709237),u=n(163643);function m(e){const{blockStore:t,titleStyle:n,shouldWrap:o,recordTitleRef:r,disableTooltip:m}=e,p=(0,i.useRef)({getNode:()=>r.current}),g=(0,i.useCallback)((e=>{a().default.afterNextFlush((()=>{const e=t.getBlockTitleStore();if(!e)return;const n=e.getValue(),i=n?n[0][0].length:0,o={start:{index:i,store:e},end:{index:i,store:e}};s().setMultiSelection({multiSelection:o})}))}),[t]);return(0,u.jsx)(c().A,{style:{height:l().d0+2,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:5,padding:"6px 8px 7px 8px",overflow:"hidden"},onClick:g,children:(0,u.jsx)(d().A,{store:t,underline:!0,shouldWrap:o,style:n,ref:p,disableTooltip:m})})}var p=()=>n(653998),g=()=>n(975392),v=()=>n(868199),f=()=>n(477784),h=()=>n(636045);const y=(0,p().YK)({typeTitle:{defaultMessage:"Type a title...",id:"relationToken.title.placeholder"}});function S(e){const{blockStore:t,clickTitleBehavior:n,onTitleEnter:i,onTitleEsc:r}=e,a="edit"===n,s=(0,o().K8)((()=>t.getBlockTitleStore()),[t]);return(0,u.jsx)(h().A,{store:s,disabled:!a,disableSlashCommands:!0,disableEmojiCommands:!0,disableStyleAnnotations:!0,disableInsertedDeletedAnnotations:!0,disableEmbedMenu:!0,onEnter:i,onEsc:r,onTab:g().D_,placeholder:f().A.formatMessage(y.typeTitle),style:{padding:"6px 8px 7px 8px",textOverflow:"none",overflow:"visible",whiteSpace:"pre"},disableSelectAllBlocks:!0,pasteBehavior:"inline",inPageFind:v().Os.none})}var b=()=>n(237385),x=()=>n(34662),I=()=>n(448316);const k=function(e){const{store:t,style:a,disableLinks:s,disableHover:l,isAndroid:c,externalIntegrations:d,canEdit:m,shouldWrap:g,tokenFormat:v}=e,f=(0,i.useRef)(null),h=(0,p().tz)(),y=(0,b().v3)(),S=(0,n(174114).DP)(),{isExternalIntegrationPageType:k,blockType:T,blockId:A,blockModel:C}=(0,o().K8)((()=>{const e=t.getModel();return{isExternalIntegrationPageType:Boolean(null==e?void 0:e.isType(n(762847).xd.externalObjectInstancePage)),blockType:t.getType(),blockId:t.id,blockModel:e}}),[t]),M=(0,o().K8)((()=>n(284320).A.getState()),[]),w=(0,i.useCallback)((()=>{if(!f||!f.current)return;const e=(0,x().bMp)(t.id),n=(0,x().wmz)(e);return{textValue:[n],tokenIndex:0,textToken:n,node:f.current}}),[f,t.id]),R=(0,i.useCallback)((e=>{if(l)return;const n=w(),i=t.getTitleStore();i&&n&&I().xE({environment:y,event:e,interactiveToken:n,store:i,canEdit:m})}),[l,w,t,y,m]),P=(0,i.useCallback)((e=>{const n=w(),i=t.getTitleStore();i&&n&&!l&&I().HH({environment:y,event:e,interactiveToken:n,store:i,canEdit:m})}),[w,t,l,y,m]),z=t.getRecordModel,U=A,N=(0,n(441165).FN)(y),j=n(927685).A.domainBaseUrl,D=y.currentUser.id,E=!s,B=(0,o().K8)((()=>{if(C)return(0,n(123047).gA)({blockModel:C,shouldWrap:g,index:0,style:a,disableHover:l,disableLinks:s,isAndroid:c,theme:S,getRecordModel:z,currentUserId:D,baseUrl:j,emojiType:N,externalIntegrations:d,classNames:[],intl:h,emojiData:M,stopLinkPropagation:E,tokenFormat:(0,n(250786).Ug)(v)})}),[C,g,a,l,s,c,S,z,D,j,N,d,h,M,E,v]);return U?"external_object_instance_page"!==T?null:k?(0,u.jsx)("span",{ref:f,onMouseOver:R,onMouseOut:P,onClick:E?r().kV:void 0,style:{width:"100%"},children:B}):null:null};function T(e){const{blockStore:t,shouldWrap:i,style:r,disableLinks:a,format:s}=e,l=(0,o().K8)((()=>(0,n(809811).q7)(t.getSyncedUri())),[t]),c=(0,o().O$)(n(773082).A.integrations),d=(0,b().v3)();return(0,u.jsx)(k,{shouldWrap:i,store:t,style:r,disableHover:a||!l,disableLinks:a||!l,isAndroid:d.device.isAndroid,externalIntegrations:c,canEdit:!0,tokenFormat:s})}var A=()=>n(219322);function C(e){const{format:t,showRemoveButton:i,onClickRemove:o}=e,{height:r,closeIconSize:a}=A().U[t];return i?(0,u.jsx)(c().A,{onClick:o,style:{display:"flex",alignItems:"center",justifyContent:"center",width:r,height:r,marginLeft:2,marginRight:2,flexGrow:0,flexShrink:0,borderRadius:4},children:(0,n(388732).l)({width:a,height:a,opacity:.5})}):null}var M=()=>n(712437),w=()=>n(314164),R=()=>n(749975),P=()=>n(29869),z=()=>n(485966);var U=()=>n(621641),N=()=>n(205670);const j=(0,i.forwardRef)((function(e,t){const{parentStore:r,blockId:a,shouldWrap:s,format:l,showRemoveButton:c,clickTitleBehavior:d,onClickRemove:m,titleStyle:p,onTitleEnter:g,onTitleEsc:v,index:f,noUnderline:h,disableTooltip:y,disableLinks:S}=e,b=n(413871).Bv.createChildStore(r,{table:n(145017).ev,id:a}),{style:x}=(0,A().t)(e),I=(0,i.useRef)(null),k=(0,i.useRef)(null),M="peek"===d;(0,i.useImperativeHandle)(t,(()=>b),[b]);const w=(0,o().K8)((()=>"external_object_instance_page"===b.getType()),[b]);if((0,n(731991).W)(b))return null;if(w)return(0,u.jsx)(T,{shouldWrap:s,blockStore:b,style:x,disableLinks:S,format:l});const R=(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(n(957881).w,{format:l,blockStore:b,clickTitleBehavior:d,shouldWrap:s}),(0,u.jsx)(E,{blockStore:b,recordTitleRef:I,clickTitleBehavior:d,shouldWrap:s,titleStyle:p,noUnderline:h,onTitleEnter:g,onTitleEsc:v,index:f,disableTooltip:y})]});return(0,u.jsxs)("div",{style:x,ref:k,children:[M?(0,u.jsx)(D,{blockStore:b,relationTokenStyle:x,children:R}):R,(0,u.jsx)(C,{showRemoveButton:c,onClickRemove:m,format:l})]})}));function D(e){let{blockStore:t,relationTokenStyle:a,children:s}=e;const{blockUrlPage:l,blockUrlPeek:c}=function(e){const t=(0,b().v3)(),n=(0,R().Ks)(),i=(0,o().K8)((()=>(0,P().Ay)({store:e,fullyQualified:!1,pageVisitSource:M().y8.LinkInPage})),[e]);return{blockUrlPeek:(0,o().K8)((()=>{const{mainEditorCurrentBlockStore:i}=z().default.state;return w().wy({environment:t,store:e,mainEditorCurrentBlockStore:i,collectionContextStore:n,fullyQualified:!1})}),[t,e,n]),blockUrlPage:i}}(t),d=(0,i.useMemo)((()=>({display:a.display,height:a.height,alignItems:a.alignItems})),[a]);return(0,u.jsx)(n(579494).A,{href:l,metaHref:c,onClick:r().kV,style:d,children:s})}function E(e){const{blockStore:t,clickTitleBehavior:i,onTitleEnter:r,onTitleEsc:a,index:s,recordTitleRef:l,titleStyle:c,shouldWrap:d,noUnderline:p,disableTooltip:g}=e,v=(0,n(248584).Sm)(t),f="edit"===i&&!v,h=function(e){return(0,o().K8)((()=>{var t;const n=N().default.state;return"editing"===n.mode&&(null===(t=(0,U().H7)(n.multiSelection))||void 0===t?void 0:t.store)===e.getBlockTitleStore()}),[e])}(t);return f?h&&r&&s?(0,u.jsx)(S,{blockStore:t,clickTitleBehavior:i,onTitleEnter:r,onTitleEsc:a}):(0,u.jsx)(m,{blockStore:t,recordTitleRef:l,titleStyle:c,shouldWrap:d,disableTooltip:g}):(0,u.jsx)(n(399631).Y,{blockStore:t,recordTitleRef:l,titleStyle:c,shouldWrap:d,noUnderline:p,disableTooltip:g})}},101558:(e,t,n)=>{n.d(t,{r:()=>r});var i=()=>n(803290),o=()=>n(836331);function r(e){return(0,i().K8)((()=>o().default.getGroup(e)),[e])}},105429:(e,t,n)=>{n.d(t,{m:()=>o});class i extends(()=>n(129044))().default{getInitialState(){return{type:"uninitialized"}}isWriting(){return"filling"===this.state.type&&!this.state.haveAllBlocksCompletedAutofill&&!this.state.didInterruptStreaming}setIsWriting(e){var t;const{propertySchema:i,stores:o,sessionIdForAnalytics:r}=e,a=o[0].getAssociatedCollectionId()??(null===(t=o[0].getCollectionStore())||void 0===t?void 0:t.id),s=r||n(214144).JW();return this.setState({type:"filling",propertySchema:i,collectionId:a,numBlocksToAutofill:o.length,numBlocksAutofilled:0,sessionId:s,didInterruptStreaming:!1,haveAllBlocksCompletedAutofill:!1}),s}}const o=new i},151258:(e,t,n)=>{n.d(t,{Ay:()=>p,mI:()=>u,vb:()=>m});n(242343);var i=()=>n(174114),o=()=>n(752903),r=()=>n(388732),a=()=>n(653998),s=()=>n(31448),l=()=>n(126451),c=n(163643);const d=(0,a().YK)({removeTokenLabel:{defaultMessage:"Remove {title}",id:"uiGenericToken.removeTokenLabel"},removeTokenLabelGeneric:{defaultMessage:"Remove Item",id:"uiGenericToken.removeTokenLabelGeneric"}}),u=o().NY,m={[o().NY.ExtremeSmall]:{height:12,fontSize:10,margin:"0 4px 0 0",marginEditState:"0 6px 0 0",closeIconSize:8,avatarSize:14},[o().NY.ExtraSmall]:{height:14,fontSize:12,margin:"0 6px 0 0",marginEditState:"0 6px 0 0",closeIconSize:8,avatarSize:14},[o().NY.Small]:{height:18,fontSize:12,margin:"0 6px 6px 0",marginEditState:"0 6px 6px 0",closeIconSize:8,avatarSize:16},[o().NY.CompactEssential]:{height:20,fontSize:14,margin:"0 10px 6px 0",marginEditState:"0 6px 6px 0",closeIconSize:8,avatarSize:20},[o().NY.Medium]:{height:20,fontSize:14,margin:"0 10px 6px 0",marginEditState:"0 6px 6px 0",closeIconSize:8,avatarSize:20},[o().NY.Inline]:{height:20,fontSize:14,closeIconSize:8,avatarSize:20,margin:"0 -5px 0 0",marginEditState:"0 6px 0 0"},[o().NY.Large]:{height:24,fontSize:16,margin:"0 8px 8px 0",marginEditState:"0 8px 8px 0",closeIconSize:10,avatarSize:20}};function p(e){let{avatarSize:t,format:n,isSingle:o,onClickRemove:u,renderAvatar:p,showRemoveButton:g,shouldShrink:v,style:f,title:h}=e;const y=(0,a().tz)(),{height:S,fontSize:b,margin:x,marginEditState:I,closeIconSize:k,avatarSize:T}=m[n],A=t??T,C=(0,i().IS)((()=>({root:{display:"flex",alignItems:"center",flexShrink:v?1:0,minWidth:0,height:S,borderRadius:6,fontSize:b,lineHeight:"120%",margin:o?0:g?I:x,...f}})),[b,S,o,x,I,v,g,f]);return(0,c.jsxs)("div",{style:C.root,children:[null==p?void 0:p(A),(0,c.jsx)("div",{className:"notranslate",style:{...s().RC},children:h}),g?(0,c.jsx)(l().A,{ariaLabel:void 0!==h?y.formatMessage(d.removeTokenLabel,{title:h}):y.formatMessage(d.removeTokenLabelGeneric),onClick:u,style:{display:"flex",alignItems:"center",justifyContent:"center",width:S,height:S,marginLeft:2,marginRight:2,flexGrow:0,flexShrink:0,borderRadius:6},children:(0,r().l)({width:k,height:k,opacity:.5})}):null]})}},151602:(e,t,n)=>{n.d(t,{A:()=>r});class i extends(()=>n(129044))().default{getInitialState(){return{}}}const o=new i;n(996094).exposeDebugValue("SpaceWorkflowTemplateInstanceMapStore",o);const r=o},170582:(e,t,n)=>{n.d(t,{r:()=>o});n(242343);const i={viewBox:"0 0 20 20",svg:(0,n(163643).jsx)("path",{d:"M10 2.355a2.35 2.35 0 0 0-2.253 1.686 5.06 5.06 0 0 0-2.803 4.527v1.189c0 .919-.334 1.806-.939 2.498l-.818.935c-.881 1.007-.166 2.583 1.173 2.583h3.02a2.65 2.65 0 0 0 5.24 0h3.02c1.339 0 2.054-1.576 1.173-2.583l-.818-.935a3.8 3.8 0 0 1-.939-2.498v-1.19a5.06 5.06 0 0 0-2.803-4.526A2.35 2.35 0 0 0 10 2.355m1.5 13.418a1.55 1.55 0 0 1-2.998 0zM8.909 4.564A1.104 1.104 0 0 1 10 3.605c.556 0 1.017.415 1.091.96l.049.353.329.138a3.81 3.81 0 0 1 2.337 3.512v1.189c0 1.221.444 2.401 1.248 3.32l.818.936a.307.307 0 0 1-.232.51H4.36a.308.308 0 0 1-.232-.51l.818-.935a5.04 5.04 0 0 0 1.248-3.321v-1.19c0-1.58.963-2.936 2.337-3.511l.33-.138z"})},o=(0,n(680369).wt)("bell",i)},219322:(e,t,n)=>{n.d(t,{U:()=>s,t:()=>l});var i=()=>n(174114),o=()=>n(752903),r=()=>n(31448),a=()=>n(755786);const s={[o().NY.ExtremeSmall]:{height:16,fontSize:12,margin:"0 4px 0 0",recordIconMarginRight:3,pageIconSize:13,closeIconSize:8},[o().NY.ExtraSmall]:{height:16,fontSize:12,margin:"0 4px 0 0",recordIconMarginRight:3,pageIconSize:13,closeIconSize:8},[o().NY.Small]:{height:18,fontSize:12,margin:"0 6px 6px 0",recordIconMarginRight:3,pageIconSize:16,closeIconSize:8},[o().NY.CompactEssential]:{height:20,fontSize:14,margin:"0 12px 6px 0",recordIconMarginRight:4,pageIconSize:20,closeIconSize:8},[o().NY.Medium]:{height:20,fontSize:14,margin:"0 12px 6px 0",recordIconMarginRight:4,pageIconSize:20,closeIconSize:8},[o().NY.Inline]:{height:20,fontSize:14,margin:"0 12px 0 0",recordIconMarginRight:4,pageIconSize:20,closeIconSize:8},[o().NY.Large]:{height:24,fontSize:16,margin:"0 8px 8px 0",recordIconMarginRight:4,pageIconSize:24,closeIconSize:10}};function l(e){let{format:t,shouldShrink:n,shouldWrap:l,isSingle:d,style:u,clickTitleBehavior:m}=e;const p="edit"===m;return(0,i().IS)((()=>{const{fontSize:e,margin:i}=s[t],m=p?a().d0:s[t].height;return{style:{...l?{display:"inline",lineHeight:1.5,borderRadius:4}:c({height:m}),fontSize:e,fontWeight:r().Wy.medium,minWidth:n?0:"auto",margin:d?0:i,...t===o().NY.Inline&&{overflow:"hidden"},...u}}}),[t,n,l,d,p,u])}function c(e){let{height:t}=e;return{display:"flex",alignItems:"center",lineHeight:1.2,height:t}}},263873:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>i,plusSmallIcon:()=>o});n(242343);const i={viewBox:"0 0 16 16",svg:(0,n(163643).jsx)("path",{d:"M8 2.74a.66.66 0 0 1 .66.66v3.94h3.94a.66.66 0 0 1 0 1.32H8.66v3.94a.66.66 0 0 1-1.32 0V8.66H3.4a.66.66 0 0 1 0-1.32h3.94V3.4A.66.66 0 0 1 8 2.74"})},o=(0,n(680369).wt)("plusSmall",i)},305948:(e,t,n)=>{n.d(t,{eJ:()=>v,ew:()=>g,ml:()=>d,rA:()=>m,yI:()=>p,zf:()=>u});n(403517);var i=()=>n(975392),o=()=>n(76394),r=()=>n(61014),a=()=>n(86335),s=()=>n(479056),l=()=>n(465546);function c(e){switch(e){case"checkbox":return"boolean";case"number":return"number";case"text":return"text";case"date":return"date";case"array":return"array";case"block":return"block";case"person":return"person";case"select":return"select";case"function":return"function";case"unknown":return"unknown";case"undefined":return"undefined";default:(0,o().HB)(e)}}function d(e){switch(e.type){case s().M9.InvalidCharacter:return{...a().x0.InvalidCharacter,values:{errorCharacter:e.character}};case s().M9.UnclosedStringLiteral:return a().x0.UnclosedStringLiteral;case s().M9.UnclosedComment:return a().x0.UnclosedComment;case s().M9.TokenExpected:return{...a().x0.TokenExpected,values:{expectedToken:e.token}};case s().M9.StringLiteralContainsToken:return a().x0.StringLiteralContainsToken;case s().M9.ExpressionExpected:return a().x0.ExpressionExpected;case s().M9.PropertyTokenOrFunctionExpected:return a().x0.PropertyTokenOrFunctionExpected;case s().M9.EndOfInputExpected:return a().x0.EndOfInputExpected;case s().M9.UnexpectedError:return a().x0.UnexpectedError;case s().M9.TooDeeplyNested:return a().x0.TooDeeplyNested;default:(0,o().HB)(e)}}function u(e){switch(e.type){case s().IA.FunctionCallArgumentWrongType:case s().IA.FunctionCallUnexpectedArgument:return e.argument;default:return e.node}}function m(e,t){let n;switch(t.type){case s().IA.ThisRowTypeNotFound:n=a().Xz.ThisRowTypeNotFound;break;case s().IA.ThisRowNotBlockWithCollection:n=a().Xz.ThisRowNotBlockWithCollection;break;case s().IA.MissingPropertyOnThisRow:n={...a().Xz.MissingPropertyOnThisRow,values:{propertyName:t.property}};break;case s().IA.MissingContextVariable:{const e=(0,l().ix)(t.token)?t.token.contextValueId:t.token.valueId;n={...a().Xz.MissingContextVariable,values:{valueId:e}}}break;case s().IA.MissingBlock:n={...a().Xz.MissingBlock,values:{blockId:t.token.blockId}};break;case s().IA.CallingNotFunction:n={...a().Xz.CallingNotFunction,values:{expressionType:c(t.callee.type.type)}};break;case s().IA.FunctionCallTooFewArguments:n={...a().Xz.FunctionCallTooFewArguments,values:{minNumParameters:t.minNumParameters,functionName:t.libraryFunction.name,numArguments:t.numArguments}};break;case s().IA.FunctionCallUnexpectedArgument:n={...a().Xz.FunctionCallUnexpectedArgument,values:{functionName:t.libraryFunction.name}};break;case s().IA.FunctionCallArgumentWrongType:n={...a().Xz.FunctionCallArgumentWrongType,values:{argumentType:c(t.argument.type.type),functionName:t.libraryFunction.name}};break;case s().IA.MemberPropertyMismatchCollection:n={...a().Xz.MemberPropertyMismatchCollection,values:{propertyName:t.token.property}};break;case s().IA.MemberPropertyMissing:n={...a().Xz.MemberPropertyMissing,values:{propertyName:t.property}};break;case s().IA.MemberPropertyTargetNotBlock:n=a().Xz.MemberPropertyTargetNotBlock;break;case s().IA.MemberPropertyTypeInvalid:n={...a().Xz.MemberPropertyTypeInvalid,values:{propertyName:t.propertyName,propertyType:t.propertyType}};break;case s().IA.UndefinedIdentifier:n={...a().Xz.UndefinedIdentifier,values:{identifier:t.node.text}};break;case s().IA.UnifiedFunctionCannotFindFunction:n={...a().Xz.UnifiedFunctionCannotFindFunction,values:{functionName:t.name}};break;case s().IA.UnifiedFunctionNoArguments:n={...a().Xz.UnifiedFunctionNoArguments,values:{functionName:t.libraryFunction.name}};break;case s().IA.UnifiedFunctionTargetWrongType:n={...a().Xz.UnifiedFunctionTargetWrongType,values:{functionName:t.libraryFunction.name,targetType:c(t.expression.type.type)}};break;case s().IA.CannotRelativelyCompareTypes:n={...a().Xz.CannotRelativelyCompareTypes,values:{lhsType:c(t.lhsType.type),rhsType:c(t.rhsType.type)}};break;case s().IA.CannotDoMathOnType:n={...a().Xz.CannotDoMathOnType,values:{lhsType:c(t.lhsType.type),rhsType:c(t.rhsType.type)}};break;case s().IA.UnaryMinusOnNonNumber:n={...a().Xz.UnaryMinusOnNonNumber,values:{type:c(t.expression.type.type)}};break;case s().IA.IdentifierExpected:n=a().Xz.IdentifierExpected;break;case s().IA.FunctionCallExpected:n={...a().Xz.FunctionCallExpected,values:{functionName:t.functionName}};break;case s().IA.RenamedIdentifier:n={...a().Xz.RenamedIdentifier,values:{identifier:t.identifier,renamedTo:t.renamedTo}};break;case s().IA.RemovedFunction:n={...a().Xz.RemovedFunction,values:{functionName:t.functionName,alternative:t.alternative}};break;case s().IA.ContextVariableNotBlockWithCollection:n={...a().Xz.ContextVariableNotBlockWithCollection,values:{valueId:t.token.contextValueId}};break;case s().IA.MissingPropertyOnContextVariable:n={...a().Xz.MissingPropertyOnContextVariable,values:{propertyName:t.property,valueId:t.token.contextValueId}};break;case s().IA.BlockPropertyTypeInvalid:n={...a().Xz.BlockPropertyTypeInvalid,values:{propertyName:t.propertyName}};break;case s().IA.DisallowedReturnType:{const i=t.allowedReturnTypes.map((t=>e.formatMessage((0,r().getHumanReadableType)(t)).toLocaleLowerCase()));n={...a().Xz.DisallowedReturnType,values:{allowedReturnType:e.formatList(i,{style:"long",type:"conjunction"}),allowedReturnTypeCount:t.allowedReturnTypes.length,returnType:e.formatMessage((0,r().getHumanReadableType)(t.returnType)).toLocaleLowerCase()}};break}case s().IA.CrossSpacePropertyNotSupported:n={...a().Xz.CrossSpacePropertyNotSupported};break;default:(0,o().HB)(t)}return{...n,values:{...n.values,startOffset:t.node.startOffset,endOffset:t.node.endOffset+1}}}function p(e,t){let n;switch(t.type){case s().uW.MissingThisRow:n=a().X8.MissingThisRow;break;case s().uW.MissingSchemaPropertyOnThisRow:n={...a().X8.MissingSchemaPropertyOnThisRow,values:{propertyName:t.property}};break;case s().uW.ThisRowBlockPropertyMismatchCollection:n=a().X8.ThisRowBlockPropertyMismatchCollection;break;case s().uW.MissingContextVariable:n={...a().X8.MissingContextVariable,values:{valueId:t.valueId}};break;case s().uW.IdentifierNotFound:n={...a().X8.IdentifierNotFound,values:{identifier:t.node.text}};break;case s().uW.CannotRelativelyCompareTypes:n={...a().X8.CannotRelativelyCompareTypes,values:{lhsType:c(t.lhsType),rhsType:c(t.rhsType)}};break;case s().uW.CannotDoMathOnType:n={...a().X8.CannotDoMathOnType,values:{valueType:c(t.valueType)}};break;case s().uW.CannotCallNonFunction:n={...a().X8.CannotCallNonFunction,values:{calleeType:c(t.calleeType)}};break;case s().uW.UnifiedFunctionPropertyNotFound:n={...a().X8.UnifiedFunctionPropertyNotFound,values:{functionName:t.node.name}};break;case s().uW.LibraryFunctionExecutionError:const i=t.error instanceof s().x4?t.error:void 0;n=(null==i?void 0:i.info.type)===s().v3.DateInvalidDurationUnit?{...a().gW.DateInvalidDurationUnit,values:{functionName:t.libraryFunction.name,invalidUnit:i.info.invalidUnit}}:(null==i?void 0:i.info.type)===s().v3.CannotUseToNumberOnList?{...a().gW.CannotUseToNumberOnList}:(null==i?void 0:i.info.type)===s().v3.CannotRoundToNonInteger?{...a().gW.CannotRoundToNonInteger,values:{precision:i.info.precision}}:(null==i?void 0:i.info.type)===s().v3.CannotRoundToTooManyDecimalPlaces?{...a().gW.CannotRoundToTooManyDecimalPlaces,values:{precision:i.info.precision}}:{...a().X8.LibraryFunctionExecutionError,values:{functionName:t.libraryFunction.name}};break;case s().uW.FunctionCallTooFewArguments:n={...a().X8.FunctionCallTooFewArguments,values:{functionName:t.libraryFunction.name}};break;case s().uW.FunctionCallUnexpectedArgument:n={...a().X8.FunctionCallUnexpectedArgument,values:{functionName:t.libraryFunction.name}};break;case s().uW.FunctionCallArgumentWrongType:n={...a().X8.FunctionCallArgumentWrongType,values:{functionName:t.libraryFunction.name,argumentType:c(t.argumentType)}};break;case s().uW.AccessingPropertyOnNonBlock:n=a().X8.AccessingPropertyOnNonBlock;break;case s().uW.MissingDataDependencyBlock:n={...a().X8.MissingDataDependencyBlock,values:{blockId:t.blockPointer.id}};break;case s().uW.MissingDataDependencyPerson:n={...a().X8.MissingDataDependencyPerson,values:{personId:t.personPointer.id}};break;case s().uW.MemberPropertyMismatchCollection:n=a().X8.MemberPropertyMismatchCollection;break;case s().uW.MissingPropertyOnSchemaForMemberProperty:n=a().X8.MissingPropertyOnSchemaForMemberProperty;break;case s().uW.UnaryMinusOnNonNumber:n={...a().X8.UnaryMinusOnNonNumber,values:{expressionType:c(t.expressionType)}};break;case s().uW.UnexpectedRecoveryNode:n=a().X8.UnexpectedRecoveryNode;break;case s().uW.UnexpectedError:n=a().X8.UnexpectedError;break;case s().uW.DepthExceeded:n=a().X8.DepthExceeded;break;case s().uW.CycleDetected:n=a().X8.CycleDetected;break;case s().uW.DownstreamParseFailure:n=a().X8.DownstreamParseFailure;break;case s().uW.MaxEvaluationTimeExceeded:n=a().X8.MaxEvaluationTimeExceeded;break;case s().uW.MissingSchemaPropertyOnCollection:n={...a().X8.MissingSchemaPropertyOnCollection,values:{collectionId:t.collectionId,propertyName:t.property}};break;case s().uW.ContextVariableWrongType:n={...a().X8.ContextVariableWrongType,values:{expectedType:t.expectedType,propertyType:t.resultType,valueId:t.valueId}};break;case s().uW.DisallowedValueType:{const i=t.allowedValueTypes.map((t=>e.formatMessage((0,r().getHumanReadableType)(t)).toLocaleLowerCase()));n={...a().Xz.DisallowedReturnType,values:{allowedValueType:e.formatList(i,{style:"long",type:"conjunction"}),allowedValueTypeCount:t.allowedValueTypes.length,valueType:e.formatMessage((0,r().getHumanReadableValueType)(t.expressionValue)).toLocaleLowerCase()}};break}default:(0,o().HB)(t)}return(0,l().li)(t)?{...n,values:{...n.values,startOffset:t.node.startOffset,endOffset:t.node.endOffset+1}}:n}function g(e){const t=null==e?void 0:e.values;return[i().cJ(e,"values"),t]}function v(e){return e.type===s().uW.DepthExceeded||e.type===s().uW.CycleDetected||e.type===s().uW.MaxEvaluationTimeExceeded||e.type===s().uW.LibraryFunctionExecutionError}},326259:(e,t,n)=>{n.d(t,{OH:()=>s,T2:()=>l,do:()=>c});var i=()=>n(871002),o=()=>n(846581),r=()=>n(16456),a=()=>n(427091);function s(e){const{dateTime:t,intl:n,shortenDateAndRange:i}=e,a=r().C6.toPersistedDate(t.valueOf());return o().ZF({value:a,allowRelativeDates:!0,intl:n,shortenDateAndRange:i,displayInUserTimezone:!0})}function l(e){const{dateTime:t,intl:n,userTimeZone:i,displayInUserTimezone:a,alwaysIncludeTimezone:s}=e,l=r().C6.toPersistedDateTime(t.valueOf(),t.zoneName);return o().ZF({value:l,allowRelativeDates:!0,intl:n,userTimeZone:i,displayInUserTimezone:a,alwaysIncludeTimezone:s})}function c(e){const{luxonRange:t,intl:n}=e,s=r().C6.toPersistedDateRange(t),l=o().ZF({value:s,allowRelativeDates:!1,shortenDateAndRange:!0,intl:n,displayInUserTimezone:!0}),c=t.end.setZone((0,a().P)()),d=o().fU({start_time:c.toFormat(i().GE),humanReadable:!1,intl:n});return n.formatMessage({id:"verification.timeRange",defaultMessage:"{formattedDateRange} at {formattedEndTime}"},{formattedDateRange:l,formattedEndTime:d})}},367950:(e,t,n)=>{function i(e){return`${e.table}:${e.id}`}n.d(t,{_:()=>i})},388732:(e,t,n)=>{n.d(t,{l:()=>o});n(242343);var i=n(163643);const o=(0,n(680369).wt)("closeThick",{viewBox:"0 0 8 8",svg:(0,i.jsx)("polygon",{points:"8 1.01818182 6.98181818 0 4 2.98181818 1.01818182 0 0 1.01818182 2.98181818 4 0 6.98181818 1.01818182 8 4 5.01818182 6.98181818 8 8 6.98181818 5.01818182 4"})})},399631:(e,t,n)=>{n.d(t,{Y:()=>a});var i=n(242343),o=()=>n(709237),r=n(163643);function a(e){const{blockStore:t,shouldWrap:n,titleStyle:a,recordTitleRef:s,noUnderline:l,disableTooltip:c}=e,d=(0,i.useRef)({getNode:()=>s.current});return(0,r.jsx)(o().A,{store:t,underline:!l,shouldWrap:n,style:a,ref:d,enableHover:!0,showTooltipWhenTruncated:!0,disableTooltip:c})}},415806:(e,t,n)=>{n.d(t,{Ay:()=>h,t_:()=>y,v7:()=>S});n(242343);var i=()=>n(237385),o=()=>n(803290),r=()=>n(950635),a=()=>n(752903),s=()=>n(76394),l=()=>n(413871),c=()=>n(888575),d=()=>n(951156),u=()=>n(151258),m=()=>n(732165),p=()=>n(482570),g=n(163643);function v(e){const t=(0,i().v3)(),{actor:n,format:r,hasTooltip:v,tooltipHeader:h}=e,y=(0,o().K8)((()=>{const e=n.asActor;return e&&l().sk.createUniqueRootStore(t,e.pointer)}),[n,t]);return(0,g.jsx)(u().Ay,{...e,renderAvatar:e=>{if(y)return y instanceof l().vK?r===a().NY.Inline?(0,g.jsx)(d().A,{botStore:y,size:e,style:f}):(0,g.jsx)(c().A,{botStore:y,avatarSize:e,inline:!0,style:f}):y instanceof l().LU?r===a().NY.Inline?(0,g.jsx)(p().A,{userStore:y,size:e,avatarShouldShowShadow:!0,hasTooltip:v??!0,style:f,tooltipHeader:h}):(0,g.jsx)(m().A,{userStore:y,avatarSize:e,inline:!0,hasTooltip:v,style:f,tooltipHeader:h}):void(y instanceof l().pH||(0,s().HB)(y))}})}const f={minWidth:0};v.Format=a().NY;const h=v;function y(e){const{userValue:t,...n}=e;return(0,g.jsx)(v,{actor:(0,r().MR)(t),...n})}function S(e){const{botValue:t,...n}=e;return(0,g.jsx)(v,{actor:(0,r().oC)(t),...n})}y.Format=u().mI,S.Format=u().mI},425235:(e,t,n)=>{n.d(t,{u:()=>o});n(242343);var i=n(163643);const o=(0,n(680369).wt)("arrowDownThick",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M7.99316 1.52246C7.40527 1.52246 7.00195 1.93262 7.00195 2.54785V10.1357L7.07031 11.6191L5.69629 10.0332L4.1582 8.50195C3.98047 8.31738 3.74805 8.19434 3.44727 8.19434C2.91406 8.19434 2.51074 8.59082 2.51074 9.15137C2.51074 9.41113 2.61328 9.65039 2.81836 9.8623L7.26172 14.3125C7.44629 14.5039 7.72656 14.6133 7.99316 14.6133C8.2666 14.6133 8.54004 14.5039 8.72461 14.3125L13.1748 9.8623C13.3799 9.65039 13.4824 9.41113 13.4824 9.15137C13.4824 8.59082 13.0791 8.19434 12.5459 8.19434C12.252 8.19434 12.0195 8.31738 11.835 8.50195L10.2969 10.0332L8.92285 11.6191L8.98438 10.1357V2.54785C8.98438 1.93262 8.58789 1.52246 7.99316 1.52246Z"})})},433364:(e,t,n)=>{n.d(t,{KD:()=>c,gt:()=>d,i9:()=>l,ll:()=>a,tb:()=>s,x$:()=>r});var i=()=>n(612408),o=()=>n(975392);function r(e,t){return a(d(e,t))}function a(e){return void 0!==e&&(e===i().q_||e===i().YD)}function s(e,t){if(a(t))return;const n=i().c$[e],o=n.steps.findIndex((e=>e.id===t));return-1===o?n.steps[0].id:o===n.steps.length-1?i().q_:n.steps[o+1].id}function l(e,t){const n=d(e,t);if(n&&!a(n))return s(t,n)}function c(e,t){const n=d(e,t);if(n)return function(e,t){const n=i().c$[e];var r;if(a(t))return null===(r=(0,o().HV)(n.steps))||void 0===r?void 0:r.id;const s=n.steps.findIndex((e=>e.id===t));return-1!==s&&0!==s?n.steps[s-1].id:void 0}(t,n)}function d(e,t){var n;if(!e)return;const o=((null===(n=e.getSettings())||void 0===n?void 0:n.tutorials)||{})[t];return void 0===o?i().c$[t].steps[0].id:o}},501578:(e,t,n)=>{n.d(t,{j:()=>d});var i=n(242343),o=()=>n(237385),r=()=>n(174114),a=()=>n(31448),s=()=>n(103151);var l=()=>n(907721),c=n(163643);function d(e){let{children:t,style:n,tooltipStyle:d,placement:u=l().W.Bottom}=e;const{isSafari:m}=(0,o().Y0)(),p=(0,i.useRef)(null),g=function(e){const[t,n]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{const{current:t}=e;if(!t)return void n(!1);const i="ResizeObserver"in window?new ResizeObserver((e=>{let[t]=e;n(t.target.scrollWidth>t.target.clientWidth)})):void 0;return null==i||i.observe(t),()=>null==i?void 0:i.unobserve(t)}),[]),t}(p),v=(0,r().IS)((()=>({overflowText:{...a().RC,...n}})),[n]);return(0,c.jsx)(s().A,{delayThreshold:500,placement:u,textWrap:!0,style:d,forceVisibleState:!(m||!g)&&void 0,renderTooltip:()=>g?t:void 0,render:e=>(0,c.jsx)("div",{ref:p,style:v.overflowText,...e,children:t})})}},514438:(e,t,n)=>{n.d(t,{r:()=>o});n(242343);const i={viewBox:"0 0 20 20",svg:(0,n(163643).jsx)("path",{d:"M3.483 4.55c0-.345.28-.625.625-.625h3.5a.625.625 0 1 1 0 1.25H5.617L8.86 8.42A6 6 0 0 1 10 10.007a6 6 0 0 1 1.14-1.588l3.243-3.244h-1.99a.625.625 0 1 1 0-1.25h3.5c.344 0 .624.28.624.625v3.5a.625.625 0 0 1-1.25 0V6.06l-3.243 3.244a4.78 4.78 0 0 0-1.399 3.358v4.108h-1.25v-4.108a4.78 4.78 0 0 0-1.398-3.358L4.733 6.059V8.05a.625.625 0 1 1-1.25 0z"})},o=(0,n(680369).wt)("arrowBranch",i)},533666:(e,t,n)=>{n.d(t,{Y:()=>o});n(242343);const i={viewBox:"0 0 16 16",svg:(0,n(163643).jsx)("path",{d:"M3.2 6.725a1.275 1.275 0 1 0 0 2.55 1.275 1.275 0 0 0 0-2.55m4.8 0a1.275 1.275 0 1 0 0 2.55 1.275 1.275 0 0 0 0-2.55m4.8 0a1.275 1.275 0 1 0 0 2.55 1.275 1.275 0 0 0 0-2.55"})},o=(0,n(680369).wt)("ellipsisSmall",i)},575681:(e,t,n)=>{n.d(t,{_:()=>o});n(242343);var i=n(163643);const o=(0,n(680369).wt)("chevronDownRounded",{viewBox:"0 0 15 9",svg:(0,i.jsx)("path",{d:"M7.92188 8.65625C8.19531 8.64844 8.44531 8.54688 8.64844 8.32812L14.5859 2.25C14.7578 2.07812 14.8516 1.85938 14.8516 1.60156C14.8516 1.08594 14.4453 0.671875 13.9297 0.671875C13.6797 0.671875 13.4375 0.773438 13.2578 0.953125L7.92969 6.42969L2.58594 0.953125C2.40625 0.78125 2.17188 0.671875 1.91406 0.671875C1.39844 0.671875 0.992188 1.08594 0.992188 1.60156C0.992188 1.85938 1.08594 2.07812 1.25781 2.25L7.20312 8.32812C7.41406 8.54688 7.64844 8.65625 7.92188 8.65625Z"})})},586588:(e,t,n)=>{n.r(t),n.d(t,{dismissTutorial:()=>d,resetTutorials:()=>u,tutorialAdvanceToStep:()=>m,tutorialAdvanceToStepAfter:()=>p,tutorialGoToNextStep:()=>l,tutorialGoToPrevStep:()=>c});var i=()=>n(612408),o=()=>n(84543),r=()=>n(658388),a=()=>n(433364),s=()=>n(485966);function l(e,t){var n;const{currentUserSettingsStore:i}=s().default.state;if(!i)return;const o=null===(n=i.getSettings())||void 0===n?void 0:n.tutorials;g({userAction:"TutorialActions.nextStep",environment:e,perform:e=>{r().mJ({userSettingsStore:i,transaction:e,data:{tutorials:{...o,[t]:(0,a().i9)(i,t)}}})},userId:i.id})}function c(e,t){var n;const{currentUserSettingsStore:i}=s().default.state;if(!i)return;const o=null===(n=i.getSettings())||void 0===n?void 0:n.tutorials;g({userAction:"TutorialActions.prevStep",environment:e,perform:e=>{r().mJ({userSettingsStore:i,transaction:e,data:{tutorials:{...o,[t]:(0,a().KD)(i,t)}}})},userId:i.id})}function d(e,t){var n;const{currentUserSettingsStore:o}=s().default.state;if(!o)return;const a=null===(n=o.getSettings())||void 0===n?void 0:n.tutorials;(null==a?void 0:a[t])!==i().YD&&g({userAction:"TutorialActions.dismissTutorial",environment:e,perform:e=>{r().mJ({userSettingsStore:o,transaction:e,data:{tutorials:{...a,[t]:i().YD}}})},userId:o.id})}function u(e){const{currentUserSettingsStore:t}=s().default.state;t&&g({userAction:"TutorialActions.resetTutorialsDebug",environment:e,perform:e=>{r().mJ({userSettingsStore:t,transaction:e,data:{tutorials:{}}})},userId:t.id})}function m(e,t,n){var o;const{currentUserSettingsStore:l}=s().default.state;if(!l||(0,a().x$)(l,t))return;const c=(0,a().gt)(l,t);i().c$[t].steps.findIndex((e=>e.id===c))>=i().c$[t].steps.findIndex((e=>e.id===n))||r().mJ({userSettingsStore:l,transaction:e,data:{tutorials:{...null===(o=l.getSettings())||void 0===o?void 0:o.tutorials,[t]:n}}})}function p(e,t,n){if((0,a().ll)(n))return;const i=(0,a().tb)(t,n);i&&m(e,t,i)}function g(e){return o().createAndCommit({...e,canUndo:!1})}},612408:(e,t,n)=>{n.d(t,{YD:()=>r,c$:()=>i,q_:()=>o});const i={"sprints-onboarding":{steps:[{id:"current-sprint-view-tooltip"},{id:"sprint-task-tooltip"},{id:"complete-sprint-button-tooltip"}]},"enhanced-qna-onboarding":{steps:[{id:"find-in-tooltip"},{id:"mention-tooltip"}]},"jira-sync-onboarding":{steps:[{id:"all-projects-tooltip"},{id:"all-issues-tooltip"},{id:"database-views-and-filters-tooltip"},{id:"settings-to-setup-projects-and-issues"}]},"project-management-import-onboarding":{steps:[{id:"your-teamspace-tooltip"},{id:"all-projects-tooltip"},{id:"navigate-to-project-tasks-tooltip"},{id:"project-customization-tooltip"},{id:"related-tasks-database-views-tooltip"}]},"ai-comment-onboarding":{steps:[{id:"ai-comment-onboarding-tooltip"}]}},o="completed",r="dismissed"},634280:(e,t,n)=>{n.d(t,{A:()=>o});class i extends(()=>n(129044))().default{getInitialState(){return{settingOpen:"initial",permissionItem:void 0,from:void 0,sudoModeStore:void 0,location:"",faviconUrl:null,previewImageUrl:null,hideBreadcrumbs:!1,hideSearch:!1,hideWatermark:!1,enableDuplicateAsTemplate:!1,customHeaderBlockIds:[],googleAnalyticsId:void 0,theme:void 0,enableQna:!1}}}const o=new i},678523:(e,t,n)=>{n.d(t,{A:()=>s});n(242343);var i=()=>n(237385),o=()=>n(174114),r=()=>n(126451),a=n(163643);function s(e){const t=(0,i().Y0)(),n=(0,o().IS)((e=>({sharedStyle:{display:"flex",alignItems:"center",borderRadius:4},innerStyle:{padding:"2px 6px",borderRadius:4,color:e.text.secondary,background:e.defaultBadgeBackground,fontSize:t.isMobile?11:9,lineHeight:t.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em",whiteSpace:"nowrap"}})),[t.isAndroid,t.isMobile]);return t.isMobile?(0,a.jsx)(r().A,{style:{...n.sharedStyle,...e.mobileStyle},disabled:void 0===e.onClick,children:(0,a.jsx)("div",{style:{...n.innerStyle,...e.innerStyle},children:e.children})}):(0,a.jsx)(r().A,{style:{...n.sharedStyle,...e.desktopStyle},disabled:void 0===e.onClick,...e,children:(0,a.jsx)("div",{style:{...n.innerStyle,...e.innerStyle},children:e.children})})}},699773:(e,t,n)=>{n.d(t,{A:()=>l});var i=n(242343),o=()=>n(846581),r=()=>n(16456),a=()=>n(427091),s=n(163643);const l=function(e){const t=(0,n(653998).tz)(),l=(0,n(174114).DP)(),u=(0,n(221573).I)(),m=(0,i.useRef)(),p=(0,i.useCallback)((()=>{const t=e.value;if(!t)return;const i=r().q8(t,(0,a().P)());if(!i)return;const o=i.valueOf(),s=o-Date.now();s<0||s>n(141666).nD||m.current&&m.current.timestamp===o||(m.current&&clearTimeout(m.current.timer),m.current={timestamp:o,timer:setTimeout((()=>u("DateBox","DateBox/createReminderTimer")),s)})}),[u,e.value]),g=(0,i.useCallback)((()=>{m.current&&(clearTimeout(m.current.timer),m.current=void 0)}),[]);(0,i.useEffect)((()=>{p()}),[p]),(0,i.useEffect)((()=>()=>{g()}),[g]);const{value:v,withComma:f}=e,h=(0,n(803290).K8)((()=>v?(0,o().ZF)({value:v,date_format:e.dateFormat,time_format:e.timeFormat,userTimeZone:(0,a().P)(),allowRelativeDates:!0,intl:t,shortenDateAndRange:e.shortenDateAndRange,displayInUserTimezone:e.displayInUserTimezone,getToday:n(533975).x1}):void 0),[t,e.dateFormat,e.displayInUserTimezone,e.shortenDateAndRange,e.timeFormat,v]);if(!v)return null;const y=r().AA(v,(0,a().P)(),n(16791).locale);let S;if(v.reminder){const e=r().Zs(v,(0,a().P)());S=e?{color:l.errorText}:{color:n(220413).Ay.blue}}const b=(0,s.jsxs)(s.Fragment,{children:[h,v.reminder&&(0,n(508024).P)({display:"inline-block",width:"1em",marginLeft:6,marginRight:2,paddingBottom:4,verticalAlign:"middle"}),f?", ":null]});return e.disableTooltip?(0,s.jsx)("div",{className:e.className,style:{...e.style,...S},children:b}):(0,s.jsx)(n(103151).A,{renderTooltip:()=>(0,s.jsxs)(s.Fragment,{children:[e.tooltipHeader,(0,s.jsxs)("div",{style:d(l,e.tooltipHeader),children:[c(y.start),y.end?` â†’ ${c(y.end)}`:""]})]}),render:t=>(0,s.jsx)("div",{className:e.className,style:{...e.style,...S},...t,children:b}),placement:e.tooltipPlacement})};function c(e){return(0,o().eV)({value:e,preset:"medium"})}function d(e,t){return t?{color:e.text.contrastSecondary}:{}}},731991:(e,t,n)=>{n.d(t,{W:()=>r,X:()=>o});var i=()=>n(803290);function o(e){return e.isReady()&&!e.isDefined()&&"none"!==e.getRole()}function r(e){return(0,i().K8)((()=>o(e)),[e])}},760023:(e,t,n)=>{n.d(t,{Kz:()=>r,Sc:()=>a,as:()=>o});var i=()=>n(137476);function o(e,t){(0,i().u4)({environment:e,event:{eventName:"open_customize_site",eventProperties:t}})}function r(e,t){(0,i().u4)({environment:e,event:{eventName:"update_site_customization_settings",eventProperties:t}})}function a(e){(0,i().u4)({environment:e,event:{eventName:"close_customize_site",eventProperties:{}}})}},760034:(e,t,n)=>{n.d(t,{Bp:()=>U,DD:()=>B,E9:()=>$,H6:()=>w,HE:()=>R,HY:()=>N,JI:()=>O,Nf:()=>H,P8:()=>G,V_:()=>X,XL:()=>W,Xz:()=>F,aD:()=>P,aN:()=>_,d7:()=>L,d8:()=>A,j4:()=>V,n0:()=>Y,pu:()=>D,uH:()=>j,uY:()=>K,wl:()=>z,yF:()=>E,zV:()=>M});n(610931),n(362833),n(725707),n(491955),n(403517),n(242343);var i=()=>n(446588),o=()=>n(66460),r=()=>n(792007),a=()=>n(32194),s=()=>n(653998),l=()=>n(975392),c=()=>n(3311),d=()=>n(818369),u=()=>n(759625),m=()=>n(110975),p=()=>n(575015),g=()=>n(84543),v=()=>n(927685),f=()=>n(754697),h=()=>n(880026),y=()=>n(112907),S=()=>n(208897),b=()=>n(33705),x=()=>n(634280),I=()=>n(935989),k=()=>n(760023),T=n(163643);function A(e){const{environment:t,store:n,type:i,header:a,domainId:s}=e,l=n.getSiteStore();if(l)return l.id;let c=s;var d;c||(c=null===(d=y().Nq(n.getSpaceStore()))||void 0===d?void 0:d.id);const m=(0,f().JH)({environment:t,table:r().Eu,spaceId:(0,o().e)(n.getSpaceId())});g().createAndCommit({userAction:"publishSite.create",environment:t,canUndo:!0,perform:e=>{const o=u().vt({environment:t,table:m.table,args:{id:m.id,type:i,spaceId:m.spaceId,blockId:n.id,domainId:c,currentUserId:t.currentUser.id,header:a??{}},inMemoryRecordCache:t.defaultRecordCache.inMemoryRecordCache,transaction:e});return u().zv({store:n.getFormatStore(),data:{site_id:o.id},transaction:e}),o.id}})}function C(e){const{environment:t,siteRootBlockStore:n,domainId:i}=e;let o=n.getSiteStore();if(o||(A({environment:t,type:"site",store:n,domainId:i}),o=n.getSiteStore()),o)return o}function M(e){const{environment:t,domainId:n,resetWatermark:i}=e,o=C(e);o&&o.isDefined()&&(g().createAndCommit({userAction:"publishSite.updatePublicDomain",environment:t,canUndo:!0,perform:e=>{o.getDomainId()!==n&&g().applyOperation({transaction:e,store:o,operation:o.getModel().ops.updatePublicDomainId({domainId:n,currentUserId:t.currentUser.id})})}}),g().createAndCommit({userAction:"publishSite.resetWatermark",environment:t,canUndo:!0,perform:e=>{if(i){const n=o.getHeader();g().applyOperation({transaction:e,store:o,operation:o.getModel().ops.updateHeader({header:{...n,hideWatermark:!1},currentUserId:t.currentUser.id})})}}}),p().D6({label:(0,T.jsx)(s().sA,{id:"publishSiteSettings.publicDomain.confirmation",defaultMessage:"Successfully updated domain for all pages within this site"})}))}function w(e){const{environment:t,siteRootBlockStore:n,isSearchEngineIndexingEnabled:i}=e,r=C(e);if(!r)return;"form"!==r.getType()&&g().createAndCommit({userAction:"publishSite.updateSeoEnabled",environment:t,canUndo:!0,perform:e=>{r&&r.isDefined()&&i!==r.isSearchEngineIndexingEnabled()&&(g().applyOperation({transaction:e,store:r,operation:r.getModel().ops.updateIsSearchEngineIndexingEnabled({isSearchEngineIndexingEnabled:i,currentUserId:t.currentUser.id})}),i&&e.postSubmitCallbacks.push((async e=>{e||await d().callApi({eventName:"enqueueScanContentTask",environment:t,data:{pagePointer:{id:n.id,table:"block",spaceId:(0,o().e)(n.pointer.spaceId)}}})})))}})}function R(e){const{environment:t,store:n,seoTitle:i,seoDescription:o}=e;g().createAndCommit({userAction:"publishSite.create",environment:t,canUndo:!0,perform:e=>{const r=n.getFormat().seo_title,a=n.getFormat().seo_description;r===i&&a===o||(u().zv({store:n.getFormatStore(),data:{seo_title:i,seo_description:o},transaction:e}),(0,I().NZ)(t,{target_block_id:n.id,new_title:i??null,new_description:o??null}),p().D6({label:(0,T.jsx)(s().sA,{id:"siteSettingsEditor.publishSeoChanges.confirmation",defaultMessage:"Successfully updated the SEO settings"})}))}})}function P(e){x().A.setState({...x().A.state,settingOpen:e})}function z(){x().A.setState({...x().A.state,settingOpen:"initial"})}function U(e){b().A.setState({...b().A.state,siteSettingContentType:e})}function N(e){var t,n,i;const{siteRootBlockStore:o,permissionItem:r,from:a,sudoModeStore:s}=e,l=o.getSiteStore(),c=null==l?void 0:l.getHeader(),d=(null==c||null===(t=c.customItems)||void 0===t?void 0:t.map((e=>e.blockId)))||[];x().A.setState({settingOpen:"initial",permissionItem:r,from:a,sudoModeStore:s,faviconUrl:(null==l?void 0:l.getFaviconUrl())||null,previewImageUrl:(null==l?void 0:l.getPreviewImageUrl())||null,hideBreadcrumbs:null==c?void 0:c.hideBreadcrumbs,hideSearch:null==c?void 0:c.hideSearch,hideWatermark:null==c?void 0:c.hideWatermark,enableDuplicateAsTemplate:r.allow_duplicate,customHeaderBlockIds:d,googleAnalyticsId:null==l?void 0:l.getGoogleAnalyticsId(),theme:null==l||null===(n=l.getSettings())||void 0===n?void 0:n.theme,enableQna:null==l||null===(i=l.getSettings())||void 0===i?void 0:i.enableQna})}async function j(e){var t;const{environment:n,store:o,siteRootBlockStore:r}=e,a=C({environment:n,siteRootBlockStore:r}),u=null==a?void 0:a.getType();if(!a||"form"===u)return;const m=x().A.getState();let v=!1;const f={};let S;m.enableQna&&(S=await async function(e){var t,n,i,o;const{environment:r,siteStore:a}=e,s=null===(t=a.getSettings())||void 0===t?void 0:t.siteUserId;if(s)return s;if(!((null===(n=a.getDomainStore())||void 0===n?void 0:n.getDomainName())??(null===(i=y().Nq(a.getSpaceStore()))||void 0===i?void 0:i.domain_name)))throw new Error("no domain on site");const l=y().Ix({spaceStore:a.getSpaceStore(),domainId:null===(o=a.getDomainStore())||void 0===o?void 0:o.id}).split(":")[0],u=`${(0,c().S2)(a.id)}@${l}`,m=await d().callApi({eventName:"createEmailUser",environment:r,data:{email:u}});if("failed"===m.type)throw new Error("failed to create qna user");return m.data.userId}({environment:n,siteStore:a})),g().createAndCommit({userAction:"publishSite.updateSiteSettingsInEditor",environment:n,canUndo:!0,perform:e=>{if(a&&a.isDefined()){var t,i;(a.getFaviconUrl()||null)!==m.faviconUrl&&(g().applyOperation({transaction:e,store:a,operation:a.getModel().ops.updateFaviconUrl({faviconUrl:m.faviconUrl,currentUserId:n.currentUser.id})}),v=!0,f.favicon=m.faviconUrl);(a.getPreviewImageUrl()||null)!==m.previewImageUrl&&(g().applyOperation({transaction:e,store:a,operation:a.getModel().ops.updatePreviewImageUrl({previewImageUrl:m.previewImageUrl,currentUserId:n.currentUser.id})}),v=!0,f.preview_image=m.previewImageUrl);const o=a.getHeader();let r=o;const s=function(e,t){const n=e.map((e=>({type:"block",blockId:e})));if(!t&&0===n.length)return;if(t&&(0,l().n4)(n,t))return;return n}(m.customHeaderBlockIds,null==o?void 0:o.customItems);s&&(r={...r,customItems:s},f.custom_headers=s.map((e=>e.blockId))),(null==o?void 0:o.hideBreadcrumbs)!==m.hideBreadcrumbs&&(r={...r,hideBreadcrumbs:m.hideBreadcrumbs},f.hide_breadcrumbs=m.hideBreadcrumbs),(null==o?void 0:o.hideSearch)!==m.hideSearch&&(r={...r,hideSearch:m.hideSearch},f.hide_search=m.hideSearch),(null==o?void 0:o.hideWatermark)!==m.hideWatermark&&(r={...r,hideWatermark:m.hideWatermark},f.hide_watermark=m.hideWatermark),r&&o!==r&&(g().applyOperation({transaction:e,store:a,operation:a.getModel().ops.updateHeader({header:r,currentUserId:n.currentUser.id})}),v=!0);a.getGoogleAnalyticsId()!==m.googleAnalyticsId&&(g().applyOperation({transaction:e,store:a,operation:a.getModel().ops.updateGoogleAnalyticsId({googleAnalyticsId:m.googleAnalyticsId,currentUserId:n.currentUser.id})}),v=!0,f.google_analytics_id=m.googleAnalyticsId);(null===(t=a.getSettings())||void 0===t?void 0:t.theme)!==m.theme&&(g().applyOperation({transaction:e,store:a,operation:a.getModel().ops.updateTheme({theme:m.theme,currentUserId:n.currentUser.id})}),v=!0,f.theme=m.theme);(null===(i=a.getSettings())||void 0===i?void 0:i.enableQna)!==m.enableQna&&(m.enableQna?S&&g().applyOperation({transaction:e,store:a,operation:{pointer:a.pointer,command:"update",path:["settings"],args:{enableQna:m.enableQna,siteUserId:S}}}):g().applyOperation({transaction:e,store:a,operation:{pointer:a.pointer,command:"update",path:["settings"],args:{enableQna:m.enableQna}}}),v=!0)}}});if((null===(t=m.permissionItem)||void 0===t?void 0:t.allow_duplicate)!==m.enableDuplicateAsTemplate&&m.permissionItem&&m.from){const e=(0,i().Yi)(m.from);(0,h().Hc)({oldPermissionItem:m.permissionItem,newPermissionItem:{...m.permissionItem,allow_duplicate:m.enableDuplicateAsTemplate},wasInherited:e!==o.id,environment:n,store:o,sudoModeStore:m.sudoModeStore,location:"published_site_settings"}),v=!0,f.enable_duplicate_as_template=m.enableDuplicateAsTemplate}v&&((0,k().Kz)(n,{settings_changed:f}),p().D6({label:(0,T.jsx)(s().sA,{id:"siteSettingsEditor.publishChanges.confirmation",defaultMessage:"Changes published"})}))}function D(e){x().A.setState({...x().A.state,faviconUrl:e})}function E(e){x().A.setState({...x().A.state,previewImageUrl:e})}function B(e){x().A.setState({...x().A.state,hideBreadcrumbs:e})}function W(e){x().A.setState({...x().A.state,hideSearch:e})}function F(e){x().A.setState({...x().A.state,hideWatermark:e})}function L(e){x().A.setState({...x().A.state,enableDuplicateAsTemplate:e})}function _(e){const t=x().A.state.customHeaderBlockIds.concat([e]);x().A.setState({...x().A.state,customHeaderBlockIds:t})}function O(e){const t=x().A.state.customHeaderBlockIds.filter((t=>t!==e));x().A.setState({...x().A.state,customHeaderBlockIds:t})}function H(e){x().A.setState({...x().A.state,googleAnalyticsId:e})}function X(e){x().A.setState({...x().A.state,theme:e})}async function V(e){const{environment:t,spaceStore:n,query:i,siteRootBlockId:o}=e;if(!n)return;const r=await d().callApi({eventName:"searchPagesInSite",environment:t,data:{query:i,spaceId:n.id,filters:a().N2({isDeletedOnly:!1,navigableBlockContentOnly:!0,excludeTemplates:!0,editedBy:[],ancestors:[o],inTeams:[]}),sort:{field:"relevance"},limit:10}});return"failed"!==r.type?r.data:void 0}async function Y(e){const{environment:t,blockStore:n,slug:i}=e,o=await d().callApi({eventName:"updatePublicPageSlug",environment:t,data:{spaceId:n.getSpaceId(),blockId:n.id,slug:i,clientVersion:v().A.version}});if("success"!==o.type)return{error:o};p().D6({label:(0,T.jsx)(s().sA,{id:"customSlugInput.updateSuccess.toast",defaultMessage:"Successfully updated URL for this page"})})}function G(e){x().A.setState({...x().A.state,enableQna:e})}function K(e){const{environment:t,store:n,pageVisitSource:i}=e,o=S().R({store:n,pageVisitSource:i});m().f({environment:t,url:o})}function $(e){const{environment:t,siteStore:n,embedSettings:i}=e;g().createAndCommit({userAction:"embedSite.updateEmbedSettings",environment:t,canUndo:!0,perform:e=>{u().zv({store:n.getSettingsStore(),data:{embedSettings:i},transaction:e})}})}},803291:(e,t,n)=>{n.d(t,{t:()=>r});var i=n(242343),o=n(163643);const r=i.memo((function(e){const{coverHeight:t,coverSizeFormat:i,emptyGalleryCoverStyle:r}=e,a=(0,n(174114).IS)((()=>({container:{height:(0,n(869596).F)(t,i),...r}})),[t,i,r]);return(0,o.jsx)("div",{style:a.container})}))},810813:(e,t,n)=>{n.d(t,{p:()=>r});var i=()=>n(84543),o=()=>n(702851);function r(e){const{environment:t,collectionStore:n,performTransaction:r}=e;return i().createAndCommit({userAction:"collectionViewActions.createSchemaUpdateTransaction",environment:t,canUndo:!0,perform:e=>{const i=n.getSchema(),a=r(e),s=n.getSchema();return(0,o().H)({environment:t,collectionStore:n,oldSchema:i,newSchema:s,transaction:e}),a}}).performResult}},842940:(e,t,n)=>{n.d(t,{J:()=>o});n(242343);const i={viewBox:"0 0 20 20",svg:(0,n(163643).jsx)("path",{d:"M8.875 2.625a6.25 6.25 0 1 0 3.955 11.09l3.983 3.982a.625.625 0 1 0 .884-.884l-3.983-3.982a6.25 6.25 0 0 0-4.84-10.205m-5 6.25a5 5 0 1 1 10 0 5 5 0 0 1-10 0"})},o=(0,n(680369).wt)("magnifyingGlass",i)},869596:(e,t,n)=>{n.d(t,{F:()=>o});var i=()=>n(551116);function o(e,t){if(e)return e;switch(t){case"large":return i().A.card.desktop.large.height;case"small":return i().A.card.desktop.small.height;default:return i().A.card.desktop.medium.height}}},880026:(e,t,n)=>{n.d(t,{Dw:()=>I,Hc:()=>x,o5:()=>b});n(610931),n(242343);var i=()=>n(502140),o=()=>n(514438),r=()=>n(680369),a=()=>n(486540),s=()=>n(66460),l=()=>n(653998),c=()=>n(975392),d=()=>n(441288),u=()=>n(145046),m=()=>n(919536),p=()=>n(84543),g=()=>n(35462),v=()=>n(990616),f=()=>n(196387),h=()=>n(413871),y=()=>n(268117),S=n(163643);async function b(e){let{newRole:t,...n}=e;const i=n.oldPermissionItem,o=(0,c().o8)(i);return o.role=t,await x({newPermissionItem:o,...n})}async function x(e){const{oldPermissionItem:t,newPermissionItem:n,wasInherited:o,environment:r,store:l,sudoModeStore:c,restrictingVisibility:u,fromPermissionWrapper:g,trustedDomainsLoggingData:v}=e,S=(0,y().FI)();if(!(0,a().nK)(t,n))throw new Error("Permission type mismatch.");const b=!!c&&c.shouldSaveTransactionWithSudoMode(l),x=(0,a().$q)(t.role,n.role);if(o&&x!==n.role||u){return await I({environment:r,useSudoMode:b,store:l,permissionItem:n,fromPermissionWrapper:g,isRedesignEnabled:S,shouldInherit:!0,trustedDomainsLoggingData:v})}return l instanceof h().Bv&&!l.isTopLevel()&&t.role!==n.role&&x!==t.role&&d().MR(r),p().createAndCommit({userAction:"PermissionItem.handlePermissionItemChange",environment:r,canUndo:!0,useSudoMode:b,perform:t=>{const i=f().default.DO_NOT_USE_markLegacy("share_menu.update_page_permission_lag");m().wd({environment:r,store:l,permissionItems:[n],transaction:t,pagePermissionChangeLocation:e.location,metric:i,fromPermissionWrapper:g})}}),"trusted_domain_permission"===n.type&&i().log({level:"warning",from:"shareMenu.handlePermissionItemChange",type:"TrustedDomainPermissionChange",spaceId:(0,s().e)(l.pointer.spaceId),data:{miscDataToConvertToString:{message:"shareMenu.handlePermissionItemChange updating trusted domain permission",blockId:l.id,oldPermissionItem:t,newPermissionItem:n,trustedDomainsLoggingData:v}}}),!0}async function I(e){const{environment:t,useSudoMode:n,store:i,permissionItem:a,fromPermissionWrapper:s,isRedesignEnabled:c,shouldInherit:d,trustedDomainsLoggingData:f}=e,h="none"===(null==a?void 0:a.role)?{type:"remove",permissionItem:a}:{type:"restrict"};return!!("user_permission"===(null==a?void 0:a.type)&&(null==a?void 0:a.user_id)===t.currentUser.id||(c?await u().Gh({message:(0,v().r6)(h,c),description:(0,S.jsx)(g().A,{isSmall:!0,isMultiline:!0,children:(0,S.jsx)(l().sA,{id:"restrictedPermissionConfirmationModal.footer.whisperTextV2",defaultMessage:"Changing this will unlink this page from its parent, so it will no longer inherit share settings. Admins can still restore settings on unlinked pages."})}),acceptLabel:(0,v().QU)(h,c),icon:(0,o().r)({height:r().Ev.xl,width:r().Ev.xl})}):await u().Gh({message:(0,v().r6)(h),acceptLabel:(0,v().QU)(h),cancelLabel:(0,S.jsx)(l().sA,{id:"restrictedPermissionConfirmationModal.actionButton.close",defaultMessage:"Close"}),description:(0,S.jsx)(g().A,{isSmall:!0,isMultiline:!0,children:(0,S.jsx)(l().sA,{id:"restrictedPermissionConfirmationModal.footer.whisperText",defaultMessage:"Admins will still be able to restore permissions from restricted pages."})})})).accept)&&(p().createAndCommit({userAction:"PermissionItem.onAccept",environment:t,canUndo:!0,useSudoMode:n,perform:e=>{m().wW({environment:t,store:i,permissionItem:a,shouldInherit:d,transaction:e,fromPermissionWrapper:s,trustedDomainsLoggingData:f})}}),!0)}},888575:(e,t,n)=>{n.d(t,{A:()=>o});n(242343);var i=n(163643);const o=function(e){const{botStore:t,avatarSize:o,shouldShowBadge:r,style:a,inline:s}=e,l=(0,n(653998).tz)(),c=(0,n(237385).Y0)(),d=(0,n(803290).K8)((()=>null==t?void 0:t.getDisplayName(l)),[t,l]),{outerStyle:u,avatarWrapStyle:m,badgeStyle:p}=(0,n(174114).IS)((e=>({outerStyle:{display:"flex",alignItems:"center",minWidth:0,...a},avatarWrapStyle:s?{width:"none",minHeight:"none",marginRight:6}:{marginRight:6},badgeStyle:{padding:"2px 6px",borderRadius:4,color:e.text.secondary,background:e.legacyDefaultSelectColor,fontSize:c.isMobile?11:9,lineHeight:c.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em",marginLeft:8,marginTop:1}})),[a,s,c]);return(0,i.jsxs)("div",{style:u,children:[(0,i.jsx)("div",{style:m,children:(0,i.jsx)(n(951156).A,{botStore:t,size:o})}),(0,i.jsx)("div",{style:{...n(31448).RC},children:d}),r&&(0,i.jsx)("div",{style:p,children:"Bot"})]})}},935989:(e,t,n)=>{n.d(t,{EN:()=>o,Ex:()=>r,NZ:()=>a,T6:()=>l,i_:()=>s,kW:()=>c});var i=()=>n(137476);function o(e,t){(0,i().u4)({environment:e,event:{eventName:"open_publish_modal",eventProperties:t}})}function r(e,t){(0,i().u4)({environment:e,event:{eventName:"change_domain",eventProperties:t}})}function a(e,t){(0,i().u4)({environment:e,event:{eventName:"update_seo_settings",eventProperties:t}})}function s(e,t){(0,i().u4)({environment:e,event:{eventName:"site_set_link_expiration",eventProperties:t}})}function l(e,t){(0,i().u4)({environment:e,event:{eventName:"page_unpublish",eventProperties:t}})}function c(e,t){(0,i().u4)({environment:e,event:{eventName:"page_publish",eventProperties:t}})}},957881:(e,t,n)=>{n.d(t,{w:()=>p});var i=n(242343),o=()=>n(237385),r=()=>n(803290),a=()=>n(174114),s=()=>n(791976),l=()=>n(759625),c=()=>n(84543),d=()=>n(28210),u=()=>n(219322),m=n(163643);function p(e){const{clickTitleBehavior:t,blockStore:n,format:s,shouldWrap:p}=e,v="edit"===t,f=(0,o().v3)(),[h,y,S]=(0,r().K8)((()=>[n.getIcon(),n.isEmptyPage(),n.isReady()&&"none"===n.getRole()]),[n]),{style:b}=(0,a().IS)((()=>({style:{flexShrink:0,marginRight:v?0:u().U[s].recordIconMarginRight,justifyContent:"flex-start",...p&&{display:"inline-block",verticalAlign:"text-top",marginBottom:-1}}})),[v,s,p]),x=(0,i.useCallback)((e=>{const t=n.getIconStore();t&&c().createAndCommit({userAction:"RelationToken.handleRecordIconChange",environment:f,canUndo:!0,perform:n=>{l().KY({store:t,value:e,transaction:n})}})}),[n,f]),I={icon:h,size:u().U[s].pageIconSize,isEmptyPage:y,style:b};return S?(0,m.jsx)(g,{...I}):v?(0,m.jsx)(d().B,{...I,disabled:!1,onChange:x,bucket:"public"}):(0,m.jsx)(d().B,{...I,disabled:!0})}function g(e){const t=(0,a().DP)();return(0,s().T)({...e.style,width:e.size,height:e.size,fill:t.icon.secondary,verticalAlign:"top",marginTop:1})}},990616:(e,t,n)=>{n.d(t,{QU:()=>f,f2:()=>v,r6:()=>h});n(403517),n(242343);var i=()=>n(803290),o=()=>n(174114),r=()=>n(446588),a=()=>n(653998),s=()=>n(76394),l=()=>n(31448),c=()=>n(268117),d=()=>n(98508),u=()=>n(485966),m=()=>n(142708),p=()=>n(586121),g=n(163643);function v(e){const{openState:t}=e,{mainEditorCurrentBlockStore:n,currentSpaceStore:r}=(0,i().K8)((()=>{const{mainEditorCurrentBlockStore:e,currentSpaceStore:t}=u().default.state;return{mainEditorCurrentBlockStore:e,currentSpaceStore:t}}),[]),a=(0,i().K8)((()=>(0,c().FI)()),[]),s=(0,o().IS)((e=>({scroller:{display:"flex",flexDirection:"column",maxHeight:290,...a?{border:`1px solid ${e.lightDividerColor}`,borderRadius:6,paddingTop:8,paddingLeft:12,paddingRight:12,paddingBottom:12,marginTop:15,marginBottom:5,marginLeft:-12,marginRight:-12}:{}},editContainer:{marginTop:2,marginBottom:2,color:e.text.primary}})),[a]);if(!n||!r)return null;const l=Date.now();return(0,g.jsx)(m().H,{type:d().A.Y,style:s.scroller,children:t.permissionChanges.map(((e,t)=>{let[i,o]=e;const a={timestamp:l,space_id:r.id,type:"permission-changed",permission_data:{before:i,after:o}};return(0,g.jsx)("div",{style:s.editContainer,children:(0,g.jsx)(p().A,{rootStore:n,edit:a})},`${i.type}-${t}`)}))})}function f(e,t){return["remove","restrict"].includes(e.type)?t?(0,g.jsx)(a().sA,{id:"restrictedPermissionConfirmationModal.actionButton.restrictAccessV2",defaultMessage:"Change and unlink"}):(0,g.jsx)(a().sA,{id:"restrictedPermissionConfirmationModal.actionButton.restrictAccess",defaultMessage:"Restrict access"}):t?(0,g.jsx)(a().sA,{id:"restrictedPermissionConfirmationModal.actionButton.relink",defaultMessage:"Relink"}):"restoreTeamPermissions"===e.type?(0,g.jsx)(a().sA,{id:"restrictedPermissionConfirmationModal.actionButton.restoreTeamPermissions",defaultMessage:"Reset Permissions"}):(0,g.jsx)(a().sA,{id:"restrictedPermissionConfirmationModal.actionButton.restoreAccess",defaultMessage:"Restore access"})}function h(e,t){switch(e.type){case"remove":return t?(0,g.jsx)(a().sA,{id:"restrictedPermissionConfirmationModal.remove.descriptionV2",defaultMessage:"Change access and unlink share settings from parent page?"}):(0,g.jsx)(a().sA,{id:"restrictedPermissionConfirmationModal.restrict.description",defaultMessage:"Are you sure you want to remove this {permissionGroup} and restrict access? This page will no longer inherit share settings from the parent page.",values:{permissionGroup:y(e)}});case"restrict":return t?(0,g.jsx)(a().sA,{id:"restrictedPermissionConfirmationModal.remove.descriptionV2",defaultMessage:"Change access and unlink share settings from parent page?"}):(0,g.jsx)(a().sA,{id:"restrictedPermissionConfirmationModal.remove.description",defaultMessage:"Are you sure you want to change this role and restrict access? This page will no longer inherit share settings from the parent page."});case"restore":return t?(0,g.jsx)(a().sA,{id:"restrictedPermissionConfirmationModal.relink.description",defaultMessage:"Relink share settings?"}):e.permissionChanges.length>0?(0,g.jsx)(a().sA,{id:"restrictedPermissionConfirmationModal.restore.description",defaultMessage:"Are you sure you want to restore access? This will inherit the following permissions from the parent page:"}):(0,g.jsx)(a().sA,{id:"restrictedPermissionConfirmationModal.restoreNoChanges.description",defaultMessage:"Are you sure you want to restore access?"});case"restoreTeamPermissions":return t?(0,g.jsx)(a().sA,{id:"restrictedPermissionConfirmationModal.relink.description",defaultMessage:"Relink share settings?"}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{style:{fontWeight:l().Wy.semibold,marginBottom:4},children:(0,g.jsx)(a().sA,{id:"restrictedPermissionConfirmationModal.restoreTeamPermissions.mainDescription",defaultMessage:"Are you sure you want to reset permissions to match the teamspace defaults?"})}),(0,g.jsx)(a().sA,{id:"restrictedPermissionConfirmationModal.restoreTeamPermissions.warningMessage",defaultMessage:"Everyone else who is not part of the teamspace will lose access, including guests."})]});default:throw s().HB(e)}}function y(e){return(0,r().B2)(e.permissionItem)?(0,g.jsx)(a().sA,{id:"restrictedPermissionConfirmationModal.permissionGroup.user",defaultMessage:"user"}):(0,r().Ds)(e.permissionItem)?(0,g.jsx)(a().sA,{id:"restrictedPermissionConfirmationModal.permissionGroup.group",defaultMessage:"group"}):(0,r().Lg)(e.permissionItem)?(0,g.jsx)(a().sA,{id:"restrictedPermissionConfirmationModal.permissionGroup.space",defaultMessage:"workspace"}):(0,g.jsx)(a().sA,{id:"restrictedPermissionConfirmationModal.permissionGroup.generic",defaultMessage:"permission"})}}}]);