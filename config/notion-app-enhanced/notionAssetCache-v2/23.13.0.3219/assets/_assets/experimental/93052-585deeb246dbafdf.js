"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[93052],{59279:(e,t,o)=>{o.d(t,{Ji:()=>j,bd:()=>P,f0:()=>A,mf:()=>M,s7:()=>k});o(362833),o(242343);var i=()=>o(803290),n=()=>o(174114),s=()=>o(711361),l=()=>o(653998),r=()=>o(975392),a=()=>o(76394),d=()=>o(640979),c=()=>o(907721),u=()=>o(962373),p=()=>o(535906),h=()=>o(273520),m=()=>o(356813),g=()=>o(517198),b=()=>o(935091),y=()=>o(858023),f=()=>o(443252),x=()=>o(88271),v=()=>o(103151),w=()=>o(35462),S=o(163643);const C=20,j=12;function k(e){let{title:t,byline:o,icon:i,iconSize:n,iconMargin:s,useThinTitle:l,useSecondaryColorTitle:r,containerStyles:a,summaryStyles:d,rightContent:c,badge:u}=e;const p=A({icon:i,iconSize:n,iconMargin:s,useThinTitle:l,containerStyles:a,summaryStyles:d});return(0,S.jsxs)("div",{style:p.container,children:[i?(0,S.jsx)("div",{style:p.iconContainer,children:i}):null,(0,S.jsxs)("div",{style:p.summaryContainer,children:[(0,S.jsxs)("div",{style:p.nameContainer,children:[(0,S.jsx)(w().A,{style:p.name,isSecondaryColor:r,showTooltipWhenTruncated:!0,children:t}),u?(0,S.jsx)("div",{style:p.badge,children:u}):null]}),o?(0,S.jsx)(w().A,{style:p.byline,children:o}):null]}),c]})}function A(e){const{icon:t,iconSize:o,iconMargin:i,useThinTitle:s,containerStyles:l,summaryStyles:r}=e,a=i??j,d=t?o??C:0;return(0,n().IS)((e=>({container:{position:"relative",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",padding:"8px 0",width:"100%",...l},summaryContainer:{width:`calc(100% - ${d}px)`,...r},iconContainer:{height:d,width:d,flexGrow:0,flexShrink:0,flexBasis:d,marginRight:a,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:6},badge:{marginRight:8},nameContainer:{display:"flex",alignItems:"center",gap:6},name:{fontSize:14,fontWeight:s?400:500},byline:{fontSize:12,lineHeight:1.3,opacity:.5}})),[d,a,s,l,r])}function M(e){let{titleStyles:t,includeByline:o,bylineStyles:i,includeIcon:s,iconStyles:l,containerStyles:r}=e;const a=(0,n().IS)((()=>({container:{height:53,display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",padding:"8px 0",width:"100%",gap:8,...r},icon:{borderRadius:4,height:24,width:24,marginLeft:-2,...l},textContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",width:"calc(100% - 32px)",gap:4},title:{borderRadius:4,height:14,width:"80%",...t},byline:{borderRadius:4,height:12,width:"60%",...i}})),[r,t,i,l]);return(0,S.jsxs)("div",{style:a.container,children:[s?(0,S.jsx)(g().A,{style:a.icon}):null,(0,S.jsxs)("div",{style:a.textContainer,children:[(0,S.jsx)(g().A,{style:a.title}),o?(0,S.jsx)(g().A,{style:a.byline}):null]})]})}function P(e){const t=(0,l().tz)(),o=(0,i().uB)(void 0,u().A),g=(0,n().IS)((()=>({popupMenu:{width:312}})),[]);let w=[];const C=[];for(const i of e.items)if("divider"===i.type){const t=C.length>0,o={key:`actions-${C.length}`,render:o=>(0,S.jsx)(x().A,{title:e.title,topBorder:t,...o}),items:w};C.push(o),w=[]}else if("action"===i.type){const e={key:i.key,render:e=>(0,S.jsx)(v().A,{textWrap:!0,render:t=>(0,S.jsx)(p().A,{...e,...t,isRedOnHover:i.isDestructive,shouldWrapCaption:!0,icon:i.icon,title:i.title,caption:i.caption,disabled:i.disabled,disabledFeedback:i.disabled}),renderTooltip:()=>i.tooltipTitle,disableTooltip:i.tooltipDisabled??!0,placement:c().W.Right}),action:()=>{i.action(),o.setState({...o.state,open:!1})}};w.push(e)}else(0,a().HB)(i);const j={key:`actions-${C.length}`,render:t=>(0,S.jsx)(x().A,{title:e.title,topBorder:C.length>0,...t}),items:w};return C.push(j),(0,S.jsx)(h().Ay,{stopClickPropagation:!0,popupType:f().nl.Popup,alignmentToOrigin:c().C.Start,placementToOrigin:c().W.Bottom,style:g.popupMenu,render:()=>(0,S.jsx)(b().A,{menuType:d().gu.Popup,width:312,children:(0,S.jsx)(y().Ay,{type:y().Oh.Vertical,initialFocus:void 0,sections:C})}),onClose:r().lQ,buttonPopupStore:o,renderOrigin:e=>(0,S.jsx)(m().A,{ariaLabel:t.formatMessage({id:"iconCellActionMenu.iconButton.ariaLabel",defaultMessage:"More actions"}),icon:s()._,...e})})}},60525:(e,t,o)=>{o.d(t,{A:()=>n});o(242343);var i=o(163643);const n=function(e){let{loading:t,onLoadMore:n,loadMoreOffsetThreshold:s,resultSize:l,fetchSize:r}=e;return(0,i.jsx)(o(168980).A,{onChange:e=>function(e,t,o,i,n,s){if(t)return;const l=i||200;if(e>l)return;const r=void 0===n||void 0===s||n>=s;r&&o()}(e,t,n,s,l,r)})}},213255:(e,t,o)=>{o.d(t,{A:()=>s});o(242343);var i=o(163643);const n={viewBox:"0 0 20 20",svg:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M8.65 8.25a.625.625 0 1 0 0 1.25h.725v3.25H8.65a.625.625 0 1 0 0 1.25h2.7a.625.625 0 1 0 0-1.25h-.725V8.875A.625.625 0 0 0 10 8.25zM10.7 6.3a.8.8 0 1 1-1.6 0 .8.8 0 0 1 1.6 0"}),(0,i.jsx)("path",{d:"M10 2.375a7.625 7.625 0 1 0 0 15.25 7.625 7.625 0 0 0 0-15.25M3.625 10a6.375 6.375 0 1 1 12.75 0 6.375 6.375 0 0 1-12.75 0"})]})},s=(0,o(680369).wt)("infoCircle",n)},274347:(e,t,o)=>{o.d(t,{ED:()=>y,Kb:()=>x});o(242343);var i=()=>o(803290),n=()=>o(174114),s=()=>o(198654),l=()=>o(640979),r=()=>o(962373),a=()=>o(273520),d=()=>o(935091),c=()=>o(858023),u=()=>o(443252),p=()=>o(88271),h=()=>o(35462),m=()=>o(209684),g=()=>o(59279),b=o(163643);function y(e){let{title:t,items:o,disabled:s,hideDropdownIcon:h,itemMaxWidth:m,itemMinWidth:g,...y}=e;const x=(0,i().uB)(void 0,r().A),v=(0,n().IS)((()=>({container:{minWidth:180}})),[]),w={key:"workspace-users-menu",render:e=>(0,b.jsx)(p().A,{...e}),items:o};return(0,b.jsx)(a().Ay,{popupType:u().nl.Popup,style:v.container,buttonPopupStore:x,disabled:s,renderOrigin:e=>(0,b.jsx)(f,{title:t,hideDropdownIcon:h,disabled:s,styles:y.styles,...e}),render:()=>(0,b.jsx)(d().A,{menuType:l().gu.Popup,maxWidth:m??250,minWidth:g,children:(0,b.jsx)(c().Ay,{type:c().Oh.Vertical,initialFocus:0,sections:[w],onAccept:()=>{x.setState({open:!1})}})})})}function f(e){let{title:t,hideDropdownIcon:o,disabled:i,...l}=e;const r=(0,n().IS)((e=>({container:{display:"inline-flex",flexDirection:"row",justifyContent:"center",alignItems:"center",maxWidth:"100%",...l.styles},chevron:{width:10,height:10,marginLeft:4,color:e.lightIconColor}})),[l.styles]);return(0,b.jsxs)(m().p,{style:r.container,disabled:i,...l,children:[(0,b.jsx)(h().A,{showTooltipWhenTruncated:!0,children:t}),o||i?null:(0,s().b)(r.chevron)]})}function x(){const e=(0,n().IS)((()=>({title:{width:"50%"}})),[]);return(0,b.jsx)(g().mf,{titleStyles:e.title})}},300481:(e,t,o)=>{o.d(t,{A:()=>n});const i=new(o(967203).U)((e=>{let{spaceId:t}=e;return t}),(async function(e,t){var i;let{spaceId:n}=t;const s=await Promise.resolve().then(o.bind(o,818369)),l=await s.callApi({eventName:"getInternalDomains",environment:e,data:{spaceId:n}});return"success"===l.type?null===(i=l.data)||void 0===i?void 0:i.internalDomainsWithInfo:void 0}));o(996094).exposeDebugValue("InternalDomainsStore",i);const n=i},537311:(e,t,o)=>{o.d(t,{Gr:()=>A,WE:()=>R,rC:()=>P});o(725707),o(403517),o(244387);var i=o(242343),n=()=>o(174114),s=()=>o(175532),l=()=>o(898941),r=()=>o(377963),a=()=>o(855470),d=()=>o(213255),c=()=>o(653998),u=()=>o(76394),p=()=>o(31448),h=()=>o(502852),m=()=>o(906230),g=()=>o(622163),b=()=>o(907721),y=()=>o(126451),f=()=>o(209684),x=()=>o(559637),v=()=>o(60525),w=()=>o(701270),S=()=>o(103151),C=o(163643);const j=14,k=16,A=j+k,M=24;function P(e){let{columnRenderInfo:t,theme:o,containerMarginTop:i}=e;return{container:{marginTop:i??17,tableLayout:"fixed",borderCollapse:"collapse",width:"100%",minWidth:t.reduce(((e,t)=>e+W(t.widthData)+M),0)},tableHeaderRow:{},paddingRowCell:{height:8}}}function R(e){let{columnRenderInfo:t,sortState:o,onSortStateChanged:s,showRowBorders:l,hideHeaderRow:r,hideHeaderRowPadding:a,renderRowChild:d,rows:c,onRowClick:u,renderNoRowsComponent:p,styles:h,getStyleForRow:m,extendToFullScreen:g,multiselect:b,allowHorizontalScroll:y,setStickyHeaderColumn:f,maxHeight:x,setStickyHeaderRow:w,loadMoreMethod:S}=e;const j=y?f??!0:void 0,k=(0,n().IS)((e=>({horizontalScrollContainer:{position:"relative",width:null!=g&&g.extendTableToFullWidthOffsetPx?`calc(100% + ${null==g?void 0:g.extendTableToFullWidthOffsetPx}px)`:"100%",display:"grid",overflow:"auto"},scrollableContainer:{maxHeight:x,position:"relative",display:"grid",overflowX:"auto",width:"100%"},table:j?{...h.container,minWidth:"100%",width:void 0}:h.container})),[h.container,j,x,null==g?void 0:g.extendTableToFullWidthOffsetPx]),A=(0,n().IS)((e=>({thead:{position:"sticky",zIndex:1}})),[]),M=(0,i.useCallback)((e=>{var t;const i=e.id===(null==o||null===(t=o.column)||void 0===t?void 0:t.id)&&!(null!=o&&o.sortAscending);s&&s({sortAscending:i,column:e})}),[o,s]),P=(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("table",{style:k.table,children:[!r&&(0,C.jsx)("thead",{style:w?A.thead:void 0,children:(0,C.jsxs)("tr",{children:[t.map(((e,t)=>(0,C.jsx)(I,{index:t,column:e,sortState:o,handleSortableColumnClick:M,shouldShowSortIcon:0!==c.length,multiselect:b,setStickyHeaderColumn:j,setStickyHeaderRow:w,style:e.headerStyle},`header_${e.id}`))),null!=g&&g.rightPaddingPx?(0,C.jsx)(F,{width:null==g?void 0:g.rightPaddingPx,style:t[t.length-1].rowStyle}):null]})}),!a&&(0,C.jsx)("tbody",{children:(0,C.jsxs)("tr",{children:[t.map((e=>(0,C.jsx)("td",{style:h.paddingRowCell},`padding_row_${e.id}`))),null!=g&&g.rightPaddingPx?(0,C.jsx)("td",{style:h.paddingRowCell}):null]})}),(0,C.jsx)("tbody",{children:c.map((e=>(0,C.jsx)(_,{columns:t,onRowClick:u,rowChild:null==d?void 0:d(e),showRowBorders:l,row:e,getStyleForRow:m,multiselect:b,setStickyHeaderColumn:j,rightPaddingPx:null==g?void 0:g.rightPaddingPx},`${e.id}_row`)))}),c.length>0&&S&&(!y||"scroll"!==(null==S?void 0:S.type))?(0,C.jsx)("tfoot",{children:(0,C.jsx)(O,{columnLength:t.length,loadMoreMethod:S,showRowBorders:l,rightPaddingPx:null==g?void 0:g.rightPaddingPx,style:t[t.length-1].rowStyle})}):null]}),0===c.length&&p()]});return y?(0,C.jsxs)("div",{style:k.horizontalScrollContainer,children:[(0,C.jsxs)("div",{style:k.scrollableContainer,children:[P,x&&"scroll"===(null==S?void 0:S.type)&&(0,C.jsx)(v().A,{loading:!1,loadMoreOffsetThreshold:100,onLoadMore:S.onLoadMore})]}),!x&&"scroll"===(null==S?void 0:S.type)&&(0,C.jsx)(v().A,{loading:!1,loadMoreOffsetThreshold:100,onLoadMore:S.onLoadMore})]}):(0,C.jsx)("div",{style:{maxHeight:x,overflowY:w&&x?"auto":void 0,overflowX:w&&x?"hidden":void 0},children:P})}function I(e){let{column:t,index:o,sortState:s,handleSortableColumnClick:r,shouldShowSortIcon:a,multiselect:u,setStickyHeaderColumn:h,setStickyHeaderRow:g,style:y}=e;const[v,w]=(0,i.useState)(!1),A=0===o,M=t.id===(null==s?void 0:s.column.id),P=(0,n().IS)((e=>({th:{boxShadow:`\n\t\t\t\t\tinset 0 1px 0 ${e.tableDividerColor},\n\t\t\t\t\tinset 0 -1px 0 ${e.tableDividerColor}\n\t\t\t\t`,...g&&{position:"sticky",top:0,zIndex:3,background:e.modalBackground},...D(t),...h&&A&&{position:"sticky",zIndex:4,left:0,background:e.modalBackground,boxShadow:`\n\t\t\t\t\t\t\tinset -1px 0px 0px ${e.tableDividerColor},\n\t\t\t\t\t\t\tinset 0 1px 0 ${e.tableDividerColor},\n\t\t\t\t\t\t\tinset 0 -1px 0 ${e.tableDividerColor}\n\t\t\t\t\t\t`},height:32,...y},innerDiv:{display:"flex",alignItems:"center",height:"100%",minWidth:W(t.widthData),maxWidth:t.widthData.maxWidth},text:{fontSize:p().J.UISmall.desktop,fontWeight:p().Wy.regular,color:e.text.secondary,...p().RC},sortButton:{padding:5,margin:-5},sortIcon:{color:e.text.secondary,width:12,height:12,marginLeft:4,fill:"currentColor"},multiselectCheckbox:{color:e.selectLightGray[300],marginRight:k,opacity:null!=u&&u.header.isDisabled?.5:1},tooltipContainer:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},tooltipIcon:{marginLeft:4,color:v?e.mediumIconColor:e.lightIconColor,height:16,width:16},tooltip:{width:380}})),[t,u,h,g,y,A,v]),R=()=>{if(s&&a&&M)return(0,l().m)({...P.sortIcon,...s.sortAscending&&{transform:"rotate(180deg)"}})},I={onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1)},_=t.headerInfoTooltip?(0,C.jsxs)("div",{style:P.tooltipContainer,children:[(0,C.jsx)("div",{style:P.text,children:t.headerTitle}),(0,C.jsx)(S().A,{textWrap:!0,style:P.tooltip,delayThreshold:0,render:e=>(0,C.jsx)("div",{...(0,m().A)(e,I),children:(0,d().A)(P.tooltipIcon)}),renderTooltip:()=>t.headerInfoTooltip})]}):(0,C.jsx)("div",{style:P.text,children:t.headerTitle}),L=t.sortable?(0,C.jsx)(S().A,{placement:b().W.Bottom,disableTooltip:!t.shouldShowSortTooltip,renderTooltip:()=>M?(0,C.jsx)(c().sA,{id:"baseTable.hoverSortedHeaderCell",defaultMessage:"Reverse sort order"}):(0,C.jsx)(c().sA,{id:"baseTable.hoverSortableHeaderCell",defaultMessage:"Sort by this column"}),render:e=>(0,C.jsxs)(f().p,{size:"xs",style:P.sortButton,onClick:()=>r(t),...e,children:[_,R()]})}):_,T=void 0!==u&&0===o?(0,C.jsx)(x().A,{style:P.multiselectCheckbox,disabled:u.header.isDisabled,onClick:()=>u.header.onClick(),checked:u.header.isSelected,size:j,tapArea:{size:30}}):null;return(0,C.jsx)("th",{style:P.th,children:(0,C.jsxs)("div",{style:P.innerDiv,children:[T,L]})})}function _(e){let{row:t,columns:o,onRowClick:s,rowChild:l,showRowBorders:r,getStyleForRow:a,setStickyHeaderColumn:d,multiselect:c,rightPaddingPx:u}=e;const[p,h]=(0,i.useState)(!1),m=t.isClickable,g=(0,i.useCallback)((()=>h(!0)),[]),b=(0,i.useCallback)((()=>h(!1)),[]),y=(0,i.useCallback)((e=>{m&&void 0!==s&&T(e,(()=>s(t)))}),[m,s,t]),f=(0,n().IS)((e=>({row:{height:1,...m&&{cursor:"pointer"},...r&&{borderBottom:`1px solid ${e.tableDividerColor}`},...a&&a(t)}})),[m,r,a,t]);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("tr",{onMouseLeave:b,onMouseEnter:g,style:f.row,onClick:y,children:[o.map(((e,i)=>(0,C.jsx)(L,{isRowHovered:p,isRowClickable:m,columnIndex:i,numColumns:o.length,data:t,column:e,multiselect:c,setStickyHeaderColumn:d,cellStyle:e.rowStyle},`cell_${t.id}_${e.id}`))),u?(0,C.jsx)(H,{style:o[o.length-1].rowStyle}):null]}),l&&(0,C.jsx)("tr",{style:f.row,children:(0,C.jsx)("td",{colSpan:o.length,children:l})})]})}function L(e){let{data:t,column:o,columnIndex:i,numColumns:s,isRowHovered:l,isRowClickable:r,multiselect:a,setStickyHeaderColumn:d,cellStyle:c}=e;const u=0===i,h=i===s-1,m=(0,n().IS)((e=>({td:{...D(o),height:"inherit",...u&&{borderRadius:(0,g().Nb)({topLeft:4,bottomLeft:4})},...h&&{borderRadius:(0,g().Nb)({topRight:4,bottomRight:4})},...d&&u&&{position:"sticky",zIndex:2,left:0,background:e.modalBackground,boxShadow:`inset -1px 0px 0px ${e.tableDividerColor}`},...c,...l&&r&&{background:"light"===e.mode?"#f8f8f7":e.accentColors.gray[30]}},innerDiv:{minWidth:W(o.widthData),maxWidth:o.widthData.maxWidth,fontSize:p().J.UIRegular.desktop,color:e.text.primary,minHeight:42,maxHeight:52,display:"flex",alignItems:"center",height:"100%"},multiselectCheckbox:{color:e.selectLightGray[300],marginRight:16,opacity:null!=a&&a.row.getDisabledState(t)?.5:1}})),[o,u,h,l,r,a,t,d,c]),b=Boolean(o.hasClickableContents)||!!o.computeClickableContents&&o.computeClickableContents(t),y=a&&u?(0,C.jsx)(x().A,{style:m.multiselectCheckbox,checked:a.row.getSelectedState(t),onClick:e=>{e.stopPropagation(),a.row.onClick(t)},disabled:a.row.getDisabledState(t),size:14,tapArea:{size:30}}):null;return(0,C.jsx)("td",{style:m.td,children:(0,C.jsxs)("div",{style:m.innerDiv,onClick:b?T:void 0,children:[y,o.renderCell({...t,isRowHovered:l})]})})}function T(e,t){(0,h().SQ)({event:e,context:h().y$.BaseTableRowClick,callback:t})}const B={paddingLeft:M/2,paddingRight:M/2};function W(e){return"minWidth"in e?e.minWidth:e.width}function D(e){let t;return t="width"in e.widthData?{width:e.widthData.width}:{width:`${e.widthData.widthPercent}%`,minWidth:e.widthData.minWidth},{...B,...t}}function U(e){let{columnLength:t,onLoadMore:o,showRowBorders:i,hasNextPage:l}=e;const r=(0,n().IS)((e=>({row:{...i&&{borderBottom:`1px solid ${e.tableDividerColor}`}},container:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:4},sticky:{position:"sticky",left:0,display:"flex",justifyContent:"flex-start",alignItems:"center",gap:4},button:{display:"flex",alignItems:"center",height:30,borderRadius:i?0:6,whiteSpace:"break-spaces",fontSize:14,paddingRight:8},icon:{width:14,height:14,marginLeft:4,marginRight:6,fill:e.lightIconColor},text:{color:e.text.tertiary}})),[i]);return!1===l?null:(0,C.jsx)("tr",{style:r.row,children:(0,C.jsx)("td",{colSpan:t,children:(0,C.jsx)("div",{style:r.container,children:(0,C.jsx)("div",{style:r.sticky,children:(0,C.jsxs)(y().A,{style:r.button,onClick:o,children:[(0,s().P)(r.icon),(0,C.jsx)("div",{style:r.text,children:(0,C.jsx)(c().sA,{id:"baseTable.loadMoreButton",defaultMessage:"Load more"})})]})})})})})}function N(e){let{columnLength:t,onLoadNext:o,onLoadPrevious:i,currentPage:s,finalPage:l,hasNextPage:d,hasPrevPage:u,showRowBorders:p,rightPaddingPx:h,style:m}=e;const g=(0,n().IS)((e=>({row:{...p&&{borderBottom:`1px solid ${e.tableDividerColor}`}},container:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:4},sticky:{position:"sticky",left:0,display:"flex",justifyContent:"flex-start",alignItems:"center",gap:4},button:{display:"flex",justifyContent:"center",alignItems:"center",height:30,width:30,borderRadius:p?0:6,whiteSpace:"break-spaces",fontSize:14},icon:{width:14,height:14,marginLeft:4,marginRight:6,fill:e.icon.secondary}})),[p]);return(0,C.jsxs)("tr",{style:g.row,children:[(0,C.jsx)("td",{colSpan:Boolean(h)?t:t-1,children:(0,C.jsx)("div",{style:g.container,children:(0,C.jsxs)("div",{style:g.sticky,children:[(0,C.jsx)(y().A,{ariaLabel:u?"Previous page":"No previous pages",style:g.button,onClick:i,disabled:!u,disabledFeedback:!u,children:(0,r().I)(g.icon)}),(0,C.jsx)(y().A,{ariaLabel:d?"Next page":"No more pages",style:g.button,onClick:o,disabled:!d,disabledFeedback:!d,children:(0,a().V)(g.icon)}),(0,C.jsx)(w().D,{styleName:"UISmall-12px/Medium",colorName:"secondary",children:l?(0,C.jsx)(c().sA,{id:"baseTable.pages.currentPageWithFinalPageCount",defaultMessage:"Page {currentPage} of {finalPage}",values:{currentPage:s,finalPage:l}}):(0,C.jsx)(c().sA,{id:"baseTable.pages.currentPage",defaultMessage:"Page {currentPage}",values:{currentPage:s}})})]})})}),h?(0,C.jsx)(H,{style:m}):null]})}function O(e){let{columnLength:t,loadMoreMethod:o,showRowBorders:i,rightPaddingPx:n,style:s}=e;switch(o.type){case"scroll":return(0,C.jsx)(v().A,{loading:!1,loadMoreOffsetThreshold:100,onLoadMore:o.onLoadMore});case"button":return(0,C.jsx)(U,{columnLength:t,onLoadMore:o.onLoadMore,showRowBorders:i,hasNextPage:o.hasNextPage});case"pages":return(0,C.jsx)(N,{columnLength:t,showRowBorders:i,onLoadNext:o.onLoadNext,onLoadPrevious:o.onLoadPrevious,currentPage:o.currentPage,finalPage:o.finalPage,hasNextPage:o.hasNextPage,hasPrevPage:o.hasPrevPage,rightPaddingPx:n,style:s});default:return(0,u().HB)(o)}}function F(e){const t=(0,n().IS)((t=>({container:{position:"relative"},extender:{width:e.width,height:1},inner:{background:t.modalBackground,position:"absolute",top:0,left:0,right:0,bottom:-1,...e.style}})),[e.width,e.style]);return(0,C.jsxs)("th",{style:t.container,children:[(0,C.jsx)("div",{style:t.extender}),(0,C.jsx)("div",{style:t.inner})]})}function H(e){const t=(0,n().IS)((t=>({container:{position:"relative"},inner:{background:t.modalBackground,position:"absolute",top:0,left:0,right:0,bottom:-1,...e.style}})),[e.style]);return(0,C.jsx)("td",{style:t.container,children:(0,C.jsx)("div",{style:t.inner})})}},758103:(e,t,o)=>{o.d(t,{R:()=>v,Y:()=>x});o(242343);var i=()=>o(237385),n=()=>o(803290),s=()=>o(174114),l=()=>o(575681),r=()=>o(452794),a=()=>o(836693),d=()=>o(486540),c=()=>o(16043),u=()=>o(528762),p=()=>o(653998),h=()=>o(220413),m=()=>o(76394),g=()=>o(622286),b=()=>o(268117),y=()=>o(209684),f=o(163643);function x(e){let{type:t,role:o,events:a,disabled:d,buttonStyle:c,buttonContents:u,icon:h,table:m,isCurrentUser:x,from:w}=e;const{isMobile:S}=(0,i().Y0)(),C=(0,s().IS)((e=>({button:{...c},icon:{width:10,marginLeft:4,fill:e.lightIconColor},label:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},iconContainer:{fill:e.icon.secondary,padding:2}})),[c]),j=h||!d&&l()._,k=(0,n().K8)((()=>"shareMenu"===w&&(0,b().FI)()),[w]),A=(0,g().X)("sharing_anyone_with_the_link");return S&&"shareMenu"===w&&k?d?null:(0,f.jsx)(y().p,{...a,disabled:d,style:C.iconContainer,children:(0,r().L)({height:24,width:24})}):(0,f.jsxs)(y().p,{id:void 0,...a,disabled:d,style:C.button,children:[u||(0,f.jsx)("span",{className:"notranslate",style:C.label,children:(0,f.jsx)(p().sA,{...v({type:t,role:o,table:m,isRemovable:!1,isCurrentUser:x,isRedesignEnabled:k,isPublicShareLink:A}).label})}),j&&j(C.icon)]})}function v(e){let{type:t,role:o,table:i,isRemovable:n,isCurrentUser:s,isRedesignEnabled:l,isPublicShareLink:r}=e;if("access"===o)return{label:d().Sf.variousAccessLabel};if("limited"===o)return{label:d().Sf.limitedAccessLabel};if((0,d().II)(o))return(0,d().sK)(o,i);switch(o){case"editor":return i===u().NX||i===c().y7?{label:d().Sf.workspaceOwnerLabel,caption:d().Sf.workspaceOwnerCaption}:{label:d().Sf.fullAccessLabel,caption:l?d().Sf.fullAccessCaptionV2:d().Sf.fullAccessCaption};case"membership_admin":return i===u().NX||i===c().y7?{label:d().Sf.membershipAdminLabel,caption:d().Sf.membershipAdminCaption}:{label:d().Sf.canEditLabel,caption:l?d().Sf.canEditCaptionV2:d().Sf.canEditCaption};case"read_and_write":return i===u().NX||i===c().y7?{label:d().Sf.memberLabel,caption:d().Sf.memberCaption}:{label:d().Sf.canEditLabel,caption:l?d().Sf.canEditCaptionV2:d().Sf.canEditCaption};case"content_only_editor":return{label:d().Sf.canEditContentLabel,caption:d().Sf.canEditContentCaption};case"reader":return{label:d().Sf.canReadLabel,caption:l?void 0:d().Sf.canReadCaption};case"comment_only":return{label:d().Sf.canCommentLabel,caption:l?d().Sf.canCommentCaptionV2:d().Sf.canCommentCaption};case"none":if("public_permission"===t)return r?{label:n?d().Sf.publicShareLinkRemoveLabel:d().Sf.publicShareLinkNoAccessLabel,hideSelectionCheckIcon:n}:{label:l?d().Sf.unpublishPageLabelV2:d().Sf.unpublishPageLabel,caption:d().Sf.unpublishPageCaption};if(n){if(i===u().NX||i===c().y7)return s?{label:d().Sf.leaveWorkspaceLabel,style:{color:h().Ay.red}}:{label:d().Sf.removeFromWorkspaceLabel,style:{color:h().Ay.red}};{const e="collection_property_permission"===t;return{label:e?d().Sf.removePermissionRuleLabel:d().Sf.removeWorkspaceLabel,style:{color:h().Ay.red},icon:e?(0,a().trashIcon)({height:20,width:20,marginRight:4}):void 0}}}return{label:d().Sf.noAccessLabel,style:{color:h().Ay.red}};default:(0,m().HB)(o)}}},811132:(e,t,o)=>{o.d(t,{d:()=>a,h:()=>d});o(242343);var i=()=>o(174114),n=()=>o(289113),s=()=>o(103151),l=()=>o(59279),r=o(163643);function a(e){let{dateTs:t,useSecondaryColorTitle:o,includeTime:i,tooltip:a,omitTooltip:d}=e;const c=(0,r.jsx)(l().s7,{useThinTitle:!0,useSecondaryColorTitle:o,title:i?(0,n().x$)(t,!0):(0,n().DG)(t)});return d?c:(0,r.jsx)(s().A,{render:e=>(0,r.jsx)("div",{...e,children:c}),renderTooltip:()=>a??(0,n().x$)(t)})}function d(){const e=(0,i().IS)((()=>({title:{width:"50%"}})),[]);return(0,r.jsx)(l().mf,{titleStyles:e.title})}},898941:(e,t,o)=>{o.d(t,{m:()=>n});o(242343);var i=o(163643);const n=(0,o(680369).wt)("arrowDownSmall",{viewBox:"0 0 12 12",svg:(0,i.jsx)("path",{d:"M5.99756 0.850098C5.53564 0.850098 5.21875 1.17236 5.21875 1.65576V7.61768L5.27246 8.7832L4.19287 7.53711L2.98438 6.33398C2.84473 6.18896 2.66211 6.09229 2.42578 6.09229C2.00684 6.09229 1.68994 6.40381 1.68994 6.84424C1.68994 7.04834 1.77051 7.23633 1.93164 7.40283L5.42285 10.8994C5.56787 11.0498 5.78809 11.1357 5.99756 11.1357C6.2124 11.1357 6.42725 11.0498 6.57227 10.8994L10.0688 7.40283C10.23 7.23633 10.3105 7.04834 10.3105 6.84424C10.3105 6.40381 9.99365 6.09229 9.57471 6.09229C9.34375 6.09229 9.16113 6.18896 9.01611 6.33398L7.80762 7.53711L6.72803 8.7832L6.77637 7.61768V1.65576C6.77637 1.17236 6.46484 0.850098 5.99756 0.850098Z"})})},951514:(e,t,o)=>{o.d(t,{Ay:()=>X});o(362833),o(725707),o(491955),o(500234),o(324989),o(403517),o(242343);var i=()=>o(237385),n=()=>o(803290),s=()=>o(174114),l=()=>o(83544),r=()=>o(486540),a=()=>o(446588),d=()=>o(21164),c=()=>o(16043),u=()=>o(528762),p=()=>o(653998),h=()=>o(76394),m=()=>o(441288),g=()=>o(145046),b=()=>o(927685),y=()=>o(983050),f=()=>o(477784),x=()=>o(640979),v=()=>o(906230),w=()=>o(352723),S=()=>o(392608),C=()=>o(863969),j=()=>o(432809),k=()=>o(907721),A=()=>o(485966),M=()=>o(943066),P=()=>o(103151),R=()=>o(24281),I=o(163643);function _(e){const t=(0,i().v3)(),{render:o,upsell:n,analyticsName:s,renderUpgradeTooltip:l,onUpgradeClick:r,alwaysAllowClick:a,tooltipPlacement:d,upgradeButtonDesktopStyle:c,upgradeButtonMobileStyle:u}=e;let p,{onClick:h,renderTooltip:m}=e;return n&&"product"===n.type&&(p=(0,I.jsx)(R().B,{upsell:n,analyticsName:s,desktopStyle:{display:"inline-block",pointerEvents:"none",...c},mobileStyle:{display:"inline-block",pointerEvents:"none",...u}}),a||(h=e=>{M().K(t,{from:s,upsell:n}),r&&r(e)},m=l)),(0,I.jsx)(P().A,{renderTooltip:m||(()=>null),render:e=>o((0,v().A)(e,{onClick:h}),p),disableTooltip:!m,placement:d})}var L=()=>o(613313),T=()=>o(111826),B=()=>o(764227),W=()=>o(133926),D=()=>o(535906),U=()=>o(273520),N=()=>o(935091),O=()=>o(858023),F=()=>o(678523),H=()=>o(88271),z=()=>o(35462),E=()=>o(611824),$=()=>o(758103),V=()=>o(84979);const K=(0,p().YK)({fullAccessTeamGuestsDisabledMessage:{id:"permissionRoleSelect.teamGuestPermissionItem.disabledPermissionitem.tooltip",defaultMessage:"Teamspace guests can't have full access."}});const X=function(e){let{isUserPermission:t,type:l,table:m,role:g,isInvite:b,availableRoleItems:v,roleItemOverrides:S,blockType:C,onClick:j,onClose:k,origin:A,isMenuItem:M,isRemovableOverride:P,disabled:R,buttonContents:_,buttonPopupStore:L,buttonStyle:T,placementToOrigin:B,alignmentToOrigin:W,upgradeButtonName:F,onUpgradeButtonClick:E,onChange:V,onRemoveMemberClick:X,onRemoveSelfClick:G,header:Y,footer:Z,showPermissionOverrideWarning:ee,from:te}=e;const oe=(0,i().v3)(),ie=(0,n().uB)(L,o(962373).A),{device:ne}=oe,se=Boolean(t),le=(0,o(622286).X)("sharing_anyone_with_the_link"),re=(0,n().K8)((()=>function(e){let{type:t,table:o,role:i,isInvite:n,availableRoleItems:s,roleItemOverrides:l,blockType:r,isPublicShareLink:p}=e;if(s&&s.length>0)return s;if("trusted_domain_permission"===t)return[{role:"reader"},{role:"none"}];if("collection_property_permission"===t)return[{role:"editor"},{role:"read_and_write"},{role:"comment_only"},{role:"reader"},{role:"none"}];if(o===d().Vl)return[{role:"editor"},{role:"read_and_write"},{role:"content_only_editor"},{role:"comment_only"},{role:"reader"},{role:"none"}];if(o===c().y7){let e=a().Gb.map((e=>({role:e})));return n&&(e=e.filter((e=>"none"!==e.role))),e}const h=[];"explicit_team_guest_permission"===t?h.push({role:"editor",disabledInfo:{isDisabled:!0,disabledMessage:f().A.formatMessage(K.fullAccessTeamGuestsDisabledMessage)}}):"bot_permission"!==t&&"public_permission"!==t&&h.push({role:"editor"});"space"===o&&(0,w().Qu)()&&h.push({role:"membership_admin"});h.push({role:"read_and_write"}),"collection_view"!==r&&"collection_view_page"!==r||"bot_permission"===t&&"content_only_editor"!==i||"public_permission"===t||h.push({role:"content_only_editor"});o!==u().NX&&("bot_permission"!==t&&h.push({role:"comment_only"}),"bot_permission"===t&&"reader"!==i||h.push({role:"reader"}));n||h.push({role:"none"});if(!l)return h;return h.map((e=>{const t=l.find((t=>t.role===e.role));return t||e}))}({type:l,table:m,role:g,isInvite:b,availableRoleItems:v,roleItemOverrides:S,blockType:C,isPublicShareLink:le})),[l,m,g,b,v,S,C,le]),ae=(0,n().K8)((()=>"shareMenu"===te&&(0,o(268117).FI)()),[te]),de=(0,n().K8)((()=>ne.isMobile&&ae),[ne,ae]),ce=(0,n().K8)((()=>ie.state.open),[ie]),ue=(0,s().IS)((e=>({buttonPopupSheet:{borderTopLeftRadius:12,borderTopRightRadius:12,overflow:"hidden",paddingBottom:10,background:e.surface.wash},menuList:{width:"100%",margin:"0 auto"},sectionMenuItem:{overflow:"hidden",background:e.buttonBackground,borderRadius:12,marginLeft:16,marginRight:16,marginBottom:16,borderWidth:1,borderStyle:"solid",borderColor:e.stroke.secondary,padding:void 0},scrollerStyle:{background:e.surface.wash},header:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",background:e.surface.wash,paddingTop:12,paddingBottom:20},headerLabel:{fontSize:16,fontWeight:o(31448).Wy.semibold,marginBottom:12},headerContent:{width:"100%"}})),[]);return(0,I.jsx)(U().Ay,{style:de?ue.buttonPopupSheet:void 0,onClick:e=>{e.preventDefault(),e.stopPropagation(),j&&j()},onClose:k,popupType:ne.isMobile?U().z7.SlideUp:U().z7.Popup,buttonPopupStore:ie,open:ce,renderOrigin:e=>A||(M?(0,I.jsx)(D().A,{...e,title:(0,I.jsx)(p().sA,{...(0,$().R)({type:l,role:g,table:m,isRemovable:!1,isCurrentUser:se,isRedesignEnabled:ae,isPublicShareLink:le}).label}),focused:!1,showExtensionArrow:!0}):(0,I.jsx)($().Y,{type:l,role:g,events:e,disabled:R,buttonContents:_,buttonStyle:T,table:m,isCurrentUser:se,from:te})),placementToOrigin:B||o(755769).UV.Bottom,alignmentToOrigin:W,render:e=>{let i,n;if((0,r().II)(g))i=[{key:"mixed_role_section",render:e=>(0,I.jsx)(H().A,{...e,topBorder:!1}),items:[{key:"mixed_role_description",render:()=>(0,I.jsx)(o(649198).F,{role:g}),action:()=>{}}]},{key:"bot_capabilities_warning",render:e=>(0,I.jsx)(H().A,{...e,topBorder:!0}),items:[{key:"warning_details",render:e=>(0,I.jsx)(o(932322).Ay,{...e,shouldWrapCaption:!0,caption:"Integration permissions cannot be changed on a page. You can manage integrations in settings."}),action:()=>{}}]},{key:"remove_bot",render:e=>(0,I.jsx)(H().A,{...e,topBorder:!0}),items:[{key:"none",render:e=>(0,I.jsx)(Q,{from:te,role:g,upgradeButtonName:F,onUpgradeButtonClick:E,focused:e.focused,props:e,availableRole:{role:"none"},isCurrentUser:Boolean(t),isRemovableOverride:P,table:m,type:l,isRedesignEnabled:ae,isPublicShareLinkEnabled:le}),action:()=>{J("none",m,g,l,F,oe,re,le,V,E,t,X,G),e.close()}}]}];else if(i=[{key:"roles",render:e=>(0,I.jsx)(H().A,{...e,topBorder:0!==e.index,style:de?ue.sectionMenuItem:void 0}),items:re.flatMap((o=>{const i={key:o.role,render:e=>(0,I.jsx)(Q,{from:te,role:g,upgradeButtonName:F,onUpgradeButtonClick:E,focused:e.focused,props:e,availableRole:o,isCurrentUser:Boolean(t),isRemovableOverride:P,table:m,type:l,isRedesignEnabled:ae,isPublicShareLinkEnabled:le}),action:()=>{J(o.role,m,g,l,F,oe,re,le,V,E,t,X,G),e.close()}};return ae&&"none"===o.role?[]:[o.prefixItem,i].filter(h().O9)}))}],ae){const o=re.find((e=>"none"===e.role));(null==o?void 0:o.prefixItem)&&!ne.isMobile&&i.push({key:"prefix-item",render:e=>(0,I.jsx)(H().A,{...e,topBorder:!0,style:de?ue.sectionMenuItem:void 0}),items:[null==o?void 0:o.prefixItem].filter(h().O9)});const n=re.filter((e=>"none"===e.role));n.length>0&&i.push({key:"none-role",render:e=>(0,I.jsx)(H().A,{...e,topBorder:!(ne.isMobile&&ae),style:de?ue.sectionMenuItem:void 0}),items:n.flatMap((o=>{const i={key:o.role,render:e=>(0,I.jsx)(Q,{from:te,role:g,upgradeButtonName:F,onUpgradeButtonClick:E,focused:e.focused,props:e,availableRole:o,isCurrentUser:Boolean(t),isRemovableOverride:P,table:m,type:l,isRedesignEnabled:ae,isPublicShareLinkEnabled:le}),action:()=>{J(o.role,m,g,l,F,oe,re,le,V,E,t,X,G),e.close()}};return ne.isMobile?[o.prefixItem,i].filter(h().O9):[i].filter(h().O9)}))})}return n=ne.isMobile?{menuType:x().gu.Modal,title:(0,I.jsx)(p().sA,{id:"userPermissionsMenu.mobile.title",defaultMessage:"Select role"}),right:(0,I.jsx)(p().sA,{id:"userPermissionsMenu.mobile.doneButton.label",defaultMessage:"Done"}),onClickRight:e.close}:{menuType:x().gu.Popup,width:264},de?(0,I.jsx)(N().A,{scrollerStyle:ue.scrollerStyle,menuType:x().gu.Popup,height:"50vh",maxWidth:"100%",className:y().yw8,header:(0,I.jsxs)("div",{style:ue.header,children:[(0,I.jsx)(z().A,{style:ue.headerLabel,children:(0,I.jsx)(p().sA,{defaultMessage:"Change access",id:"PermissionRoleSelect.Header.ChangeAccess"})}),(0,I.jsx)("div",{style:ue.headerContent,children:Y})]}),footer:(0,I.jsx)(I.Fragment,{children:Z}),children:(0,I.jsx)(O().Ay,{type:O().Oh.Vertical,initialFocus:void 0,sections:i,style:ue.menuList})}):(0,I.jsx)(N().A,{className:y().yw8,header:Y,footer:(0,I.jsxs)(I.Fragment,{children:[Z,ee&&(0,I.jsx)(q,{})]}),...n,children:(0,I.jsx)(O().Ay,{type:O().Oh.Vertical,initialFocus:void 0,sections:i})})}})};function G(e,t,o,i){if(!i&&t!==c().y7){if((t===u().NX?a().NB(e):a().p2(e)&&!a().Km(e))&&"public_permission"!==o&&"bot_permission"!==o)return t===u().NX?(0,I.jsx)(V().A,{imageURL:l().A.images.tooltips.upsells.spaceReadAndWritePng,imageWidth:240,imageHeight:100,caption:(0,I.jsx)(p().sA,{defaultMessage:"Members cannot change workspace settings or invite new members.",id:"permissionRoleSelect.spaceReadAndWriteUpgradeTooltip.caption"}),title:(0,I.jsx)(p().sA,{defaultMessage:"Upgrade to add non-admin members",id:"permissionRoleSelect.spaceReadAndWriteUpgradeTooltip.title"})}):(0,I.jsx)(V().A,{imageURL:l().A.images.tooltips.upsells.userReadAndWritePng,imageWidth:240,imageHeight:100,caption:(0,I.jsx)(p().sA,{defaultMessage:"Users with edit access can edit a page but not share it with others.",id:"permissionRoleSelect.userReadAndWriteUpgradeTooltip.caption"}),title:(0,I.jsx)(p().sA,{defaultMessage:"Upgrade to add editors",id:"permissionRoleSelect.userReadAndWriteUpgradeTooltip.title"})})}return!1}function Y(e,t){if(void 0!==t)return t;switch(e){case"user_permission":case"bot_permission":case"group_permission":case"collection_property_permission":return!0;case"space_permission":case"space_owner_permission":case"explicit_team_permission":case"team_permission":case"team_owner_permission":case"explicit_team_owner_permission":case"explicit_team_guest_permission":case"public_permission":case"trusted_domain_permission":case"exclusive_user_permission":return!1;default:(0,h().HB)(e)}}async function J(e,t,o,i,n,s,l,a,d,h,y,f,x){var v,w;const C=(0,j().u)();if(o===e)return;const k=()=>{d&&d(e)};m().Uo({newRole:e,availableRoles:l});const P=await(0,W().Se)(s,{name:"block_read_and_write_role",spaceId:null===(v=A().default.state.currentSpaceStore)||void 0===v?void 0:v.id,userId:null===(w=A().default.state.currentUserStore)||void 0===w?void 0:w.id});if(G(e,t,i,P)&&!b().A.isAdminMode)M().K(s,{from:n,upsell:{type:"product",product:T().Si(s)||"plus",limit:{type:"none"},trialability:"none"}}),h&&h();else if(function(e,t,o){return o&&(0,r().$q)(t,e)===t&&"none"===e}(e,o,y))x?x():g().ui({showCancel:!0,keepFocus:!1,message:t===u().NX||t===c().y7?(0,I.jsx)(p().sA,{id:"userPermissionsMenu.removePermissionsModal.removeSelfFromWorkspace.confirmationMessage",defaultMessage:"Are you sure you want to remove your own access? You will lose access to the workspace, and any private pages will be lost."}):(0,I.jsx)(p().sA,{id:"userPermissionsMenu.removePermissionsModal.removeSelfFromPage.confirmationMessage",defaultMessage:"Are you sure you want to remove your own access?"}),items:[{label:(0,I.jsx)(p().sA,{id:"userPermissionsMenu.removePermissionsModal.removeSelfButton.label",defaultMessage:"Remove"}),color:"red",onAccept:k}]});else if(function(e,t,o){return o&&(0,r().$q)(t,e)===t}(e,o,y))g().ui({showCancel:!0,keepFocus:!1,message:(0,I.jsx)(p().sA,{id:"userPermissionsMenu.downgradePermissionsModal.downgradeSelfFromWorkspaceOrPage.confirmationMessage",defaultMessage:"Are you sure you want to downgrade your own access?"}),items:[{label:(0,I.jsx)(p().sA,{id:"userPermissionsMenu.downgradePermissionsModal.downgradeSelfButton.label",defaultMessage:"Downgrade"}),color:"red",onAccept:k}]});else if(function(e,t){return(t===u().NX||t===c().y7)&&"none"===e}(e,t))if(f)f();else{await async function(e){const{message:t}=e;return new Promise((e=>{g().ui({showCancel:!0,keepFocus:!1,handleCancel:()=>e(!1),message:t,items:[{label:(0,I.jsx)(p().sA,{id:"userPermissionsMenu.removePermissionsModal.removeUserButton.label",defaultMessage:"Remove"}),color:"red",onAccept:()=>e(!0)}]})}))}({message:(R=!0,R&&(0,B().OX)()?(0,I.jsx)(p().sA,{id:"userPermissionsMenu.removePermissionsModal.removeUserFromWorkspace.enterprise.confirmationMessage",defaultMessage:"If you remove this member, they will lose workspace access. After their removal, you may transfer their private pages to another member. <transferpagelink>Learn more</transferpagelink>.",values:{transferpagelink:e=>(0,I.jsx)(E().A,{href:(0,S().xS)("guides.transferContent"),external:!0,children:e})}}):R?(0,I.jsx)(p().sA,{id:"userPermissionsMenu.removePermissionsModal.removeUserFromWorkspace.confirmationMessage",defaultMessage:"Are you sure you want to remove this person? They will lose access to the workspace, and any private pages will be lost."}):(0,I.jsx)(p().sA,{id:"userPermissionsMenu.removePermissionsModal.removeUserFromPage.confirmationMessage",defaultMessage:"Are you sure you want to remove this person?"}))})&&k()}else if(function(e,t){return"public_permission"===e&&"none"===t}(i,e)&&C&&!a){await async function(){return new Promise((e=>{g().ui({showCancel:!0,keepFocus:!1,handleCancel:()=>e(!1),description:(0,I.jsx)(p().sA,{id:"permissionRoleSelect.unpublishConfirmation.description",defaultMessage:"Removing access will unpublish this page from the web."}),message:(0,I.jsx)(p().sA,{id:"permissionRoleSelect.unpublishConfirmation.message",defaultMessage:"Are you sure you want to remove access?"}),items:[{label:(0,I.jsx)(p().sA,{id:"userPermissionsMenu.removePermissionsModal.unpublishAction.label",defaultMessage:"Remove access"}),color:"red",onAccept:()=>e(!0)}]})}))}()&&k()}else k();var R}function Q(e){const{availableRole:t,isCurrentUser:o,role:l,table:r,type:a,isRemovableOverride:d,upgradeButtonName:c,onUpgradeButtonClick:u,isRedesignEnabled:h,isPublicShareLinkEnabled:m,from:g}=e,{label:b,caption:y,hideSelectionCheckIcon:f,icon:x}=(0,$().R)({type:a,role:t.role,table:r,isRemovable:Y(a,d),isCurrentUser:o,isRedesignEnabled:h,isPublicShareLink:m}),w=(0,s().DP)(),S=(0,i().v3)(),j=(0,C().O)(),M=(0,n().K8)((()=>{var e;return null===(e=S.currentUser)||void 0===e?void 0:e.id}),[S]),{device:R}=S,{onClick:T,key:B,...U}=e.props,N=t.disabledInfo,O=R.isMobile&&h,H=(0,W()._X)({name:"block_read_and_write_role",spaceId:j,userId:M}),z=(0,n().K8)((()=>G(t.role,r,a,"available"===(null==H?void 0:H.type))),[t,r,a,H]),E=(0,n().K8)((()=>S.device.isMobile&&!L().S$()),[S]),V=Boolean(z),K=(0,n().K8)((()=>{var e;return null===(e=A().default.getState().currentSpaceStore)||void 0===e?void 0:e.canAdmin()}),[]),X=V&&(!K||E),J=(0,s().IS)((e=>{const t={backgroundColor:e.surface.elevated,paddingTop:12,paddingBottom:12,borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:e.stroke.secondary};return{buttonMenuItem:{...t},redButtonMenuItem:{...t,color:e.text.uiRedPrimary},disabledButtonMenuItem:{...t,color:e.text.tertiary}}}),[]);return R.isMobileNative&&V?null:N&&N.isDisabled?(0,I.jsx)(P().A,{delayThreshold:0,renderTooltip:e=>(0,I.jsx)("div",{...e,children:N.disabledMessage}),placement:k().W.Right,textWrap:!0,render:o=>(0,I.jsx)(D().A,{style:O?J.disabledButtonMenuItem:void 0,...o,focused:e.focused,disabled:!0,disabledFeedback:!0,isChecked:l===t.role&&!f,title:(0,I.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,I.jsx)("div",{style:{...e.style,marginRight:z?6:0},children:(0,I.jsx)(p().sA,{...b})})}),caption:y&&(0,I.jsx)("span",{style:{color:w.text.secondary},children:(0,I.jsx)(p().sA,{...y})}),shouldWrapCaption:!0})}):(0,I.jsx)(_,{upsell:V&&("unavailable"===(null==H?void 0:H.type)?H.upsell:void 0),analyticsName:c,renderUpgradeTooltip:()=>z,tooltipPlacement:k().W.Left,onClick:T,onUpgradeClick:u,render:(o,i)=>{const{focused:n,...s}=(0,v().A)(U,o);return(0,I.jsx)(D().A,{...s,style:O?"none"===t.role?J.redButtonMenuItem:J.buttonMenuItem:void 0,focused:n||e.focused,isChecked:l===t.role&&!f,title:(0,I.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,I.jsxs)("div",{style:{...e.style,marginRight:z?6:0,display:"flex",alignItems:"center"},children:[x,(0,I.jsx)(p().sA,{...b})]}),i,e.availableRole.tag&&(0,I.jsx)(F().A,{desktopStyle:{marginLeft:7},children:e.availableRole.tag})]}),caption:y&&(0,I.jsx)("span",{style:{color:w.text.secondary},children:(0,I.jsx)(p().sA,{...y})}),shouldWrapCaption:!0,disabled:X,isRedOnHover:(h||"spaceSettings"===g)&&!X&&"none"===t.role})}})}function q(){const e=(0,s().DP)(),t=(0,i().v3)(),{device:o}=t;return(0,I.jsx)(z().A,{style:{padding:12,backgroundColor:e.sidebarSecondaryBackground,boxShadow:`0 -1px 0 ${e.regularDividerColor}`,marginTop:o.isMobile?28:1},isMultiline:!0,isSmall:!0,children:(0,I.jsx)(p().sA,{id:"permissionRoleSelect.overrideMessage.caption",defaultMessage:"Youâ€™ll override permissions from the parent page if you change this role."})})}}}]);