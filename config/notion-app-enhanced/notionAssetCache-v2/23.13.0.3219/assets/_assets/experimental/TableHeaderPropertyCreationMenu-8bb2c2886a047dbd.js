"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[11097,43935,90871],{24281:(e,t,o)=>{o.d(t,{B:()=>g});o(242343);var n=()=>o(237385),r=()=>o(803290),a=()=>o(174114),i=()=>o(653998),l=()=>o(220413),s=()=>o(76394),c=()=>o(31448),u=()=>o(678523),d=()=>o(103151),p=()=>o(907721),y=()=>o(485966),m=()=>o(943066),f=o(163643);function g(e){let{upsell:t,mobileStyle:o,desktopStyle:g,analyticsName:v,onClick:_,disableTooltip:h}=e;const b=(0,a().DP)(),x=(0,n().v3)(),{device:M}=x,S=(0,r().K8)((()=>{const{currentSpaceStore:e}=y().default.state;return null==e?void 0:e.canAdmin()}),[]),C=(0,r().K8)((()=>function(e,t){if("product"!==e.type)return{};switch(e.product){case"plus":case"business":case"enterprise":return{color:t.blueColor,background:"light"===t.mode?l().Ay.diffBackground:"rgba(35, 131, 226, 0.2)",fontWeight:c().Wy.medium};default:return{}}}(t,b)),[t,b]);if("product"!==t.type)return null;if(M.isMobileNative)return null;const k=(()=>{switch(t.product){case"personal":return(0,f.jsx)(i().sA,{defaultMessage:"Personal Pro",id:"upgradeButton.personal.text"});case"plus":return(0,f.jsx)(i().sA,{defaultMessage:"Plus ↗",id:"upgradeButton.plus.textWithArrow"});case"business":return(0,f.jsx)(i().sA,{defaultMessage:"Business ↗",id:"upgradeButton.business.textWithArrow"});case"enterprise":return(0,f.jsx)(i().sA,{defaultMessage:"Enterprise ↗",id:"upgradeButton.enterprise.textWithArrow"});case"ai":return(0,f.jsx)(i().sA,{defaultMessage:"AI ↗",id:"upgradeButton.ai.textWithArrow"});case"sites_custom_hostnames":return(0,f.jsx)(i().sA,{defaultMessage:"Custom Hostnames ↗",id:"upgradeButton.sites_custom_hostnames.textWithArrow"});default:t.product,(0,s().HB)(t.product)}})();return M.isMobile||!S?(0,f.jsx)(u().A,{mobileStyle:o,children:k}):(0,f.jsx)(d().A,{delayThreshold:120,disableTooltip:h,placement:p().W.Bottom,renderTooltip:()=>(0,f.jsx)("div",{style:{maxWidth:500},children:(0,f.jsx)(i().sA,{defaultMessage:"Upgrade to use this feature.",id:"premiumFeatureUpgradeButton.upgrade.tooltip"})}),originGap:6,render:e=>(0,f.jsx)(u().A,{desktopStyle:g,innerStyle:C,onClick:e=>function(e,t,o,n,r){m().K(n,{from:t,upsell:o}),r&&r(e)}(e,v,t,x,_),...e,children:k})})}},44250:(e,t,o)=>{function n(e){return!(!e||"askUserToPick"in e)}function r(e){if(!e||!("askUserToPick"in e))return e}function a(e){return!(!e||!("askUserToPick"in e))&&e.askUserToPick}o.d(t,{DK:()=>r,K$:()=>n,j6:()=>a})},44405:(e,t,o)=>{o.d(t,{A:()=>p});o(242343);var n=()=>o(862510),r=()=>o(174114),a=()=>o(650199),i=()=>o(711361),l=()=>o(31448),s=()=>o(535906),c=()=>o(397791),u=()=>o(581344),d=o(163643);function p(e){const{icon:t,iconStyle:o,title:p,caption:y,right:m,rightStyle:f,isRed:g,isGray:v,isOrange:_,onClick:h,onMouseDown:b,onMouseEnter:x,onMouseLeave:M,disabled:S,showChevron:C,chevronStyle:k,rotateChevron:T,showDragHandle:A,focused:I,textWrapperStyle:w,shouldWrapCaption:D,desktopIconStyle:O,buttonStyle:j,desktopTitleStyle:P,source:R,menuListItemProps:B}=e,V=(0,u().y$)(),W=(0,r().IS)((e=>({style:{color:v?e.text.secondary:_?"dark"===e.mode?e.accentColors.orange[500]:e.accentColors.orange[400]:e.text.primary,fill:v?e.mediumIconColor:_?"dark"===e.mode?e.accentColors.orange[500]:e.accentColors.orange[400]:e.regularIconColor,opacity:S?.4:void 0,...j},leftIconStyle:{width:V,height:V,...t===i()._&&{height:3},...o},rightStyle:{display:"flex",alignItems:"center",color:S?e.text.primary:e.text.tertiary,fill:S?e.regularIconColor:e.lightIconColor,flexShrink:0,...f},rightChevronStyle:{marginLeft:"tableHeaderMenu"===R?0:6,transition:"transform 200ms ease-in-out",...T&&{transform:"rotate(90deg)"},...k}})),[v,_,S,o,t,k,f,j,V,T,R]),{itemRef:E,isTabbable:F,onKeyDown:N,onFocus:H}=(0,n().e)();return(0,d.jsx)(s().A,{ref:E,icon:null==t?void 0:t(W.leftIconStyle),focused:I||!1,disabled:S,title:p,caption:y,shouldWrapCaption:D,desktopTitleStyle:{flexGrow:1,flexShrink:1,...P},onKeyDown:N,onFocus:H,disallowTabbing:!F,showDragHandle:A,buttonStyle:W.style,rightStyle:W.rightStyle,isRedOnHover:g,ignoreLocalHoverState:!!S||void 0,right:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{style:{...l().RC,display:"flex"},children:m}),!S&&C&&(0,d.jsx)(c().I,{icon:a().x,size:"sm",color:"tableHeaderMenu"===R?"secondary":"tertiary",style:W.rightChevronStyle})]}),onClick:h,onMouseDown:b,onMouseEnter:x,onMouseLeave:M,textWrapperStyle:w,desktopIconStyle:O,...B})}},96718:(e,t,o)=>{o.d(t,{l:()=>a});var n=()=>o(706788);const r={[n().e1]:"collection_connected_property_figma",[n().Hd]:"collection_connected_property_google_drive",[n().ob]:"collection_connected_property_github",[n().k0]:"collection_connected_property_zendesk",[n().bh]:"collection_synced_database_github",[n().MN]:"collection_synced_database_asana",[n().Fo]:"collection_synced_database_gitlab",[n().me]:"collection_synced_database_jira",[n().F6]:"collection_synced_database_jira_workspace",[n().Fv]:"collection_synced_database_jira_datacenter"};function a(e){if(e)return r[e]}},130935:(e,t,o)=>{o.d(t,{_:()=>r});o(242343);var n=o(163643);const r=(0,o(680369).wt)("layout",{viewBox:"0 0 14 14",svg:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.39999 2.19999C2.28953 2.19999 2.19999 2.28953 2.19999 2.39998V11.5999C2.19999 11.7103 2.28953 11.7999 2.39999 11.7999H4.99997C5.11042 11.7999 5.19997 11.7103 5.19997 11.5999V2.39998C5.19997 2.28953 5.11042 2.19999 4.99997 2.19999H2.39999ZM1 2.39998C1 1.6268 1.62679 1 2.39999 1H4.99997C5.77316 1 6.39995 1.6268 6.39995 2.39998V11.5999C6.39995 12.3731 5.77316 12.9999 4.99997 12.9999H2.39999C1.62679 12.9999 1 12.3731 1 11.5999V2.39998ZM9 8.80036C8.88954 8.80036 8.8 8.88991 8.8 9.00036V11.6003C8.8 11.7108 8.88954 11.8003 9 11.8003H11.6C11.7105 11.8003 11.8 11.7108 11.8 11.6003V9.00036C11.8 8.88991 11.7105 8.80036 11.6 8.80036H9ZM7.60001 9.00036C7.60001 8.22717 8.2268 7.60037 9 7.60037H11.6C12.3731 7.60037 13 8.22717 13 9.00036V11.6003C13 12.3736 12.3731 13.0003 11.6 13.0003H9C8.2268 13.0003 7.60001 12.3736 7.60001 11.6003V9.00036ZM8.79994 2.39998C8.79994 2.28953 8.88949 2.19999 8.99994 2.19999H11.5999C11.7104 2.19999 11.7999 2.28953 11.7999 2.39998V4.99997C11.7999 5.11043 11.7104 5.19996 11.5999 5.19996H8.99994C8.88949 5.19996 8.79994 5.11043 8.79994 4.99997V2.39998ZM8.99994 1C8.22675 1 7.59995 1.6268 7.59995 2.39998V4.99997C7.59995 5.77316 8.22675 6.39995 8.99994 6.39995H11.5999C12.3731 6.39995 12.9999 5.77316 12.9999 4.99997V2.39998C12.9999 1.6268 12.3731 1 11.5999 1H8.99994Z"})})},137696:(e,t,o)=>{o.d(t,{$X:()=>a,H8:()=>i,x2:()=>r});var n=()=>o(76394);function r(e){return"event"===e||"recurrence"===e}function a(e){const t=e.getTrigger();return(0,n().O9)(t)&&r(t.type)}function i(e){return"event"===e?"event":"recurrence"===e?"recurrence":void(0,n().HB)(e)}},151602:(e,t,o)=>{o.d(t,{A:()=>a});class n extends(()=>o(129044))().default{getInitialState(){return{}}}const r=new n;o(996094).exposeDebugValue("SpaceWorkflowTemplateInstanceMapStore",r);const a=r},155342:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>r,questionMarkCircleIcon:()=>a});o(242343);var n=o(163643);const r={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M9.978 7.154c-.804 0-1.333.456-1.438.874a.625.625 0 0 1-1.213-.303c.28-1.121 1.44-1.82 2.65-1.82 1.365 0 2.714.905 2.714 2.298 0 .812-.49 1.477-1.13 1.872l-.755.516a.84.84 0 0 0-.381.677.625.625 0 1 1-1.25 0c0-.688.36-1.318.921-1.706l.003-.002.784-.535.014-.008c.374-.228.544-.537.544-.814 0-.459-.517-1.049-1.463-1.049m.662 6.336a.8.8 0 1 1-1.6 0 .8.8 0 0 1 1.6 0"}),(0,n.jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 15.25 0 7.625 7.625 0 0 1-15.25 0M10 3.625a6.375 6.375 0 1 0 0 12.75 6.375 6.375 0 0 0 0-12.75"})]})},a=(0,o(680369).wt)("questionMarkCircle",r)},158918:(e,t,o)=>{o.d(t,{A:()=>y});o(362833),o(725707),o(771702),o(403517);var n=o(242343),r=()=>o(237385),a=()=>o(975392),i=()=>o(640979),l=()=>o(273520),s=()=>o(935091),c=()=>o(858023),u=()=>o(743668),d=()=>o(88271),p=o(163643);const y=function(e){let{renderOrigin:t,onClick:n,items:a,getKey:i,renderItem:s,selectedItem:c,onSelect:u,dontCloseParentOnSelect:d,mobileActionSheet:y,menuTitle:m,width:g,minWidth:v,disabled:_,originGap:h,buttonPopupStore:b,sameWidthAsOrigin:x}=e;const M=(0,r().v3)(),S=(0,o(803290).uB)(b,o(962373).A),{device:C}=M,k=(0,o(622286).X)("db_ux_mobile");return(0,p.jsx)(l().Ay,{popupType:C.isMobile?k?l().z7.BottomSheet:l().z7.SlideUp:l().z7.Popup,bottomSheetInitialState:"half",renderOrigin:t,buttonPopupStore:S,placementToOrigin:o(755769).UV.Bottom,onClick:n,render:e=>(0,p.jsx)(f,{parent:e,items:a,getKey:i,renderItem:s,selectedItem:c,onSelect:u,dontCloseParentOnSelect:d,mobileActionSheet:y,menuTitle:m,width:g,minWidth:v}),disabled:_,originGap:h,sameWidthAsOrigin:x})};function m(e,t,o,r,a,i,l,s){return{key:0,render:e=>(0,n.createElement)(d().A,{...e,key:t,topBorder:t>0}),items:e.map((e=>({key:r(e),render:t=>a({...t,value:e,key:r(e),selectedItem:i}),action:()=>{!function(e,t,o){t!==e&&o(e)}(e,i,l),s||o.close()}})))}}function f(e){let{parent:t,items:o,getKey:n,renderItem:l,selectedItem:d,onSelect:y,dontCloseParentOnSelect:f,mobileActionSheet:g,menuTitle:v,width:_,minWidth:h}=e;const b=(0,r().v3)(),{device:x}=b,M=[];if(function(e){return e.length>0&&e[0]instanceof Array}(o))o.forEach(((e,o)=>{const r=m(e,o,t,n,l,d,y,f);M.push(r)}));else{const e=m(o,0,t,n,l,d,y,f);M.push(e)}const S=(0,p.jsx)(c().Ay,{type:c().Oh.Vertical,initialFocus:a().SL(a().Bq(o),(e=>a().n4(e,d))),sections:M});let C;return C=x.isMobile?g?{menuType:i().gu.ActionSheet}:{menuType:i().gu.Modal,title:v,right:(0,p.jsx)(u().DoneMenuText,{}),onClickRight:t.close}:{menuType:i().gu.Popup,width:_||160,minWidth:h},(0,p.jsx)(s().A,{...C,children:S})}},194585:(e,t,o)=>{o.d(t,{n:()=>C,z:()=>M});o(610931),o(242343);var n=()=>o(803290),r=()=>o(174114),a=()=>o(505966),i=()=>o(73658),l=()=>o(916963),s=()=>o(758989),c=()=>o(242978),u=()=>o(584044),d=()=>o(130935),p=()=>o(40642),y=()=>o(76394),m=()=>o(511441),f=()=>o(327665),g=()=>o(622286),v=()=>o(328653),_=()=>o(940445),h=o(163643);const b=16;function x(e){let{icon:t,theme:o,size:n,style:a}=e;const l=(0,r().IS)((e=>({icon:{fill:(0,v().d)(t,e).icon.primary,...a}})),[t,a]);return(0,h.jsx)(i().p,{icon:t,theme:o,size:n,style:l.icon})}function M(e){var t;let{template:o,size:n,iconStyle:i}=e;const l=n??b,f=(0,r().IS)((()=>({icon:{width:l,height:l,...i}})),[l,i]),g=(0,r().DP)();if((0,a().cB)(o.templateId))return(0,u().L)(f.icon);const{type:v}=o;switch(v){case"property":return(0,h.jsx)(S,{template:o,iconSize:l,styles:f});case"collection_view":return(0,h.jsx)(m().h,{viewIcon:null===(t=o.value.format)||void 0===t?void 0:t.collection_view_icon,viewType:o.value.type,color:"lightGray",style:f.icon});case"layout":return(0,h.jsx)(h.Fragment,{children:(0,d()._)(f.icon)});case"block":return(0,h.jsx)(h.Fragment,{children:(0,p().b)(f.icon)});case"collection":case"compound":const e="collection"===o.type?o.value.targetCollection.icon:o.icon;if(!(0,s().T8)(e))throw new Error("Only Notion static icons are allowed for template icons");return(0,h.jsx)(x,{icon:e,theme:g,size:l,style:f.icon});case"automation":return(0,h.jsx)(h.Fragment,{children:(0,c().v)(f.icon)});default:(0,y().HB)(v)}}function S(e){let{template:t,iconSize:o,styles:a}=e;const i=(0,r().DP)(),s=(0,g().X)("nds_default_property_noticon"),c=(0,n().K8)((()=>{const{relatedCollectionTemplateId:e}=t;if("relation"===t.value.type&&e){return _().globalWorkflowTemplates.fromIdOfType({templateId:e,type:"collection"}).value.targetCollection.icon}return t.value.icon}),[t]);return(0,h.jsx)(l().zB,{type:t.value.type,icon:c,size:o,style:a.icon,theme:i,isDefaultNoticonEnabled:s})}function C(e){let{template:t,backgroundSize:o}=e;const n=(0,r().IS)((e=>({iconContainer:{background:k({theme:e,template:t})[30]},icon:{fill:k({theme:e,template:t})[400]}})),[t]);return(0,h.jsx)(f().y,{backgroundColor:n.iconContainer.background,backgroundSize:o,icon:(0,h.jsx)(M,{template:t,iconStyle:n.icon})})}function k(e){let{theme:t,template:o}=e;const{type:n}=o;switch(n){case"collection_view":case"automation":return t.accentColors.blue;case"property":return"relation"===o.value.type?t.accentColors.yellow:t.accentColors.red;case"layout":return t.accentColors.orange;case"block":return t.accentColors.purple;case"compound":return t.accentColors.green;case"collection":return t.accentColors.pink;default:(0,y().HB)(n)}}},235786:(e,t,o)=>{o.d(t,{b:()=>g,w:()=>v});var n=()=>o(237385),r=()=>o(803290),a=()=>o(367950),i=()=>o(162901),l=()=>o(528762),s=()=>o(439154),c=()=>o(818369),u=()=>o(129978),d=()=>o(485966),p=()=>o(595922),y=()=>o(172470),m=()=>o(151602);const f=!1;function g(e){var t;const o=null===(t=(0,u().fJ)(s().xl).value)||void 0===t?void 0:t.loadWorkflowTemplateInstances;(0,r().K8)((()=>{if(!o)return;const t=e instanceof p().A?e.collectionStore():e;t&&o(t)}),[o,e])}function v(){const e=(0,n().v3)(),t=(0,r().K8)((()=>{var e;if(function(){const e=y().A.state.initialRenderCompleted;f&&!e&&console.log("Initial page render is not yet completed, delaying refresh of workflow template instances.");return e}())return null===(e=d().default.state.currentSpaceStore)||void 0===e?void 0:e.getSpaceId()}),[]);(0,i().Yb)((async()=>{if(!t)return;(m().A.debug||f)&&console.log("Refreshing workflow template instance map for space",t);const o={table:l().NX,id:t,spaceId:t},n=await c().callApi({eventName:"getWorkflowTemplateInstances",environment:e,data:{spaceId:o.spaceId,scopeTable:o.table,scopeId:o.id,enableInstanceRobustness:!0}});if("success"===n.type){const e=(0,a()._)(o);m().A.setState({...m().A.state,[e]:n.data.instanceMap[e]})}}),[e,t])}},242978:(e,t,o)=>{o.d(t,{v:()=>r});o(242343);var n=o(163643);const r=(0,o(680369).wt)("boltFilled",{svg:(0,n.jsx)("path",{d:"M0 12.117c0 .38.293.664.703.664h5.518l-2.91 7.91c-.381 1.006.664 1.543 1.318.723l8.877-11.094c.166-.205.254-.4.254-.625 0-.371-.293-.664-.703-.664H7.539l2.91-7.91C10.83.115 9.785-.422 9.131.408L.254 11.492c-.166.215-.254.41-.254.625z"}),viewBox:"0 0 14 22"})},271142:(e,t,o)=>{o.d(t,{EC:()=>M,To:()=>x,YC:()=>S,or:()=>b,u:()=>h});o(610931);var n=o(242343),r=()=>o(237385),a=()=>o(803290),i=()=>o(496985),l=()=>o(232312),s=()=>o(653998),c=()=>o(76394),u=()=>o(337658),d=()=>o(73631),p=()=>o(137696),y=()=>o(129978),m=()=>o(113800),f=()=>o(830925),g=o(163643);const v=new WeakMap,_=(0,n.createContext)({automationStore:void 0,contextType:void 0,defined:!1,typecheckResult:void 0});_.displayName="AutomationContext";function h(e){const{automationStore:t,children:o,contextType:n}=e,h=(0,r().v3)(),b=(0,s().tz)(),{value:x}=(0,y().fJ)(d().T.formulas),{value:M}=(0,y().fJ)(u().QV.automationTypecheck),S=(0,f().n)(t),C=(0,a().K8)((()=>{if(!x)return{error:new(l().N9)("Missing formulas dependency")};if(!M)return{error:new(l().N9)("Missing automation dependency")};const e=function(e){const{environment:t,automationStore:o,automationTypecheckModule:n,contextType:r,formulasModule:a,intl:l,isSubscribed:s}=e,u=v.get(o);if(u)return u;{const e=new(i().default)((()=>{const e=o.getTriggerType();let i=r;return(0,c().O9)(e)&&(0,p().x2)(e)&&(i=(0,p().H8)(e)),(0,m().Z)({environment:t,automationStore:o,automationTypecheckModule:n,contextType:i,formulasModule:a,intl:l,isSubscribed:s})}),{debugName:"automationContextTypecheckResultCachedStore"});return v.set(o,e),e}}({environment:h,automationStore:t,automationTypecheckModule:M,contextType:n,formulasModule:x,intl:b,isSubscribed:S});return e.state}),[h,t,M,n,x,b,S]);return(0,g.jsx)(_.Provider,{value:{automationStore:t,typecheckResult:C,contextType:n,defined:!0},children:o})}function b(e){const{automationStore:t,children:o}=e,n=(0,a().K8)((()=>{var e;return null===(e=t.getTrigger())||void 0===e?void 0:e.type}),[t]);return(0,g.jsx)(h,{automationStore:t,contextType:(0,p().H8)(n??"event"),children:o})}function x(e){var t;return null===(t=v.get(e))||void 0===t?void 0:t.state}function M(){const e=n.useContext(_);if(!1===e.defined)throw new Error("No automation context found!");return e}function S(){return n.useContext(_)}},280704:(e,t,o)=>{o.d(t,{b:()=>r});o(242343);var n=o(163643);const r=(0,o(680369).wt)("plusThick",{viewBox:"0 0 14 14",svg:(0,n.jsx)("path",{d:"M2 7.16357C2 7.59692 2.36011 7.95093 2.78735 7.95093H6.37622V11.5398C6.37622 11.9731 6.73022 12.3271 7.16357 12.3271C7.59692 12.3271 7.95093 11.9731 7.95093 11.5398V7.95093H11.5398C11.9731 7.95093 12.3271 7.59692 12.3271 7.16357C12.3271 6.73022 11.9731 6.37622 11.5398 6.37622H7.95093V2.78735C7.95093 2.36011 7.59692 2 7.16357 2C6.73022 2 6.37622 2.36011 6.37622 2.78735V6.37622H2.78735C2.36011 6.37622 2 6.73022 2 7.16357Z"})})},327665:(e,t,o)=>{o.d(t,{y:()=>a});o(242343);var n=()=>o(174114),r=o(163643);function a(e){let{icon:t,backgroundColor:o,backgroundSize:a}=e;const i=(0,n().IS)((e=>({iconContainer:{height:a??28,width:a??28,borderRadius:6,display:"flex",alignItems:"center",justifyContent:"center",background:o??e.tint.regular}})),[o,a]);return(0,r.jsx)("div",{style:i.iconContainer,children:t})}},328653:(e,t,o)=>{o.d(t,{d:()=>a});var n=()=>o(758989);const r={light:{gray:{stroke:{secondary:"rgba(84, 72, 49, 0.15)"},fill:{primary:"rgba(84, 72, 49, 0.15)",secondary:"rgba(84, 72, 49, 0.08)",tertiary:"rgba(84, 72, 49, 0.04)"},text:{primary:"#1D1B16"}},red:{stroke:{secondary:"rgba(244, 171, 159, 0.40)"},fill:{primary:"rgba(244, 171, 159, 0.40)",secondary:"rgba(244, 171, 159, 0.40)",tertiary:"rgba(243, 136, 118, 0.07)"},text:{primary:"#5D1715"}},brown:{stroke:{secondary:"rgba(210, 162, 141, 0.35)"},fill:{primary:"rgba(210, 162, 141, 0.35)",secondary:"rgba(210, 162, 141, 0.17)",tertiary:"rgba(210, 162, 141, 0.07)"},text:{primary:"#442A1E"}},orange:{stroke:{secondary:"rgba(224, 124, 57, 0.27)"},fill:{primary:"rgba(224, 124, 57, 0.27)",secondary:"rgba(224, 124, 57, 0.15)",tertiary:"rgba(224, 124, 57, 0.07)"},text:{primary:"#49290E"}},yellow:{stroke:{secondary:"rgba(236, 191, 66, 0.39)"},fill:{primary:"rgba(236, 191, 66, 0.39)",secondary:"rgba(215, 177, 24, 0.15)",tertiary:"rgba(215, 177, 24, 0.07)"},text:{primary:"#402C1B"}},green:{stroke:{secondary:"rgba(123, 183, 129, 0.27)"},fill:{primary:"rgba(123, 183, 129, 0.27)",secondary:"rgba(123, 183, 129, 0.15)",tertiary:"rgba(123, 183, 129, 0.07)"},text:{primary:"#1C3829"}},blue:{stroke:{secondary:"rgba(93, 165, 206, 0.27)"},fill:{primary:"rgba(93, 165, 206, 0.27)",secondary:"rgba(95, 167, 208, 0.15)",tertiary:"rgba(91, 166, 209, 0.07)"},text:{primary:"#183347"}},purple:{stroke:{secondary:"rgba(168, 129, 197, 0.27)"},fill:{primary:"rgba(168, 129, 197, 0.27)",secondary:"rgba(204, 170, 229, 0.15)",tertiary:"rgba(206, 175, 229, 0.07)"},text:{primary:"#412454"}},pink:{stroke:{secondary:"rgba(225, 136, 179, 0.27)"},fill:{primary:"rgba(225, 136, 179, 0.27)",secondary:"rgba(235, 159, 196, 0.15)",tertiary:"rgba(231, 147, 188, 0.07)"},text:{primary:"#4C2337"}}},dark:{gray:{stroke:{secondary:"rgba(255, 255, 255, 0.09)"},fill:{primary:"rgba(255, 255, 255, 0.13)",secondary:"rgba(255, 255, 255, 0.09)",tertiary:"rgba(255, 255, 255, 0.03)"},text:{primary:"rgba(255, 255, 255, 0.81)"}},red:{stroke:{secondary:"rgba(222, 85, 85, 0.25)"},fill:{primary:"rgba(222, 85, 84, 0.30)",secondary:"rgba(222, 85, 84, 0.30)",tertiary:"rgba(222, 85, 88, 0.10)"},text:{primary:"rgba(255, 255, 255, 0.87)"}},brown:{stroke:{secondary:"rgba(184, 101, 69, 0.25)"},fill:{primary:"rgba(184, 101, 68, 0.30)",secondary:"rgba(184, 101, 68, 0.30)",tertiary:"rgba(184, 101, 72, 0.08)"},text:{primary:"rgba(255, 255, 255, 0.87)"}},orange:{stroke:{secondary:"rgba(233, 126, 37, 0.20)"},fill:{primary:"rgba(233, 126, 36, 0.30)",secondary:"rgba(233, 126, 36, 0.30)",tertiary:"rgba(233, 126, 40, 0.06)"},text:{primary:"rgba(255, 255, 255, 0.87)"}},yellow:{stroke:{secondary:"rgba(179, 129, 61, 0.20)"},fill:{primary:"rgba(231, 161, 55, 0.30)",secondary:"rgba(231, 161, 55, 0.30)",tertiary:"rgba(162, 105, 50, 0.10)"},text:{primary:"rgba(255, 255, 255, 0.87)"}},green:{stroke:{secondary:"rgba(45, 153, 100, 0.20)"},fill:{primary:"rgba(45, 153, 100, 0.30)",secondary:"rgba(45, 153, 100, 0.30)",tertiary:"rgba(45, 153, 100, 0.08)"},text:{primary:"rgba(255, 255, 255, 0.87)"}},blue:{stroke:{secondary:"rgba(51, 126, 169, 0.20)"},fill:{primary:"rgba(51, 126, 169, 0.33)",secondary:"rgba(51, 126, 169, 0.33)",tertiary:"rgba(51, 126, 169, 0.08)"},text:{primary:"rgba(255, 255, 255, 0.87)"}},purple:{stroke:{secondary:"rgba(155, 97, 211, 0.18)"},fill:{primary:"rgba(155, 97, 211, 0.28)",secondary:"rgba(155, 97, 211, 0.28)",tertiary:"rgba(155, 97, 211, 0.08)"},text:{primary:"rgba(255, 255, 255, 0.87)"}},pink:{stroke:{secondary:"rgba(220, 76, 145, 0.22)"},fill:{primary:"rgba(220, 76, 145, 0.30)",secondary:"rgba(220, 76, 145, 0.30)",tertiary:"rgba(220, 76, 145, 0.06)"},text:{primary:"rgba(255, 255, 255, 0.87)"}}}};function a(e,t){const o=(0,n().VA)(e),a="lightgray"===o?"gray":o;return{...r[t.mode][a],icon:{primary:n().l8[t.mode][a]}}}},367950:(e,t,o)=>{function n(e){return`${e.table}:${e.id}`}o.d(t,{_:()=>n})},404042:(e,t,o)=>{o.d(t,{A:()=>d});o(242343);var n=()=>o(803290),r=()=>o(455831),a=()=>o(653998),i=()=>o(220413),l=()=>o(31448),s=()=>o(678523),c=()=>o(943066),u=o(163643);const d=function(e){let{subscriptionTier:t,mobileStyle:d,desktopStyle:p,analyticsName:y,onClick:m,disableTooltip:f,tooltipContent:g}=e;const v=(0,o(174114).DP)(),_=(0,o(237385).v3)(),{device:h}=_,b=(0,n().K8)((()=>{const{currentSpaceStore:e}=o(485966).default.state;return null==e?void 0:e.canAdmin()}),[]),x=(0,n().K8)((()=>function(e,t){switch(e){case"plus":case"business":case"enterprise":return{color:t.blueColor,background:"light"===t.mode?i().Ay.diffBackground:"rgba(35, 131, 226, 0.2)",fontWeight:l().Wy.medium};default:return{}}}(t,v)),[t,v]);if(h.isMobileNative)return null;let M;return"personal"===t?M=(0,u.jsx)(a().sA,{defaultMessage:"Personal Pro",id:"upgradeButton.personal.text"}):(0,r().$P)(t)?M=(0,u.jsx)(a().sA,{defaultMessage:"Plus ↗",id:"upgradeButton.plus.textWithArrow"}):(0,r().tL)(t)?M=(0,u.jsx)(a().sA,{defaultMessage:"Business ↗",id:"upgradeButton.business.textWithArrow"}):(0,r().OX)(t)?M=(0,u.jsx)(a().sA,{defaultMessage:"Enterprise ↗",id:"upgradeButton.enterprise.textWithArrow"}):(0,o(76394).HB)(t),h.isMobile||!b?(0,u.jsx)(s().A,{mobileStyle:d,children:M}):(0,u.jsx)(o(103151).A,{delayThreshold:120,disableTooltip:f,placement:o(907721).W.Bottom,renderTooltip:()=>(0,u.jsx)("div",{style:{maxWidth:500},children:g?(0,u.jsx)(a().sA,{defaultMessage:"{tooltipText}",id:"upgradeButton.upgrade.custom.tooltip",values:{tooltipText:g}}):(0,u.jsx)(a().sA,{defaultMessage:"Upgrade to use this feature.",id:"upgradeButton.upgrade.tooltip"})}),originGap:6,render:e=>(0,u.jsx)(s().A,{desktopStyle:p,innerStyle:x,onClick:e=>function(e,t,o,n,r){c().K(n,{from:t,upsell:{type:"product",product:o,limit:{type:"none"},trialability:"none"}}),r&&r(e)}(e,y,t,_,m),...e,children:M})})}},533639:(e,t,o)=>{o.d(t,{p:()=>n});class n extends(()=>o(998969))().p3{constructor(e,t){super(e,t)}after(e,t){return super.after(e,t)}}},658294:(e,t,o)=>{o.d(t,{G:()=>a});var n=()=>o(137476),r=()=>o(836331);function a(e,t){n().vd(e,"delete_property",t),r().default.logEvent("delete_property")}},686752:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>n,pencilLineIcon:()=>r});o(242343);const n={viewBox:"0 0 20 20",svg:(0,o(163643).jsx)("path",{d:"m13.987 5.682-.684.684-1.288-1.288.692-.691a.91.91 0 0 1 1.28 0c.35.35.35.93 0 1.28zm-9.433 9.433 7.914-7.914-1.289-1.289-7.92 7.908c-.122.122-.214.29-.274.457l-.336 1.082c-.06.229.153.442.366.366l1.082-.335q.252-.07.457-.275m12.446.76H5.61l1.25-1.25H17a.625.625 0 1 1 0 1.25"})},r=(0,o(680369).wt)("pencilLine",n)},755989:(e,t,o)=>{o.d(t,{Ld:()=>u,kg:()=>d,uF:()=>p});var n=()=>o(803290),r=()=>o(564134),a=()=>o(706788),i=()=>o(405317),l=()=>o(96718),s=()=>o(485966),c=()=>o(133926);function u(e){let{spaceId:t,userId:o}=e;const n=(0,c()._X)({name:"collection_connected_property_figma",spaceId:t,userId:o}),r=(0,c()._X)({name:"collection_connected_property_github",spaceId:t,userId:o}),i=(0,c()._X)({name:"collection_connected_property_google_drive",spaceId:t,userId:o}),l=(0,c()._X)({name:"collection_connected_property_zendesk",spaceId:t,userId:o});return{[a().e1]:n,[a().ob]:r,[a().Hd]:i,[a().k0]:l}}function d(e){if(!e)return;const t=e&&(0,r().UU)(e)?e.connectedRelation.integration_id:void 0;return(0,l().l)(t)}function p(e){let{featureName:t}=e;const o=function(e){const t=e.featureName,o=(0,n().K8)((()=>{var t;return e.spaceId??(null===(t=s().default.state.currentSpaceStore)||void 0===t?void 0:t.id)}),[e.spaceId]),r=(0,n().K8)((()=>{var t;return e.userId??(null===(t=s().default.state.currentUserStore)||void 0===t?void 0:t.id)}),[e.userId]);return(0,c()._X)({name:t,spaceId:o,userId:r})}({featureName:t});if(!o)return;const r=(0,i().e2)(o),a=(0,i().Xq)(o);let l,u;return!a||"product"!==a.type||"plus"!==a.product&&"business"!==a.product&&"enterprise"!==a.product||(l=a.product),r&&(u=r&&o.expiry&&"sunset"===o.expiry.type?o.expiry.endDate:void 0),{isAvailable:r,expirationDate:u,upsell:a,upsellTier:l}}},779698:(e,t,o)=>{o.d(t,{Ah:()=>g,Dk:()=>y,Iv:()=>f,SF:()=>m,YO:()=>h,_f:()=>x,c_:()=>d,dW:()=>_,gW:()=>p,sp:()=>M,vN:()=>v});o(610931),o(362833),o(725707),o(491955),o(771702),o(403517),o(113085);var n=()=>o(975392),r=()=>o(204132),a=()=>o(76394),i=()=>o(599932),l=()=>o(465546),s=()=>o(409211),c=()=>o(34662),u=()=>o(876988);function d(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"add_automation_step",properties:t})}function p(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"delete_automation_step",properties:t})}function y(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"automation_create",properties:t})}function m(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"automation_update",properties:t})}function f(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"automation_delete",properties:t})}function g(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"automation_enable",properties:t})}function v(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"automation_disable",properties:t})}function _(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"automation_action_create",properties:t})}function h(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"automation_action_delete",properties:t})}function b(e){const{formulaAnalyticsModule:t,formulasModule:o,formulaTypecheckContextValues:n,getRecordModel:i,spaceId:s,value:c,featureGates:u}=e;if("formula"===c.type){if(!(0,a().O9)(c.value))return;const e=r().Q.unwrapOr(o.parseFormulaInputToAst(c.value),void 0);if(e){const r=o.addTypesToFormulaAST(e,{handleDataRequest:(0,l().zg)(i),spaceId:s,valueTypes:n,featureGates:u});return{...t.getFormulaAnalytics(e,{getRecordModel:i,typecheckContextValues:n}),formula_return_type:r.node.type,redacted_formula:t.getRedactedFormulaAsStringSync(e,{getRecordModel:i,typecheckContextValues:n})}}}else{if("simple"===c.type){if(!(0,a().O9)(c.value))return;return t.getSimpleFormulaAnalytics(c.value,{getRecordModel:i,typecheckContextValues:n})}(0,a().HB)(c.type)}}function x(e){const{automationActionModel:t,automationActionModels:o,formulaAnalyticsModule:r,formulasModule:d,formulaTypecheckContextValues:p,getRecordModel:y,featureGates:m,simpleFormulasModule:f}=e;return t.isType("complete_sprint")?{automation_action_id:t.pointer.id,type:"complete_sprint"}:t.isType("create_page")?function(e){const{automationActionModel:t,formulaAnalyticsModule:o,formulasModule:n,formulaTypecheckContextValues:r,getRecordModel:i,featureGates:l}=e,s=t.getConfig();let c,u=[];const d=null==s?void 0:s.collection,p=null==s?void 0:s.properties;if((0,a().O9)(d)&&(0,a().O9)(p)&&p.length>0){const e=i(d),m=null==e?void 0:e.getNormalizedSchema();(0,a().O9)(m)&&(u=p.map((e=>{var t;return(null===(t=m[e])||void 0===t?void 0:t.type)??"unknown"})));const f=null==s?void 0:s.values;if(n&&(0,a().O9)(f)){c=[];for(const e of p){var y;const a=null===(y=f[e])||void 0===y?void 0:y.value;if(!a)continue;const s=b({formulaAnalyticsModule:o,formulasModule:n,getRecordModel:i,formulaTypecheckContextValues:r,spaceId:t.spaceId,value:a,featureGates:l});s&&c.push(s)}}}return{automation_action_id:t.pointer.id,property_formula_stats:c,property_types:u,type:"create_page"}}({automationActionModel:t,formulaAnalyticsModule:r,formulasModule:d,formulaTypecheckContextValues:p,getRecordModel:y,featureGates:m}):t.isType("duplicate_blocks")?{automation_action_id:t.pointer.id,type:"duplicate_blocks"}:t.isType("modal_confirmation")?function(e){const{automationActionModel:t,formulaAnalyticsModule:o,formulasModule:n,formulaTypecheckContextValues:r,getRecordModel:i,featureGates:l}=e,s=t.getConfig(),c=[];if(n&&(0,a().O9)(s)&&s.text){const e=b({formulasModule:n,formulaAnalyticsModule:o,getRecordModel:i,formulaTypecheckContextValues:r,spaceId:t.spaceId,value:s.text,featureGates:l});e&&c.push(e)}return{automation_action_id:t.pointer.id,formula_stats:c,type:"modal_confirmation"}}({automationActionModel:t,formulaAnalyticsModule:r,formulasModule:d,formulaTypecheckContextValues:p,getRecordModel:y,featureGates:m}):t.isType("open_page")?{automation_action_id:t.pointer.id,type:"open_page"}:t.isType("query_collection")?{automation_action_id:t.pointer.id,type:"query_collection"}:t.isType("send_in_app_notification")?function(e){var t;const{automationActionModel:o,formulaAnalyticsModule:n,formulasModule:r,formulaTypecheckContextValues:i,getRecordModel:l,featureGates:s,simpleFormulasModule:u}=e,d={automation_action_id:o.pointer.id,messageCharacterCount:0,type:"send_in_app_notification"},p=o.getConfig();if(!(0,a().O9)(p))return d;if((0,a().O9)(p.target))if("formula"===p.target.type&&(0,a().O9)(p.target.value)){if(d.targetData={type:"formula",numUserFormulaTargets:(0,c().Fbh)(p.target.value.value).length,numFormulaContextTargets:u.getReferencedContextValueIds(p.target.value).length},r){const e=b({formulasModule:r,formulaAnalyticsModule:n,getRecordModel:l,formulaTypecheckContextValues:i,spaceId:o.spaceId,value:p.target.value,featureGates:s});e&&(d.formula_stats??=[],d.formula_stats.push(e))}}else if("property"===p.target.type&&(0,a().O9)(p.target.propertyId)&&(0,a().O9)(p.target.collectionPointer)){const e=l(p.target.collectionPointer),t=null==e?void 0:e.getSchema();var y;(0,a().O9)(t)&&(d.targetData={type:"property",propertyType:null===(y=t[p.target.propertyId])||void 0===y?void 0:y.type})}if((0,a().O9)(null===(t=p.notification_message)||void 0===t?void 0:t.value)&&(d.messageCharacterCount=(0,c().FAw)(p.notification_message.value),r)){const e=b({formulasModule:r,formulaAnalyticsModule:n,getRecordModel:l,formulaTypecheckContextValues:i,spaceId:o.spaceId,value:p.notification_message,featureGates:s});e&&(d.formula_stats??=[],d.formula_stats.push(e))}return d}({automationActionModel:t,formulaAnalyticsModule:r,formulasModule:d,formulaTypecheckContextValues:p,getRecordModel:y,featureGates:m,simpleFormulasModule:f}):t.isType("send_gmail_notification")?function(e){var t,o,r,l,u,d,p;const{automationActionModel:y,formulaAnalyticsModule:m,formulasModule:f,formulaTypecheckContextValues:g,getRecordModel:v,featureGates:_}=e,h=y.getConfig();if(!(0,a().O9)(h))return{automation_action_id:y.pointer.id,fields:{},recipient_domains:{},type:"send_gmail_notification"};const x=Object.fromEntries(Object.entries(h||{}).map((e=>{let[t,o]=e;var n;return"formula"===(null==o?void 0:o.type)?[t,Boolean(null==o||null===(n=o.value)||void 0===n?void 0:n.value)]:"simple"===(null==o?void 0:o.type)?[t,Boolean(null==o?void 0:o.value)]:[t,Boolean(o)]}))),{to:M,cc:S,bcc:C}=h,k=[...(null==M||null===(t=M.value)||void 0===t?void 0:t.value)||[],...(null==S||null===(o=S.value)||void 0===o?void 0:o.value)||[],...(null==C||null===(r=C.value)||void 0===r?void 0:r.value)||[]],T=[...(0,c().Fbh)(k).map((e=>v({table:s().oo,id:e}))).map((e=>null==e?void 0:e.email)).filter(a().O9),...(0,i().C3)((0,c().k4p)(k))],A=n().Tr(T.map((e=>e.split("@")[1]))),I=[null===(l=h.to)||void 0===l?void 0:l.value,null===(u=h.cc)||void 0===u?void 0:u.value,null===(d=h.bcc)||void 0===d?void 0:d.value,null===(p=h.reply_to)||void 0===p?void 0:p.value,h.from_name,h.email_subject,h.email_body].map((e=>{if(f&&(0,a().O9)(e))return b({formulaAnalyticsModule:m,formulasModule:f,getRecordModel:v,formulaTypecheckContextValues:g,spaceId:y.spaceId,value:e,featureGates:_})})).filter(a().O9);return{automation_action_id:y.pointer.id,fields:x,formula_stats:I,recipient_domains:A,type:"send_gmail_notification"}}({automationActionModel:t,formulaAnalyticsModule:r,formulasModule:d,formulaTypecheckContextValues:p,getRecordModel:y,featureGates:m}):t.isType("slack_notification")?{automation_action_id:t.pointer.id,type:"slack_notification"}:t.isType("update_pages")?function(e){const{automationActionModel:t,automationActionModels:o,formulaAnalyticsModule:n,formulasModule:r,formulaTypecheckContextValues:i,getRecordModel:s,featureGates:c}=e,d=t.getConfig(),p=[],y=[],m=[];if((0,a().O9)(d)&&(0,a().O9)(d.target)&&(0,a().O9)(d.properties)&&d.properties.length>0){let e;if("variable"===d.target.type){const t=(0,l().y5)(d.target.id);if("action"===t.source){const t=(0,u().y)({actionModels:o,id:d.target.id}).collectionPointer;if((0,a().O9)(t)){const o=s(t);e=null==o?void 0:o.getNormalizedSchema()}}else{if("global"!==t.source||"button_page"!==t.global)throw new Error("Failed loading property schema");{const t=(0,l().IV)(i,d.target.id);if("block"===(null==t?void 0:t.type.type)&&(0,a().O9)(t.type.collection)){const o=s(t.type.collection);e=null==o?void 0:o.getNormalizedSchema()}}}}else if("collection"===d.target.type){const t=s(d.target.collection);e=null==t?void 0:t.getNormalizedSchema()}(0,a().O9)(e)&&d.properties.forEach((o=>{const l=e[o];if((0,a().O9)(l)&&(p.push(l.type),r&&(0,a().O9)(d.values))){const e=d.values[o];if((0,a().O9)(e)&&(y.push({type:l.type,operator:e.action}),e.value)){const o=b({formulasModule:r,formulaAnalyticsModule:n,getRecordModel:s,formulaTypecheckContextValues:i,spaceId:t.spaceId,value:e.value,featureGates:c});o&&m.push(o)}}}))}return{automation_action_id:t.pointer.id,property_configs:y,property_formula_stats:m,property_types:p,type:"update_pages"}}({automationActionModel:t,automationActionModels:o,formulaAnalyticsModule:r,formulasModule:d,formulaTypecheckContextValues:p,getRecordModel:y,featureGates:m}):t.isType("define_variables")?function(e){const{automationActionModel:t,formulaAnalyticsModule:o,formulasModule:n,formulaTypecheckContextValues:r,getRecordModel:i,featureGates:l}=e,s=t.getConfig(),c=[];if(n&&(0,a().O9)(s)&&s.values)for(const a of Object.values(s.values))if(a.value){const e=b({formulasModule:n,formulaAnalyticsModule:o,getRecordModel:i,formulaTypecheckContextValues:r,spaceId:t.spaceId,value:a.value,featureGates:l});e&&c.push(e)}return{automation_action_id:t.pointer.id,formula_stats:c,type:"define_variables"}}({automationActionModel:t,formulaAnalyticsModule:r,formulasModule:d,formulaTypecheckContextValues:p,getRecordModel:y,featureGates:m}):t.isType("http_request")?{automation_action_id:t.pointer.id,type:"http_request"}:t.isType("publish_site")?{automation_action_id:t.pointer.id,type:"publish_site"}:void(0,a().HB)(t)}function M(e){const{automationModel:t,builderType:o="sidebar",formulaAnalyticsModule:n,formulasModule:r,formulaTypecheckContextValues:i,getRecordModel:l,featureGates:s,simpleFormulasModule:c,source:u}=e,d=[],p=t.getActionPointers().map((e=>l(e))).filter(a().O9);for(const h of t.getActionPointers()){const e=l(h);(0,a().O9)(e)&&d.push(x({automationActionModel:e,automationActionModels:p,formulaAnalyticsModule:n,formulasModule:r,formulaTypecheckContextValues:i,getRecordModel:l,featureGates:s,simpleFormulasModule:c}))}const y=[];let m,f,g;if(t.isEventType()){var v;const e=t.getEventConfiguration(),o=l(t.getParentPointer());m=t.getParentId();const n=t.getEventConfiguration();if("collection_view"===(null===(v=n.source)||void 0===v?void 0:v.type)){const e=l(n.source.pointer);g=null==e?void 0:e.parent_id,f=null==n?void 0:n.source.pointer.id}const r=null==o?void 0:o.getNormalizedSchema();if((0,a().O9)(r)){const{pagesAdded:t,pagePropertiesEdited:o}=e;if(t&&y.push({type:"page"}),"any"===o.type)y.push({condition:"any",type:"property"});else if("none"===o.type)y.push({condition:"none",type:"property"});else{let e=[];"some"===o.type?e=o.some??[]:"all"===o.type&&(e=o.all??[]);const t=[],n=[];e.forEach((e=>{var o;const i=null===(o=r[e.property])||void 0===o?void 0:o.type;(0,a().O9)(i)&&(t.push({type:i,operator:e.filter.operator}),n.push(i))})),y.push({condition:o.type,property_configs:t,property_types:n,type:"property"})}}}else if(t.isButtonType())y.push({type:"button"});else if(t.isRecurrenceType()){var _;y.push({type:"recurrence",frequency:null===(_=t.getTrigger().recurrence)||void 0===_?void 0:_.frequency})}else(0,a().HB)(t);return{automation_actions:d,automation_id:t.id,automation_triggers:y,collection_id:m,collection_view_id:f,collection_view_block_id:g,builder_type:o,source:u}}},784676:(e,t,o)=>{o.r(t),o.d(t,{TableHeaderPropertyCreationMenu:()=>g});o(725707),o(491955),o(324989),o(771702),o(403517);var n=o(242343),r=()=>o(237385),a=()=>o(803290),i=()=>o(174114),l=()=>o(653998),s=()=>o(76394),c=()=>o(31448),u=()=>o(935091),d=()=>o(858023),p=()=>o(477784),y=()=>o(640979),m=()=>o(246545),f=o(163643);function g(e){const{collectionContextStore:t,onAccept:o,propertySchema:g,disableSuggestions:v,propertyGroupId:_,nameInput:h,handleClosePopup:b}=e,x=function(e){let{collectionContextStore:t,propertySchema:o,onAccept:a,disableSuggestions:u,propertyGroupId:d,nameInput:y,handleClosePopup:f}=e;const g=(0,l().tz)(),v=(0,r().v3)(),_=(0,i().IS)((e=>({section:{padding:8,gap:2,display:"flex",flexDirection:"column",margin:0},noSuggestedSection:{marginTop:6},title:{fontSize:12,fontWeight:c().Wy.medium,color:e.text.secondary,marginLeft:3},iconStyle:{fill:e.icon.secondary},buttonStyle:{minHeight:32,maxWidth:192,minWidth:192}})),[]),h=(0,m().Re)({environment:v,collectionContextStore:t,propertySchema:o,onAccept:a,intl:g,section:["basic"],iconStyle:_.iconStyle,buttonStyle:_.buttonStyle}),b=(0,m().Re)({environment:v,collectionContextStore:t,propertySchema:o,onAccept:a,intl:g,section:["advanced"],iconStyle:_.iconStyle,buttonStyle:_.buttonStyle}),x=(0,m().Re)({environment:v,collectionContextStore:t,propertySchema:o,onAccept:a,intl:g,section:["metadata"],iconStyle:_.iconStyle,buttonStyle:_.buttonStyle}),M=(0,m().p1)(_.iconStyle,_.buttonStyle),S=(0,n.useMemo)((()=>({...b,...M})),[b,M]),C=(0,n.useMemo)((()=>(0,s().uv)(h).flatMap((e=>h[e]))),[h]),k=(0,n.useMemo)((()=>(0,s().uv)(S).flatMap((e=>S[e]))),[S]),T=(0,n.useMemo)((()=>(0,s().uv)(x).flatMap((e=>x[e]))),[x]),A=(0,m().D1)({collectionContextStore:t,propertySchema:o,propertyGroupId:d,buttonStyle:_.buttonStyle,propertyName:y,onAfterAccept:f}),I=(0,n.useMemo)((()=>A?(0,s().uv)(A).flatMap((e=>A[e])):[]),[A]),[w]=(0,m().b9)({collectionContextStore:t,buttonStyle:_.buttonStyle,onAfterAccept:f}),D=(0,n.useMemo)((()=>{if(!w)return{};const e={};return(0,s().uv)(w).forEach((t=>{const o=(0,s().uv)(w[t]).flatMap((e=>w[t][e]));o.length>0&&(e[t]=o)})),e}),[w]),O=(0,n.useCallback)((e=>e.slice(0,m().A$).map((e=>e.toString()))),[]),j=(0,m().ds)({hasAiEnabled:!0,showAiSuggestions:!0,collectionContextStore:t,propertySchema:o,onAccept:a,disableSuggestions:u,getFilteredSuggestedItemKeys:O,iconStyle:_.iconStyle,buttonStyle:_.buttonStyle,onAfterAccept:f}),P=(0,n.useMemo)((()=>{if("loading"===j)return[];return O((0,s().uv)(j)).flatMap((e=>j[e]))}),[j,O]),R=(0,m().D9)({hasMoreSuggestions:!1,filteredSuggestedPropertyItems:P,hasSearchInput:!1,showAiSuggestions:!1,setIsShowingMoreSuggestions:()=>{},disableSuggestions:Boolean(u||o),isLoading:"loading"===j,title:p().A.formatMessage(m().DZ.suggestedSectionTitle),desktopStyle:_.section,desktopTitleStyle:_.title}),B=(0,m().Dm)({filteredStandardPropertyItems:C,key:"basic",title:p().A.formatMessage(m().DZ.selectType),topBorder:R.items.length>0,desktopStyle:R.items.length>0?_.section:{..._.noSuggestedSection,..._.section},desktopTitleStyle:_.title,searchProperties:void 0}),V=(0,m().Dm)({filteredStandardPropertyItems:k,key:"advanced",desktopStyle:_.section,topBorder:!0,searchProperties:void 0}),W=(0,m().Dm)({filteredStandardPropertyItems:T,key:"metadata",desktopStyle:_.section,topBorder:!0,searchProperties:void 0}),E=(0,m().bj)({filteredConnectedPropertyItems:I,hideTitle:!0,desktopStyle:_.section}),F=(0,m().f1)({filteredConnectedPropertyItemsPerIntegration:D}),N=(0,n.useMemo)((()=>F.filter((e=>e.items.length>0))),[F]);return(0,n.useMemo)((()=>[R,B,V,W,...N,E]),[R,B,V,W,E,N])}({collectionContextStore:t,propertySchema:g,onAccept:o,disableSuggestions:v,propertyGroupId:_,nameInput:h,handleClosePopup:b}),M=(0,a().O$)(t.permissionScopesStore),S=(0,i().IS)((()=>({row:{display:"flex",justifyContent:"start"}})),[]),C=(0,n.useCallback)(((e,t)=>{const o={...S.row,...1===e.length?{maxWidth:192}:{}};return(0,f.jsx)("div",{role:"row",style:o,children:e},t)}),[S.row]);return null!=M&&M.isExternallyImportedAndSyncedCollection?null:(0,f.jsx)(u().A,{menuType:y().gu.Popup,minWidth:400,minHeight:300,maxHeight:"50vh",children:(0,f.jsx)(d().Ay,{type:d().Oh.Grid,sections:x,disableInitialScroll:!0,initialFocus:0,resetInitialFocusOnSectionChange:!1,getItemsPerRowForSection:()=>2,renderRow:C})})}},793613:(e,t,o)=>{o.d(t,{E:()=>m});o(242343);var n=()=>o(803290),r=()=>o(174114),a=()=>o(653998),i=()=>o(622286),l=()=>o(485966),s=()=>o(695951),c=o(163643);const u={define_variables_automation_action:{launchDateMs:17277408e5,expiryDateMs:1738368e6},passkey_setting:{launchDateMs:1729101727e3,expiryDateMs:1738432882e3},http_request_automation_action:{launchDateMs:173324302e4,expiryDateMs:1738368e6},publish_site_settings_embed_page:{launchDateMs:1736208e6,expiryDateMs:1743984e6},generalized_recurrence_automations:{launchDateMs:17365536e5,expiryDateMs:17460576e5},ai_page_translation_topbar_more_action:{launchDateMs:1740451280830,expiryDateMs:17434656e5},verification:{launchDateMs:1740096e6,expiryDateMs:174375e7},notion_ai_workspace_settings:{launchDateMs:17424288e5,expiryDateMs:17550432e5},notion_mail_launch_modal:{launchDateMs:17446752e5,expiryDateMs:17525376e5},notion_mail_launch_modal_2:{launchDateMs:17446752e5,expiryDateMs:17578944e5},ui_doc_example:{launchDateMs:19249056e5,expiryDateMs:19249056e5},show_integration_webhooks_callout:{launchDateMs:17428608e5,expiryDateMs:17506368e5},collection_property_permissions:{launchDateMs:17433792e5,expiryDateMs:17671392e5},salesforce_sync_unfurling_option:{launchDateMs:17443296e5,expiryDateMs:17538336e5}};function d(e){let{style:t}=e;const o=(0,r().IS)((e=>({badge:{letterSpacing:0,whiteSpace:"nowrap",width:"fit-content",...t}})),[t]);return(0,c.jsx)(s().A,{color:"blue",style:o.badge,content:(0,c.jsx)(a().sA,{id:"newBadgeComponent.label",defaultMessage:"New"})})}function p(e){let{style:t,newBadgeKey:o}=e;const{launchDateMs:r,expiryDateMs:a}=u[o];return(0,n().K8)((()=>{const{currentUserSettingsStore:e}=l().default.state;if(e&&e.isReady()){var t;const o=null===(t=e.getSettings())||void 0===t?void 0:t.signup_time;if(o&&o>r)return!1}return Date.now()<=a}),[a,r])?(0,c.jsx)(d,{style:t}):null}function y(e){let{style:t,newBadgeKey:o}=e;return(0,i().X)(o)?(0,c.jsx)(d,{style:t}):null}function m(e){return e.didUserEngage?null:"feature_gate"===e.keyType?(0,c.jsx)(y,{...e}):(0,c.jsx)(p,{...e})}},837809:(e,t,o)=>{o.d(t,{O:()=>c,q:()=>u});o(242343);var n=()=>o(174114),r=()=>o(220413),a=()=>o(31448),i=()=>o(826033),l=()=>o(809785),s=o(163643);function c(e){const{value:t,color:o,format:c,showEllipsis:u,onClickRemove:d,showRemoveButton:p,isSingle:y,shouldShrink:m,hideTooltip:f,description:g,tooltipPlacement:v,..._}=e,h=(0,n().DP)(),b=(0,n().IS)((e=>({token:{...u&&a().RC}})),[u]),{textColor:x,backgroundColor:M}=(0,r().LD)(h,o);return t?(0,s.jsx)(l().A,{format:c,value:(0,s.jsx)(i().A,{children:t}),description:g,onClickRemove:d,showRemoveButton:p,isSingle:y,color:x,backgroundColor:M,shouldShrink:m,tooltipPlacement:v,showTooltip:f?"never":"overflow",style:b.token,..._}):null}function u(e){const{value:t,color:o,format:c,showEllipsis:u,onClickRemove:d,showRemoveButton:p,isSingle:y,shouldShrink:m,groupColor:f,tooltipPlacement:g,description:v,hideTooltip:_,...h}=e,b=(0,n().DP)(),x=(0,n().IS)((()=>({token:{...u&&a().RC}})),[u]);if(!t)return null;const{textColor:M,backgroundColor:S}=(0,r().LD)(b,o??f??"gray");let C;return C=o||(f||"gray"),(0,s.jsx)(l().A,{format:c,value:(0,s.jsx)(i().A,{children:t}),description:v,onClickRemove:d,showRemoveButton:p,isSingle:y,color:M,backgroundColor:S,shouldShrink:m,showTooltip:_?"never":"overflow",style:x.token,isRound:!0,showColoredDot:C,tooltipPlacement:g,...h})}},855470:(e,t,o)=>{o.d(t,{V:()=>r});o(242343);var n=o(163643);const r=(0,o(680369).wt)("chevronRight",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M12.375 8.06445C12.375 7.83203 12.2861 7.63379 12.1084 7.45605L6.77637 2.24023C6.62598 2.08984 6.44141 2.01465 6.22266 2.01465C5.77832 2.01465 5.42285 2.35645 5.42285 2.80078C5.42285 3.01953 5.51172 3.21777 5.66211 3.375L10.4746 8.06445L5.66211 12.7539C5.51855 12.9043 5.42285 13.1025 5.42285 13.3213C5.42285 13.7725 5.77832 14.1143 6.22266 14.1143C6.44141 14.1143 6.62598 14.0391 6.77637 13.8887L12.1084 8.67285C12.293 8.49512 12.375 8.29688 12.375 8.06445Z"})})},876988:(e,t,o)=>{o.d(t,{y:()=>a});o(725707),o(500234);var n=()=>o(76394),r=()=>o(465546);function a(e){var t;const{actionModels:o,id:a}=e,i=(0,r().y5)(a),l="action"===i.source?o.find((e=>e.id===i.action_id)):void 0,s=(0,n().O9)(l)&&l.isType("create_page")?null===(t=l.getConfig())||void 0===t?void 0:t.collection:void 0;return{automationValueInfo:i,collectionPointer:s,actionModel:l}}},911575:(e,t,o)=>{o.d(t,{$0:()=>g,Fx:()=>S,Ge:()=>y,I3:()=>d,Kj:()=>x,PP:()=>C,TK:()=>k,Yy:()=>u,aE:()=>T,cQ:()=>M,kH:()=>m,m7:()=>p,nq:()=>h,nv:()=>v,tj:()=>f});o(725707),o(491955),o(113085);var n=()=>o(975392),r=()=>o(76394),a=()=>o(564134),i=()=>o(810111),l=()=>o(479056),s=()=>o(875089);(0,r().u0)((e=>(0,r().O9)(e)&&(0,r().O9)(e.target)&&(0,r().O9)(e.external_bot_id)?{true:{external_bot_id:e.external_bot_id,target:e.target,custom_message:e.custom_message}}:{false:e}));const c={checkbox:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,auto_increment_id:!1,button:!1,created_by:!1,created_time:!1,file:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1,geo_point:!1},u={checkbox:[{type:"checkbox"}],date:[{type:"date"}],email:[{type:"text"}],multi_select:[{type:"text"},{of:{type:"text"},type:"array"}],number:[{type:"number"}],person:[{type:"person"},{of:{type:"person"},type:"array"}],phone_number:[{type:"text"}],relation:[{type:"block"},{of:{type:"block"},type:"array"}],select:[{type:"text"},{of:{type:"text"},type:"array"}],status:[{type:"text"},{of:{type:"text"},type:"array"}],text:void 0,title:void 0,url:[{type:"text"}]};function d(e){return Boolean(c[e.type]&&!(0,a().UU)(e)&&(!(0,a().$M)(e)||void 0===(0,a().om)(e)))}function p(e){const{collectionFormat:t,collectionSchema:o,filter:l,sort:c,sourcePropertyIds:u}=e,p=(u??(0,r().uv)(o)).filter(((t,n,r)=>{const i=o[t];return!(!i||!d(i))&&(("relation"!==i.type||!e.restrictCrossSpace||!(0,a().o2)(e.spaceId,i))&&(!l||l([t,i],n,o)))}));if(0===p.length)return[];if(!t||!1===c)return p;const y=(0,s().L)(t,o,void 0,i().jf.Page).collection_page_properties||[];return n().Ul(p,(e=>y.findIndex((t=>t.property===e))))}function y(e){const{collectionFormat:t,collectionSchema:o,sort:l}=e,c=(0,r().uv)(o).filter(((e,t,n)=>{const r=o[e];return!(!r||!(0,a().JY)(r))}));if(0===c.length)return[];if(!t||!1===l)return c;const u=(0,s().L)(t,o,void 0,i().jf.Page).collection_page_properties||[];return n().Ul(c,(e=>u.findIndex((t=>t.property===e))))}function m(e){return e.type===l().M9.InvalidCharacter?{type:e.type,character:e.character}:e.type===l().M9.TokenExpected?{type:e.type,token:e.token}:e.type===l().uW.MissingSchemaPropertyOnThisRow||e.type===l().uW.MissingSchemaPropertyOnCollection?{type:e.type,collectionId:e.collectionId,property:e.property}:e.type===l().uW.ThisRowBlockPropertyMismatchCollection?{type:e.type,thisRowCollection:e.thisRowCollection}:e.type===l().uW.MissingContextVariable?{type:e.type,valueId:e.valueId}:e.type===l().uW.FunctionCallTooFewArguments?{type:e.type,numArguments:e.numArguments}:e.type===l().uW.FunctionCallUnexpectedArgument?{type:e.type,parameterIndex:e.parameterIndex}:e.type===l().uW.FunctionCallArgumentWrongType?{type:e.type,argumentType:e.argumentType,libraryFunctionName:e.libraryFunction.name,parameterIndex:e.parameterIndex}:e.type===l().uW.MissingDataDependencyBlock?{type:e.type,blockPointer:e.blockPointer,node:e.node}:e.type===l().uW.MissingDataDependencyPerson?{type:e.type,personPointer:e.personPointer}:e.type===l().uW.MemberPropertyMismatchCollection?{type:e.type,blockCollection:e.blockCollection}:e.type===l().uW.DownstreamParseFailure?{type:e.type,collectionId:e.collectionId,property:e.property}:e.type===l().uW.ContextVariableWrongType?{type:e.type,valueId:e.valueId,expectedType:e.expectedType,resultType:e.resultType}:e.type===l().uW.DisallowedValueType?{type:e.type,expressionValue:e.expressionValue,allowedValueTypes:e.allowedValueTypes}:e.type===l().uW.LibraryFunctionExecutionError?{type:e.type,error:e.error,libraryFunctionName:e.libraryFunction.name}:{type:e.type}}const f={checkbox:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,button:!1,file:!1,verification:!1,auto_increment_id:!1,created_by:!1,created_time:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,geo_point:!1};function g(e){return Boolean(f[e.type])}function v(e){const{collectionFormat:t,collectionSchema:o,filter:l,sort:c}=e,u=(0,r().uv)(o).filter(((e,t,n)=>{var r;const i=o[e];return!(!i||!f[i.type])&&((!(0,a().$M)(i)||null===(r=(0,a().om)(i))||void 0===r||!r.auto_update_on_edit)&&(!l||l([e,i],t,o)))}));if(0===u.length)return[];if(!t||!1===c)return u;const d=(0,s().L)(t,o,void 0,i().jf.Page).collection_page_properties||[];return n().Ul(u,(e=>d.findIndex((t=>t.property===e))))}const _={checkbox:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,auto_increment_id:!1,button:!1,created_by:!1,created_time:!1,date:!1,file:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1,geo_point:!1};function h(e){return _[e.type]}const b={checkbox:!0,created_by:!0,created_time:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,last_edited_by:!0,last_edited_time:!0,auto_increment_id:!1,button:!1,file:!1,formula:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1,geo_point:!1};function x(e){return b[e.type]}function M(e){return 0===e}function S(e){return function(e){return"button_block"===e||"button_property"===e}(e)}function C(e){const{property:t,collectionSchema:o}=e;return!!o&&!o[t]}function k(e){const{collectionSchema:t,property:o,type:n}=e,r=null==t?void 0:t[o];return!r||("action"===n?!d(r):!f[r.type])}function T(e){let{automationTrigger:t,collectionSchema:o}=e;if("event"===(null==t?void 0:t.type)){const{pagesAdded:e,pagePropertiesEdited:n,source:a,relativeDate:i}=t.event;if(void 0===a)return!1;const l="some"===n.type&&n.some,s="all"===n.type&&n.all;if((l||s||[]).some((e=>C({collectionSchema:o,property:e.property})||k({collectionSchema:o,property:e.property,type:"trigger"}))))return!1;const c="some"===n.type&&(!(0,r().O9)(n.some)||0===n.some.length),u="all"===n.type&&(!(0,r().O9)(n.all)||0===n.all.length);if(!e&&("none"===n.type||c||u)&&!i)return!1}else{if("recurrence"!==(null==t?void 0:t.type))return!1;if(!t.recurrence)return!1}return!0}},963644:(e,t,o)=>{o.d(t,{i:()=>a});var n=()=>o(876695),r=()=>o(658294);function a(e){const{environment:t,collectionContextStore:o,property_type:a,from:i,property:l,...s}=e,c=(0,n().sl)(o)||{};(0,r().G)(t,{property:l,property_type:a,from:i,...s,...c})}},994488:(e,t,o)=>{o.d(t,{o:()=>n});o(362833),o(403517);function n(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),r=1;r<t;r++)o[r-1]=arguments[r];if(0===o.length)return e.map((e=>[e]));const a=[];for(const i of e)a.push(...n(o[0],...o.slice(1)).map((e=>[i,...e])));return a}}}]);