"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[23063],{90130:(e,t,n)=>{n.d(t,{Ay:()=>b,_P:()=>C});n(725707),n(500234);var o=n(242343),i=()=>n(174114),s=()=>n(678751),r=()=>n(653998),a=()=>n(220413),l=()=>n(975392),d=()=>n(31448),c=()=>n(966789),u=()=>n(483838),m=()=>n(59175),g=n(163643);function p(e){const{placeholder:t,value:n,maxlength:o,style:s,onChange:r}=e,l=(0,i().IS)((e=>(0,i().$4)({input:{background:a().Ay.EmailPasswordBackground,color:e.darkTextColor,...s}})),[s]);return(0,g.jsx)(m().A,{value:n,placeholder:t,maxlength:o,style:l.input,inputStyle:d().RC,autoFocus:!0,spellCheck:!1,onChange:r,autoComplete:"off",customElementAttributes:u().SY})}var h=()=>n(769801),f=()=>n(953678),y=()=>n(156550);const C=6,x=["totpDuplicateFriendlyName","totpEmptyFriendlyName","totpBadFriendlyName"],v=["unexpectedError","totpIncorrectCode"];function b(e){let{isLoading:t,qrCode:n,textCode:a,friendlyName:d,errorMessage:u,errorKeys:m,onDismiss:b,onBack:S,onContinue:j}=e;const k=(0,i().IS)(A,[]),w=(0,r().tz)(),[M,B]=(0,o.useState)(d??""),[I,L]=(0,o.useState)([]),[R,T]=(0,o.useState)(!0),[E,V]=(0,o.useState)(!1),H=(0,o.useCallback)((()=>{B(""),L([]),V(!0)}),[B,L]),N=R?(0,g.jsx)(r().sA,{id:"profileSettings.mfa.totp.scanQRCodeTitle",defaultMessage:"Scan code in authenticator"}):(0,g.jsx)(r().sA,{id:"profileSettings.mfa.totp.typeTextCodeTitle",defaultMessage:"Type code in authenticator"}),F=(0,g.jsx)(r().sA,{id:"profileSettings.mfa.totp.scanQRCodeHeader",defaultMessage:"Name your authenticator and enter the verification code to complete setup"}),z={text:(0,g.jsx)(r().sA,{id:"profileSettings.mfa.totp.continueButton",defaultMessage:"Continue"}),onClick:()=>{V(!1),j(M,I.join(""))},disabled:!n||t||0===M.length||(0,l().oE)(I).length!==C},D=R?[{text:(0,g.jsx)(r().sA,{id:"profileSettings.mfa.totp.cantScanCodeButton",defaultMessage:"Can't scan code?"}),onClick:()=>{T(!1),H()},type:"button",view:"plain",disabled:t}]:[{text:(0,g.jsx)(r().sA,{id:"profileSettings.mfa.totp.scanQRCodeButton",defaultMessage:"Scan QR code"}),onClick:()=>{T(!0),H()},type:"button",view:"plain",disabled:t}],W=w.formatMessage({id:"profileSettings.mfa.totp.authenticatorNameInput.placeholder",defaultMessage:"e.g. Duo, Authy"}),P=null==m?void 0:m.find((e=>x.includes(e))),U=null==m?void 0:m.find((e=>null==v?void 0:v.includes(e)));return(0,g.jsx)(h().A,{onDismiss:b,onBack:S,title:N,header:F,icon:(0,s().K)(k.icon),errorMessage:u,primaryAction:z,secondaryActions:D,children:(0,g.jsxs)("div",{style:k.body,children:[R?(0,g.jsx)("div",{style:k.qrCodeContainer,children:n?(0,g.jsx)("img",{style:k.qrCode,src:n}):(0,g.jsx)(c().A,{})}):(0,g.jsx)("div",{style:k.textCodeContainer,children:(0,g.jsx)("div",{style:k.textCode,children:a})}),(0,g.jsx)("div",{style:k.inputLabel,children:(0,g.jsx)(r().sA,{id:"profileSettings.mfa.totp.authenticatorNameInput.label",defaultMessage:"Authenticator name"})}),(0,g.jsxs)("div",{style:k.input,children:[(0,g.jsx)(p,{placeholder:W,value:M,maxlength:30,onChange:e=>{B(e.target.value),V(!0)}}),!E&&P&&(0,g.jsx)("div",{style:k.error,children:y().xc[P]})]}),(0,g.jsx)("div",{style:k.inputLabel,children:(0,g.jsx)(r().sA,{id:"profileSettings.mfa.totp.authenticatorVerifyCode.label",defaultMessage:"One-time code"})}),(0,g.jsxs)("div",{style:k.input,children:[(0,g.jsx)(f().Ay,{numInputs:C,format:"settings",disabled:t,value:I,onChange:e=>{L(e),V(!0)},autoFocus:!1,isValidKey:f().Vx}),!E&&U&&(0,g.jsx)("div",{style:k.error,children:y().xc[U]})]})]})})}function A(e){return(0,i().$4)({body:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},qrCodeContainer:{display:"flex",justifyContent:"center",alignItems:"center",width:116,height:116,marginBottom:15},qrCode:{width:"100%"},textCodeContainer:{display:"flex",flexDirection:"column",justifyContent:"center",height:50,marginBottom:15},textCode:{fontWeight:d().Wy.medium,fontSize:d().J.UIRegular.desktop,color:e.darkTextColor,textAlign:"center",verticalAlign:"middle"},inputLabel:{color:e.text.tertiary,fontWeight:d().Wy.medium,alignSelf:"flex-start",fontSize:d().J.UISmall.desktop,marginBottom:6},input:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",marginBottom:8},icon:{width:30,height:30,fill:e.regularIconColor},error:{color:a().Tj.red,width:"100%",marginTop:4,textAlign:"left",fontSize:d().J.UISmall.desktop}})}},149181:(e,t,n)=>{n.d(t,{i:()=>i});n(242343);const o={viewBox:"0 0 20 20",svg:(0,n(163643).jsx)("path",{d:"M8.793 6.767c-.816 0-1.472.465-1.71 1.036a.625.625 0 1 1-1.154-.482C6.38 6.242 7.52 5.517 8.794 5.517c1.618 0 3.068 1.181 3.068 2.786a2.62 2.62 0 0 1-.762 1.835l-3.312 3.095h3.637a.625.625 0 1 1 0 1.25h-5.22a.625.625 0 0 1-.427-1.081l4.453-4.163a1.37 1.37 0 0 0 .381-.936c0-.775-.742-1.536-1.818-1.536m7.576 0c-.868 0-1.508.425-1.724.877a.625.625 0 0 1-1.127-.54c.473-.99 1.629-1.587 2.85-1.587.799 0 1.546.247 2.107.675.56.429.962 1.066.962 1.819s-.401 1.39-.962 1.819l-.036.026q.085.056.165.116c.595.448 1.02 1.114 1.02 1.902s-.425 1.454-1.02 1.903c-.595.448-1.388.706-2.236.706-1.287 0-2.488-.6-3.008-1.6a.625.625 0 1 1 1.108-.577c.252.484.952.927 1.9.927.602 0 1.125-.185 1.484-.455.358-.27.522-.595.522-.904 0-.308-.164-.634-.522-.904-.359-.27-.882-.455-1.484-.455h-.554a.625.625 0 0 1 0-1.25h.44a1 1 0 0 1 .114-.01c.549 0 1.023-.17 1.348-.419.323-.247.47-.544.47-.825s-.147-.579-.47-.826c-.325-.247-.8-.418-1.348-.418M3.731 6.22l.005.078v7.56a.625.625 0 0 1-1.25 0V7.21l-1.182.658a.625.625 0 0 1-.608-1.092L2.806 5.6a.625.625 0 0 1 .925.62"})},i=(0,n(680369).wt)("numbers123",o)},156550:(e,t,n)=>{n.d(t,{By:()=>a,qX:()=>l,xc:()=>r});n(242343);var o=()=>n(653998),i=()=>n(76394),s=n(163643);const r={unexpectedError:(0,s.jsx)(o().sA,{id:"general.mfa.error.unexpectedError",defaultMessage:"Something went wrong, please try again."}),smsIncorrectCode:(0,s.jsx)(o().sA,{id:"general.mfa.error.incorrectSMSCode",defaultMessage:"The code didn’t work, try typing it again or resend code."}),smsInvalidCountryCode:(0,s.jsx)(o().sA,{id:"general.mfa.error.smsInvalidCountryCode",defaultMessage:"The country code is not valid."}),smsInvalidPhoneCode:(0,s.jsx)(o().sA,{id:"general.mfa.error.smsInvalidPhoneNumber",defaultMessage:"The phone number is not valid."}),smsUnsupportedCountryCodeForEnrollment:(0,s.jsx)(o().sA,{id:"general.mfa.error.smsUnsupportedCountryCodeForEnrollment",defaultMessage:"SMS authentication is currently not supported for this country. You may consider using an authenticator app as an alternative authentication method."}),smsEmptyPhoneNumber:(0,s.jsx)(o().sA,{id:"general.mfa.error.smsEmptyPhoneNumber",defaultMessage:"Phone number cannot be empty."}),smsAlreadyVerifiedPhoneNumber:(0,s.jsx)(o().sA,{id:"general.mfa.error.smsAlreadyVerifedPhoneNumber",defaultMessage:"This phone number has already been verified."}),smsUnsupportedPhoneNumber:e=>(0,s.jsx)(o().sA,{id:"general.mfa.error.unsupportedPhoneNumber",defaultMessage:"SMS authentication is currently not available in {countryName}. You may consider using an authenticator app as an alternative authentication method.",values:{countryName:e}}),totpIncorrectCode:(0,s.jsx)(o().sA,{id:"general.mfa.error.incorrectTOTPCode",defaultMessage:"The code didn’t work, try typing it again."}),totpEmptyFriendlyName:(0,s.jsx)(o().sA,{id:"general.mfa.error.totpEmptyFriendlyName",defaultMessage:"Authenticator name cannot be empty."}),totpDuplicateFriendlyName:(0,s.jsx)(o().sA,{id:"general.mfa.error.totpDuplicateFriendlyName",defaultMessage:"Authenticator name is already in use."}),totpBadFriendlyName:(0,s.jsx)(o().sA,{id:"general.mfa.error.totpBadFriendlyName",defaultMessage:"Authenticator name cannot be used."}),backupCodeIncorrectCode:(0,s.jsx)(o().sA,{id:"general.mfa.error.incorrectBackupCode",defaultMessage:"The backup code didn’t work, try typing it again or use a different one."}),incorrectPassword:(0,s.jsx)(o().sA,{id:"general.mfa.error.incorrectPassword",defaultMessage:"Incorrect password."}),unableToSavePasskey:(0,s.jsx)(o().sA,{id:"passkey.error.unableToSave",defaultMessage:"The passkey could not be saved; please try again."})},a={passwordResentLinkSent:e=>(0,s.jsx)(o().sA,{id:"general.mfa.passwordResentLinkSent",defaultMessage:"A password reset link has been sent to {email}.",values:{email:e}})};function l(e){switch(e){case"totp":return r.totpIncorrectCode;case"sms":return r.smsIncorrectCode;case"backup_code":return r.backupCodeIncorrectCode;default:throw(0,i().HB)(e)}}},160781:(e,t,n)=>{n.d(t,{A:()=>p});var o=n(242343),i=()=>n(174114),s=()=>n(885471),r=()=>n(149181),a=()=>n(701799),l=()=>n(680369),d=()=>n(31448),c=()=>n(966789),u=()=>n(286404),m=()=>n(35462),g=n(163643);function p(e){const{type:t,isActive:n,title:p,caption:h,onClick:f,isLoading:y,style:C,disabled:x}=e,[v,b]=(0,o.useState)(!1),A=(0,o.useCallback)((()=>b(!0)),[b]),S=(0,o.useCallback)((()=>b(!1)),[b]),j=(0,i().IS)((e=>({button:{width:"100%",justifyContent:"left",padding:"10px 16px",alignItems:"start",height:"auto",...C},buttonLoading:{width:"100%",height:59,...C},buttonInner:{minWidth:0},icon:{width:l().Ev.default,height:l().Ev.default,marginRight:10,fill:n||v&&!x?e.blueColor:e.regularIconColor},caption:{fontSize:d().J.UISmall.desktop,lineHeight:1.35,color:e.text.secondary,whiteSpace:"normal"}})),[n,v,x,C]),k=(0,o.useMemo)((()=>y?j.buttonLoading:j.button),[y,j.buttonLoading,j.button]),w={totp:(0,s().s)(j.icon),sms:(0,a().A)(j.icon),backup_code:(0,r().i)(j.icon)}[t];return(0,g.jsx)(u().A,{size:"lg",style:k,onClick:f,onMouseEnter:A,onMouseLeave:S,hovered:v,disabled:x,disabledFeedback:x,children:y?(0,g.jsx)(c().A,{}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{style:j.icon,children:w}),(0,g.jsxs)("div",{style:j.buttonInner,children:[(0,g.jsx)(m().A,{children:p}),(0,g.jsx)("span",{style:j.caption,children:h})]})]})})}},214080:(e,t,n)=>{n.d(t,{n:()=>i});n(242343);var o=n(163643);const i=(0,n(680369).wt)("mailRound",{viewBox:"0 0 17 12",svg:(0,o.jsx)("path",{d:"M3.09961 11.9639H14.1055C15.3359 11.9639 16.0469 11.2529 16.0469 9.84473V2.29785C16.0469 0.896484 15.3291 0.185547 13.9004 0.185547H2.89453C1.66406 0.185547 0.953125 0.889648 0.953125 2.29785V9.84473C0.953125 11.2598 1.6709 11.9639 3.09961 11.9639ZM7.68652 6.41992L2.52539 1.32715C2.67578 1.26562 2.85352 1.23145 3.05859 1.23145H13.9414C14.1533 1.23145 14.3379 1.26562 14.4883 1.33398L9.34082 6.41992C9.04688 6.71387 8.78027 6.84375 8.51367 6.84375C8.24023 6.84375 7.97363 6.70703 7.68652 6.41992ZM1.99902 9.84473V2.29785C1.99902 2.24316 1.99902 2.27051 1.99902 2.22266L5.92969 6.08496L2.00586 9.96094C1.99902 9.92676 1.99902 9.88574 1.99902 9.84473ZM15.001 2.30469V9.85156C15.001 9.87891 15.001 9.91309 15.001 9.94043L11.0977 6.08496L15.001 2.24316C15.001 2.30469 15.001 2.30469 15.001 2.30469ZM3.05859 10.918C2.86719 10.918 2.70312 10.8906 2.55957 10.8291L6.64746 6.78906L7.0918 7.22656C7.57031 7.69824 8.02832 7.89648 8.51367 7.89648C8.99219 7.89648 9.45703 7.69824 9.93555 7.22656L10.3799 6.78906L14.4609 10.8223C14.3105 10.8906 14.1396 10.918 13.9414 10.918H3.05859Z"})})},412084:(e,t,n)=>{n.d(t,{A:()=>i});n(242343);var o=n(163643);const i=function(e){const{hasMarginTop:t}=e,i=(0,n(174114).IS)((e=>{const n={display:"block",marginBottom:4,fontSize:12,color:e.text.secondary};return t&&(n.marginTop=14),{style:n}}),[t]),{forId:s,children:r,style:a}=e;return(0,o.jsx)("label",{style:{...i.style,...a},htmlFor:s,children:r})}},446339:(e,t,n)=>{n.d(t,{n:()=>h});var o=n(242343),i=()=>n(174114),s=()=>n(692844),r=()=>n(653998),a=()=>n(76394),l=()=>n(31448),d=()=>n(907721),c=()=>n(966789),u=()=>n(103151),m=()=>n(611824),g=n(163643);const p=60*n(141666).TD;function h(e){let{resentStatus:t,resentAt:n,onResendLink:l}=e;const h=(0,i().IS)(f,[]),[y,C]=(0,o.useState)((()=>Date.now()));(0,o.useEffect)((()=>{if(n+p>y){const e=setTimeout((()=>{C(Date.now())}),1e3);return()=>{clearTimeout(e)}}}),[n,C,y]);const x=Math.max(Math.floor((n+p-y)/1e3),0);if("not-resent"===t||"resent"===t&&0===x)return(0,g.jsx)(r().sA,{id:"mfa.sms.resend.resend.link",defaultMessage:"<resend>Resend</resend>",values:{resend:e=>(0,g.jsx)(m().A,{style:h.resendLink,disableUnderline:!0,onClick:l,children:e})}});if("resending"===t)return(0,g.jsx)(r().sA,{id:"mfa.sms.resend.sending.label",defaultMessage:"<sending>Sending</sending>",values:{sending:e=>(0,g.jsxs)(g.Fragment,{children:[e,(0,g.jsx)(c().A,{size:"sm",style:h.loading})]})}});if("resent"===t)return(0,g.jsx)(u().A,{placement:d().W.Bottom,renderTooltip:()=>(0,g.jsx)(r().sA,{id:"mfa.sms.resend.resent.tooltip",defaultMessage:"You can send a code again in {resendTimeout} seconds",values:{resendTimeout:x}}),render:e=>(0,g.jsx)("span",{...e,style:h.resent,children:(0,g.jsx)(r().sA,{id:"mfa.sms.resend.resent.message",defaultMessage:"<resent>Resent</resent>",values:{resent:e=>(0,g.jsxs)(g.Fragment,{children:[e,(0,s().$)(h.checkmark)]})}})})});throw(0,a().HB)(t)}function f(e){return(0,i().$4)({resendLink:{fontWeight:l().Wy.medium,color:e.blueColor},checkmark:{width:12,height:12,display:"inline",verticalAlign:"middle",marginLeft:2,color:"green"},resent:{userSelect:"none",WebkitUserSelect:"none"},loading:{display:"inline",verticalAlign:"middle",marginLeft:2}})}},483838:(e,t,n)=>{n.d(t,{SY:()=>a,Su:()=>c,WS:()=>l,YX:()=>d});n(725707),n(500234);var o=()=>n(76394),i=()=>n(818369),s=()=>n(477784);const r=(0,n(653998).YK)({sms:{id:"mfaMethod.sms",defaultMessage:"SMS"},totp:{id:"mfaMethod.totp",defaultMessage:"Authenticator"},backupCode:{id:"mfaMethod.backupCode",defaultMessage:"Backup code"}}),a={"data-1p-ignore":"true","data-lpignore":"true"};function l(e){const t=["totp","sms","backup_code"];return e.sort(((e,n)=>{const o=t.indexOf(e.mfaMethod),i=t.indexOf(n.mfaMethod);return o===i?e.createdAt-n.createdAt:o-i}))}function d(e){switch(e){case"sms":return s().A.formatMessage(r.sms);case"totp":return s().A.formatMessage(r.totp);case"backup_code":return s().A.formatMessage(r.backupCode);default:(0,o().HB)(e)}}async function c(e){const t=await i().callApi({eventName:"authGetLoginConfiguration",environment:e,data:{}});if("success"===t.type){const e=t.data,n="required"!==e.samlSignIn&&e.hasAccount&&e.passwordSignIn,o="required"===e.samlSignIn,i="required"!==e.samlSignIn&&e.hasAccount&&e.mfaOptions.length>0,s=n&&!o?i?"on":"off":"disabled",r=e.mfaOptions.find((e=>"backup_code"===e.mfaMethod)),a=e.passkeys.length>0;return{hasPassword:n,canConfigurePassword:!o,isSamlEnforced:o,mfaStatus:s,numMfaSettings:e.mfaOptions.length,regenerateBackupCodes:void 0===r&&"on"===s,hasPasskeys:a}}throw t.error}},678751:(e,t,n)=>{n.d(t,{K:()=>i});n(242343);var o=n(163643);const i=(0,n(680369).wt)("lockShield",{viewBox:"0 0 21 25",svg:(0,o.jsx)("path",{d:"M10.418 24.75C10.6289 24.75 10.9453 24.668 11.25 24.5039C17.9766 20.8359 20.3203 19.1484 20.3203 14.8828V6.01172C20.3203 4.62891 19.7812 4.13672 18.6211 3.64453C17.3203 3.09375 12.9258 1.54688 11.6367 1.125C11.2617 0.996094 10.8164 0.914062 10.418 0.914062C10.0312 0.914062 9.58594 1.01953 9.19922 1.125C7.92188 1.47656 3.52734 3.10547 2.22656 3.64453C1.06641 4.125 0.527344 4.62891 0.527344 6.01172V14.8828C0.527344 19.1484 2.87109 20.8242 9.59766 24.5039C9.90234 24.668 10.2188 24.75 10.418 24.75ZM10.418 22.2891C10.2539 22.2891 10.0781 22.2305 9.75 22.0195C4.38281 18.7617 2.71875 17.8711 2.71875 14.4375V6.38672C2.71875 5.97656 2.8125 5.8125 3.12891 5.68359C4.86328 4.98047 8.23828 3.86719 9.80859 3.24609C10.0664 3.15234 10.2539 3.11719 10.418 3.11719C10.5938 3.11719 10.7695 3.15234 11.0273 3.24609C12.6094 3.86719 15.9492 5.05078 17.707 5.68359C18.0352 5.80078 18.1172 5.97656 18.1172 6.38672V14.4375C18.1172 17.8945 16.3945 18.832 11.0977 22.0195C10.7578 22.2305 10.5938 22.2891 10.418 22.2891ZM6.22266 16.7695C6.22266 17.6602 6.62109 18.0703 7.44141 18.0703H13.4062C14.2266 18.0703 14.625 17.6602 14.625 16.7695V12.1992C14.625 11.3906 14.2969 10.9805 13.6406 10.9219V9.58594C13.6406 7.44141 12.3398 5.98828 10.4297 5.98828C8.50781 5.98828 7.21875 7.44141 7.21875 9.58594V10.9102C6.55078 10.9805 6.22266 11.3906 6.22266 12.1992V16.7695ZM8.57812 10.8984V9.46875C8.57812 8.17969 9.31641 7.32422 10.4297 7.32422C11.5312 7.32422 12.2695 8.17969 12.2695 9.46875V10.8984H8.57812Z"})})},701799:(e,t,n)=>{n.d(t,{A:()=>i});n(242343);var o=n(163643);const i=(0,n(680369).wt)("textMessage",{viewBox:"0 0 16 14",svg:(0,o.jsx)("path",{d:"M4.97217 13.4883C5.32764 13.4883 5.59424 13.3169 6.02588 12.936L8.20312 11.0063H12.0435C13.9541 11.0063 15.0269 9.91455 15.0269 8.0293V3.10352C15.0269 1.21826 13.9541 0.126465 12.0435 0.126465H3.9502C2.03955 0.126465 0.966797 1.21826 0.966797 3.10352V8.0293C0.966797 9.91455 2.06494 11.0063 3.90576 11.0063H4.16602V12.5742C4.16602 13.1392 4.46436 13.4883 4.97217 13.4883ZM5.2832 12.0918V10.2827C5.2832 9.9082 5.12451 9.76221 4.7627 9.76221H3.98193C2.78223 9.76221 2.21094 9.15918 2.21094 7.99121V3.1416C2.21094 1.97363 2.78223 1.37061 3.98193 1.37061H12.0054C13.2051 1.37061 13.7827 1.97363 13.7827 3.1416V7.99121C13.7827 9.15918 13.2051 9.76221 12.0054 9.76221H8.1333C7.75244 9.76221 7.56201 9.82568 7.29541 10.105L5.2832 12.0918ZM6.47656 7.04541C7.94922 8.51807 9.81543 9.45117 10.9199 8.34668C10.9644 8.30225 10.9961 8.26416 11.0342 8.21973C11.3071 7.896 11.396 7.47705 11.0215 7.19775C10.7168 6.97559 10.4058 6.75342 9.91064 6.41064C9.52979 6.15039 9.29492 6.22021 9.01562 6.49316L8.76807 6.74072C8.69189 6.81055 8.57129 6.8042 8.48877 6.75342C8.2666 6.62012 7.89844 6.32178 7.54297 5.97266C7.2002 5.62988 6.88916 5.24268 6.76855 5.0332C6.72412 4.96338 6.69238 4.84912 6.78125 4.7666L7.02246 4.50635C7.30811 4.20801 7.37158 3.98584 7.10498 3.61133L6.33057 2.51318C6.07031 2.14502 5.68945 2.2085 5.25781 2.52588C5.22607 2.55127 5.20068 2.57666 5.17529 2.5957C4.06445 3.70654 5.00391 5.57275 6.47656 7.04541Z"})})},707890:(e,t,n)=>{n.d(t,{_:()=>i});var o=()=>n(156550);class i{constructor(e,t){this.debugName=void 0,this.store=void 0,this.handleUnexpectedError=e=>{const t={...this.store.getState()};if("object"==typeof e&&null!==e){const i=e,{body:s,error:r,data:a}=i;let l;if(s)l=s;else if(a){l=a.responseBody}if(l){if("object"==typeof l&&null!==l){const e=l,{clientData:o}=e;if(o){const e=o,i=(0,n(868325).$c)(e);if(i){const e=n(477784).A.getIntl();this.store.setState({...t,error:e.formatMessage(i)})}}}}else n(502140).log({level:"error",from:this.debugName,type:"handleUnexpectedError",error:(0,n(450475).convertErrorToLog)(r)}),this.store.setState({...t,error:o().xc.unexpectedError})}else this.store.setState({...t,error:o().xc.unexpectedError})},this.store=e,this.debugName=t}getState(){return this.store.getState()}getCurrentStep(){return this.store.getState()}async withStep(e,t){const n=this.store.getState();if(!(Array.isArray(e)?e.includes(n.step):n.step===e))return;const o=await t(n),i=this.store.getState();return i.step===n.step?{result:o,state:i}:void 0}checkStep(e){const t=this.store.getState();if(Array.isArray(e)?e.includes(t.step):t.step===e)return t}}},769801:(e,t,n)=>{n.d(t,{A:()=>g});n(403517);var o=n(242343),i=()=>n(174114),s=()=>n(887508),r=()=>n(81322),a=()=>n(220413),l=()=>n(31448),d=()=>n(209684),c=()=>n(951540),u=()=>n(824492),m=n(163643);function g(e){let{onDismiss:t,onBack:n,disableBackButton:a,primaryAction:l,secondaryActions:g,title:h,header:f,children:y,errorMessage:C,alertMessage:x,icon:v,containerStyles:b}=e;const A=(0,i().IS)(p,[]),S=(0,o.useMemo)((()=>(0,m.jsxs)(o.Fragment,{children:[(0,m.jsxs)("div",{style:n&&t?A.topIconRow:{...A.topIconRow,justifyContent:"flex-end"},children:[n?(0,m.jsx)(d().p,{size:"sm",style:A.backButton,onClick:n,disabled:a,children:(0,s().v)(A.backIcon)}):null,t?(0,m.jsx)(d().p,{size:"sm",style:A.dismissButton,hoveredStyle:A.dismissButtonHovered,onClick:t,children:(0,r().V)(A.dismissIcon)}):null]}),v?(0,m.jsx)("div",{style:A.titleIconRow,children:v}):null]})),[A,v,t,n,a]),j=(0,o.useMemo)((()=>l?(0,m.jsx)(c().A,{style:A.primaryActionButton,size:"lg",onClick:l.onClick,disabled:l.disabled,isRed:l.isRed,children:l.text}):null),[l,A]),k=(0,o.useMemo)((()=>null==g?void 0:g.map(((e,t)=>(0,o.createElement)(u().A,{...e,key:t})))),[g]),w=(0,o.useCallback)((e=>{e.preventDefault(),l&&!l.disabled&&l.onClick()}),[l]),M=C?(0,m.jsx)("div",{style:A.error,children:C}):void 0,B=x?(0,m.jsx)("div",{style:A.alert,children:x}):void 0;return(0,m.jsxs)("form",{style:{...A.container,...b},onSubmit:w,children:[S,(0,m.jsx)("h2",{style:A.title,children:h}),(0,m.jsx)("div",{style:A.header,children:f}),M,B,y,j,k,(0,m.jsx)("button",{style:A.hiddenButton})]})}function p(e){return(0,i().$4)({container:{position:"relative",width:360,padding:16},topIconRow:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginBottom:4,width:"100%"},titleIconRow:{display:"flex",justifyContent:"center",marginBottom:15},dismissButton:{marginTop:-5,marginRight:-5,borderRadius:"50%",width:18,height:18,background:"light"===e.mode?a().XA.light.gray[75]:a().XA.dark.gray[400],display:"flex",justifyContent:"center",alignItems:"center",padding:0},dismissButtonHovered:{background:"light"===e.mode?a().XA.light.gray[100]:a().XA.dark.gray[500]},backButton:{marginTop:-5,marginLeft:-5,height:20,width:20,display:"flex",justifyContent:"center",alignItems:"center"},title:{fontWeight:l().Wy.medium,fontSize:l().J.UIRegular.desktop,lineHeight:1.2,color:e.text.primary,marginTop:0,marginBottom:4,paddingLeft:10,paddingRight:10,textAlign:"center"},error:{color:a().Ay.red,width:"100%",marginBottom:8,textAlign:"center",fontSize:l().J.UISmall.desktop},alert:{color:a().Ay.red,width:"100%",marginBottom:10,textAlign:"center",fontSize:l().J.UISmall.desktop},header:{fontWeight:l().Wy.regular,fontSize:l().J.UISmall.desktop,color:e.text.secondary,textAlign:"center",lineHeight:1.35,maxWidth:260,margin:"auto",marginBottom:16},primaryActionButton:{width:"100%",margin:"15px auto 0"},hiddenButton:{display:"none"},backIcon:{width:14,height:14,fill:e.mediumIconColor},dismissIcon:{width:12,height:12,fill:e.mediumIconColor}})}},824492:(e,t,n)=>{n.d(t,{A:()=>m});var o=n(242343),i=()=>n(174114),s=()=>n(76394),r=()=>n(31448),a=()=>n(780942),l=()=>n(286404),d=()=>n(220413),c=n(163643);function u(e){let{onClick:t,disabled:n,view:o,icon:s,isRed:r,href:a,isExternal:l,saveAs:u,style:m,children:g}=e;const p=(0,i().IS)((e=>({link:{userSelect:"none",WebkitUserSelect:"none",transition:"background 20ms ease-in",cursor:n?void 0:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",textDecoration:"none",borderRadius:4,height:"outline"===o?32:28,paddingLeft:Boolean(s)?6:"outline"===o?12:8,paddingRight:12,fontSize:14,lineHeight:1.2,color:r?d().Tj.red:e.text.primary,..."outline"===o?{border:`1px solid ${r?e.outlineRedButtonBorder:e.outlineButtonBorder}`}:{},...m}})),[o,r,s,m,n]);return(0,c.jsx)("a",{style:p.link,target:l?"_blank":void 0,href:a,download:u,onClick:t,rel:"noopener noreferrer",children:g})}function m(e){const{type:t,view:n,text:d,disabled:m,isRed:g,icon:p}=e,h=(0,i().IS)((e=>(0,i().$4)({secondaryActionBase:{width:"100%",margin:"8px auto 0",justifyContent:"center"},secondaryActionPlainButton:{width:"100%",margin:"8px auto 0",justifyContent:"center",fontWeight:r().Wy.regular,fontSize:r().J.UIRegular.desktop,color:"button"===t?e.text.tertiary:e.text.primary},secondaryActionOutlineButton:{width:"100%",margin:"8px auto 0",justifyContent:"center",fontWeight:r().Wy.regular,fontSize:r().J.UIRegular.desktop,color:"link"===t&&"outline"!==n||"plain"===n?e.text.tertiary:e.text.primary},secondaryActionIcon:{width:12,height:12,marginRight:4}})),[t,n]),f=g?h.secondaryActionBase:"outline"===n?h.secondaryActionOutlineButton:h.secondaryActionPlainButton,y=(0,c.jsxs)(o.Fragment,{children:[p?p(h.secondaryActionIcon):null,d]});if("button"===t){const t="outline"===n?l().A:a().p;return(0,c.jsx)(t,{size:"lg",onClick:e.onClick,style:f,isRed:g,disabled:m,children:y})}if("link"===t)return(0,c.jsx)(u,{onClick:e.onClick,view:n,isExternal:e.isExternal,icon:p,isRed:g,href:e.href,saveAs:e.saveAs,style:f,disabled:m,children:y});throw(0,s().HB)(t)}},885471:(e,t,n)=>{n.d(t,{s:()=>i});n(242343);var o=n(163643);const i=(0,n(680369).wt)("authenticatorCode",{viewBox:"0 0 18 15",svg:(0,o.jsx)("path",{d:"M8.65979 0.00292969C5.26917 0.00292969 2.39807 2.45703 1.74182 5.67676H0.777954C0.244751 5.67676 0.108032 6.07324 0.401978 6.47656L2.05627 8.77344C2.2887 9.09473 2.64417 9.08789 2.86975 8.77344L4.52405 6.46973C4.81116 6.08008 4.67444 5.67676 4.14807 5.67676H3.17053C3.77893 3.20898 5.99377 1.39746 8.65979 1.39746C10.4987 1.4043 12.1051 2.25879 13.1373 3.6123C13.4108 3.93359 13.8073 4.03613 14.1422 3.79688C14.4567 3.57812 14.5114 3.13379 14.2174 2.77148C12.9528 1.12402 10.8815 0.00292969 8.65979 0.00292969ZM8.40686 3.09961C8.07874 3.09961 7.81213 3.36621 7.81213 3.69434V7.41309C7.81213 7.57031 7.86682 7.7207 7.98303 7.87793L9.61682 10.0312C9.86292 10.3525 10.2115 10.4072 10.5055 10.1953C10.7858 10.0039 10.8063 9.6416 10.5944 9.34766L9.00159 7.20801V3.69434C9.00159 3.36621 8.73499 3.09961 8.40686 3.09961ZM8.65979 14.126C12.0573 14.126 14.9283 11.6719 15.5778 8.45898H16.5416C17.0817 8.45898 17.2115 8.05566 16.9244 7.65234L15.2633 5.35547C15.0377 5.04102 14.6823 5.04102 14.4567 5.35547L12.8024 7.65918C12.5153 8.04883 12.652 8.45898 13.1783 8.45898H14.1627C13.5475 10.9199 11.3258 12.7383 8.65979 12.7383C6.82776 12.7314 5.22131 11.8701 4.18909 10.5166C3.91565 10.1953 3.51917 10.0928 3.1842 10.332C2.86975 10.5576 2.80823 10.9951 3.10901 11.3574C4.37366 13.0117 6.44495 14.126 8.65979 14.126Z"})})},927237:(e,t,n)=>{n.d(t,{Ay:()=>h,_P:()=>p});var o=n(242343),i=()=>n(174114),s=()=>n(653998),r=()=>n(975392),a=()=>n(31448),l=()=>n(392608),d=()=>n(966789),c=()=>n(769801),u=()=>n(446339),m=()=>n(953678),g=n(163643);const p=6;function h(e){let{isLoading:t,phoneNumber:n,errorMessage:a,resentStatus:h,resentAt:y,onDismiss:C,onBack:x,onVerifyCode:v,onResendLink:b}=e;const A=(0,i().IS)(f,[]),[S,j]=(0,o.useState)([]),k=(0,g.jsx)(s().sA,{id:"profileSettings.mfa.sms.verifyCodeTitle",defaultMessage:"Verify phone number"}),w=(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(s().sA,{id:"profileSettings.mfa.sms.verifyCodeHeader.default",defaultMessage:"Enter the code sent to {phoneNumber} to complete setup.",values:{phoneNumber:n}})," ",(0,g.jsx)(u().n,{resentAt:y,resentStatus:h,onResendLink:b})]}),M={text:t?(0,g.jsx)(d().A,{}):(0,g.jsx)(s().sA,{id:"profileSettings.mfa.sms.verifyCodeButton",defaultMessage:"Verify code"}),onClick:()=>v(S.join("")),disabled:t||"resending"===h||(0,r().oE)(S).length!==p},B=[{text:(0,g.jsx)(s().sA,{id:"profileSettings.mfa.sms.verifyCodeNeedHelp",defaultMessage:"Need help?"}),href:(0,l().xS)("guides.mfa"),isExternal:!0,type:"link",view:"plain"}];return(0,g.jsx)(c().A,{title:k,header:w,errorMessage:a,primaryAction:M,secondaryActions:B,onDismiss:C,onBack:x,disableBackButton:t,children:(0,g.jsx)("div",{style:A.body,children:(0,g.jsx)(m().Ay,{numInputs:p,format:"settings",disabled:!1,value:S,onChange:j,autoFocus:!0,isValidKey:m().Vx})})})}function f(e){return(0,i().$4)({body:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",marginTop:16,marginBottom:4},textCode:{fontWeight:a().Wy.medium,fontSize:a().J.UIRegular.desktop,lineHeight:1.2,color:e.darkTextColor,marginTop:32,marginBottom:32,textAlign:"center"}})}},953678:(e,t,n)=>{n.d(t,{Ay:()=>m,Vx:()=>u});n(725707),n(491955);var o=n(242343),i=()=>n(237385),s=()=>n(174114),r=()=>n(220413),a=()=>n(975392),l=()=>n(76394),d=()=>n(729522),c=n(163643);function u(e){return e>="0"&&e<="9"}function m(e){let{numInputs:t,disabled:n,value:i,format:l,onChange:d,autoFocus:u,isValidKey:m}=e;const p=(0,s().IS)((e=>function(e,t){return(0,s().$4)({inputRow:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between"},cell:{display:"flex",alignItems:"center",justifyContent:"center",width:"login"===t?40:48,aspectRatio:3/4,paddingLeft:0,paddingRight:0,fontSize:18,background:"light"===e.mode?r().Ay.EmailPasswordBackground:e.inputBackground,lineHeight:"20px",borderRadius:4,boxShadow:e.inputBoxShadow},focusedCell:{boxShadow:"rgba(35, 131, 226, 0.57) 0px 0px 0px 1px inset, rgba(35, 131, 226, 0.35) 0px 0px 0px 2px"},cellInput:{textAlign:"center",color:e.darkTextColor},hiddenInput:{position:"absolute",top:"0",left:"0",height:"100%",width:"100%",opacity:0,zIndex:1}})}(e,l)),[l]),[h,f]=(0,o.useState)(void 0),y=(0,o.useMemo)((()=>(0,a().Hn)(t,(e=>{const n=void 0!==h&&(h.selectionStart<=e&&e<=h.selectionEnd||e===t-1&&h.selectionStart>=t),o={...p.cell,...n?p.focusedCell:{}};return(0,c.jsx)("div",{style:o,children:(0,c.jsx)("div",{style:p.cellInput,children:i[e]||""})})}))),[t,h,p,i]),C=(0,o.useMemo)((()=>(0,c.jsx)(g,{value:i,cursor:h,isValidCharacter:m,disabled:n,maxLength:{limit:t,method:"replaceLast"},onSetValue:d,onSetCursor:f,autoFocus:u,style:p.hiddenInput})),[t,m,d,f,u,p,i,h,n]);return(0,c.jsxs)("div",{style:{position:"relative"},children:[C,(0,c.jsx)("div",{style:p.inputRow,children:y})]})}function g(e){let{isValidCharacter:t,cursor:n,value:s,maxLength:r,onSetCursor:u,onSetValue:m,style:g,autoFocus:p,disabled:h}=e;const f=(0,o.useRef)(null),y=(0,i().Y0)();(0,o.useEffect)((()=>{const e=f.current;if(e){const{selectionStart:t,selectionEnd:o}=e;if(n&&n.selectionStart!==t&&n.selectionEnd!==o){const t=document.createRange();t.selectNode(e),d().set(t,y),e.setSelectionRange(n.selectionStart,n.selectionEnd)}}}),[f,n,s,y]);const C=(0,o.useCallback)(((e,n)=>{const o=n.filter(t);if(void 0===r)return o;if(o.length<=r.limit)return o;const i=e.slice(0,r.limit),s=o.slice(0,r.limit);if("truncate"!==r.method&&(0,a().n4)(i,s)){if("replaceLast"===r.method){return[...o.slice(0,r.limit-1),...o.slice(-1)]}return(0,l().HB)(r.method)}return s}),[t,r]),x=(0,o.useCallback)((e=>{const{selectionStart:t,selectionEnd:n}=e.target;null!==t&&null!==n&&u({selectionStart:t,selectionEnd:n})}),[u]),v=(0,o.useCallback)((e=>{"ArrowLeft"!==e.key&&"ArrowRight"!==e.key||x(e)}),[x]),b=(0,o.useCallback)((e=>{const{selectionStart:t,selectionEnd:n}=e.target,o=Array.from(e.target.value),i=C(s,o);if(null!==t&&null!==n){const e=Math.min(o.length,(null==r?void 0:r.limit)??1/0)-i.length;u({selectionStart:t-e,selectionEnd:n-e})}else u(void 0);m(i)}),[u,m,s,C,r]),A=(0,o.useCallback)((e=>{const t=e.clipboardData;if(t&&t.getData){const n=t.getData("text"),o=Array.from(n),i=C([],o);u({selectionStart:i.length,selectionEnd:i.length}),m(i),e.preventDefault()}}),[C,m,u]);return(0,c.jsx)("input",{onChange:b,onBlur:()=>{u(void 0)},onFocus:x,onPaste:A,disabled:h,autoFocus:p,type:"text",inputMode:"numeric",pattern:"[0-9]*",onKeyUp:v,ref:f,value:s.join(""),style:g,autoComplete:"one-time-code"})}},954426:(e,t,n)=>{n.d(t,{H:()=>i,O:()=>o});const o="XXXX-XXXX";function i(e){return e.replace(/[^a-z0-9A-Z]/g,"").replace(/^(.{4})/,"$1-")}},978941:(e,t,n)=>{n.d(t,{a:()=>i});n(242343);var o=n(163643);const i=(0,n(680369).wt)("personWithKey",{viewBox:"0 0 18 18",svg:(0,o.jsx)("g",{children:(0,o.jsx)("path",{d:"M7 7.656a2.894 2.894 0 01-1.602-.468A3.47 3.47 0 014.234 5.93a3.63 3.63 0 01-.43-1.766 3.488 3.488 0 011.602-2.976A2.916 2.916 0 017 .726a2.93 2.93 0 011.602.46 3.36 3.36 0 011.164 1.235c.291.52.437 1.096.437 1.726a3.64 3.64 0 01-.437 1.782 3.407 3.407 0 01-1.157 1.258A2.907 2.907 0 017 7.655zm-5.125 7.328c-.474 0-.846-.109-1.117-.328-.271-.219-.406-.518-.406-.898 0-.5.156-1.024.468-1.57.313-.553.758-1.068 1.336-1.547.584-.48 1.284-.868 2.102-1.164.818-.303 1.732-.454 2.742-.454.672 0 1.3.07 1.883.211a7.32 7.32 0 011.61.563 4.077 4.077 0 00.39 1.797 3.777 3.777 0 001.172 1.414v1.976H1.875zm12.54-7.789c.494 0 .942.12 1.343.36.406.24.726.56.96.96.24.402.36.847.36 1.337 0 .53-.15 1.013-.453 1.445-.297.427-.719.773-1.266 1.039l.844.836a.438.438 0 01.117.297.361.361 0 01-.11.265l-.905.899.617.625a.412.412 0 01.117.265.361.361 0 01-.117.282l-1.235 1.226a.317.317 0 01-.25.102.334.334 0 01-.234-.086l-.71-.672a.5.5 0 01-.165-.375v-3.703a2.62 2.62 0 01-1.148-.977 2.623 2.623 0 01-.43-1.468c0-.49.117-.935.352-1.336.24-.401.56-.722.96-.961a2.61 2.61 0 011.352-.36zm0 1.188a.767.767 0 00-.563.234.771.771 0 00-.227.555c0 .213.078.398.234.555a.758.758 0 00.555.234.733.733 0 00.547-.234.758.758 0 00.234-.555.758.758 0 00-.234-.555.733.733 0 00-.547-.234z"})})})},983069:(e,t,n)=>{n.d(t,{A:()=>d});n(403517),n(242343);var o=()=>n(16791),i=()=>n(174114),s=()=>n(954426),r=()=>n(76394),a=()=>n(31448),l=n(163643);function d(e){const{type:t}=e,n=(0,i().IS)((e=>({pane:{display:"flex",whiteSpace:"pre-line",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:4,backgroundColor:e.fill.yellowTertiary,paddingTop:8,paddingBottom:8,marginBottom:10},textCode:{fontFamily:a().xf({pageFont:"mono",locale:o().locale}),fontWeight:a().Wy.regular,fontSize:a().J.UIRegular.desktop,font:a().Tf.emailMono,color:e.text.yellowSecondary,textAlign:"center"},redactedBackupCode:{textDecoration:"line-through",opacity:.2}})),[]);return(0,l.jsx)("div",{style:n.pane,children:(0,l.jsx)("div",{style:n.textCode,children:"status"===t?e.status.map(((e,t)=>(0,l.jsx)("div",{style:e.hasBeenUsed?n.redactedBackupCode:{},children:s().O},t))):"unencryptedCodes"===t?e.backupCodes.map(s().H).join("\n"):(0,r().HB)(t)})})}}}]);