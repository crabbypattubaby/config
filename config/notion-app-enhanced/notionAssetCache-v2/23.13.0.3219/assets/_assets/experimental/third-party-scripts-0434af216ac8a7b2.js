"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[1978],{153642:(e,t,i)=>{i.d(t,{V:()=>n});var a=()=>i(803290),s=()=>i(485966);function n(){return(0,a().K8)((()=>{const{currentSpaceStore:e}=s().default.state;return(null==e?void 0:e.getMemberCountFromPublicSpaceData())??void 0}),[])}},170991:(e,t,i)=>{i.d(t,{_C:()=>s,gQ:()=>c,gr:()=>l,jr:()=>n,pO:()=>r,v4:()=>o});var a=()=>i(137476);function s(e,t){const{name:i,...s}=t;a().vd(e,"click_link",{...s,click_name:i})}function n(e,t){a().vd(e,"scroll",t)}function o(e,t){a().vd(e,"customer_io_in_app_callout_show",t)}function r(e,t){a().vd(e,"customer_io_in_app_callout_suppress",t)}function c(e,t){a().vd(e,"customer_io_in_app_callout_dismiss",t)}function l(e,t){a().vd(e,"customer_io_in_app_callout_error",t)}},471695:(e,t,i)=>{i.r(t),i.d(t,{InjectThirdPartyScripts:()=>L,useThirdPartyScripts:()=>R});var a=i(242343),s=()=>i(237385),n=()=>i(803290),o=(i(362833),()=>i(3311)),r=()=>i(692472),c=()=>i(951592),l=()=>i(775382);const d={siteId:"a2a8e2144b2bbbb4074a",orgId:"901895b8-45c7-40c8-ba91-626cfc6739b3"};function u(){var e,t,i;if(!window._cio)for(window._cio=[],e=function(e){return function(){window._cio.push([e].concat(Array.prototype.slice.call(arguments,0)))}},t=["load","identify","sidentify","track","page","on","off","reset"],i=0;i<t.length;i++)window._cio[t[i]]=e(t[i])}var g=()=>i(809226),p=()=>i(170991),f=()=>i(865226),m=()=>i(927685),v=()=>i(995625),y=()=>i(695398),w=()=>i(392608),S=()=>i(155691),_=()=>i(695412),b=()=>i(485966),I=()=>i(132289),k=()=>i(871949),A=()=>i(836331),h=()=>i(863969),C=()=>i(967720),E=()=>i(129978);var D=()=>i(153642);function R(){const e=(0,s().v3)(),t=(0,D().V)()||0,i=(0,s().Y0)(),{currentUser:R}=e,L=(0,h().O)(),{siteGoogleAnalyticsId:M,requestedOnPublicDomain:O}=(0,n().K8)((()=>{if(!(0,w().w6)(e))return{siteGoogleAnalyticsId:void 0,requestedOnPublicDomain:!1};const{publicPageData:t}=_().A.state,{siteGoogleAnalyticsId:i}=t||{};return i&&i.match(/[0-9A-Z]+/)?{siteGoogleAnalyticsId:`G-${i}`,requestedOnPublicDomain:!0}:{siteGoogleAnalyticsId:void 0,requestedOnPublicDomain:!0}}),[e]);!function(e){let{isEnabled:t,cookieService:i,siteGoogleAnalyticsId:s}=e;(0,a.useEffect)((()=>{(async function(){return!(!t||!s||!(await r().nQ({service:"google_tag_manager",cookieService:i}))||"dataLayer"in window)})().then((e=>{if(e)return(0,l().Ay)(`https://www.googletagmanager.com/gtag/js?id=${s}`,{id:"notion-site-google-analytics"}).catch((e=>{console.error("GA script failed to load",e)})).then((()=>{if(window.dataLayer){function e(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config",s)}}))}))}),[t,i,s])}({isEnabled:Boolean(O),siteGoogleAnalyticsId:M,cookieService:e.cookieService}),function(e){let{isEnabled:t,isLoggedIn:i,userId:s,onMessageOpened:n,onMessageDismissed:g,onMessageError:p,onMessageAction:f,cookieService:m}=e;(0,a.useEffect)((()=>{(async function(){return!!t&&!!(await r().nQ({service:"customer_io",cookieService:m}))&&!("cio-tracker"in window)})().then((e=>{if(e)return u(),(0,l().Ay)("https://assets.customer.io/assets/track.js",{id:"cio-tracker",attributes:{"data-site-id":d.siteId,"data-use-array-params":"true","data-in-app-org-id":d.orgId,"data-use-in-app":"true","data-auto-track-page":"false"}}).catch((e=>{console.warn("Customer.io failed to load",e)}))}))}),[t,m]);const v=(0,c().ZC)(s);(0,a.useEffect)((()=>{v!==s&&(u(),i&&void 0!==s?(window._cio.identify({id:(0,o().Xw)(s)}),n&&window._cio.on("in-app:message-opened",n),g&&window._cio.on("in-app:message-dismissed",g),f&&window._cio.on("in-app:message-action",f),window._cio.on("in-app:message-error",p)):window._cio.reset())}),[i,s,v,n,g,p,f])}({isEnabled:(0,n().K8)((()=>R.isLoggedIn()),[R]),isLoggedIn:R.isLoggedIn(),userId:R.id,onMessageOpened:t=>{k().A.state.suppressReason?p().pO(e,{message_id:t.detail.messageId,reason:k().A.state.suppressReason}):(k().A.setState({...k().A.state,isVisible:!0}),p().v4(e,{message_id:t.detail.messageId}))},onMessageDismissed:t=>{k().A.setState({...k().A.state,isVisible:!1}),p().gQ(e,{message_id:t.detail.messageId})},onMessageError:t=>{p().gr(e,{message_id:t.detail.messageId})},onMessageAction:t=>{if(t.detail.actionValue.startsWith("relative_url=")){const i=t.detail.actionValue.split("relative_url=")[1];f().oo({environment:e,url:i})}t.detail.message.dismiss()},cookieService:e.cookieService}),(0,g().LW)({...(0,n().K8)((()=>{var e;const a=S().default.state.isSprigEnabled&&I().A.state.permission.performance&&A().default.checkGate({gateName:"sprig"})&&i.isDesktop,{currentUserSettingsStore:s,currentSpaceStore:n,currentUserStore:o}=b().default.state,r=null==o?void 0:o.getEmail(),c=s?(0,v().iZ)(s):null,l=Boolean(null==n?void 0:n.canAdmin()),d=null==n||null===(e=n.getModel())||void 0===e?void 0:e.getDaysSinceCreated();return{isEnabled:a,userEmail:r,userDaysSinceSignup:c??0,userDomainType:(0,v().FX)(),daysSinceSpaceCreated:d,isSpaceAdmin:l,spaceMemberCount:t}}),[i,t]),isLoggedIn:R.isLoggedIn(),userId:R.id,spaceId:L,sprigConfig:m().A.sprig}),function(e){var t;const{userId:i,spaceId:s,...n}=e,o=(0,E().fJ)(C().E);(0,a.useEffect)((()=>{if(!o.value)return;const{Sentry:e,sentryInitializeFull:t}=o.value;t({Sentry:{...e,isFullSDK:!0},config:m().A,...n})}),[o.value,n]);const r=null===(t=o.value)||void 0===t?void 0:t.Sentry;(0,a.useEffect)((()=>{r&&r.setUser(i?{id:i}:null)}),[r,i]),(0,a.useEffect)((()=>{r&&r.setTag("space.id",s)}),[r,s])}({userId:R.id,spaceId:L,getErrorsSampleRate:(0,a.useCallback)((()=>A().default.getConfigKey("sentry","errorsSampleRate")),[]),getTracesSampleRate:(0,a.useCallback)((()=>A().default.getConfigKey("sentry","tracesSampleRate-v0")),[]),getReplaysSessionSampleRate:(0,a.useCallback)((()=>A().default.getConfigKey("sentry","replaysSessionSampleRate-v0")),[]),getReplaysOnErrorSampleRate:(0,a.useCallback)((()=>A().default.getConfigKey("sentry","replaysOnErrorSampleRate-v0")),[]),getIsProfilingEnabled:(0,a.useCallback)((()=>"sentry"===(0,y().getProfilingToolForSession)()),[]),getProfilesSampleRate:(0,a.useCallback)((()=>A().default.getConfigKey("sentry","profilesSampleRate")),[])})}function L(){return R(),null}}}]);