"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[20108],{33368:(e,t,n)=>{n.d(t,{D:()=>f});var r=n(242343),i=()=>n(237385),o=()=>n(803290),a=()=>n(331863),s=()=>n(395665),l=()=>n(818369),d=()=>n(548694),c=()=>n(997310),u=()=>n(485966),p=()=>n(384055),g=()=>n(898055),m=()=>n(647242),h=()=>n(613313);function f(){const e=(0,i().v3)(),t=(0,c().r)(),n=null==t?void 0:t.id,f=(0,g().l)({spaceId:n}),[x,y]=(0,r.useState)(!1),{currentSpaceStore:v}=(0,o().K8)((()=>{const{currentSpaceStore:e}=u().default.state;return{currentSpaceStore:e}}),[]),b=(0,o().K8)((()=>v?(0,d().GK)(e,v):void 0),[v,e]),S=function(e){return(0,o().K8)((()=>(0,h().vv)()&&Boolean("free"===(0,m().AI)(e))),[e])}(f),A=(0,o().K8)((()=>null==t?void 0:t.canAdmin()),[t]);return(0,r.useEffect)((()=>{!async function(){if(S&&n&&A)try{const t=await l().callApi({eventName:"getCustomerOffer",environment:e,data:{spaceId:n,offerCampaign:"resurrection_offer"}});if("failed"===t.type)return;if("offer"in t.data){const n=(0,a().RS)(t.data.offer);(0,s().u6)(n)&&(y(!0),b&&(0,p().Zc)({environment:e,spaceName:b,offerCampaign:"resurrection_offer"}))}}catch(t){return}}()}),[e,n,S,b,A]),x}},96144:(e,t,n)=>{n.d(t,{R:()=>i});n(242343);var r=n(163643);const i=(0,n(680369).wt)("verificationCheck",{viewBox:"0 0 6 7",svg:(0,r.jsx)("path",{d:"M2.84245 6.11619C2.71116 6.30644 2.53392 6.40156 2.31072 6.40156C2.20131 6.40156 2.10066 6.37881 2.00875 6.33332C1.92123 6.28782 1.83589 6.21545 1.75274 6.11619L0.150985 4.25515C0.0503282 4.12694 0 3.99874 0 3.87053C0 3.73406 0.04814 3.61826 0.14442 3.52314C0.245077 3.42388 0.365427 3.37425 0.50547 3.37425C0.597374 3.37425 0.680525 3.39286 0.754923 3.43008C0.833698 3.46317 0.912473 3.52934 0.991247 3.6286L2.28446 5.21049L5.00875 1.07896C5.13129 0.892857 5.28446 0.799805 5.46827 0.799805C5.60394 0.799805 5.72648 0.841161 5.83589 0.923874C5.9453 1.00659 6 1.11618 6 1.25266C6 1.32297 5.98249 1.39327 5.94748 1.46358C5.91685 1.52975 5.88184 1.59178 5.84245 1.64968L2.84245 6.11619Z"})})},153642:(e,t,n)=>{n.d(t,{V:()=>o});var r=()=>n(803290),i=()=>n(485966);function o(){return(0,r().K8)((()=>{const{currentSpaceStore:e}=i().default.state;return(null==e?void 0:e.getMemberCountFromPublicSpaceData())??void 0}),[])}},159448:(e,t,n)=>{n.d(t,{lh:()=>a().l,bw:()=>d,UL:()=>A,lI:()=>k,IU:()=>j,g4:()=>S().g,Wo:()=>w().W,EF:()=>B().E,o2:()=>P().o});var r=()=>n(237385),i=()=>n(162901),o=()=>n(818369);var a=()=>n(898055),s=()=>n(803290),l=()=>n(669199);function d(e){return(0,s().K8)((()=>(0,l().eJ)({billingData:e})),[e])}var c=n(242343),u=()=>n(331863),p=()=>n(395665),g=()=>n(997310),m=()=>n(647242),h=()=>n(548694),f=()=>n(863969),x=()=>n(153642),y=()=>n(485966),v=()=>n(670682),b=()=>n(764227),S=()=>n(967010);function A(e){const t=(0,r().v3)(),[n,i]=(0,c.useState)(!1),a=function(e){const t=(0,S().g)("ai_fifty_percent_upgrade"),n=(0,f().O)(),r=(0,v().f_)({spaceId:n}),i=(0,m().eh)(r,"ai"),o=(0,x().V)();return(0,s().K8)((()=>{const n=t&&!i&&(0,b().wb)()&&1===o,r=(0,h().aB)(y().default.state.currentSpaceStore);return Boolean(n&&(!r||"sidebar"!==e||r>=7))}),[t,i,o,e])}(e),l=(0,g().r)(),d=(0,s().K8)((()=>null==l?void 0:l.canAdmin()),[l]),A=(0,s().K8)((()=>null==l?void 0:l.getSpaceId()),[l]);return(0,c.useEffect)((()=>{!async function(){if(a&&A&&d)try{const n=await o().callApi({eventName:"getCustomerOffer",environment:t,data:{spaceId:A,offerCampaign:"ai_fifty_percent_upgrade"}});if("failed"===n.type)return;if("offer"in n.data){var e;const t=(0,u().RS)(null===(e=n.data)||void 0===e?void 0:e.offer);i((0,p().J5)(t))}}catch(n){return}}()}),[t,a,A,d]),n}var I=()=>n(167532),C=()=>n(320168);function k(e){let{spaceId:t}=e;const n=(0,r().v3)(),i=(0,I().J)();return(0,s().K8)((()=>{if(!t||!i)return;const e=C().A.getData(n,{spaceId:t});return null==e?void 0:e.billingData}),[n,t,i])}var w=()=>n(653928);function j(e,t){const n=(0,s().O$)(e),r=(0,x().V)()??1,d=(0,f().O)(),c=(0,a().l)({spaceId:d}),u=(0,s().K8)((()=>(0,l().eJ)({billingData:c})),[c]),[{value:p}]=(0,i().Yb)((()=>o().callApi({eventName:"isEmailEducation",environment:t,data:{}})),[t]);return!!p&&("failed"!==p.type&&(!!p.data.isEligible&&(!!n&&(!!c&&(!Boolean((0,m().KH)(c,"plan"))&&(u&&1===r))))))}var B=()=>n(499104),P=()=>n(338578)},201009:(e,t,n)=>{n.d(t,{_:()=>s});n(242343);var r=()=>n(653998),i=()=>n(35462),o=()=>n(309461),a=n(163643);function s(){return(0,a.jsx)(o().Ay,{children:(0,a.jsx)(i().A,{isSmall:!0,style:{textAlign:"center"},children:(0,a.jsx)(r().sA,{id:"spaceSubscriptionPlans.offlineMessage",defaultMessage:"Please go online to manage your plan."})})})}},309461:(e,t,n)=>{n.d(t,{AL:()=>o,Ay:()=>s,J_:()=>a});n(242343);var r=()=>n(884373),i=n(163643);function o(e){return e?18:60}function a(){return(0,i.jsx)(r().A,{size:37})}const s=function(e){let{children:t,controlRow:r,bannerText:a,controlRowPaddingTopBottom:s,removeBoxShadow:l,contentPaddingLeftRight:d,controlRowPaddingLeftRight:c,getPaddingTopBottom:u,disableScroller:p,maxWidth:g,centerContent:m}=e;const h=(0,n(237385).v3)(),{device:f}=h,x=u?u():f.isMobile?18:36,y=(0,n(174114).IS)((e=>({containerWithScroller:{display:"flex",flexDirection:"column",width:"100%",height:"100%",maxWidth:g??void 0,backgroundColor:e.cardContentBackground},scroller:{flexGrow:1,WebkitOverflowScrolling:"touch",transform:"translateZ(0)",paddingLeft:d??o(f.isMobile),paddingRight:d??o(f.isMobile),paddingTop:a?15:x,paddingBottom:a?22:x,...m?{display:"flex",alignItems:"center",justifyContent:"center"}:null},controlRowWithScroller:{flexGrow:0,flexShrink:0,paddingLeft:c??o(f.isMobile),paddingRight:c??o(f.isMobile),paddingTop:s,paddingBottom:s,boxShadow:l?void 0:`0 -1px 0 ${e.regularDividerColor}`},containerWithoutScroller:{paddingLeft:o(f.isMobile),paddingRight:o(f.isMobile)},childrenWithoutScroller:{paddingTop:x,paddingBottom:x},controlRowWithoutScroller:{paddingTop:s,paddingBottom:s,boxShadow:`0 -1px 0 ${e.regularDividerColor}`}})),[g,d,f.isMobile,a,x,c,s,l,m]);return p?(0,i.jsxs)("div",{style:y.containerWithoutScroller,children:[(0,i.jsx)("div",{style:y.childrenWithoutScroller,children:t}),r&&(0,i.jsx)("div",{style:y.controlRowWithoutScroller,children:r})]}):(0,i.jsxs)("div",{style:y.containerWithScroller,children:[a&&(0,i.jsx)(n(473852).A,{styleKey:n(653147).q.Blue,isMobile:!1,children:a}),(0,i.jsx)(n(142708).H,{type:n(98508).A.All,style:y.scroller,children:t}),r&&(0,i.jsx)("div",{style:y.controlRowWithScroller,children:r})]})}},338578:(e,t,n)=>{n.d(t,{o:()=>d});var r=n(242343),i=()=>n(237385),o=()=>n(803290),a=()=>n(485966),s=()=>n(298520),l=()=>n(879205);function d(){const e=(0,i().v3)(),{spaceId:t,isGuest:n}=(0,o().K8)((()=>{const e=a().default.state.currentSpaceStore,t=null==e?void 0:e.getPublicSpaceData();return{spaceId:null==e?void 0:e.id,isGuest:"none"===(null==t?void 0:t.role)}}),[]);return(0,r.useEffect)((()=>{t&&!n&&(0,s().$W)({environment:e,spaceId:t})}),[e,t,n]),(0,o().K8)((()=>l().A.state.prices),[])}},354148:(e,t,n)=>{n.d(t,{Wx:()=>a,fM:()=>r,l9:()=>i,sM:()=>o});const r=new(n(129978).O2)("framer-motion",(async()=>await Promise.all([n.e(44711),n.e(53321),n.e(37043)]).then(n.bind(n,196959))));function i(e){return e.useAnimate()}function o(e){return e.useAnimation()}function a(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.useInView(...n)}},410194:(e,t,n)=>{n.d(t,{A:()=>s});n(403517);var r=n(242343),i=()=>n(174114),o=()=>n(517198),a=n(163643);function s(e){let{paragraphs:t}=e;const n=(0,i().IS)((e=>({skeletonRect:{borderRadius:4,backgroundColor:e.lightDividerColor}})),[]),s=null==t?void 0:t.map(((e,t)=>{const i={height:e.lineHeight,marginTop:e.lineMargin,marginBottom:e.lineMargin},s={marginTop:e.sectionMargin,marginBottom:e.sectionMargin},l=[...Array(e.repeat||1)].map(((t,r)=>(0,a.jsx)("div",{style:s,children:e.sectionWidths.map(((e,t)=>(0,a.jsx)(o().A,{style:{...n.skeletonRect,...i,width:`${e}%`}},t)))},r)));return(0,a.jsxs)(r.Fragment,{children:[" ",l," "]},t)}));return(0,a.jsxs)(a.Fragment,{children:[" ",s," "]})}},442161:(e,t,n)=>{n.d(t,{t:()=>a});var r=n(242343),i=()=>n(237385),o=()=>n(818369);function a(){const e=(0,i().v3)(),[t,n]=(0,r.useState)();return(0,r.useEffect)((()=>{!async function(){const t=await o().callApi({eventName:"getExternalOrgData",environment:e,data:{}});if("failed"===t.type)return;const r=t.data;n(r)}()}),[e]),t}},447439:(e,t,n)=>{n.d(t,{O:()=>i});n(242343);var r=n(163643);const i=(0,n(680369).wt)("chat",{viewBox:"0 0 32 32",svg:(0,r.jsx)("path",{d:"M7.52 28.727c.591 0 .993-.205 1.706-.842l3.732-3.41c.802.898 2.017 1.375 3.566 1.375h3.844l3.721 3.252c.68.591 1.048.898 1.582.898.77 0 1.204-.557 1.204-1.421V25.85h.468c2.796 0 4.657-1.716 4.657-4.695v-6.719c0-2.978-1.86-4.695-4.657-4.695h-1.75v-.864C25.593 5.785 23.8 4 20.77 4H4.825C1.916 4 0 5.785 0 8.877v10.47c0 3.093 1.916 4.878 4.825 4.878h1.47v3.103c0 .876.435 1.399 1.226 1.399zm.458-5.264c0-.648-.38-.955-.87-.955H4.937c-1.972 0-3.142-1.091-3.142-3.217V8.934c0-2.115 1.17-3.229 3.142-3.229h15.721c1.973 0 3.142 1.114 3.142 3.229v.807h-7.275c-2.92 0-4.647 1.717-4.647 4.695v6.72c0 .613.067 1.17.212 1.682l-4.111 3.865v-3.24zm17.225 4.48l-3.576-3.275c-.446-.398-.713-.523-1.326-.523h-3.666c-1.86 0-2.975-1.034-2.975-3.047l.011-6.605c0-2 1.103-3.047 2.964-3.047h10.607c1.85 0 2.964 1.046 2.964 3.047v6.605c0 2.013-1.114 3.047-2.964 3.047h-1.18c-.48 0-.859.284-.859.932v2.865z"})})},467938:(e,t,n)=>{n.d(t,{A:()=>d});n(403517),n(242343);var r=()=>n(174114),i=()=>n(907721),o=()=>n(126451),a=()=>n(103151),s=n(163643);function l(e){const{isFirst:t,isLast:n,isSelected:l,item:d,itemStyle:c,selectedItemStyle:u,innerStyle:p,children:g,colors:m,onClick:h}=e,{isDisabled:f,tooltip:x}=d,y=(0,r().IS)((e=>{const r=(null==m?void 0:m.selectedOutline)??e.blueColor,i=(null==m?void 0:m.unselectedOutline)??e.selectorBorderUnselected;return{SegmentedItem:{alignItems:"center",background:l?null==m?void 0:m.selectedBackground:void 0,borderBottomLeftRadius:t?3:0,borderBottomRightRadius:n?3:0,borderColor:l?r:i,borderStyle:"solid",borderTopLeftRadius:t?3:0,borderTopRightRadius:n?3:0,borderWidth:1,cursor:f?void 0:"pointer",display:"flex",flexBasis:"50%",marginLeft:t?0:-1,padding:0,userSelect:"none",zIndex:l?10:0,...c,...l?u:void 0},Inner:{borderBottomLeftRadius:t?2:0,borderBottomRightRadius:n?2:0,borderColor:l?r:"transparent",borderStyle:"solid",borderTopLeftRadius:t?2:0,borderTopRightRadius:n?2:0,borderWidth:1,display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",padding:"12px 20px",textAlign:"center",width:"100%",...p}}}),[null==m?void 0:m.selectedBackground,null==m?void 0:m.selectedOutline,null==m?void 0:m.unselectedOutline,t,n,l,f,c,u,p]),v=()=>{h&&h(d.key)};return(0,s.jsx)(a().A,{render:e=>(0,s.jsx)(o().A,{ariaLabel:d.ariaLabel,"aria-pressed":l,onClick:v,style:y.SegmentedItem,disabled:f,...e,children:(0,s.jsx)("div",{style:y.Inner,children:g})}),renderTooltip:()=>(0,s.jsx)("div",{children:x}),disableTooltip:l||void 0===x,placement:i().W.Bottom})}function d(e){const{items:t=[],itemStyle:n,selectedItemStyle:i,innerStyle:o,outerStyle:a,value:d,onChange:c,colors:u}=e,p=(0,r().IS)((e=>({SegmentedButton:{background:e.cardContentBackground,display:"flex",width:"100%",...a}})),[a]);return 0===t.length?null:(0,s.jsx)("div",{style:p.SegmentedButton,children:t.map(((e,r)=>(0,s.jsx)(l,{isFirst:0===r,isLast:r===t.length-1,isSelected:e.key===d,item:e,itemStyle:n,selectedItemStyle:i,innerStyle:o,colors:u,onClick:c,children:e.render()},e.key)))})}},473852:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(242343),i=()=>n(220413),o=()=>n(31448),a=()=>n(653147),s=n(163643);const l=function(e){const{children:t,isMobile:l,textSize:d,shouldUseDivider:c,style:u,styleKey:p}=e,{WindowSizeStore:g}=(0,n(237385).v3)(),[m,h,f]=(0,n(803290).K8)((()=>[g.getSafePaddingLeftCSS(10),g.getSafePaddingLeftCSS(14),g.getSafePaddingRightCSS(14)]),[g]),x=(0,r.useMemo)((()=>l?"small"!==d?o().J.UIRegular.mobile:o().J.UISmall.mobile:"small"!==d?o().J.UIRegular.desktop:o().J.UISmall.desktop),[l,d]),y=(0,r.useMemo)((()=>void 0===d?1.2:l?"small"!==d?o().K_.UIRegular.mobile:o().K_.UISmall.mobile:"small"!==d?o().K_.UIRegular.desktop:o().K_.UISmall.desktop),[l,d]),v=(0,n(174114).IS)((e=>({bannerStyle:{display:"flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",...!l&&{padding:"0px 12px"},...l&&{paddingLeft:h,paddingRight:f},fontSize:x,lineHeight:y,cursor:"default",...c?{minHeight:45,borderBottom:`1px solid ${i().Ay.halfWhite}`}:{minHeight:44}},[`colorStyle__${a().q.Red}`]:{color:i().Ay.white,background:i().Ay.red,...l&&{justifyContent:"flex-start"}},[`colorStyle__${a().q.Blue}`]:{color:i().Ay.white,fill:i().Ay.white,background:i().Ay.blue,...l&&{paddingLeft:m,paddingRight:14}},[`colorStyle__${a().q.Beige}`]:{background:e.beigeBannerBackground,paddingLeft:l?12:18,paddingRight:l?14:16},[`colorStyle__${a().q.White}`]:{background:e.contentBackground,color:e.text.tertiary,fill:e.lightIconColor,height:45,padding:0,borderTop:`1px solid ${e.regularDividerColor}`,boxShadow:`0 1px 0 ${e.regularDividerColor}`},[`colorStyle__${a().q.Purple}`]:{background:"#CA59FF",color:i().Ay.white,fill:i().Ay.white},[`colorStyle__${a().q.LightRed}`]:{background:e.accentColors.red[100],color:e.accentColors.red[500]},[`colorStyle__${a().q.Yellow}`]:{background:e.accentColors.yellow[100],color:e.accentColors.yellow[600]},[`colorStyle__${a().q.PageNotification}`]:{border:`0.5px solid ${e.regularDividerColor}`,borderRadius:12,boxShadow:"0px 8px 16px 0px rgba(0, 0, 0, 0.05)",padding:13,alignItems:"start",justifyContent:"flex-start"},[`colorStyle__${a().q.ImportNotification}`]:{color:e.accentColors.uiBlue[600],fill:e.lightIconColor,background:e.accentColors.blue[30],height:48},[`colorStyle__${a().q.LightBlue}`]:{color:i().Ay.blue,fill:i().Ay.blue,background:e.lightBlueBannerBackground},[`colorStyle__${a().q.LightGray}`]:{background:e.lightGrayBannerBackground},colorStyle__default:{color:e.text.contrastPrimary,background:e.tooltipBackground}})),[l,m,h,f,c,x,y]),b=p?`colorStyle__${p}`:"colorStyle__default";return(0,s.jsx)("div",{style:{...v.bannerStyle,...v[b],...u},children:t})}},479292:(e,t,n)=>{n.d(t,{$3:()=>u,AQ:()=>d,Ae:()=>l,BL:()=>c,FL:()=>s,FX:()=>i,Vp:()=>a,XL:()=>o,nY:()=>p});var r=()=>n(137476);function i(e,t){r().vd(e,"workspace_creation_ability",t)}function o(e,t){r().vd(e,"workspace_creation_setting_updated",t)}function a(e,t){r().vd(e,"claimable_spaces_viewed",t)}function s(e,t){r().vd(e,"space_transfer_requested",t)}function l(e,t){r().vd(e,"space_transfer_completed",t)}function d(e,t){r().vd(e,"space_claim_upgrade_requested",t)}function c(e,t){r().vd(e,"space_claim_upgrade_completed",t)}function u(e,t){r().vd(e,"space_claim_deletion_started",t)}function p(e,t){r().vd(e,"space_claim_deletion_canceled",t)}},499104:(e,t,n)=>{n.d(t,{E:()=>o});var r=()=>n(803290),i=()=>n(111826);function o(e){return(0,r().K8)((()=>i().Fq(e.state)),[e])}},505316:(e,t,n)=>{n.r(t),n.d(t,{getLegacyStripeAppearance:()=>C,getStripe:()=>b,injectStripe:()=>v,optionalPaymentMethodIdGivenPaymentData:()=>j,optionalStripeTokenGivenPaymentData:()=>w,stripeElementLocaleGivenNotionLocale:()=>S,translateStripeError:()=>I,useElementsOptions:()=>A});var r=()=>n(353420),i=()=>n(528945),o=n(242343),a=()=>n(237385),s=()=>n(803290),l=()=>n(174114),d=()=>n(707781);var c=()=>n(409211),u=()=>n(688724),p=()=>n(76394),g=()=>n(31448),m=()=>n(927685),h=()=>n(485966),f=()=>n(836331),x=n(163643);let y=null;function v(e){return function(t){const[n]=o.useState(b);return(0,x.jsx)(r().Elements,{stripe:n,children:(0,x.jsx)(r().ElementsConsumer,{children:n=>{let{stripe:r,elements:i}=n;const o={...t,stripe:r,elements:i};return(0,x.jsx)(e,{...o})}})})}}async function b(){return y||(i().loadStripe.setLoadParameters({advancedFraudSignals:!1}),y=(0,i().loadStripe)(m().A.stripe.key)),y}function S(e){switch(e){case"en-US":return"en";case"ko-KR":return"ko";case"ja-JP":return"ja";case"fr-FR":return"fr-FR";case"de-DE":return"de";case"es-ES":return"es-ES";case"es-LA":return"es-419";case"pt-BR":return"pt-BR";case"zh-CN":return"zh";case"zh-TW":return"zh-TW";case"da-DK":return"da";case"nl-NL":return"nl";case"fi-FI":return"fi";case"nb-NO":return"nb";case"sv-SE":return"sv";default:return"auto"}}function A(e){const t=(0,l().DP)(),n=(0,a().v3)(),{type:r}=e,i="setup"===r||"subscription"===r?e.currency:void 0,m="subscription"===r?e.amount:void 0,x=(0,s().K8)((()=>{var e;return(null===(e=h().default.state)||void 0===e||null===(e=e.currentUserSettingsStore)||void 0===e||null===(e=e.getSettings())||void 0===e?void 0:e.preferred_locale)||d().q}),[]),y=(0,s().K8)((()=>"KRW"===i&&function(e){const{experimentService:t,actor:n}=e;return t.checkGate({actor:n,gateName:"kr_card_payment_method"})}({experimentService:f().default,actor:{table:c().oo,id:n.currentUser.id??""}})),[n.currentUser,i]);return(0,o.useMemo)((()=>{const e=function(e){const t=k(e.text.primary),n=k(e.text.secondary),r=k(e.text.tertiary),i=k(e.text.uiRedPrimary),o=k(e.text.uiBluePrimary),a=k(e.icon.contrast),s=k(e.whiteButtonBackground);return{labels:"above",theme:"dark"===e.mode?"night":"stripe",variables:{spacingGridRow:"12px",spacingGridColumn:"12px",spacingUnit:"4px",spacingTab:"6px",colorPrimary:t,colorPrimaryText:t,colorText:t,colorTextSecondary:n,colorTextPlaceholder:r,colorIcon:t,colorIconCheckmark:a,colorDanger:i,colorBackground:s,colorIconTabHover:t,colorIconTabSelected:o,colorIconChevronDown:t,fontFamily:g().Tf.sans,fontWeightLight:`${g().Wy.light}`,fontWeightNormal:`${g().Wy.regular}`,fontWeightMedium:`${g().Wy.medium}`,fontWeightBold:`${g().Wy.medium}`,fontSizeBase:"14px",fontSizeSm:"12px",colorLogo:e.mode,colorLogoBlock:e.mode,colorLogoTab:e.mode,colorLogoTabSelected:e.mode,borderRadius:"6px"},rules:{".Tab":{padding:"10px 16px 10px 10px",fontSize:"13px",fontWeight:"500",lineHeight:"16px",color:t,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",backgroundColor:e.whiteButtonBackground},".Tab:hover":{backgroundColor:e.whiteButtonHoveredBackground},".Tab:focus":{boxShadow:e.outlineBlueInputBoxShadow},".Tab--selected, .Tab--selected:active":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.uiBluePrimary}`,color:t,boxShadow:"none",outline:"none"},".Tab--selected:hover":{backgroundColor:e.whiteButtonBackground,color:t},".Tab--selected:focus":{border:`1px solid ${e.stroke.uiBluePrimary}`,boxShadow:e.outlineBlueInputBoxShadow},".Input":{fontSize:"14px",lineHeight:"18px",letterSpacing:"-0.154px",padding:"7px 8px",backgroundColor:e.surface.wash,boxShadow:`0 0 0 1px ${e.stroke.primary}`,border:"none",color:t},".Input--invalid":{color:t,boxShadow:e.outlineRedInputBoxShadow},".Input:focus":{color:t,boxShadow:e.outlineBlueInputBoxShadow},".Label":{fontSize:"12px",lineHeight:"15px",fontWeight:"500",letterSpacing:"-0.154px",color:n,marginBottom:"8px"},".Error":{fontSize:"12px",fontWeight:"400",lineHeight:"15px",color:i},".CodeInput":{backgroundColor:e.surface.wash,border:`1px solid ${e.stroke.primary}`,boxShadow:"none"},".PickerItem, .PickerItem--selected":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",color:t},".PickerItem:hover":{backgroundColor:e.whiteButtonHoveredBackground,color:t,border:`1px solid ${e.stroke.primary}`,boxShadow:"none"},".PickerItem--selected:hover":{boxShadow:"none"},".PickerItem--new":{fontSize:"14px",fontWeight:"500",lineHeight:"18px",color:t},".PickerItem--highlight, .PickerItem--highlight:hover":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.uiBluePrimary}`,boxShadow:"none"},".PickerItem--highlight:hover":{backgroundColor:e.whiteButtonHoveredBackground},".TermsText":{color:n,fontSize:"10px",fontWeight:"400",lineHeight:"13px",letterSpacing:"0.12px"},".CheckboxLabel":{color:t,fontSize:"12px",fontWeight:"500",lineHeight:"15px"},".Action, .MenuAction":{color:t,fontWeight:"400",padding:"4px 8px"},".Action:hover, .MenuAction:hover":{backgroundColor:e.buttonHoveredBackground},".BlockAction:focus, .CodeInput:focus, .Input:focus,.CheckboxInput:focus, .PickerItem:focus, .PickerAction:focus,.MenuAction:focus, .Action:focus, .SecondaryLink:focus":{boxShadow:e.outlineBlueInputBoxShadow},".MenuIcon, .MenuIcon:hover":{fill:t},".Block":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",padding:"16px"},".Icon":{fill:t}}}}(t),n={appearance:e,locale:S(x)},o={paymentMethodTypes:(0,u().VV)({currency:i,isKrCardFeatureGateEnabled:y})};switch(r){case"address":return n;case"setup":return{...n,...o,currency:null==i?void 0:i.toLowerCase(),mode:"setup",paymentMethodCreation:"manual"};case"subscription":return{...n,...o,amount:m,currency:null==i?void 0:i.toLowerCase(),mode:"subscription",paymentMethodCreation:"manual",setupFutureUsage:"off_session",loader:"never"};default:(0,p().HB)(r)}}),[t,x,i,y,r,m])}function I(e,t){if(!t.code)return t.message||"";switch(t.code){case"invalid_expiry_year_past":return e.formatMessage({id:"stripeHelpers.invalidExpiryYear.error.message",defaultMessage:"Your card's expiration year is in the past."});case"invalid_cvc":return e.formatMessage({id:"stripeHelpers.invalidCVC.error.message",defaultMessage:"Your card's security code is invalid."});case"invalid_number":return e.formatMessage({id:"stripeHelpers.invalidNumber.error.message",defaultMessage:"Your card number is not a valid credit card number."});case"card_declined":return function(e,t){switch(t){case"expired_card":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.expiredCard",defaultMessage:"Your card was declined because it is an expired card."});case"incorrect_number":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.incorrectNumber",defaultMessage:"Your card was declined because you input an incorrect number."});case"insufficient_funds":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.declinedFunds",defaultMessage:"Your card was declined because of insufficient funds."});case"invalid_cvc":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.invalidCvc",defaultMessage:"Your card was declined because you input an invalid CVC number"});case"invalid_amount":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.invalidAmount",defaultMessage:"Your card was declined because payment amount exceeds the amount that's allowed."});default:return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message",defaultMessage:"Your card was declined."})}}(e,t.decline_code);default:return t.message||""}}function C(e){return{labels:"floating",theme:"dark"===e.mode?"night":"stripe",variables:{spacingGridRow:"8px",spacingGridColumn:"8px",spacingUnit:"4px",spacingTab:"4px",colorPrimary:e.text.primary,colorPrimaryText:e.text.primary,colorText:e.text.primary,colorTextSecondary:e.text.secondary,colorTextPlaceholder:e.text.tertiary,colorIcon:e.text.primary,colorIconCheckmark:e.icon.contrast,colorDanger:e.text.uiRedPrimary,colorBackground:e.whiteButtonBackground,colorIconTabHover:e.text.primary,colorIconTabSelected:e.text.uiBluePrimary,colorIconChevronDown:e.text.primary,fontFamily:g().Tf.sans,fontWeightLight:`${g().Wy.light}`,fontWeightNormal:`${g().Wy.regular}`,fontWeightMedium:`${g().Wy.medium}`,fontWeightBold:`${g().Wy.semibold}`,fontSizeBase:"14px",fontSizeSm:"12px",colorLogo:e.mode,colorLogoBlock:e.mode,colorLogoTab:e.mode,colorLogoTabSelected:e.mode,borderRadius:"6px"},rules:{".Tab":{padding:"10px 16px 10px 10px",fontSize:"13px",fontWeight:"510",lineHeight:"16px",color:e.text.primary,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",backgroundColor:e.whiteButtonBackground},".Tab:hover":{backgroundColor:e.whiteButtonHoveredBackground,color:e.text.primary},".Tab:focus":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.primary}`,boxShadow:e.outlineBlueInputBoxShadow},".Tab--selected, .Tab--selected:hover, .Tab--selected:active":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.uiBluePrimary}`,color:e.text.primary,boxShadow:"none",outline:"none"},".Tab--selected:focus":{border:`1px solid ${e.stroke.uiBluePrimary}`,boxShadow:e.outlineBlueInputBoxShadow},".Input":{fontSize:"14px",lineHeight:"18px",letterSpacing:"-0.154px",padding:"4px 8px",boxShadow:"none",backgroundColor:e.surface.wash,border:`1px solid ${e.stroke.primary}`,color:e.text.primary},".Input--invalid":{border:"none",color:e.text.primary,boxShadow:e.outlineRedInputBoxShadow},".Label":{fontSize:"14px",lineHeight:"18px",letterSpacing:"-0.154px",color:e.text.tertiary},".Label--floating":{fontSize:"10px",fontWeight:"510",lineHeight:"13px",letterSpacing:"0.12px",marginTop:"4px",transition:"all 200ms ease",color:e.text.secondary},".Error":{fontSize:"12px",fontWeight:"400",lineHeight:"15px",color:e.text.uiRedPrimary},".CodeInput":{backgroundColor:e.surface.wash,border:`1px solid ${e.stroke.primary}`,boxShadow:"none"},".PickerItem, .PickerItem--selected":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",color:e.text.primary},".PickerItem:hover, .PickerItem--selected:hover":{backgroundColor:e.whiteButtonHoveredBackground,color:e.text.primary,border:`1px solid ${e.stroke.primary}`,boxShadow:"none"},".PickerItem--new":{fontSize:"14px",fontWeight:"500",lineHeight:"18px",color:e.text.primary},".PickerItem--highlight, .PickerItem--highlight:hover":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.uiBluePrimary}`,boxShadow:"none"},".PickerItem--highlight:hover":{backgroundColor:e.whiteButtonHoveredBackground},".TermsText":{color:e.text.secondary,fontSize:"12px",fontWeight:"400",lineHeight:"15px"},".CheckboxLabel":{color:e.text.primary,fontSize:"12px",fontWeight:"500",lineHeight:"15px"},".Action, .MenuAction":{color:e.text.primary,fontWeight:"400"},".Action:hover, .MenuAction:hover":{backgroundColor:e.buttonHoveredBackground},".BlockAction:focus, .CodeInput:focus, .Input:focus,.CheckboxInput:focus, .PickerItem:focus, .PickerAction:focus,.MenuAction:focus, .Action:focus, .SecondaryLink:focus":{boxShadow:e.outlineBlueInputBoxShadow},".MenuIcon, .MenuIcon:hover":{fill:e.text.primary},".Block":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",color:e.text.primary}}}}function k(e){const[t,n,r,i]=e.match(/[\d.]+/g)??[];return t&&n&&r&&i&&1===parseInt(i)?`rgb(${t}, ${n}, ${r})`:e}function w(e){return"stripeToken"===(null==e?void 0:e.type)?e.value:void 0}function j(e){return"paymentMethodId"===(null==e?void 0:e.type)?e.value:void 0}},636197:(e,t,n)=>{n.r(t),n.d(t,{ClaimAndUpgradeModal:()=>ze});var r=()=>n(353420),i=n(242343),o=()=>n(237385),a=()=>n(269280),s=()=>n(803290),l=()=>n(174114),d=()=>n(169201),c=()=>n(653998),u=()=>n(220413),p=()=>n(421650),g=()=>n(421338),m=()=>n(435819),h=()=>n(922172),f=()=>n(142708),x=()=>n(96297),y=()=>n(580257),v=()=>n(951540),b=n(163643);function S(e){let{store:t}=e;const n=(0,s().uB)(t,y().A),r=(0,o().v3)(),a=(0,s().K8)((()=>n.state.elementRef),[n]),[l,d]=(0,i.useState)(!1);(0,i.useEffect)((()=>{const e=a.current;if(e){const t=()=>{d(x().wU(e))};return t(),e.addEventListener("scroll",t),()=>{e.removeEventListener("scroll",t)}}}),[a]);const u=(0,i.useCallback)((()=>{const e=a.current;e&&x().VG({element:e,environment:r,options:{top:e.scrollHeight,behavior:"smooth"}})}),[a,r]);return l?null:(0,b.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,b.jsx)(v().A,{style:{zIndex:2,maxWidth:100,position:"absolute",bottom:30,borderRadius:30},onClick:u,children:(0,b.jsx)("div",{children:(0,b.jsx)(c().sA,{id:"scroller.scrollDown.name",defaultMessage:"Scroll down"})})})})}var A=()=>n(983050),I=()=>n(153642),C=()=>n(98508),k=()=>n(485966),w=()=>n(802955),j=(n(403517),()=>n(502140)),B=()=>n(423600),P=()=>n(479292),M=()=>n(818369),T=()=>n(145046),_=()=>n(70989),W=()=>n(575015),D=()=>n(436622),H=()=>n(505316),U=()=>n(111826),O=()=>n(868224),z=()=>n(910200);const R=(0,c().YK)({loading:{defaultMessage:"Claiming and upgrading workspace...",id:"spaceSubscriptionUpgradeModal.upgradeTargetSpace.loading"}});function L(e){return"paymentMethodId"===(null==e?void 0:e.type)?e.value:void 0}async function F(e){const{environment:t,data:n,requestingSpaceId:r,paymentData:i}=e,o=O().A.state;if(!o.open)return;const a=o.targetPlan;if(!a)return;const s=o.temporaryAddress;_().m({message:R.loading});const l=o.targetSpace.id,d=await M().callApi({eventName:"claimAndUpgradeSpace",environment:t,data:{requestingSpaceId:r,targetSpaceId:l,targetPlan:a,paymentMethodId:L(i),customerName:s.name,businessName:s.businessName,addressLine1:s.addressLine1,addressCity:s.city,addressZip:s.zipCode,addressState:s.state,addressCountry:s.country,vatId:o.vatApplicable?o.temporaryVatCode:void 0}});var u,g,m,h;(_().V(),"success"===d.type)?(O().A.closeWithSuccess(),h=o.targetSpace.name,W().D6({label:(0,b.jsx)(c().sA,{id:"identityProvisioningSettings.claimWorkspaces.claimModal.selfServe.toast",defaultMessage:"Successfully claimed â€œ{spaceName}â€œ",values:{spaceName:h}})}),P().BL(t,{previousOwners:o.targetSpace.admins.map((e=>e.id)),newOwners:t.currentUser.id?[t.currentUser.id]:[],targetSpaceId:l,verifiedDomain:o.targetSpace.creatorEmailDomain,memberCount:o.targetSpace.memberCount,costForUpgrade:null===(u=o.totalUpgradeCost)||void 0===u?void 0:u.amount,currencyCode:null===(g=o.totalUpgradeCost)||void 0===g?void 0:g.currencyCode,currentPlan:null===(m=U().RJ(n))||void 0===m?void 0:m.plan,targetPlan:a})):(T().Qg(d),function(e){const{environment:t,modalId:n}=e;O().A.reset(),p().OC(t,{modal_id:n})}({environment:t,modalId:o.sessionId}))}const E=(0,n(975392).sg)((async function(e){const{environment:t,state:n,data:r,requestingSpaceId:i,stripe:o,elements:a,intl:s}=e;p().Fp(t,{modal_id:n.sessionId}),O().A.update((e=>({...e,payButtonState:"disabled"}))),await async function(e){const{environment:t,state:n,data:r,requestingSpaceId:i,stripe:o,elements:a,intl:s}=e;if(!a||!o)return void j().log({level:"error",from:"SpaceSubscriptionUpgradeModal",type:"StripeError",error:{miscDataString:"Stripe elements not initialized when user tried to upgrade"}});let l=n.paymentData;if(!l){const{error:e}=await a.submit();if(e)return p().qC(t,{error:"could not submit form",error_type:"payment_method",modal_id:n.sessionId}),void O().A.setState({...n,error:s.formatMessage({id:"spaceSubscriptionUpgradeModal.payment.genericError",defaultMessage:"Your payment could not be processed. Please try again."})});const r=await o.createPaymentMethod({elements:a});if(r.error)return p().qC(t,{error:r.error.message,error_type:"payment_method",modal_id:n.sessionId}),p().cr(t,{error:r.error.code,stripe_decline_code:r.error.decline_code}),void O().A.setState({...n,error:H().translateStripeError(s,r.error)});if(!r.paymentMethod)return p().qC(t,{error:"could not create token",error_type:"payment_method",modal_id:n.sessionId}),void O().A.setState({...n,error:s.formatMessage({id:"spaceSubscriptionUpgradeModal.payment.genericError",defaultMessage:"Your payment could not be processed. Please try again."})});l={type:"paymentMethodId",value:r.paymentMethod.id},O().A.setState({...n,paymentData:l})}await F({environment:t,data:r,requestingSpaceId:i,paymentData:l})}({environment:t,state:n,data:r,requestingSpaceId:i,stripe:o,elements:a,intl:s});const l=O().A.state;l.open&&O().A.setState({...l,payButtonState:"enabled"})}),1e3,{leading:!0,trailing:!1});async function $(e){const{requestingSpaceId:t,environment:n,state:r}=e;O().A.update((e=>({...e,totalUpgradeCost:void 0,payButtonState:"disabled"})));const i=r.targetSpace.isActorInSpace?r.targetSpace.memberCount:r.targetSpace.memberCount+1,o=U().EX(r.temporaryBillingInterval),a=await M().callApi({eventName:"getCostForSpaceUpgrade",environment:n,data:{targetSpaceId:r.targetSpace.id,requestingSpaceId:t,subscriptionTier:"enterprise",billingInterval:o,memberCount:i}});if("failed"===a.type)T().Qg(a),O().A.close();else{const e=a.data?B().W.fromValue({amount:a.data.totalCost,currencyCode:a.data.currencyCode}).zeroIfNegative():void 0;O().A.update((t=>({...t,totalUpgradeCost:e,targetPlan:a.data.targetPlan,payButtonState:"enabled"})))}}var N=()=>n(238713),K=()=>n(905467),q=()=>n(201009),Y=()=>n(879205),V=()=>n(980759),G=()=>n(35462);function Q(e){const{error:t}=e.state,n=(0,l().IS)((()=>({label:{marginTop:8,color:u().Ay.red}})),[]);return t?(0,b.jsx)(G().A,{isMultiline:!0,style:n.label,children:t}):null}var X=()=>n(647242),J=()=>n(455831),Z=()=>n(863969),ee=()=>n(172553),te=()=>n(613313),ne=()=>n(159448);function re(e){const{state:t}=e,{open:n,type:r,isTrial:i,subscriptionTier:o}=t,a=(0,c().tz)();return n?r===ee().p.TargetSpace?(0,b.jsx)(c().sA,{id:"subscriptionUpgradeModal.targetSpace.button.enterprise",defaultMessage:"Claim & Upgrade to Enterprise"}):i?(0,b.jsx)(c().sA,{id:"onboardingCheckout.upgradeButton.startTrial",defaultMessage:"Start Notion {subscriptionTier} trial",values:{subscriptionTier:(0,J().u2)({product:o,intl:a})}}):(0,b.jsx)(c().sA,{id:"subscriptionUpgradeModal.upgradeButton.upgradeNow",defaultMessage:"Upgrade now"}):null}function ie(e){const{state:t,onClickUpgrade:n,customStyles:r}=e,i=(0,l().IS)((()=>({upgradeButton:{height:40,marginTop:24,fontSize:16}})),[]),o=(0,Z().O)(),a=(0,ne().lh)({spaceId:o}),d=(0,X().Fv)(a),c=(0,s().K8)((()=>(0,te().Ir)()&&!1),[d]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(v().A,{disabled:"disabled"===t.payButtonState,style:{...i.upgradeButton,...r},onClick:()=>n({useTestClock:!1}),children:(0,b.jsx)(re,{state:t})}),c?(0,b.jsx)(v().A,{disabled:"disabled"===t.payButtonState,style:i.upgradeButton,onClick:()=>n({useTestClock:!0}),children:"ðŸš§ Upgrade with Test Clock ðŸš§"}):void 0]})}var oe=()=>n(447439),ae=()=>n(31448),se=()=>n(286404),le=()=>n(836331),de=()=>n(37644);function ce(e){const{state:t}=e,n=(0,l().IS)((e=>({contactSalesButton:{width:"100%",height:40,marginTop:10},contactSalesCta:{fontWeight:ae().Wy.medium},contactSalesIcon:{height:18,width:20,marginRight:6},contactSalesQuestionsText:{color:e.text.secondary,fontSize:12,lineHeight:ae().K_.UISmall.desktop}})),[]),[r,i]=(0,s().K8)((()=>{const e=le().default.getEligibleGroup({experimentId:"in_app_contact_sales_cta_billing",defaultGroup:"control"});return[t.subscriptionTier,e]}),[t]);if(!(0,J().HO)(r))return null;const o="on"===i?(0,b.jsx)(c().sA,{defaultMessage:"Request a demo",id:"helpButton.salesChat.menuItemDemoVariant"}):(0,b.jsx)(c().sA,{id:"spaceSubscriptionSettings.upgradeModal.contactSales",defaultMessage:"Contact sales"});return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(se().A,{size:"lg",style:n.contactSalesButton,onClick:()=>{(0,de().lK)({initialQuestion:U().pt(t.subscriptionTier),openedFrom:(0,J().OX)(t.subscriptionTier)?"enterprise_checkout_modal":"business_checkout_modal"})},children:[(0,oe().O)(n.contactSalesIcon),(0,b.jsx)("span",{style:n.contactSalesCta,children:o})]}),(0,b.jsx)("p",{style:n.contactSalesQuestionsText,children:(0,b.jsx)(c().sA,{id:"spaceSubscriptionSettings.upgradeModal.sales.questions",defaultMessage:"Questions? Contact our sales team for more information."})})]})}function ue(e){const{state:t,products:n,onClickUpgrade:r}=e,{isTrial:i}=t;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[(0,b.jsx)(ie,{state:t,onClickUpgrade:r}),(0,b.jsx)(V().w,{showTrialEndDisclaimer:!1,products:n})]}),(0,b.jsx)(Q,{state:t}),i?null:(0,b.jsx)(ce,{state:t})]})}var pe=()=>n(849469);function ge(){const e=(0,l().IS)((e=>({primaryTextStyle:{fontWeight:ae().Wy.bold,fontSize:20,lineHeight:1.1,marginTop:16,marginBottom:6,padding:0},secondaryTextStyle:{fontWeight:ae().Wy.regular,fontSize:16,lineHeight:1.4,color:e.text.secondary}})),[]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(pe().X,{product:"enterprise"}),(0,b.jsx)("h2",{style:e.primaryTextStyle,id:A().Kvs,children:(0,b.jsx)(c().sA,{id:"subscriptionUpgradeModal.targetSpace.title.enterprise",defaultMessage:"Claim & Upgrade to Enterprise"})}),(0,b.jsx)("div",{style:e.secondaryTextStyle,id:A().SdC,children:(0,b.jsx)(c().sA,{id:"subscriptionUpgradeModal.oneLiner.enterprise",defaultMessage:"Controls and support to run your company."})})]})}var me=()=>n(884373),he=()=>n(410194),fe=()=>n(487966),xe=()=>n(392608),ye=()=>n(242111),ve=()=>n(966789);function be(e){const{lineItemData:t,nameStyle:n,priceStyle:r,showZeroPrice:i}=e,o=(0,l().IS)((e=>({itemContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",lineHeight:1,minHeight:18},name:{fontSize:12,color:e.text.secondary,...n||void 0},price:{fontSize:12,color:"promotion"===t.type?"#53A83F":e.text.primary,...r||void 0},caption:{fontSize:12,color:e.text.secondary},captionContainer:{display:"flex",flexDirection:"column"}})),[t,n,r]);let a="-";return t.price&&(t.price.amount>0||i)&&(a=(0,b.jsx)(ye().v,{cost:t.price.toMoneyValue(),trailingZeroDisplay:"stripIfInteger"})),(0,b.jsxs)("div",{style:o.itemContainer,children:[(0,b.jsxs)("div",{style:o.captionContainer,children:[(0,b.jsx)("span",{style:o.name,children:t.name}),t.subtitle&&(0,b.jsx)("span",{style:o.caption,children:t.subtitle})]}),"calculating"===t.type?(0,b.jsx)(ve().A,{}):(0,b.jsx)("span",{style:o.price,children:a})]})}function Se(e){var t;const{state:n}=e,r=(0,l().IS)((e=>({container:{display:"flex",flexDirection:"column"},header:{fontSize:16,color:e.text.primary,fontWeight:ae().Wy.semibold,marginBottom:10},helpButton:{marginLeft:0,marginTop:-4,marginBottom:12},helpButtonInner:{fontSize:12}})),[]),i=n.calculatingTax||null===(t=B().W.sum(n.totalUpgradeCost,n.taxAmount))||void 0===t?void 0:t.zeroIfNegative(),o=n.targetSpace.isActorInSpace?n.targetSpace.memberCount:n.targetSpace.memberCount+1;return(0,b.jsxs)("div",{style:r.container,children:[(0,b.jsx)("label",{style:r.header,children:(0,b.jsx)(c().sA,{id:"claimAndUpgradeOrderSummary.header",defaultMessage:"Order summary"})}),void 0!==n.totalUpgradeCost?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Ie,{totalCostForUpgrade:n.totalUpgradeCost,memberCount:o}),(0,b.jsx)(fe().A,{style:r.helpButton,buttonStyle:r.helpButtonInner,title:(0,b.jsx)(c().sA,{id:"claimAndUpgradeOrderSummary.helpButton.label",defaultMessage:"Learn more about prorated charges"}),href:(0,xe().xS)("guides.billingAndPayment"),analyticsFrom:"invoices"}),(0,b.jsx)(Ae,{state:n}),(0,b.jsx)(me().A,{size:14}),(0,b.jsx)(be,{showZeroPrice:!0,lineItemData:{price:i,type:"standard",name:(0,b.jsx)(c().sA,{id:"claimAndUpgradeOrderSummary.orderTotal",defaultMessage:"Total"})},priceStyle:{fontSize:20}})]}):(0,b.jsx)(Ce,{})]})}function Ae(e){return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(be,{showZeroPrice:!0,lineItemData:{type:"standard",name:(0,b.jsx)(c().sA,{id:"claimAndUpgradeOrderSummary.lineItems.subTotal",defaultMessage:"Subtotal"}),price:e.state.totalUpgradeCost}}),(0,b.jsx)(be,{lineItemData:{type:e.state.calculatingTax?"calculating":"standard",name:(0,b.jsx)(c().sA,{id:"claimAndUpgradeOrderSummary.lineItems.tax.title",defaultMessage:"Tax"}),price:e.state.taxAmount,subtitle:e.state.taxAmount||0===e.state.taxAmount?void 0:(0,b.jsx)(c().sA,{id:"claimAndUpgradeOrderSummary.lineItems.tax.subtitle",defaultMessage:"if applicable"})}})]})}function Ie(e){const{totalCostForUpgrade:t,memberCount:n}=e,r=(0,l().IS)((e=>({container:{display:"flex",justifyContent:"space-between",marginBottom:6},item:{},title:{fontSize:14},subtitle:{color:e.text.secondary,fontSize:12},price:{fontSize:14,color:e.text.primary}})),[]);return(0,b.jsxs)("div",{style:r.container,children:[(0,b.jsxs)("div",{style:r.item,children:[(0,b.jsx)("div",{style:r.title,children:(0,b.jsx)(c().sA,{id:"claimAndUpgradeOrderSummary.proratedChanges",defaultMessage:"Prorated charges"})}),(0,b.jsx)("div",{style:r.subtitle,children:(0,b.jsx)(c().sA,{id:"claimAndUpgradeOrderSummary.proratedChangesCaption",defaultMessage:"All charges due to claim and upgrade the workspace ({memberCount, plural, one {{memberCount} member} other {{memberCount} members}}).",values:{memberCount:n}})})]}),(0,b.jsx)("div",{style:r.price,children:(0,b.jsx)(ye().v,{cost:t,trailingZeroDisplay:"stripIfInteger"})})]})}function Ce(){return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(he().A,{paragraphs:[{lineHeight:18,lineMargin:4,sectionWidths:[100],repeat:1,sectionMargin:0},{lineHeight:14,lineMargin:4,sectionWidths:[100,40],repeat:1,sectionMargin:-2}]}),(0,b.jsx)("div",{style:{display:"block",height:27}}),(0,b.jsx)(he().A,{paragraphs:[{lineHeight:16,lineMargin:1,sectionWidths:[100],repeat:2,sectionMargin:4}]}),(0,b.jsx)(he().A,{paragraphs:[{lineHeight:14,lineMargin:0,sectionWidths:[30],repeat:1,sectionMargin:4}]}),(0,b.jsx)(me().A,{size:14}),(0,b.jsx)(he().A,{paragraphs:[{lineHeight:24,lineMargin:4,sectionWidths:[100],repeat:1,sectionMargin:1}]})]})}n(610931),n(362833);var ke=()=>n(403026),we=()=>n(467938),je=()=>n(898055);const Be=function(e){const t=(r=e.reduceTopMargin,(0,l().IS)((e=>({discountDescription:{alignItems:"center",marginBottom:36,color:e.text.secondary,fontSize:12,lineHeight:ae().K_.UISmall.desktop,marginTop:r?-8:void 0}})),[r]));var r;return(0,b.jsx)("div",{style:t.discountDescription,children:(0,b.jsx)(c().sA,{id:"spaceSubscriptionSettings.orderOptions.addOnsSection.discountMessage",defaultMessage:"Get an additional <bold>50% off Notion AI</bold> for the next 3 months with a paid plan. <terms>See details.</terms>",values:{bold:e=>(0,b.jsx)("b",{children:e}),terms:e=>(0,b.jsx)(n(611824).A,{href:(0,xe().xS)("terms.discounts.ai.summer.2023"),children:e})}})})};function Pe(){return(0,l().IS)((e=>({discountText:{color:e.invoiceGreen,fontSize:12},icon:{width:16,height:16},mainTextSelected:{fontWeight:ae().Wy.medium,color:e.text.primary,fontSize:14,lineHeight:"14px"},mainTextUnselected:{color:e.text.secondary,fontSize:14,lineHeight:"14px"},priceText:{fontSize:14,color:e.text.secondary,marginTop:2},row:{display:"flex",alignItems:"center",justifyContent:"center",gap:4,lineHeight:"14px"},section:{marginBottom:20},sectionHeader:{display:"flex",alignItems:"center",marginBottom:11,fontSize:11,fontWeight:ae().Wy.semibold,color:e.text.secondary}})),[])}function Me(e){const{header:t,children:n}=e,r=Pe();return(0,b.jsxs)("div",{style:r.section,children:[(0,b.jsx)("div",{style:r.sectionHeader,children:t}),n]})}function Te(e){const{isSelected:t,billingInterval:n}=e,r=Pe(),i=t?r.mainTextSelected:r.mainTextUnselected;let o;switch(n){case"month":o=(0,b.jsx)(c().sA,{id:"spaceSubscriptionSettings.orderOptions.billingPeriodSection.monthly",defaultMessage:"Monthly"});break;case"year":o=(0,b.jsx)(c().sA,{id:"spaceSubscriptionSettings.orderOptions.billingPeriodSection.yearly",defaultMessage:"Yearly"});break;default:throw new Error(`Unsupported billing interval: ${n}`)}return(0,b.jsxs)("div",{style:r.row,children:[(0,b.jsx)("div",{style:i,children:o}),"year"===n?(0,b.jsx)("div",{style:r.discountText,children:(0,b.jsx)(c().sA,{id:"spaceSubscriptionSettings.orderOptions.billingPeriodSection.yearlyDiscount",defaultMessage:"{percent}% off",values:{percent:20}})}):null]})}function _e(e){const{isSelected:t}=e,n=Pe(),r=t?n.mainTextSelected:n.mainTextUnselected;return(0,b.jsx)("div",{style:r,children:(0,b.jsx)(c().sA,{id:"spaceSubscriptionSettings.orderOptions.addOnsSection.noThanks",defaultMessage:"No thanks"})})}function We(e){const{coupon:t,isSelected:n}=e,r=Pe(),i=n?r.mainTextSelected:r.mainTextUnselected;return(0,b.jsxs)("div",{style:r.row,children:[(0,ke().X)(r.icon),(0,b.jsx)("div",{style:i,children:(0,b.jsx)(c().sA,{id:"spaceSubscriptionSettings.orderOptions.addOnsSection.notionAi",defaultMessage:"Notion AI"})}),t?(0,b.jsx)("div",{style:r.discountText,children:(0,b.jsx)(c().sA,{id:"spaceSubscriptionSettings.orderOptions.billingPeriodSection.aiDiscount",defaultMessage:"{percent}% off",values:{percent:50}})}):null]})}function De(e){const{subscriptionTier:t,billingInterval:n,addOnFeature:r,canAddAI:a,coupon:s,onChangeBillingInterval:l,onChangeAddOnFeature:d,isTrial:u,modalId:g}=e,m=(0,o().v3)(),h=(0,Z().O)(),f=(0,je().l)({spaceId:h});(0,i.useEffect)((()=>{z().Qe({environment:m,billingData:f})}),[m,n,r,f]);const x=(0,i.useMemo)((()=>[{key:"month",render:()=>(0,b.jsx)(Te,{isSelected:"month"===n,billingInterval:"month",subscriptionTier:t,coupon:s})},{key:"year",render:()=>(0,b.jsx)(Te,{isSelected:"year"===n,billingInterval:"year",subscriptionTier:t,coupon:s})}]),[n,t,s]),y=(0,i.useMemo)((()=>[{key:"none",render:()=>(0,b.jsx)(_e,{isSelected:!r,coupon:s})},{key:"ai",render:()=>(0,b.jsx)(We,{isSelected:Boolean(r),coupon:s})}]),[r,s]);return u?null:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Me,{header:(0,b.jsx)(c().sA,{id:"spaceSubscriptionSettings.orderOptions.billingPeriodSection.header",defaultMessage:"Billing period"}),children:(0,b.jsx)(we().A,{items:x,value:n,onChange:e=>{p().bT(m,{billingInterval:e,modal_id:g}),l(e)}})}),a?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Me,{header:(0,b.jsx)(c().sA,{id:"spaceSubscriptionSettings.orderOptions.addOnsSection.header",defaultMessage:"Add-ons"}),children:(0,b.jsx)(we().A,{items:y,value:r??"none",onChange:e=>{const t=[];let n;if("ai"===e)n="ai",t.push("ai");else n=void 0;p().Gs(m,{addOnFeatures:t,modal_id:g}),d&&d(n)}})}),s?(0,b.jsx)(Be,{reduceTopMargin:!0}):null]}):null]})}function He(){return(0,l().IS)((e=>({closeButton:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:21,right:20,width:22,height:22,padding:0,borderRadius:"50%",border:"none",background:"light"===e.mode?u().XA.light.gray[75]:u().XA.dark.gray[500],zIndex:10},closeButtonIcon:{width:12,height:12,fill:"light"===e.mode?u().XA.light.gray[400]:u().XA.dark.gray[800]},modal:{background:"dark"===e.mode?"#191919":e.popoverBackground,borderRadius:12,width:750,maxHeight:760,display:"flex"},modalContent:{flex:1,maxWidth:"60%",display:"flex",flexDirection:"column",position:"relative",borderRadius:"12px 0 0 12px"},modalContentBody:{padding:"36px 42px 50px 42px",display:"flex",flexDirection:"column"},modalContentSidebar:{flex:1,maxWidth:"40%",background:"dark"===e.mode?"#202020":e.sidebarSecondaryBackground,borderLeft:`1px solid ${e.lightDividerColor}`,padding:"20px 29px 50px 27px",display:"flex",flexDirection:"column"}})),[])}function Ue(e){const{state:t,data:n,requestingSpaceId:i}=e,{subscriptionTier:o,onlyShowAddOn:a,calculatingTax:l,temporaryBillingInterval:d,taxAmount:c,addOnFeature:u,coupon:p}=t,g=(0,s().K8)((()=>{var e;return(null===(e=t.totalUpgradeCost)||void 0===e?void 0:e.currencyCode)??Y().A.selectedCurrencyCode}),[t]),m=(0,I().V)()??1,{payAmount:h}=U().TQ({subscriptionTier:o,memberCount:m,promo:t.appliedPromo,currencyCode:g,data:n,onlyShowAddOn:a,calculatingTax:l,billingInterval:d??"year",taxAmount:null==c?void 0:c.amount,addOnFeature:u,coupon:p}),f=(0,H().useElementsOptions)({type:"subscription",amount:h.amount,currency:h.currencyCode});return(0,b.jsx)(r().Elements,{stripe:(0,H().getStripe)(),options:f,children:(0,b.jsx)(Oe,{state:t,data:n,requestingSpaceId:i})})}function Oe(e){const{state:t,data:n,requestingSpaceId:i}=e,a=(0,o().v3)(),l=(0,c().tz)(),u=He(),m=(0,r().useStripe)(),h=(0,r().useElements)(),x=(0,s().O$)(w().e),v=(0,s().uB)(void 0,y().A),[A,I,k,j,B,P,M]=(0,s().K8)((()=>{const e=O().A.state;return e.open?[e.subscriptionTier,e.temporaryBillingInterval,e.addOnFeature,e.coupon,e.sessionId,e.temporaryAddress.name,e.temporaryAddress.businessName]:[]}),[]);if(!t.open||!A||!I)return null;if(!x)return(0,b.jsx)(q()._,{});return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{style:u.modalContent,children:(0,b.jsxs)(f().H,{type:C().A.Y,store:v,children:[(0,b.jsxs)("div",{style:u.modalContentBody,children:[(0,b.jsx)("div",{style:{paddingBottom:24},children:(0,b.jsx)(ge,{})}),(0,b.jsx)(De,{subscriptionTier:A,billingInterval:I,addOnFeature:k,canAddAI:!1,coupon:j,onChangeBillingInterval:e=>{O().A.update((t=>({...t,temporaryBillingInterval:e}))),p().bT(a,{billingInterval:e,modal_id:B}),async function(e){const{environment:t,spaceId:n,state:r}=e,i=await D().A.awaitData(t,{spaceId:n});await $({requestingSpaceId:n,environment:t,state:r}),await z().dn(t,i)}({environment:a,spaceId:i,state:t})}}),(0,b.jsxs)(g().Y1,{gap:8,children:[(0,b.jsx)(N().c,{formData:{name:P??"",businessName:M??""},onChangeFormData:e=>{O().A.update((t=>t.open?{...t,temporaryAddress:{...t.temporaryAddress,...e}}:t))},modalId:B}),(0,b.jsx)(K().q,{modalId:B})]})]}),(0,b.jsx)(S,{store:v})]})}),(0,b.jsx)("div",{style:u.modalContentSidebar,children:(0,b.jsxs)(f().H,{type:C().A.Y,children:[(0,b.jsx)(Se,{state:t}),(0,b.jsx)(ue,{state:t,products:[A],onClickUpgrade:()=>E({environment:a,intl:l,state:t,stripe:m,elements:h,data:n,requestingSpaceId:i})})]})}),(0,b.jsx)("button",{style:u.closeButton,onClick:()=>{O().A.close()},children:(0,d().u)(u.closeButtonIcon)})]})}function ze(e){const{data:t,spaceStore:n}=e,r=(0,s().K8)((()=>O().A.state),[]),i=(0,o().v3)(),l=(0,c().tz)(),d=He();return(0,a().l)((()=>{var e;const{state:n}=O().A;if(!n.open)return;const r=null===(e=k().default.state.currentSpaceStore)||void 0===e?void 0:e.id;r&&$({environment:i,state:n,requestingSpaceId:r});const{currentUserStore:o}=k().default.state,a=null!=o&&o.isDefined()?o.getModel():void 0;if(a){const e=a.getDisplayName(l);var s;if(O().A.setState({...n,temporaryAddress:{...n.temporaryAddress,name:e}}),"subscribed_admin"===t.type||"unsubscribed_admin"===t.type)O().A.setState({...n,appliedPromo:null===(s=t.customerData)||void 0===s?void 0:s.stripe.promo})}})),(0,b.jsx)(h().a,{ariaLabelledBy:A().Kvs,ariaDescribedBy:A().SdC,open:r.open,preventHideChildrenWhileOpening:!0,innerStyle:d.modal,render:()=>(0,b.jsx)(m().A,{capture:!0,allowEsc:!0,render:()=>r.open?(0,b.jsx)(Ue,{state:r,data:t,requestingSpaceId:n.id}):null})})}},646498:(e,t,n)=>{n.d(t,{a:()=>r().a});var r=()=>n(823519)},649074:(e,t,n)=>{n.d(t,{DS:()=>i,Fe:()=>d,GB:()=>a,Gf:()=>u,V_:()=>c,j1:()=>l,j8:()=>o,yp:()=>p,yw:()=>s});var r=()=>n(647242);function i(e){return(0,r().Fq)({subscription:e})}function o(e){return(0,r().Ry)({subscription:e,trial:void 0})}function a(e){let{subscriptionState:t,logFunction:n,spaceId:i}=e;const o=g(t);return(0,r().yB)({billingData:{subscription:o,trial:void 0},logFunction:n,spaceId:i})}function s(e){return(0,r().q8)({subscription:e})}function l(e){return(0,r().V9)({subscription:g(e),trial:void 0})}function d(e){return(0,r().d$)({subscription:g(e),trial:void 0})}function c(e){return(0,r().ji)({subscription:g(e),trial:void 0})}function u(e){return(0,r().AI)({subscription:g(e),trial:void 0})}function p(e,t){return(0,r().KH)({subscription:g(e),trial:void 0},t)}function g(e){return e?{...e,trialEnd:void 0}:void 0}},653928:(e,t,n)=>{n.d(t,{W:()=>o});var r=n(242343),i=()=>n(442161);function o(){const e=(0,i().t)(),[t,n]=(0,r.useState)();return(0,r.useEffect)((()=>{n(!(!e||!("company_employee_count"in e))&&parseInt(e.company_employee_count)>99)}),[e]),t}},669199:(e,t,n)=>{n.d(t,{D_:()=>I,Ft:()=>A,HN:()=>b,MA:()=>x,Sk:()=>v,Yn:()=>k,e9:()=>f,eJ:()=>C,su:()=>S});n(362833),n(725707),n(500234),n(113085);var r=()=>n(532444),i=()=>n(647242),o=()=>n(649074),a=()=>n(455831),s=()=>n(653998),l=()=>n(477784),d=()=>n(670682);const c=(0,s().YK)({cancellationError:{id:"midtermSubscriptionHelpers.cancellationFailed",defaultMessage:"There was an error attempting to cancel your pending changes. Please try again."},unableToCancelError:{id:"midtermSubscriptionHelpers.unableToCancel",defaultMessage:"We cannot cancel your scheduled changes right now. Please contact support for more help."},cancellationSuccess:{id:"midtermSubscriptionHelpers.cancellationSucceeded",defaultMessage:"Pending changes have been canceled"},invalidSubscriptionId:{id:"midtermSubscriptionHelpers.invalidSubscriptionId",defaultMessage:"Unable to cancel your pending changes. Something was wrong with your pending subscription changes."}});function u(e){return(0,a().dL)(e)?"free":(0,a().wb)(e)?"education":(0,a().sP)(e)?"singlePlayerPlus":(0,a().$P)(e)?"plus":(0,a().tL)(e)?"business":(0,a().OX)(e)?"enterprise":"legacy"}const p=(0,s().YK)({freePlan:{defaultMessage:"Free Plan",id:"freePlan.title"},educationPlusPlan:{defaultMessage:"Education Plus Plan",id:"educationPlusPlan.title"},plusPlan:{defaultMessage:"Plus Plan",id:"plusPlan.title"},businessPlan:{id:"businessPlan.title",defaultMessage:"Business Plan"},enterprisePlan:{defaultMessage:"Enterprise Plan",id:"enterprisePlan.label"},legacyPlan:{defaultMessage:"Legacy Plan",id:"legacyPlan.label"}}),g={free:{planTitle:p.freePlan},singlePlayerPlus:{planTitle:p.plusPlan},education:{planTitle:p.educationPlusPlan},plus:{planTitle:p.plusPlan},business:{planTitle:p.businessPlan},enterprise:{planTitle:p.enterprisePlan},legacy:{planTitle:p.legacyPlan}},m=(0,s().YK)({notionAI:{defaultMessage:"Notion AI",id:"notionAI.title"},removeAI:{defaultMessage:"Remove AI",id:"notionAI.remove.title"}}),h=(0,s().YK)({month:{defaultMessage:"Monthly billing",id:"billingInterval.monthly"},year:{defaultMessage:"Annual billing",id:"billingInterval.annual"}});function f(){return l().A.formatMessage(c.unableToCancelError)}function x(){return l().A.formatMessage(c.cancellationSuccess)}function y(e){var t;const n=null==e||null===(t=e.subscription)||void 0===t?void 0:t.pending;if(!n)return;const r=(0,i().PP)(e),a=(0,i().lQ)(e);return{oldTier:(0,o().Gf)(r)??"free",newTier:(0,o().Gf)(a)??"free",oldAIAddOn:(0,o().V_)(r).find((e=>"ai"===e)),newAIAddOn:(0,o().V_)(a).find((e=>"ai"===e)),oldInterval:(0,o().yw)(r),newInterval:(0,o().yw)(a),phaseOneEndDate:n.startDate}}function v(e){const t=y(e);return!(!t||!t.newInterval)&&t.oldInterval!==t.newInterval}function b(e){const t=y(e);return!!t&&t.oldTier!==t.newTier}function S(e){const t=y(e),n=[];if(!t)return{scheduledChanges:n,periodEndDate:null};const{newTier:r,oldTier:i,oldAIAddOn:o,newAIAddOn:a,oldInterval:s,newInterval:d,phaseOneEndDate:c}=t;var p,f;return i!==r&&n.push(function(e,t){const n=u(e),r=l().A.formatMessage(g[n].planTitle);if(!t)return"";const i=u(t);return`${r} â†’ ${l().A.formatMessage(g[i].planTitle)}`}(i,r)),o!==a&&n.push((p=o,f=a,`${l().A.formatMessage(p?m.notionAI:m.removeAI)} â†’ ${l().A.formatMessage(f?m.notionAI:m.removeAI)}`)),s!==d&&n.push(function(e,t){return e&&t?`${l().A.formatMessage("month"===e?h.month:h.year)} â†’ ${l().A.formatMessage("month"===t?h.month:h.year)}`:""}(s,d)),{scheduledChanges:n,periodEndDate:c}}function A(e,t){if(!e)return;const n=(0,i().PP)(e).items,r=(0,i().lQ)(e).items;var o;return(0,i().HO)(n,r).some((e=>{let[n,r]=e;return(0,i().IE)(n??r)===t&&n&&!r}))?null===(o=e.subscription)||void 0===o||null===(o=o.pending)||void 0===o?void 0:o.startDate:void 0}function I(e){if(!e)return;var t;return 0===(0,i().lQ)(e).items.length?null===(t=e.subscription)||void 0===t||null===(t=t.pending)||void 0===t?void 0:t.startDate:void 0}function C(e){let{billingData:t}=e;const n=(0,d().a9)(t);if(!n)return!1;if((0,i().et)(t))return!1;const r=(0,i().bO)(n),o=(0,i().N8)(null==n?void 0:n.subscription);return!r&&!o}function k(e){const t=(0,i().V9)(e),n=(0,i().ji)(e).length>0;return!t||(!r().xd.includes(t)||!(!n||!r().iV.includes(t)))}},702888:(e,t,n)=>{n.d(t,{g:()=>s});var r=()=>n(237385),i=()=>n(803290),o=()=>n(485966),a=()=>n(855827);function s(e){let{spaceId:t}=e;const n=(0,r().v3)(),s=(0,i().K8)((()=>{var e;return null===(e=o().default.state.currentSpaceStore)||void 0===e?void 0:e.canEdit()}),[]);return(0,i().K8)((()=>{if(t&&s)return a().A.getData(n,{spaceId:t})}),[n,t,s])}},808002:(e,t,n)=>{n.d(t,{Q:()=>a});var r=()=>n(83544),i=()=>n(455831);const o=(0,n(653998).YK)({unlimitedBlocksForIndividuals:{id:"SpaceSubscriptionPlans.includes.unlimitedBlocksForIndividuals",defaultMessage:"Unlimited blocks for individuals"},unlimitedBlocksForTeams:{id:"SpaceSubscriptionPlans.includes.unlimitedBlocksForTeams",defaultMessage:"Unlimited blocks for teams"},unlimitedFileUploads:{id:"SpaceSubscriptionPlans.includes.unlimitedFileUploads",defaultMessage:"Unlimited file uploads"},collaborativeWorkspace:{id:"SpaceSubscriptionPlans.includes.collaborativeWorkspaces",defaultMessage:"Collaborative workspace"},integrations:{id:"SpaceSubscriptionPlans.includes.integrations",defaultMessage:"Slack, GitHub, and more integrations"},pageHistory7Days:{id:"SpaceSubscriptionPlans.includes.pageHistory.7",defaultMessage:"7 day page history"},pageHistory30Days:{id:"SpaceSubscriptionPlans.includes.pageHistory.30",defaultMessage:"30 day page history"},pageHistory90Days:{id:"SpaceSubscriptionPlans.includes.pageHistory.90",defaultMessage:"90 day page history"},pageHistoryUnlimited:{id:"SpaceSubscriptionPlans.includes.pageHistory.unlimited",defaultMessage:"Unlimited page history"},guests10:{id:"SpaceSubscriptionPlans.includes.guests.10",defaultMessage:"Invite up to 10 guests"},guests100:{id:"SpaceSubscriptionPlans.includes.guests.100",defaultMessage:"Invite up to 100 guests"},guests250:{id:"SpaceSubscriptionPlans.includes.guests.250",defaultMessage:"Invite up to 250 guests"},guestsCustom:{id:"SpaceSubscriptionPlans.includes.guests.custom",defaultMessage:"Custom guest limits"},aiCredits:{id:"SpaceSubscriptionPlans.includes.aiCredits",defaultMessage:"10 free AI credits"},samlSSO:{id:"SpaceSubscriptionPlans.includes.saml.sso",defaultMessage:"SAML SSO"},userProvisioning:{id:"SpaceSubscriptionPlans.includes.scim",defaultMessage:"User provisioning (SCIM)"},advancedSecurityControls:{id:"SpaceSubscriptionPlans.includes.advancedSecurityControls",defaultMessage:"Advanced security controls"},auditLog:{id:"SpaceSubscriptionPlans.includes.auditLog",defaultMessage:"Audit log"},privateTeamspaces:{id:"SpaceSubscriptionPlans.includes.privateTeamspaces",defaultMessage:"Private Teamspaces"},bulkPdfExport:{id:"SpaceSubscriptionPlans.includes.bulkPdfExport",defaultMessage:"Bulk PDF export"},customerSuccessManager:{id:"SpaceSubscriptionPlans.includes.customerSuccessManager",defaultMessage:"Customer success manager"}}),a={ai:{imageByMode:{light:r().A.images.pricing.aiLogoPng,dark:r().A.images.pricing.aiLogoPng},originalImage:{path:r().A.images.pricing.aiLogoPng,width:100,height:100},planTitle:i().v0.ai,highlights:[],highlightsWhenComparedWithPlanBelow:[]},sites_custom_hostnames:{imageByMode:{dark:r().A.images.pricing.dark.freePlanPng,light:r().A.images.pricing.light.freePlanPng},originalImage:{path:r().A.images.pricing.original.freePng,width:108,height:146},planTitle:i().v0.sites,highlights:[],highlightsWhenComparedWithPlanBelow:[]},free:{imageByMode:{dark:r().A.images.pricing.dark.freePlanPng,light:r().A.images.pricing.light.freePlanPng},originalImage:{path:r().A.images.pricing.original.freePng,width:108,height:146},planTitle:i().v0.freePlan,highlights:[o.unlimitedBlocksForIndividuals,o.collaborativeWorkspace,o.integrations,o.pageHistory7Days,o.guests10],highlightsWhenComparedWithPlanBelow:[]},personal:{imageByMode:{light:r().A.images.pricing.light.plusPlanPng,dark:r().A.images.pricing.dark.plusPlanPng},originalImage:{path:r().A.images.pricing.original.plusPng,width:163,height:168},planTitle:i().v0.plusPlan,highlights:[o.integrations,o.unlimitedFileUploads,o.pageHistory30Days,o.guests100],highlightsWhenComparedWithPlanBelow:[]},student:{imageByMode:{light:r().A.images.pricing.light.freePlanPng,dark:r().A.images.pricing.dark.freePlanPng},originalImage:{path:r().A.images.pricing.original.freePng,width:108,height:146},planTitle:i().v0.educationPlusPlan,highlights:[o.unlimitedBlocksForIndividuals,o.integrations,o.pageHistory30Days,o.guests100],highlightsWhenComparedWithPlanBelow:[]},plus:{imageByMode:{light:r().A.images.pricing.light.plusPlanPng,dark:r().A.images.pricing.dark.plusPlanPng},originalImage:{path:r().A.images.pricing.original.plusPng,width:163,height:168},planTitle:i().v0.plusPlan,highlights:[o.collaborativeWorkspace,o.integrations,o.unlimitedBlocksForTeams,o.unlimitedFileUploads,o.pageHistory30Days,o.guests100],highlightsWhenComparedWithPlanBelow:[]},business:{imageByMode:{light:r().A.images.pricing.light.businessPlanPng,dark:r().A.images.pricing.dark.businessPlanPng},originalImage:{path:r().A.images.pricing.original.businessPng,width:122,height:146},planTitle:i().v0.businessPlan,highlights:[o.samlSSO,o.privateTeamspaces,o.bulkPdfExport,o.pageHistory90Days,o.guests250],highlightsWhenComparedWithPlanBelow:[]},enterprise:{imageByMode:{light:r().A.images.pricing.light.enterprisePlanPng,dark:r().A.images.pricing.dark.enterprisePlanPng},originalImage:{path:r().A.images.pricing.original.enterprisePng,width:197,height:206},planTitle:i().v0.enterprisePlan,highlights:[o.samlSSO,o.privateTeamspaces,o.bulkPdfExport,o.pageHistoryUnlimited,o.guestsCustom,o.userProvisioning,o.advancedSecurityControls,o.auditLog,o.customerSuccessManager],highlightsWhenComparedWithPlanBelow:[]}}},823519:(e,t,n)=>{n.d(t,{a:()=>g});var r=n(242343),i=()=>n(174114),o=()=>n(76394),a=()=>n(31448),s=()=>n(421338),l=()=>n(152058),d=()=>n(755002),c=n(163643);function u(e){const{disabled:t,checked:n,selectorSize:r}=e,[o,a]=(0,l().A)(),s=function(e){const{checked:t,disabled:n,isFocusVisible:r,selectorSize:o}=e;return(0,i().IS)((e=>({root:{position:"absolute",display:"flex",width:15,height:15,padding:5,margin:1.5,justifyContent:"center",alignItems:"center",gap:8,flexShrink:0,borderRadius:"50%",transition:"background 100ms ease-out",...t?{boxShadow:`0 0 0 1.5px ${n?e.tint.regular:e.blueColor}`,background:n?e.tint.regular:e.blueColor}:{boxShadow:`0 0 0 1.5px ${n?e.icon.quaternary:e.stroke.input}`,background:e.surface.page},...r&&{boxShadow:e.outlineBlueInputBoxShadow}},active:{background:t?e.blueButtonPressedBackground:e.buttonHoveredBackground},input:{opacity:0,width:"small"===o?14:18,height:"small"===o?14:18,...n?{pointerEvents:"none"}:{cursor:"pointer"}}})),[t,n,r,o])}({checked:n,disabled:t,isFocusVisible:a,selectorSize:r});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("input",{ref:o,type:"radio",style:s.input,className:"radio-button",...e}),(0,c.jsx)("span",{...(0,d().AH)("custom-radio-button",s.root,t?{}:{pseudoActive:s.active})})]})}var p=()=>n(701270);const g=r.forwardRef((function(e,t){let{additionalContent:n,description:o,isDisabled:l,isSelected:d,label:u,name:p,onChange:g,width:f="fill",selectorSize:x="normal",selectAlignXAxis:y="left",selectAlignYAxis:v="center",selectType:b="checkbox",style:S,supportText:A,value:I,colorName:C,alignAdditionalContent:k,...w}=e;const j=(0,r.useId)(),B=function(e){const{isSelected:t,isDisabled:n,selectAlignYAxis:r,alignAdditionalContent:o}=e;return(0,i().IS)((e=>{const i=t&&!n?e.blueColor:e.selectorBorderUnselected;return{container:{display:"flex",alignItems:o??"center",gap:12,userSelect:"none",padding:"9px 16px 10px 10px",borderRadius:6,border:`1px solid ${i}`,...!n&&{cursor:"pointer"}},title:{fontWeight:a().Wy.medium,fontSize:14,userSelect:"none",lineHeight:18},additionalContentWrapper:{flexShrink:0},selectorWrapper:{display:"flex",..."top"===r?{marginTop:2}:{}},rightAlignSelectorWrapper:{display:"flex"}}}),[t,n,r,o])}({isSelected:d,isDisabled:l,selectAlignYAxis:v,alignAdditionalContent:k}),P=(0,c.jsxs)(s().Y1,{direction:"horizontal",align:"top"===v?"top-left":"center-left",gap:12,width:f,children:[(0,c.jsx)("div",{style:B.selectorWrapper,children:(0,c.jsx)(h,{id:j,selectType:b,name:p,value:I,onChange:g,isSelected:d,selectorSize:x,isDisabled:l,...w})}),(0,c.jsx)(m,{colorName:C,description:o,label:u,selectorSize:x,supportText:A,isDisabled:l})]}),M=(0,c.jsxs)(s().Y1,{direction:"horizontal",align:"top"===v?"top-center":"center",gap:12,children:[(0,c.jsx)(m,{colorName:C,description:o,label:u,selectorSize:x,supportText:A,isDisabled:l}),(0,c.jsx)("div",{style:{...B.selectorWrapper,...B.rightAlignSelectorWrapper},children:(0,c.jsx)(h,{id:j,selectType:b,name:p,value:I,onChange:g,selectorSize:x,isSelected:d,isDisabled:l,...w})})]}),T=n?(0,c.jsx)("div",{style:B.additionalContentWrapper,children:n}):null;return(0,c.jsx)("label",{ref:t,style:{...B.container,...S},htmlFor:j,children:"left"===y?(0,c.jsxs)(c.Fragment,{children:[P,T]}):(0,c.jsxs)(c.Fragment,{children:[T,M]})})}));function m(e){const{description:t,label:n,supportText:r,selectorSize:i,isDisabled:a,colorName:l}=e;let d;return"large"===i?d="Page-Content/Text-Block":"normal"===i||void 0===i?d="Body-13px/Medium":"small"===i?d="Body-12px/Regular":(0,o().HB)(i),(0,c.jsxs)(s().Y1,{gap:4,children:[(0,c.jsxs)(s().Y1,{gap:2,children:[(0,c.jsx)(p().D,{styleName:d,colorName:l||(a?"quaternary":"primary"),children:n}),t?(0,c.jsx)(p().D,{styleName:"Caption-12px/Regular",colorName:a?"quaternary":"secondary",children:t}):null]}),r?(0,c.jsx)(p().D,{styleName:"Caption-12px/Medium",colorName:"tertiary",children:r}):null]})}function h(e){const{selectType:t,selectorSize:r="normal",id:a,name:s,value:l,onChange:d,isSelected:p,isDisabled:g,...m}=e,h=(0,i().IS)((()=>({checkboxWrapper:{minWidth:18,display:"flex",justifyContent:"center"}})),[]);switch(t){case"radio":return(0,c.jsx)(u,{id:a,name:s,value:l,onChange:d,checked:p,disabled:g,selectorSize:r,...m});case"checkbox":return(0,c.jsx)("div",{style:h.checkboxWrapper,children:(0,c.jsx)(n(830025).W,{id:a,name:s,value:l,onChange:d,checked:p,disabled:g,selectorSize:r,...m})});default:(0,o().HB)(t)}}},830025:(e,t,n)=>{n.d(t,{W:()=>l});n(242343);var r=()=>n(152058),i=()=>n(174114),o=()=>n(755002),a=()=>n(96144),s=n(163643);function l(e){const{selectorSize:t="normal",...n}=e,{disabled:l,checked:d}=n,[c,u]=(0,r().A)(),p=function(e){const{checked:t,disabled:n,isFocusVisible:r,selectorSize:o}=e;return(0,i().IS)((e=>({root:{position:"absolute",display:"flex",width:"large"===o?15:11,height:"large"===o?15:11,margin:1.5,justifyContent:"center",alignItems:"center",flexShrink:0,borderRadius:"large"===o?2:1,transition:"background 100ms ease-out",...t?{boxShadow:`0 0 0 1.5px ${n?e.tint.regular:e.blueColor}`,background:n?e.tint.regular:e.blueColor}:{boxShadow:`0 0 0 1.5px ${n?e.icon.quaternary:e.stroke.input}`,background:e.surface.page},...r&&{boxShadow:e.outlineBlueInputBoxShadow}},active:{background:t?e.blueButtonPressedBackground:e.buttonHoveredBackground},input:{opacity:0,width:"large"===o?18:void 0,height:"large"===o?18:void 0,...n?{pointerEvents:"none"}:{cursor:"pointer"}},icon:{color:e.text.contrastPrimary,width:"large"===o?12:10,height:"large"===o?12:10,ariaHidden:!0}})),[o,t,n,r])}({checked:d,disabled:l,selectorSize:t,isFocusVisible:u});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("input",{ref:c,type:"checkbox",style:p.input,...n}),(0,s.jsx)("span",{...(0,o().AH)(p.root,l?{}:{pseudoActive:p.active}),children:d&&(0,a().R)(p.icon)})]})}},849469:(e,t,n)=>{n.d(t,{X:()=>a});n(242343);var r=()=>n(392968),i=()=>n(808002),o=n(163643);function a(e){const{product:t}=e,n=function(e){switch(e){case"free":case"student":case"personal":return i().Q.free.originalImage;case"plus":return i().Q.plus.originalImage;case"business":return i().Q.business.originalImage;case"enterprise":return i().Q.enterprise.originalImage;case"ai":return i().Q.ai.originalImage;case"sites_custom_hostnames":return i().Q.sites_custom_hostnames.originalImage;default:return}}(t);return n?(0,o.jsx)(r().Ay,{src:n.path,style:{width:49,height:52}}):null}},855827:(e,t,n)=>{n.d(t,{A:()=>i});const r=new(n(967203).U)((e=>{let{spaceId:t}=e;return t}),(async(e,t)=>{var r;let{spaceId:i}=t;if(null===(r=n(485966).default.state.currentSpaceStore)||void 0===r||!r.canAdmin())return;const o=await Promise.resolve().then(n.bind(n,818369)),a=await o.callApi({eventName:"getCustomerOffersReceived",environment:e,data:{spaceId:i},headers:(0,n(519423).WS)({cellId:void 0,spaceId:i})});return"success"===a.type&&(0,n(76394).EI)(a.data)?a.data:void 0}));n(996094).exposeDebugValue("OffersReceivedStore",r);const i=r},868224:(e,t,n)=>{n.d(t,{A:()=>i});class r extends(()=>n(129044))().default{getInitialState(){return{open:!1,succeeded:!1}}close(){this.setState({open:!1,succeeded:!1})}closeWithSuccess(){this.setState({open:!1,succeeded:!0})}open(e){this.setState({open:!0,temporaryBillingInterval:"month",temporaryAddress:{name:"",businessName:"",addressLine1:"",addressLine2:"",zipCode:"",city:"",state:"",country:""},appliedPromo:void 0,error:void 0,vatApplicable:!1,calculatingTax:!1,payButtonState:"disabled",subscriptionTier:"enterprise",targetPlan:void 0,targetSpace:e,totalUpgradeCost:void 0,onlyShowAddOn:!1,sessionId:n(214144).JW(),type:n(172553).p.TargetSpace})}setAddressField(e){this.state.open&&this.setState({...this.state,temporaryAddress:{...this.state.temporaryAddress,...e},taxCalculationError:void 0})}}const i=new r},905467:(e,t,n)=>{n.d(t,{q:()=>x});var r=()=>n(353420),i=(r(),n(242343),()=>n(237385)),o=()=>n(269280),a=()=>n(803290),s=()=>n(653998),l=()=>n(421650),d=()=>n(421338),c=()=>n(517198),u=()=>n(485966),p=()=>n(172553),g=()=>n(847184),m=()=>n(76513),h=()=>n(506806),f=n(163643);function x(e){const{modalId:t,style:n}=e,d=(0,a().O$)(h().D),c=(0,i().v3)();(0,o().w)((()=>{h().D.setState(!0)}));const x={defaultValues:{billingDetails:(0,a().K8)((()=>{const e=u().default.state.currentUserStore;return{email:null==e?void 0:e.getEmail(),name:null==e?void 0:e.getName()}}),[])},terms:{card:"never"}};return(0,f.jsxs)(g().iy,{title:d?(0,f.jsx)(m().y,{labelOnly:!0}):(0,f.jsx)(s().sA,{id:"subscriptions.checkout.paymentMethod.title",defaultMessage:"Payment method"}),style:n,children:[d?(0,f.jsx)(y,{}):null,(0,f.jsx)(r().PaymentElement,{options:x,onChange:e=>{l().C3(c,{event:e,modal_id:t}),p().A.update((e=>{if(!e.open)return e;const{paymentData:t,...n}=e;return n}))},onReady:()=>h().D.setState(!1)})]})}function y(){return(0,f.jsxs)(d().Y1,{gap:12,children:[(0,f.jsxs)(d().Y1,{direction:"horizontal",gap:12,children:[(0,f.jsx)(c().A,{style:{width:"50%",height:60,borderRadius:6}}),(0,f.jsx)(c().A,{style:{width:"50%",height:60,borderRadius:6}})]}),(0,f.jsx)(m().y,{}),(0,f.jsx)(m().y,{}),(0,f.jsx)(m().y,{}),(0,f.jsx)(m().y,{})]})}},910200:(e,t,n)=>{n.d(t,{Kz:()=>A,Qe:()=>y,dn:()=>v,gM:()=>I,qu:()=>b});n(725707),n(491955),n(403517);var r=()=>n(99324),i=()=>n(647242),o=()=>n(423600),a=()=>n(216376),s=()=>n(975392),l=()=>n(76394),d=()=>n(818369),c=()=>n(927685),u=()=>n(548694),p=()=>n(485966),g=()=>n(172553),m=()=>n(111826),h=()=>n(868224),f=()=>n(879205),x=()=>n(305043);async function y(e){var t;let{environment:n,billingData:o,billingInterval:s,vatId:c,addOn:h,onlyShowAddOn:y}=e;const v=g().A.state,b=x().subscriptionDataStoreInstance.state;if(!v.open||!b)return;const A=(null==o?void 0:o.address)??v.temporaryAddress;if(!(0,r().Z)(A))return;g().A.update((e=>({...e,calculatingTax:!0})));const I=s??v.temporaryBillingInterval??"year",C=h??v.addOnFeature,k=y??v.onlyShowAddOn,w=null===(t=p().default.state.currentSpaceStore)||void 0===t?void 0:t.id;if(!w)return;const j=await(0,u().Pu)({environment:n,spaceId:w})??1,{planAmount:B,promoInfo:P,accountBalance:M}=(0,m().TQ)({memberCount:j,promo:v.appliedPromo,currencyCode:f().A.selectedCurrencyCode,data:b,addOnFeature:C,onlyShowAddOn:k,subscriptionTier:v.subscriptionTier,taxAmount:v.taxAmount,calculatingTax:v.calculatingTax,billingInterval:I,coupon:v.coupon}),T=Math.max(0,B-P.amount+M),_=[v.subscriptionTier,v.addOnFeature].map((e=>{switch(e){case void 0:return;case"ai":case"sites_custom_hostnames":return e;default:return(0,a()._y)(e)}})).map((e=>{const t=f().A.getPrice(n,(t=>t.product===e&&t.billingInterval===s));return null==t?void 0:t.result})).map(S).filter(l().O9),W=await d().callApi({eventName:"calculateTax",environment:n,data:{address:A,lineItems:_,price:T,vatId:c??v.vatApplicable?v.temporaryVatCode:void 0,customerId:(0,i().Rz)(o)}});if("failed"===W.type)g().A.update((e=>({...e,taxAmount:void 0,calculatingTax:!1})));else{const e=W.data;e.valid?g().A.update((t=>({...t,taxAmount:e.taxAmount,calculatingTax:!1,taxCalculationError:void 0}))):g().A.update((t=>({...t,taxAmount:void 0,calculatingTax:!1,taxCalculationError:e.error})))}}async function v(e,t){var n;const a=h().A.state,s=x().subscriptionDataStoreInstance.state;if(!a.open||!s)return;const l=a.temporaryAddress;if(!(0,r().Z)(l))return;h().A.update((e=>({...e,calculatingTax:!0})));const c=(null===(n=a.totalUpgradeCost)||void 0===n?void 0:n.amount)||0,u=await d().callApi({eventName:"calculateTax",environment:e,data:{address:l,price:c,vatId:a.vatApplicable?a.temporaryVatCode:void 0,customerId:(0,i().Rz)(t)}});if("failed"===u.type)h().A.update((e=>({...e,taxAmount:void 0,calculatingTax:!1})));else{const e=u.data;e.valid?h().A.update((t=>({...t,taxAmount:o().W.fromValue({amount:e.taxAmount,currencyCode:f().A.selectedCurrencyCode}),calculatingTax:!1,taxCalculationError:void 0}))):h().A.update((t=>({...t,taxAmount:void 0,calculatingTax:!1,taxCalculationError:e.error})))}}async function b(e){const{environment:t,billingData:n,stripeData:o,taxableAmount:a,lineItems:s}=e,{address:l}=null!=n&&n.address?{address:null==n?void 0:n.address}:e,c=(null==o?void 0:o.vatId)??(n?(0,i().t_)(n,"vat"):void 0);if(!l||!(0,r().Z)(l))return;const u=(0,i().Rz)(n),p=await d().callApi({eventName:"calculateTax",environment:t,data:{address:l,price:a.amount,vatId:c,customerId:u,lineItems:s}});if("failed"===p.type)return;const g=p.data;return g.valid?g.taxAmount:void 0}function S(e){if(!e)return;if(void 0===e.unitAmount)return;const t=c().A.pricing[e.product];return"productId"in t?{amount:e.unitAmount.amount,productId:t.productId}:void 0}function A(e){const t=c().A.pricing[e.price.product];if("productId"in t)return{amount:e.price.unitAmount.amount*e.quantity,productId:t.productId}}function I(e){let{line:t,defaultProductId:n=c().A.pricing.plus.productId}=e;const r=(0,s().xu)(t.discount_amounts??[],"amount"),i=t.price?"string"==typeof(o=t.price.product)?o:o.id:n;var o;return{amount:t.amount-r,productId:i}}},967010:(e,t,n)=>{n.d(t,{g:()=>l});var r=n(242343),i=()=>n(237385),o=()=>n(863969),a=()=>n(384055),s=()=>n(702888);function l(e){var t;const n=(0,i().v3)(),[l,d]=(0,r.useState)(),c=(0,o().O)(),u=(null===(t=(0,s().g)({spaceId:c}))||void 0===t?void 0:t.length)??0;return(0,r.useEffect)((()=>{!async function(){c&&d(await(0,a().L6)({environment:n,spaceId:c,offerCampaign:e}))}()}),[n,c,e,u]),l}},980759:(e,t,n)=>{n.d(t,{w:()=>b});n(725707),n(113085);var r=n(242343),i=()=>n(237385),o=()=>n(803290),a=()=>n(174114),s=()=>n(395665),l=()=>n(653998),d=()=>n(818369),c=()=>n(701270),u=()=>n(611824),p=()=>n(392608),g=()=>n(863969),m=()=>n(172553),h=()=>n(33368),f=()=>n(879205),x=()=>n(31448),y=n(163643);const v=function(){const e=(0,a().IS)((e=>({discountDescription:{alignItems:"center",color:e.text.secondary,fontSize:12,lineHeight:x().K_.UISmall.desktop}})),[]);return(0,y.jsx)("div",{style:e.discountDescription,children:(0,y.jsx)(l().sA,{id:"spaceSubscriptionSettings.orderOptions.estimatedPriceWarning",defaultMessage:"The final amount due may be impacted by prorations and member changes since your last invoice."})})};function b(e){const{products:t,showTrialEndDisclaimer:n,showProductTerms:r=!0}=e,i=(0,a().IS)((()=>({termsOfService:{display:"flex",flexDirection:"column",gap:12}})),[]),l=(0,o().K8)((()=>f().A.state.selectedCurrencyCode),[]),d=t.includes("ai"),u=t.some((e=>"ai"!==e)),p=void 0!==l&&"USD"!==l,g=(0,o().K8)((()=>{var e;return m().A.state.open?null===(e=m().A.state)||void 0===e?void 0:e.coupon:void 0}),[]),x=(0,h().D)()&&t.includes("plus")&&(0,s().u6)(g);return(0,y.jsx)(c().D,{styleName:"Body-12px/Regular",colorName:"secondary",children:(0,y.jsxs)("div",{style:i.termsOfService,children:[n?(0,y.jsx)(A,{}):null,r?(0,y.jsx)(S,{hasAi:d,hasPlan:u}):null,u&&x&&(0,y.jsx)(w,{}),p?(0,y.jsx)(j,{currencyCode:l}):null]})})}function S(e){let{hasAi:t,hasPlan:n}=e;return(0,y.jsxs)(y.Fragment,{children:[t&&!n?(0,y.jsx)(I,{}):null,t&&n?(0,y.jsx)(C,{}):null,!t&&n?(0,y.jsx)(k,{}):null]})}function A(){return(0,y.jsx)("div",{children:(0,y.jsx)(l().sA,{id:"spaceSubscriptionUpgradeModal.trialWillEndToday.message",defaultMessage:"Upgrading will end your trial and your workspace will be billed immediately."})})}function I(){const e=function(){const e=(0,i().v3)(),t=(0,g().O)(),[n,o]=(0,r.useState)();return(0,r.useEffect)((()=>{async function n(){var n;if(!t)return!1;const r=await d().callApi({eventName:"getSpaceMembershipUpdates",environment:e,data:{spaceId:t}});if("failed"===r.type)return!1;const i=!1===(null===(n=r.data[0])||void 0===n?void 0:n.isProcessed);o(!!i)}n()}),[e,t]),n}();return(0,y.jsxs)("div",{children:[(0,y.jsx)(l().sA,{id:"subscriptionUpgradeModal.confirmation.aiOnly",defaultMessage:"By continuing, you agree to the <aiTerms>Notion AI Product Specific Terms</aiTerms>.",values:{br:(0,y.jsx)("br",{}),aiTerms:e=>(0,y.jsx)(u().A,{href:(0,p().xS)("ai.terms"),external:!0,children:e})}}),e?(0,y.jsx)(v,{}):null]})}function C(){return(0,y.jsx)("div",{children:(0,y.jsx)(l().sA,{id:"subscriptionUpgradeModal.confirmation.planWithAi",defaultMessage:"By continuing, you agree to the <terms>Notion Terms and Conditions</terms> and <aiTerms>Notion AI Product Specific Terms</aiTerms>.",values:{br:(0,y.jsx)("br",{}),terms:e=>(0,y.jsx)(u().A,{href:(0,p().xS)("terms"),external:!0,children:e}),aiTerms:e=>(0,y.jsx)(u().A,{href:(0,p().xS)("ai.terms"),external:!0,children:e})}})})}function k(){return(0,y.jsx)("div",{children:(0,y.jsx)(l().sA,{id:"subscriptionUpgradeModal.confirmation.planOnly",defaultMessage:"By continuing, you agree to the <terms>Notion Terms and Conditions</terms>.",values:{terms:e=>(0,y.jsx)(u().A,{href:(0,p().xS)("terms"),external:!0,children:e})}})})}function w(){return(0,y.jsx)("div",{children:(0,y.jsx)(l().sA,{id:"subscriptionUpgradeModal.confirmation.planOnlyResurrection",defaultMessage:"Enjoy 50% off your first 3 months of billing, then standard rates apply. <learnMore>Learn more</learnMore>",values:{learnMore:e=>(0,y.jsx)(u().A,{href:(0,p().xS)("resurrectionLearnMore"),external:!0,children:e})}})})}function j(e){return(0,y.jsx)("div",{children:(0,y.jsx)(l().sA,{id:"subscriptionUpgradeModal.confirmation.currencyRateWarning",defaultMessage:"<terms>Learn about FX rates</terms>. Rates will refresh throughout the billing period.",values:{terms:e=>(0,y.jsx)(u().A,{href:(0,p().xS)("terms.currency.fxRates"),external:!0,children:e})}})})}}}]);