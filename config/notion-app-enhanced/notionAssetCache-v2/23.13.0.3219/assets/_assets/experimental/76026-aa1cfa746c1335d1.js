"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[22542,76026,89693],{18376:(e,t,o)=>{o.d(t,{W:()=>m});var n=()=>o(477784),r=()=>o(652039),i=()=>o(883249),a=()=>o(145046),s=()=>o(927999),l=()=>o(791497),p=()=>o(84543),c=()=>o(663539);const d=1500,u=(0,o(653998).YK)({pageCover:{defaultMessage:"Page cover",id:"pageCover.title"},fileTypeCaption:{defaultMessage:"Images wider than {idealImageWidth} pixels work best.",id:"pageCover.fileType.caption"},uploadFailed:{defaultMessage:"Upload failed",id:"pageCover.errorDialogMessage.uploadFailed"},preparing:{defaultMessage:"Preparing...",id:"pageCover.status.preparing"},downloading:{defaultMessage:"Downloading...",id:"pageCover.status.downloading"},embedTitle:{defaultMessage:"Link",id:"pageCover.embedType.title"},embedPlaceholder:{defaultMessage:"Paste an image linkâ€¦",id:"pageCover.embedType.placeholder"},embedCaption:{defaultMessage:"Works with any image from the web.",id:"pageCover.embedType.caption"},embedSubmit:{defaultMessage:"Submit",id:"pageCover.embedType.buttonText"}});function m(e){let{environment:t,intl:o,store:n,rect:r}=e;l().W(t,{originGap:3,originRect:r,isSmallWidth:!1,popupWidth:540,maxHeight:485,title:o.formatMessage(u.pageCover),onDelete:()=>{!function(e){let{environment:t,store:o}=e;l().I(),p().createAndCommit({userAction:"PageCover.handleDelete",environment:t,canUndo:!0,perform:e=>{s().PT({store:o,transaction:e})}})}({environment:t,store:n})},currentTab:"gallery",tabs:[{type:"gallery",onChange:e=>{let{url:o,position:r}=e;g({environment:t,store:n,url:{originUrl:o},position:r})}},{type:"file",fileUpload:!1,imageUpload:!0,videoUpload:!1,caption:o.formatMessage(u.fileTypeCaption,{idealImageWidth:d}),onUpload:e=>{var r;l().I(),c().QM({environment:t,file:e[0],bucket:"secure",record:(null===(r=n.getCoverStore())||void 0===r?void 0:r.pointer)??n.pointer,isFileBlock:!1,reportRichUploadMetrics:!0,onStart:v,onProgress:f,onComplete:e=>{var o;o={environment:t,store:n,url:{originUrl:e}},y({...o,position:.5})},onError:()=>{a().f1(o.formatMessage(u.uploadFailed))}})}},{type:"embed",title:o.formatMessage(u.embedTitle),inputPlaceholder:o.formatMessage(u.embedPlaceholder),caption:o.formatMessage(u.embedCaption),buttonText:o.formatMessage(u.embedSubmit),onChange:e=>{var o;o={environment:t,store:n,url:e},y({...o,position:.5}),l().I()}},{type:"unsplash",onChange:e=>{let{url:o,position:r}=e;g({environment:t,store:n,url:{originUrl:o},position:r})}}]})}async function y(e){const{environment:t,store:o,url:a,position:l}=e,{serverCommitResult:c}=p().createAndCommit({userAction:"PageCover.updatePageCover",environment:t,canUndo:!0,perform:e=>{s().fg({store:o,url:a,position:l||.5,transaction:e})}});await c,i().A.state.loadingMode===r().vS&&i().A.setState({loadingMode:r().Gi,dataURL:i().A.state.dataURL,uploadProgress:t.device.isMobileNative?void 0:100,progressText:n().A.formatMessage(u.downloading)})}function g(e){y(e),e.environment.device.isMobile&&l().I()}function v(e){const{file:t,name:o,size:a}=e;if(l().I(),i().A.setState({loadingMode:r().Wc,file:t,name:o,size:a}),t.type.indexOf("image")>=0)if(t instanceof File){const e=new FileReader;e.onload=e=>{i().A.state.loadingMode===r().Wc&&i().A.setState({...i().A.state,loadingMode:r().vS,uploadProgress:0,dataURL:e.target.result})},e.readAsDataURL(t)}else i().A.state.loadingMode===r().Wc&&i().A.setState({...i().A.state,loadingMode:r().vS,dataURL:t.dataURL,progressText:n().A.formatMessage(u.preparing)});else i().A.state.loadingMode===r().Wc&&i().A.setState({...i().A.state,loadingMode:r().vS,progressText:n().A.formatMessage(u.preparing)})}function f(e){const{progressPercent:t,progressText:o}=e;i().A.state.loadingMode===r().vS&&i().A.setState({...i().A.state,uploadProgress:t,progressText:o})}},130081:(e,t,o)=>{o.d(t,{UQ:()=>m,gL:()=>g});o(610931),o(725707),o(500234),o(771702);var n=()=>o(810111),r=()=>o(769884),i=()=>o(33715),a=()=>o(220865),s=()=>o(846287),l=()=>o(996151),p=()=>o(946854),c=()=>o(293665),d=()=>o(927999),u=()=>o(84543);function m(e){let{environment:t,transaction:o,layoutStore:n,position:l,updatedModule:p,sessionId:c}=e;const d=i().Zm[l.area],m=n.getRawModules();if("form_conditional_modules"===d){const e=null==m?void 0:m[d];if(!(null==e?void 0:e[l.moduleId]))throw new Error("Unable to find module being updated.");return void u().createAndCommitOrAppend({environment:t,transaction:o,canUndo:!0,perform(e){u().applyOperation({transaction:e,store:n,operation:r().N4X.updateModuleInArea({pointer:n.pointer,area:d,module:(0,a().Lv)(p)})})},userAction:"BuilderLayoutModules.updateModule"})}if(!m)throw new Error("Unable to find modules");const y=(0,s().LC)(m,(e=>e.id===l.moduleId));if(!y||y.area!==d)throw new Error("Unable to find module being updated.");u().createAndCommitOrAppend({environment:t,transaction:o,canUndo:!0,perform(e){u().applyOperation({transaction:e,store:n,operation:r().N4X.updateModuleInArea({pointer:n.pointer,module:(0,a().Lv)(p),..."views_main_tab_modules"===y.area?{area:y.area,viewId:y.viewId}:{area:y.area}})})},userAction:"BuilderLayoutModules.updateModule"})}function y(e){var t,o,n;let{collectionStore:r,layoutStore:i}=e;const a=new Map,s=r.getFormat(),l=[...null===(t=i.getModules())||void 0===t?void 0:t.page_main,...null===(o=i.getModules())||void 0===o?void 0:o.page_details],c=new Map;null===(n=s.property_visibility)||void 0===n||n.forEach((e=>{c.set(e.property,e)})),l.forEach((e=>{if(!(0,p()._Q)(e))return(0,p().gx)(e)?(a.set(e.propertyId,{property:e.propertyId}),void c.set(e.propertyId,{property:e.propertyId,visibility:"show"})):void 0;e.propertyIds.forEach((e=>{a.set(e,{property:e}),c.set(e,{property:e,visibility:"show"})}))}));const d=r.getNormalizedPropertyGroups();var u;d?d.forEach((e=>{var t;null===(t=e.propertyIds)||void 0===t||t.forEach((e=>{a.has(e)||a.set(e,{property:e})}))})):null===(u=s.collection_page_properties)||void 0===u||u.forEach((e=>{a.has(e.property)||a.set(e.property,e)}));return{propertiesFormat:Array.from(a.values()),propertyVisibility:Array.from(c.values())}}function g(e){let{environment:t,transaction:o,collectionStore:i,layoutStore:a}=e;const{propertiesFormat:s,propertyVisibility:m}=y({collectionStore:i,layoutStore:a});u().createAndCommitOrAppend({environment:t,transaction:o,canUndo:!0,perform(e){const t=a.getBlockChildrenPointers(),o=a.getFormat(),y=a.firstModuleOfType("viewsMain");y&&(0,p().y6)(y)&&t.find((e=>c().L3.isEqual(e,y.collection_view_block_pointer)))&&u().applyOperation({transaction:e,store:a,operation:r().N4X.removeBlockChild(a.pointer,y.collection_view_block_pointer.id)});const g=null==o?void 0:o.previousViewsMainCollectionViewBlockPointer,v=g&&t.find((e=>c().L3.isEqual(e,g)));v&&u().applyOperation({transaction:e,store:a,operation:r().N4X.removeBlockChild(a.pointer,v.id)}),u().applyOperation({transaction:e,store:a,operation:r().N4X.setModulesByAreas(a.pointer,(0,l().K5)())}),u().applyOperation({transaction:e,store:a,operation:r().N4X.deleteFormat(a.pointer)});const f=i.getFormat(),{page_section_visibility:C}=f;d().zA({stores:[i],update:{property_groups:void 0,collection_page_properties:s,property_visibility:m,...C?{page_section_visibility:n().Zi}:void 0},transaction:e})},userAction:"BuilderLayoutModules.resetLayoutToDefault"})}},180365:(e,t,o)=>{o.d(t,{A:()=>A});var n=o(242343),r=()=>o(237385),i=()=>o(803290),a=()=>o(653998),s=()=>o(927999),l=()=>o(18376),p=()=>o(84543),c=()=>o(481148),d=()=>o(400885),u=()=>o(802955),m=()=>o(652039),y=()=>o(883249),g=()=>o(470414),v=()=>o(615917),f=()=>o(126451),C=()=>o(392968),h=()=>o(174114),b=()=>o(76394),_=o(163643);function x(e){let{src:t,placeholderSrc:o,placeholderBehavior:r,imageStyle:i,containerStyle:a,onLoadComplete:s,testId:l}=e;const[p,c]=(0,n.useState)(!0);let d;switch(r){case"force-show-placeholder":d=!0;break;case"force-show-src":d=!1;break;case"show-placeholder-if-loading-src":d=!!o&&(p||void 0===t);break;default:(0,b().HB)(r)}const u=(0,h().IS)((()=>{const e={gridColumn:1,gridRow:1};return{container:{display:"grid",...a},srcWrapper:{...d&&{display:"none"},...e},placeholderWrapper:{pointerEvents:"none",...e}}}),[a,d]);(0,n.useEffect)((()=>{void 0!==t&&c(!0)}),[t]);const m=(0,n.useCallback)((e=>{c(!1),null==s||s()}),[s]);return(0,_.jsxs)("div",{style:u.container,children:[(0,_.jsx)(C().Ay,{src:t,onLoad:m,style:i,placeholderStyle:u.srcWrapper,placeholderLoadedStyle:u.srcWrapper,testId:l}),o&&(0,_.jsx)(C().Ay,{src:o,style:i,placeholderStyle:u.placeholderWrapper,placeholderLoadedStyle:u.placeholderWrapper})]})}var k=()=>o(410090);const A=function(e){let{store:t,disabled:a,paddingRight:l,paddingLeft:c,height:d,proxyWidth:u}=e;const g=(0,r().v3)(),v=(0,i().uB)(void 0,o(116586).A),f=(0,i().K8)((()=>a||"suggest"===o(615661).Uv.getMode(t)),[a,t]),h=(0,i().K8)((()=>t.getCover()),[t]),b=(0,i().O$)(y().A),[k,A]=(0,n.useState)(void 0);if(!h)return null;const w=b.loadingMode!==m().pF&&b.loadingMode!==m().Wc;return(0,_.jsx)(o(982717).A,{mouseStore:v,onFlushTemporaryPosition:e=>function(e,t,o){const{imagePosition:n,reset:r}=e;p().createAndCommit({userAction:"PageCover.handleFlushTemporaryPosition",environment:o,canUndo:!0,perform:e=>{s().yY({store:t,coverPosition:n,transaction:e}),r()}})}(e,t,g),renderControl:e=>{let{handleRepositionClick:o,handleSavePositionClick:n,handleCancelClick:r,isVisible:i,isRepositioning:a}=e;return(0,_.jsx)(T,{handleRepositionClick:o,handleSavePositionClick:n,handleCancelClick:r,isVisible:i,isRepositioning:a,lastProxiedUrl:k,store:t,disabled:f,paddingRight:l,paddingLeft:c,mouseStore:v})},source:"page",store:t,style:{display:"flex",flexDirection:"column",alignItems:"center",height:d,maxHeight:280,cursor:"default"},render:e=>(0,_.jsxs)(n.Fragment,{children:[(0,_.jsx)(o(283992).A,{url:h.cover,isAuthenticated:!0,permissionRecord:h.pointer,width:u,onFinishedLoadingProxyUrl:A,render:(t,o)=>{const n={width:"100%",height:d,maxHeight:280,objectFit:"cover",opacity:w?.5:1,objectPosition:`center ${100*(1-(e.imagePosition||0))}%`,borderRadius:0},r={width:"100%",height:d,maxHeight:280};return(0,_.jsx)(x,{src:o,placeholderSrc:w?b.dataURL:void 0,placeholderBehavior:w?"force-show-placeholder":"show-placeholder-if-loading-src",containerStyle:r,imageStyle:n,onLoadComplete:M,testId:"pageCover"})}}),w&&(0,_.jsxs)("div",{style:C().fd,children:[(0,_.jsx)(o(966789).A,{size:"md",style:{marginRight:4}}),(0,_.jsx)("div",{style:{minWidth:30,textAlign:"right"},children:void 0!==b.uploadProgress?(0,_.jsx)(o(335157).A,{percentage:b.uploadProgress}):b.progressText?(0,_.jsx)("span",{children:b.progressText}):null})]})]})})};function M(){y().A.reset()}function T(e){let{isVisible:t,isRepositioning:o,handleCancelClick:s,handleRepositionClick:p,handleSavePositionClick:C,lastProxiedUrl:h,store:b,disabled:x,paddingRight:A,paddingLeft:M,mouseStore:T}=e;const w=(0,r().v3)(),S=(0,a().tz)(),I=(0,n.useCallback)((e=>function(e,t,o,n,r){r.reset();const i=e.target.getBoundingClientRect();l().W({environment:t,intl:o,store:n,rect:i})}(e,w,S,b,T)),[w,S,b,T]),P=(0,i().K8)((()=>y().A.state.loadingMode),[]),L=(0,i().K8)((()=>function(e){let t;return t=Boolean(e.isFullWidth())?"100%":d().x6,t}(b)),[b]),{device:F}=w,R=(0,i().K8)((()=>!o&&!(0,c().LX)({device:F})),[o,F]),W=(0,i().O$)(u().e);if(x||P!==m().pF||!W)return null;const{isMobile:N}=F;return(0,_.jsx)(v().A,{animate:{width:L,opacity:t?1:0},style:{position:"absolute",pointerEvents:t?"auto":"none",maxWidth:"100%",top:48},children:(0,_.jsxs)(g().A,{isVisible:t,position:"bottom",style:{marginRight:A,marginLeft:M},children:[R&&(0,_.jsx)(f().A,{style:{borderRight:N?"none":void 0,...k().k},onClick:I,children:(0,_.jsx)(a().sA,{defaultMessage:"Change cover",id:"pageCover.changeCover.text"})}),!o&&!N&&(0,_.jsx)(f().A,{style:{...k().k,borderRight:"none"},onClick:e=>p(e,h),children:(0,_.jsx)(a().sA,{defaultMessage:"Reposition",id:"pageCover.reposition.text"})}),o&&!N&&(0,_.jsx)(f().A,{style:k().k,onClick:C,children:(0,_.jsx)(a().sA,{defaultMessage:"Save position",id:"pageCover.savePosition.text"})}),o&&!N&&(0,_.jsx)(f().A,{style:{...k().k,borderRight:"none"},onClick:s,children:(0,_.jsx)(a().sA,{defaultMessage:"Cancel",id:"pageCover.reposition.cancelText"})})]})})}},201147:(e,t,o)=>{o.d(t,{Fe:()=>i,wm:()=>a});const n={property_number:!0,property_title:!0,property_person:!0,property_file:!0,property_text:!0,property_checkbox:!0,property_url:!0,property_email:!0,property_phone_number:!0,property_created_by:!0,property_last_edited_by:!0,property_button:!0,property_select:!0,property_multi_select:!0,property_status:!0,property_date:!0,property_created_time:!0,property_last_edited_time:!0,property_last_visited_time:!0,property_relation:!0,property_rollup:!0,property_formula:!0,property_auto_increment_id:!0,property_location:!0,property_verification:!0,property_geo_point:!0,deleted_property:!1,relationsGroup:!0,formSubmit:!0,formQuestion:!0,formTitle:!0,placeholder:!0,transcript:!0,cover:!1,normalizedTitleWithIcon:!1,properties:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,views:!0,viewsMain:!1,recentActivity:!1,collaborators:!1,teamspaces:!1},r={property_number:!0,property_title:!0,property_person:!0,property_file:!0,property_text:!0,property_checkbox:!0,property_url:!0,property_email:!0,property_phone_number:!0,property_created_by:!0,property_last_edited_by:!0,property_button:!0,property_select:!0,property_multi_select:!0,property_status:!0,property_date:!0,property_created_time:!0,property_last_edited_time:!0,property_last_visited_time:!0,property_relation:!0,property_rollup:!0,property_formula:!0,property_auto_increment_id:!0,property_location:!0,property_verification:!0,property_geo_point:!0,deleted_property:!1,formSubmit:!1,formQuestion:!1,formTitle:!1,placeholder:!1,transcript:!1,cover:!1,normalizedTitleWithIcon:!1,properties:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,relationsGroup:!0,editor:!1,views:!1,viewsMain:!1,recentActivity:!1,collaborators:!1,teamspaces:!1};function i(e){return n[e.type]}function a(e){return r[e.type]}},277013:(e,t,o)=>{o.d(t,{$:()=>p,S:()=>c});var n=()=>o(803290),r=()=>o(174114),i=()=>o(782422),a=()=>o(48913),s=()=>o(755648),l=()=>o(566255);function p(e){const{environment:t,rightEdgeDistance:o,isInPeekRenderer:p}=e,d=e.width??36,u=(0,n().K8)((()=>(0,a().zo)(t,p)-(0,a().Ql)(t)),[t,p]),m=(0,n().K8)((()=>c(t,16+s().A.state)),[t]),y=(0,n().K8)((()=>o+s().A.state),[o]),g=(0,n().K8)((()=>i().$o.state?0:1),[]);return(0,r().IS)((e=>({buttonPositionStyle:{display:"flex",position:"absolute",bottom:m,right:y,opacity:g,transform:`translateX(-${u}px) translateZ(0)`,transition:`\n\t\t\t\t\topacity ${l().L}ms,\n\t\t\t\t\tcolor ${l().L}ms,\n\t\t\t\t\ttransform 200ms\n\t\t\t\t`,alignItems:"center",gap:10},roundButtonStyle:{display:"flex",alignItems:"center",justifyContent:"center",background:e.whiteButtonBackground,width:d,height:d,borderRadius:"100%",fontSize:20,boxShadow:e.shadowSM}})),[u,m,y,d,g])}function c(e,t){return e.WindowSizeStore.getSafePaddingBottomCSS(t+(e.device.isTablet?-12:0))}},305948:(e,t,o)=>{o.d(t,{eJ:()=>g,ew:()=>y,ml:()=>c,rA:()=>u,yI:()=>m,zf:()=>d});o(403517);var n=()=>o(975392),r=()=>o(76394),i=()=>o(61014),a=()=>o(86335),s=()=>o(479056),l=()=>o(465546);function p(e){switch(e){case"checkbox":return"boolean";case"number":return"number";case"text":return"text";case"date":return"date";case"array":return"array";case"block":return"block";case"person":return"person";case"select":return"select";case"function":return"function";case"unknown":return"unknown";case"undefined":return"undefined";default:(0,r().HB)(e)}}function c(e){switch(e.type){case s().M9.InvalidCharacter:return{...a().x0.InvalidCharacter,values:{errorCharacter:e.character}};case s().M9.UnclosedStringLiteral:return a().x0.UnclosedStringLiteral;case s().M9.UnclosedComment:return a().x0.UnclosedComment;case s().M9.TokenExpected:return{...a().x0.TokenExpected,values:{expectedToken:e.token}};case s().M9.StringLiteralContainsToken:return a().x0.StringLiteralContainsToken;case s().M9.ExpressionExpected:return a().x0.ExpressionExpected;case s().M9.PropertyTokenOrFunctionExpected:return a().x0.PropertyTokenOrFunctionExpected;case s().M9.EndOfInputExpected:return a().x0.EndOfInputExpected;case s().M9.UnexpectedError:return a().x0.UnexpectedError;case s().M9.TooDeeplyNested:return a().x0.TooDeeplyNested;default:(0,r().HB)(e)}}function d(e){switch(e.type){case s().IA.FunctionCallArgumentWrongType:case s().IA.FunctionCallUnexpectedArgument:return e.argument;default:return e.node}}function u(e,t){let o;switch(t.type){case s().IA.ThisRowTypeNotFound:o=a().Xz.ThisRowTypeNotFound;break;case s().IA.ThisRowNotBlockWithCollection:o=a().Xz.ThisRowNotBlockWithCollection;break;case s().IA.MissingPropertyOnThisRow:o={...a().Xz.MissingPropertyOnThisRow,values:{propertyName:t.property}};break;case s().IA.MissingContextVariable:{const e=(0,l().ix)(t.token)?t.token.contextValueId:t.token.valueId;o={...a().Xz.MissingContextVariable,values:{valueId:e}}}break;case s().IA.MissingBlock:o={...a().Xz.MissingBlock,values:{blockId:t.token.blockId}};break;case s().IA.CallingNotFunction:o={...a().Xz.CallingNotFunction,values:{expressionType:p(t.callee.type.type)}};break;case s().IA.FunctionCallTooFewArguments:o={...a().Xz.FunctionCallTooFewArguments,values:{minNumParameters:t.minNumParameters,functionName:t.libraryFunction.name,numArguments:t.numArguments}};break;case s().IA.FunctionCallUnexpectedArgument:o={...a().Xz.FunctionCallUnexpectedArgument,values:{functionName:t.libraryFunction.name}};break;case s().IA.FunctionCallArgumentWrongType:o={...a().Xz.FunctionCallArgumentWrongType,values:{argumentType:p(t.argument.type.type),functionName:t.libraryFunction.name}};break;case s().IA.MemberPropertyMismatchCollection:o={...a().Xz.MemberPropertyMismatchCollection,values:{propertyName:t.token.property}};break;case s().IA.MemberPropertyMissing:o={...a().Xz.MemberPropertyMissing,values:{propertyName:t.property}};break;case s().IA.MemberPropertyTargetNotBlock:o=a().Xz.MemberPropertyTargetNotBlock;break;case s().IA.MemberPropertyTypeInvalid:o={...a().Xz.MemberPropertyTypeInvalid,values:{propertyName:t.propertyName,propertyType:t.propertyType}};break;case s().IA.UndefinedIdentifier:o={...a().Xz.UndefinedIdentifier,values:{identifier:t.node.text}};break;case s().IA.UnifiedFunctionCannotFindFunction:o={...a().Xz.UnifiedFunctionCannotFindFunction,values:{functionName:t.name}};break;case s().IA.UnifiedFunctionNoArguments:o={...a().Xz.UnifiedFunctionNoArguments,values:{functionName:t.libraryFunction.name}};break;case s().IA.UnifiedFunctionTargetWrongType:o={...a().Xz.UnifiedFunctionTargetWrongType,values:{functionName:t.libraryFunction.name,targetType:p(t.expression.type.type)}};break;case s().IA.CannotRelativelyCompareTypes:o={...a().Xz.CannotRelativelyCompareTypes,values:{lhsType:p(t.lhsType.type),rhsType:p(t.rhsType.type)}};break;case s().IA.CannotDoMathOnType:o={...a().Xz.CannotDoMathOnType,values:{lhsType:p(t.lhsType.type),rhsType:p(t.rhsType.type)}};break;case s().IA.UnaryMinusOnNonNumber:o={...a().Xz.UnaryMinusOnNonNumber,values:{type:p(t.expression.type.type)}};break;case s().IA.IdentifierExpected:o=a().Xz.IdentifierExpected;break;case s().IA.FunctionCallExpected:o={...a().Xz.FunctionCallExpected,values:{functionName:t.functionName}};break;case s().IA.RenamedIdentifier:o={...a().Xz.RenamedIdentifier,values:{identifier:t.identifier,renamedTo:t.renamedTo}};break;case s().IA.RemovedFunction:o={...a().Xz.RemovedFunction,values:{functionName:t.functionName,alternative:t.alternative}};break;case s().IA.ContextVariableNotBlockWithCollection:o={...a().Xz.ContextVariableNotBlockWithCollection,values:{valueId:t.token.contextValueId}};break;case s().IA.MissingPropertyOnContextVariable:o={...a().Xz.MissingPropertyOnContextVariable,values:{propertyName:t.property,valueId:t.token.contextValueId}};break;case s().IA.BlockPropertyTypeInvalid:o={...a().Xz.BlockPropertyTypeInvalid,values:{propertyName:t.propertyName}};break;case s().IA.DisallowedReturnType:{const n=t.allowedReturnTypes.map((t=>e.formatMessage((0,i().getHumanReadableType)(t)).toLocaleLowerCase()));o={...a().Xz.DisallowedReturnType,values:{allowedReturnType:e.formatList(n,{style:"long",type:"conjunction"}),allowedReturnTypeCount:t.allowedReturnTypes.length,returnType:e.formatMessage((0,i().getHumanReadableType)(t.returnType)).toLocaleLowerCase()}};break}case s().IA.CrossSpacePropertyNotSupported:o={...a().Xz.CrossSpacePropertyNotSupported};break;default:(0,r().HB)(t)}return{...o,values:{...o.values,startOffset:t.node.startOffset,endOffset:t.node.endOffset+1}}}function m(e,t){let o;switch(t.type){case s().uW.MissingThisRow:o=a().X8.MissingThisRow;break;case s().uW.MissingSchemaPropertyOnThisRow:o={...a().X8.MissingSchemaPropertyOnThisRow,values:{propertyName:t.property}};break;case s().uW.ThisRowBlockPropertyMismatchCollection:o=a().X8.ThisRowBlockPropertyMismatchCollection;break;case s().uW.MissingContextVariable:o={...a().X8.MissingContextVariable,values:{valueId:t.valueId}};break;case s().uW.IdentifierNotFound:o={...a().X8.IdentifierNotFound,values:{identifier:t.node.text}};break;case s().uW.CannotRelativelyCompareTypes:o={...a().X8.CannotRelativelyCompareTypes,values:{lhsType:p(t.lhsType),rhsType:p(t.rhsType)}};break;case s().uW.CannotDoMathOnType:o={...a().X8.CannotDoMathOnType,values:{valueType:p(t.valueType)}};break;case s().uW.CannotCallNonFunction:o={...a().X8.CannotCallNonFunction,values:{calleeType:p(t.calleeType)}};break;case s().uW.UnifiedFunctionPropertyNotFound:o={...a().X8.UnifiedFunctionPropertyNotFound,values:{functionName:t.node.name}};break;case s().uW.LibraryFunctionExecutionError:const n=t.error instanceof s().x4?t.error:void 0;o=(null==n?void 0:n.info.type)===s().v3.DateInvalidDurationUnit?{...a().gW.DateInvalidDurationUnit,values:{functionName:t.libraryFunction.name,invalidUnit:n.info.invalidUnit}}:(null==n?void 0:n.info.type)===s().v3.CannotUseToNumberOnList?{...a().gW.CannotUseToNumberOnList}:(null==n?void 0:n.info.type)===s().v3.CannotRoundToNonInteger?{...a().gW.CannotRoundToNonInteger,values:{precision:n.info.precision}}:(null==n?void 0:n.info.type)===s().v3.CannotRoundToTooManyDecimalPlaces?{...a().gW.CannotRoundToTooManyDecimalPlaces,values:{precision:n.info.precision}}:{...a().X8.LibraryFunctionExecutionError,values:{functionName:t.libraryFunction.name}};break;case s().uW.FunctionCallTooFewArguments:o={...a().X8.FunctionCallTooFewArguments,values:{functionName:t.libraryFunction.name}};break;case s().uW.FunctionCallUnexpectedArgument:o={...a().X8.FunctionCallUnexpectedArgument,values:{functionName:t.libraryFunction.name}};break;case s().uW.FunctionCallArgumentWrongType:o={...a().X8.FunctionCallArgumentWrongType,values:{functionName:t.libraryFunction.name,argumentType:p(t.argumentType)}};break;case s().uW.AccessingPropertyOnNonBlock:o=a().X8.AccessingPropertyOnNonBlock;break;case s().uW.MissingDataDependencyBlock:o={...a().X8.MissingDataDependencyBlock,values:{blockId:t.blockPointer.id}};break;case s().uW.MissingDataDependencyPerson:o={...a().X8.MissingDataDependencyPerson,values:{personId:t.personPointer.id}};break;case s().uW.MemberPropertyMismatchCollection:o=a().X8.MemberPropertyMismatchCollection;break;case s().uW.MissingPropertyOnSchemaForMemberProperty:o=a().X8.MissingPropertyOnSchemaForMemberProperty;break;case s().uW.UnaryMinusOnNonNumber:o={...a().X8.UnaryMinusOnNonNumber,values:{expressionType:p(t.expressionType)}};break;case s().uW.UnexpectedRecoveryNode:o=a().X8.UnexpectedRecoveryNode;break;case s().uW.UnexpectedError:o=a().X8.UnexpectedError;break;case s().uW.DepthExceeded:o=a().X8.DepthExceeded;break;case s().uW.CycleDetected:o=a().X8.CycleDetected;break;case s().uW.DownstreamParseFailure:o=a().X8.DownstreamParseFailure;break;case s().uW.MaxEvaluationTimeExceeded:o=a().X8.MaxEvaluationTimeExceeded;break;case s().uW.MissingSchemaPropertyOnCollection:o={...a().X8.MissingSchemaPropertyOnCollection,values:{collectionId:t.collectionId,propertyName:t.property}};break;case s().uW.ContextVariableWrongType:o={...a().X8.ContextVariableWrongType,values:{expectedType:t.expectedType,propertyType:t.resultType,valueId:t.valueId}};break;case s().uW.DisallowedValueType:{const n=t.allowedValueTypes.map((t=>e.formatMessage((0,i().getHumanReadableType)(t)).toLocaleLowerCase()));o={...a().Xz.DisallowedReturnType,values:{allowedValueType:e.formatList(n,{style:"long",type:"conjunction"}),allowedValueTypeCount:t.allowedValueTypes.length,valueType:e.formatMessage((0,i().getHumanReadableValueType)(t.expressionValue)).toLocaleLowerCase()}};break}default:(0,r().HB)(t)}return(0,l().li)(t)?{...o,values:{...o.values,startOffset:t.node.startOffset,endOffset:t.node.endOffset+1}}:o}function y(e){const t=null==e?void 0:e.values;return[n().cJ(e,"values"),t]}function g(e){return e.type===s().uW.DepthExceeded||e.type===s().uW.CycleDetected||e.type===s().uW.MaxEvaluationTimeExceeded||e.type===s().uW.LibraryFunctionExecutionError}},310085:(e,t,o)=>{o.d(t,{A:()=>m,z:()=>u});var n=o(242343),r=()=>o(803290),i=()=>o(653998),a=()=>o(437071),s=()=>o(951540),l=()=>o(927685),p=()=>o(485966),c=()=>o(313067),d=o(163643);const u=(0,i().YK)({getNotionCalendar:{id:"notionCalendarLaunchButton.getNotionCalendar",defaultMessage:"Get Notion Calendar"},downloadApp:{id:"notionCalendarLaunchButton.downloadApp",defaultMessage:"Download app"},openCalendar:{id:"notionCalendarLaunchButton.openCalendar",defaultMessage:"Open Calendar"}});const m=function(e){let{style:t,openCalendarFrom:m,getNotionCalendarFrom:y,onOpenCalendarClick:g,onGetNotionCalendarClick:v,onDownloadClick:f}=e;const C=(0,o(237385).v3)(),h=(0,o(174114).IS)((e=>({button:{marginLeft:8,whiteSpace:"nowrap",...t}})),[t]),b=(0,r().K8)((()=>(0,o(181301).mX)()),[]),_=(0,r().K8)((()=>p().default.state.currentSpaceStore&&(0,o(548694).dT)({env:"production",spaceStore:p().default.state.currentSpaceStore})),[]),[{value:x}]=(0,o(162901).Yb)((async()=>{var e;return!(null===(e=a().electronApi)||void 0===e||!e.isProtocolRegistered)&&a().electronApi.isProtocolRegistered(l().A.calendar.desktopProtocol)}),[]),k=(0,n.useCallback)((()=>{c().Op({environment:C,spaceStore:void 0,collectionViewStore:void 0,from:m}),null==g||g()}),[C,m,g]),A=(0,n.useCallback)((()=>{const{currentUserSettingsStore:e,currentSpaceStore:t}=p().default.state;e&&t&&(c().Op({environment:C,spaceStore:t,collectionViewStore:void 0,from:y}),null==v||v())}),[C,y,v]),M=(0,n.useCallback)((()=>{o(110975).f({environment:C,url:l().A.calendar.downloadUrl}),null==f||f()}),[C,f]);return C.device.isElectron?x?(0,d.jsx)(s().A,{style:h.button,size:"lg",onClick:k,children:(0,d.jsx)(i().sA,{...u.openCalendar})}):(0,d.jsx)(s().A,{style:h.button,size:"lg",onClick:M,children:(0,d.jsx)(i().sA,{...u.downloadApp})}):b||_?(0,d.jsx)(s().A,{style:h.button,size:"lg",onClick:k,children:(0,d.jsx)(i().sA,{...u.openCalendar})}):(0,d.jsx)(s().A,{style:h.button,color:"black",size:"lg",onClick:A,children:(0,d.jsx)(i().sA,{...u.getNotionCalendar})})}},343833:(e,t,o)=>{o.d(t,{Lj:()=>s,W2:()=>l,xw:()=>a});var n=()=>o(427091),r=()=>o(84543),i=()=>o(658388);function a(e){const{environment:t,userSettingsStore:o}=e,r=o.getSettings(),i=null==r?void 0:r.time_zone,a=(0,n().P)();i!==a&&s({environment:t,userSettingsStore:o,timeZone:a})}function s(e){const{environment:t,userSettingsStore:o,timeZone:n}=e;r().createAndCommit({userAction:"checkUserTimeZoneAction.updateTimeZone",environment:t,canUndo:!0,perform:e=>{i().mJ({userSettingsStore:o,transaction:e,data:{time_zone:n}})},userId:o.id})}function l(e){const{environment:t,userSettingsStore:o,disableAutoSetTimezone:n}=e;r().createAndCommit({userAction:"checkUserTimeZoneAction.updateDisableAutoSetTimezone",environment:t,canUndo:!0,perform:e=>{i().mJ({userSettingsStore:o,transaction:e,data:{disable_auto_set_timezone:n}})},userId:o.id})}},377403:(e,t,o)=>{o.d(t,{W:()=>i});var n=()=>o(803290),r=()=>o(950347);function i(){return(0,n().K8)((()=>(0,r().M5)()),[])}},421777:(e,t,o)=>{o.d(t,{u:()=>r});o(242343);var n=o(163643);const r=(0,o(680369).wt)("notionCalendarLogo",{viewBox:"0 0 20 21",svg:(0,n.jsxs)("svg",{width:"20",height:"21",viewBox:"0 0 20 21",fill:"none",children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_970_53429)",children:[(0,n.jsx)("path",{d:"M2.17141 17.1924C1.81019 17.1884 1.48919 17.0958 1.23979 16.8633C1.23979 16.8633 1.23899 16.8633 1.23819 16.8617C1.20922 16.8336 1.18187 16.8046 1.15613 16.7756C0.959022 16.5504 0.852023 16.2615 0.852023 15.9494L0.849609 3.0915C0.849609 2.34732 1.47712 1.67957 2.21968 1.63371L15.0636 0.838839C15.0918 0.83723 15.1191 0.836426 15.1473 0.836426C15.4683 0.836426 15.7675 0.952277 15.996 1.16789C16.0274 1.19766 16.0572 1.22823 16.0845 1.26041C16.1585 1.34488 16.2197 1.43821 16.268 1.53877C16.2205 1.43901 16.1585 1.34569 16.0845 1.26121C16.2768 1.48487 16.3822 1.76967 16.3822 2.07861V2.40766C16.3822 2.40766 16.3902 2.67717 16.1231 2.69487L16.1247 2.69648L4.3114 3.43664C3.44494 3.49055 2.741 4.24117 2.741 5.10925C2.741 5.10925 2.73617 16.9768 2.73537 16.9961C2.72652 17.1924 2.56481 17.1924 2.43127 17.1924H2.17141Z",fill:"black"}),(0,n.jsx)("path",{d:"M19.1589 18.1882C19.1589 18.2075 19.1573 18.2269 19.1556 18.2462C19.1275 18.6589 18.7984 19.0225 18.3938 19.0973C18.3857 19.0973 18.3777 19.0998 18.3696 19.0998L4.66812 19.9292H4.62548C4.35758 19.9155 4.10979 19.8126 3.91671 19.6307C3.7003 19.4272 3.57882 19.1488 3.56997 18.8439C3.56997 18.8319 3.56836 18.8198 3.56836 18.8069V5.19278C3.56836 5.17347 3.56836 5.15497 3.56997 5.13566C3.59974 4.6988 3.96498 4.31746 4.40102 4.2724C4.41229 4.2724 4.42355 4.26919 4.43481 4.26838L17.5531 3.44616L18.1436 3.40915C18.1653 3.40754 18.187 3.40674 18.2087 3.40674C18.4557 3.40674 18.6858 3.49604 18.862 3.66097C18.9851 3.77601 19.072 3.92002 19.1186 4.08012C19.1388 4.14851 19.1508 4.22011 19.1556 4.29332V13.1785L19.1589 18.1874V18.1882Z",fill:"black"}),(0,n.jsx)("path",{d:"M20.001 4.36907C20.001 3.86302 19.8023 3.3972 19.4402 3.0577C19.0782 2.71819 18.6011 2.54763 18.0967 2.57981L17.3928 2.62245C17.2166 2.62808 17.2246 2.49212 17.2246 2.49212V2.08583C17.2246 1.49692 16.9929 0.955478 16.5722 0.560458C16.1514 0.165437 15.5955 -0.0324757 15.009 0.00372785L2.16349 0.798596C0.97121 0.872612 0.000976562 1.90482 0.000976562 3.09953L0.00339008 15.9574C0.00339008 16.5455 0.235088 17.0878 0.655844 17.4836C1.04442 17.8488 1.54724 18.0468 2.08465 18.0468C2.12889 18.0468 2.55448 18.0387 2.55448 18.0387C2.70975 18.0387 2.73549 18.1103 2.73549 18.2439V18.9012C2.73549 19.4289 2.94547 19.9157 3.32278 20.2705C3.67113 20.5979 4.12246 20.7749 4.60436 20.7749C4.62366 20.7749 4.64217 20.7733 4.66148 20.7733C4.67113 20.7733 4.67998 20.7749 4.68963 20.7749C4.73147 20.7749 4.7733 20.7733 4.81594 20.7709L18.3477 19.9519C18.4081 19.9478 18.4668 19.9406 18.5255 19.931C19.3461 19.8304 19.9994 19.1071 19.9994 18.2728L19.9978 18.2648C19.9978 18.2415 20.001 18.2181 20.001 18.1948V4.36907ZM2.17153 17.1996C1.81031 17.1956 1.48931 17.1031 1.23991 16.8705C1.23991 16.8705 1.23911 16.8705 1.23831 16.8689C1.20934 16.8408 1.18199 16.8118 1.15625 16.7829C0.959142 16.5576 0.852143 16.2688 0.852143 15.9566L0.84973 3.09873C0.84973 2.35454 1.47724 1.68679 2.2198 1.64093L15.0637 0.846063C15.0919 0.844454 15.1192 0.84365 15.1474 0.84365C15.4684 0.84365 15.7677 0.959501 15.9961 1.17511C16.0275 1.20488 16.0573 1.23545 16.0846 1.26763C16.1587 1.35211 16.2198 1.44543 16.2681 1.546C16.2206 1.44624 16.1587 1.35291 16.0846 1.26844C16.2769 1.49209 16.3823 1.7769 16.3823 2.08583V2.41488C16.3823 2.41488 16.3904 2.6844 16.1233 2.7021L16.1249 2.70371L4.31152 3.44387C3.44506 3.49777 2.74112 4.24839 2.74112 5.11647C2.74112 5.11647 2.73629 16.984 2.73549 17.0033C2.72664 17.1996 2.56493 17.1996 2.43139 17.1996H2.17153ZM19.1635 18.1948C19.1635 18.2141 19.1619 18.2334 19.1603 18.2527C19.1321 18.6654 18.8031 19.0291 18.3984 19.1039C18.3904 19.1039 18.3823 19.1063 18.3743 19.1063L4.67274 19.9358H4.6301C4.3622 19.9221 4.11441 19.8191 3.92133 19.6373C3.70492 19.4338 3.58344 19.1554 3.57459 18.8505C3.57459 18.8384 3.57298 18.8263 3.57298 18.8135V5.19934C3.57298 5.18003 3.57298 5.16152 3.57459 5.14221C3.60436 4.70536 3.9696 4.32402 4.40564 4.27896C4.41691 4.27896 4.42817 4.27574 4.43943 4.27494L17.5577 3.45272L18.1482 3.41571C18.1699 3.4141 18.1916 3.4133 18.2134 3.4133C18.4603 3.4133 18.6904 3.5026 18.8666 3.66752C18.9897 3.78257 19.0766 3.92658 19.1233 4.08668C19.1434 4.15507 19.1554 4.22667 19.1603 4.29988V13.185L19.1635 18.194V18.1948Z",fill:"white"}),(0,n.jsx)("path",{d:"M17.1877 17.7582L5.7163 18.426C5.24727 18.459 4.83215 18.2997 4.84502 17.685V8.11764C4.84502 7.7894 5.11533 7.57942 5.4138 7.56413L17.3398 6.84891C17.6375 6.83362 17.8812 7.04924 17.8812 7.34771V16.932C17.8812 17.2828 17.7935 17.7341 17.1901 17.7574H17.1885L17.1877 17.7582Z",fill:"white"}),(0,n.jsx)("path",{d:"M8.39759 10.4651C7.83685 10.4997 7.64699 10.9277 7.64779 11.5858V11.7016C7.58102 11.7177 7.5247 11.7322 7.45712 11.7362C7.05326 11.7612 6.76203 11.4329 6.76123 10.844C6.76042 9.94293 7.56654 9.09577 9.10234 9.00003C10.47 8.91475 11.3453 9.57607 11.3469 10.7426C11.3469 11.6204 10.6196 12.2439 9.90282 12.4386C11.248 12.5045 11.8095 13.2551 11.8111 14.2141C11.8127 15.8546 10.614 16.7838 8.76445 16.8988L8.71939 16.9012C7.32921 16.9881 6.35334 16.4596 6.35254 15.5472C6.35254 15.0275 6.73227 14.5882 7.30427 14.552C7.34932 14.5488 7.39357 14.5577 7.43862 14.5553C7.55206 15.4837 8.18037 15.8256 8.80789 15.787C9.41288 15.7492 9.83846 15.3413 9.83846 14.7636V14.7403C9.83766 13.8392 9.08625 13.7942 7.9535 13.7491L7.77329 12.6743C8.8272 12.4812 9.35334 12.1369 9.35254 11.5134C9.35254 10.8432 8.98166 10.4273 8.3984 10.4643H8.39759V10.4651Z",fill:"black"}),(0,n.jsx)("path",{d:"M13.4544 10.0227C12.3338 10.3469 12.0868 9.85373 12.2091 9.33803C12.8816 9.18034 14.6298 8.65579 15.2911 8.41846L15.2992 15.3374L16.5212 15.5152C16.5212 15.9657 16.2638 16.2473 15.8044 16.2762C15.4231 16.2996 14.5373 16.3317 14.1117 16.3583C13.4504 16.3993 12.2396 16.4983 12.2396 16.4983C12.2058 16.4082 12.1946 16.3165 12.1946 16.2352C12.1946 16.0156 12.2839 15.7903 12.5751 15.6913L13.4601 15.4049L13.4536 10.0227H13.4544Z",fill:"black"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_970_53429",children:(0,n.jsx)("rect",{width:"20",height:"20.7752",fill:"white"})})})]})})},470414:(e,t,o)=>{o.d(t,{A:()=>c});o(725707),o(491955),o(403517),o(229032);var n=o(242343),r=()=>o(174114),i=()=>o(755002),a=()=>o(31448),s=()=>o(551116),l=o(163643);function p(e){const{button:t,isLast:o}=e,s=(0,r().IS)((e=>({button:{display:"flex",alignItems:"center",padding:"4px 6px",fontWeight:a().Wy.medium,borderRight:`1px solid ${e.regularDividerColor}`,color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor},buttonLast:{borderRight:"none"},buttonHovered:{background:e.whiteButtonHoveredBackground},buttonPressed:{background:e.whiteButtonPressedBackground}})),[]);return n.cloneElement(t,{...(0,i().AH)(t.props.style,s.button,o&&s.buttonLast),hoveredStyle:(0,i().AH)(s.buttonHovered,o&&s.buttonLast).style,pressedStyle:s.buttonPressed})}const c=function(e){let{children:t,isVisible:c,position:d,style:u}=e;const m=(0,o(237385).v3)(),y=(0,r().IS)((e=>({container:{color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor,fontSize:12,background:e.whiteButtonBackground,boxShadow:e.shadowSM,display:"flex",whiteSpace:"nowrap",borderRadius:s().A.borderRadius,maxWidth:"calc(100% - 16px)",minHeight:24,overflow:"hidden",pointerEvents:m.device.isMobile?"auto":"none",opacity:m.device.isMobile?1:0,fontFamily:a().vc(o(16791).locale).sans,position:"absolute",right:s().A.horizontal.small,bottom:s().A.vertical.small,zIndex:2},containerHover:{pointerEvents:"auto",opacity:1},containerTop:{top:s().A.vertical.small,bottom:void 0}})),[m]),g=n.Children.toArray(t).filter(o(76394).O9),v=g.length;return(0,l.jsx)(o(615917).A,{animate:{opacity:c?1:0},...(0,i().AH)(y.container,u,c&&y.containerHover,"top"===d&&y.containerTop),children:g.map(((e,t)=>{const r=t===v-1;if(e&&"object"==typeof e&&"type"in e){if(e.type===o(103151).A&&n.isValidElement(e))return n.cloneElement(e,{render:(t,o)=>{const n=e.props.render(t,o);return(0,l.jsx)(p,{isLast:r,button:n},e.key)}});if(e.type===o(126451).A&&n.isValidElement(e))return(0,l.jsx)(p,{isLast:r,button:e},e.key)}}))})}},472951:(e,t,o)=>{o.d(t,{k:()=>r});o(403517);class n extends(()=>o(129044))().default{getInitialState(){}waitUntilLoaded(){return this.waitUntil((()=>Boolean(this.state)))}getSortedUserIds(){return Object.entries(this.state||{}).sort(((e,t)=>{let[o,n]=e,[r,i]=t;return i-n})).map((e=>{let[t,o]=e;return t}))}}const r=new n;(0,o(996094).exposeDebugValue)("UserSimilarityStore",r)},477267:(e,t,o)=>{o.r(t),o.d(t,{deleteViewsModuleDependencies:()=>a});var n=()=>o(496580),r=()=>o(795394),i=()=>o(413871);function a(e){const{layoutStore:t,viewsModule:o,transaction:a}=e,s=(0,n().o9)(i().Bv.createChildStore(t,o.collection_view_block_pointer));r().zz({childStore:s,parentStore:t,transaction:a})}},508026:(e,t,o)=>{o.r(t),o.d(t,{alarmIcon:()=>i,iconDefinition:()=>r});o(242343);var n=o(163643);const r={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M5.791 1.886a.625.625 0 1 0-.801-.96L2.138 3.31a.625.625 0 1 0 .802.96zm4.834 3.839a.625.625 0 1 0-1.25 0v3.65H6.4a.625.625 0 0 0 0 1.25H10c.345 0 .625-.28.625-.625z"}),(0,n.jsx)("path",{d:"M10 2.375a7.625 7.625 0 1 0 0 15.25 7.625 7.625 0 0 0 0-15.25M3.625 10a6.375 6.375 0 1 1 12.75 0 6.375 6.375 0 0 1-12.75 0M14.13 1.006a.625.625 0 0 0 .079.88l2.851 2.383a.625.625 0 1 0 .802-.96L15.01.927a.625.625 0 0 0-.88.079"})]})},i=(0,o(680369).wt)("alarm",r)},601178:(e,t,o)=>{o.d(t,{EG:()=>a,K5:()=>i,RH:()=>r,Yi:()=>s,ls:()=>n});const n=32,r=202,i=1e3,a="Want to add a metric? Look for 'src/client/performanceToolbar/config.ts' in notion-next.",s="To disable the toolbar entirely, go to the 'Experiments' panel and look for the 'performance_debugging_toolbar' flag."},652039:(e,t,o)=>{o.d(t,{Ay:()=>l,Gi:()=>i,Wc:()=>n,pF:()=>a,vS:()=>r});const n="loadingLocalImage",r="uploading",i="downloading",a="loaded";class s extends(()=>o(129044))().default{getInitialState(){return{loadingMode:a}}}const l=s},883249:(e,t,o)=>{o.d(t,{A:()=>n});const n=new(o(652039).Ay)},925701:(e,t,o)=>{o.d(t,{AC:()=>i,dE:()=>s,Nw:()=>l,tn:()=>a});var n=()=>o(137476);const r=new(o(380123).R)({key:"offline_autosync_setting",namespace:o(146325).cd,important:!0,trackingType:"necessary"});function i(){return"on"===r.getState()}function a(e){let{environment:t}=e;const o=i()?"off":"on";(0,n().u4)({environment:t,event:{eventName:"offline_autosyncing_toggled",eventProperties:{toggle_status:o}}}),r.setState(o)}function s(){return r.getState()}function l(e){r.setState(e)}},933871:(e,t,o)=>{o.d(t,{U:()=>u});o(610931);var n=()=>o(543396),r=()=>o(827875),i=()=>o(33715),a=()=>o(846287),s=()=>o(201147),l=()=>o(946854),p=()=>o(84543),c=()=>o(272690),d=()=>o(477267);function u(e){let{environment:t,transaction:o,layoutStore:u,position:m,sessionId:y,beforePerformDeleteModule:g}=e;const v=u.getModules();if(!v)throw new Error("[deleteModuleAtPosition] modules by area not found for layout store");const f=(0,a().EX)(v,(e=>e.id===m.moduleId)),C=(0,n().Cg)({moduleId:null==f?void 0:f.module.id,modulesByArea:u.getModules()}).length;if(!f)return;const{module:h,position:b}=f;if(!(0,s().Fe)(h))throw new Error("[deleteModuleAtPosition] module to delete is not removeable");var _;(p().createAndCommitOrAppend({environment:t,transaction:o,canUndo:!0,perform(e){!function(e){const{transaction:t,layoutStore:o,moduleLocation:n,moduleToDelete:a,beforePerformDeleteModule:s}=e;s&&s(t);(0,l().V6)(a)&&(0,d().deleteViewsModuleDependencies)({layoutStore:o,viewsModule:a,transaction:t});if("form_conditional_modules"===n.area){const e=r().N4.removeChildModule({pointer:o.pointer,modulesByArea:o.getModules(),module:a});for(const n of e)p().applyOperation({transaction:t,store:o,operation:n})}else{const e="views_main_tab_modules"===n.area?{area:n.area,viewId:n.viewId}:{area:i().Zm[n.area]};p().applyOperation({transaction:t,store:o,operation:r().N4.deleteModuleInArea({...e,pointer:o.pointer,moduleId:a.id})})}}({environment:t,transaction:e,layoutStore:u,moduleLocation:b,moduleToDelete:h,beforePerformDeleteModule:g})},userAction:"pageLayout.deleteActions.deleteModuleAtPosition"}),y)&&c().PS({environment:t,module:h,sessionId:y,collectionId:null===(_=u.getCollectionModel())||void 0===_?void 0:_.id,layoutId:u.id,context:(0,i().We)(m.area),area:m.area,depth:C})}},942260:(e,t,o)=>{o.r(t),o.d(t,{default:()=>r});class n extends(()=>o(129044))().default{getInitialState(){return{discussionIdToExpansionStartPointMap:{}}}}const r=new n},982717:(e,t,o)=>{o.d(t,{A:()=>v});var n=o(242343),r=()=>o(16791),i=()=>o(237385),a=()=>o(803290),s=()=>o(755002),l=()=>o(653998),p=()=>o(220413),c=()=>o(975392),d=()=>o(31448),u=()=>o(141666),m=()=>o(615917),y=o(163643);const g={isRepositioning:!1};const v=function(e){const t=(0,n.useRef)(null),r=(0,i().v3)(),{isMobile:l}=(0,i().Y0)(),[p,d]=(0,n.useState)(g),m=(0,n.useCallback)((()=>{d(g)}),[]),{renderControl:v,onFlushTemporaryPosition:C,style:h,source:b,store:_}=e,{isRepositioning:x,image:k,startDragRenderedPosition:A,startDragImageScreenHeight:M}=p,T=(0,a().K8)((()=>0===o(182613).default.state.stores.length),[]),[w,S]=(0,n.useState)(!1),I=(0,a().uB)(e.mouseStore,o(116586).A),P=(0,a().K8)((()=>I.state.mouseEntered),[I]),L=(0,o(174114).IS)((()=>({dragContainer:{width:"100%",cursor:x?"move":"inherit"},container:{position:"relative",width:"100%",zIndex:1}})),[x]),F=(0,a().K8)((()=>function(e,t,o){return(0,c().Et)(o)?o:function(e,t){if("gallery"===e||"board"===e){const e=t.getFormat().card_cover_position;if((0,c().Et)(e))return e}const o=.5;if(t.isCollectionView()){const e=t.getCollectionStore();if(e){const t=e.getFormat().collection_cover_position;return(0,u().pN)(t)?o:t}}const n=t.getFormat(),r=n.page_cover_position;if((0,c().Et)(r))return r;return o}(e,t)}(b,_,p.temporaryPosition)),[p.temporaryPosition,b,_]);(0,n.useEffect)((()=>{const e=e=>{const o=t.current;o&&!o.contains(e.target)&&x&&C({imagePosition:F,reset:()=>{I.reset(),m()}})};return window.addEventListener("mousedown",e),()=>window.removeEventListener("mousedown",e)}),[F,x,I,C,m]),x&&!T&&m();const R=(0,n.useMemo)((()=>(0,c().nF)((e=>{I.setState({...I.state,mouseEntered:!0})}),100)),[I]),W=(0,n.useMemo)((()=>(0,c().sg)((e=>{I.setState({...I.state,mouseEntered:!1})}),100)),[I]),N=(0,n.useCallback)(((e,t)=>{o(360378).IU({environment:r});const n=new Image;n.onload=()=>{d((e=>({...e,isRepositioning:!0,image:n})))},t&&(n.src=t)}),[r]),E=(0,n.useCallback)((e=>{C({imagePosition:F,reset:()=>{m()}})}),[F,C,m]),U=(0,n.useCallback)((e=>{const t=e.target;void 0!==t&&t instanceof HTMLElement&&(0,o(152058).p)(t)&&S(!0)}),[]),B=(0,n.useCallback)((()=>{S(!0)}),[]),D=(0,n.useCallback)((e=>{if(k&&x){const e=t.current;if(e&&e instanceof Element){const t=e.getBoundingClientRect().width/k.width*k.height;d((e=>({...e,startDragImageScreenHeight:t,startDragRenderedPosition:F})))}}}),[k,F,x]),X=(0,n.useCallback)((e=>{if(x){const t=e.diffY/(M||0)+(A||0);d((e=>({...e,temporaryPosition:(0,c().LI)((0,o(944342).A)(t,0,1),4)})))}}),[x,M,A]),z=(0,n.useCallback)((()=>{d((e=>({...e,startDragImageScreenHeight:void 0,startDragRenderedPosition:void 0})))}),[]),j=(0,a().K8)((()=>v({handleRepositionClick:N,handleSavePositionClick:E,handleCancelClick:m,isVisible:l||P||w||x,isRepositioning:x})),[N,E,w,l,x,P,v,m]);return(0,y.jsxs)("div",{ref:t,onFocus:U,onBlur:B,onMouseEnter:R,onMouseMove:R,onMouseLeave:W,...(0,s().AH)(L.container,h),children:[(0,y.jsx)(o(928567).A,{onDraggableDragStart:D,onDraggableDragMove:X,onDraggableDragEnd:z,onDraggableDragCancel:z,disabled:!x,render:t=>(0,y.jsx)("div",{...(0,s().AH)(L.dragContainer),...t,children:e.render({imagePosition:F,isRepositioning:x})})}),(0,y.jsx)(f,{small:e.small,isRepositioning:x}),j]})};function f(e){let{small:t,isRepositioning:o}=e;if(t)return null;const n={background:p().Ay.blackWithAlpha(.4),borderRadius:4,color:p().Ay.white,fontSize:12,fontFamily:d().vc(r().locale).sans,width:180,left:"calc(50% - 90px)",padding:"0.3em 1.5em 0.3em",pointerEvents:"none",position:"absolute",top:"calc(50% - 10px)",textAlign:"center"};return(0,y.jsx)(m().A,{visible:o,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:n,children:(0,y.jsx)(l().sA,{defaultMessage:"Drag image to reposition",id:"withImageRepositioning.dragImage.text"})})}},984826:(e,t,o)=>{o.d(t,{I:()=>a,_:()=>i});const n={normalizedTitleWithIcon:!0,properties:!0,property_number:!0,property_title:!0,property_person:!0,property_file:!0,property_text:!0,property_checkbox:!0,property_url:!0,property_email:!0,property_phone_number:!0,property_created_by:!0,property_last_edited_by:!0,property_button:!0,property_select:!0,property_multi_select:!0,property_status:!0,property_date:!0,property_created_time:!0,property_last_edited_time:!0,property_last_visited_time:!0,property_relation:!0,property_rollup:!0,property_formula:!0,property_auto_increment_id:!0,property_location:!0,property_verification:!0,property_geo_point:!0,views:!0,viewsMain:!0,relationsGroup:!0,formQuestion:!0,placeholder:!0,deleted_property:!1,cover:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,transcript:!1,formTitle:!1,formSubmit:!1,recentActivity:!1,collaborators:!1,teamspaces:!1},r={properties:!0,property:!0,relationsGroup:!0,formQuestion:!0,placeholder:!0,titleWithIcon:!0,cover:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,transcript:!1,formTitle:!1,formSubmit:!1,views:!0,viewsMain:!0,collectionView:!0,collectionViewV2:!0,recentActivity:!1,collaborators:!1,teamspaces:!1};function i(e){return n[e.type]}function a(e){return r[e.type]}},992849:(e,t,o)=>{o.d(t,{p:()=>i});var n=()=>o(129978);const r=new(n().O2)("HelpButtonContent",(async()=>await o.e(42481).then(o.bind(o,718356)))),i=(0,n()._h)(r,(e=>e.HelpButtonContent))},996151:(e,t,o)=>{o.d(t,{K5:()=>u,Vp:()=>c,_u:()=>p,oP:()=>m,wC:()=>l,xN:()=>d});o(725707),o(491955),o(403517);var n=()=>o(728373),r=()=>o(984826),i=()=>o(946854),a=()=>o(220865);const s={page_main:[{id:"cover",type:"cover"},{id:"title_with_icon",type:"normalizedTitleWithIcon",propertyIds:[]},{id:"properties",type:"properties"},{id:"discussions",type:"discussions"},{id:"editor",type:"editor"}],page_details:[],form_layout_schema:[],person_profile_page_main:[],person_profile_page_details:[]},l={page_main:[{id:"title_with_icon",type:"normalizedTitleWithIcon",propertyIds:[]},{id:"editor",type:"editor"}],page_details:[],form_layout_schema:[],person_profile_page_main:[],person_profile_page_details:[]},p={page_main:[{id:"title_with_icon",type:"normalizedTitleWithIcon",propertyLabels:"hide",propertyIds:[]},{id:"editor",type:"editor"},{id:"discussions",type:"discussions"}],page_details:[],form_layout_schema:[],person_profile_page_main:[],person_profile_page_details:[]},c={page_main:[],page_details:[],form_layout_schema:[],person_profile_page_main:[{id:"cover",type:"cover"},{id:"title_with_icon",type:"normalizedTitleWithIcon",propertyIds:[]},{id:"recent_activity",type:"recentActivity"}],person_profile_page_details:[{id:"collaborators",type:"collaborators"},{id:"teamspaces",type:"teamspaces"}]};function d(e){return(0,a().jr)({modulesByArea:s,collectionSchema:null==e?void 0:e.collectionSchema,collectionFormat:null==e?void 0:e.collectionFormat})}function u(){return{page_layout_schema:(0,a().ke)(s.page_main).map((e=>{if(!(0,i().cn)(e))return(0,r().I)(e)?{...e,id:(0,n().Ay)()}:e})).filter((e=>void 0!==e)),page_info_layout_schema:(0,a().ke)(s.page_details).map((e=>{if(!(0,i().cn)(e))return(0,r().I)(e)?{...e,id:(0,n().Ay)()}:e})).filter((e=>void 0!==e)),form_layout_schema:void 0,person_profile_page_main:void 0,person_profile_page_details:void 0}}function m(e,t){const o=void 0===t?[{id:(0,n().Ay)(),type:"formQuestion",formQuestionId:e}]:[{id:(0,n().Ay)(),type:"formQuestion",formQuestionId:e},{id:(0,n().Ay)(),type:"formQuestion",formQuestionId:t}];return{page_layout_schema:void 0,page_info_layout_schema:void 0,person_profile_page_main:void 0,person_profile_page_details:void 0,form_layout_schema:[{id:(0,n().Ay)(),type:"cover"},{id:(0,n().Ay)(),type:"formTitle"},...o,{id:(0,n().Ay)(),type:"formSubmit"}]}}}}]);