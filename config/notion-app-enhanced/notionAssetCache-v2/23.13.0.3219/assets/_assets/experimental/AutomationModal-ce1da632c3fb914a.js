"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[2569],{962311:(e,n,t)=>{t.r(n),t.d(n,{AutomationModal:()=>j});var o=t(242343),i=()=>t(237385),a=()=>t(803290),r=()=>t(174114),l=()=>t(653998),s=()=>t(975392),c=()=>t(31448),d=()=>t(137476),u=()=>t(126996),m=()=>t(868199),p=()=>t(975579),f=()=>t(413871),x=()=>t(209684),g=()=>t(441292),b=()=>t(922172),h=()=>t(951540),y=()=>t(28210),A=()=>t(636045),S=t(163643);const v=(0,l().YK)({confirmationDialogAriaLabel:{defaultMessage:"Confirmation",id:"automations.ConfirmationDialog.ariaLabel"}});function j(){const e=(0,a().O$)(p().A),n=(0,i().v3)(),t=(0,i().Y0)(),l=(0,a().K8)((()=>t.isPhone),[t]),s=(0,r().IS)((e=>({innerStyle:{padding:24,width:l?"calc(100% - 20px)":320}})),[l]),c=(0,o.useCallback)((e=>{p().A.setState({open:!1,result:e});const t=p().A.state;(0,d().u4)({environment:n,event:{eventName:"click_automation_modal_option",eventProperties:{automation_id:t.open&&t.recordStore instanceof f().dn?t.recordStore.id:void 0,option:e}}})}),[n]),u=(0,o.useCallback)((()=>c("cancel")),[c]),m=function(){const e=(0,a().O$)(p().A),[n,t]=(0,o.useReducer)(((e,n)=>e+1),1),i=(0,o.useRef)(void 0);return(0,o.useEffect)((()=>{e.open&&e.format!==i.current&&(t(void 0),i.current=e.format)}),[e,i]),n}();return(0,S.jsx)(b().a,{open:e.open,keepFocus:!0,innerStyle:s.innerStyle,transitionAppearance:"none",onDismiss:u,render:()=>e.open&&(0,S.jsx)(k,{id:`${m}`,modalState:e,onDismiss:c},`${m}`)})}function k(e){const{id:n,modalState:t,onDismiss:i}=e,{icon:a}=t.format,d=(0,l().tz)(),p=(0,o.useRef)(null);(0,o.useEffect)((()=>{null!==p.current&&p.current.focus()}),[]);const f=(0,r().IS)((e=>({wrap:{display:"flex",flexDirection:"column"},buttonWrap:{display:"flex",flexDirection:"column",gap:10,marginTop:10},textWrap:{whiteSpace:"pre-wrap",wordBreak:"break-word",textAlign:"center",fontWeight:c().Wy.medium,marginTop:10,marginBottom:10,display:"flex",flexDirection:"column",alignItems:"center"},icon:{marginBottom:10},cancelButton:{justifyContent:"center"}})),[]),{store:b}=(0,u().AI)({initialValue:t.format.text,onChange:()=>{}}),j=[(0,S.jsx)(h().A,{size:"lg",onClick:()=>i("continue"),ref:p,children:t.format.continueButtonText},"continue"),(0,S.jsx)(x().p,{size:"lg",onClick:()=>i("cancel"),isLightGray:!0,style:f.cancelButton,children:t.format.cancelButtonText},"cancel")],k=`automation-modal-dialog-${n}`;return(0,S.jsx)(g().A,{debugName:"AutomationModal",capture:!0,allowEsc:!0,children:(0,S.jsxs)("div",{"aria-modal":"true","aria-label":d.formatMessage(v.confirmationDialogAriaLabel),"aria-describedby":k,role:"dialog",style:f.wrap,children:[(0,S.jsxs)("div",{style:f.textWrap,children:[a&&(0,S.jsx)("div",{style:f.icon,children:(0,S.jsx)(y().B,{size:50,icon:{icon:a,pointer:t.recordStore.pointer},disabled:!0,isEmptyPage:!1,bucket:"public",onChange:s().lQ})}),(0,S.jsx)("div",{id:k,children:(0,S.jsx)(A().A,{disabled:!0,disableStyleAnnotations:!0,inPageFind:m().Os.none,store:b,parentStore:t.recordStore})})]}),(0,S.jsx)("div",{style:f.buttonWrap,children:j})]})})}},975579:(e,n,t)=>{t.d(n,{A:()=>a});class o extends(()=>t(129044))().default{getInitialState(){return{open:!1}}}const i=new o;(0,t(996094).exposeDebugValue)("AutomationModalStore",i);const a=i}}]);