"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[20589],{895262:(e,o,t)=>{t.r(o),t.d(o,{default:()=>u});t(242343);var a=()=>t(237385),l=()=>t(653998),n=()=>t(388615),i=()=>t(209684),s=()=>t(971637),r=t(163643);const c=(0,l().YK)({ariaLabel:{id:"Layouts.PageHeader.InfoPanelToggleButton.ariaLabel",defaultMessage:"View/hide details"},showPanelButtonLabel:{id:"Layouts.PageHeader.InfoPanelToggleButton.close.label",defaultMessage:"View details"},closePanelButtonLabel:{id:"Layouts.PageHeader.InfoPanelToggleButton.show.label",defaultMessage:"Hide details"}});function u(e){const{collectionStore:o,pageViewBlockContext:t}=e,u=(0,l().tz)(),g=(0,a().Y0)(),{toggleDetailsPanel:p,isDetailsPanelOpen:P,pageDetailsPropertiesCount:d,canShowButton:f}=(0,s().q)({collectionStore:o,from:"more_properties",forceShowButtonIfNoProperties:!0,pageViewBlockContext:t}),h=g.isMobile?c.showPanelButtonLabel:P?c.closePanelButtonLabel:c.showPanelButtonLabel;return f?(0,r.jsx)(n().s,{allowSelectionWithin:!1,children:(0,r.jsx)(i().p,{isGray:!0,"aria-label":u.formatMessage(c.ariaLabel),onClick:p,style:{marginTop:4,marginLeft:-4},children:(0,r.jsx)(l().sA,{...h,values:{propertiesCount:d}})})}):null}},971637:(e,o,t)=>{t.d(o,{q:()=>g});var a=t(242343),l=()=>t(237385),n=()=>t(803290),i=()=>t(520852),s=()=>t(797470),r=()=>t(338484),c=()=>t(604284),u=()=>t(656473);function g(e){const{collectionStore:o,from:t,forceShowButtonIfNoProperties:g,pageViewBlockContext:p}=e,P=(0,n().K8)((()=>null==o?void 0:o.getLayoutStore()),[o]),d=(0,l().v3)(),f=p===s().Rr.PeekView,h=(0,n().K8)((()=>u().A.getPanelState(f?"peek":"mainPage").isOpen),[f]),b=(0,n().K8)((()=>!!o&&(0,i().v)({collectionStore:o,collectionViewBlockStore:o.getParentBlockStore(),checkNavigableAncestorLocked:!1})),[o]),w=(0,n().K8)((()=>!!P&&P.getModules().page_details.length>0),[P]),{count:B,isPropertiesModuleInPageDetails:S}=(0,n().K8)((()=>w&&o?(0,c().pm)({collectionStore:o}):{count:0,isPropertiesModuleInPageDetails:!1}),[w,o]),k=a.useCallback((()=>{if(!P)return;const e={environment:d,layoutStore:P,from:t,panelLocation:f?"peek":"mainPage"};h?(0,r().F)(e):(0,r().j)(e)}),[d,t,h,f,P]),L=a.useMemo((()=>p!==s().Rr.InPageSnapShot&&(p!==s().Rr.DraftPostInInlineComposer&&(B>0||!!g&&(S&&b)))),[p,B,g,S,b]);return{pageDetailsPropertiesCount:B,toggleDetailsPanel:k,isDetailsPanelOpen:h,pageDetailsHasModules:w,canShowButton:L}}}}]);