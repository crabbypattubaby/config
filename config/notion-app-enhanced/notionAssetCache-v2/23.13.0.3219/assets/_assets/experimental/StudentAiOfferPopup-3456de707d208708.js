"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[73502],{343759:(t,e,i)=>{i.d(e,{e:()=>s});i(242343);var n=i(163643);const s=(0,i(680369).wt)("gift",{viewBox:"0 0 20 20",svg:(0,n.jsx)("g",{id:"Layer_1",children:(0,n.jsx)("path",{d:"M16,5.75h-.6682129c.2590332-.4436646.4182129-.9526367.4182129-1.5024414,0-.8989258-.4003906-1.7426758-1.0986328-2.3149414-.7021484-.5761719-1.6191406-.8037109-2.5048828-.6264648-.8757935.1747437-1.6201782.6658325-2.1376343,1.3336792-.515564-.6645508-1.2658691-1.1560669-2.1675415-1.3361206-.8833008-.1767578-1.7939453.0498047-2.4926758.6220703-.6982422.5727539-1.0986328,1.4189453-1.0986328,2.3217773,0,.5498047.1592407,1.0587769.4182129,1.5024414h-.6682129c-.9648438,0-1.75.7851562-1.75,1.75v2c0,.6700439.3829346,1.246521.9375,1.5404663v4.9595337c0,.9648438.7851562,1.75,1.75,1.75h10.1875c.9648438,0,1.75-.7851562,1.75-1.75v-4.9934692c.5205078-.3035889.875-.8618164.875-1.5065308v-2c0-.9648438-.7851562-1.75-1.75-1.75ZM16.25,7.5v2c0,.1376953-.1123047.25-.25.25h-5.21875v-2.5h5.21875c.1376953,0,.25.1123047.25.25ZM12.4404297,2.7768555c.4433594-.090332.90625.0258789,1.2607422.315918.3486328.2861328.5488281.7070312.5488281,1.1547852,0,.8286133-.6738281,1.5024414-1.5029297,1.5024414h-1.9970703v-.921875c0-.9926758.7109375-1.8554688,1.6904297-2.0512695ZM5.75,4.2475586c0-.4516602.2001953-.8754883.5498047-1.1616211.2641602-.2167969.5883789-.3344727.9536133-.3344727.1186523,0,.2412109.0126953.3671875.0375977.9443359.1884766,1.6293945,1.0244141,1.6293945,1.9873047v.9736328h-1.9975586c-.8286133,0-1.5024414-.6738281-1.5024414-1.5024414ZM3.75,7.5c0-.1376953.1123047-.25.25-.25h5.28125v2.5h-5.28125c-.1376953,0-.25-.1123047-.25-.25v-2ZM4.6875,16v-4.75h4.59375v5h-4.34375c-.1376953,0-.25-.1123047-.25-.25ZM15.125,16.25h-4.34375v-5h4.59375v4.75c0,.1376953-.1123047.25-.25.25Z"})})})},769975:(t,e,i)=>{i.r(e),i.d(e,{StudentAiOfferPopup:()=>D});var n=()=>i(486826),s=i(242343),o=()=>i(237385),a=()=>i(803290),r=()=>i(682369),u=()=>i(343759),l=()=>i(428121),p=()=>i(653998),d=()=>i(421650),c=()=>i(773253),f=()=>i(84543),_=()=>i(658388),v=()=>i(863969),g=()=>i(560023),h=()=>i(485966),m=()=>i(836331),S=()=>i(153511),A=()=>i(384055),b=()=>i(670682),M=()=>i(159448),x=()=>i(516241),y=i(163643);function D(){const t=(0,o().v3)(),e=(0,p().tz)(),{isMobile:i}=(0,o().Y0)(),D=(0,M().UL)("sidebar"),C=(0,v().O)(),w=(0,b()._3)({spaceId:C}),Z=(0,a().K8)((()=>(0,l().z)({billingData:w,experimentService:m().default,spaceId:C})),[w,C]),{inAppCalloutStore:I,currentUserSettingsStore:O}=(0,a().K8)((()=>({inAppCalloutStore:h().default.state.inAppCalloutStore,currentUserSettingsStore:h().default.state.currentUserSettingsStore})),[]),j=null==w?void 0:w.subscription,U=!(null==j||!j.startDate)&&n().c9.now()>j.startDate.plus({days:1}),P=(0,a().K8)((()=>I.getCalloutVisibility("student_ai_offer_popup").canShow&&D&&Z&&U),[I,D,Z,U]),T=(0,a().K8)((()=>{var t;return null==O||null===(t=O.getSettings())||void 0===t?void 0:t.dismissed_student_ai_popup}),[O]),k=(0,s.useMemo)((()=>{if(void 0!==w)return function(t){const{intl:e,environment:i,billingData:n,onDismiss:s}=t;return{presentationType:"persistent",id:"student_ai_offer_toast",title:e.formatMessage({id:"studentAiOfferPopup.title",defaultMessage:"Students get half off unlimited AI"}),icon:u().e,jsxMessage:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(p().sA,{id:"studentAiOfferPopup.description",defaultMessage:"Unlock unlimited use of AI for Q&A, Autofill, Writer, and more"}),(0,y.jsx)(x().B,{tooltipMessage:(0,y.jsx)(p().sA,{id:"studentAiOfferPopup.tooltip",defaultMessage:"You can access this offer again by visiting our plans page in settings"}),tooltipWidth:"216px",overlayContainerZIndex:g().TOASTER_ZINDEX+1})]}),actions:{primary:{title:e.formatMessage({id:"studentAiOfferPopup.buttonLabel",defaultMessage:"Redeem now"}),onAction:()=>{(0,S().F)({environment:i,spaceStore:h().default.state.currentSpaceStore,billingData:n,product:"ai",from:"student_ai_popup",pageSection:"grid",coupon:"ai_fifty_percent"}),c().UW("student_ai_offer_toast")}}},onDismiss:s}}({intl:e,environment:t,billingData:w,onDismiss:()=>{d().yF(t),I.updateCalloutStatus({calloutId:"student_ai_offer_popup",visible:!1}),O&&f().createAndCommit({userAction:"StudentAiOfferPopup.handleDismiss",environment:t,canUndo:!0,perform:t=>{_().mJ({transaction:t,userSettingsStore:O,data:{dismissed_student_ai_popup:!0}})}})}})}),[O,t,w,I,e]),K=Boolean(!T&&P&&!i&&void 0!==k);return(0,r().A)((async()=>{void 0!==k&&(d().hq(t,{from:"student_ai_offer_popup"}),I.updateCalloutStatus({calloutId:"student_ai_offer_popup",visible:!0}),c().HK(k),await(0,A().x3)({environment:t,hasReceived:!1,offerType:"add_on_upgrade_flow",coupon:"ai_fifty_percent"}))}),K),null}}}]);