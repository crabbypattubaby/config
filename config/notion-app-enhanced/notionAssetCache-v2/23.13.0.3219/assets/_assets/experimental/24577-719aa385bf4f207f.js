"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[24577,84084],{33399:(e,t,o)=>{o.r(t),o.d(t,{computeSimilarUserRecentPagesState:()=>p,fetchUserSignals:()=>v,initializeAndLoadAllUserSignals:()=>g,refreshAndBroadcastSimilarUserSignals:()=>m,setUserSignals:()=>f});o(362833),o(725707),o(771702),o(403517);var n=()=>o(519423),r=()=>o(975392),a=()=>o(818369),i=()=>o(656865),s=()=>o(836331),l=()=>o(271932),c=()=>o(611699);const d=5*o(141666).Xb;function u(e){const t=s().default.getEligibleGroup({experimentId:e,parameter:"editedPagesLookbackDays",defaultGroup:"control"});return void 0===t||"control"===t?"1":t}function p(e){const t={};return e.forEach((e=>{let{userId:o,recentPages:n,similarity:a}=e;if(!n.length)return;const i=r().$z(n,(e=>{let{pageId:t}=e;return t}));Object.entries(i).forEach((e=>{let[n,r]=e;const i=r.map((e=>{let{visitedAt:t}=e;return t})).sort(((e,t)=>t-e));t[n]||(t[n]={pageId:n,sortedSimilarUserSignals:[]}),t[n].sortedSimilarUserSignals.push({userId:o,similarity:a,visitedAt:i})}))})),Object.values(t).forEach((e=>{e.sortedSimilarUserSignals.sort(((e,t)=>t.similarity-e.similarity))})),t}async function m(e){var t;const{spaceId:o,userId:n,environment:r}=e,a=await v({spaceId:o,environment:r,signalsOverride:[{name:"similarUserRecentPages",includeRecords:!0},{name:"similarUsersEditedPages",includeRecords:!0,lookbackDays:1}]});void 0!==a&&(f({spaceId:o,userId:n,environment:r,newSignals:a,initialize:!1}),await(null===(t=l().A.state.broadcastChannel)||void 0===t?void 0:t.postMessage({type:"userSignals",data:a})))}async function g(e){const{spaceId:t,userId:o,environment:n,refreshTimer:r=d}=e,a=await v({spaceId:t,environment:n});if(void 0===a)return;f({spaceId:t,userId:o,environment:n,newSignals:a,initialize:!0});var i;"on"===s().default.getGroup("search_refresh_user_signals")?(await c().default.waitUntil((()=>Boolean(c().default.getUserSignals({spaceId:t,userId:o})))),null===(i=l().A.state.broadcastChannel)||void 0===i||i.addEventListener("message",(e=>{"userSignals"===e.type&&f({spaceId:t,userId:o,environment:n,newSignals:e.data,initialize:!1})})),await l().A.waitUntil((()=>Boolean(l().A.state.elector))),l().A.state.elector.awaitLeadership().then((()=>{c().default.update((e=>{e.refreshIntervalId&&window.clearInterval(e.refreshIntervalId);const a=window.setInterval((async()=>{await m({spaceId:t,userId:o,environment:n})}),r);return{...e,refreshIntervalId:a}}))}))):c().default.update((e=>{e.refreshIntervalId&&window.clearTimeout(e.refreshIntervalId);const a=window.setTimeout((async()=>{const e=await v({spaceId:t,environment:n});void 0!==e&&f({spaceId:t,userId:o,environment:n,newSignals:e,initialize:!1})}),r);return{...e,refreshIntervalId:a}}))}function f(e){const{spaceId:t,userId:o,environment:n,newSignals:r,initialize:a}=e;r&&(c().default.setUserSignals({spaceId:t,userId:o,userSignals:r,initialize:a}),i().G(n,a?"userSignalsInitialization":"userSignalsReload"))}async function v(e){const{spaceId:t,environment:o,signalsOverride:i}=e,s=u("search-local-edited-pages-max"),l=u("search-local-sim-users-edited-pages-max"),d=parseInt(l),m=parseInt(s),g=await a().callApi({eventName:"getUserSignals",environment:o,data:{spaceId:t,signals:i??[{name:"similarUserRecentPages",includeRecords:!0},{name:"topPages7dPageView",includeRecords:!0},{name:"editedPages",includeRecords:!0,lookbackDays:m},{name:"similarUsersEditedPages",includeRecords:!0,lookbackDays:d}]},headers:(0,n().WS)({cellId:void 0,recordId:void 0,spaceId:t})});if("success"!==g.type)return;const f=i?r().Up((0,c().getInitialUserSignalsState)(),i.map((e=>e.name))):(0,c().getInitialUserSignalsState)();return g.data.signals.forEach((e=>{if("error"===e.status)return;const t=e.name;switch(t){case"similarUserRecentPages":f.similarUserRecentPages=p(e.data);break;case"recentPages":f.recentPages=e.data;break;case"topPages7dPageView":f.topPages7dPageView=e.data;break;case"similarUsersEditedPages":f.similarUsersEditedPages=e.data;break;case"editedPages":f.editedPages=e.data}})),f}},67558:(e,t,o)=>{o.d(t,{VY:()=>s,ZJ:()=>a,u3:()=>i});var n=()=>o(496985);class r extends(()=>o(129044))().default{getInitialState(){return{popupRenderedInPage:!1,popupRenderedInPeekView:!1}}}const a=new r,i=new(n().default)((()=>!1!==a.state.popupRenderedInPage),{debugName:"AssistantWriterRenderedInPageStore"}),s=new(n().default)((()=>!1!==a.state.popupRenderedInPeekView),{debugName:"AssistantWriterRenderedInPeekViewStore"})},78245:(e,t,o)=>{o.d(t,{z:()=>i});o(242343);var n=()=>o(129978),r=o(163643);const a=new(n().O2)("CollectionItemCover",(async()=>{const{CollectionItemCover:e}=await o.e(79883).then(o.bind(o,824997));return{CollectionItemCover:e}})),i=(0,n()._h)(a,(e=>e.CollectionItemCover),{renderLoading:(e,t)=>{const{coverHeight:n,coverSizeFormat:a,emptyGalleryCoverStyle:i,showEmptyGalleryCover:s}=t;return s?(0,r.jsx)(o(803291).t,{coverHeight:n,coverSizeFormat:a,emptyGalleryCoverStyle:i}):null}})},105429:(e,t,o)=>{o.d(t,{m:()=>r});class n extends(()=>o(129044))().default{getInitialState(){return{type:"uninitialized"}}isWriting(){return"filling"===this.state.type&&!this.state.haveAllBlocksCompletedAutofill&&!this.state.didInterruptStreaming}setIsWriting(e){var t;const{propertySchema:n,stores:r,sessionIdForAnalytics:a}=e,i=r[0].getAssociatedCollectionId()??(null===(t=r[0].getCollectionStore())||void 0===t?void 0:t.id),s=a||o(214144).JW();return this.setState({type:"filling",propertySchema:n,collectionId:i,numBlocksToAutofill:r.length,numBlocksAutofilled:0,sessionId:s,didInterruptStreaming:!1,haveAllBlocksCompletedAutofill:!1}),s}}const r=new n},224281:(e,t,o)=>{o.d(t,{Jv:()=>_,Zr:()=>h,Rl:()=>S,mA:()=>y});var n=o(242343),r=()=>o(237385),a=()=>o(803290),i=()=>o(174114),s=()=>o(564134),l=()=>o(916963),c=()=>o(88442),d=()=>o(136239),u=()=>o(622286),p=()=>o(966789),m=o(163643);function g(){const e=(0,i().DP)();return(0,m.jsx)("span",{style:{marginLeft:6,fontSize:11,padding:"1px 4px",borderRadius:4,display:"inline-flex",flexDirection:"row",alignItems:"center",gap:4,marginTop:1,color:"light"===e.mode?e.accentColors.blue[500]:e.accentColors.blue[600]},children:(0,m.jsx)(p().A,{legacySize:14})})}var f=()=>o(870896);const v=function(){return(0,m.jsx)(o(695951).A,{color:"purple",style:{marginLeft:6,padding:"1px 4px",display:"inline-flex",flexDirection:"row",alignItems:"center",gap:4,marginTop:1},content:(0,m.jsx)(o(653998).sA,{defaultMessage:"AI",id:"database.property.aiAutofillEnabledIndicator"})})};const y=n.memo((function(e){const{propertySchema:t,showIcon:n,showDragIcon:a,hideName:s,badge:l,style:c,iconStyle:u,iconSize:p,dragHandleStyle:g,className:f,labelSizeVariant:v}=e,y=(0,r().v3)(),{device:_}=y,h=_.isMobile?16:14,b=(0,i().IS)((e=>({container:{display:"flex",alignItems:"center",lineHeight:"120%",minWidth:0,fontSize:h,...c},iconWrapper:{display:"grid",justifyContent:"center",alignItems:"center",marginRight:s?void 0:"small"===v||a?4:6,...u},dragHandle:{gridColumn:1,gridRow:1,opacity:a?1:0,transition:`opacity ${d().bM}`},itemIcon:{gridColumn:1,gridRow:1,opacity:a?0:1,transition:`opacity ${d().bM}`},dragIcon:{fill:e.icon.secondary}})),[h,s,u,v,a,c]);return(0,m.jsxs)("div",{className:f,style:b.container,children:[n&&(0,m.jsxs)("div",{style:b.iconWrapper,children:[(0,m.jsx)("div",{style:b.itemIcon,children:(0,m.jsx)(S,{propertySchema:t,iconSize:p,iconStyle:u})}),(0,m.jsx)("div",{style:b.dragHandle,children:(0,m.jsx)(o(369515).A,{style:g,iconSize:12,iconStyle:b.dragIcon})})]}),!s&&(0,m.jsx)("div",{style:{...o(31448).RC},children:t.name}),l]})}));function _(e){const{propertySchema:t}=e,o=(0,r().v3)();return(0,a().K8)((()=>(0,c().O0)(o)&&s().$M(t)&&s().om(t)),[o,t])?(0,m.jsx)(v,{}):null}function h(e){let{propertyId:t,collectionContextStore:o}=e;return(0,a().K8)((()=>{var e;const n=null===(e=o.collectionStore())||void 0===e?void 0:e.id;if(!n)return!1;const r=f().d.state.collectionsProperties[n];return!!r&&"Loading"===r[t]}),[o,t])?(0,m.jsx)(g,{}):null}function S(e){const{propertySchema:t,iconSize:o,iconStyle:n}=e,{isMobile:a}=(0,r().Y0)(),s=(0,i().DP)(),c=(0,u().X)("nds_default_property_noticon"),d=a?18:16;return(0,m.jsx)(l().zB,{type:t.type,icon:t.icon,size:o||d,theme:s,style:n,isDefaultNoticonEnabled:c})}},403506:(e,t,o)=>{o(610931),o(362833),o(725707),o(491955),o(500234),o(771702),o(403517),o(113085),o(875472),o(76509),o(863754);var n=()=>o(497420),r=()=>o(897376),a=()=>o(762847),i=()=>o(16456),s=()=>o(539032),l=()=>o(427091);function c(e){if(!e)return Math.floor(249e6*Math.random())+67500000001;return 67500000001+parseInt(e.substring(0,8),16)%249e6}var d=()=>o(707781),u=()=>o(865415),p=()=>o(857928),m=()=>o(293665),g=()=>o(711659),f=()=>o(145017),v=()=>o(690835),y=()=>o(905184),_=()=>o(409211),h=()=>o(32194),S=()=>o(34662),b=()=>o(204132),I=()=>o(76394),k=()=>o(240896),w=()=>o(481325),A=(o(333225),o(494367),o(516262),o(573119),o(240480),o(950443),o(619601),o(107652),()=>o(975392)),C=()=>o(51905),T=()=>o(564134),x=()=>o(103265),P=()=>o(769884),E=()=>o(985957);function R(e){return e.every((e=>{const t="element"===e.type&&["annotation","mention","equation"].includes(e.tagName);return"text"===e.type||t}))}function M(e){return void 0!==e&&"element"===e.type&&"block"===e.tagName}function B(e){return e.every((e=>"element"===e.type&&("block"===e.tagName||"text"===e.tagName||"property"===e.tagName)))}function U(e){return t=>{const{block:o,exportArgs:n,renderers:r}=t,a=P().Bj6.fromBlock(o),i=(0,k().vy)({textValue:a.getProperty("title"),exportArgs:n,renderers:r,fromString:e=>({type:"text",value:(0,C().Pm)(e)})});if(0===i.length&&0===a.getContentLength()&&"page"!==a.getType())return;const s=e.mapBlockOrAnnotation({type:"block",id:a.id,blockType:a.type});if(!R(i))throw new Error("Delineated text node children are invalid");const l={type:"element",tagName:"text",attributes:{},children:i},c={type:"element",tagName:"block",attributes:{id:s.toString()},children:[l]};if(a.getContentLength()>0){const e=n.visitedBlockIds??new Set,t=A().oE(a.getRenderableContentIds().map((t=>{if(!e.has(t))return(0,k().g8)({exportArgs:{...n,blockId:t,renderParentBlockId:a.id,visitedBlockIds:e.add(t)},renderers:r})})));if(!B(t))throw new Error("Block simple XML node children are invalid");c.children.push(...t)}if("page"===a.type&&o.properties){const t=(0,x().zN)({getRecordValue:n.getRecordValue,block:o});if(t&&t.schema)for(const[a,i]of Object.entries(t.schema)){var d;const s=(null===(d=o.properties[a])||void 0===d?void 0:d.toString())??"";i&&s&&a in o.properties&&"text"===i.type&&c.children.push(Q(e,a,s,n,r,{parentCollectionId:t.id,propertyId:a}))}}return c}}function N(e){return async(t,o)=>{if(n=t.block,!["page","text","header","sub_header","sub_sub_header","quote","bulleted_list","toggle","to_do","numbered_list","callout"].includes(n.type))return;var n;return await Promise.resolve(U(e)({...t,block:t.block}))}}function O(e){return t=>{const{block:o,exportArgs:n,renderers:r}=t,a=P().Bj6.fromBlock(o),i={type:"element",tagName:"block",attributes:{id:e.mapBlockOrAnnotation({type:"block",id:a.id,blockType:a.type}).toString()},children:[]};if(a.getContentLength()>0){const e=n.visitedBlockIds||new Set,t=A().oE(a.getRenderableContentIds().map((t=>{if(!e.has(t))return(0,k().g8)({exportArgs:{...n,blockId:t,renderParentBlockId:a.id,visitedBlockIds:e.add(t)},renderers:r})})));if(!B(t))throw new Error("Block simple XML node children are invalid");i.children.push(...t)}return i}}function L(e){return async(t,o)=>{if(n=t.block,!["transclusion_container","column","column_list","table_row"].includes(n.type))return;var n;return await Promise.resolve(O(e)({...t,block:t.block}))}}function V(e){const{block:t,exportArgs:o,renderers:n}=e,r=P().Bj6.fromBlock(t),a=r.getTransclusionReferenceTargetPointer();if(!a)return;const i=o.visitedBlockIds||new Set;return i.has(a.id)?void 0:(0,k().g8)({exportArgs:{...o,blockId:a.id,renderParentBlockId:r.id,visitedBlockIds:i.add(a.id)},renderers:n})}function D(e){return t=>{const{block:o,exportArgs:n,renderers:r}=t,a=P().Bj6.fromBlock(o),i=(0,k().vy)({textValue:a.getProperty("caption"),exportArgs:n,renderers:r,fromString:e=>({type:"text",value:e})}),s=e.mapBlockOrAnnotation({type:"block",id:a.id,blockType:a.type});if(!R(i))throw new Error("Delineated text node children are invalid");const l={type:"element",tagName:"text",attributes:{},children:i};return{type:"element",tagName:"block",attributes:{id:s.toString()},children:[l]}}}function $(e){return async(t,o)=>{if(n=t.block,!["image","video"].includes(n.type))return;var n;return await Promise.resolve(D(e)({...t,block:t.block}))}}function F(e){return t=>{const{block:o,exportArgs:n,renderers:r}=t,a=P().Bj6.fromBlock(o),i={type:"element",tagName:"block",attributes:{id:e.mapBlockOrAnnotation({type:"block",id:a.id,blockType:a.type}).toString()},children:[]};if(a.getContentLength()>0){const e=n.visitedBlockIds||new Set,t=A().oE(a.getRenderableContentIds().map((t=>{if(!e.has(t))return(0,k().g8)({exportArgs:{...n,blockId:t,renderParentBlockId:a.id,visitedBlockIds:e.add(t)},renderers:r})})));if(!B(t))throw new Error("Block simple XML node children are invalid");i.children.push(...t)}return i}}function j(e){return async(t,o)=>{if(!function(e){return"table"===e.block.type}(t))return;return await Promise.resolve(F(e)(t))}}function H(e){return async(t,o)=>await Promise.resolve(z(e)(t))}function z(e){return t=>{const{block:o,exportArgs:n,renderers:r}=t,a=P().Bj6.fromBlock(o),i=a.getProperties(),s=A().oE(Object.keys(i).map((t=>{const o=a.getProperty(t);if(!o)return;const i=(0,k().vy)({textValue:o,exportArgs:n,renderers:r,fromString:e=>({type:"text",value:(0,C().Pm)(e)})});if(!R(i))throw new Error("Property children are invalid");return{type:"element",tagName:"property",attributes:{key:e.mapBlockOrAnnotation({type:"property",key:t}).toString()},children:i}})));if(!s.length)return;return{type:"element",tagName:"block",attributes:{id:e.mapBlockOrAnnotation({type:"block",id:a.id,blockType:a.type}).toString()},children:s}}}function q(e){return t=>{const{annotation:o}=t,n=e.mapBlockOrAnnotation({type:"annotation",annotation:o}),{date_format:r,time_format:a,...i}=S().K7D(o),s="date"===(l=i).type?l.start_date:"daterange"===l.type?`${l.start_date} -> ${l.end_date}`:"datetime"===l.type?`${l.start_date} ${l.start_time}`:"datetimerange"===l.type?`${l.start_date} ${l.start_time} -> ${l.end_date} ${l.end_time}`:void(0,I().HB)(l);var l;return{type:"element",tagName:"mention",attributes:{id:n.toString()},children:[{type:"text",value:s}]}}}function G(e){const{children:t}=e;return t}function J(e){return async function(t){let{block:o,exportArgs:n,renderers:r}=t;const a=e.mapBlockOrAnnotation({type:"block",id:o.id,blockType:o.type}),i=await Promise.resolve((0,k().ki)({blockModel:P().Bj6.fromBlock(o),exportArgs:n,includeEmptyCollection:!0}));if(!i||!i.length)return;const s=i[0],{collectionTitle:l,columnIds:c,collectionDescription:d,columnIdToName:u,collectionId:p,collectionSpaceId:m,schema:g}=s,f=l?K(e,{collectionId:p,type:E().kl.NAME,collectionSpaceId:m},l,n,r):void 0,v=d?K(e,{collectionId:p,type:E().kl.DESCRIPTION,collectionSpaceId:m},d,n,r):void 0,y=[];for(const S of i){const{collectionViewName:t,collectionViewId:o,collectionViewSpaceId:a}=S;if(!t)continue;const i=t?K(e,{collectionId:p,type:E().kl.VIEW_NAME,collectionViewId:o,collectionSpaceId:m,collectionViewSpaceId:a},t,n,r):void 0;i&&y.push(i)}const _=[],h=A().oE(c.map((t=>{var o;const a=u[t];if(!a)return;const i=(0,k().vy)({textValue:[[a,[]]],exportArgs:n,renderers:r,fromString:e=>({type:"text",value:"string"==typeof e?(0,C().Pm)(e):""})});if(!R(i))throw new Error("Property children are invalid");const s={collectionId:p,type:E().kl.SCHEMA_PROPERTY_NAME,collectionSpaceId:m,propertyId:t,oldValue:a,propertySchemaType:null===(o=g[t])||void 0===o?void 0:o.type},l={type:"element",tagName:"property",attributes:{key:e.mapBlockOrAnnotation({type:"property",key:W(s),metadata:s}).toString()},children:i},c=g[t];return c&&(0,T().DQ)(c)&&c.options&&_.push(...c.options.map((o=>K(e,{collectionId:p,type:E().kl.SCHEMA_PROPERTY_OPTION,propertyId:t,optionId:o.id,optionColor:(0,T().lx)(c)?o.color:void 0,collectionSpaceId:m,oldValue:o.value,propertySchemaType:c.type},o.value,n,r)))),l})));return{type:"element",tagName:"block",attributes:{id:a.toString()},children:[...f?[f]:[],...y,...v?[v]:[],...h,..._]}}}function Q(e,t,o,n,r,a){const i=(0,k().vy)({textValue:[[o,[]]],exportArgs:n,renderers:r,fromString:e=>({type:"text",value:(0,C().Pm)(e)})});if(!R(i))throw new Error("Delineated text node children are invalid");return{type:"element",tagName:"property",attributes:{key:e.mapBlockOrAnnotation({type:"property",key:t,metadata:a}).toString()},children:i}}function W(e){const{type:t,propertyId:o,optionId:n,optionColor:r,collectionViewId:a}=e;switch(t){case E().kl.NAME:return"collection.name";case E().kl.VIEW_NAME:return`collection.view_name.${a}`;case E().kl.DESCRIPTION:return"collection.description";case E().kl.SCHEMA_PROPERTY_NAME:return`collection.property.${o}`;case E().kl.SCHEMA_PROPERTY_OPTION:return`collection.option.${o}.${n}${r?`.${r}`:""}`;default:(0,I().HB)(t)}}function K(e,t,o,n,r){return Q(e,W(t),o,n,r,t)}function Z(){throw new Error("unimplemented")}function X(){}function Y(e){const t=U(e),o=O(e),n=D(e),r=F(e),a=z(e),i=function(e){return t=>{const{annotation:o,children:n}=t,r=e.mapBlockOrAnnotation({type:"annotation",annotation:o});if(!n)return;if(!function(e){return"text"===e.type||"element"===e.type&&("annotation"===e.tagName||"mention"===e.tagName||"equation"===e.tagName)}(n))throw new Error("Annotation simple XML node children are invalid");const a=[n];return{type:"element",tagName:"annotation",attributes:{id:r.toString()},children:a}}}(e),s=function(e){return t=>{const{annotation:o,exportArgs:n}=t,r=P().b4_.fromGetRecordValueFn(n.getRecordValue),a=e.mapBlockOrAnnotation({type:"annotation",annotation:o}),i=S().v55(o);let s="Untitled page";return r({table:f().ev,id:i})&&(s=(0,k()._z)({intl:n.intl,blockId:i,getRecordValue:n.getRecordValue,userTimeZone:n.userTimeZone})),{type:"element",tagName:"mention",attributes:{id:a.toString()},children:[{type:"text",value:s}]}}}(e),l=function(e){return t=>{const{annotation:o,exportArgs:{intl:n,getRecordValue:r}}=t,a=P().b4_.fromGetRecordValueFn(r),i=e.mapBlockOrAnnotation({type:"annotation",annotation:o}),s=S().NcG(o),l=a({table:_().oo,id:s});let c=null==l?void 0:l.getFullName(n);return c||(c="Tim Smith"),{type:"element",tagName:"mention",attributes:{id:i.toString()},children:[{type:"text",value:c}]}}}(e),c=function(e){return t=>{const{annotation:o,exportArgs:n}=t,r=e.mapBlockOrAnnotation({type:"annotation",annotation:o});let a=(0,k().Pf)({annotation:o,exportArgs:n});return a||(a="Employee group"),{type:"element",tagName:"mention",attributes:{id:r.toString()},children:[{type:"text",value:a}]}}}(e),d=function(e){return t=>{const{annotation:o,exportArgs:n}=t,r=e.mapBlockOrAnnotation({type:"annotation",annotation:o});let a=(0,k().nZ)({annotation:o,exportArgs:n});return a||(a="Employee team"),{type:"element",tagName:"mention",attributes:{id:r.toString()},children:[{type:"text",value:a}]}}}(e),u=function(e){return t=>{var o;const{annotation:n,exportArgs:{getRecordValue:r}}=t,a=e.mapBlockOrAnnotation({type:"annotation",annotation:n}),i=P().b4_.fromGetRecordValueFn(r),s=S().T$c(n),l=(null===(o=i({table:f().ev,id:s}))||void 0===o?void 0:o.getFormatValue("original_url"))??"https://example.com";return{type:"element",tagName:"mention",attributes:{id:a.toString()},children:[{type:"text",value:l}]}}}(e),p=function(e){return t=>{const{annotation:o}=t,n=e.mapBlockOrAnnotation({type:"annotation",annotation:o}),r=S().q1R(o).href;return{type:"element",tagName:"mention",attributes:{id:n.toString()},children:[{type:"text",value:r}]}}}(e),m=q(e),g=function(e){return t=>{const{annotation:o}=t,n=e.mapBlockOrAnnotation({type:"annotation",annotation:o}),r=S().U35(o);return{type:"element",tagName:"equation",attributes:{id:n.toString()},children:[{type:"text",value:r}]}}}(e),v=function(e){return J(e)}(e),y=function(e){return async function(t){return J(e)({...t,block:{...t.block,type:"collection_view"}})}}(e),h={...{page:t,text:t,header:t,sub_header:t,sub_sub_header:t,quote:t,bulleted_list:t,toggle:t,to_do:t,numbered_list:t,callout:t,image:n,video:n,transclusion_container:o,transclusion_reference:V,column:o,column_list:o,table:r,table_row:a},...{code:X,embed:X,bookmark:X,file:X,tweet:X,maps:X,gist:X,framer:X,invision:X,mixpanel:X,drive:X,figma:X,loom:X,pdf:X,typeform:X,codepen:X,audio:X,divider:X,equation:X,collection_view:X,collection_view_page:X,factory:X,copy_indicator:X,breadcrumb:X,link_to_collection:X,link_to_page:X,table_of_contents:X,whimsical:X,miro:X,abstract:X,sketch:X,excalidraw:X,replit:X,alias:X,external_object_instance:X,tab:X,hex:X,deepnote:X,external_object_instance_page:X,button:X,ai_block:X,drawing:X,slide:X,personal_home_page:X,form:X,post:X,workflow:X,encrypted_text:X,transcription:X,person_profile:X}},b={...{page:N(e),text:N(e),header:N(e),sub_header:N(e),sub_sub_header:N(e),quote:N(e),bulleted_list:N(e),toggle:N(e),to_do:N(e),numbered_list:N(e),callout:N(e),image:$(e),video:$(e),transclusion_container:L(e),transclusion_reference:async e=>{const t=function(e){return"transclusion_reference"===e.type}(e.block)?e.block:void 0;if(t)return await Promise.resolve(V({...e,block:t}))},column:L(e),column_list:L(e),table:j(e),table_row:H(e),collection_view:v,collection_view_page:y},...{image:Z,video:Z,code:Z,embed:Z,bookmark:Z,file:Z,tweet:Z,maps:Z,gist:Z,framer:Z,invision:Z,mixpanel:Z,drive:Z,figma:Z,loom:Z,pdf:Z,typeform:Z,codepen:Z,audio:Z,divider:Z,equation:Z,factory:Z,copy_indicator:Z,breadcrumb:Z,link_to_collection:Z,link_to_page:Z,table_of_contents:Z,transcription:Z,whimsical:Z,miro:Z,abstract:Z,sketch:Z,excalidraw:Z,replit:Z,alias:Z,external_object_instance:Z,tab:Z,hex:Z,deepnote:Z,external_object_instance_page:Z,button:Z,ai_block:Z,drawing:Z,slide:Z,personal_home_page:Z,form:Z,post:Z,workflow:Z,encrypted_text:Z,person_profile:Z}};return{blockRenderers:h,annotationRenderers:{[S().Ifu.Bold]:i,[S().Ifu.Italic]:i,[S().Ifu.Strike]:i,[S().Ifu.Code]:i,[S().Ifu.Highlight]:i,[S().Ifu.Discussion]:i,[S().Ifu.Underline]:i,[S().Ifu.Link]:i,[S().Ifu.Equation]:g,[S().Ifu.Comment]:G,[S().Ifu.Page]:s,[S().Ifu.User]:l,[S().Ifu.Group]:c,[S().Ifu.Team]:d,[S().Ifu.LinkMention]:p,[S().Ifu.Date]:m,[S().Ifu.ExternalObjectInstance]:u,[S().Ifu.Inserted]:G,[S().Ifu.SlackSpecialMention]:X,[S().Ifu.CustomEmoji]:X,[S().Ifu.SuggestionInsertText]:X,[S().Ifu.SuggestionRemoveText]:X,[S().Ifu.SuggestionAnnotate]:X,[S().Ifu.SuggestionUnannotate]:X,[S().Ifu.Deleted]:X,[S().Ifu.Bot]:X,[S().Ifu.TemporaryComment]:X,[S().Ifu.TemporaryCursor]:X,[S().Ifu.TemporaryEquation]:X,[S().Ifu.TemporaryPage]:X,[S().Ifu.TemporaryInput]:X,[S().Ifu.TemporarySelection]:X,[S().Ifu.TemporaryFindHighlight]:X,[S().Ifu.TemporarySelectedFindHighlight]:X,[S().Ifu.TemplateVariable]:X,[S().Ifu.FormulaPageProperty]:X,[S().Ifu.FormulaContextValue]:X,[S().Ifu.FormulaError]:X,[S().Ifu.Citation]:X,[S().Ifu.TemporaryNativeMABFilter]:X,[S().Ifu.TemporaryDictation]:X,[S().Ifu.TemporaryHighlight]:X,[S().Ifu.AssistantInstructionsCollection]:X,[S().Ifu.TemporaryCommentHighlight]:X,[S().Ifu.TemporarySuggestionUnderline]:X,[S().Ifu.GeoPoint]:X},asyncBlockRenderers:b,propertyRenderers:{title:X,text:X,select:X,multi_select:X,status:X,relation:X,rollup:X,url:X,email:X,phone_number:X,checkbox:X,person:X,number:X,date:X,file:X,formula:X,created_time:X,last_edited_time:X,created_by:X,last_edited_by:X,button:X,auto_increment_id:X,last_visited_time:X,location:X,verification:X,geo_point:X}}}o(358848),o(91270);var ee=()=>o(760068);function te(e){const{translateRenderer:t,attributes:o,expectedType:n}=e;if(!("id"in o))return{error:new Error("Expected ID attribute")};const r=parseInt(o.id);if(!(r in t.map))return{error:new Error(`Could not find ${r} in TranslateRenderer`)};const a=t.map[r];return"block"===a.type&&"block"===n?{value:{counter:r,value:{blockType:a.blockType,id:a.id}}}:"annotation"===a.type&&(0,S().Ta1)(a.annotation)&&"textAnnotation"===n||"annotation"===a.type&&(0,S().iGj)(a.annotation)&&"mentionAnnotation"===n||"annotation"===a.type&&(0,S().gir)(a.annotation)&&"equationAnnotation"===n?{value:{counter:r,value:a.annotation}}:{error:new Error(`Expected ${n}, received ${JSON.stringify(a)}.`)}}const oe=w().p.mapResult(ee().W6,(e=>({value:e.value})));function ne(e){return w().p.mapResult((0,ee().U5)("text"),(t=>{const o=(0,w().$d)((0,ee().nx)("text",[le(e),ae(e),ie(e),oe]),t.children??[]);return b().Q.isFail(o),o}))}function re(e){return w().p.mapResult((0,ee().U5)("block"),(t=>{const o=te({translateRenderer:e,attributes:t.attributes,expectedType:"block"});if(b().Q.isFail(o))return o;const n=(0,w().$d)(w().p.mapResult((0,ee().nx)("block",[w().p.mapResult(oe,(e=>({value:[e]}))),w().p.mapResult(le(e),(e=>({value:[e]}))),w().p.mapResult(ae(e),(e=>({value:[e]}))),w().p.mapResult(se(e),(e=>({value:[e],metadata:e.metadata}))),w().p.mapResult(re(e),(e=>({value:[e]}))),ne(e)]),(e=>({value:e.flat()}))),t.children??[]);return b().Q.isFail(n)?n:{value:{type:"block",blockType:o.value.value.blockType,id:o.value.value.id,children:n.value}}}))}function ae(e){return w().p.mapResult((0,ee().U5)("mention"),(t=>{const o=te({translateRenderer:e,attributes:t.attributes,expectedType:"mentionAnnotation"});if(b().Q.isFail(o))return o;const n=(0,w().$d)(w().p.many(oe),t.children??[]);return b().Q.isFail(n)?n:{value:{type:"mention",annotation:o.value.value,text:n.value.join("")}}}))}function ie(e){return w().p.mapResult((0,ee().U5)("equation"),(t=>{const o=te({translateRenderer:e,attributes:t.attributes,expectedType:"equationAnnotation"});if(b().Q.isFail(o))return o;const n=(0,w().$d)(w().p.many(oe),t.children??[]);return b().Q.isFail(n)?n:{value:{type:"equation",annotation:o.value.value}}}))}function se(e){return w().p.mapResult((0,ee().U5)("property"),(t=>{const o=(0,ee().nx)("property",[oe,le(e),ae(e)]),n=function(e,t){if(!("key"in t))return{error:new Error("Expected key attribute")};const o=parseInt(t.key);if(!(o in e.map))return{error:new Error(`Could not find ${o} in TranslateRenderer`)};const n=e.map[o];return"property"!==n.type?{error:new Error(`Expected property, received ${JSON.stringify(n)}.`)}:{value:{counter:o,value:{key:n.key},metadata:n.metadata}}}(e,t.attributes);if(b().Q.isFail(n))return n;const r=(0,w().$d)(w().p.map(o,(e=>e)),t.children??[]);return b().Q.isFail(r)?r:{value:{type:"property",key:n.value.value.key,children:r.value,metadata:n.value.metadata}}}))}function le(e){return w().p.mapResult((0,ee().U5)("annotation"),(t=>{const o=te({translateRenderer:e,attributes:t.attributes,expectedType:"textAnnotation"});if(b().Q.isFail(o))return o;const n=(0,ee().nx)("annotation",[oe,le(e),ae(e)]),r=(0,w().$d)(w().p.map(n,(e=>{if(function(e){return 1===e.length}(e))return e;return[e.at(0)??""]})),t.children??[]);return b().Q.isFail(r)?r:{value:{type:"annotation",annotation:o.value.value,children:r.value}}}))}function ce(e){const{annotation:t}=e;return(0,S().wmz)(t)}function de(e){const{annotation:t}=e;return(0,S().G0H)(t[1])}function ue(e){const{annotations:t,value:o}=function e(t){const o=[t.annotation],n=t.children[0];if("string"==typeof n)return{annotations:o,value:n};if("mention"===n.type)return{annotations:o,value:n};if("annotation"===n.type){const{annotations:t,value:r}=e(n);return o.push(...t),{annotations:o,value:r}}(0,I().HB)(n)}(e);return"string"==typeof o?(0,S().Ey_)(o,t):(0,S().wmz)(o.annotation,t)}function pe(e){const t=[];for(const o of e.children)"string"==typeof o?t.push((0,S().Ey_)(o)):"annotation"===o.type?t.push(ue(o)):"mention"===o.type?t.push(ce(o)):(0,I().HB)(o);return t}function me(e){let t={};const o={},n=[];for(const r of e.children)"string"==typeof r?n.push((0,S().Ey_)(r)):"annotation"===r.type?n.push(ue(r)):"mention"===r.type?n.push(ce(r)):"property"===r.type?o[r.key]={value:pe(r),metadata:r.metadata}:"equation"===r.type?n.push(de(r)):"block"===r.type&&(t={...me(r),...t});return{[e.id]:{value:n,blockType:e.blockType,mapping:(0,E().oQ)(e.blockType),properties:o},...t}}class ge{constructor(e){this.map=void 0,this.counter=0,this.renderers=void 0,this.hasTranslated=!1,this.renderers=Y(this),this.map=e??{}}getExportArgs(e){const{pagePointer:t,intl:n,getRecordModel:r,serverOrClientConfig:a,experimentService:i,formulasModule:s}=e;return{blockId:t.id,navigableBlockId:t.id,renderParentBlockId:void 0,root:t,numberedListCache:{},bulletedListCache:{},getExportedPathToFile:e=>"",getExportedRenderAsset:e=>"",getExportedPathToPage:e=>"",getRecordValue:r.getRecordValue,getRecordModel:r,getRecordsWithParent:()=>[],userTimeZone:(0,l().P)(),intl:n,baseUrl:a.domainBaseUrl,publicDomainName:a.publicDomainBaseUrl,resultCache:new Map,regExpCache:new Map,experimentService:i,collectionFeatureGates:(0,o(22602).v)({experimentService:i,actor:void 0,spaceId:t.spaceId}),formulasModule:s}}mapPageToXML(e){if(this.hasTranslated)throw new Error("Page already loaded.");this.hasTranslated=!0;const t=this.getExportArgs(e),o=(0,k().g8)({exportArgs:t,renderers:this.renderers});if(!o||!M(o))throw new Error("Failed to render page");return o}async asyncMapPageToXML(e){if(this.hasTranslated)throw new Error("Page already loaded.");this.hasTranslated=!0;const t=this.getExportArgs(e),n=await(0,k().wL)({exportArgs:t,renderers:this.renderers,ticker:new(o(49380).D)});if(!n||!M(n))throw new Error("Failed to render page");return n}parseXMLToTranslations(e){const t=(0,w().$d)(re(this),e);if(b().Q.isSuccess(t))return me(t.value);throw t.error}getBlocksMissingFromTranslationMap(e){const t=Object.keys(e);return Object.values(this.map).map((e=>"block"===e.type?e.id:void 0)).filter(I().O9).filter((e=>!t.includes(e)))}mapBlockOrAnnotation(e){const t=this.counter++;return this.map[t]=e,t}}var fe=()=>o(496580),ve=()=>o(896910),ye=()=>o(3311),_e=()=>o(818369),he=()=>o(305189),Se=()=>o(817150),be=()=>o(463549),Ie=()=>o(759625),ke=()=>o(13769),we=()=>o(448316),Ae=()=>o(84543),Ce=()=>o(658388),Te=()=>o(337658),xe=()=>o(927685),Pe=()=>o(73631),Ee=()=>o(521972),Re=()=>o(153777),Me=()=>o(485966),Be=()=>o(836331),Ue=()=>o(141122),Ne=()=>o(413871),Oe=()=>o(638907),Le=()=>o(182613),Ve=()=>o(164257),De=()=>o(611699),$e=()=>o(764227),Fe=()=>o(33399),je=()=>o(373994),He=()=>o(137696),ze=()=>o(477784),qe=()=>o(36746),Ge=()=>o(486826),Je=()=>o(690822),Qe=()=>o(689248);function We(e){const{environment:t,userAction:o,data:n}=e,r=Me().default.state.currentUserSettingsStore;r?Ae().createAndCommit({userAction:o,environment:t,canUndo:!0,userId:r.id,perform:e=>{Ce().mJ({userSettingsStore:r,data:n,transaction:e})}}):console.error("Could not find current user settings")}(0,n().exposeDebugEnvironmentValue)("messages",(function(e){const t=t=>{Qe().bc(e),Qe().X3(e,t),Qe().nS(e,t)};return{resetNotionCalendarOnboarding:()=>{We({environment:e,userAction:"debuggingHelpers.clearNotionCalendarOnboarding",data:{notion_calendar_launch_modal_phase:null,notion_calendar_launch_modal_dismissed_at:null,seen_open_in_calendar_tooltip:null}}),t("notion_calendar_launch_promo")},resetAsanaPostImportTour:()=>{We({environment:e,userAction:"debuggingHelpers.resetAsanaPostImportTour",data:{seen_asana_post_import_tour:null}}),t("asana_post_import_tour")},resetFormsShareTooltip:()=>{We({environment:e,userAction:"debuggingHelpers.resetFormsShareTooltip",data:{seen_forms_share_form_tooltip:null}}),t("forms_share_form_tooltip")},resetFormsAddConditionalLogicTooltip:()=>{We({environment:e,userAction:"debuggingHelpers.resetFormsAddConditionalLogicTooltip",data:{seen_forms_add_conditional_logic_tooltip:null}}),t("forms_add_conditional_logic_tooltip")},resetDummyModal:()=>{We({environment:e,userAction:"debuggingHelpers.resetDummyModal",data:{seen_dummy_modal:null}}),t("dummy_modal")},resetSidebarUpgradeNudge:()=>{We({environment:e,userAction:"sidebarUpgradeNudge.markNotificationAsDismissed",data:{dismissed_sidebar_upgrade_nudge:!1}}),t("sidebar_upgrade_nudge")},forceShowMessage:t=>{const o=(0,Je().h2)(t);o?Qe().UW(e,o):console.log(`Invalid static message key: ${t}`)},resetMessageExposures:()=>{Qe().bc(e)},tryShowMessage:(t,o)=>{const n=(0,Je().h2)(t);if(n){const t=Qe().$j(e,n,o);t.error&&console.log(`Could not show ${n} because of ${t.error}`)}else console.log(`Invalid static message key: ${t}`)},resetMessage:t,resetMessageSeen:t=>{Qe().nS(e,t)},resetLanguageSwitchPrompt:()=>{We({environment:e,userAction:"debuggingHelpers.resetLanguageSwitchPrompt",data:{language_switching_prompt_dismissals:[]}}),t("language_switch_prompt")},pushOrReplaceToast:e=>{o(773253).HK(e)},resetLayoutPageEducation:()=>{We({environment:e,userAction:"debuggingHelpers.resetLayoutPageEducation",data:{layout_info_panel_button_education_tooltip_dismissed_at:null,layout_builder_add_module_button_education_tooltip_dismissed_at:null}})},resetMwnFeatureModal:()=>{We({environment:e,userAction:"debuggingHelpers.resetMwnFeatureModal",data:{mwn_feature_modal_dismissed_at_millis:null}}),t("mwn_feature_modal")},resetSlackEmbedAiConnectorTooltip:()=>{We({environment:e,userAction:"debuggingHelpers.resetSlackEmbedAiConnectorTooltip",data:{seen_slack_embed_ai_connector_tooltip:!1}}),t("ai_slack_qna_embed_tooltip")},addDynamicCallout:t=>{Qe().Ez(e,t)},resetGithubAIConnectorAnnouncement:()=>{const{currentSpaceViewStore:o}=Me().default.state;o&&(Ae().createAndCommit({environment:e,userAction:"AiGithubAIConnectorAnnouncementModal.clearGithubAIConnectorAnnouncementSeenAt",canUndo:!0,perform:e=>{Ae().applyOperation({store:o,operation:{pointer:o.pointer,path:["settings"],command:"update",args:{...o.getSettings(),ai_github_ai_connector_announcement_seen_at:null}},transaction:e})}}),t("ai_github_ai_connector_announcement"))},resetJiraUniversalQnaAnnouncement:()=>{const{currentSpaceViewStore:o}=Me().default.state;o&&(Ae().createAndCommit({environment:e,userAction:"debuggingHelpers.resetJiraUniversalQnaAnnouncement",canUndo:!0,perform:e=>{Ae().applyOperation({store:o,operation:{pointer:o.pointer,path:["settings"],command:"update",args:{...o.getSettings(),ai_jira_universal_qna_announcement_seen_at:null}},transaction:e})}}),t("ai_jira_universal_qna_announcement"))},advanceDaysSinceCalloutDismissal:t=>{const{messageKey:o,nDays:n}=t,{currentUserSettingsStore:r,currentSpaceViewStore:a}=Me().default.state,i=Ge().c9.now().toMillis();if(r||a){if(r){const t=r.getSettings();if(t){const a=t.callout_dismissal_timestamps??[],s=new Map(a.map((e=>[e.name,e]))),l=s.get(o);l?(l.timestamp=Ge().c9.fromMillis(l.timestamp||i).minus({days:n}).toMillis(),Ae().createAndCommit({userAction:`debugHelpers.advanceDaysSinceCalloutDismissal(userSettings: ${o})`,environment:e,canUndo:!0,perform:e=>{Ce().mJ({userSettingsStore:r,transaction:e,data:{callout_dismissal_timestamps:Array.from(s.values())}})}})):console.warn(`No dismissal timestamp found for "${o}" in user settings.`)}else console.error("No user settings found!")}if(a){const t=a.getSettings();if(t){const r=t.callout_dismissal_timestamps??[],s=new Map(r.map((e=>[e.name,e]))),l=s.get(o);l?(l.timestamp=Ge().c9.fromMillis(l.timestamp||i).minus({days:n}).toMillis(),Ae().createAndCommit({userAction:`debugHelpers.advanceDaysSinceCalloutDismissal(spaceView: ${o})`,environment:e,canUndo:!0,perform:e=>{ke().AG(a,e,{callout_dismissal_timestamps:Array.from(s.values())})}})):console.warn(`No dismissal timestamp found for "${o}" in space view settings.`)}else console.error("No space view settings found!")}}else console.error("No user settings or space view store found!")},advanceDaysSinceCalloutSeen:t=>{const{messageKey:o,nDays:n}=t,{currentUserSettingsStore:r}=Me().default.state;if(!r)return void console.error("No user settings found!");const a=r.getSettings();if(!a)return void console.error("No user settings found!");const i={...a.callout_seen_timestamps??{}};console.log("Seen record:",i),i[o]?(i[o]=Ge().c9.fromMillis(i[o]).minus({days:n}).toMillis(),console.log("New seen record:",i),Ae().createAndCommit({userAction:`debugHelpers.advanceDaysSinceCalloutSeen(messageKey: ${o})`,environment:e,canUndo:!0,perform:e=>{Ce().mJ({userSettingsStore:r,transaction:e,data:{callout_seen_timestamps:i}})}})):console.warn(`No seen timestamp found for "${o}" in user settings.`)},resetAILimitNudge:()=>{We({environment:e,userAction:"debuggingHelpers.resetAiLimitNudge",data:{addOnLimitNotifications:null}}),t("ai_limit_nudge")},checkMessageEligibility:async t=>await Qe().TD(e,t)}}));const Ke=20;async function Ze(e,t){const o=(0,ye().ZA)(t)||t,{inMemoryRecordCache:n,persistedRecordCache:r}=e.defaultRecordCache;let a;for(const i of n.data)if(i.pointer.id===o){console.log(`Found a ${i.pointer.table} record in the in-memory record cache:`,i.model,i.model.__IM_SORRY__getValue());const e=n.checkRecordForTemporaryData(i);if(e&&console.log("The record has been augmented by temporary data:",e),r&&(0,ve().u)(i.pointer)){const e=await r.get({pointer:i.pointer,userId:i.userId});console.log("The record is also in the persisted record cache: ",e)}a=p().ms.fromModel(i.model)}return a||console.log("Alas, no records with the id were found in the in-memory record cache."),a}function Xe(e,t){return"string"==typeof e&&"string"==typeof t?Object.keys(v().jo).includes(e)?{table:e,id:(0,ye().ZA)(t)||t}:{table:t,id:(0,ye().ZA)(e)||e}:"string"!=typeof e||t?"object"==typeof e?e:t:{table:"block",id:(0,ye().ZA)(e)||e}}function Ye(e,t){if(t>Ke)return[];const o=[],n=(null==e?void 0:e.getAutomationStores())??[];o.push(...n.map((e=>tt(e))).filter(I().O9));const r=(null==e?void 0:e.getTemplatePageStores())??[];for(const i of r){const e=i.getAutomationStore();if(e){const t=tt(e);t&&o.push(t)}o.push(...et(i,t+1))}const a=e.getSchema();for(const i of Object.values(a))if("button"===(null==i?void 0:i.type)&&(0,I().O9)(i.automation_id)){const t=tt(Ne().dn.createChildStore(e,{id:i.automation_id,spaceId:e.getSpaceId(),table:g().yB}));t&&o.push(t)}return A().hS(o,(e=>m().L3.toKey(e.automation.pointer)))}function et(e,t){if(t>Ke)return[];const o=[];{const n=e.getAutomationStore();if(n){const e=tt(n);e&&o.push(e)}if(e.isCollectionView()){const n=e.getCollectionStore();n&&o.push(...Ye(n,t+1))}}const n=e.getContentStores();for(const r of n){const e=r.getAutomationStore();if(e){const t=tt(e);t&&o.push(t)}if(r.isCollectionView()){const e=r.getCollectionStore();e&&o.push(...Ye(e,t+1))}o.push(...et(r,t+1))}return A().hS(o,(e=>m().L3.toKey(e.automation.pointer)))}function tt(e){if(!e)return;const t=(null==e?void 0:e.getActionStores())??[],o=null==e?void 0:e.getCreatedByPointer(),n=(null==o?void 0:o.table)===_().oo&&(null==e?void 0:e.getRecordModel(o));return n?{automation:e,actions:t,createdBy:n,parent:e.getParentBlockStore()}:void 0}(0,n().exposeDebugEnvironmentValue)("debugging",(e=>{const t=function(e){const t=async(t,o)=>{const n=Xe(t,o),r=await(0,he().e)(e,{pointer:n,version:-1,userId:e.currentUser.id});return(null==r?void 0:r.value)||void 0},n=async(t,n)=>{var r;const i=Xe(t,n),s=await(0,he().e)(e,{pointer:i,version:-1,userId:e.currentUser.id}),l=null==s?void 0:s.value;if(!l)return void console.log(`Unable to find record ${(0,o(416199).jV)(i)}.`);const c=null===(r=(0,o(782422).ZO)())||void 0===r?void 0:r.pointer.spaceId;Ae().createAndCommit({environment:e,perform(t){const n=Ie().Wv({environment:e,type:a().xd.code,inMemoryRecordCache:e.defaultRecordCache.inMemoryRecordCache,transaction:t,spaceId:c});we().R9({environment:e,store:n.getBlockTitleStore(),transaction:t,value:[[JSON.stringify(l,null,2)]]}),o(318605).IA({blocks:[n],language:"JSON",transaction:t}),we().R9({environment:e,store:n.getCaptionStore(),transaction:t,value:[[`${i.table} ${i.id}`]]}),o(164186).LE({environment:e,blocksToInsert:[n],target:Le().default.state.stores,transaction:t,replaceEmptyTextBlock:!1})},userAction:"debuggingHelpers.editRecordJson",canUndo:!0}),console.log("Created a code block with the record source. You can make edits and, with the text cursor still in the block, use __console.updateRecordJson() to write it back to the database. Do not modify the caption.")},p=()=>{const t=Le().default.state.stores[0];if(!(t instanceof Oe().B&&t.isType(a().xd.code)))return void console.log("No code block is selected!");const o=(e=>{try{return JSON.parse(e)}catch(t){return void console.error(t)}})((0,S().q4_)(t.getTitleValue()));if(!o)return void console.log("Unable to parse JSON in selected code block.");const[n,r]=(0,S().q4_)(t.getCaptionStore().getValue()).split(" ");if(!n||!r)return void console.log("Unable to parse record pointer in caption.");const i=Xe(n,r);Ae().createAndCommit({environment:e,perform(n){const r=(0,Ne().Oo)(t,i);if(r instanceof Oe().B){const t=o.properties;if(t){delete o.properties;const a=t.title;a&&we().R9({environment:e,store:r.getBlockTitleStore(),value:a,transaction:n}),delete t.title,Ae().applyOperation({store:r,operation:{pointer:r.pointer,path:["properties"],command:"update",args:t},transaction:n})}}Ae().applyOperation({store:r,operation:{pointer:r.pointer,path:[],command:"update",args:o},transaction:n})},userAction:"debuggingHelpers.updateRecordJson",canUndo:!0}),console.log(`Updated ${n} ${r}. Press Cmd-Z (in Notion, not console) to undo.`)},m=async()=>{var t,o;const n=null===(t=Me().default.state.currentSpaceStore)||void 0===t?void 0:t.getSpaceId(),r=null===(o=Me().default.state.currentUserStore)||void 0===o?void 0:o.userId;if(!n||!r)return;const a=await(0,Fe().fetchUserSignals)({spaceId:n,environment:e});void 0!==a&&(0,Fe().setUserSignals)({spaceId:n,userId:r,environment:e,newSignals:a,initialize:!1})},b=()=>{var e,t;const o=null===(e=Me().default.state.currentSpaceStore)||void 0===e?void 0:e.getSpaceId(),n=null===(t=Me().default.state.currentUserStore)||void 0===t?void 0:t.userId;if(!o||!n)return;const r=De().default.getUserSignals({spaceId:o,userId:n});return r?De().USER_SIGNALS_KEYS.map((e=>[e,("similarUserRecentPages"===e?Array.from(Object.values(r[e])):r[e]).map((e=>{let{pageId:t,...o}=e;return{...o,pageId:t,page:T(f().ev,t)}}))])):void 0},k=t=>Ne().sk.createUniqueRootStore(e,t),w=(t,o)=>{var n;const r=Xe(t,o),a=e.defaultRecordCache.inMemoryRecordCache.getRecord({pointer:r,userId:e.currentUser.id});if(void 0===(null==a?void 0:a.value))return`${r.table}: ${r.id}`;const i="type"in a.value?a.value.type:r.table;return"name"in(null==a?void 0:a.value)?`${i} ${a.value.id} ${a.value.name}`:"properties"in(null==a?void 0:a.value)&&(0,I().O9)(a.value.properties)&&"title"in a.value.properties&&(0,I().O9)(null==a?void 0:a.value.properties.title)?`${i} ${a.value.id} ${a.value.properties.title.join(" ").slice(0,30)}`:`${i} ${null==a||null===(n=a.value)||void 0===n?void 0:n.id}`},C=(t,o)=>{const n=Xe(t,o);return e.defaultRecordCache.inMemoryRecordCache.getRecord({pointer:n,userId:e.currentUser.id})},T=(e,t)=>{const o=Xe(e,t),n=C(e,t),r={title:w(e,t),raw:null==n?void 0:n.value,parent:void 0,id:o,children:[]};var a,i;void 0!==(null==n?void 0:n.value)&&"parent_table"in(null==n?void 0:n.value)&&"parent_id"in(null==n?void 0:n.value)&&n.value.parent_id&&(r.parent=Xe(null===(a=n.value)||void 0===a?void 0:a.parent_id,null===(i=n.value)||void 0===i?void 0:i.parent_table));if(null!=n&&n.value&&"content"in(null==n?void 0:n.value)){var s;const e=(null==n||null===(s=n.value)||void 0===s?void 0:s.content)||[];for(const t of e){const e=Xe(t,"block"),n=C(t,"block"),a={title:w(t,"block"),raw:null==n?void 0:n.value,parent:o,id:e,children:[]};r.children.push(a)}}return r},x=()=>{var e;const t=null===(e=U())||void 0===e?void 0:e.id;if(t)return T(t,"block");console.error("Not opening")},P=(e,t)=>`${xe().A.adminUrl}/__admin/${e}/${t}`,E=(e,t)=>{window.open(P(e,t))},R=()=>{if(0!==Le().default.state.stores.length)return Le().default.state.stores.forEach((e=>{E(f().ev,e.id)}));console.error("No selected block")},M=()=>{Me().default.state.currentSpaceStore?E(o(528762).NX,Me().default.state.currentSpaceStore.id):console.error("No current space")},B=()=>{var e;const t=null===(e=U())||void 0===e?void 0:e.id;t?E(f().ev,t):console.error("Not opening")},U=()=>Ue().default.state.open?(console.warn("Returning peek view page, if you want the underlying page, please close it and try again"),Ue().default.state.targetStore):Me().default.state.mainEditorCurrentBlockStore?Me().default.state.mainEditorCurrentBlockStore:void console.error("No current mainEditorCurrentBlockStore"),N=t=>{if(!t.isTabbedPageLayout())return void console.error("Current layout is not a tabbed page layout, make it tabbed before using this function to add duplicate content tab");const n=t.getViewsModuleCollectionViewBlockStore();if(!n)return void console.error("No collection view block store found");const r=`view_tab_duplicate_${c()}`;Ae().createAndCommit({userAction:"debuggingHelpers.addDuplicateContentTabToCurrentLayout",environment:e,canUndo:!0,perform(a){(0,o(633163).Q)({environment:e,layoutStore:t,transaction:a,collectionViewBlockStore:n,options:{viewsTabId:r}})}})},O=()=>{var t;if(!Me().default.state.mainEditorCurrentBlockStore)return void console.error("No current mainEditorCurrentBlockStore");const o=Me().default.state.mainEditorCurrentBlockStore.getAssociatedCollectionStore()||Me().default.state.mainEditorCurrentBlockStore.getCollectionStore();if(!o)return void console.error("Cannot find collection store to remove Page sections from");const n=o.getFormat(),r=((null===(t=n.property_visibility)||void 0===t?void 0:t.filter((e=>"section"===e.visibility)))||[]).map((e=>e.property));Ae().createAndCommit({userAction:"debuggingHelpers.addRelationsGroupModuleToCurrentLayout",environment:e,canUndo:!0,perform(t){Se().LK({store:o,pageSectionFormats:[],transaction:t,environment:e}),r.forEach((e=>{Se().D7({property:e,visibility:"show",store:o,format:n,transaction:t})}))}})},L=t=>{const{visibility:o,section:n}=t,r=Me().default.state.mainEditorCurrentBlockStore;if(!o||!n)return void console.error("No visibility or section provided");if(!r)return;const a=r.getAssociatedCollectionStore()||r.getCollectionStore(),i=(null==a?void 0:a.getFormat())||r.getFormat();Se().OD({environment:e,store:a||r,pageSection:n,visibility:o,format:i})},V=()=>{var e,t;const o=null===(e=U())||void 0===e?void 0:e.getCreatedById(),n=null===(t=U())||void 0===t?void 0:t.getCreatedByTable();if(o&&n)return C(o,n);console.error("no created_by_id or created_by_table for this page")},D=()=>{var e;const t=V(),o=null==t||null===(e=t.value)||void 0===e?void 0:e.id;o?E(_().oo,o):console.error("no current page Creator, not opening")},$=function(t){var o;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1",r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;const i="string"==typeof t?{query:{text:t,filters:(0,h().N2)(),sort:{field:"relevance"}},limit:20,debug:n}:t;return{environment:e,input:i,spaceId:null===(o=Me().default.state.currentSpaceStore)||void 0===o?void 0:o.id,publicAccessPermissionAncestorBlockId:qe().Er(e).publicAccessPermissionAncestorBlockId,searchExperimentOverrides:a,forcedClusterPattern:r,source:"debugging"}},F=async function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const a="string"==typeof t?{query:{text:t,filters:(0,h().N2)(),sort:{field:"relevance"}},limit:20,debug:o}:t,i=Me().default.state.currentSpaceStore,{query:s,limit:l}=a;if(!i)return;const c=_e().callApi({eventName:"search",environment:e,data:{type:h().Vz.CollectionsInSpace,query:s.text.trim(),spaceId:i.id,limit:l,filters:h().N2({excludeTemplates:!0,requireEditPermissions:!0}),sort:{field:"relevance"},debug:o,searchExperimentOverrides:r,forcedClusterPattern:n}}),d=await c;return"success"===d.type?d.data:d},j={id:"root0000-0000",table:"block"},H=e=>{var t;if(void 0!==(null==e||null===(t=e.value)||void 0===t?void 0:t.parent_id))return Xe(e.value.parent_id,e.value.parent_table)},z=e=>{const t=new(o(366436).A);e.map((e=>{const o=Xe(e.id,e.table),n=w(e.id,e.table),r=C(e.id,e.table),a={title:n,parent:H(r),id:o,raw:null==r?void 0:r.value,children:[]};t.set(o,a)}));const n={title:"root",parent:void 0,id:j,raw:void 0,children:[]};return e.map((e=>{const o=Xe(e.id,e.table),r=t.get(o);var a;void 0!==(null==r?void 0:r.parent)&&t.has(r.parent)?null===(a=t.get(r.parent))||void 0===a||a.children.push(r):void 0!==r?n.children.push(r):n.children.push({title:"Failed to load Record",parent:void 0,id:o,raw:void 0,children:[]})})),n},q=()=>{if(!Be().default.isStatsigEnabled())throw new Error("Failed to override: Statsig not enabled");if(!Ve().A.isInitialized())throw new Error("Failed to override: Statsig not initialized")},G=()=>{var e;return null===(e=U())||void 0===e?void 0:e.getSpaceId()},J=()=>{var e;return null===(e=Me().default.state.currentUserStore)||void 0===e?void 0:e.id},Q=async t=>{const o=G(),n=J(),r=`${"production"}-main-usw2-0001`,a=await _e().callApi({eventName:"getSpacesInitial",environment:e,data:{},headers:{[u().tx]:r}});if(o&&n&&"success"===a.type){const e=a.data.fanoutData,t=(null==e?void 0:e.filter((e=>{let{request:t}=e;return t.users[n].some((e=>{let{spaceId:t}=e;return t===o}))})))||[];return t.length>0?t[0].headers[u().tx]:void 0}},W=()=>{const e=U();if(e)return et(e,0)},K=()=>{var t;const n=null===(t=Me().default.state.currentSpaceStore)||void 0===t?void 0:t.id,r=e.currentUser.id;if(n&&r)return(0,o(876841).hj)({spaceId:n,userId:r})},Z=async(t,n)=>{const r=await Pe().T.formulas.load(),a=U(),i=null==a?void 0:a.getModel();if(!a||!i||!i.isPageBlock())return;const s=a.getRecordModel,c=a.getRecordRole,u=s({id:t,spaceId:a.getSpaceId(),table:g().yB});if(!u)return;const p=(0,o(88442).t1)(e),m=u.getActionPointers().map((e=>s(e))).filter(I().O9);return m.length===u.getActionIds().length?(0,o(644518).typecheckAutomation)("button_block"===n?{actionModels:m,automationModel:u,assistantFeatureGate:p,checkExperimentGate:e=>Be().default.checkGate({gateName:e}),contextType:n,formulasModule:r,getRecordModel:s,getRecordRole:c,intl:(0,d()._z)(),isSubscribed:(0,$e().y4)(),pageBlockModel:i,userTimeZone:(0,l().P)(),valueTypes:[],env:"production"}:{actionModels:m,automationModel:u,assistantFeatureGate:p,checkExperimentGate:e=>Be().default.checkGate({gateName:e}),contextType:n,formulasModule:r,getRecordModel:s,getRecordRole:c,intl:(0,d()._z)(),isSubscribed:(0,$e().y4)(),userTimeZone:(0,l().P)(),valueTypes:[],env:"production"}):void 0},X=async t=>{var n,r;const i=U();if(!i)throw new Error("Could not get current page");const s=Ne().dn.createChildStore(i,{id:t,table:g().yB,spaceId:i.getSpaceId()}),[l,c,d]=await Promise.all([Pe().T.formulas.load(),Te().QV.automationTypecheck.load(),Te().QV.automationActionRegistry.load()]),u=Me().default.state,p=(0,o(133926).zD)(e,{name:"premium_automations",spaceId:null===(n=u.currentSpaceStore)||void 0===n?void 0:n.id,userId:null===(r=u.currentUserStore)||void 0===r?void 0:r.id});if(s.isTriggerType("button")){const n=s.getParentStore();if(!n)throw new Error("Could not get parent store");if(n instanceof Oe().B){var m;if(!n.isType(a().xd.button))throw new Error("Unexpected parent for button block automation");if(!i.isPageBlock())throw new Error("Current page must be a page block for button analysis");return(0,je().jl)({environment:e,automationActionRegistryModule:d,automationStore:s,automationTypecheckModule:c,blockStore:n,currentUserId:null===(m=e.currentUser)||void 0===m?void 0:m.id,isLoggedIn:e.currentUser.isLoggedIn(),formulasModule:l,intl:ze().A.getIntl(),isSubscribed:p,pageStore:i,parentRecordStore:s,type:"button_block"})}{var f;const r=Object.entries(n.getSchema()).find((e=>{let[,o]=e;return"button"===(null==o?void 0:o.type)&&o.automation_id===t}));if(!r)throw new Error("Could not find property schema for button automation");const[a,i]=r;if("button"!==(null==i?void 0:i.type))throw new Error("Expected button property schema");const u=new(o(595922).A)(e);return u.setContext({type:"collectionPage",collectionViewBlockStore:void 0,collectionStore:n}),(0,je().jl)({environment:e,automationActionRegistryModule:d,automationStore:s,automationTypecheckModule:c,collectionContextStore:u,currentUserId:null===(f=e.currentUser)||void 0===f?void 0:f.id,formulasModule:l,intl:ze().A.getIntl(),isLoggedIn:e.currentUser.isLoggedIn(),isSubscribed:p,parentRecordStore:s,propertyId:a,propertySchema:i,type:"button_property"})}}if((0,He().$X)(s))return(0,je().sl)({environment:e,automationActionRegistryModule:d,automationTypecheckModule:c,automationStore:s,contextType:(0,He().H8)((0,fe().o9)(s.getTriggerType(),"Could not get trigger type")),formulasModule:l,intl:ze().A.getIntl(),isSubscribed:p});throw new Error("Unexpected automation type")},Y=t=>{const o=Me().default.state.currentUserSettingsStore,n=null==o?void 0:o.getSettings();if(!o||!n)return void console.error("Could not find current user settings");const r=e=>e?(0,i().K1)({date:e,daysToAdd:-t}):e;Ae().createAndCommit({userAction:"debuggingHelpers.advanceAssistantOnboardingNDays",environment:e,canUndo:!0,userId:o.id,perform:e=>{Ce().mJ({userSettingsStore:o,data:{last_exposed_to_ai_qna_at:r(n.last_exposed_to_ai_qna_at),last_used_ai_writer_at:r(n.last_used_ai_writer_at),ai_assistant_onboarding_phase_last_set_at:r(n.ai_assistant_onboarding_phase_last_set_at),ai_assistant_tutorial_dismissed_at:r(n.ai_assistant_tutorial_dismissed_at),ai_sales_assisted_extra_notification_seen_at:r(n.ai_sales_assisted_extra_notification_seen_at),qna_reminders_shown_at:(0,I().O9)(n.qna_reminders_shown_at)?n.qna_reminders_shown_at.map((e=>(0,i().K1)({date:e,daysToAdd:-t}))):void 0},transaction:e})}})},ee=()=>{const t=Me().default.state.currentUserSettingsStore;t?Ae().createAndCommit({userAction:"debuggingHelpers.resetNotionAiSidebarNewBadge",environment:e,canUndo:!0,userId:t.id,perform:e=>{Ce().mJ({userSettingsStore:t,data:{ai_sidebar_item_new_badge_dismissed_at:null},transaction:e})}}):console.error("Could not find current user settings")},te=()=>{const t=Me().default.state.currentSpaceViewStore;t&&Ae().createAndCommit({userAction:"SidebarPersonalHomeSettings.markWelcomeAnimationAsSeen",environment:e,canUndo:!0,perform:e=>{const o=t.getSettingsStore().getKeyStore("personal_home").getKeyStore("seen_welcome_animation");Ie().KY({store:o,transaction:e,value:!1})}})},oe=()=>{const t=Me().default.state.currentSpaceViewStore;t?Ae().createAndCommit({environment:e,userAction:"debuggingHelpers.resetDatabaseAISummaryDismiss",canUndo:!0,perform:e=>{ke().AG(t,e,{dismissed_db_page_summary_suggestion:0})}}):console.error("Could not find current space view")},ne=()=>{const t=Me().default.state.currentSpaceViewStore;t?Ae().createAndCommit({userAction:"githubAIConnector.onboarding.dismissPersonalAuthPrompt",environment:e,canUndo:!0,perform:e=>{t&&Ae().applyOperation({store:t,operation:{pointer:t.pointer,path:["settings"],command:"update",args:{...t.getSettings(),dismissed_github_personal_auth_prompt:!1}},transaction:e})}}):console.error("Could not find current user settings")},re=()=>{const t=Me().default.state.currentUserSettingsStore;t?Ae().createAndCommit({userAction:"debuggingHelpers.clearQnAOnboarding",environment:e,canUndo:!0,userId:t.id,perform:e=>{var o;Ce().mJ({userSettingsStore:t,data:{ai_qna_intro_onboarding_phase:null,last_exposed_to_ai_qna_at:null,last_used_ai_writer_at:null,qna_reminders_shown_at:null,ai_assistant_onboarding_phase:null,ai_assistant_tooltips_onboarding_phase:null,ai_onboarding_phase:null,ai_assistant_onboarding_phase_last_set_at:null,ai_sales_assisted_extra_notification_seen_at:null,ai_assistant_tutorial_dismissed_at:null,assistant_summarize_this_page_shown_at:void 0,ai_qna_abandoned_search_reminder_shown_at:void 0,callout_dismissal_timestamps:((null===(o=t.getSettings())||void 0===o?void 0:o.callout_dismissal_timestamps)??[]).filter((e=>"ai_assistant_announcement"!==e.name))},transaction:e})}}):console.error("Could not find current user settings")},ae=()=>{const{currentSpaceViewStore:t}=Me().default.state;t&&Ae().createAndCommit({environment:e,userAction:"AiSlackQnaNotificationTooltip.clearSlackQnaAnnouncementSeenAt",canUndo:!0,perform:e=>{Ae().applyOperation({store:t,operation:{pointer:t.pointer,path:["settings"],command:"update",args:{...t.getSettings(),slack_universal_qna_announcement_seen_at:null}},transaction:e})}})},ie=()=>{const t=Me().default.state.currentUserSettingsStore;t?Ae().createAndCommit({userAction:"debuggingHelpers.resetTwoWayLimitAddRelationConfirmationDialog",environment:e,canUndo:!0,userId:t.id,perform:e=>{Ce().mJ({userSettingsStore:t,data:{relation_limit_confirmation_dialog_dismissed_at:null},transaction:e})}}):console.error("Could not find current user settings")},se=()=>{const t=Me().default.state.currentUserSettingsStore;t?Ae().createAndCommit({userAction:"debuggingHelpers.resetAiPageTranslationPassiveSuggestions",environment:e,canUndo:!0,userId:t.id,perform:e=>{Ce().mJ({userSettingsStore:t,data:{ai_page_translation_dismissed_at:null},transaction:e})}}):console.error("Could not find current user settings")},le=()=>{const{currentSpaceViewStore:t}=Me().default.state;t&&Ae().createAndCommit({environment:e,userAction:"AiGoogleDriveQnaNotificationTooltip.clearGoogleDriveQnaAnnouncementSeenAt",canUndo:!0,perform:e=>{Ae().applyOperation({store:t,operation:{pointer:t.pointer,path:["settings"],command:"update",args:{...t.getSettings(),google_drive_universal_qna_announcement_seen_at:null}},transaction:e})}})},ce=()=>{const t=Me().default.state.currentSpaceStore,o=Me().default.state.currentSpaceViewStore;t&&o?Ae().createAndCommit({userAction:"debuggingHelpers.resetAssistantLeapSettings",environment:e,canUndo:!0,perform:e=>{Ie().zv({store:t,data:{settings:{...t.getSettings(),enable_ai_training:void 0}},transaction:e}),Ae().applyOperation({store:o,operation:{pointer:o.pointer,path:["settings"],command:"update",args:{...o.getSettings(),has_user_seen_leap_modal:!1}},transaction:e})}}):console.error("Could not find current space")},de=()=>{const t=Me().default.state.currentSpaceViewStore;t?Ae().createAndCommit({userAction:"slackAIConnector.onboarding.dismissPersonalAuthPrompt",environment:e,canUndo:!0,perform:e=>{t&&Ae().applyOperation({store:t,operation:{pointer:t.pointer,path:["settings"],command:"update",args:{...t.getSettings(),dismissed_slack_personal_auth_prompt:!1}},transaction:e})}}):console.error("Could not find current user settings")},ue=()=>{const{RouterStore:t}=e,o=Me().default.state.currentSpaceStore;if(!o)return;const n=t.state.route;let r;if("chat"===n.name?r=n.threadId:"page"===n.name&&(r=(0,ye().ZA)(n.chatThreadId)),!r)return;const a=Ne().Ei.createChildStore(o,{id:r,spaceId:o.id,table:y().To});return{thread:a,messages:a.getMessageStores()}},pe=()=>{const{thread:e}=ue()??{};return e?e.getTranscript():[]},me=()=>(0,r().XY)(pe()),ve=()=>{const e=pe();return(0,r().YO)({transcript:e}).toJson()},Ge=()=>{var t,o,n,r,a;const{RouterStore:i}=e,s=i.state.route;if("page"!==s.name)return;const l=s.collectionViewId;if(!l)return void console.error("Must run this from a Form view");const c=null===(t=C(l,"collection_view"))||void 0===t?void 0:t.value;if(!c||"form_editor"!==c.type)return void console.error("Must run this from a Form view");const d=(null===(o=c.format)||void 0===o||null===(o=o.form_block_pointer)||void 0===o?void 0:o.id)??"",u=null===(n=C(d,"block"))||void 0===n?void 0:n.value;if(!u)return void console.error("Can't load form block");const p=(null===(r=u.format)||void 0===r||null===(r=r.form_layout_pointer)||void 0===r?void 0:r.id)??"",m=null===(a=C(p,"layout"))||void 0===a?void 0:a.value;m?(console.log("Form editor view: \n"),console.log(c),console.log("Form block: \n"),console.log(u),console.log("Form layout: \n"),console.log(m)):console.error("Can't load form layout")},Je=()=>{const t=Me().default.state.currentUserSettingsStore;t?Ae().createAndCommit({userAction:"debuggingHelpers.resetJiraOnboardingTourLaunch",environment:e,canUndo:!0,userId:t.id,perform:e=>{Ce().mJ({userSettingsStore:t,data:{tutorials:{"jira-sync-onboarding":"all-projects-tooltip"},jira_sync_onboarding_tour_state:"notSeen",seen_jira_sync_source_tooltip:!1},transaction:e})}}):console.error("Could not find current user settings")},Qe=()=>{const t=Me().default.state.currentUserSettingsStore;t?Ae().createAndCommit({userAction:"debuggingHelpers.resetImproveJiraSyncPopup",environment:e,canUndo:!0,userId:t.id,perform:e=>{Ce().mJ({userSettingsStore:t,data:{seen_improve_jira_sync_popup:null},transaction:e})}}):console.error("Could not find current user settings")},We=()=>{const t=Me().default.state.currentUserSettingsStore;t?Ae().createAndCommit({userAction:"debuggingHelpers.resetJiraSetupGuide",environment:e,canUndo:!0,userId:t.id,perform:e=>{Ce().mJ({userSettingsStore:t,data:{jira_sync_guide_dismissed_at:null},transaction:e})}}):console.error("Could not find current user settings")},Ke=async()=>{const{currentSpaceStore:t,currentSpaceViewStore:n}=Me().default.state;if(t){const r=await(0,o(867834).h)({environment:e,currentSpaceStore:t,currentSpaceViewStore:n}),a=new Map;return r.getAllBlocks().forEach((e=>{e.block.source.forEach((t=>{const o=a.get(t)||[];o?a.set(t,[...o,e.block]):a.set(t,[e.block])}))})),{...r,groupedPages:a}}},Ye=async()=>{var t;const o=null===(t=e.defaultRecordCache.persistedRecordCache)||void 0===t?void 0:t.getDedicatedWorkerConnection_DEBUG_ONLY();if(!o)throw new Error("Browser SQLite is not active here!");await o.completelyRebuildSqliteDb(),console.log("Browser SQLite DB successfully reset!")},tt=async()=>{try{var t;await(null===(t=e.defaultRecordCache.persistedRecordCache)||void 0===t?void 0:t.reset()),o(449596).A.reset()}catch(n){console.error("Error resetting SQLite:",n)}finally{console.log("SQLite reset successfully")}},ot=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unread_and_read",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en-US";const r=G();if(r){const a=await _e().callApi({eventName:"getNotificationsForInbox",environment:e,data:{spaceId:r,size:o,type:t,locale:n}});console.log(a)}else console.log("no space id")},nt=t=>{const n=o(220574).RecordMapWithRole.create();for(const[o,r]of Object.entries(t)){if(!v().bI(o)||!Array.isArray(r))throw new Error(`Not a table: ${o}. Argument should be like { block: [id1, id2], collection: [...], ... }`);for(const t of r){const r={table:o,id:t},a=e.defaultRecordCache.inMemoryRecordCache.getRecord({pointer:r,userId:e.currentUser.id});a&&n.setValueAndRole(r,a.value,a.role)}}return n},rt=e=>nt(e).toRecordMap(),at=()=>{const t=U();t&&(0,o(528569).l)({environment:e,pageStore:t,duplicateTo:"private_pages",triggeredFrom:"debugging_helper"})},it=()=>{const t=U();if(!t)return;const n=(new ge).mapPageToXML({pagePointer:t.getSpaceShardedPointer(),intl:(0,d()._z)(),getRecordModel:e.defaultRecordCache.inMemoryRecordCache.makeGetRecordModelFn(e.currentUser.id),serverOrClientConfig:{domainBaseUrl:xe().A.domainBaseUrl,publicDomainBaseUrl:xe().A.publicDomainName},experimentService:Be().default,formulasModule:s()});return(0,o(524070)._o)(n)},st=async t=>await(0,o(340362).p)({environment:e,chatTranscriptStorageStep:t,chatStartTimestamp:Date.now(),makeActiveSession:!0}),lt=()=>{const t=Me().default.state.currentUserSettingsStore;t?Ae().createAndCommit({userAction:"debuggingHelpers.resetAssistantSuggestionExposure",environment:e,canUndo:!0,userId:t.id,perform:e=>{Ce().mJ({userSettingsStore:t,data:{ai_suggested_skill_exposure_tracker:null},transaction:e})}}):console.error("Could not find current user settings")},ct=()=>{console.error("Mock connector statuses are not enabled in production")},dt=()=>{be().ZC.setState(!1)},ut=(t,o)=>{if(be().ZC.state)try{be().Wh(e,t,o),console.log("Setting mock connector status for",t,o)}catch(n){console.error(n)}else console.error("Mock connector statuses are not enabled")},pt=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2500;be().jx(e,t).catch((e=>{console.error(e)})).finally((()=>{console.log("Mock connector statuses run through complete.")}))};return{getRecordFromApi:t,getRecordFromCache:C,getAdminUrl:P,getSelectedBlocks:()=>Le().default.state.stores,openInAdmin:E,openSelectedBlocksInAdmin:R,openCurrentPageCreatorInAdmin:D,getCurrentPage:U,getCurrentLayoutStore:()=>{var e,t;const n=Ee().g.state.isOpen&&"layout-editor"===Ee().g.state.mode&&Ee().g.state.collectionStore;if(n){var r,a;const e=null===(r=o(838572).A.state.caches[o(468933).oB])||void 0===r?void 0:r.inMemoryRecordCache;return null===(a=n.getLayoutStore())||void 0===a?void 0:a.clone(e)}const i=null===(e=Me().default.state.mainEditorCurrentBlockStore)||void 0===e?void 0:e.getAssociatedLayoutStore();if(i)return i;const s=n?[n]:(null===(t=Me().default.state.mainEditorCurrentBlockStore)||void 0===t?void 0:t.getCollectionStores())??[];if(0===s.length)return void console.error("Collection pages use layouts, but can't find a collection page in the main editor.");const l=s.map((e=>e.getLayoutStore())).filter(I().O9);if(0!==l.length)return l.length>1&&console.error("Multiple layout stores found, returning first one"),l[0];console.error("This collection doesn't have a layout in main editor.")},addDuplicateContentTabToCurrentLayout:N,removeAllCollectionPageSections:O,setPageSectionVisibility:L,getCurrentNormalizedPropertyGroups:()=>{if(!Me().default.state.mainEditorCurrentBlockStore)return void console.error("No current mainEditorCurrentBlockStore");const e=Me().default.state.mainEditorCurrentBlockStore.getAssociatedCollectionStore()||Me().default.state.mainEditorCurrentBlockStore.getCollectionStore();if(e)return e.getNormalizedPropertyGroups();console.error("Property groups are stored on collections but can't find collection in main editor.")},openCurrentPageInAdmin:B,openCurrentSpaceInAdmin:M,quickFind:function(e){const t=$(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1",arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0),o=qe().Uc(t);return o&&o.then((e=>"success"===e.type?e.data:e))},quickFindRequest:function(e){return $(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1",arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)},quickFindCollections:F,getCurrentPageDetail:x,getHomeBlockIdsForUser:K,getRecordStore:k,getRecordDetail:T,getRecordTitle:w,getRecordTree:z,overrideStatsigLocalExperiment:(e,t)=>{q(),Ve().A.updateLocalOverrideConfig(e,t)},overrideStatsigLocalFeatureGate:(e,t)=>{q(),Ve().A.updateLocalOverrideGate(e,t)},removeAllStatsigLocalOverrides:()=>{q(),Ve().A.removeAllLocalOverrides()},getCurrentSpaceId:G,getCurrentUserId:J,getAutomationsForSelectedBlocks:()=>Le().default.state.stores.map((e=>et(e,0))).filter(I().O9),getAutomationsForCurrentPage:W,getCurrentThread:ue,getCurrentThreadSteps:pe,getCurrentThreadOperations:me,getCurrentThreadRecordMap:ve,debugCompileAutomation:Z,getAutomationAnalysis:X,generateTutorialData:(e,t,o)=>{const n="production";if("development"!==n&&"local"!==n)return;const r=o??Me().default.state.mainEditorCurrentBlockStore,a=null==r?void 0:r.getType(),i=null==r?void 0:r.getProperties(),s=null==r?void 0:r.getFormat();if(!(r&&a&&i&&s))return void console.log(`Missing one of these: ${JSON.stringify({rootBlockStore:r,type:a,properties:i,format:s})}`);function l(e,t){const o=t.getContentStores();return A().Bq(o.map(((t,o)=>{const n=t.getType(),r=t.getProperties(),a=t.getFormat();if(!n||!r||!a)return;return[{uri:`${e}/${o}`,type:"block",parentUri:e,parentType:"block",blockValue:{type:n,properties:r,format:a}},...l(`${e}/${o}`,t)]}))).filter(I().O9)}const c=[{uri:e,type:"block",parentUri:t,parentType:"collection",blockValue:{type:a,properties:i,format:s}},...l(e,r)];function d(t){const o=t.replace(e,"").split("/");return A().xQ(e)+o.join("_")}const u={},p=c.map((t=>{const o=t.uri;return JSON.stringify(t,((n,r)=>{if("uri"===n||"parentUri"===n)return["<<<START>>>","`",r.replace(e,"${uri}"),"`","<<<END>>>"].join("");if("title"===n&&Array.isArray(r)&&"image"!==t.blockValue.type){const e=[];for(const[t,n]of r.entries()){if(n.length>1&&"a"===n[1][0][0])return n;const r=d(`${o}/${t}`),a=[["<<<START>>>",`LocalizationHelper.formatMessage(messages.${r})`,"<<<END>>>"].join(""),...n.slice(1)];u[r]={defaultMessage:n[0],id:r,description:"Page template's content"},e.push(a)}return e}return r}))})).map((e=>e.replace(/"<<<START>>>/g,"").replace(/<<<END>>>"/g,"").replace(/<<<QUOTE>>>/g,'"')));return`\n\t\t\tconst messages = defineMessages({\n\t\t\t\t${(0,I().WP)(u).map((e=>{let[t,o]=e;return`"${t}": {\n\t\t\t\t\t\t\t\t\tid: "${o.id}",\n\t\t\t\t\t\t\t\t\tdefaultMessage: \`${o.defaultMessage}\`,\n\t\t\t\t\t\t\t\t\tdescription: "${o.description}",\n\t\t\t\t\t\t\t\t}`})).join(",\n")}\n\t\t\t})\n\t\t\tconst uri = "${e}"\n\t\t\treturn [\n\t\t\t\t${p.join(", ")}\n\t\t\t]`},setHomeTemplatesPersona:e=>{const t=[...Re().U7.map((e=>({personaValue:{type:"function",persona:e},key:`function - ${e}`}))),...Re().mh.map((e=>({personaValue:{type:"space_intent",persona:e},key:`space_intent - ${e}`}))),...Re().Ol.map((e=>({personaValue:{type:"space_type",persona:e},key:`space_type - ${e}`})))],n=t.find((t=>t.key===e));n?o(734898).A.setState(n.personaValue):console.error("input must be one of the following values",t.map((e=>e.key)))},setHomeLearnUserType:e=>{const t={isMultiplayer:e.isMultiplayer??!1,isNewAccount:e.isNewAccount??!1,isWorkspaceOwner:e.isWorkspaceOwner??!1,isOnTrial:e.isOnTrial??!1,persona:e.persona};o(118808).A.setState(t)},advanceAssistantOnboardingNDays:Y,printAllFormsDataModel:Ge,resetJiraOnboardingTourLaunch:Je,resetImproveJiraSyncPopup:Qe,resetJiraSetupGuide:We,getAllUserSignals:b,loadAllUserSignals:m,getLocalSearchableCache:Ke,saveFileFromOpfs:async e=>{const t=await navigator.storage.getDirectory(),o=await(await t.getFileHandle(e)).getFile(),n=document.createElement("a");n.href=URL.createObjectURL(o),n.download=e,n.click()},resetBrowserSqlite:Ye,resetSqliteForOffline:tt,resetNotionAiSidebarNewBadge:ee,resetWelcomeHomeAnimation:te,resetDatabaseAISummaryDismiss:oe,getNotificationsforInbox:ot,createRecordMapWithRole:nt,createRecordMap:rt,findId:Ze.bind(null,e),editRecordJson:n,updateRecordJson:p,duplicateTranslatedPage:at,loadAssistantChatTranscriptStorageStep:st,resetGithubPersonalAuthPrompt:ne,resetSlackPersonalAuthPrompt:de,getTranslatedPageXml:it,resetAssistantSuggestionExposure:lt,resetGoogleDriveOnboarding:le,resetSlackOnboarding:ae,resetAssistantOnboarding:re,resetAssistantLeapSettings:ce,resetTwoWayLimitAddRelationConfirmationDialog:ie,resetAiPageTranslationPassiveSuggestions:se,getCurrentCellId:Q,turnOnMockConnectorStatuses:ct,setMockConnectorStatus:ut,runThroughAllMockConnectorStatuses:pt,turnOffMockConnectorStatuses:dt}}(e);for(const[n,r]of Object.entries(t))(0,o(996094).exposeDebugValue)(n,r);return t}))},528569:(e,t,o)=>{o.d(t,{l:()=>I});o(610931),o(725707),o(771702);var n=()=>o(712437),r=()=>o(145017),a=()=>o(76394),i=()=>o(927999),s=()=>o(574541),l=()=>o(795394),c=()=>o(191756),d=()=>o(163875),u=()=>o(448316),p=()=>o(84543),m=()=>o(425447),g=()=>o(137476),f=()=>o(802789),v=()=>o(485966),y=()=>o(840024),_=()=>o(615661),h=()=>o(413871),S=()=>o(937968),b=()=>o(978413);function I(e){try{const{pageStore:t,environment:o,duplicateTo:r,triggeredFrom:u}=e,{currentUserStore:h,currentSpaceStore:b,currentSpaceViewStore:I}=v().default.state;if(!y().zD.isFullPageTranslateEnabled())throw new Error("Invalid call to duplicateTranslatedPage: full page translate is not enabled");if(!h||!b||!I)throw new Error("Cannot duplicate translated page: missing required stores");if(!(0,S().EF)(o))throw new Error("Cannot duplicate translated page: user cannot create page");const w=_().Uv.getStateForBlock(t.id);if(!w)throw new Error("Cannot duplicate translated page: no editor mode state");if("translate_locked"!==w.mode||"active"!==w.status)throw new Error("Cannot duplicate translated page: invalid editor mode state");const A=async e=>{const{duplicateStore:r,duplicateBlockResultStatusPromise:a}=e;try{"success"===(await a).status&&(r.isLocked()&&p().createAndCommit({userAction:"fullPageTranslationActions.duplicateTranslatedPage.unlockPage",environment:o,canUndo:!0,perform:e=>{i()._l({environment:o,store:r,isLocked:!1,transaction:e})}}),c().uK({environment:o,store:r,pageVisitSource:n().y8.SavePageTranslationCopy}),s().DL({pageStore:t,environment:o,triggeredFrom:"navigation"}))}catch(l){throw new Error("Error duplicating translated page",{cause:l})}};if((0,g().u4)({environment:o,event:{eventName:"duplicate_translated_page",eventProperties:{duplicate_to:r,triggered_from:u,page_id:t.id}}}),"parent"===r){const e=t.getParentStore();if("block"!==(null==e?void 0:e.table)&&"team"!==(null==e?void 0:e.table)&&"space"!==(null==e?void 0:e.table)&&"collection"!==(null==e?void 0:e.table))throw new Error("Cannot duplicate translated page: invalid parent store table");const n=p().createAndCommit({userAction:"fullPageTranslationActions.duplicateTranslatedPageToParent",environment:o,canUndo:!0,perform:n=>{const{blockStores:r,onComplete:i}=m().duplicateBlock({environment:o,stores:[t],transaction:n,targetSpaceId:b.id,preferDuplicateLocation:"local",options:{addCopyName:!1,deepCopyTransclusionContainers:!0,resolveTemplateVariables:!t.isInsideTemplate(),returnRecordIdMap:!0}}),s=r[0],c={type:"append",after:t.id};switch(e.table){case"team":(0,f().moveToTeamImpl)({transaction:n,currentSpaceViewStore:I,teamStore:e,targets:[s],environment:o,location:c,action:"move",value:{type:"team",id:e.id,spaceId:b.id}});break;case"block":l().NI({parentStore:e,childStore:s,transaction:n,after:c.after});break;case"space":d().yM({environment:o,spaceStore:b,spaceViewStore:I,pageStore:s,isPrivate:!0,location:c,transaction:n});break;case"collection":l().X$({childStore:s,parentStore:e,transaction:n});break;default:(0,a().HB)(e)}const u=i.then((e=>("success"===e.status&&e.recordIdMap&&k({environment:o,blockToTranslateStore:s,applyTranslationMap:w.translationMap,recordIdMap:e.recordIdMap}),e)));return{duplicateStore:s,duplicateBlockResultStatusPromise:u}}}).performResult;return A(n),n.duplicateStore}if("private_pages"===r){const e=p().createAndCommit({userAction:"fullPageTranslationActions.duplicateTranslatedPageToPrivatePages",environment:o,canUndo:!0,perform:e=>{const{blockStores:n,onComplete:r}=m().duplicateBlock({environment:o,stores:[t],transaction:e,targetSpaceId:b.id,preferDuplicateLocation:"local",options:{addCopyName:!1,deepCopyTransclusionContainers:!0,resolveTemplateVariables:!t.isInsideTemplate(),returnRecordIdMap:!0}}),a=n[0];d().yM({environment:o,spaceStore:b,spaceViewStore:I,pageStore:a,isPrivate:!0,location:{type:"prepend"},transaction:e});const i=r.then((e=>("success"===e.status&&e.recordIdMap&&k({environment:o,blockToTranslateStore:a,applyTranslationMap:w.translationMap,recordIdMap:e.recordIdMap}),e)));return{duplicateStore:a,duplicateBlockResultStatusPromise:i}}}).performResult;return A(e),e.duplicateStore}(0,a().HB)(r)}catch(t){(0,b().l)(t)}}function k(e){const{environment:t,blockToTranslateStore:o,applyTranslationMap:n,recordIdMap:i}=e,l=s().Js({translationMap:n,recordIdMap:i});p().createAndCommit({userAction:"serverDuplicate.applyTranslationMap",environment:t,canUndo:!0,perform(e){for(const[n,i]of Object.entries(l)){const s=h().Bv.createChildStore(o,{table:r().ev,id:n,spaceId:o.getSpaceId()});let l;if("title"===i.mapping)l=s.getBlockTitleStore();else if("caption"===i.mapping)l=s.getPropertyStore("caption");else{if("unmapped"===i.mapping)continue;if("properties"===i.mapping){Object.entries(i.properties??{}).forEach((o=>{let[n,r]=o;const a=s.getPropertyStore(n);u().R9({environment:t,store:a,value:r.value,transaction:e})}));continue}(0,a().HB)(i.mapping)}u().R9({environment:t,store:l,value:i.value,transaction:e})}}})}},633163:(e,t,o)=>{o.d(t,{$:()=>p,Q:()=>m});o(610931);var n=()=>o(145017),r=()=>o(289765),a=()=>o(795394),i=()=>o(759625),s=()=>o(84543),l=()=>o(754697),c=()=>o(477784),d=()=>o(413871),u=()=>o(800057);function p(e){const{environment:t,layoutStore:o,transaction:n,options:r}=e,{inMemoryRecordCache:s}=o,l=o.getSpaceId(),c=o.getParentPointer();if(!c||"collection"!==c.table)throw new Error("Invalid state: no collection pointer");if(!l)throw new Error("Cannot add collection view to views main module -- Invalid state: no space id");const d=i().Wv({environment:t,type:"collection_view",inMemoryRecordCache:s,transaction:n});a().NI({childStore:d,parentStore:o,transaction:n});const{collectionViewStore:u}=m({environment:t,transaction:n,layoutStore:o,collectionViewBlockStore:d,options:r});return{collectionViewStore:u,collectionViewBlockStore:d}}function m(e){const{environment:t,transaction:o,layoutStore:a,collectionViewBlockStore:p,options:m}=e,{inMemoryRecordCache:g}=a,f=a.getParentPointer();if(!f||"collection"!==f.table)throw new Error("Invalid state: no collection pointer");const v=a.getSpaceId();if(!v)throw new Error("Cannot add collection view to views main module -- Invalid state: no space id");const y=(0,l().JH)({environment:t,table:r().Gy,spaceId:v}),_={id:y.id,type:"page",parent_id:p.pointer.id,parent_table:n().ev,space_id:v,alive:!0,name:c().A.formatMessage(u().s.editor),format:{collection_pointer:f,hide_linked_collection_name:!0}};return null!=m&&m.viewsTabId&&(_.format={..._.format,page_layout_pointer:{...a.pointer,views_main_tab_id:m.viewsTabId}}),i().eC({environment:t,table:r().Gy,value:_,inMemoryRecordCache:g,transaction:o}),s().applyOperation({store:p,operation:{pointer:p.pointer,path:["view_ids"],command:"listBefore",args:{id:y.id}},transaction:o}),{collectionViewStore:d().pS.createChildStore(p,y)}}},668657:(e,t,o)=>{o.d(t,{q:()=>r});o(242343);var n=o(163643);const r=(0,o(680369).wt)("search",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M.281 6.438c0-.875.164-1.696.492-2.461a6.484 6.484 0 011.375-2.032A6.237 6.237 0 016.64.078 6.2 6.2 0 019.11.57c.77.328 1.447.787 2.03 1.375a6.374 6.374 0 011.368 2.032c.333.765.5 1.586.5 2.46 0 .688-.107 1.342-.32 1.961a6.28 6.28 0 01-.868 1.696l3.563 3.578c.11.104.19.226.242.367.057.14.086.29.086.445 0 .22-.05.417-.149.594a1.122 1.122 0 01-1 .57c-.156 0-.307-.028-.453-.086a1.058 1.058 0 01-.382-.25l-3.586-3.585c-.5.333-1.047.596-1.641.789a6.089 6.089 0 01-1.86.28 6.237 6.237 0 01-2.468-.491 6.4 6.4 0 01-2.024-1.367A6.509 6.509 0 01.773 8.913a6.256 6.256 0 01-.492-2.476zm1.664 0c0 .65.12 1.26.36 1.828a4.775 4.775 0 001.015 1.5c.433.427.933.763 1.5 1.007a4.548 4.548 0 001.82.368c.652 0 1.261-.123 1.829-.368a4.747 4.747 0 002.508-2.507 4.567 4.567 0 00.367-1.829c0-.645-.123-1.252-.367-1.82a4.776 4.776 0 00-1.016-1.5A4.578 4.578 0 008.469 2.11a4.567 4.567 0 00-1.828-.367c-.646 0-1.253.123-1.82.367a4.667 4.667 0 00-1.5 1.008c-.433.432-.772.932-1.016 1.5a4.633 4.633 0 00-.36 1.82z"})})},749975:(e,t,o)=>{o.d(t,{ET:()=>l,Ks:()=>c,RI:()=>s,p2:()=>i});o(610931);var n=o(242343);const r="collectionContextStore",a=(0,o(372660).C)({displayName:r,legacyContextKey:r,modernContextDefaultValue:void 0}),i=a.context,s=a.Provider;function l(){const e=n.useContext(i);if(void 0===e)throw new Error(`No context provided: ${r}`);return e}function c(){return n.useContext(i)}},800057:(e,t,o)=>{o.d(t,{s:()=>i});const n={id:"pageLayoutEditor.property",defaultMessage:"Property",description:"Label for the property section in the page layout editor"},r={id:"pageLayoutEditor.titleWithIcon",defaultMessage:"Heading",description:"Label for the titleWithIcon section in the page layout editor"},a={id:"pageLayoutEditor.collectionView",defaultMessage:"Database View",description:"Label for the form submit button section in the form page layout editor"},i=(0,o(653998).YK)({cover:{id:"pageLayoutEditor.cover",defaultMessage:"Cover"},properties:{id:"pageLayoutEditor.properties",defaultMessage:"Property group"},inlinePageSections:{id:"pageLayoutEditor.inlinePageSections",defaultMessage:"Inline Page Sections"},expandedBacklinks:{id:"pageLayoutEditor.expandedBacklinks",defaultMessage:"Backlinks"},discussions:{id:"pageLayoutEditor.discussions",defaultMessage:"Page Comments"},editor:{id:"pageLayoutEditor.editor",defaultMessage:"Content"},tabs:{id:"pageLayoutEditor.tabs",defaultMessage:"Tabs"},transcript:{id:"pageLayoutEditor.transcript",defaultMessage:"Transcript"},bottomControls:{id:"pageLayoutEditor.bottomControls",defaultMessage:"Bottom Controls"},selectAModulePrompt:{id:"pageLayoutEditor.selectAModuleTitle",defaultMessage:"Select a module to configure"},deleteModuleButton:{id:"pageLayoutEditor.deleteModuleButton",defaultMessage:"Delete"},views:{id:"pageLayoutEditor.views",defaultMessage:"Views"},viewsMain:{id:"pageLayoutEditor.views",defaultMessage:"Views"},relationsGroup:{id:"pageLayoutEditor.relationsGroup",defaultMessage:"Relations group"},formTitle:{id:"pageLayoutEditor.formTitle",defaultMessage:"Form Title"},formQuestion:{id:"pageLayoutEditor.formQuestion",defaultMessage:"Form Question"},formSubmit:{id:"pageLayoutEditor.formSubmit",defaultMessage:"Form Submit"},placeholder:{id:"pageLayoutEditor.placeholder",defaultMessage:"New"},recentActivity:{id:"pageLayoutEditor.recentActivity",defaultMessage:"Recent activity"},collaborators:{id:"pageLayoutEditor.collaborators",defaultMessage:"Top collaborators"},teamspaces:{id:"pageLayoutEditor.teamspaces",defaultMessage:"Teamspaces"},normalizedTitleWithIcon:r,titleWithIcon:r,deleted_property:n,property_number:n,property_title:n,property_person:n,property_file:n,property_text:n,property_checkbox:n,property_url:n,property_email:n,property_phone_number:n,property_created_by:n,property_last_edited_by:n,property_button:n,property_select:n,property_multi_select:n,property_status:n,property_date:n,property_created_time:n,property_last_edited_time:n,property_last_visited_time:n,property_relation:n,property_rollup:n,property_formula:n,property_auto_increment_id:n,property_location:n,property_verification:n,property_geo_point:n,property:n,collectionView:a,collectionViewV2:a})},802789:(e,t,o)=>{o.r(t),o.d(t,{moveToTeamImpl:()=>l});var n=()=>o(975392),r=()=>o(76394),a=()=>o(795394),i=()=>o(578553),s=()=>o(41429);function l(e){let{transaction:t,currentSpaceViewStore:o,teamStore:l,targets:c,location:d,environment:u}=e;const p=o.getTeamsStores(),m=l.getTeamPagesStore();s().maybeTurnCollectionViewIntoCollectionViewPage({environment:u,blocks:c,transaction:t});for(const s of c){const e=n().I6(p,(e=>{const t=e.getTeamPagesStore().getValue();if(t)return t.includes(s.id)}));(null==e?void 0:e.id)!==l.id&&("append"===d.type?a().NI({parentStore:m,childStore:s,after:d.after,transaction:t}):"prepend"===d.type?a().Ti({parentStore:m,childStore:s,before:d.before,transaction:t}):(0,r().HB)(d),e&&i().Ex({teamStore:e,store:s,transaction:t}))}return l}},803291:(e,t,o)=>{o.d(t,{t:()=>a});var n=o(242343),r=o(163643);const a=n.memo((function(e){const{coverHeight:t,coverSizeFormat:n,emptyGalleryCoverStyle:a}=e,i=(0,o(174114).IS)((()=>({container:{height:(0,o(869596).F)(t,n),...a}})),[t,n,a]);return(0,r.jsx)("div",{style:i.container})}))},810813:(e,t,o)=>{o.d(t,{p:()=>a});var n=()=>o(84543),r=()=>o(702851);function a(e){const{environment:t,collectionStore:o,performTransaction:a}=e;return n().createAndCommit({userAction:"collectionViewActions.createSchemaUpdateTransaction",environment:t,canUndo:!0,perform:e=>{const n=o.getSchema(),i=a(e),s=o.getSchema();return(0,r().H)({environment:t,collectionStore:o,oldSchema:n,newSchema:s,transaction:e}),i}}).performResult}},827744:(e,t,o)=>{o.d(t,{r:()=>r});o(242343);var n=o(163643);const r=(0,o(680369).wt)("pencil",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M3.926 13.307H14.11c.183 0 .34-.066.472-.199a.644.644 0 00.198-.471.652.652 0 00-.198-.479.644.644 0 00-.472-.198H5.272l-1.346 1.347zm-.704-.636l7.683-7.684-1.312-1.319-7.69 7.684-.67 1.606c-.037.1-.017.191.06.273.083.082.174.105.274.069l1.655-.63zm8.34-8.326l.738-.732c.182-.187.278-.376.287-.567.009-.192-.068-.374-.232-.547l-.267-.267c-.169-.168-.351-.246-.547-.232-.196.014-.385.11-.567.287l-.739.732 1.327 1.326z"})})},869596:(e,t,o)=>{o.d(t,{F:()=>r});var n=()=>o(551116);function r(e,t){if(e)return e;switch(t){case"large":return n().A.card.desktop.large.height;case"small":return n().A.card.desktop.small.height;default:return n().A.card.desktop.medium.height}}},870896:(e,t,o)=>{o.d(t,{d:()=>r});o(725707),o(491955);class n extends(()=>o(129044))().default{getInitialState(){return{flowId:void 0,type:"connected_properties_setup",collectionsProperties:{}}}createNewFlowId(){const e=(0,o(214144).JW)();return this.setState({...this.state,flowId:e}),e}getFlowId(){return this.state.flowId?this.state.flowId:this.createNewFlowId()}addCollectionProperties(e,t){const o=this.state.collectionsProperties[e],n=o?{...o,...t}:t;this.setState({...this.state,collectionsProperties:{...this.state.collectionsProperties,[e]:n}})}removeCollectionProperties(e,t){const o=this.state.collectionsProperties[e];if(!o)return;const n=Object.fromEntries(Object.entries(o).filter((e=>{let[o]=e;return!t.has(o)})));if(0===Object.keys(n).length){const{[e]:t,...o}=this.state.collectionsProperties;this.setState({...this.state,collectionsProperties:o})}else this.setState({...this.state,collectionsProperties:{...this.state.collectionsProperties,[e]:n}})}}const r=new n;(0,o(996094).exposeDebugValue)("ConnectedPropertiesSyncStore",r)}}]);