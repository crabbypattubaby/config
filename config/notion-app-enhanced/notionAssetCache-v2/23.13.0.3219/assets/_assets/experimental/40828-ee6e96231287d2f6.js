"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[40828],{348618:(e,n,t)=>{t.d(n,{A:()=>a});t(242343);var o=()=>t(237385),i=()=>t(31448),r=()=>t(431551),l=()=>t(489090),s=t(163643);const a=function(e){const{disabled:n,label:i,title:r,onClick:l,isToggle:a,isToggleActive:c,onClickClear:m,...p}=e,h=(0,t(174114).DP)(),g=(0,o().v3)(),f=function(e){return{menuItemLabel:{color:e.text.tertiary}}}(h),x=u(g),b=(0,s.jsx)("span",{style:f.menuItemLabel,children:i});return(0,s.jsx)(t(535906).A,{focused:!1,...p,inline:a,disabled:n,icon:b,title:r,right:(0,s.jsx)(d,{disabled:Boolean(n),isToggle:Boolean(a),isToggleActive:Boolean(c),onClick:l,onClickClear:m}),onClick:l,dontShrinkIcon:!0,dontShrinkRight:!0,shouldWrapTitle:!0,style:x.menuItem,desktopIconStyle:x.menuItemLabel})};function u(e){return{menuItem:{background:void 0,minHeight:void 0,fontSize:e.device.isMobile?i().J.UISmall.mobile:i().J.UIRegular.desktop,paddingTop:e.device.isMobile?12:4,paddingBottom:e.device.isMobile?12:4},labeledMenuItemTitle:{display:"inline-flex",alignItems:"center"},menuItemLabel:{marginTop:0},rightWrapper:{display:"flex",alignItems:"center",marginTop:"-50%",marginBottom:"-50%",height:44}}}function d(e){let{disabled:n,isToggle:t,isToggleActive:i,onClick:a,onClickClear:d=(()=>{})}=e;const c=u((0,o().v3)()).rightWrapper;return t?(0,s.jsx)("div",{style:c,children:(0,s.jsx)(r().A,{on:Boolean(i),onClick:a})}):(0,s.jsx)(l().A,{disabled:n,onClick:d})}},483495:(e,n,t)=>{t.d(n,{A:()=>x});t(333225),t(494367),t(516262),t(573119),t(240480),t(950443),t(619601),t(725707),t(491955),t(403517),t(242343);var o=()=>t(237385),i=()=>t(803290),r=()=>t(950635),l=()=>t(409211),s=()=>t(14931),a=()=>t(653998),u=()=>t(509484),d=()=>t(836331),c=()=>t(413871),m=()=>t(415806),p=()=>t(151258),h=()=>t(489090),g=()=>t(698995),f=t(163643);const x=function(e){let{mode:n,title:i,userIds:r,onChange:l,disabled:s,focused:c,onMenuDismiss:m,onMenuOpen:p,parentStore:h}=e;const g=(0,o().v3)(),x=(0,a().tz)();return(0,f.jsx)(t(634444).A,{mode:n,title:i,icon:t(446656).z,iconStyles:I(g).recordIcon,items:r,onChange:l,disabled:s,focused:c,renderFilter:(e,n)=>(0,f.jsx)(k,{item:e,args:n,parentStore:h}),renderToken:(e,n)=>(0,f.jsx)(C,{item:e,handlers:n,userIds:r,parentStore:h}),renderItemForSummary:e=>(0,f.jsx)(v,{item:e,parentStore:h}),addItemLabel:(0,f.jsx)(a().sA,{defaultMessage:"Add a person",id:"search.filterMenu.addAPersonButton.label"}),labelText:{title:i,tokenInputPlaceholder:x.formatMessage({defaultMessage:"Search people",id:"search.filterMenu.searchPeople.placeholder"}),componentDebugName:"SearchPersonFilter"},performRequest:e=>async function(e,n){let{query:t,current:o}=e;const i=new Set(o),r=await u().T.searchActions.load(),l=await r.searchSpaceUsers({environment:n,query:t,membersOnly:!1,limit:20+i.size,shouldUseEdgeCacheRollout:d().default.checkGate({gateName:"edge_cache_helpers"})});return l.filter((e=>!i.has(e.id))).slice(0,20).map((e=>e.id))}(e,g),renderResultMenuItem:(e,n)=>(0,f.jsx)(y,{item:e,props:n,parentStore:h}),onMenuDismiss:m,onMenuOpen:p,hasItemsSelected:(null==r?void 0:r.length)>0})};function b(e,n){const t=function(e,n){return c().LU.createChildStore(n,{table:l().oo,id:e})}(e,n);return t.getValue()}function v(e){let{item:n,parentStore:t}=e;const o=(0,a().tz)(),r=(0,i().K8)((()=>b(n,t)),[n,t]);return(0,f.jsx)(f.Fragment,{children:(0,s().c6)(o,r)})}function C(e){let{item:n,handlers:t,userIds:l,parentStore:s}=e;const a=(0,o().v3)(),u=1===l.length,d=(0,i().K8)((()=>b(n,s)),[n,s]);return d?(0,f.jsx)(m().Ay,{format:a.device.isMobile?p().mI.Large:p().mI.Small,showRemoveButton:!0,isSingle:u,onClickRemove:t.onRemove,actor:(0,r().MR)(d),shouldShrink:!0,style:{background:"transparent"}},n):null}function y(e){let{item:n,props:t,parentStore:o}=e;const l=(0,i().K8)((()=>b(n,o)),[n,o]);return(0,f.jsx)(g().A,{...t,actor:(0,r().MR)(l)})}function I(e){return{menuItem:{minHeight:void 0,paddingTop:e.device.isMobile?12:4,paddingBottom:e.device.isMobile?12:4},menuItemTitle:{width:"100%"},labeledMenuItemTitle:{display:"inline-flex",alignItems:"center"},menuItemLabel:{marginRight:12},recordIcon:{marginRight:2,fill:"currentColor"}}}function k(e){let{item:n,args:t,parentStore:l}=e;const{disabled:s,onRemove:a,onClick:u}=t,d=I((0,o().v3)()),c=(0,i().K8)((()=>b(n,l)),[n,l]),m=(0,f.jsx)(h().A,{disabled:s,onClick:a});return(0,f.jsx)(g().A,{disabled:s,focused:!1,actor:(0,r().MR)(c),right:m,style:d.menuItem,desktopTitleStyle:d.menuItemTitle,onClick:u},n)}},489090:(e,n,t)=>{t.d(n,{A:()=>i});t(242343);var o=t(163643);const i=function(e){const n=(0,t(237385).v3)(),i={removeFilterButton:{height:void 0,width:void 0},removeFilterButtonMobile:{marginRight:-12,marginTop:-12,marginBottom:-12,paddingRight:12,paddingTop:12,paddingBottom:12}},{onClick:r,disabled:l}=e,{device:s}=n,a=s.isMobile?{...i.removeFilterButton,...i.removeFilterButtonMobile}:i.removeFilterButton;return(0,o.jsx)(t(356813).A,{icon:t(210106).J,onClick:r,disabled:l,disableBackground:!0,style:a})}},634369:(e,n,t)=>{t.d(n,{A:()=>i});t(242343);var o=t(163643);const i=function(e){const n={desktopTitleStyle:{marginBottom:4},marginAfter:{marginBottom:16}},{title:i,marginAfter:r,desktopStyle:l,desktopTitleStyle:s,...a}=e,u=(r||l)&&{...r&&n.marginAfter,...l},d=s?{...n.desktopTitleStyle,...s}:n.desktopTitleStyle;return(0,o.jsx)(t(88271).A,{disableDesktopPadding:!0,enableActionSheetTitle:!0,desktopStyle:u,desktopTitleStyle:d,shouldShowBottomDivider:!1,title:i,...a})}},634444:(e,n,t)=>{t.d(n,{C:()=>P,A:()=>O});t(725707),t(491955),t(403517);var o=t(242343),i=()=>t(237385),r=()=>t(174114),l=()=>t(653998),s=()=>t(975392),a=()=>t(622163),u=()=>t(907721),d=()=>t(466321),c=()=>t(209684),m=()=>t(535906),p=()=>t(443252),h=()=>t(951540),g=()=>t(88271),f=()=>t(348618),x=()=>t(803290),b=()=>t(502140),v=()=>t(450475),C=()=>t(640979),y=()=>t(210466),I=()=>t(858023),k=()=>t(975515),S=()=>t(743668),M=()=>t(797715),j=t(163643);const T={menu:{width:250,maxHeight:"40vh"},inputMenu:{maxHeight:"20vh"}};const A=function(e){let{labelText:n,value:r,renderResultMenuItem:l,onConfirm:s,items:a,performRequest:u,onDismiss:d,onChange:c,renderToken:m,onRemove:p,onClear:h,disabled:g}=e;const f=(0,i().v3)(),b=(0,x().uB)(void 0,y().A),v=(0,x().uB)(void 0,t(331736).A),[C,I]=(0,t(875878).$)(),k=(0,o.useCallback)(((e,t,o)=>(0,j.jsx)(w,{error:e,data:t,ready:o,labelText:n,value:r,renderResultMenuItem:l,onConfirm:s,menuListStore:b,comboboxProps:I})),[n,r,l,s,b,I]),S={query:r,current:a};return(0,j.jsx)(t(935091).A,{...F(f,d,n,r,a,c,m,p,h,g,C),children:(0,j.jsx)(t(921637).A,{debounce:100,requestStore:v,request:S,performRequest:u,render:k})})};function R(e){const{device:n}=e;return n.isMobile}function B(e){let{labelText:n,value:t,items:o,disabled:r,onChange:l,renderToken:a,onRemove:u,onClear:d,inputComboboxProps:c}=e;const m=(0,i().v3)(),p=o.map((e=>a(e,{onRemove:()=>u(e)})));return(0,j.jsx)(g().A,{isInput:!0,children:(0,j.jsx)("div",{style:{padding:"4px 8px"},children:(0,j.jsx)(M().Ay,{focus:!R(m)||void 0,focusAfterAnimation:!0,format:M().le.FilterValue,tokens:p,placeholder:n.tokenInputPlaceholder,onRemoveLastToken:()=>function(e,n){const t=s().HV(e);t&&n(t)}(o,u),onClearButtonClick:d,value:t,onChange:l,showClearButton:!0,disabled:Boolean(r),style:T.inputMenu,...c})})})}function F(e,n,t,o,i,r,l,s,a,u,d){if(R(e)){return{menuType:C().gu.Modal,title:t.title,right:(0,j.jsx)(S().DoneMenuText,{}),onClickRight:n,header:(0,j.jsx)(B,{labelText:t,value:o,items:i,disabled:u,onChange:r,renderToken:l,onRemove:s,onClear:a,inputComboboxProps:d})}}return{menuType:C().gu.Popup,onClickOutside:n,header:(0,j.jsx)(B,{labelText:t,value:o,items:i,disabled:u,onChange:r,renderToken:l,onRemove:s,onClear:a,inputComboboxProps:d}),...T.menu}}function w(e){let{error:n,data:t,ready:i,labelText:r,value:s,renderResultMenuItem:a,onConfirm:u,menuListStore:d,comboboxProps:c}=e;const m=(0,x().uB)(d,y().A),p=(0,o.useCallback)((e=>(0,j.jsx)(g().A,{...e,title:r.resultSectionTitle,loading:!i})),[r,i]);if(n)return b().log({level:"error",from:r.componentDebugName,type:"requestFailed",error:(0,v().convertErrorToLog)(n),data:{miscDataToConvertToString:{query:s}}}),(0,j.jsx)(p,{children:(0,j.jsx)(k().A,{title:(0,j.jsx)(l().sA,{defaultMessage:"Something went wrong.",id:"search.inputMenu.errorMessage"})})});if(!t)return(0,j.jsx)(p,{children:(0,j.jsx)(k().A,{title:(0,j.jsx)(l().sA,{defaultMessage:"Loadingâ€¦",id:"search.inputMenu.loading.message"})})});if(t&&0===t.length)return(0,j.jsx)(p,{children:(0,j.jsx)(k().A,{title:(0,j.jsx)(l().sA,{defaultMessage:"No results found.",id:"search.inputMenu.noResults.message"})})});const h={key:"results",items:t.map((e=>function(e,n,t){return{key:e,action:()=>t(e),render:t=>n(e,t)}}(e,a,u))),render:p};return(0,j.jsx)(I().Ay,{type:I().Oh.Vertical,store:m,initialFocus:0,sections:[h],comboboxProps:c})}let P=function(e){return e.Button="Button",e.Section="Section",e.Pill="Pill",e}({});function O(e){const{items:n,keepInputOnItemConfirm:t,mode:r,onChange:l,onMenuDismiss:a,onMenuOpen:u}=e,{device:d}=(0,i().v3)(),c=(0,o.useRef)(),m=(0,o.useRef)(null),[p,h]=(0,o.useState)(!1),[g,f]=(0,o.useState)(""),[x,b]=(0,o.useState)(void 0),[v,C]=(0,o.useState)(void 0);function y(e,n){c.current=requestAnimationFrame((e=>{if(m&&m.current&&(C(m.current.getBoundingClientRect()),n)){const{shouldOpenMenu:e,nextIndexToReplace:t}=n;e&&(h(!0),b(t))}}))}(0,o.useEffect)((()=>(window.addEventListener("resize",y),()=>{window.removeEventListener("resize",y),c.current&&(cancelAnimationFrame(c.current),c.current=void 0)})),[]);const I=n.length;function k(e){M(),h(!1),b(void 0),null==a||a(e)}function S(e){f(e.target.value)}function M(){f("")}function T(){l([])}const A=(0,o.useCallback)((e=>{const t=n.filter((n=>n!==e));l(t)}),[n,l]),R=(0,o.useCallback)((e=>{if("number"==typeof x&&x<n.length){const t=n.slice(0,x).concat(e,n.slice(x+1));l(t)}else if(n.includes(e)&&P.Pill)A(e);else{const t=n.concat(e);l(s().sb(t))}t||M()}),[A,x,n,t,l]);return(0,o.useEffect)((()=>{y()}),[I,r]),d.isMobile?(0,j.jsx)(q,{inputTemporaryValue:g,isMenuOpen:p,onClearInput:M,onClearItems:T,onItemConfirm:R,onMenuClose:k,onMenuInputChange:S,onMenuOpen:function(){h(!0)},onRemove:A,searchTokenFilterProps:e}):(0,j.jsx)(N,{hasItemsSelected:r===P.Pill&&e.hasItemsSelected,inputTemporaryValue:g,isMenuOpen:p,onClearInput:M,onClearItems:T,onItemConfirm:R,onMenuClose:k,onMenuInputChange:S,onMenuOpen:function(e){null==u||u(),y(0,{shouldOpenMenu:!0,nextIndexToReplace:e})},onRemove:A,popupOriginRect:v,ref:m,searchTokenFilterProps:e})}function D(e){return{buttonMenuItem:{color:e.text.secondary},appendListItemButton:{color:e.text.tertiary}}}function L(e,n){return{menuItem:{minHeight:void 0,paddingTop:e.device.isMobile?12:4,paddingBottom:e.device.isMobile?12:4},menuItemWrapper:{display:"flex"},sectionMenuItem:{display:"flex"},appendListItemButton:{minHeight:void 0,paddingTop:4,paddingBottom:4,fontSize:a().ny(e,"UIRegular")},icon:{height:16,width:16,marginRight:"Pill"===n?6:-2,fill:"currentColor"},iconSmall:{height:12,width:12},summary:{display:"inline"},summaryItem:{display:"inline"}}}const N=(0,o.forwardRef)((function(e,n){const{hasItemsSelected:r,inputTemporaryValue:l,isMenuOpen:s,onClearInput:a,onClearItems:c,onItemConfirm:m,onMenuClose:h,onMenuInputChange:g,onMenuOpen:f,onRemove:x,popupOriginRect:b,searchTokenFilterProps:v}=e,{addItemLabel:C,disabled:y,focused:I,icon:k,iconStyles:S,items:M,mode:T,renderFilter:A,title:R}=v,B=(0,i().v3)(),F=y||s,w=(0,o.useMemo)((()=>({open:s})),[s]),O=(0,o.useCallback)((()=>{f()}),[f]);return(0,j.jsxs)(t(634369).A,{title:T===P.Section?R:void 0,marginAfter:T===P.Section,style:L(B,T).sectionMenuItem,children:[T!==P.Pill&&(0,j.jsx)(U,{disableFilters:F,items:M,onClick:f,onRemove:x,renderFilter:A}),(0,j.jsx)(t(700303).k.Provider,{value:w,children:T===P.Section?(0,j.jsx)(z,{addItemLabel:C,disabled:y,isMenuOpen:s,mode:T,onClick:O,ref:n}):T===P.Button?(0,j.jsx)(V,{disabled:y,focused:I,icon:k,isMenuOpen:s,mode:T,onClick:O,ref:n,title:R}):T===P.Pill?(0,j.jsx)(_,{disabled:y,hasItemsSelected:r,icon:k,iconStyles:S,onClick:O,ref:n,title:R}):void(0,t(76394).HB)(T)}),(0,j.jsx)(p().Ay,{alignmentToOrigin:u().C.Start,keepFocus:!0,onDismiss:h,open:s,originRect:b,placementToOrigin:u().W.Bottom,popupType:d().n.Popup,preventScaleTransition:!0,render:()=>(0,j.jsx)(E,{searchTokenFilterProps:v,inputTemporaryValue:l,onMenuInputChange:g,onClearInput:a,onClearItems:c,onItemConfirm:m,onMenuClose:h,onRemove:x}),trapFocus:!0})]})}));function U(e){const{disableFilters:n,items:t,onClick:i,onRemove:r,renderFilter:l}=e,s=(0,o.useMemo)((()=>t.map(((e,t)=>(0,j.jsx)("li",{children:l(e,{disabled:n,onClick:()=>i(t),onRemove:()=>r(e)})},`${e}_${t}`)))),[n,t,i,r,l]);return(0,j.jsx)("ul",{style:a().$t,children:s})}const z=(0,o.forwardRef)((function(e,n){const{addItemLabel:o,disabled:l,isMenuOpen:s,mode:a,onClick:u}=e,d=L((0,i().v3)(),a),c=(0,r().IS)(D,[D]);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{ref:n,style:d.menuItemWrapper}),(0,j.jsx)(m().A,{disabled:l||s,focused:!1,icon:(0,t(339189).W)(d.iconSmall),onClick:u,style:{...d.appendListItemButton,...c.appendListItemButton},title:o})]})})),V=(0,o.forwardRef)((function(e,n){const{disabled:t,focused:o,icon:l,isMenuOpen:s,mode:a,onClick:u,title:d}=e,c=L((0,i().v3)(),a),p=(0,r().IS)(D,[D]),h={...c.menuItem,...p.buttonMenuItem};return(0,j.jsx)("div",{ref:n,style:c.menuItemWrapper,children:(0,j.jsx)(m().A,{disabled:t||s,focused:o,icon:l(c.icon),onClick:u,style:h,title:d})})})),_=(0,o.forwardRef)((function(e,n){const{disabled:o,hasItemsSelected:r,icon:l,iconStyles:s,onClick:a,title:u}=e,d=L((0,i().v3)(),P.Pill);return(0,j.jsx)("div",{ref:n,style:d.menuItemWrapper,children:(0,j.jsx)(t(662505).A,{on:r,icon:l({...d.icon,...s}),title:(0,j.jsx)("span",{children:u}),onClick:a,wrapStyle:{opacity:o?.4:1}})})}));function H(e){const{disableFilters:n,items:t,mode:o,onClickClear:r,onMenuOpen:l,renderItemForSummary:s,title:u}=e,d=L((0,i().v3)(),o),c={...a().$t,...d.summary},m=t.length-1,p=(0,j.jsx)("ul",{style:c,children:t.map(((e,n)=>(0,j.jsxs)("li",{style:d.summaryItem,children:[s(e),n!==m&&","," "]},e)))});return(0,j.jsx)(f().A,{disabled:n,label:u,onClick:l,onClickClear:r,title:p})}function q(e){const{inputTemporaryValue:n,isMenuOpen:t,onClearInput:o,onClearItems:r,onItemConfirm:l,onMenuClose:s,onMenuInputChange:a,onMenuOpen:u,onRemove:c,searchTokenFilterProps:h}=e,{mode:g,disabled:f,title:x,items:b,renderItemForSummary:v,icon:C}=h,y=L((0,i().v3)(),g),I=f||t,k=g===P.Section?(0,j.jsx)(H,{disableFilters:I,items:b,mode:g,onClickClear:r,onMenuOpen:u,renderItemForSummary:v,title:x}):(0,j.jsx)(m().A,{disabled:I,focused:!1,icon:C({...y.icon}),onClick:u,title:x});return(0,j.jsx)(p().Ay,{keepFocus:!0,onDismiss:s,open:t,origin:k,popupType:d().n.SlideUp,render:()=>(0,j.jsx)(E,{inputTemporaryValue:n,onClearInput:o,onClearItems:r,onItemConfirm:l,onMenuClose:s,onMenuInputChange:a,onRemove:c,searchTokenFilterProps:h})})}function E(e){const{inputTemporaryValue:n,onClearInput:t,onClearItems:o,onItemConfirm:i,onMenuClose:r,onMenuInputChange:s,onRemove:a,searchTokenFilterProps:u}=e,{renderToken:d,renderFooter:m,allowApplyBatchSelection:p}=u;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(A,{...u,onChange:s,onClear:()=>{t(),o()},onConfirm:i,onDismiss:r,onRemove:a,renderToken:d,value:n}),m&&(0,j.jsxs)(g().A,{style:{padding:6,justifyContent:"space-between",display:"flex",flexDirection:"row"},topBorder:!0,children:[(0,j.jsx)(c().p,{onClick:o,children:(0,j.jsx)(l().sA,{id:"searchTokenFilter.clearButton",defaultMessage:"Clear"})}),p&&(0,j.jsx)(h().A,{onClick:()=>{r("applyButton")},children:(0,j.jsx)(l().sA,{defaultMessage:"Apply",id:"searchTokenFilter.applyButton"})})]})]})}},662505:(e,n,t)=>{t.d(n,{A:()=>u});t(242343);var o=()=>t(237385),i=()=>t(174114),r=()=>t(198654),l=()=>t(126451),s=()=>t(622286),a=t(163643);function u(e){const{icon:n,title:t,on:u,disabled:d,hasDiff:c,wrapStyle:m,innerStyle:p,hideChevron:h}=e,{isMobile:g}=(0,o().Y0)(),f=(0,s().X)("db_ux_chrome"),x=(0,i().IS)((e=>({container:{borderRadius:14,marginRight:6,display:"inline-flex",...c&&{position:"relative"},...m},filterPill:{fontSize:14,display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",borderRadius:32,height:g?28:24,lineHeight:g?"28px":"24px",padding:"0 8px",...!f&&{border:`1px solid ${e.outlineButtonBorder}`},color:e.text.secondary,...u&&{color:e.text.uiBluePrimary,borderColor:e.filterPillBorder,background:e.tint.uiBlue},...d&&{color:e.text.uiBlueTertiary,borderColor:e.text.uiBlueTertiary,background:e.tint.uiBlue},...p},hovered:u?{background:e.tint.uiBlueHover}:{},pressed:u?{background:e.tint.uiBluePressed}:{},chevron:{width:10,marginLeft:4,marginTop:1,fill:d?e.text.uiBlueTertiary:u?e.blueColor:e.lightIconColor},diffDot:{position:"absolute",top:-2,right:-2,background:"dark"===e.mode?e.accentColors.orange[500]:e.accentColors.orange[300],border:`1px solid ${e.contentBackground}`,width:9,height:9,borderRadius:9}})),[c,m,g,f,u,d,p]);return(0,a.jsxs)("div",{style:x.container,children:[(0,a.jsxs)(l().A,{disabled:d,style:x.filterPill,hoveredStyle:x.hovered,pressedStyle:x.pressed,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onClick:e.onClick,onDoubleClick:e.onDoubleClick,children:[n,t,!h&&(0,r().b)(x.chevron)]}),c&&(0,a.jsx)("div",{style:x.diffDot})]})}},698995:(e,n,t)=>{t.d(n,{A:()=>v,S:()=>x});var o=t(242343),i=()=>t(237385),r=()=>t(803290),l=()=>t(950635),s=()=>t(653998),a=()=>t(907721),u=()=>t(932322),d=()=>t(701270),c=()=>t(482570),m=t(163643);const p="UIRegular-14px/Regular",h="UIRegular-14px/Semibold",g="iOS/Callout-16px/Regular",f=o.forwardRef(((e,n)=>{const{actor:o,userTitle:s,defaultUserTitle:d="name_only",useEmailAsTooltip:p,tooltip:h,tooltipPlacement:g,hoveredStyle:f,disabledFeedback:v,customUserTitleStyles:C,iconSizeOverride:y}=e,I=(0,i().v3)(),k=(0,r().K8)((()=>o.asActor&&o.isUser()?o.email:void 0),[o]),S=p&&k?k:h,M=y||(I.device.isMobile?u().nd:u().pg),j="name_and_email"===d||"name_and_email_unless_right"===d&&!Boolean(e.right)?(0,m.jsx)(b,{actor:null==o?void 0:o.asActor,customStyles:C}):(0,m.jsx)(x,{customStyles:C,actor:null==o?void 0:o.asActor}),T=s??j;let A;return(0,l().H3)(o)?A=(0,m.jsx)(t(951156).A,{botValue:null==o?void 0:o.asActor,size:M}):(0,l().ps)(o)?A=(0,m.jsx)(c().A,{userValue:null==o?void 0:o.asActor,size:M}):(0,l().h2)(o)?A=(0,m.jsx)(c().A,{userValue:void 0,size:M}):(0,t(76394).HB)(o),(0,m.jsx)(t(103151).A,{placement:g??a().W.Bottom,alignment:a().C.Start,textWrap:!0,render:o=>(0,m.jsx)(t(535906).A,{...(0,t(906230).A)(o,e),icon:A,title:T,disabledFeedback:v,className:"notranslate",right:e.right,ref:n,hoveredStyle:f}),disableTooltip:!S,renderTooltip:()=>S})}));function x(e){const{actor:n,customStyles:t}=e,o=(0,i().v3)(),l=(0,s().tz)(),a=(0,r().K8)((()=>n&&n.id===o.currentUser.id),[o,n]),u=(0,r().K8)((()=>n&&n.getDisplayName(l)),[n,l]),c=o.device.isMobile?g:p;return a?(0,m.jsx)(s().sA,{id:"UserMenuItem.fullName.authorLabel",defaultMessage:"<author>{fullName}</author> <you>(You)</you>",values:{author:e=>(0,m.jsx)(d().D,{as:"span",styleName:c,customStyles:t,children:e}),fullName:u,you:e=>(0,m.jsx)(d().D,{as:"span",colorName:"secondary",styleName:c,customStyles:t,children:e})}}):u?(0,m.jsx)(d().D,{styleName:c,customStyles:t,children:u}):(0,m.jsx)(d().D,{styleName:c,customStyles:t,children:(0,m.jsx)(s().sA,{id:"UserMenuItem.fullName.unknownAuthorLabel",defaultMessage:"Unknown author"})})}function b(e){const n=(0,i().v3)(),{actor:t,customStyles:o}=e,l=(0,s().tz)(),a=(0,r().K8)((()=>t&&t.getDisplayName(l)),[t,l]),{email:u,showEmail:c}=(0,r().K8)((()=>{const e=t&&t.asActor&&t.isUser()?t.email:void 0;return{email:e,showEmail:a!==e}}),[t,a]),f=n.device.isMobile?"iOS/Callout-16px/Regular":h,x=n.device.isMobile?g:p;return a?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(d().D,{as:"span",styleName:f,customStyles:o,children:a}),c&&(0,m.jsx)(d().D,{as:"span",styleName:x,customStyles:o,children:` ${u}`})]}):(0,m.jsx)(d().D,{styleName:h,customStyles:o,children:(0,m.jsx)(s().sA,{id:"UserMenuItem.fullName.unknownAuthorLabel",defaultMessage:"Unknown author"})})}f.displayName="UserMenuItem";const v=f}}]);