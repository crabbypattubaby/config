"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[90871,99314],{44250:(e,r,t)=>{function n(e){return!(!e||"askUserToPick"in e)}function o(e){if(!e||!("askUserToPick"in e))return e}function a(e){return!(!e||!("askUserToPick"in e))&&e.askUserToPick}t.d(r,{DK:()=>o,K$:()=>n,j6:()=>a})},533639:(e,r,t)=>{t.d(r,{p:()=>n});class n extends(()=>t(998969))().p3{constructor(e,r){super(e,r)}after(e,r){return super.after(e,r)}}},800895:(e,r,t)=>{t.r(r),t.d(r,{fixLegacyTransclusion:()=>T,maybeAutofixLegacyTransclusionProperty:()=>k});t(362833),t(333225),t(494367),t(516262),t(573119),t(240480),t(950443),t(619601);var n=()=>t(502140),o=()=>t(145017),a=()=>t(66460),s=()=>t(450475),c=()=>t(425447),i=()=>t(134549),l=()=>t(754697),u=()=>t(336844),p=()=>t(360482),d=()=>t(493065),g=()=>t(413871),f=()=>t(702783),y=()=>t(551102),m=()=>t(164186),h=()=>t(360378),S=()=>t(84543);const b=new Set(["text","table_row","header","sub_header","sub_sub_header","to_do","bulleted_list","numbered_list","toggle"]);function k(e){const{parentStore:r,transaction:t,store:a,environment:p}=e,m=a.path[1];if(2!==a.path.length||"properties"!==a.path[0]||"string"!=typeof m)return;const h=a.getRecordStoreAtRootPath();if(!(h instanceof g().Bv))return;const S=h.getType();if(!S||!b.has(S))return;const k=function(e){var r;const{environment:t,store:n,parentStore:a,transaction:s}=e;if(n.getSpaceId()!==a.getSpaceId())return;const p=null===(r=a.getModel())||void 0===r?void 0:r.getContentIds();if(null==p||!p.includes(n.id))return;if(d().transactionQueue.isPendingTransactionForRecord(a.pointer)||d().transactionQueue.isPendingTransactionForRecord(n.pointer))return;const g=(0,u().$J)(),f=(0,i().loadLocalSubtree)(t,{blockId:n.id,inMemoryRecordCache:n.inMemoryRecordCache,allowCopyCollections:!1,requireFullSubtree:!0,skipTransclusionContainerChildren:!0,allowCopyExternalObjectInstances:!0,includeLegacyTransclusionBlockValues:g}).recordMap;if(!f)return;const m=c().localDuplicate({environment:t,sourceBlockId:n.id,targetBlockPointer:(0,l().zP)({environment:t,table:o().ev,spaceId:n.pointer.spaceId}),sourceBlockSubtree:f,targetInMemoryRecordCache:n.inMemoryRecordCache,transaction:s,options:{deepCopyTransclusionContainers:!1,resolveTemplateVariables:!1,preventLegacyTransclusions:g}});return y().Br({parentStore:a.getContentStore(),oldChildStore:n,newChildStore:m.targetBlockStore,transaction:s}),m.targetBlockStore}({environment:p,store:h,parentStore:r,transaction:t});if(!k)return;const T=k.getPropertyStore(m);if(T)return t.postSubmitCallbacks.push((e=>{e&&n().log({from:"legacyTransclusionActions",level:"error",type:"maybeAutofixLegacyTransclusionProperty",error:{miscErrorString:(0,s().WS)(e)}}),f().Yr(p,{block_type:S,successful:!e})})),T;n().log({from:"legacyTransclusionActions",level:"error",type:"maybeAutofixLegacyTransclusionProperty",error:{message:"copied transclusion block does not have expected property"}})}function T(e){const{environment:r,store:t}=e,n=t.getRecordStoreUIParent();n&&(0,p().iU)(n)&&S().createAndCommit({userAction:"legacyTransclusionActions.fixLegacyTransclusion",environment:r,canUndo:!0,perform:e=>{const{blockStores:o}=c().duplicateBlock({environment:r,stores:[t],transaction:e,targetSpaceId:(0,a().e)(t.pointer.spaceId),preferDuplicateLocation:"local",options:{addCopyName:!1,deepCopyTransclusionContainers:!0,resolveTemplateVariables:!1}}),s=o[0],{childStore:i}=y().WH({parentStore:n,insertStore:s,afterStore:t,transaction:e});m().TF({store:t,transaction:e}),h().td({environment:r,stores:[i]})}})}},994488:(e,r,t)=>{t.d(r,{o:()=>n});t(362833),t(403517);function n(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),o=1;o<r;o++)t[o-1]=arguments[o];if(0===t.length)return e.map((e=>[e]));const a=[];for(const s of e)a.push(...n(t[0],...t.slice(1)).map((e=>[s,...e])));return a}}}]);