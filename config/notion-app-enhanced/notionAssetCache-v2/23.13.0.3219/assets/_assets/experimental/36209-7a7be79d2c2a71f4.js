"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[36209],{27555:(e,t,i)=>{i.d(t,{ai:()=>r,rC:()=>n});i(333225),i(494367),i(516262),i(573119),i(240480),i(950443),i(619601),i(725707),i(500234);const r={type:"ai",config:{},authentication:void 0,latestVersion:"1.0.0",triggers:{},effects:{"ai.prompt":{versionAvailability:"*"},"ai.promptJson":{versionAvailability:"*"}},duplicateState:e=>{let{original:t}=e;return t},getModuleConfigurationStatus:()=>"ready"},a=["ai.prompt","ai.promptJson","databases.pickPages","databases.pickSelectOption","databases.pickMultiSelectOptions","agents.runAgent"];function n(e){const t=new Set;for(const i of e.functions||[])for(const e of i.tests||[])if(e.result&&e.result.effects)for(const i of e.result.effects)if(a.includes(i.key)){const e=Array.isArray(i.args)?i.args[0]:void 0,r="object"==typeof e&&null!==e&&"promptName"in e&&"string"==typeof e.promptName?e.promptName:void 0;r&&t.add(r)}return Array.from(t).sort()}},39559:(e,t,i)=>{i.d(t,{KB:()=>s,Fr:()=>c,ZB:()=>o,v1:()=>l});var r=()=>i(76394),a=()=>i(627618);const n=a().union([a().object({required:{databaseKey:a().string(),description:a().string(),type:a().literal("relation")},optional:{propertyKey:a().string()},exact:!0}),a().object({required:{description:a().string(),groups:a().object({required:{},optional:{complete:a().array(a().object({required:{description:a().string(),name:a().string()},optional:{color:a().literals("blue","brown","default","gray","green","orange","pink","purple","red","yellow")},exact:!0})),current:a().array(a().object({required:{description:a().string(),name:a().string()},optional:{color:a().literals("blue","brown","default","gray","green","orange","pink","purple","red","yellow")},exact:!0})),future:a().array(a().object({required:{description:a().string(),name:a().string()},optional:{color:a().literals("blue","brown","default","gray","green","orange","pink","purple","red","yellow")},exact:!0})),in_progress:a().array(a().object({required:{description:a().string(),name:a().string()},optional:{color:a().literals("blue","brown","default","gray","green","orange","pink","purple","red","yellow")},exact:!0})),to_do:a().array(a().object({required:{description:a().string(),name:a().string()},optional:{color:a().literals("blue","brown","default","gray","green","orange","pink","purple","red","yellow")},exact:!0}))},exact:!0}),type:a().literal("status")},optional:{},exact:!0}),a().object({required:{description:a().string(),options:a().array(a().object({required:{description:a().string(),name:a().string()},optional:{color:a().literals("blue","brown","default","gray","green","orange","pink","purple","red","yellow")},exact:!0})),type:a().literal("multi_select")},optional:{},exact:!0}),a().object({required:{description:a().string(),options:a().array(a().object({required:{description:a().string(),name:a().string()},optional:{color:a().literals("blue","brown","default","gray","green","orange","pink","purple","red","yellow")},exact:!0})),type:a().literal("select")},optional:{},exact:!0}),a().object({required:{description:a().string(),type:a().literal("checkbox")},optional:{},exact:!0}),a().object({required:{description:a().string(),type:a().literal("content")},optional:{},exact:!0}),a().object({required:{description:a().string(),type:a().literal("created_time")},optional:{},exact:!0}),a().object({required:{description:a().string(),type:a().literal("date")},optional:{},exact:!0}),a().object({required:{description:a().string(),type:a().literal("email")},optional:{},exact:!0}),a().object({required:{description:a().string(),type:a().literal("file")},optional:{},exact:!0}),a().object({required:{description:a().string(),type:a().literal("last_edited_time")},optional:{},exact:!0}),a().object({required:{description:a().string(),type:a().literal("number")},optional:{},exact:!0}),a().object({required:{description:a().string(),type:a().literal("person")},optional:{},exact:!0}),a().object({required:{description:a().string(),type:a().literal("phone_number")},optional:{},exact:!0}),a().object({required:{description:a().string(),type:a().literal("text")},optional:{},exact:!0}),a().object({required:{description:a().string(),type:a().literal("title")},optional:{},exact:!0}),a().object({required:{description:a().string(),type:a().literal("url")},optional:{},exact:!0})]),o={name:"Untitled"},s="placeholder";function l(e){switch(e.type){case"update-modules":case"update-views":case"update-triggers":case"update-functions":return e.type;case"review-errors":return`${e.type}-${e.functionName||"workflow"}`;case"update-modules-of-type":return`${e.type}-${e.moduleType}`;case"update-trigger":return`${e.type}-${e.triggerName}`;case"update-function-code":case"update-function-tests":case"run-function-tests":return`${e.type}-${e.functionName}`;default:(0,r().HB)(e)}}a().object({required:{},optional:{triggerKey:a().string(),start:a().string(),end:a().string(),containsSubstring:a().string()},exact:!0}),a().object({required:{runId:a().string(),instructions:a().string()},optional:{},exact:!0});const c=a().record(a().string(),n)},346279:(e,t,i)=>{i.d(t,{$:()=>a,J:()=>r});function r(e){return void 0===e.value&&"string"!==e.rootType}const a={type:"config",config:{},latestVersion:"1.0.0",triggers:{},effects:{"config.get":{versionAvailability:"*"}},duplicateState:e=>{let{original:t}=e;return t},getModuleConfigurationStatus:(e,t)=>{const{modules:a}=t;if(!a)return"ready";for(const n of a){const e=(0,i(852236).v)(t,n.key);for(const t of Object.values(e))if(r(t))return"invalid"}return"ready"}}},595257:(e,t,i)=>{i.d(t,{$:()=>n,y:()=>r});const r=["slackUser","slackMessage","slackChannel"];function a(e){var t;return Boolean(null===(t=e.channelIds)||void 0===t?void 0:t.length)||Boolean(e.allChannels)}const n={type:"slack",config:{scopes:["app_mentions:read","channels:history","channels:read","chat:write","chat:write.customize","files:read","files:write","groups:history","groups:read","im:history","im:read","im:write","mpim:history","mpim:read","reactions:read","reactions:write","users:read","users:read.email","channels:join","chat:write.public","emoji:read"]},authentication:{type:"oauth2"},latestVersion:"1.0.0",triggers:{"slack.message":{isTriggerConfigured:a,triggerDuplicator:e=>{let{original:t}=e;return{type:t.type}},versionAvailability:"*"},"slack.thread.created":{isTriggerConfigured:a,triggerDuplicator:e=>{let{original:t}=e;return{type:t.type}},versionAvailability:"*"},"slack.reaction.added":{isTriggerConfigured:a,triggerDuplicator:e=>{let{original:t}=e;return{type:t.type,reactions:t.reactions}},versionAvailability:"*"}},effects:{"slack.createThreadInChannel":{versionAvailability:"*"},"slack.createThreadInDirectMessage":{versionAvailability:"0.0.0"},"slack.replyInThread":{versionAvailability:"*"},"slack.updateMessage":{versionAvailability:"*"},"slack.addReactionToMessage":{versionAvailability:"*"},"slack.removeReactionFromMessage":{versionAvailability:"*"},"slack.getThreadsInChannelSince":{versionAvailability:"*"},"slack.queryChannels":{versionAvailability:"*"},"slack.getUser":{versionAvailability:"*"},"slack.findUserByEmail":{versionAvailability:"*"},"slack.parseSlackMessageUrlToId":{versionAvailability:"*"},"slack.getSlackUrlFromMessageId":{versionAvailability:"*"}},duplicateState:()=>{},getModuleConfigurationStatus:e=>{var t;return null!==(t=e.state)&&void 0!==t&&t.connectionPointer?"ready":"invalid"}}},852236:(e,t,i)=>{i.d(t,{v:()=>n});i(725707),i(491955);var r=()=>i(975392),a=()=>i(76394);function n(e,t){return Object.fromEntries((0,a().WP)(function(e){return r().o8(e.configVariables||{})}(e)).filter((e=>{let[i,r]=e;return r.moduleKey===t})))}},903227:(e,t,i)=>{i.d(t,{$P:()=>r,c2:()=>n,uT:()=>a});i(362833);const r={type:"search",config:{},authentication:void 0,latestVersion:"1.0.0",triggers:{},effects:{"search.answerQuestions":{versionAvailability:"*"},"search.search":{versionAvailability:"*"}},duplicateState:()=>{},getModuleConfigurationStatus:()=>"ready"};function a(e){const t=[],i=[];for(const r of e)"universal-workspace"===r.type?t.push({type:"everything"}):"collection"===r.type?t.push({type:"notion-database",pageId:r.pageId,databaseId:r.collectionId}):"page"===r.type?i.push(r.pageId):"workspace"===r.type?t.push({type:"notion"}):"teamspace"===r.type?t.push({type:"notion-teamspace",teamId:r.teamId}):t.push(r);return i.length>0&&t.push({type:"notion",pageIds:i}),t}function n(e){return null!=e&&e.scopes?function(e){const t=[];for(const i of e)if("everything"===i.type)t.push({type:"universal-workspace"});else if("notion"===i.type)if(i.pageIds)for(const e of i.pageIds)t.push({type:"page",pageId:e});else t.push({type:"workspace"});else"notion-database"===i.type?t.push({type:"collection",pageId:i.pageId,collectionId:i.databaseId}):"notion-teamspace"===i.type?t.push({type:"teamspace",teamId:i.teamId}):t.push(i);return t}(e.scopes):null!=e&&e.scope?[e.scope]:[{type:"universal-workspace"}]}},963002:(e,t,i)=>{i.d(t,{jK:()=>m,Nh:()=>b,Eu:()=>h});i(725707),i(113085),i(403517);var r=()=>i(627618);r().object({required:{id:r().string(),url:r().string(),type:r().literal("user"),userId:r().string(),message:r().string()},optional:{},exact:!0});const a={type:"agent",config:{},authentication:void 0,latestVersion:"1.0.0",triggers:{"agent.message":{isTriggerConfigured:()=>!0,triggerDuplicator:e=>{let{original:t}=e;return t},versionAvailability:"*"}},effects:{"agents.createThread":{versionAvailability:"*"},"agents.runAgent":{versionAvailability:"*"}},duplicateState:e=>{let{original:t}=e;return t},getModuleConfigurationStatus:()=>"ready"};const n={type:"calendar",config:{},triggers:{},effects:{"calendar.getEvents":{versionAvailability:"1.0.0"}},authentication:{type:"oauth2"},latestVersion:"1.0.0",duplicateState:e=>{let{original:t}=e},getModuleConfigurationStatus:e=>{var t;return null!==(t=e.state)&&void 0!==t&&t.connectionPointer?"ready":"invalid"}};i(610931);var o=()=>i(44250);r().union([r().object({required:{accessScope:r().literals("read","write"),schema:i(39559).Fr},optional:{},exact:!0}),r().object({required:{askUserToPick:r().literal(!0)},optional:{},exact:!0})]);const s={type:"discussions",config:{},latestVersion:"1.0.0",triggers:{"page.discussion.comment.added":{isTriggerConfigured:e=>{let{databaseKey:t}=e;return Boolean(t)},triggerDuplicator:e=>{let{original:t}=e},versionAvailability:"*"}},effects:{"discussions.getPageDiscussions":{versionAvailability:"*"},"discussions.addCommentToPage":{versionAvailability:"*"},"discussions.addCommentToDiscussion":{versionAvailability:"*"}},duplicateState:e=>{let{original:t}=e;return t},getModuleConfigurationStatus:()=>"ready"},l={type:"files",config:{},authentication:void 0,latestVersion:"1.0.0",triggers:{},effects:{"files.getFileContent":{versionAvailability:"*"},"files.getFileUrl":{versionAvailability:"*"},"files.getFileName":{versionAvailability:"*"}},duplicateState:e=>{let{original:t}=e;return t},getModuleConfigurationStatus:()=>"ready"},c={type:"github",config:{scopes:[]},authentication:{type:"oauth2"},latestVersion:"1.0.0",triggers:{},effects:{"github.getPullRequest":{versionAvailability:"*"},"github.getUser":{versionAvailability:"*"},"github.listPullRequests":{versionAvailability:"*"},"github.listOrganizationRepositories":{versionAvailability:"*"}},duplicateState:()=>{},getModuleConfigurationStatus:e=>{var t;return null!==(t=e.state)&&void 0!==t&&t.connectionPointer?"ready":"invalid"}},u={type:"mcpServer",config:{},authentication:void 0,latestVersion:"1.0.0",duplicateState:()=>{},getModuleConfigurationStatus:e=>{var t;return null!==(t=e.state)&&void 0!==t&&t.serverUrl?"ready":"invalid"},triggers:{},effects:{"mcpServer.runInference":{versionAvailability:"*"}}},g={type:"notionmail",config:{},latestVersion:"1.0.0",triggers:{"notionmail.email.received":{isTriggerConfigured:e=>{let{email:t}=e;return Boolean(t)},triggerDuplicator:e=>{let{original:t}=e;return t},versionAvailability:"*"}},effects:{},duplicateState:()=>{},getModuleConfigurationStatus:e=>{var t;return null!==(t=e.state)&&void 0!==t&&t.connectionPointer?"ready":"invalid"}},p={type:"page",config:{},authentication:void 0,latestVersion:"1.0.0",getModuleConfigurationStatus:(e,t)=>"ready",triggers:{},effects:{"page.appendPageContent":{versionAvailability:"*"},"page.getPageContent":{versionAvailability:"*"},"page.prependPageContent":{versionAvailability:"*"},"page.setPageContent":{versionAvailability:"*"}},duplicateState:e=>{let{original:t}=e;return t}};const d={type:"recurrence",config:{},latestVersion:"1.0.0",effects:{},triggers:{recurrence:{isTriggerConfigured:()=>!0,triggerDuplicator:e=>{let{original:t}=e;return{...t,scheduleId:void 0}},versionAvailability:"*"}},duplicateState:e=>{let{original:t}=e;return t},getModuleConfigurationStatus:()=>"ready"};const y={type:"users",config:{},authentication:void 0,latestVersion:"1.0.0",triggers:{},effects:{"users.getUser":{versionAvailability:"*"},"users.findUserByEmail":{versionAvailability:"*"},"users.findUserByName":{versionAvailability:"*"}},duplicateState:e=>{let{original:t}=e;return t},getModuleConfigurationStatus:()=>"ready"},v={type:"web",config:{scopes:["read"]},authentication:void 0,latestVersion:"1.0.0",triggers:{},effects:{"web.loadWebpage":{versionAvailability:"*"},"web.isValidUrl":{versionAvailability:"*"}},duplicateState:e=>{let{original:t}=e;return t},getModuleConfigurationStatus:()=>"ready"},f={type:"zendesk",config:{scopes:["read","write"]},authentication:{type:"oauth2"},latestVersion:"1.0.0",triggers:{"zendesk.ticket":{isTriggerConfigured:()=>!0,triggerDuplicator:e=>{let{original:t}=e;return{type:t.type,status:t.status,priority:t.priority,tags:t.tags}},versionAvailability:"*"}},effects:{"zendesk.getTicket":{versionAvailability:"*"},"zendesk.addTicket":{versionAvailability:"*"},"zendesk.addComment":{versionAvailability:"*"},"zendesk.getComments":{versionAvailability:"*"},"zendesk.updateTicket":{versionAvailability:"*"}},duplicateState:()=>{},getModuleConfigurationStatus:e=>{var t;return null!==(t=e.state)&&void 0!==t&&t.connectionPointer?"ready":"invalid"}},b={database:{type:"database",config:{},authentication:void 0,latestVersion:"1.0.0",triggers:{"database.page.created":{isTriggerConfigured:()=>!0,triggerDuplicator:e=>{let{original:t}=e;return t},versionAvailability:"*"},"database.page.updated":{isTriggerConfigured:()=>!0,triggerDuplicator:e=>{let{original:t}=e;return t},versionAvailability:"*"},"database.page.deleted":{isTriggerConfigured:()=>!0,triggerDuplicator:e=>{let{original:t}=e;return t},versionAvailability:"*"}},effects:{"databases.query":{versionAvailability:"*"},"databases.getPage":{versionAvailability:"*"},"databases.createPage":{versionAvailability:"*"},"databases.updatePage":{versionAvailability:"*"},"databases.deletePage":{versionAvailability:"*"},"databases.getPageContent":{versionAvailability:"*"},"databases.setPageContent":{versionAvailability:"*"},"databases.insertPageContent":{versionAvailability:"*"},"databases.pickPages":{versionAvailability:"*"},"databases.pickSelectOption":{versionAvailability:"*"},"databases.pickMultiSelectOptions":{versionAvailability:"*"},"databases.getSelectOptions":{versionAvailability:"*"}},duplicateState:e=>{let{original:t,mapper:i,requester:r}=e;const a=(0,o().DK)(t);if(!a||!a.pointer)return t;const n=i({requested:a.pointer,requester:r});if(!n)return t;if(n.table!==a.pointer.table)throw new Error("Mapped collection pointer isn't a collection pointer!");return{...a,pointer:{...n,spaceId:n.spaceId??a.pointer.spaceId}}},getModuleConfigurationStatus:e=>(0,o().K$)(e.state)?e.state.pointer?"ready":"invalid":"invalidAndRequiredToWriteCode"},slack:i(595257).$,users:y,files:l,ai:i(27555).ai,recurrence:d,search:i(903227).$P,discussions:s,notionmail:g,zendesk:f,agent:a,config:i(346279).$,notifications:{type:"notifications",config:{},authentication:{type:"oauth2"},latestVersion:"1.0.0",getModuleConfigurationStatus:()=>"ready",triggers:{},effects:{"notifications.message.send":{versionAvailability:"*"}},duplicateState:e=>{let{original:t}=e;return t}},web:v,page:p,github:c,npmModules:{type:"npmModules",config:{scopes:["read","write"]},latestVersion:"1.0.0",duplicateState:e=>{let{original:t}=e;return t},getModuleConfigurationStatus:e=>"ready",triggers:{},effects:[]},mcpServer:u,calendar:n};function m(e){return b[e]}function h(e){return((null==e?void 0:e.modules)||[]).some((t=>{if(!e)return!1;return"invalidAndRequiredToWriteCode"===b[t.type].getModuleConfigurationStatus(t,e)}))}},971053:(e,t,i)=>{i.d(t,{Hl:()=>v,OG:()=>f,Zl:()=>d,lH:()=>y,oV:()=>a});i(610931),i(754309),i(362833),i(403517);var r=()=>i(76394);const a=12e3,n=["openai-gpt-4o","openai-chatgpt-4o-latest","openai-gpt-4o-mini","openai-o1","openai-o1-mini","openai-o3-mini","openai-gpt-4.1","openai-gpt-4.1-mini","openai-gpt-4.1-nano","openai-o3","openai-o4-mini"];const o=["anthropic-haiku","anthropic-sonnet-3.5","anthropic-sonnet-3.7","anthropic-opus"];const s=["vertex-gemini-1.5-pro","vertex-gemini-1.5-flash","vertex-gemini-2.0-flash","vertex-gemini-2.5-pro","vertex-gemini-2.5-flash"];const l=["groq-gemma2-9b-it","groq-gemma-7b-it","groq-llama-70b","groq-llama-8b","groq-mixtral"];const c=["fireworks-llama3.1-405b","fireworks-llama3.1-70b","fireworks-llama3.3-70b","fireworks-llama3.3-70b-dedicated","fireworks-llama3.1-8b","fireworks-llama3-70b","fireworks-mixtral-22b","fireworks-mixtral-7b","fireworks-ft-router-101","fireworks-ft-router-102","fireworks-deepseek-v3","fireworks-deepseek-r1","fireworks-llama-8b-finetune-incl-translated-thumbsupdown-v07--judge-0-9-p50","fireworks-llama-8b-finetune-incl-translated-thumbsupdown-v07--judge-0-9-p20","fireworks-llama-8b-finetune-v07-p50-dedicated"];const u=["bedrock-nova-pro","bedrock-nova-lite","bedrock-nova-micro"];const g=["bedrock-anthropic-sonnet-3.7","bedrock-anthropic-sonnet-3.5","bedrock-anthropic-haiku-3.5"];const p=["cerebras-llama3.1-8b","cerebras-llama3.3-70b","cerebras-deepseek-r1-distill-llama-70b"];function d(e){const t=[];for(const i of e){const e=t[t.length-1];e?"text"===i.type&&"text"===e.type?t[t.length-1]={type:"text",content:e.content+i.content}:"thinking"===i.type&&"thinking"===e.type?t[t.length-1]={type:"thinking",content:e.content+i.content,signature:i.signature||e.signature}:"tool_use"===i.type&&"tool_use"===e.type&&i.id===e.id?t[t.length-1]={type:"tool_use",id:i.id,name:i.name,content:e.content+i.content}:t.push({...i}):t.push({...i})}return t}function y(e){return"string"==typeof e?[{type:"text",content:e}]:e}function v(e){if(!e)return"";if("string"==typeof e)return e;if("transcript"in e){const t=e.transcript.findLast((e=>"researcher-report"===e.type));return t?t.value:""}return"string"==typeof e?e:e.map((e=>"text"===e.type||"thinking"===e.type||"tool_use"===e.type||"registered_tool_use"===e.type?e.content:void(0,r().HB)(e))).join("")}function f(e){return e instanceof Error?e.message:"string"==typeof e?e:"object"==typeof e&&null!==e&&"message"in e&&"string"==typeof e.message?e.message:String(e)}}}]);