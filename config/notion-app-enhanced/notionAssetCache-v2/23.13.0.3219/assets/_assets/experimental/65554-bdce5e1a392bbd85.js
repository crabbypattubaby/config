"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[65554],{24281:(e,t,r)=>{r.d(t,{B:()=>y});r(242343);var n=()=>r(237385),s=()=>r(803290),i=()=>r(174114),o=()=>r(653998),a=()=>r(220413),c=()=>r(76394),l=()=>r(31448),d=()=>r(678523),u=()=>r(103151),p=()=>r(907721),m=()=>r(485966),h=()=>r(943066),g=r(163643);function y(e){let{upsell:t,mobileStyle:r,desktopStyle:y,analyticsName:f,onClick:v,disableTooltip:S}=e;const b=(0,i().DP)(),I=(0,n().v3)(),{device:w}=I,x=(0,s().K8)((()=>{const{currentSpaceStore:e}=m().default.state;return null==e?void 0:e.canAdmin()}),[]),M=(0,s().K8)((()=>function(e,t){if("product"!==e.type)return{};switch(e.product){case"plus":case"business":case"enterprise":return{color:t.blueColor,background:"light"===t.mode?a().Ay.diffBackground:"rgba(35, 131, 226, 0.2)",fontWeight:l().Wy.medium};default:return{}}}(t,b)),[t,b]);if("product"!==t.type)return null;if(w.isMobileNative)return null;const A=(()=>{switch(t.product){case"personal":return(0,g.jsx)(o().sA,{defaultMessage:"Personal Pro",id:"upgradeButton.personal.text"});case"plus":return(0,g.jsx)(o().sA,{defaultMessage:"Plus ↗",id:"upgradeButton.plus.textWithArrow"});case"business":return(0,g.jsx)(o().sA,{defaultMessage:"Business ↗",id:"upgradeButton.business.textWithArrow"});case"enterprise":return(0,g.jsx)(o().sA,{defaultMessage:"Enterprise ↗",id:"upgradeButton.enterprise.textWithArrow"});case"ai":return(0,g.jsx)(o().sA,{defaultMessage:"AI ↗",id:"upgradeButton.ai.textWithArrow"});case"sites_custom_hostnames":return(0,g.jsx)(o().sA,{defaultMessage:"Custom Hostnames ↗",id:"upgradeButton.sites_custom_hostnames.textWithArrow"});default:t.product,(0,c().HB)(t.product)}})();return w.isMobile||!x?(0,g.jsx)(d().A,{mobileStyle:r,children:A}):(0,g.jsx)(u().A,{delayThreshold:120,disableTooltip:S,placement:p().W.Bottom,renderTooltip:()=>(0,g.jsx)("div",{style:{maxWidth:500},children:(0,g.jsx)(o().sA,{defaultMessage:"Upgrade to use this feature.",id:"premiumFeatureUpgradeButton.upgrade.tooltip"})}),originGap:6,render:e=>(0,g.jsx)(d().A,{desktopStyle:y,innerStyle:M,onClick:e=>function(e,t,r,n,s){h().K(n,{from:t,upsell:r}),s&&s(e)}(e,f,t,I,v),...e,children:A})})}},109926:(e,t,r)=>{r.d(t,{V:()=>i});r(242343);var n=r(163643);const s={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M6.625 6.625a.675.675 0 1 1-1.35 0 .675.675 0 0 1 1.35 0M5.95 9.55a.675.675 0 1 0 0-1.35.675.675 0 0 0 0 1.35m.675 1.575a.675.675 0 1 1-1.35 0 .675.675 0 0 1 1.35 0M9.1 7.3a.675.675 0 1 0 0-1.35.675.675 0 0 0 0 1.35m.675 1.575a.675.675 0 1 1-1.35 0 .675.675 0 0 1 1.35 0M9.1 11.8a.675.675 0 1 0 0-1.35.675.675 0 0 0 0 1.35m6.413.225a.675.675 0 1 1-1.35 0 .675.675 0 0 1 1.35 0m-.675 2.925a.675.675 0 1 0 0-1.35.675.675 0 0 0 0 1.35"}),(0,n.jsx)("path",{d:"M1.9 5.725A2.475 2.475 0 0 1 4.375 3.25h6.3a2.475 2.475 0 0 1 2.475 2.475v3.15h2.475A2.475 2.475 0 0 1 18.1 11.35v5.4a.675.675 0 0 1-.675.675H2.575a.675.675 0 0 1-.675-.675zM4.375 4.6c-.621 0-1.125.504-1.125 1.125v10.35h1.913V13.6c0-.31.251-.562.562-.562h3.6c.31 0 .563.251.563.562v2.475H11.8V5.725c0-.621-.504-1.125-1.125-1.125zm4.388 11.475v-1.912H6.288v1.912zm4.387-5.85v5.85h3.6V11.35c0-.621-.504-1.125-1.125-1.125z"})]})},i=(0,r(680369).wt)("teamspace",s)},162976:(e,t,r)=>{r.d(t,{$:()=>i});var n=()=>r(803290),s=()=>r(307542);function i(e){let{spaceStore:t}=e;const r=(0,n().K8)((()=>Boolean(null==t?void 0:t.getSetting("disable_people_directory"))),[t]);return(0,n().K8)((()=>(0,s().F0)()),[])&&!r}},164045:(e,t,r)=>{r.d(t,{j:()=>s,y:()=>i});var n=()=>r(31448);function s(e){const{theme:t,isInHomeWidget:r,isFeedbackButton:s}=e;return{display:"flex",alignItems:"center",fontSize:14,padding:6,...s?{height:r?24:28,color:t.text.tertiary,fill:t.lightIconColor}:r?{height:24,width:24,color:t.text.tertiary,fill:t.lightIconColor}:{height:28,width:28,color:t.mediumIconColor,fill:t.mediumIconColor},fontWeight:n().Wy.regular,lineHeight:1,borderRadius:6}}function i(e){const{theme:t}=e;return{display:"flex",alignItems:"center",fontSize:14,height:28,padding:6,color:t.mediumIconColor,fontWeight:n().Wy.regular,lineHeight:1,borderRadius:6}}},265516:(e,t,r)=>{r.d(t,{Q:()=>n,a:()=>s});let n=function(e){return e[e.Left=0]="Left",e[e.Right=1]="Right",e}({});class s extends(()=>r(129044))().default{getInitialState(){return{dayStoreMap:new Map,isDragging:!1,startingMonth:0}}}},267521:(e,t,r)=>{r.r(t),r.d(t,{arrowChevronSingleDownFillIcon:()=>s,iconDefinition:()=>n});r(242343);const n={viewBox:"0 0 20 20",svg:(0,r(163643).jsx)("path",{d:"M9.381 13.619a.875.875 0 0 0 1.238 0l5.4-5.4A.875.875 0 1 0 14.78 6.98L10 11.763 5.219 6.98A.875.875 0 1 0 3.98 8.22z"})},s=(0,r(680369).wt)("arrowChevronSingleDownFill",n)},350638:(e,t,r)=>{r.d(t,{F:()=>s});r(242343);var n=r(163643);const s=(0,r(680369).wt)("mail",{viewBox:"0 0 30 30",svg:(0,n.jsx)("path",{d:"M0,4v22h30V4H0z M17.591,16.33C16.137,17.753,15.819,18,15,18s-1.137-0.247-2.555-1.635L2,6h26L17.591,16.33z M2,8.814 l7.17,7.119L2,21.8V8.814z M2.445,24l8.141-6.661L11,17.75c1.438,1.406,2.281,2.25,4,2.25s2.563-0.844,4-2.25l0.414-0.411L27.555,24 H2.445z M28,21.8l-7.17-5.867L28,8.814V21.8z"})})},377963:(e,t,r)=>{r.d(t,{I:()=>s});r(242343);var n=r(163643);const s=(0,r(680369).wt)("chevronLeft",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M3.61816 8.06445C3.61816 8.29688 3.70703 8.49512 3.8916 8.67285L9.22363 13.8887C9.36719 14.0391 9.55859 14.1143 9.77734 14.1143C10.2217 14.1143 10.5703 13.7725 10.5703 13.3213C10.5703 13.1025 10.4814 12.9043 10.3311 12.7539L5.52539 8.06445L10.3311 3.375C10.4814 3.21777 10.5703 3.01953 10.5703 2.80078C10.5703 2.35645 10.2217 2.01465 9.77734 2.01465C9.55859 2.01465 9.36719 2.08984 9.22363 2.24023L3.8916 7.45605C3.70703 7.63379 3.625 7.83203 3.61816 8.06445Z"})})},387643:(e,t,r)=>{r.r(t),r.d(t,{ENGLISH_PERSONAL_PRONOUNS:()=>qe,TEST_ONLY__getVisibleSpaceUserIds:()=>Te,checkIsTrashEmpty:()=>me,getLocalCacheFromAppState:()=>se,isPersonalPronoun:()=>Ce,searchActorsById:()=>Ne,searchCollections:()=>he,searchCollectionsWithRecents:()=>ge,searchEmailUser:()=>ze,searchInstallableIntegrations:()=>Ie,searchLocalNavigableBlocks:()=>ye,searchMentionablePages:()=>Ee,searchPageIds:()=>oe,searchPageIdsInAncestor:()=>ue,searchPagesInAncestor:()=>de,searchPagesInCollection:()=>ae,searchPagesInSpace:()=>ie,searchPagesWithParent:()=>ce,searchPublicPages:()=>_e,searchSpaceActorIds:()=>ke,searchSpaceActors:()=>je,searchSpaceBots:()=>ve,searchSpaceGroups:()=>fe,searchSpaceUsers:()=>Ae,searchTeams:()=>Ve,searchTrashPages:()=>pe,searchUsers:()=>xe,searchUsersByNameWithNoSpaces:()=>Me,searchVisibleSpaceUsers:()=>Pe});r(362833),r(333225),r(494367),r(516262),r(573119),r(240480),r(950443),r(619601),r(725707),r(491955),r(500234),r(324989),r(403517);var n=r.n(r(567012)),s=()=>r(466003),i=()=>r(599932),o=()=>r(706788),a=()=>r(502140),c=()=>r(769884),l=()=>r(673447),d=()=>r(446588),u=()=>r(220574),p=()=>r(545250),m=()=>r(145017),h=()=>r(518797),g=()=>r(21164),y=()=>r(528762),f=()=>r(409211),v=()=>r(32194),S=()=>r(294997),b=()=>r(34662),I=()=>r(14931),w=()=>r(188877),x=()=>r(975392),M=()=>r(23371),A=()=>r(3311),P=()=>r(204132),B=()=>r(76394),C=()=>r(141666),q=()=>r(818369),T=()=>r(129243),j=()=>r(855225),k=()=>r(927685),z=()=>r(137476),N=()=>r(782422),E=()=>r(307542),U=()=>r(378219),_=()=>r(352723),V=()=>r(646591),R=()=>r(36746),L=()=>r(591130),F=()=>r(196387),O=()=>r(520969),W=()=>r(485966),D=()=>r(802955),H=()=>r(736953),G=()=>r(985532),K=()=>r(836331),X=()=>r(761079),Q=()=>r(271932),Y=()=>r(614300),Z=()=>r(413871),$=()=>r(472951),J=()=>r(104838),ee=()=>r(111826),te=()=>r(305043),re=()=>r(723969),ne=()=>r(867834);async function se(e){const{currentSpaceStore:t,currentSpaceViewStore:r}=W().default.state;if(!t)return;return K().default.checkGate({gateName:"search_use_local_search_cache"})?(Q().A.state.localSearchableBlocksCache||await Q().A.waitUntil((()=>Boolean(Q().A.state.localSearchableBlocksCache))),Q().A.state.localSearchableBlocksCache):await(0,ne().h)({environment:e,currentSpaceStore:t,currentSpaceViewStore:r})}async function ie(e){const{environment:t,query:r,limit:n,currentPageId:s,searchSessionId:i,searchSessionFlowNumber:o,recentlyMentionedPageIds:a,spaceId:c,requireEditPermissions:l,excludeTemplates:d,source:p,boostRecentlyViewedPages:m,ignoresHighlight:h,filterOverrides:g,spaceStore:y}=e,f={results:[],recordMap:u().RecordMapWithRole.create().toJson(),total:0,trackEventProperties:void 0};if(!y)return f;const S=await se(t),b=v().N2({isDeletedOnly:!1,navigableBlockContentOnly:!0,excludeTemplates:d,requireEditPermissions:l||void 0,...g}),I={field:"relevance"};if(!r&&S){const e=(0,re().k)({query:{query:{text:r,filters:b,sort:I},limit:n},localCachedPages:S,userId:t.currentUser.id,environment:t});return e||f}const w=await q().callApi({eventName:"search",environment:t,data:{type:v().Vz.BlocksInSpace,query:r,spaceId:c,currentPageId:s,searchSessionId:i,searchSessionFlowNumber:o,recentlyMentionedPageIds:a,limit:n,filters:b,sort:I,source:p,recentPagesForBoosting:m?(0,V().cs)(X().A.getWithoutSubscribing(c)):void 0,ignoresHighlight:h}});if("failed"===w.type)throw w.error;return w.data}async function oe(e){const t=await ie(e);return{results:t.results.map((e=>e.id)),recordMap:t.recordMap}}async function ae(e){const{environment:t,query:r,collectionId:n,limit:s,spaceId:i,excludeTemplates:o,source:a,includePublicPagesWithoutExplicitAccess:c,boostRecentlyViewedPages:l,ignoresHighlight:d}=e,u=new Array,p=await se(t),m=v().N2({isDeletedOnly:!1,navigableBlockContentOnly:!0,includePublicPagesWithoutExplicitAccess:c,excludeTemplates:o}),h={field:"relevance"},y=q().callApi({eventName:"search",environment:t,data:{type:v().Vz.BlocksInCollection,query:r,spaceId:i,collectionId:n,limit:s,filters:m,sort:h,source:a,recentPagesForBoosting:l?(0,V().cs)(X().A.getWithoutSubscribing(i)):void 0,ignoresHighlight:d}});if(p){const e={table:g().Vl,id:n,spaceId:i},o=new(Z().md)(t,e);await o.load();const a=(0,re().k)({query:{query:{text:r,filters:o.isPageTreeCollection()?{...m,ancestors:[n]}:{...m,parentId:n},sort:h},limit:s},localCachedPages:p,userId:t.currentUser.id,environment:t});a&&u.push(...a.results)}const f=await y;if("failed"===f.type){if(0===u.length)throw f.error}else{let e=f.data.results;r||(e=R().Fj({sort:h,batchSize:s,currentUserId:t.currentUser.id,unsorted:e})),u.push(...e)}return{results:x().oE(x().sb(u.map((e=>e.id))))}}async function ce(e){const{environment:t,query:r,parentId:n,limit:s,spaceId:i,excludeTemplates:o,source:a,includePublicPagesWithoutExplicitAccess:c,boostRecentlyViewedPages:l,ignoresHighlight:d}=e,[u,p]=await Promise.all([q().callApi({eventName:"search",environment:t,data:{type:v().Vz.BlocksInParent,query:r,spaceId:i,parentId:n,limit:s,filters:v().N2({isDeletedOnly:!1,navigableBlockContentOnly:!0,includePublicPagesWithoutExplicitAccess:c,excludeTemplates:o}),sort:{field:"relevance"},source:a,recentPagesForBoosting:l?(0,V().cs)(X().A.getWithoutSubscribing(i)):void 0,ignoresHighlight:d}}),le(e)]);if("failed"===u.type)throw u.error;return{results:x().oE(x().sb([p,...u.data.results.map((e=>e.id))]))}}async function le(e){const{environment:t,query:r,parentId:n,spaceId:s}=e,i=(0,p().parseRoute)({url:r,baseUrl:k().A.domainBaseUrl,publicDomainName:k().A.publicDomainName,isMobile:t.device.isMobile,protocol:k().A.protocol,currentUrl:window.location.href}),o="page"===i.name?i.peekViewBlockId||i.blockId:void 0,a=((0,A().c_)(r)?(0,A().np)(r):void 0)||o;if(a){const e={table:m().ev,id:a},r=new(Z().Bv)(t,e);await r.load();const i=r.id,o=r.getParentId(),c=r.getSpaceId();if(o===n&&c===s)return i}}async function de(e){const{environment:t,query:r,ancestorId:n,limit:s,excludeTemplates:i,source:o,currentPageId:a,searchSessionId:c,searchSessionFlowNumber:l,recentlyMentionedPageIds:d,ignoresHighlight:u,includePublicPagesWithoutExplicitAccess:p,spaceId:m}=e,h=await q().callApi({eventName:"search",environment:t,data:{type:v().Vz.BlocksInAncestor,query:r,ancestorId:n,filters:v().N2({navigableBlockContentOnly:!0,excludeTemplates:i,includePublicPagesWithoutExplicitAccess:p}),sort:{field:"relevance"},limit:s,source:o,spaceId:m,currentPageId:a,searchSessionId:c,searchSessionFlowNumber:l,recentlyMentionedPageIds:d,ignoresHighlight:u}});if("failed"===h.type)throw h.error;return h.data}async function ue(e){return{results:(await de(e)).results.map((e=>e.id))}}async function pe(e){const{environment:t,query:r,limit:n,spaceId:s}=e,i=0===r.trim().length?{field:"lastEdited",direction:"desc"}:{field:"relevance"},o={query:r,filters:v().N2({isDeletedOnly:!0,navigableBlockContentOnly:!0,excludeTemplates:!1,editedBy:e.editedByIds||[],ancestors:e.ancestorIds||[],inTeams:e.teamspaceIds||[]}),sort:i,limit:n,spaceId:s,source:"trash"},a=q().callApi({eventName:"search",environment:t,data:{type:v().Vz.BlocksInSpace,...o}}),c=await a;if("failed"===c.type)throw c.error;{const{results:e,recordMap:t,total:r}=c.data;return{results:e.map((e=>e.id)),recordMap:u().RecordMapWithRole.create(t),endOfResultsReached:r===e.length}}}async function me(e){const{currentSpaceStore:t,currentUserStore:r}=W().default.state;if(!t||!r)return!1;return 0===(await pe({environment:e,query:"",limit:1,spaceId:t.id,ancestorIds:[],editedByIds:[],teamspaceIds:[]})).results.length}async function he(e,t){const{query:r,limit:n,source:s,requireEditPermissions:i,databaseType:o,spaceStore:a,searchSessionId:c}=t;if(!a)return{results:[],total:0};const l=a.id,[d,u]=await Promise.all([Re(e,{...t,spaceId:l,requireEditPermissions:i,databaseType:o,parentStore:a}),q().callApi({eventName:"search",environment:e,data:{type:v().Vz.CollectionsInSpace,query:r,spaceId:l,limit:n,filters:{...v().N2({excludeTemplates:!0,requireEditPermissions:i,databaseType:o})},sort:{field:"relevance"},source:s,recentPagesForBoosting:(0,V().cs)(X().A.get(l)),searchSessionId:c}})]),p=x().KC("success"===u.type?x().oE(u.data.results.map((e=>e.collectionId))):[],d).slice(0,n);return{results:p,total:"success"===u.type?u.data.total:p.length}}async function ge(e){const{environment:t,collectionViewBlockStore:r,spaceStore:n,parentStore:s,query:i,limit:o,requireEditPermissions:a,databaseType:c,searchSessionId:l}=e;let d=[],u=0;if(!i){const e=t.currentUser.id;n&&(d=[...(0,j().F)({currentUserId:e,spaceId:n.id}).map((e=>Z().md.createChildStore(s,{table:g().Vl,id:e})))]),d=[...x().oE(null==r?void 0:r.getCollectionViewStores().map((e=>e.getCollectionStore()))),...d],c&&(d=d.filter((e=>{const t=e.getDatabaseType();return!!t&&c.includes(t)}))),d=x().hS(d,(e=>e.id)).filter((e=>!a||e.canEdit()))}const p=await he(t,{query:i,limit:o,source:"collection_settings_source",requireEditPermissions:a,databaseType:c,spaceStore:n,searchSessionId:l});return d=[...d,...p.results.map((e=>Z().md.createChildStore(s,{table:g().Vl,id:e})))],u=p.total,d=d.filter((e=>!(0,U().ze)(e)&&e.canRead())),await Promise.all(d.map((async e=>{await e.load()}))),{results:x().hS(d,(e=>e.id)).slice(0,o).map((e=>e.id)),total:u}}async function ye(e){const{environment:t,searchQuery:r,blockTypes:n,currentSpaceStore:s,currentSpaceViewStore:i,limit:o,parentId:a}=e,c=await(0,ne().h)({environment:t,currentSpaceStore:s,currentSpaceViewStore:i}),l={query:{text:r,filters:(0,v().N2)({requireEditPermissions:!1,isDeletedOnly:!1,excludeTemplates:!0,navigableBlockContentOnly:!0,blockTypes:n,parentId:a}),sort:{field:"relevance"}},limit:o},d=(0,re().r)({query:l,localCachedPages:c,parentStore:s,isOnline:D().A.state.online,environment:t,shouldLimitLocalResultsWhenOnline:!1,applyScoreThresholdWhenOnline:!0,canUseLtr:!1});return d&&P().Q.isSuccess(d)?d.value.results.filter((e=>e.store.pathIsAccessibleAndAlive())):[]}function fe(e){const{query:t,intl:r}=e,n=H().A.state.permissionGroupsAndMemberCounts.map((e=>e.group));if(0===n.length)return[];return t?(0,w().Ay)(t,n,(e=>(0,L().Pf)({intl:r,groupName:e.name})),{normalizeFuzzyScore:!0}):n}async function ve(e){const{query:t,limit:r}=e,{currentSpaceStore:n}=W().default.state;if(!n)return[];return be({parentStore:n,query:t,botIds:await Se(e)}).slice(0,r)}async function Se(e){const{environment:t}=e,{currentSpaceStore:r}=W().default.state;if(!r)return[];const n=r.id,s=await T().Ju({environment:t,table:y().NX,id:n,type:"guest"});return x().sb(s.botIds)}function be(e){const{parentStore:t,query:r,botIds:n}=e,i=x().oE(n.map((e=>{const r=t.table===y().NX?t.id:void 0;return(0,Z().Oo)(t,{table:h().GP,id:e,spaceId:r}).getValue()})));return r?(0,w().Ay)(r,i,s().tb):i}async function Ie(e){const{query:t,environment:r,spaceId:n,botSettings:s}=e;if(!n)return[];const i=await q().callApi({eventName:"searchIntegrations",environment:r,data:{query:t}});if("success"===i.type){const e=i.data.integrationIds,t=s&&s.integration_approval_statuses?Object.keys(s.integration_approval_statuses):[],r=Boolean(null==s?void 0:s.integration_restrictions),n=Boolean("approved_or_built_by_notion"===(null==s?void 0:s.integration_restrictions));return r?e.filter((e=>n?t.includes(e)||(0,o().CX)({integrationId:e,env:"production"}):t.includes(e))):e}if("failed"===i.type)throw i.error;(0,B().HB)(i)}const we=new Set(["gmail.com","yahoo.com","hotmail.com","outlook.com","icloud.com","aol.com"]);async function xe(e){var t;let{environment:r,parentStore:n,query:s,userIds:o,minFuzzyScore:c,placeSelfFirst:l}=e;const d=F().default.mark("user_search_latency"),u=K().default.checkGate({gateName:"search_batch_load_users"}),p=M().lX(o,u?300:Math.max(o.length,1),(async e=>{const t=Z().LU.createChildStore(n,{table:f().oo,id:e});return await t.load(),t.getValue()}));(await(0,M().nQ)(1e4,[p])).timeout&&(a().log({level:"error",from:"searchActions.searchUsers",type:"UserStoreLoadTimeoutV1",error:{message:"The UserStore.load()'s took longer than 10 seconds"},data:{searchedUserIdCount:o.length,queryLength:s.length,parentStoreLoaded:n.isReady(),documentVisibilityState:document.visibilityState}}),(0,z().u4)({environment:r,event:{eventName:"user_search_timeout",eventProperties:{searchedUserIdCount:o.length,queryLength:s.length,parentStoreLoaded:n.isReady(),documentVisibilityState:document.visibilityState}}}));const m=x().oE(await p);let h;const g=null===(t=W().default.state.currentUserStore)||void 0===t?void 0:t.userId;if(l&&g){const e=m.findIndex((e=>g===e.id));e>-1&&(h=m[e],m.splice(e,1))}const y=$().k.state??{},v=Math.max(...Object.values(y));function S(e){var t;return e===(null===(t=W().default.state.currentUserRootStore)||void 0===t?void 0:t.userId)?v+1e-5:y[e]??0}const b=x().Im(y)?m:m.sort(((e,t)=>{const r=S(e.id);return S(t.id)-r})),A=new Set(n.getEmailDomains()),P=s?(0,w().Ay)(s,b,I().T2,{minThreshold:c,getSortScore:e=>{const{original:t,score:r}=e,n=t.email&&(0,i().zN)(t.email),s=h&&(0,i().zN)(h.email),o=n&&A.has(n),a=s===n,c=s&&we.has(s);return r*(o||a&&!c?-2:-1)}}):m;return F().default.measure(d,{environment:r}),h?[h,...P]:P}async function Me(e){const{environment:t,query:r,membersOnly:n,shouldUseEdgeCacheRollout:s}=e;if(s&&G().A.state.shouldUseEdgeCache){const e=W().default.state.currentSpaceStore;if(!e)return[];const s=await q().callApi({eventName:"listUsers",environment:t,data:{cursor:void 0,membershipFilter:n?"members":void 0,limit:1,uniqueNameWithoutSpaces:r,spaceId:e.id}});if("success"!==s.type||0===s.data.users.length)return[];const i=Z().LU.createChildStore(e,{table:f().oo,id:s.data.users[0].id});await i.load();const o=i.getModel();return o?[o]:[]}return(await Pe({environment:t,query:r,membersOnly:n})).map((e=>c().Bj6.fromValue(f().oo,e)))}async function Ae(e){return e.shouldUseEdgeCacheRollout&&G().A.state.shouldUseEdgeCache?async function(e){const{environment:t,membersOnly:r,minFuzzyScore:n=1e3,placeSelfFirst:s,limit:i}=e,{currentSpaceStore:o,mainEditorCurrentBlockStore:a,currentUserStore:c}=W().default.state;if(!o)return[];const l=e.query.startsWith("@")?e.query.slice(1):e.query,u=$().k.getSortedUserIds().slice(0,100),p=a&&!r?(0,_().i0)(a).flatMap((e=>{let{permissionItem:t}=e;return(0,d().B2)(t)?[t.user_id]:[]})):[],m=await xe({environment:e.environment,parentStore:o,query:l,userIds:x().sb([...x().oE([null==c?void 0:c.userId]),...u,...p]),minFuzzyScore:n,placeSelfFirst:s});if(i&&m.length>=i)return m.slice(0,i);const h=await q().callApi({eventName:"listUsers",environment:t,data:{cursor:void 0,membershipFilter:r?"members":void 0,limit:i?i-m.length:100,query:l,spaceId:o.id}});if("success"!==h.type||0===h.data.users.length)return m;const g=h.data.users.sort(((e,t)=>{var r,n;const s=(null===(r=$().k.state)||void 0===r?void 0:r[e.id])??0;return((null===(n=$().k.state)||void 0===n?void 0:n[t.id])??0)-s})),y=await(0,M().lX)(g,g.length,(async e=>{const t=Z().LU.createChildStore(o,{table:f().oo,id:e.id});return await t.load(),t.getValue()}));return x().hS([...m,...x().oE(y)],(e=>e.id))}(e):Pe(e)}async function Pe(e){const{currentSpaceStore:t}=W().default.state;if(!t)return[];const r=e.query.startsWith("@")?e.query.slice(1):e.query,n=await Be(e);return(await xe({environment:e.environment,parentStore:t,query:r,userIds:n,minFuzzyScore:e.minFuzzyScore,placeSelfFirst:e.placeSelfFirst})).slice(0,e.limit)}async function Be(e){const{environment:t,membersOnly:r}=e,{currentSpaceStore:n}=W().default.state;if(!n)return[];await J().$D({environment:t,spaceId:n.id});const s=te().subscriptionDataStoreInstance.state;if(!s)return[];const i=(0,ee().Be)(s).filter((e=>!(r&&!(0,d().DH)(e.role)))),{mainEditorCurrentBlockStore:o,currentUserStore:a}=W().default.state,c=o&&!r?(0,_().i0)(o).flatMap((e=>{let{permissionItem:t}=e;return(0,d().B2)(t)?[t.user_id]:[]})):[],l=(0,E().Qd)()&&o?function(e,t){const r=U().Uo(e);if(r){const e=new Set((0,S().gm)({membership:r.getRawMembership()}));return t.filter((t=>"none"!==t.role||t.isPageGuest||t.isTeamGuest&&e.has(t.userId)))}return t.filter((e=>"none"!==e.role||e.isPageGuest))}(o,i):i,u=l.map((e=>e.userId));return x().sb([...x().oE([null==a?void 0:a.userId]),...c,...u])}function Ce(e,t){return!(!t.startsWith("en-")||!qe.has(e.toLowerCase()))}const qe=new Set(["me","you","i"]),Te=Be;async function je(e){const{query:t}=e,[r,n]=await Promise.all([Ae({...e,placeSelfFirst:""===t||Ce(t,e.userLocale)}),ve(e)]);return{users:r,bots:n}}async function ke(e){const[t,r]=await Promise.all([Be(e),Se(e)]);return{userIds:t,botIds:r}}async function ze(e,t){const r=(0,i().qh)(t);if((0,i().DT)(r)&&r){const t=await q().callApi({eventName:"findUser",environment:e,data:{email:r}});if("failed"===t.type)throw t.error;const n=t.data;return n.value?{user:n.value.value}:{email:r}}return{}}async function Ne(e){const{query:t,userIds:r,botIds:n,store:s,environment:i}=e;if(K().default.checkGate({gateName:"dont_load_users"}))return{users:[],bots:[]};let o=s;if(!o){const{currentSpaceStore:e}=W().default.state;if(!e)return{users:[],bots:[]};o=e}return{users:await xe({environment:i,parentStore:o,query:t,userIds:r}),bots:be({parentStore:o,query:t,botIds:n})}}async function Ee(e){const{nearBlock:t,environment:r,query:n,source:s,searchSessionId:i,searchSessionFlowNumber:o}=e,{currentSpaceStore:a}=W().default.state,c=(0,N().s0)(),l=t&&(0,_().i0)(t).find((e=>{let{permissionItem:t}=e;return(0,d().FP)(t)})),u=Y().A.getMentionedIds(r.currentUser.id);if(a){return Ue(await ie({environment:r,query:n,limit:20,spaceId:a.id,currentPageId:c,searchSessionId:i,searchSessionFlowNumber:o,recentlyMentionedPageIds:u,requireEditPermissions:!1,excludeTemplates:!0,source:s,boostRecentlyViewedPages:!0,ignoresHighlight:!0,spaceStore:a}))}if(l&&l.from.table===m().ev){return Ue(await de({environment:r,query:n,limit:20,ancestorId:l.from.blockId,excludeTemplates:!0,source:s,currentPageId:c,searchSessionId:i,searchSessionFlowNumber:o,recentlyMentionedPageIds:u,ignoresHighlight:!0}))}return[]}function Ue(e){const{trackEventProperties:t,results:r}=e,n=(0,C().MU)((0,B().WP)(t).map((e=>{let[t,r]=e;return[`server-${t}`,r]})));return r.map((e=>({...e,serverEventProperties:n})))}async function _e(e){const{environment:t,query:r,source:n,limit:s}=e,{currentSpaceStore:i}=W().default.state;if(!i)return[];return(await ie({environment:t,query:r,limit:s||20,spaceId:i.id,requireEditPermissions:!0,excludeTemplates:!0,source:n,boostRecentlyViewedPages:!1,spaceStore:i})).results.filter((e=>{const t=Z().Bv.createChildStore(i,{table:m().ev,id:e.id}),r=(0,U().E)(t);return(0,l().ot)(r)}))}async function Ve(e){let{spaceViewStore:t,query:r,teamStores:n}=e;const s=x().oE(await Promise.all(n.map((async e=>(await e.load(),e.getValue()))))),i=t.getTeamsStores(),o=new Set(i.map((e=>e.id)));return r?(0,w().Ay)(r,s,(e=>e.name),{getSortScore:e=>{const{original:t,score:r}=e;return r*(o.has(t.id)?-2:-1)}}):s}function Re(e,t){const{query:r,limit:s,spaceId:i,requireEditPermissions:o,databaseType:a}=t,c=[];if(s>0){const l=new AbortController;e.defaultRecordCache.inMemoryRecordCache.forEachRecord(e.currentUser.id,(e=>{let{model:u,role:p}=e;if(u.table===g().Vl){const e=u.space_id===i,m=!o||(0,d().p2)(p);if(!e||!m||(0,O().Nh)(u.getParentId()))return;const h=u.getDatabaseType();if(!(!a||h&&a.includes(h)))return;const g=(0,b().q4_)(u.getName());if(!n().test(r,g))return;const y=Z().md.createChildStore(t.parentStore,u.pointer),f=U().g7(y);if(!U().yR(f))return;c.push(u.pointer.id),c.length>=s&&l.abort()}}),l.signal)}return c}},395705:(e,t,r)=>{r.d(t,{G:()=>a,e:()=>o});var n=r(242343),s=()=>r(174114),i=r(163643);let o=function(e){return e[e.Name=0]="Name",e[e.Type=1]="Type",e}({});const a=n.forwardRef((function(e,t){const{propertySchema:n,format:a}=e,{name:c,type:l,icon:d}=n,u=(0,r(622286).X)("nds_default_property_noticon"),{isMobile:p}=(0,r(237385).Y0)(),m=(0,s().IS)((e=>({propertyIcon:{fill:e.regularIconColor,marginLeft:6,marginRight:2}})),[]),h=(0,s().DP)(),g=a===o.Name?c:r(206183).dC[l];return(0,i.jsx)(r(535906).A,{title:g,icon:(0,i.jsx)(r(916963).zB,{icon:d,type:l,size:p?18:16,theme:h,style:m.propertyIcon,isDefaultNoticonEnabled:u}),...e})}))},449148:(e,t,r)=>{r.d(t,{D:()=>s});r(242343);const n={viewBox:"0 0 20 20",svg:(0,r(163643).jsx)("path",{d:"m3.625 11.151 1.187-1.187a.625.625 0 1 1 .884.884l-2.254 2.254a.625.625 0 0 1-.884 0L.304 10.848a.625.625 0 0 1 .884-.884l1.187 1.187V10a7.625 7.625 0 0 1 12.814-5.587.625.625 0 1 1-.851.915A6.375 6.375 0 0 0 3.625 10zm14-2.302 1.187 1.187a.625.625 0 1 0 .884-.884l-2.254-2.254a.625.625 0 0 0-.884 0l-2.254 2.254a.625.625 0 1 0 .884.884l1.187-1.187V10a6.375 6.375 0 0 1-10.713 4.672.625.625 0 0 0-.85.915A7.625 7.625 0 0 0 17.625 10z"})},s=(0,r(680369).wt)("arrowCircleLoop",n)},478601:(e,t,r)=>{r.d(t,{C:()=>s});r(242343);var n=r(163643);const s=(0,r(680369).wt)("analyticsSearch",{viewBox:"0 0 51 52",svg:(0,n.jsx)("path",{d:"M.414 21.297c0 2.86.533 5.543 1.6 8.049a21.156 21.156 0 004.468 6.576 20.797 20.797 0 006.577 4.443c2.505 1.067 5.18 1.6 8.023 1.6 2.116 0 4.13-.305 6.043-.914a21.55 21.55 0 005.332-2.565l11.654 11.655a3.44 3.44 0 001.245.812c.473.186.964.28 1.472.28.728 0 1.371-.17 1.93-.508a3.48 3.48 0 001.32-1.346 3.887 3.887 0 00.482-1.93 3.8 3.8 0 00-.279-1.447 3.126 3.126 0 00-.787-1.193l-11.578-11.63a20.414 20.414 0 002.818-5.51c.694-2.013 1.041-4.138 1.041-6.372 0-2.844-.541-5.51-1.625-7.998a20.718 20.718 0 00-4.443-6.602 20.515 20.515 0 00-6.602-4.468c-2.488-1.067-5.162-1.6-8.023-1.6-2.844 0-5.518.533-8.023 1.6a20.592 20.592 0 00-6.577 4.468A21.072 21.072 0 002.014 13.3c-1.067 2.488-1.6 5.154-1.6 7.998zm5.408 0c0-2.1.39-4.071 1.168-5.916a15.517 15.517 0 013.301-4.875 15.168 15.168 0 014.875-3.276c1.845-.795 3.817-1.193 5.916-1.193 2.116 0 4.096.398 5.941 1.193a14.877 14.877 0 014.85 3.276 15.515 15.515 0 013.3 4.875c.796 1.845 1.194 3.817 1.194 5.916 0 2.116-.398 4.096-1.193 5.941a15.517 15.517 0 01-3.301 4.875 15.426 15.426 0 01-4.85 3.276c-1.845.795-3.825 1.193-5.941 1.193-2.099 0-4.07-.398-5.916-1.193a15.737 15.737 0 01-4.875-3.276 15.52 15.52 0 01-3.3-4.875c-.78-1.845-1.169-3.825-1.169-5.941zm15.31 10.36c.458 0 .746-.263.864-.788.237-1.32.474-2.437.711-3.351.254-.931.559-1.693.914-2.286a4.554 4.554 0 011.397-1.498c.575-.389 1.311-.694 2.209-.914.914-.237 2.056-.448 3.427-.634.542-.085.813-.381.813-.89 0-.507-.271-.812-.813-.913-1.354-.17-2.496-.373-3.427-.61-.915-.253-1.668-.567-2.26-.939a4.814 4.814 0 01-1.422-1.498c-.373-.61-.677-1.363-.914-2.26a42.337 42.337 0 01-.635-3.326c-.084-.542-.372-.813-.863-.813s-.796.263-.914.788a53.724 53.724 0 01-.737 3.377c-.22.914-.507 1.675-.863 2.285a4.64 4.64 0 01-1.396 1.472c-.576.373-1.32.677-2.235.914-.914.22-2.048.424-3.402.61-.559.101-.838.406-.838.914 0 .49.28.787.838.889 1.693.186 3.055.44 4.088.761 1.032.305 1.828.762 2.387 1.371.575.61 1.015 1.44 1.32 2.489.305 1.05.584 2.395.838 4.037a1 1 0 00.279.584c.17.152.38.228.635.228z"})})},502622:(e,t,r)=>{r.d(t,{X:()=>s});r(242343);var n=r(163643);const s=(0,r(680369).wt)("arrowsUpDown",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M4.11 2.385a.61.61 0 01.48-.211c.191 0 .353.07.486.21L8.03 5.409a.66.66 0 01.2.475c0 .191-.061.347-.182.469a.627.627 0 01-.463.181.59.59 0 01-.451-.187L5.926 5.098l-.72-.844.04 1.219v7.242a.624.624 0 01-.187.469.624.624 0 01-.47.187.636.636 0 01-.468-.187.635.635 0 01-.182-.47V5.474l.041-1.22-.726.845-1.201 1.248a.61.61 0 01-.457.187.627.627 0 01-.463-.181.634.634 0 01-.182-.47.66.66 0 01.2-.474l2.958-3.023zm7.786 10.781a.636.636 0 01-.486.205.665.665 0 01-.486-.205l-2.947-3.035a.64.64 0 01-.206-.475c0-.191.061-.345.182-.463a.634.634 0 01.469-.181c.18 0 .33.06.451.181l1.201 1.248.727.85-.041-1.219V2.824c0-.187.06-.342.181-.463a.636.636 0 01.47-.187.627.627 0 01.65.65v7.248l-.041 1.219.726-.85 1.207-1.248a.6.6 0 01.451-.181c.188 0 .342.06.463.181a.615.615 0 01.182.463.648.648 0 01-.2.475l-2.953 3.035z"})})},520596:(e,t,r)=>{r.d(t,{C:()=>s});r(242343);const n={viewBox:"0 0 20 20",svg:(0,r(163643).jsx)("path",{d:"M10.875 2.924c0-.441-.392-.799-.875-.799s-.875.358-.875.799v11.964L5.22 10.98a.875.875 0 0 0-1.24 1.24l5.4 5.4a.875.875 0 0 0 1.238 0l5.4-5.4a.875.875 0 1 0-1.238-1.238l-3.906 3.907z"})},s=(0,r(680369).wt)("arrowStraightDownFill",n)},528626:(e,t,r)=>{r.d(t,{z:()=>s});r(242343);const n={viewBox:"0 0 20 20",svg:(0,r(163643).jsx)("path",{d:"M10 2.375c-1.137 0-2.054.47-2.674 1.242-.608.757-.9 1.765-.9 2.824s.292 2.066.9 2.824c.62.772 1.537 1.241 2.674 1.241s2.055-.469 2.675-1.241c.608-.758.9-1.766.9-2.824 0-1.059-.292-2.067-.9-2.824-.62-.773-1.538-1.242-2.675-1.242M7.676 6.441c0-.842.233-1.554.624-2.042.38-.473.937-.774 1.7-.774s1.32.301 1.7.774c.391.488.624 1.2.624 2.042s-.233 1.554-.624 2.041c-.38.473-.937.774-1.7.774s-1.32-.3-1.7-.774c-.391-.487-.624-1.2-.624-2.041M10 11.63c-2.7 0-5.101 1.315-6.12 3.305-.361.706-.199 1.421.23 1.923.412.48 1.06.767 1.74.767h8.3c.68 0 1.328-.287 1.74-.767.429-.502.591-1.217.23-1.923-1.02-1.99-3.42-3.305-6.12-3.305m-5.007 3.875c.761-1.488 2.672-2.626 5.007-2.626s4.246 1.138 5.007 2.626c.105.204.07.378-.067.54-.156.182-.448.33-.79.33h-8.3c-.342 0-.634-.148-.79-.33-.138-.162-.172-.336-.067-.54"})},s=(0,r(680369).wt)("person",n)},555296:(e,t,r)=>{r.d(t,{h:()=>i});r(242343);var n=r(163643);const s={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M10.55 12.808a1.35 1.35 0 1 0-1.1 0v1.242a.55.55 0 0 0 1.1 0z"}),(0,n.jsx)("path",{d:"M10 1.95a4 4 0 0 0-4 4v1.433a2.426 2.426 0 0 0-2.025 2.392v5.4A2.425 2.425 0 0 0 6.4 17.6h7.2a2.425 2.425 0 0 0 2.425-2.425v-5.4A2.426 2.426 0 0 0 14 7.383V5.95a4 4 0 0 0-4-4m2.75 5.4h-5.5v-1.4a2.75 2.75 0 0 1 5.5 0zM5.225 9.775c0-.649.526-1.175 1.175-1.175h7.2c.649 0 1.175.526 1.175 1.175v5.4c0 .649-.526 1.175-1.175 1.175H6.4a1.175 1.175 0 0 1-1.175-1.175z"})]})},i=(0,r(680369).wt)("lock",s)},575460:(e,t,r)=>{r.d(t,{A:()=>v});r(403517);var n=r(242343),s=()=>r(237385),i=()=>r(803290),o=()=>r(174114),a=()=>r(198654),c=()=>r(640979);class l extends(()=>r(129044))().default{getInitialState(){return{}}}const d=l;var u=()=>r(209684),p=()=>r(273520),m=()=>r(918625),h=()=>r(935091),g=()=>r(858023),y=r(163643);function f(e,t){let{isMenuItem:s,style:a,labelStyle:c,alignmentToOrigin:l,renderMenuSections:u,label:p,selectedTitle:m,focused:h,disabled:g,innerButtonStyle:f,buttonPopupStore:v,downIconStyle:b}=e;const x=(0,o().DP)(),M=(0,i().uB)(void 0,d),A=(0,i().uB)(v,r(962373).A);return(0,n.useImperativeHandle)(t,(()=>({closeMenu:()=>{A.setState({...A.state,open:!1})}})),[A]),s?(0,y.jsx)(w,{alignmentToOrigin:l,isMenuItem:s,renderMenuSections:u,buttonPopupStore:A,SelectButtonStore:M,renderOrigin:e=>(0,y.jsx)(S,{events:e,style:a,isMenuItem:s,label:p,selectedTitle:m,focused:h,disabled:g})}):(0,y.jsxs)("div",{style:{display:"flex",alignItems:"center",height:32,...a},children:[p&&(0,y.jsx)("div",{style:{marginRight:"auto",color:x.text.tertiary,fontSize:14,...c},children:p}),(0,y.jsx)(w,{alignmentToOrigin:l,isMenuItem:s,renderMenuSections:u,buttonPopupStore:A,SelectButtonStore:M,renderOrigin:e=>(0,y.jsx)(I,{events:e,innerButtonStyle:f,disabled:g,selectedTitle:m,downIconStyle:b})})]})}const v=n.forwardRef(f);function S(e){let{events:t,style:r,isMenuItem:n,label:s,selectedTitle:i,focused:o,disabled:a}=e;if(n){const e=s?{title:s,right:i}:{title:i};return(0,y.jsx)(m()._,{...t,focused:Boolean(o),disabled:a,style:r,...e})}return null}function b(e){let{downIconStyle:t}=e;const{device:r}=(0,s().v3)(),n=(0,o().DP)();return(0,y.jsx)(y.Fragment,{children:(0,a().b)({width:r.isMobile?14:10,marginLeft:4,fill:n.lightIconColor,...t})})}function I(e){let{events:t,innerButtonStyle:r,downIconStyle:n,disabled:s,selectedTitle:i}=e;return(0,y.jsxs)(u().p,{disabled:s,disabledFeedback:!0,style:{marginRight:-6,...r},...t,children:[i,(0,y.jsx)(b,{downIconStyle:n})]})}function w(e){let{renderOrigin:t,alignmentToOrigin:r,isMenuItem:n,renderMenuSections:i,buttonPopupStore:o,SelectButtonStore:a}=e;const l=(0,s().v3)(),{device:d}=l;return(0,y.jsx)(p().Ay,{popupType:d.isMobile?p().z7.SlideUp:p().z7.Popup,buttonPopupStore:o,alignmentToOrigin:void 0!==r?r:p().yP.End,renderOrigin:t,placementToOrigin:n?p().sx.Right:p().sx.Bottom,render:e=>{let t;t=d.isMobile?{menuType:c().gu.ActionSheet}:{menuType:c().gu.Popup};const{focusedIndex:r,menuSections:n}=function(e,t,r){let n,s=0;const i=t(e).map((e=>({...e,items:e.items.map((e=>(e.key===r.state.selectedKey&&(n=s),s++,{...e,action:t=>{e.action(t),function(e,t){t.setState({selectedKey:e})}(e.key,r)}})))})));return{menuSections:i,focusedIndex:n}}(e,i,a);return(0,y.jsx)(h().A,{...t,children:(0,y.jsx)(g().Ay,{type:g().Oh.Vertical,initialFocus:r,sections:n})})}})}},621301:(e,t,r)=>{r.d(t,{A:()=>a});var n=r(242343),s=()=>r(653998),i=r(163643);function o(e,t){const{teamStore:n,renderAsEveryoneMention:o}=e,{name:a}=(0,r(803290).K8)((()=>({name:n.getName()})),[n]);return(0,i.jsx)(r(535906).A,{...e,icon:o?(0,r(911183).q)({width:14,height:14}):(0,i.jsx)(r(424339).x,{size:14,store:n,disabled:!0}),title:o?(0,i.jsx)(s().sA,{id:"posts.teamMenuItem.everyoneMention",defaultMessage:"@everyone"}):a,ref:t,inline:!0,caption:o?(0,i.jsx)(s().sA,{id:"posts.teamMenuItem.caption",defaultMessage:"Notifies everyone in the teamspace"}):void 0})}const a=n.forwardRef(o)},649198:(e,t,r)=>{r.d(t,{F:()=>l});r(242343);var n=()=>r(237385),s=()=>r(486540),i=()=>r(653998),o=()=>r(711593),a=()=>r(932322),c=r(163643);function l(e){const{role:t}=e,r=(0,i().tz)(),{device:l}=(0,n().v3)(),d=(0,o().I2)(t);return(0,c.jsx)(a().Ay,{...e,title:r.formatMessage((0,s().sK)(t,void 0).label),shouldWrapCaption:!0,style:l.isMobile?{padding:"12px 4px"}:{padding:4,marginTop:2,marginBottom:2},captionStyle:{marginTop:4},caption:(0,c.jsx)("div",{children:d})})}},692192:(e,t,r)=>{r.d(t,{W:()=>s});r(242343);const n={viewBox:"0 0 20 20",svg:(0,r(163643).jsx)("path",{d:"M4 11.75a1.75 1.75 0 1 0 0-3.5 1.75 1.75 0 0 0 0 3.5m6 0a1.75 1.75 0 1 0 0-3.5 1.75 1.75 0 0 0 0 3.5m6 0a1.75 1.75 0 1 0 0-3.5 1.75 1.75 0 0 0 0 3.5"})},s=(0,r(680369).wt)("ellipsisFill",n)},754313:(e,t,r)=>{r.d(t,{A:()=>c});r(242343);var n=()=>r(237385),s=()=>r(466321),i=()=>r(922172),o=()=>r(443252),a=r(163643);function c(e){const{isMobile:t}=(0,n().Y0)();return t?(0,a.jsx)(o().Ay,{ariaLabel:e.ariaLabel,open:e.isOpen,popupType:s().n.SlideUp,origin:e.origin,onDismiss:e.onDismiss,render:e.render,style:e.style}):(0,a.jsx)(i().a,{ariaLabel:e.ariaLabel,open:e.isOpen,preventHideChildrenWhileOpening:!0,render:e.render,onDismiss:e.onDismiss,style:e.style,innerStyle:e.innerStyle,showCloseIcon:e.showCloseIcon})}},781045:(e,t,r)=>{r.r(t),r.d(t,{iconDefinition:()=>n,lightningIcon:()=>s});r(242343);const n={viewBox:"0 0 20 20",svg:(0,r(163643).jsx)("path",{d:"M11.633 1.812c.263.096.43.354.41.632l-.392 5.51h3.099a.625.625 0 0 1 .506.992l-6.18 8.54a.625.625 0 0 1-1.13-.412l.402-5.5H5.25a.625.625 0 0 1-.507-.99l6.17-8.55a.625.625 0 0 1 .72-.222m-5.161 8.513H9.02a.625.625 0 0 1 .623.67l-.29 3.976 4.173-5.766H10.98a.625.625 0 0 1-.623-.67l.284-3.987z"})},s=(0,r(680369).wt)("lightning",n)},792104:(e,t,r)=>{r.d(t,{f:()=>s});r(242343);const n={viewBox:"0 0 20 20",svg:(0,r(163643).jsx)("path",{d:"M10 2.4c.345 0 .625.28.625.625v9.966l3.333-3.333a.625.625 0 1 1 .884.884l-4.4 4.4a.625.625 0 0 1-.884 0l-4.4-4.4a.625.625 0 0 1 .884-.884l3.333 3.333V3.025c0-.345.28-.625.625-.625M4.15 16.35a.625.625 0 1 0 0 1.25h11.7a.625.625 0 0 0 0-1.25z"})},s=(0,r(680369).wt)("arrowLineDown",n)},814627:(e,t,r)=>{r.d(t,{f:()=>s});r(242343);const n={viewBox:"0 0 20 20",svg:(0,r(163643).jsx)("path",{d:"M10.619 2.381a.875.875 0 0 0-1.238 0l-5.4 5.4A.875.875 0 1 0 5.22 9.02l3.906-3.907V17.05c0 .456.392.826.875.826s.875-.37.875-.826V5.112l3.906 3.907A.875.875 0 1 0 16.02 7.78z"})},s=(0,r(680369).wt)("arrowStraightUpFill",n)},870122:(e,t,r)=>{r.r(t),r.d(t,{globeIcon:()=>s,iconDefinition:()=>n});r(242343);const n={viewBox:"0 0 20 20",svg:(0,r(163643).jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 15.25 0 7.625 7.625 0 0 1-15.25 0m3.123-4.514c.55.252 1.21.463 1.953.612q.135-.585.308-1.086a6.6 6.6 0 0 1 .512-1.15 6.4 6.4 0 0 0-2.773 1.624m-.814.994a6.34 6.34 0 0 0-1.029 2.895h3.396c.022-.715.081-1.403.173-2.048-.962-.191-1.827-.48-2.54-.847m-1.029 4.145a6.34 6.34 0 0 0 1.03 2.895c.712-.367 1.577-.656 2.54-.848a19 19 0 0 1-.174-2.047zm4.647 0c.021.657.076 1.283.158 1.862a15 15 0 0 1 3.08 0c.082-.58.137-1.205.158-1.862zm4.647 0a19 19 0 0 1-.173 2.048c.845.169 1.615.412 2.274.717a.6.6 0 0 1 .23.182 6.34 6.34 0 0 0 1.065-2.947zm3.396-1.25a6.34 6.34 0 0 0-1.03-2.895c-.712.367-1.577.656-2.54.847.093.645.152 1.333.174 2.048zm-4.647 0a17 17 0 0 0-.158-1.862 15 15 0 0 1-3.08 0c-.082.58-.137 1.205-.158 1.862zm-6.2 5.139a6.4 6.4 0 0 0 2.773 1.624 6.6 6.6 0 0 1-.512-1.15 11 11 0 0 1-.308-1.086 9 9 0 0 0-1.953.612m9.004 0a9 9 0 0 0-1.953-.611q-.135.584-.308 1.085a6.6 6.6 0 0 1-.512 1.15 6.4 6.4 0 0 0 2.773-1.624m-3.443.067q.136-.395.249-.86a13.7 13.7 0 0 0-2.615-.001q.111.466.248.861c.198.575.42.995.635 1.259.22.269.366.302.424.302s.205-.033.424-.302c.215-.264.437-.684.635-1.259m3.443-9.095a6.4 6.4 0 0 0-2.773-1.624c.196.337.366.726.512 1.15q.173.501.308 1.086a9 9 0 0 0 1.953-.612M10 6.342q.676-.001 1.308-.062a9 9 0 0 0-.249-.861c-.198-.575-.42-.995-.635-1.259-.22-.269-.366-.302-.424-.302s-.204.033-.424.302c-.215.264-.437.684-.635 1.259q-.136.395-.248.861.631.061 1.307.062"})},s=(0,r(680369).wt)("globe",n)},911183:(e,t,r)=>{r.d(t,{q:()=>s});r(242343);var n=r(163643);const s=(0,r(680369).wt)("megaphone",{viewBox:"0 0 64 64",svg:(0,n.jsx)("path",{d:"m54,10v40h-4l-20-10h-4l4,16h-10l-4-16c-4.94,0-8-3.06-8-8v-4c0-4.94,3.06-8,8-8h14l20-10h4Z"})})},917008:(e,t,r)=>{r.d(t,{D:()=>d});r(725707),r(771702);var n=r(242343),s=()=>r(803290),i=()=>r(58815),o=()=>r(220574),a=()=>r(84543),c=()=>r(90875),l=()=>r(485966);function d(e){let{unpersistedInMemoryRecordCache:t}=e;const r=(0,s().K8)((()=>{var e;return null===(e=l().default.state.currentUserStore)||void 0===e?void 0:e.userId}),[]);return{createAndCommit:(0,n.useCallback)((e=>{let{perform:n}=e;const s=new(c().Z)({deadlockTimeoutMs:a().DEADLOCK_WARNING_TIMEOUT_MS}),l=n(s),d=o().RecordMap.create();s.stores.forEach((e=>{const t=e.getRecordModel(e.pointer);t&&d.addModel(t)})),(0,i().applyOperationsToRecordMap)({operations:s.operations,recordMap:d,updateOnly:!1});for(const i of d){const{model:e,pointer:n}=i;t.setModelAndRole({pointer:n,userId:r},e,"editor")}return t.emitAll(),{performResult:l,serverCommitResult:Promise.resolve(void 0)}}),[t,r])}}},918625:(e,t,r)=>{r.d(t,{_:()=>d});r(242343);var n=()=>r(237385),s=()=>r(174114),i=()=>r(198654),o=()=>r(126451),a=()=>r(932322),c=()=>r(35462),l=r(163643);function d(e){const t=(0,s().DP)(),r=(0,n().v3)(),{device:d}=r;return(0,l.jsx)(o().A,{mobileFeedback:d.isMobile,onClick:e.onClick,hovered:e.focused,disabled:e.disabled,style:{width:"100%",...!d.isMobile&&{borderRadius:6},...e.buttonStyle},hoveredStyle:e.hoveredButtonStyle,pressedStyle:e.pressedButtonStyle,children:(0,l.jsx)(a().Ay,{...e,dontShrinkTitle:!0,right:(0,l.jsxs)("div",{style:{display:"flex",whiteSpace:"nowrap"},children:[e.right&&(0,l.jsx)(c().A,{isSecondaryColor:!0,isMobile:d.isMobile,children:e.right}),!d.isMobile&&(0,l.jsx)("div",{style:{flexShrink:0},children:(0,i().b)({width:10,marginLeft:4,fill:t.lightIconColor,transform:"right"===e.chevronType?"rotate(-90deg)":void 0,transition:"transform 0.2s ease"})})]})})})}},993254:(e,t,r)=>{r.d(t,{T:()=>s});r(362833),r(725707),r(244387);var n=()=>r(437800);function s(e){const{environment:t,collectionStore:r,duplicate:s,droppedStores:i,transaction:o,duplicateActions:a}=e,{movedStores:c,reparentedStores:l}=i.reduce(((e,t)=>(s||t.getAssociatedCollectionId()!==(null==r?void 0:r.id)?e.reparentedStores.push(t):e.movedStores.push(t),e)),{movedStores:[],reparentedStores:[]});return[...c,...n().MS({environment:t,droppedStores:l,duplicate:s,transaction:o,resolveTemplateVariables:!1,duplicateActions:a})]}}}]);