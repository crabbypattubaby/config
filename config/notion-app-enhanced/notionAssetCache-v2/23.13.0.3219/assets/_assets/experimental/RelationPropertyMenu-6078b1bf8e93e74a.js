"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[29945,77651,89693],{23082:(e,t,o)=>{o.d(t,{A:()=>i});o(242343);var n=o(163643);const i=function(){return(0,n.jsx)(o(932322).Ay,{title:(0,n.jsx)(o(966789).A,{})})}},24281:(e,t,o)=>{o.d(t,{B:()=>y});o(242343);var n=()=>o(237385),i=()=>o(803290),r=()=>o(174114),a=()=>o(653998),s=()=>o(220413),l=()=>o(76394),d=()=>o(31448),c=()=>o(678523),u=()=>o(103151),p=()=>o(907721),g=()=>o(485966),m=()=>o(943066),h=o(163643);function y(e){let{upsell:t,mobileStyle:o,desktopStyle:y,analyticsName:f,onClick:b,disableTooltip:v}=e;const x=(0,r().DP)(),S=(0,n().v3)(),{device:C}=S,_=(0,i().K8)((()=>{const{currentSpaceStore:e}=g().default.state;return null==e?void 0:e.canAdmin()}),[]),M=(0,i().K8)((()=>function(e,t){if("product"!==e.type)return{};switch(e.product){case"plus":case"business":case"enterprise":return{color:t.blueColor,background:"light"===t.mode?s().Ay.diffBackground:"rgba(35, 131, 226, 0.2)",fontWeight:d().Wy.medium};default:return{}}}(t,x)),[t,x]);if("product"!==t.type)return null;if(C.isMobileNative)return null;const k=(()=>{switch(t.product){case"personal":return(0,h.jsx)(a().sA,{defaultMessage:"Personal Pro",id:"upgradeButton.personal.text"});case"plus":return(0,h.jsx)(a().sA,{defaultMessage:"Plus ↗",id:"upgradeButton.plus.textWithArrow"});case"business":return(0,h.jsx)(a().sA,{defaultMessage:"Business ↗",id:"upgradeButton.business.textWithArrow"});case"enterprise":return(0,h.jsx)(a().sA,{defaultMessage:"Enterprise ↗",id:"upgradeButton.enterprise.textWithArrow"});case"ai":return(0,h.jsx)(a().sA,{defaultMessage:"AI ↗",id:"upgradeButton.ai.textWithArrow"});case"sites_custom_hostnames":return(0,h.jsx)(a().sA,{defaultMessage:"Custom Hostnames ↗",id:"upgradeButton.sites_custom_hostnames.textWithArrow"});default:t.product,(0,l().HB)(t.product)}})();return C.isMobile||!_?(0,h.jsx)(c().A,{mobileStyle:o,children:k}):(0,h.jsx)(u().A,{delayThreshold:120,disableTooltip:v,placement:p().W.Bottom,renderTooltip:()=>(0,h.jsx)("div",{style:{maxWidth:500},children:(0,h.jsx)(a().sA,{defaultMessage:"Upgrade to use this feature.",id:"premiumFeatureUpgradeButton.upgrade.tooltip"})}),originGap:6,render:e=>(0,h.jsx)(c().A,{desktopStyle:y,innerStyle:M,onClick:e=>function(e,t,o,n,i){m().K(n,{from:t,upsell:o}),i&&i(e)}(e,f,t,S,b),...e,children:k})})}},40473:(e,t,o)=>{o.d(t,{A:()=>C});o(403517);var n=o(242343),i=()=>o(16791),r=()=>o(803290),a=()=>o(174114),s=()=>o(81322),l=()=>o(31448),d=()=>o(622163),c=()=>o(967454),u=()=>o(501578),p=()=>o(204024),g=()=>o(126451),m=()=>o(286404),h=()=>o(951540),y=()=>o(35462),f=o(163643);const b=20;function v(e){var t;let{icon:s,iconStyle:u,title:p,subtitle:g,confirmText:v,confirmTextStyle:C="blue",confirmTextPerRadioOption:_,cancelText:M,radioOptions:k,defaultSelectedRadioOption:w,onDismiss:P,onSelectRadio:j,onConfirm:A,width:R,footer:I}=e;const B=(0,o(237385).v3)(),[D,L]=(0,n.useState)(w??(null===(t=k[0])||void 0===t?void 0:t.key)),T=(0,r().uB)(void 0,o(580257).A),E=(0,r().K8)((()=>null==T?void 0:T.state.elementRef),[T]),F=(0,c().CR)(E),U=(0,c().yE)(E),z=(0,c().o7)(E),N=U>0,W=Math.ceil(U+z)<Math.floor(F),V=(0,n.useCallback)((e=>{e!==D&&(L(e),null==j||j(e))}),[j,D]),O=(0,n.useCallback)((()=>{A(D)}),[A,D]),H=(0,a().IS)((e=>{const t={marginLeft:-20,marginRight:-20,height:1,borderTop:`1px solid ${e.regularDividerColor}`,transition:"opacity 200ms"};return{container:{display:"flex",position:"relative",flexDirection:"column",justifyContent:"center",overflow:"hidden",width:`min(${R??400}px, calc(100vw - 40px))`,maxHeight:"80vh",padding:b,borderRadius:6,alignItems:"stretch"},icon:{width:36,height:36,fill:e.icon.secondary,marginBottom:6,...u},iconContainer:{width:"100%",display:"flex",justifyContent:"center"},title:{fontFamily:l().vc(i().locale).sans,fontSize:17,lineHeight:"22px",fontWeight:l().Wy.medium,textAlign:"center",marginBottom:14},subtitle:{fontFamily:l().vc(i().locale).sans,fontSize:(0,d().ny)(B,"UIRegular"),lineHeight:(0,d().ks)(B,"UIRegular"),fontWeight:l().Wy.regular,marginTop:6,marginBottom:6,textAlign:"center"},radioContainer:{display:"flex",flexDirection:"column",gap:8},topDivider:{...t,opacity:N?1:0},bottomDivider:{...t,opacity:W?1:0},scroller:{marginLeft:-20,marginRight:-20,paddingLeft:b,paddingRight:b},actionButtonsContainer:{display:"flex",flexDirection:"column",marginTop:20},cancelButton:{marginTop:8,justifyContent:"center"},dismissButton:{position:"absolute",top:10,right:10,zIndex:1}}}),[B,u,W,N,R]),K=(null==_?void 0:_[D])??v;return(0,f.jsxs)("div",{style:H.container,children:[(0,f.jsx)("div",{style:H.dismissButton,children:(0,f.jsx)(x,{onClick:P})}),s&&(0,f.jsx)("div",{style:H.iconContainer,children:s(H.icon)}),(0,f.jsx)(y().A,{isMultiline:!0,style:H.title,children:p}),g&&(0,f.jsx)(y().A,{isSmall:!0,style:H.subtitle,isMultiline:!0,children:g}),k.length>0&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{style:H.topDivider}),(0,f.jsx)(o(142708).H,{type:o(98508).A.Y,style:H.scroller,store:T,children:(0,f.jsx)("div",{style:H.radioContainer,children:k.map((e=>(0,f.jsx)(S,{radioItem:e,isSelected:e.key===D,onSelectRadio:V},e.key)))})}),(0,f.jsx)("div",{style:H.bottomDivider})]}),(0,f.jsxs)("div",{style:H.actionButtonsContainer,children:["blue"===C?(0,f.jsx)(h().A,{size:"lg",onClick:O,children:K}):"red"===C?(0,f.jsx)(h().A,{size:"lg",onClick:O,isRed:!0,children:K}):(0,f.jsx)(m().A,{size:"lg",onClick:O,children:K}),(0,f.jsx)(m().A,{size:"lg",onClick:P,style:H.cancelButton,children:M??(0,f.jsx)(o(653998).sA,{id:"radioModal.cancel",defaultMessage:"Cancel"})})]}),I]})}function x(e){let{onClick:t}=e;const o=(0,a().IS)((e=>({button:{display:"flex",justifyContent:"center",alignItems:"center",width:24,height:24,borderRadius:"100%",background:e.lightGrayButtonBackground},buttonHovered:{background:e.lightGrayButtonHoveredBackground},buttonPressed:{background:e.lightGrayButtonPressedBackground},closeIcon:{width:16,height:16,fill:e.icon.secondary}})),[]);return(0,f.jsx)(g().A,{style:o.button,hoveredStyle:o.buttonHovered,pressedStyle:o.buttonPressed,onClick:t,children:(0,s().V)(o.closeIcon)})}function S(e){let{radioItem:t,isSelected:o,onSelectRadio:n}=e;const i=(0,a().IS)((e=>({button:{display:"flex",justifyContent:"space-between",gap:10,height:"auto",minHeight:70,borderRadius:8,paddingTop:12,paddingBottom:12,paddingLeft:14,paddingRight:14-p().p,border:void 0,boxShadow:o?`inset 0 0 0 1px ${e.icon.uiBluePrimary}`:`inset 0 0 0 1px ${e.stroke.primary}`},buttonText:{display:"flex",flexDirection:"column",gap:2,...l().RC},optionTitle:{fontWeight:l().Wy.medium},optionSubtitle:{whiteSpace:"break-spaces"}})),[o]);return(0,f.jsxs)(m().A,{size:"lg",onClick:()=>n(t.key),style:i.button,children:[(0,f.jsxs)("div",{style:i.buttonText,children:[(0,f.jsx)(y().A,{style:i.optionTitle,children:(0,f.jsx)(u().j,{children:t.title})}),t.subtitle&&(0,f.jsx)(y().A,{isSmall:!0,isMultiline:!0,style:i.optionSubtitle,children:t.subtitle})]}),(0,f.jsx)(p().A,{isSelected:o})]})}const C=n.memo(v)},40642:(e,t,o)=>{o.d(t,{b:()=>i});o(242343);var n=o(163643);const i=(0,o(680369).wt)("templates",{viewBox:"0 0 20 20",svg:(0,n.jsxs)("g",{children:[(0,n.jsx)("path",{d:"M6.39733 5.67853C5.89764 5.50234 5.36002 5.40649 4.8 5.40649C2.14904 5.40649 0 7.55432 0 10.2038C0 12.8533 2.14904 15.0011 4.8 15.0011C6.52165 15.0011 8.0316 14.0952 8.87867 12.7343L5.26487 12.0975L6.39733 5.67853Z"}),(0,n.jsx)("path",{d:"M17.3126 3.66609L7.85843 2L6.19141 11.4489L10.6545 12.2354L14.3998 5.81854L16.3449 9.15116L17.3126 3.66609Z"}),(0,n.jsx)("path",{d:"M8.80078 17L14.4008 7.4054L20.0008 17H8.80078Z"})]})})},51082:(e,t,o)=>{o.d(t,{P:()=>i});o(242343);var n=o(163643);const i=(0,o(680369).wt)("peopleFillCheckmark",{viewBox:"0 0 20 20",svg:(0,n.jsx)("path",{d:"M14.5391 10.3174C14.4115 10.3174 14.2975 10.29 14.1973 10.2354C14.097 10.1807 13.999 10.0964 13.9033 9.98242L12.29 8.01367C12.1715 7.86328 12.1123 7.70833 12.1123 7.54883C12.1123 7.38021 12.1693 7.23665 12.2832 7.11816C12.4017 6.99967 12.5452 6.94043 12.7139 6.94043C12.8141 6.94043 12.9053 6.96322 12.9873 7.00879C13.0739 7.0498 13.1582 7.12272 13.2402 7.22754L14.5117 8.84082L17.2188 4.51367C17.3555 4.28581 17.5309 4.17188 17.7451 4.17188C17.9046 4.17188 18.0482 4.22428 18.1758 4.3291C18.3034 4.42936 18.3672 4.56608 18.3672 4.73926C18.3672 4.81673 18.349 4.89648 18.3125 4.97852C18.2806 5.05599 18.2419 5.12891 18.1963 5.19727L15.1406 9.97559C14.9948 10.2035 14.7943 10.3174 14.5391 10.3174ZM2.85645 16.2441C2.47363 16.2441 2.17285 16.1576 1.9541 15.9844C1.73535 15.8112 1.62598 15.5742 1.62598 15.2734C1.62598 14.8314 1.75814 14.3688 2.02246 13.8857C2.29134 13.4027 2.67643 12.9492 3.17773 12.5254C3.68359 12.1016 4.29199 11.7575 5.00293 11.4932C5.71387 11.2288 6.51139 11.0967 7.39551 11.0967C8.28418 11.0967 9.08398 11.2288 9.79492 11.4932C10.5059 11.7575 11.112 12.1016 11.6133 12.5254C12.1191 12.9492 12.5065 13.4027 12.7754 13.8857C13.0443 14.3688 13.1787 14.8314 13.1787 15.2734C13.1787 15.5742 13.0693 15.8112 12.8506 15.9844C12.6318 16.1576 12.3311 16.2441 11.9482 16.2441H2.85645ZM7.40234 9.87988C6.9056 9.87988 6.44759 9.74544 6.02832 9.47656C5.61361 9.20768 5.27865 8.84538 5.02344 8.38965C4.77279 7.93392 4.64746 7.4235 4.64746 6.8584C4.64746 6.30241 4.77279 5.80111 5.02344 5.35449C5.27865 4.90332 5.61589 4.54557 6.03516 4.28125C6.45443 4.01693 6.91016 3.88477 7.40234 3.88477C7.89909 3.88477 8.3571 4.01465 8.77637 4.27441C9.19564 4.53418 9.5306 4.88965 9.78125 5.34082C10.0365 5.78743 10.1641 6.28874 10.1641 6.84473C10.1641 7.41439 10.0365 7.92936 9.78125 8.38965C9.5306 8.84538 9.19564 9.20768 8.77637 9.47656C8.3571 9.74544 7.89909 9.87988 7.40234 9.87988Z"})})},63463:(e,t,o)=>{e.exports=o.p+"edfba4a6d1ff7acd.png"},96144:(e,t,o)=>{o.d(t,{R:()=>i});o(242343);var n=o(163643);const i=(0,o(680369).wt)("verificationCheck",{viewBox:"0 0 6 7",svg:(0,n.jsx)("path",{d:"M2.84245 6.11619C2.71116 6.30644 2.53392 6.40156 2.31072 6.40156C2.20131 6.40156 2.10066 6.37881 2.00875 6.33332C1.92123 6.28782 1.83589 6.21545 1.75274 6.11619L0.150985 4.25515C0.0503282 4.12694 0 3.99874 0 3.87053C0 3.73406 0.04814 3.61826 0.14442 3.52314C0.245077 3.42388 0.365427 3.37425 0.50547 3.37425C0.597374 3.37425 0.680525 3.39286 0.754923 3.43008C0.833698 3.46317 0.912473 3.52934 0.991247 3.6286L2.28446 5.21049L5.00875 1.07896C5.13129 0.892857 5.28446 0.799805 5.46827 0.799805C5.60394 0.799805 5.72648 0.841161 5.83589 0.923874C5.9453 1.00659 6 1.11618 6 1.25266C6 1.32297 5.98249 1.39327 5.94748 1.46358C5.91685 1.52975 5.88184 1.59178 5.84245 1.64968L2.84245 6.11619Z"})})},96718:(e,t,o)=>{o.d(t,{l:()=>r});var n=()=>o(706788);const i={[n().e1]:"collection_connected_property_figma",[n().Hd]:"collection_connected_property_google_drive",[n().ob]:"collection_connected_property_github",[n().k0]:"collection_connected_property_zendesk",[n().bh]:"collection_synced_database_github",[n().MN]:"collection_synced_database_asana",[n().Fo]:"collection_synced_database_gitlab",[n().me]:"collection_synced_database_jira",[n().F6]:"collection_synced_database_jira_workspace",[n().Fv]:"collection_synced_database_jira_datacenter"};function r(e){if(e)return i[e]}},101558:(e,t,o)=>{o.d(t,{r:()=>r});var n=()=>o(803290),i=()=>o(836331);function r(e){return(0,n().K8)((()=>i().default.getGroup(e)),[e])}},127086:(e,t,o)=>{o.d(t,{KG:()=>a,Xx:()=>r});var n=()=>o(129978);const i={SlackImportContactsButton:new(n().O2)("SlackImportContactsButton",(()=>o.e(55901).then(o.bind(o,33829)))),GoogleImportContactsButton:new(n().O2)("GoogleImportContactsButton",(()=>o.e(37398).then(o.bind(o,326638))))},r=(0,n()._h)(i.SlackImportContactsButton,(e=>e.default)),a=(0,n()._h)(i.GoogleImportContactsButton,(e=>e.GoogleImportContactsButton))},127436:(e,t,o)=>{o.d(t,{i:()=>i});o(242343);const n={viewBox:"0 0 20 20",svg:(0,o(163643).jsx)("path",{d:"M6 5.95a4 4 0 1 1 8 0v1.433a2.426 2.426 0 0 1 2.025 2.392v5.4A2.425 2.425 0 0 1 13.6 17.6H6.4a2.425 2.425 0 0 1-2.425-2.425v-5.4c0-1.203.876-2.201 2.025-2.392zm6.75 1.4v-1.4a2.75 2.75 0 1 0-5.5 0v1.4zm-2.2 5.458a1.35 1.35 0 1 0-1.1 0v1.242a.55.55 0 0 0 1.1 0z"})},i=(0,o(680369).wt)("lockFill",n)},130081:(e,t,o)=>{o.d(t,{UQ:()=>g,gL:()=>h});o(610931),o(725707),o(500234),o(771702);var n=()=>o(810111),i=()=>o(769884),r=()=>o(33715),a=()=>o(220865),s=()=>o(846287),l=()=>o(996151),d=()=>o(946854),c=()=>o(293665),u=()=>o(927999),p=()=>o(84543);function g(e){let{environment:t,transaction:o,layoutStore:n,position:l,updatedModule:d,sessionId:c}=e;const u=r().Zm[l.area],g=n.getRawModules();if("form_conditional_modules"===u){const e=null==g?void 0:g[u];if(!(null==e?void 0:e[l.moduleId]))throw new Error("Unable to find module being updated.");return void p().createAndCommitOrAppend({environment:t,transaction:o,canUndo:!0,perform(e){p().applyOperation({transaction:e,store:n,operation:i().N4X.updateModuleInArea({pointer:n.pointer,area:u,module:(0,a().Lv)(d)})})},userAction:"BuilderLayoutModules.updateModule"})}if(!g)throw new Error("Unable to find modules");const m=(0,s().LC)(g,(e=>e.id===l.moduleId));if(!m||m.area!==u)throw new Error("Unable to find module being updated.");p().createAndCommitOrAppend({environment:t,transaction:o,canUndo:!0,perform(e){p().applyOperation({transaction:e,store:n,operation:i().N4X.updateModuleInArea({pointer:n.pointer,module:(0,a().Lv)(d),..."views_main_tab_modules"===m.area?{area:m.area,viewId:m.viewId}:{area:m.area}})})},userAction:"BuilderLayoutModules.updateModule"})}function m(e){var t,o,n;let{collectionStore:i,layoutStore:r}=e;const a=new Map,s=i.getFormat(),l=[...null===(t=r.getModules())||void 0===t?void 0:t.page_main,...null===(o=r.getModules())||void 0===o?void 0:o.page_details],c=new Map;null===(n=s.property_visibility)||void 0===n||n.forEach((e=>{c.set(e.property,e)})),l.forEach((e=>{if(!(0,d()._Q)(e))return(0,d().gx)(e)?(a.set(e.propertyId,{property:e.propertyId}),void c.set(e.propertyId,{property:e.propertyId,visibility:"show"})):void 0;e.propertyIds.forEach((e=>{a.set(e,{property:e}),c.set(e,{property:e,visibility:"show"})}))}));const u=i.getNormalizedPropertyGroups();var p;u?u.forEach((e=>{var t;null===(t=e.propertyIds)||void 0===t||t.forEach((e=>{a.has(e)||a.set(e,{property:e})}))})):null===(p=s.collection_page_properties)||void 0===p||p.forEach((e=>{a.has(e.property)||a.set(e.property,e)}));return{propertiesFormat:Array.from(a.values()),propertyVisibility:Array.from(c.values())}}function h(e){let{environment:t,transaction:o,collectionStore:r,layoutStore:a}=e;const{propertiesFormat:s,propertyVisibility:g}=m({collectionStore:r,layoutStore:a});p().createAndCommitOrAppend({environment:t,transaction:o,canUndo:!0,perform(e){const t=a.getBlockChildrenPointers(),o=a.getFormat(),m=a.firstModuleOfType("viewsMain");m&&(0,d().y6)(m)&&t.find((e=>c().L3.isEqual(e,m.collection_view_block_pointer)))&&p().applyOperation({transaction:e,store:a,operation:i().N4X.removeBlockChild(a.pointer,m.collection_view_block_pointer.id)});const h=null==o?void 0:o.previousViewsMainCollectionViewBlockPointer,y=h&&t.find((e=>c().L3.isEqual(e,h)));y&&p().applyOperation({transaction:e,store:a,operation:i().N4X.removeBlockChild(a.pointer,y.id)}),p().applyOperation({transaction:e,store:a,operation:i().N4X.setModulesByAreas(a.pointer,(0,l().K5)())}),p().applyOperation({transaction:e,store:a,operation:i().N4X.deleteFormat(a.pointer)});const f=r.getFormat(),{page_section_visibility:b}=f;u().zA({stores:[r],update:{property_groups:void 0,collection_page_properties:s,property_visibility:g,...b?{page_section_visibility:n().Zi}:void 0},transaction:e})},userAction:"BuilderLayoutModules.resetLayoutToDefault"})}},138385:(e,t,o)=>{o.d(t,{Ay:()=>a,NJ:()=>n,d5:()=>i});o(725707),o(491955),o(403517),o(113085);let n=function(e){return e.unselected="unselected",e.workspace_member="workspace_member",e.request_workspace_member="request_workspace_member",e.page_guest="page_guest",e.closed="closed",e}({}),i=function(e){return e[e.closed=0]="closed",e[e.share_page=1]="share_page",e[e.share_workspace=2]="share_workspace",e[e.request_workspace=3]="request_workspace",e}({});class r extends(()=>o(129044))().default{getInitialState(){return{inviteStage:i.closed,selection:n.workspace_member,order:[n.workspace_member,n.page_guest],invitedUsers:[],invitedEmailToUserIdMap:{},flowId:o(214144).JW()}}startWorkspaceInvite(){this.setState({...this.state,inviteStage:i.share_workspace,order:[n.workspace_member,n.page_guest],selection:n.workspace_member})}startRequestMembership(){this.setState({...this.state,inviteStage:i.request_workspace,order:[n.request_workspace_member,n.page_guest],selection:n.request_workspace_member})}hasGuests(){return this.state.invitedUsers.some((e=>e.isGuest))}getGuestEmails(){return this.state.invitedUsers.filter((e=>e.isGuest)).map((e=>e.email))}}const a=r},151602:(e,t,o)=>{o.d(t,{A:()=>r});class n extends(()=>o(129044))().default{getInitialState(){return{}}}const i=new n;o(996094).exposeDebugValue("SpaceWorkflowTemplateInstanceMapStore",i);const r=i},153642:(e,t,o)=>{o.d(t,{V:()=>r});var n=()=>o(803290),i=()=>o(485966);function r(){return(0,n().K8)((()=>{const{currentSpaceStore:e}=i().default.state;return(null==e?void 0:e.getMemberCountFromPublicSpaceData())??void 0}),[])}},155342:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>i,questionMarkCircleIcon:()=>r});o(242343);var n=o(163643);const i={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M9.978 7.154c-.804 0-1.333.456-1.438.874a.625.625 0 0 1-1.213-.303c.28-1.121 1.44-1.82 2.65-1.82 1.365 0 2.714.905 2.714 2.298 0 .812-.49 1.477-1.13 1.872l-.755.516a.84.84 0 0 0-.381.677.625.625 0 1 1-1.25 0c0-.688.36-1.318.921-1.706l.003-.002.784-.535.014-.008c.374-.228.544-.537.544-.814 0-.459-.517-1.049-1.463-1.049m.662 6.336a.8.8 0 1 1-1.6 0 .8.8 0 0 1 1.6 0"}),(0,n.jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 15.25 0 7.625 7.625 0 0 1-15.25 0M10 3.625a6.375 6.375 0 1 0 0 12.75 6.375 6.375 0 0 0 0-12.75"})]})},r=(0,o(680369).wt)("questionMarkCircle",i)},156259:(e,t,o)=>{o.d(t,{s:()=>i});o(242343);var n=o(163643);const i=(0,o(680369).wt)("privateTeam",{viewBox:"0 0 28 28",svg:(0,n.jsx)("path",{d:"M20.6455 21.2744C20.9092 21.5469 21.3311 21.5645 21.6035 21.2744C21.8936 20.9844 21.8672 20.5889 21.6035 20.3164L6.9082 5.62988C6.64453 5.36621 6.21387 5.36621 5.94141 5.62988C5.68652 5.88477 5.68652 6.33301 5.94141 6.58789L20.6455 21.2744ZM13.8076 6.13086C12.2783 6.13086 10.8896 6.39453 9.59766 6.8252L10.7578 7.97656C11.7246 7.68652 12.7178 7.51953 13.8076 7.51953C19.5908 7.51953 24.2754 12.6172 24.2754 13.6631C24.2754 14.375 22.7373 16.291 20.3027 17.7852L21.3838 18.8662C24.1611 17.0645 25.8135 14.7002 25.8135 13.6631C25.8135 11.8613 20.9092 6.13086 13.8076 6.13086ZM13.8076 21.1953C15.4424 21.1953 16.9365 20.9053 18.2988 20.4395L17.1475 19.2881C16.1016 19.6133 14.9941 19.8066 13.8076 19.8066C8.01562 19.8066 3.33105 14.9023 3.33105 13.6631C3.33105 13.0479 4.95703 11 7.5498 9.44434L6.45996 8.35449C3.5332 10.165 1.79297 12.5996 1.79297 13.6631C1.79297 15.4561 6.79395 21.1953 13.8076 21.1953ZM18.3164 15.5879C18.5889 14.999 18.7383 14.3398 18.7383 13.6631C18.7383 10.9121 16.541 8.74121 13.8076 8.74121C13.1133 8.74121 12.4629 8.89062 11.874 9.14551L18.3164 15.5879ZM13.8076 18.585C14.5811 18.585 15.3105 18.3916 15.9609 18.0752L9.36914 11.4834C9.04395 12.1338 8.85938 12.8721 8.85938 13.6631C8.86816 16.3438 11.0566 18.585 13.8076 18.585Z"})})},167464:(e,t,o)=>{o.d(t,{q:()=>r});var n=()=>o(129978);const i=new(n().O2)("RelationMenuRow",(async()=>{const{RelationMenuRow:e}=await Promise.all([o.e(43380),o.e(18766)]).then(o.bind(o,692645));return{RelationMenuRow:e}})),r=(0,n()._h)(i,(e=>e.RelationMenuRow))},180795:(e,t,o)=>{o.d(t,{C:()=>a});var n=o(242343),i=()=>o(629721),r=()=>o(153235);function a(){const e=(0,i().a)(),[t,o]=(0,n.useState)(0),a=(0,n.useCallback)((()=>{e.current&&o(t+1)}),[t]);return[(0,n.useCallback)((()=>r().Gt.postRender(a)),[a]),t]}},181390:(e,t,o)=>{o.d(t,{default:()=>Vo});o(362833),o(725707),o(491955),o(500234),o(771702),o(403517);var n=o(242343),i=()=>o(237385),r=()=>o(803290),a=()=>o(174114),s=()=>o(712437),l=()=>o(65866),d=()=>o(543396),c=()=>o(564134),u=()=>o(716605),p=()=>o(157316),g=()=>o(220959),m=()=>o(706788),h=()=>o(427091),y=()=>o(162901),f=()=>o(339189),b=()=>o(145017),v=()=>o(528762),x=()=>o(32194),S=()=>o(653998),C=()=>o(975392),_=()=>o(396806),M=()=>o(197881),k=()=>o(137476);function w(e,t){k().vd(e,"relation_add_block",t)}function P(e,t){k().vd(e,"relation_database_click",t)}var j=()=>o(357608),A=()=>o(769687),R=()=>o(818369),I=()=>o(91472),B=()=>o(145046),D=()=>o(354769),L=()=>o(865226),T=()=>o(448316),E=()=>o(84543),F=()=>o(271674),U=()=>o(108507),z=()=>o(535906),N=()=>o(435819),W=()=>o(401382),V=()=>o(935091),O=()=>o(975515),H=()=>o(743668),K=()=>o(443252),G=()=>o(28210),q=()=>o(709237),Z=()=>o(88271),$=()=>o(442958),Y=()=>o(262448),Q=o(163643);function X(e){const{targetCollectionStore:t,title:o,onClick:s,focused:l,isSection:d,index:c,parentBlockStore:u}=e,p=(0,r().K8)((()=>t.canEdit()),[t]),g=(0,r().K8)((()=>t.isSyncedCollection()),[t]),m=(0,r().K8)((()=>u.canEdit()),[u]),h=(0,i().Y0)(),y=(0,a().IS)((e=>({wrapper:{borderTop:`1px solid ${e.lightDividerColor}`,paddingTop:4,paddingBottom:4},row:{fontSize:h.isMobile?16:14,minHeight:h.isMobile?44:32}})),[h]),{format:f}=(0,n.useContext)(U().t);if("form_editor"===f||"form_viewer"===f)return null;if(!p||!m)return null;const b=(0,Q.jsx)(Y().A,{targetCollectionStore:t,pageName:o,onClick:()=>s(c),style:y.row,focused:l});return g?(0,Q.jsx)(Q.Fragment,{}):d?(0,Q.jsx)(Z().A,{style:y.wrapper,disableMobilePadding:!0,children:b}):b}var J=()=>o(749975),ee=()=>o(361837),te=()=>o(609107),oe=()=>o(876695),ne=()=>o(754697),ie=()=>o(477784),re=()=>o(640979),ae=()=>o(755786),se=()=>o(392608),le=()=>o(36746),de=()=>o(260682),ce=()=>o(289988),ue=()=>o(622286),pe=()=>o(196387),ge=()=>o(359441),me=()=>o(112907),he=()=>o(485966),ye=()=>o(836331),fe=()=>o(773082),be=()=>o(413871),ve=()=>o(133926),xe=()=>o(136885);const Se=(0,S().YK)({syncedCollectionInputPlaceholder:{defaultMessage:"Link a page",id:"relationPropertyMenuInput.syncedCollection.searchPlaceholder"},connectedRelationInputPlaceholder:{defaultMessage:"Paste a URL",id:"relationPropertyMenuInput.connectedRelation.searchPlaceholder"},connectedRelationGoogleDriveInputPlaceholder:{defaultMessage:"Select a file from your Google Drive",id:"relationPropertyMenuInput.connectedRelationGoogleDrive.searchPlaceholder"},connectedRelationFigmaInputPlaceholder:{defaultMessage:"Paste in https://figma.com/...",id:"relationPropertyMenuInput.connectedRelationFigma.searchPlaceholder"},connectedRelationGithubInputPlaceholder:{defaultMessage:"Paste in https://github.com/...",id:"relationPropertyMenuInput.connectedRelationGithub.searchPlaceholder"},connectedRelationSalesforceInputPlaceholder:{defaultMessage:"Search or Paste a Salesforce URL",id:"relationPropertyMenuInput.connectedRelationSalesforce.searchPlaceholder"}}),Ce=(0,S().YK)({inputPlaceholderEditable:{defaultMessage:"Link or create a page…",id:"relationPropertyMenuInput.placeholder.defaultEditable"},formInputPlaceholderEditable:{defaultMessage:"Search…",id:"relationPropertyMenuInput.placeholder.form"},inputPlaceholderUneditable:{defaultMessage:"Search linked pages…",id:"relationPropertyMenuInput.placeholder.defaultUneditable"}}),_e=(0,S().YK)({inputPlaceholder:{defaultMessage:"Search {propertyName}...",id:"relationPropertyMenuInput.placeholder.sharing"}}),Me=(0,S().YK)({inputPlaceholder:{defaultMessage:"Search...",id:"relationPropertyMenuInput.placeholder.sprint"}});function ke(e){let{intl:t,connectedRelationFlags:o,overlayMode:n,disabled:i,format:r}=e;const a=function(e){const{isSyncedCollectionRelation:t,isGithubPrRelation:o,isGoogleDriveRelation:n,isFigmaRelation:i,isConnectedRelation:r,isSalesforceRelation:a}=e;if(t)return Se.syncedCollectionInputPlaceholder;if(o)return Se.connectedRelationGithubInputPlaceholder;if(n)return Se.connectedRelationGoogleDriveInputPlaceholder;if(i)return Se.connectedRelationFigmaInputPlaceholder;if(a)return Se.connectedRelationSalesforceInputPlaceholder;if(r)return Se.connectedRelationInputPlaceholder}(o);return a?t.formatMessage(a):"view"===(null==n?void 0:n.type)||i?t.formatMessage(Ce.inputPlaceholderUneditable):r&&(0,ee().NN)(r)?t.formatMessage(Ce.formInputPlaceholderEditable):t.formatMessage(Ce.inputPlaceholderEditable)}function we(e,t){return e.formatMessage(_e.inputPlaceholder,t)}o(610931),o(333225),o(494367),o(516262),o(573119),o(240480),o(950443),o(619601);var Pe=()=>o(502140),je=()=>o(450475),Ae=()=>o(509484),Re=()=>o(719599);async function Ie(e){let{environment:t,query:o,targetCollectionStore:n,blockPointers:i,pageIdsToBoost:r}=e;try{const e=await Ae().T.searchActions.load(),{results:a}=await e.searchPagesInCollection({environment:t,query:o.query,collectionId:n.id,limit:o.limit,spaceId:n.getSpaceId(),excludeTemplates:!0,source:"relation_menu",includePublicPagesWithoutExplicitAccess:!0,boostRecentlyViewedPages:!0,ignoresHighlight:!0});return De({results:r?C().sb(r.concat(a)):a,targetCollectionStore:n,blockPointers:i})}catch(a){return Pe().log({level:"error",from:"relationPropertySearchRequest",type:"performDefaultSearchRequest",error:(0,je().convertErrorToLog)(a)}),[]}}async function Be(e){const{environment:t,query:o,targetCollectionStore:n,blockPointers:i}=e;try{const e=await async function(e){const{environment:t,sprintCollectionStore:o,searchQuery:n}=e,i=o.getPropertyMapping(),r=null==i?void 0:i[l().Hx.StatusV2],a=null==i?void 0:i[l().Hx.Dates];if(!r||!a)throw new Error("Sprints database does not have the required properties");const s="results",d={userTimeZone:(0,h().P)(),searchQuery:n,sort:[{property:r,direction:"ascending"},{property:a,direction:"ascending"}],reducers:{[s]:{type:"results",limit:100}}},c=o.getParentBlockStore();if(!c)return[];await c.load();const u=c.getCollectionViewStores()[0];if(!u)return[];const p=o.getSpaceId(),g=await R().callApi({eventName:"queryCollection",environment:t,data:{source:{type:"collection",id:o.id,spaceId:p},collectionView:{id:u.id,spaceId:p},loader:d},tracking:{src:"relation_property_menu"}});if("success"!==g.type)return[];const m=g.data.result.reducerResults[s];if("results"!==m.type)return[];return m.blockIds}({environment:t,sprintCollectionStore:n,searchQuery:o.query});return De({results:e,targetCollectionStore:n,blockPointers:i})}catch(r){Pe().log({level:"error",from:"relationPropertySearchRequest",type:"performSprintSearchRequest",error:(0,je().convertErrorToLog)(r)});return await Ie(e)}}function De(e){let{results:t,targetCollectionStore:o,blockPointers:n}=e;const i=new Set(n.map((e=>e.id))),r=[];return t.forEach((e=>{const t={spaceId:o.getSpaceId(),id:e,table:b().ev},n=be().Bv.createChildStore(o,t);if(i.has(e)){const t={key:e,type:Re().M7.SelectedPage,store:n};r.push(t)}else{const t={key:e,type:Re().M7.SearchPage,store:n};r.push(t)}})),r}const Le=(0,n.createContext)(void 0);function Te(e){const{children:t,relationPropertyMenuStore:o,property:i,targetCollectionStore:r,propertySchema:a,targetParentUrl:s,connectedRelationFlags:l}=e,d=(0,n.useMemo)((()=>({relationPropertyMenuStore:o,property:i,targetCollectionStore:r,propertySchema:a,targetParentUrl:s,connectedRelationFlags:l})),[o,i,r,a,s,l]);return(0,Q.jsx)(Le.Provider,{value:d,children:t})}Le.displayName="RelationPropertyMenuContext";var Ee=()=>o(405816),Fe=()=>o(31448),Ue=()=>o(665865),ze=()=>o(59175),Ne=()=>o(931085);function We(e){const{showTargetDatabase:t,inputPlaceholder:o,addPage:s}=e,{analyticsFrom:l,blockPropertyValueOverlayStore:d,blockStore:c,insertChar:u}=(0,n.useContext)(U().t),p=(0,n.useContext)(Le),g=(0,i().v3)(),m=(0,i().Y0)(),{searchQuery:h,searchPopupOpen:y}=(0,r().K8)((()=>(null==p?void 0:p.relationPropertyMenuStore.state)??{searchQuery:u??"",searchPopupOpen:!1}),[null==p?void 0:p.relationPropertyMenuStore,u]),f=(0,r().K8)((()=>null==p?void 0:p.targetCollectionStore.getIcon()),[null==p?void 0:p.targetCollectionStore]),b=(0,a().IS)((e=>({regular:{color:e.text.secondary,whiteSpace:"nowrap",marginLeft:4},headerWrap:{display:"flex",width:"100%",position:"relative",zIndex:2,padding:"6px 10px",fontSize:14,background:e.inputBackground,boxShadow:`\n\t\t\t\t\t0 1px 0 ${e.darkDividerColor}\n\t\t\t\t`},recordTitle:{fontWeight:Fe().Wy.semibold,fontSize:14,marginLeft:Re().g1*(m.isRetina?.5:1)},input:{flexGrow:1},targetDatabase:{display:"flex",marginLeft:10,alignItems:"center"},linkBoxOuterStyle:{marginLeft:Re().g1},linkBoxInnerStyle:{display:"flex"}})),[m.isRetina]);if(!c||!d||!p)return null;const{relationPropertyMenuStore:v,targetCollectionStore:x,targetParentUrl:C}=p;return(0,Q.jsxs)("div",{style:b.headerWrap,children:[(0,Q.jsx)(ze().A,{style:b.input,value:h,placeholder:o,forceShowClearButton:Boolean(h||y),focus:!0,onChange:e=>{const t=e.target.value;v.setState({...v.state,searchQuery:t,searchPopupOpen:!!t,searchLimit:Ee().A.limitIncrement})},onClearButtonClick:()=>{v.setState(v.getInitialState())},onClick:()=>{v.setState({...v.state,searchQuery:h,searchPopupOpen:!0,searchLimit:Ee().A.limitIncrement})},onKeyDown:e=>{"Escape"===e.key&&v.setState(v.getInitialState())},format:ze().C.Transparent,onSubmit:()=>{if(!s)return;const e=x.getFormat().integration_id,t=fe().A.integrations.state.find((t=>t.id===e)),o=x.getFormat().pattern_name;if(!t||!o)return;(0,ae().WK)({integration:t,patternName:o,url:h})&&s()}}),t&&(0,Q.jsx)("div",{style:b.targetDatabase,children:(0,Q.jsx)(S().sA,{id:"database.relationProperty.newRelation.targetDatabase",defaultMessage:"<regular>In</regular> {databaseWithIcon}",values:{regular:e=>(0,Q.jsx)("span",{style:b.regular,children:e}),databaseWithIcon:(0,Q.jsxs)(Ne().A,{href:C,style:b.linkBoxOuterStyle,innerStyle:b.linkBoxInnerStyle,onClick:()=>{l&&P(g,{from:l}),Ue().VN({environment:g,blockPropertyValueOverlayStore:d})},children:[(0,Q.jsx)(G().B,{disabled:!0,icon:f,isEmptyPage:!1,size:Re().$w}),(0,Q.jsx)(q().A,{store:x,underline:!0,style:b.recordTitle,maxLength:25})]})}})})]})}var Ve=()=>o(951592),Oe=()=>o(865891),He=()=>o(97787),Ke=()=>o(204435),Ge=()=>o(517198),qe=()=>o(966789),Ze=()=>o(932322),$e=()=>o(858023),Ye=()=>o(951540),Qe=()=>o(142708),Xe=()=>o(168980),Je=()=>o(350208),et=()=>o(575185);function tt(e){const{targetCollectionStore:t,onClick:o,focused:s,isSection:l,index:d,onMouseEnter:c,blockPropertyValueOverlayStore:u}=e,p=(0,r().K8)((()=>t.canEdit()),[t]),g=(0,r().K8)((()=>t.isSyncedCollection()),[t]),m=(0,i().Y0)(),h=(0,a().IS)((e=>({medium:{fontWeight:Fe().Wy.medium},wrapper:{borderTop:`1px solid ${e.lightDividerColor}`},icon:{width:14,fill:"#A6A299",marginRight:-2,marginLeft:0},row:{fontSize:m.isMobile?16:14,minHeight:m.isMobile?44:32}})),[m]),y=(0,Q.jsx)(z().A,{focused:s,onMouseEnter:c,icon:(0,et().M)(h.icon),style:h.row,onClick:(0,n.useCallback)((()=>{o(d),u.setState({isOpen:!1})}),[d,o,u]),title:(0,Q.jsx)(S().sA,{id:"database.searchRelation.MoveToBacklogFooter",defaultMessage:"<medium>Move to backlog</medium>",values:{medium:e=>(0,Q.jsx)("span",{style:h.medium,children:e})}})}),f=l?(0,Q.jsx)(Z().A,{style:h.wrapper,disableDesktopPadding:!0,disableMobilePadding:!0,children:y}):y;return p?g?null:f:null}var ot=()=>o(902496),nt=()=>o(167464),it=()=>o(302376),rt=()=>o(731991),at=()=>o(222787),st=()=>o(53857),lt=()=>o(432809),dt=()=>o(98508),ct=()=>o(423411),ut=(o(324989),()=>o(486826)),pt=()=>o(846581),gt=()=>o(16456),mt=()=>o(918695),ht=()=>o(325283),yt=()=>o(280704),ft=()=>o(214144),bt=()=>o(769884),vt=()=>o(123047),xt=()=>o(826156),St=()=>o(220413),Ct=()=>o(141666),_t=()=>o(423392),Mt=()=>o(392968),kt=()=>o(103151),wt=()=>o(927685),Pt=()=>o(284320),jt=()=>o(554507),At=()=>o(502852),Rt=()=>o(906230),It=()=>o(360482),Bt=()=>o(863969),Dt=()=>o(951021);var Lt=()=>o(907721),Tt=()=>o(92091),Et=()=>o(308439),Ft=()=>o(96718),Ut=()=>o(397791),zt=()=>o(286404),Nt=()=>o(755989),Wt=()=>o(943066),Vt=()=>o(510359);const Ot=(0,S().YK)({plus:{id:"subscriptionTier.plus",defaultMessage:"Plus"},business:{id:"subscriptionTier.business",defaultMessage:"Business"},enterprise:{id:"subscriptionTier.enterprise",defaultMessage:"Enterprise"}});function Ht(e){const{integrationId:t}=e,o=(0,Ft().l)(t);return o?(0,Q.jsx)(Kt,{integrationId:t,featureName:o}):null}function Kt(e){const{integrationId:t,featureName:o}=e,n=(0,i().v3)(),r=(0,S().tz)(),s=(0,a().IS)((e=>({container:{display:"flex",flexDirection:"row",padding:8,gap:8,borderRadius:8,backgroundColor:"#F8F8F7",margin:"8px 12px"},description:{lineHeight:Fe().K_.UIRegular.desktop,fontSize:Fe().J.UIRegular.desktop,letterSpacing:"-0.15px",color:e.text.secondary,marginBottom:12},button:{}})),[]),l=function(e){switch(e){case m().e1:return(0,Q.jsx)(S().sA,{defaultMessage:"Figma",id:"relationPropertyMenu.connectedRelationPropertyUpsell.figma"});case m().Hd:return(0,Q.jsx)(S().sA,{defaultMessage:"Google Drive",id:"relationPropertyMenu.connectedRelationPropertyUpsell.googleDrive"});case m().ob:return(0,Q.jsx)(S().sA,{defaultMessage:"GitHub",id:"relationPropertyMenu.connectedRelationPropertyUpsell.github"});case m().k0:return(0,Q.jsx)(S().sA,{defaultMessage:"Zendesk",id:"relationPropertyMenu.connectedRelationPropertyUpsell.zendesk"})}return}(t),d=(0,Nt().uF)({featureName:o});if(null==d||!d.upsell||!d.upsellTier)return null;const{upsell:c,upsellTier:u}=d;return(0,Q.jsxs)("div",{style:s.container,children:[(0,Q.jsx)(Ut().I,{icon:Et().exclamationMarkTriangleIcon,color:"uiYellowPrimary"}),(0,Q.jsx)("div",{style:s.description,children:"enterprise"===u?(0,Q.jsx)(S().sA,{defaultMessage:"Starting August 13, {productName} connected properties will only be available for {subscriptionTier} plan. {learnMoreLink}",id:"relationPropertyMenu.connectedRelationPropertyUpsell.description.enterprise",values:{productName:l,subscriptionTier:r.formatMessage(Ot[u]),learnMoreLink:(0,Q.jsx)(Vt().V,{})}}):(0,Q.jsx)(S().sA,{defaultMessage:"Starting August 13, {productName} connected properties will only be available for {subscriptionTier} plan and above. {learnMoreLink}",id:"relationPropertyMenu.connectedRelationPropertyUpsell.description.nonEnterprise",values:{productName:l,subscriptionTier:r.formatMessage(Ot[u]),learnMoreLink:(0,Q.jsx)(Vt().V,{})}})}),(0,Q.jsx)(zt().A,{style:s.button,onClick:()=>{Wt().K(n,{from:"collection_connected_property",upsell:c})},children:(0,Q.jsx)(S().sA,{defaultMessage:"Upgrade",id:"relationPropertyMenu.connectedRelationPropertyUpsell.upgrade"})})]})}function Gt(){const e=(0,i().v3)(),t=function(){const e=(0,i().Y0)().isMobile;return(0,a().IS)((t=>({figmaResults:{display:"flex",flexDirection:"column",alignItems:"flex-start",fontSize:e?16:12,padding:16,paddingBottom:4},figmaResultsCopyWrapper:{marginTop:0,color:t.text.tertiary}})),[e])}();return e.device.isMobile?(0,Q.jsx)(Q.Fragment,{}):(0,Q.jsx)("div",{style:t.figmaResults,children:(0,Q.jsx)("p",{style:t.figmaResultsCopyWrapper,children:(0,Q.jsx)(S().sA,{defaultMessage:"To link, paste the Figma File URL above",id:"connectedRelationPropertyMenuResults.figmaRelationUserEducationPasteUrl.description"})})})}var qt=()=>o(819851),Zt=()=>o(908568),$t=()=>o(284594),Yt=()=>o(618126),Qt=()=>o(458740),Xt=()=>o(42043),Jt=()=>o(154956),eo=()=>o(110975),to=()=>o(982415),oo=()=>o(189919),no=()=>o(126451),io=()=>o(884373),ro=()=>o(279150);const ao=(0,S().YK)({githubCopyIdAria:{defaultMessage:"Copy the ID value.",id:"connectedRelationPropertyMenuResults.githubPrRelationUserEducation.copyIdAria"},githubAddIdAria:{defaultMessage:"Add a unique id property to the database.",id:"connectedRelationPropertyMenuResults.githubPrRelationUserEducation.addIdAria"},githubLearnMoreAria:{defaultMessage:"Learn more about the GitHub Pull Requests feature.",id:"connectedRelationPropertyMenuResults.githubPrRelationUserEducation.learnMoreAria"}});function so(e){const{pageBlockStore:t,blockPropertyValueOverlayStore:o}=e,n=(0,i().v3)(),a=(0,S().tz)(),s=lo(),l=(0,J().ET)(),d=(0,r().K8)((()=>l.collectionStore()),[l]),c=(0,r().K8)((()=>l.databaseType),[l]),p=(0,r().K8)((()=>{var e;return d&&(null===(e=d.getRecordKeyStore())||void 0===e?void 0:e.getRecordKey())}),[d]),{uniqueIdPropertyId:g,uniqueIdValue:h}=(0,r().K8)((()=>{const e=t.getSchema(),o=(0,qt().yP)(e);if(1!==o.length)return{uniqueIdPropertyId:void 0,uniqueIdValue:void 0};const n=t.getPropertyValue(o[0]);return{uniqueIdPropertyId:o[0],uniqueIdValue:(0,u().On)(n)}}),[t]),y=(0,r().K8)((()=>(0,qt().H4)(p,h)),[p,h]),b=(0,r().K8)((()=>!Boolean(p)||!Boolean(h)),[p,h]);return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)("div",{style:s.githubResults,children:[(0,Q.jsx)(co,{}),(0,Q.jsx)("p",{style:s.githubResultsCopyWrapper,children:b?(0,Q.jsx)(S().sA,{defaultMessage:"Create a prefixed ID property to paste in the GitHub PR title.",id:"connectedRelationPropertyMenuResults.githubPrRelationUserEducation.badIdError"}):(0,Q.jsx)(S().sA,{defaultMessage:"Copy the {singleItemName} ID and paste it into the title of your PR in GitHub.",id:"connectedRelationPropertyMenuResults.githubPrRelationUserEducationLinkPastingOn.description",values:{singleItemName:(0,to().$O)(c)}})}),(0,Q.jsx)(oo().A,{width:"100%",uniqueIdPrefix:p,uniqueIdValue:h})]}),(0,Q.jsxs)("div",{style:s.githubResultsButtonsWrapper,children:[(0,Q.jsxs)(no().A,{style:s.githubResultsLearnMore,ariaLabel:a.formatMessage(ao.githubLearnMoreAria),onClick:e=>{e.preventDefault(),eo().f({environment:n,url:(0,se().xS)("guides.githubRelation"),targetSelf:!1})},children:[(0,$t().$)({width:n.device.isMobile?16:12}),(0,Q.jsx)(ro().A,{size:4}),(0,Q.jsx)(S().sA,{defaultMessage:"Learn more",id:"connectedRelationPropertyMenuResults.githubPrRelationUserEducation.learnMore"})]}),b?(0,Q.jsxs)(no().A,{style:s.githubResultsCTAButton,ariaLabel:a.formatMessage(ao.githubAddIdAria),onClick:async e=>{e.preventDefault(),d&&(await Xt().c({environment:n,collectionStore:d}),E().createAndCommit({userAction:"CollectionSettingsAutoIncrementIdPropertyCreateNewIdProperty",environment:n,canUndo:!0,perform:e=>{Jt().IL({environment:n,collectionStore:d,collectionViewArgs:void 0,propertyType:"auto_increment_id",transaction:e})}}),(0,Qt().Z)({environment:n,collectionContextStore:l,from:"github_relation_menu",property_type:"auto_increment_id",integration_id:m().ob}))},children:[(0,f().W)({width:n.device.isMobile?16:12}),(0,Q.jsx)(ro().A,{size:4}),(0,Q.jsx)(S().sA,{defaultMessage:"Add ID property",id:"connectedRelationPropertyMenuResults.githubPrRelationUserEducation.addId"})]}):(0,Q.jsxs)(no().A,{style:s.githubResultsCTAButton,ariaLabel:a.formatMessage(ao.githubCopyIdAria),onClick:async e=>{e.preventDefault();const i=await I().R.clipboardActions.load();await i.copyString({stringValue:y,environment:n,copiedMessage:i.clipboardMessages.copiedPropertyToClipboard}),g&&(0,Yt().E)(n,l,{block_id:t.id,property:g,property_type:"auto_increment_id",github_relation_menu:!0}),o.setState({isOpen:!1})},children:[(0,Zt().n)({width:n.device.isMobile?16:12}),(0,Q.jsx)(ro().A,{size:4}),(0,Q.jsx)(S().sA,{defaultMessage:"Copy {singleItemName} ID",id:"connectedRelationPropertyMenuResults.githubPrRelationUserEducation.copyId",values:{singleItemName:(0,to().$O)(c)}})]})]})]})}function lo(){const e=(0,i().Y0)().isMobile;return(0,a().IS)((t=>({githubResults:{display:"flex",flexDirection:"column",alignItems:"flex-start",fontSize:e?16:12,padding:16,paddingBottom:4},githubResultsCopyWrapper:{marginTop:0,color:t.text.tertiary},githubResultsErrorWrapper:{marginTop:0,color:St().Ay.red},githubResultsButtonsWrapper:{width:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",fontSize:e?16:12,padding:"10px"},githubResultsLearnMore:{display:"flex",flexDirection:"row",alignItems:"center",padding:4,borderRadius:5,color:t.text.tertiary},githubResultsCTAButton:{display:"flex",flexDirection:"row",alignItems:"center",padding:4,borderRadius:5,color:t.blueColor},githubLinkPastingSeparator:{border:t.tableDividerColor,width:"100%"},githubLinkPastingContainer:{width:"100%",position:"relative",display:"flex",justifyContent:"center",alignItems:"center",margin:"8px 0px"},githubLinkPastingSeparatorText:{position:"absolute",backgroundColor:t.popoverBackground,color:t.text.tertiary,padding:"0px 8px"}})),[e])}function co(){const e=lo();return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)("p",{style:e.githubResultsCopyWrapper,children:(0,Q.jsx)(S().sA,{defaultMessage:"To link, paste the GitHub PR URL above",id:"connectedRelationPropertyMenuResults.githubPrRelationUserEducationPasteUrl.description"})}),(0,Q.jsxs)("div",{style:e.githubLinkPastingContainer,children:[(0,Q.jsx)(io().A,{size:1,style:e.githubLinkPastingSeparator}),(0,Q.jsx)("div",{style:e.githubLinkPastingSeparatorText,children:"or"})]}),(0,Q.jsx)(ro().A,{size:8})]})}var uo=()=>o(284771);function po(e){const t=(0,i().v3)(),o=function(){const e=(0,i().Y0)().isMobile;return(0,a().IS)((t=>({googleDriveResults:{display:"flex",flexDirection:"column",alignItems:"flex-start",fontSize:e?16:12,padding:16,paddingBottom:4,paddingTop:4},googleDriveResultsCopyWrapper:{marginTop:0,color:t.text.tertiary,marginBottom:0},googleDriveResultsLearnMore:{display:"flex",flexDirection:"row",alignItems:"center",padding:4,borderRadius:5},googleDriveResultsAccount:{fontSize:12,margin:0},googleDriveLinkPastingSeparator:{border:t.tableDividerColor,width:"100%"},googleDriveLinkPastingContainer:{width:"100%",position:"relative",display:"flex",justifyContent:"center",alignItems:"center",margin:"8px 0px"},googleDriveLinkPastingSeparatorText:{position:"absolute",backgroundColor:t.cardContentBackground,color:t.text.tertiary,padding:"0px 8px"}})),[e])}(),n=(0,ue().X)("gdrive_scope_migration_gate"),s=(0,r().K8)((()=>fe().A.externalAuthentications.state.filter((e=>{let{integration_id:t}=e;return t===m().Hd}))),[]);return t.device.isMobile?(0,Q.jsx)(Q.Fragment,{}):(0,Q.jsxs)("div",{style:o.googleDriveResults,children:[!n&&(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)("p",{style:o.googleDriveResultsCopyWrapper,children:(0,Q.jsx)(S().sA,{defaultMessage:"To link, paste the Google Drive File URL above",id:"connectedRelationPropertyMenuResults.googleDriveRelationUserEducationPasteUrl.description"})}),(0,Q.jsxs)("div",{style:o.googleDriveLinkPastingContainer,children:[(0,Q.jsx)(io().A,{size:1,style:o.googleDriveLinkPastingSeparator}),(0,Q.jsx)("div",{style:o.googleDriveLinkPastingSeparatorText,children:"or"})]}),(0,Q.jsx)(ro().A,{size:2})]}),(0,Q.jsx)("p",{style:o.googleDriveResultsCopyWrapper,children:(0,Q.jsx)(S().sA,{defaultMessage:"Select an account below to browse files on your Google Drive",id:"connectedRelationPropertyMenuResults.googleDriveRelationUserEducationSourcePicker.description"})}),(0,Q.jsx)(ro().A,{size:2}),s.map(((n,i)=>(0,Q.jsx)(no().A,{style:o.googleDriveResultsLearnMore,onClick:async o=>{o.preventDefault(),await(async(o,n)=>{const i=await F().Nl({environment:t,externalAuthenticationValue:n}),r=fe().A.integrations.state.find((e=>e.id===n.integration_id));if(!r)return;const{id:a,name:s,info:l}=r,{icon:d,dark_icon:c,accent_color:u,accent_icon:p}=l,g="dark"===t.ThemeStore.state.mode&&c?c:d;g&&u&&p&&i&&"failed"!==i.type&&await(0,uo().openGoogleDriveFilePicker)({environment:t,accessToken:i.data.access_token,callback:(t,i)=>{e.onFileSelect(o,i,n.id)},integration:{id:a,name:s,icon:g,accentColor:u,accentIcon:p},from:"connected_relation_property_value"})})(o,n)},children:(0,Q.jsx)("p",{style:o.googleDriveResultsAccount,children:(0,Q.jsx)(S().sA,{defaultMessage:"{account}",id:"connectedRelationPropertyMenuResults.googleDriveRelation.googleDriveAccount.description",values:{account:n.account_name}})})},i)))]})}var go=()=>o(638907);function mo(e){const t=(0,i().v3)(),o=function(){const e=(0,i().Y0)().isMobile;return(0,a().IS)((t=>({salesforceResults:{display:"flex",flexDirection:"column",alignItems:"flex-start",fontSize:e?16:12,padding:16,paddingBottom:4,paddingTop:4},salesforceResultsCopyWrapper:{marginTop:0,color:t.text.tertiary,marginBottom:0},salesforceResultsLearnMore:{display:"flex",flexDirection:"row",alignItems:"center",padding:4,borderRadius:5}})),[e])}();return t.device.isMobile?null:(0,Q.jsx)("div",{style:o.salesforceResults,children:(0,Q.jsx)("p",{style:o.salesforceResultsCopyWrapper,children:(0,Q.jsx)(S().sA,{defaultMessage:"Paste Salesforce {objectName} URL above",id:"connectedRelationPropertyMenuResults.salesforceRelationUserEducationPasteUrl.description",values:{objectName:e.objectName||"Record"}})})})}function ho(e){let{patternName:t}=e;const o=(0,i().v3)(),n=function(){const e=(0,i().Y0)().isMobile;return(0,a().IS)((t=>({slackResults:{display:"flex",flexDirection:"column",alignItems:"flex-start",fontSize:e?16:12,padding:16,paddingBottom:4},slackResultsCopyWrapper:{marginTop:0,color:t.text.tertiary}})),[e])}();return o.device.isMobile?null:(0,Q.jsx)("div",{style:n.slackResults,children:(0,Q.jsx)("p",{style:n.slackResultsCopyWrapper,children:"slack_channel"===t?(0,Q.jsx)(S().sA,{defaultMessage:"To link, paste the Slack channel URL above",id:"connectedRelationPropertyMenuResults.slackChannelRelationUserEducationPasteUrl.description"}):(0,Q.jsx)(S().sA,{defaultMessage:"To link, paste the Slack URL above",id:"connectedRelationPropertyMenuResults.slackRelationUserEducationPasteUrl.description"})})})}function yo(e){const{sections:t,targetCollectionStore:o,search:n,property:s,propertySchema:l,pageRecordStore:d,blockPropertyValueOverlayStore:c}=e,p=(0,a().IS)((e=>({settingsMenu:{display:"flex",flexGrow:1,flexDirection:"column",padding:"8px 16px 16px 8px"},settingsMenuSearchBox:{background:e.contentBackground,marginBottom:10},addPageButton:{width:"100%",display:"flex",justifyContent:"center"},suggestionBox:{display:"flex",alignItems:"center",fontSize:12,color:St().Ay.white,background:St().Ay.blue,borderRadius:6,padding:10,boxShadow:e.shadowMD,alignSelf:"center",maxWidth:"80%"},errorMessage:{alignSelf:"center",padding:10,fontSize:14,color:e.errorText},addingPage:{width:"100%",padding:10,display:"flex",justifyContent:"flex-start",fontSize:14,color:e.text.secondary},enterText:{color:e.text.tertiary}})),[]),g=u().di(l),f=u().H6(l),v=u().KF(l),x=u().V5(l),_=u().uv(l),M=(0,u().Dz)(l),k=(0,r().K8)((()=>{if(!o)return;const e=o.getFormat().integration_id;return fe().A.integrations.state.find((t=>t.id===e))}),[o]),w=(0,r().K8)((()=>k?(0,te().jw)(k.id):[]),[k]),P=(0,i().v3)(),j=(0,S().tz)(),A=(0,a().DP)(),I=(0,r().K8)((()=>{const e=fe().A.state;return e.loaded?e.integrations:[]}),[]),B=(0,r().K8)((()=>{var e;return Boolean(null===(e=he().default.state.currentSpaceStore)||void 0===e?void 0:e.canAdmin())}),[]),D=(0,r().K8)((()=>{var e;return!(!(null===(e=he().default.state.currentSpaceStore)||void 0===e?void 0:e.canEdit())||!(0,te().fY)(P))}),[P]),L=(0,r().K8)((()=>!!k&&(k.id===m().mn&&(0,Dt().Ow)())),[k]),T=(0,r().K8)((()=>{const e=fe().A.state;if(e.loaded&&k)return function(e){const{integration:t,externalAuthentications:o,requiresDoubleAuth:n}=e;if(n){const e=(0,m().eL)(t.id);return o.find((t=>t.integration_id===e))}return o.find((e=>e.integration_id===t.id))}({integration:k,externalAuthentications:e.externalAuthentications,requiresDoubleAuth:L})}),[k,L]),E=(0,r().K8)((()=>o.getFormat().pattern_name),[o]),[{value:F,status:U}]=(0,y().Yb)((async()=>{if(!T||!k||!(0,m().EY)(k.id))return;const e=T.parent_id;return R().callApi({eventName:"listExternalObjects",environment:P,data:{bot_id:e,pattern_name:E,query:n,collection_id:o.id}})}),[P,T,n,E,k,o],{debounce:2e3}),N=(0,ue().X)("gdrive_scope_migration_gate"),W=(0,r().K8)((()=>{if(k&&n)return(0,ae().WK)({integration:k,patternName:E,url:n})}),[E,k,n]),V=(0,It()._p)(d)?d:void 0,O=(0,r().K8)((()=>(0,It()._p)(d)?d.getPropertyStore(s):void 0),[d,s]),H=(0,r().K8)((()=>null==o?void 0:o.getIcon()),[o]),K=(0,Bt().O)(),G=(0,Pt()._)(),q={key:"githubPrRelationUserEducation",render:e=>void 0!==V&&(0,Q.jsx)(so,{pageBlockStore:V,blockPropertyValueOverlayStore:c}),items:[]},$={key:"googleDriveRelation",render:t=>(0,Q.jsx)(po,{onFileSelect:(t,o,n)=>{(0,At().SQ)({context:At().y$.ButtonMouseDown,callback:()=>{e.addPage(o,n)},event:t})}}),items:[]},Y={key:"figmaRelation",render:e=>(0,Q.jsx)(Gt,{}),items:[]},X={key:"salesforceRelation",render:e=>(0,Q.jsx)(mo,{objectName:E}),items:[]},J={key:"slackRelation",render:e=>(0,Q.jsx)(ho,{patternName:E}),items:[]};if(!O||!k)return(0,Q.jsx)($e().Ay,{type:$e().Oh.Vertical,style:{padding:"4px 0px"},initialFocus:0,sections:t});const ee=function(e){let{integration:t,selectedExternalAuthentication:o,botsForIntegration:n,requiresDoubleAuth:i}=e;if(i){const e=(0,m().eL)(t.id);return(null==o?void 0:o.integration_id)===e}if((0,m().mj)(t.id))return n.length>0;if(o)return!0;return!1}({requiresDoubleAuth:L,integration:k,selectedExternalAuthentication:T,botsForIntegration:w});if(!ee){const e=function(e){const{collectionIcon:t,integration:o,environment:n,spaceId:i,isAdmin:r,userAllowedToAuth:a,externalIntegrations:s,requiresDoubleAuth:l}=e,d=o.id===m().ob,c=()=>{if(i){if(l){const e=s.find((e=>e.id===(0,m().eL)(o.id)));if(!e)return;_t().Jq({environment:n,integration:e,spaceId:i,from:"connected_relation_property_menu"})}else _t().Jq({environment:n,integration:o,spaceId:i,from:"connected_relation_property_menu"});Tt().A.reset()}},u=!d&&o.id!==m().io;if(u){if(e.environment.device.isMobile)return{key:"askUseBrowserOrDesktopForAuth",render:e=>(0,Q.jsx)(Z().A,{...e,disableMobilePadding:!0,title:(0,Q.jsx)("div",{style:{whiteSpace:"normal",paddingTop:8},children:(0,Q.jsx)(S().sA,{defaultMessage:"Please authorize this integration in the browser or a desktop app.",id:"connectedRelationProperty.mobile.guide.title"})})}),items:[]};if(!a)return{key:"askGuestToGetMemberAccess",render:e=>(0,Q.jsx)(Z().A,{...e,disableMobilePadding:!0,title:(0,Q.jsx)("div",{style:{whiteSpace:"normal",paddingTop:8},children:(0,Q.jsx)(S().sA,{defaultMessage:"To use {integration} integration, request the workspace admin to add you as a member",id:"connectedRelationProperty.guest.auth.guide",values:{integration:o.name}})})}),items:[]}}const p=!d||r&&a?{key:"authenticateButton",render:e=>(0,Q.jsx)(z().A,{...e,title:(0,Q.jsx)(S().sA,{defaultMessage:"Connect to {integration}",id:"connectedRelationPropertyMenuResults.authenticateButton.title",values:{integration:o.name}}),icon:(0,Q.jsx)(Mt().Ay,{src:null==t?void 0:t.icon,style:{width:14}})}),action:()=>c()}:{key:"askAdminToAuthenticateButton",render:e=>(0,Q.jsx)(z().A,{...e,title:(0,Q.jsx)("div",{style:{whiteSpace:"normal"},children:(0,Q.jsx)(S().sA,{defaultMessage:"Ask your workspace admin to configure the GitHub (Workspace) connection.",id:"connectedRelationPropertyMenuResults.askAdminToAuthenticateButton.title"})}),icon:(0,Q.jsx)(Mt().Ay,{src:null==t?void 0:t.icon,style:{width:14}}),hoveredStyle:{cursor:"default",background:void 0},pressedStyle:{background:void 0}}),action:()=>{}};return{key:"authenticateIntegration",render:e=>(0,Q.jsx)(Z().A,{...e,disableMobilePadding:!0,title:(0,Q.jsx)(S().sA,{defaultMessage:"Connect to {integration}",id:"connectedRelationPropertyMenuResults.authenticateHeader.title",values:{integration:o.name}})}),items:[p]}}({requiresDoubleAuth:L,environment:P,integration:k,externalIntegrations:I,collectionIcon:H,spaceId:K,isAdmin:B,userAllowedToAuth:D});return(0,Q.jsx)($e().Ay,{type:$e().Oh.Vertical,style:{padding:"4px 0px"},initialFocus:0,sections:[...t,e]})}const oe=("success"===(null==F?void 0:F.type)&&"data"in F.data?F.data.data:[]).map((e=>{const t=e.attributes.flatMap((e=>{const t=(0,xt().q8)(e);return(0,ht().PX)(t)?[t]:(console.error(t),[])})),o=(0,Ct().MU)(t.flatMap((e=>[[e.id,e]])));return{uri:e.uri,attributes:t,attributesById:o}}));function ne(){let e=(0,Q.jsx)(S().sA,{id:"connectedRelationPropertyMenuResults.addPageButton.label",defaultMessage:"Link page"});return(null==k?void 0:k.id)===m().Hd||(null==k?void 0:k.id)===m().e1?e=(0,Q.jsx)(S().sA,{id:"connectedRelationPropertyMenuResults.addFileButton.label",defaultMessage:"Link file"}):(null==k?void 0:k.id)===m().k0?e=(0,Q.jsx)(S().sA,{id:"connectedRelationPropertyMenuResults.addTicketButton.label",defaultMessage:"Link ticket"}):(null==k?void 0:k.id)===m().ob?e=(0,Q.jsx)(S().sA,{id:"connectedRelationPropertyMenuResults.addPRButton.label",defaultMessage:"Link PR"}):(null==k?void 0:k.id)===m().mn?e=(0,Q.jsx)(S().sA,{id:"connectedRelationPropertyMenuResults.addRecordButton.label",defaultMessage:"Link Record"}):(null==k?void 0:k.id)===m().zG&&"slack_channel"===E?e=(0,Q.jsx)(S().sA,{id:"connectedRelationPropertyMenuResults.addChannelButton.label",defaultMessage:"Link channel"}):(null==k?void 0:k.id)===m().zG&&(e=(0,Q.jsx)(S().sA,{id:"connectedRelationPropertyMenuResults.addMessageButton.label",defaultMessage:"Link message"})),e}const ie={key:"thirdPartySearchResults",render:e=>(0,Q.jsx)(Z().A,{...e,disableMobilePadding:!0}),items:[{key:"addPage",render:e=>(0,Q.jsx)(z().A,{...e,title:ne(),icon:(0,yt().b)({width:14}),right:(0,Q.jsx)(S().sA,{id:"connectedRelationPropertyMenuResults.linkPageButton.enter",defaultMessage:"Enter"}),rightStyle:p.enterText}),action:t=>{(0,At().SQ)({event:t,context:At().y$.ButtonMouseDown,callback:()=>{e.addPage()}})}}]},re={key:"noResultsFoundInThirdParty",render:e=>(0,Q.jsx)(Z().A,{...e,disableMobilePadding:!0,title:(0,Q.jsx)(S().sA,{defaultMessage:"No results found in {integration}.",id:"connectedRelationPropertyMenuResults.notMatched.help",values:{integration:k.name}})}),items:[]},se=[];k&&(0,m().a1)(k.id)&&se.push(...function(e){const{environment:t,intl:o,theme:n,externalIntegrations:i,emojiData:r}=e,a=e.results.flatMap((e=>{const t=e.attributesById.start;if(t&&(0,xt().RD)(t)){const n=(0,gt().AA)(t.values[0],(0,h().P)(),o.locale);return[{...e,dateTime:n.start}]}return[]})),s=C().$z(a,(e=>e.dateTime.toFormat(gt().tr))),l=C().Ul(Object.keys(s),(e=>ut().c9.fromFormat(e,gt().tr).valueOf())).flatMap((a=>{const l=s[a],d=C().Ul(l,(e=>e.dateTime.valueOf())),c=(0,mt().Z$)(a);if(!c)return[];let u;(C().n4(c,(0,gt().Ec)((0,h().P)()))||C().n4(c,(0,gt().uf)((0,h().P)())))&&(u="relative");const p=(0,pt().ZF)({value:c,intl:o,allowRelativeDates:Boolean(u),date_format:u});return[{key:p,items:d.flatMap((a=>{const s=new(be().Bv)(t,{table:b().ev,id:ft().JW(),spaceId:ft().JW()}),l={id:s.id,type:"external_object_instance",alive:!0,format:{bot_id:"",external_object_id:"",uri:a.uri,attributes:a.attributes},version:0,space_id:"",parent_id:"",parent_table:"block"};let d=null,c=null;const u=a.attributesById.title,p=a.attributesById.start,g=a.attributesById.end;return p&&g&&(0,xt().RD)(p)&&(0,xt().RD)(g)&&(d=(0,Q.jsx)("div",{children:(0,Q.jsxs)("span",{children:[(0,Q.jsx)(jt().gY,{style:{color:void 0,display:"inline"},attribute:p,dateStyle:"exact_time"})," - ",(0,Q.jsx)(jt().gY,{attribute:g,dateStyle:"exact_time",style:{color:void 0,display:"inline"}})]})}),c=(0,Q.jsxs)("div",{children:[(0,Q.jsx)("span",{children:(0,Q.jsx)(jt().Ic,{style:{color:void 0,display:"inline"},store:s,attribute:u})}),d]})),{key:a.uri,render:e=>(0,Q.jsx)(kt().A,{renderTooltip:()=>c,placement:Lt().W.Left,textWrap:!0,render:a=>(0,Q.jsx)(z().A,{...(0,Rt().A)(a||{},e),title:(0,vt().gA)({blockModel:bt().Bj6.fromBlock(l),intl:o,index:0,style:{},disableHover:!0,disableLinks:!0,isAndroid:!1,classNames:[],theme:n,baseUrl:wt().A.domainBaseUrl,emojiType:"raw",currentUserId:t.currentUser.id,getRecordModel:s.getRecordModel,externalIntegrations:i,emojiData:r}),caption:d})}),action:t=>{(0,At().SQ)({event:t.event,context:At().y$.ButtonMouseDown,callback:()=>{e.addPage(a.uri)}})}}})),render:e=>(0,Q.jsx)(Z().A,{...e,disableMobilePadding:!0,title:p})}]}));return l}({environment:P,intl:j,theme:A,externalIntegrations:I,results:oe,addPage:e.addPage,emojiData:G})),k&&x&&se.push(...function(e){const{environment:t,results:o,intl:n,theme:i,externalIntegrations:r,emojiData:a}=e;return[{key:"salesforce-search-results",items:o.flatMap((o=>{const s=new(go().B)(t,{table:b().ev,id:ft().JW(),spaceId:ft().JW()}),l={id:s.id,type:"external_object_instance",alive:!0,format:{bot_id:"",external_object_id:"",uri:o.uri,attributes:o.attributes},version:0,space_id:"",parent_id:"",parent_table:"block"};return{key:o.uri,render:e=>(0,Q.jsx)(z().A,{...e,title:(0,vt().gA)({blockModel:bt().Bj6.fromBlock(l),intl:n,index:0,style:{},disableHover:!0,disableLinks:!0,isAndroid:!1,classNames:[],theme:i,baseUrl:wt().A.domainBaseUrl,emojiType:"raw",currentUserId:t.currentUser.id,getRecordModel:s.getRecordModel,externalIntegrations:r,emojiData:a})}),action:t=>{(0,At().SQ)({event:t.event,context:At().y$.ButtonMouseDown,callback:()=>{e.addPage(o.uri)}})}}})),render:e=>(0,Q.jsx)(Z().A,{...e,disableMobilePadding:!0,title:"Search Results"})}]}({environment:P,intl:j,theme:A,externalIntegrations:I,emojiData:G,results:oe,addPage:e.addPage}));const le={key:"loadingSpinner",render:t=>(0,Q.jsx)(Z().A,{...t,disableMobilePadding:!0,title:(0,Q.jsxs)("div",{style:{...p.addingPage,justifyContent:e.addingPage?"center":"flex-start"},children:[(0,Q.jsx)(qe().A,{}),(0,Q.jsx)("span",{style:{marginLeft:10},children:(0,Q.jsx)(S().sA,{id:"connectedRelationPropertyMenuResults.fetchingData",defaultMessage:"Fetching data..."})})]})}),items:[]},de=[];return"pending"===U||e.addingPage?de.push(le):f&&N?de.push($):W?de.push(ie):se.length>0?de.push(...se):f?de.push($):v?de.push(Y):x?de.push(X):_?de.push(J):g&&0===t.length?de.push(q):g&&t.length>0||de.push(re),M&&de.push({key:"upsell",render:e=>(0,Q.jsx)(Ht,{integrationId:M}),items:[]}),(0,Q.jsx)($e().Ay,{type:$e().Oh.Vertical,style:{padding:"4px 0px"},initialFocus:0,sections:[...t,...de]})}function fo(){return(0,Q.jsx)("div",{style:{height:"100%",padding:Re().iw,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,Q.jsx)(qe().A,{style:{margin:"0 auto"}})})}function bo(e){const{collectionStore:t,targetCollectionStore:o,schema:n,property:i,showRight:a,disabled:s,style:l}=e,d=(0,r().K8)((()=>o.isSyncedCollection()),[o]),u=(0,r().K8)((()=>{const e=n[i];return Boolean(e&&c().UU(e))}),[n,i]);return(0,Q.jsx)(Z().A,{...e,noTextOverflow:!0,right:a&&!d&&!u&&t&&(0,Q.jsx)(ot().default,{collectionStore:t,targetCollectionStore:o,property:i,disabled:s}),style:{paddingTop:0,paddingBottom:4,...l},desktopTitleStyle:{height:19,alignItems:"center",marginTop:6,marginBottom:6,paddingLeft:12,paddingRight:9}})}const vo=function(e){const t=(0,i().Y0)(),a=(0,r().uB)(void 0,o(210466).A),s=(0,r().uB)(void 0,o(121686).A),l=(0,Ve().ZC)(e.searchQuery);return(0,n.useEffect)((()=>{!e.searchQuery||(0,C().n4)(l,e.searchQuery)||t.isMobile||a.setState({...a.state,focus:{section:0,indexLocal:0,indexGlobal:0,footerFocused:!1}})}),[t.isMobile,a,l,e.searchQuery]),t.isMobile?(0,Q.jsx)(Bo,{relationPropertyMenuResultProps:e,menuListStore:a,draggableListStore:s}):(0,Q.jsx)(Ao,{relationPropertyMenuResultProps:e,menuListStore:a,draggableListStore:s})};function xo(e,t){const o=t[e];return Boolean(o&&"relation"===o.type&&1===o.limit)}function So(e){const{result:t,pointer:o,environment:n,relationPropertyMenuResultProps:i,canDragRow:r,isSharingEnabled:a,limitReached:s,propertyLimit:l}=e,{disabled:d,parentStore:c,collectionStore:u,collectionId:p,schema:g,targetCollectionStore:m,onAccept:h,property:y,propertySchema:f,blockPropertyValueOverlayStore:b,onClickActionButton:v,disableClickToNavigateToPage:x}=i,S=be().Bv.createChildStore(c,o);if((0,rt().X)(S))return;return{key:S.id,render:(e,i)=>{let{ref:h,...C}=e;const _=(0,Q.jsx)(nt().q,{...C,canDrag:r,limitReached:s,collectionStore:u,collectionId:p,schema:g,targetCollectionStore:m,relatedPageStore:S,disabled:d,isSelected:t.type===Re().M7.SelectedPage,pageStore:c,property:y,propertySchema:f,rowType:"popup",onActionButtonClick:()=>v(t),blockPropertyValueOverlayStore:b,propertyLimit:l,onOpenPageButtonClick:()=>{D().k({relationPointers:[o],relatedPageStore:S,environment:n,from:"relation_property"})},disableClickToNavigateToPage:x});return a?(0,Q.jsx)(Co,{originElement:_,pageStore:S,result:t,focused:C.focused,isSelected:t.type===Re().M7.SelectedPage,onFocus:i.onFocus,onClickActionButton:v}):_},action:e=>{a&&t.type!==Re().M7.SelectedPage||h(t,it().Vr(e.event))}}}function Co(e){let{originElement:t,pageStore:o,result:s,focused:l,onFocus:d,isSelected:c,onClickActionButton:u}=e;const p=(0,i().v3)(),g=(0,i().Y0)(),m=(0,ct().H)(),h=(0,r().K8)((()=>lt().dR({store:o,environment:p,trustedDomainsStore:m})),[o,p,m]),[y,f]=(0,n.useState)(!1),b=(0,a().IS)((e=>({unselectedHeader:{paddingRight:10,paddingLeft:10,paddingTop:6,paddingBottom:6,borderRadius:6,color:e.text.uiYellowPrimary,backgroundColor:e.tint.uiYellow,fontSize:14,fontWeight:400},selectedHeader:{paddingRight:8,paddingLeft:8,paddingTop:4,color:e.text.secondary,fill:e.mediumIconColor,fontSize:14,fontWeight:400},pageTitleWrapper:{display:"inline",padding:2},icon:{display:"inline-block",marginRight:4,width:12,height:12},title:{display:"inline",overflow:"hidden",wordBreak:"break-word",textWrap:"balance",fontWeight:500},popupContainer:{padding:16,display:"flex",flexDirection:"column",height:"100%"},permissionsListContainer:{flex:1,overflow:"auto"},generalAccessPermissionListContainer:{borderTop:`0.5px solid ${e.darkDividerColor}`,paddingTop:8},confirmButton:{width:"100%"}})),[]);return g.isPhone?(0,Q.jsxs)("div",{onClick:e=>{c||f(!0)},children:[t,(0,Q.jsx)(K().Ay,{popupType:K().nl.SlideUp,enableOutsideClickDismiss:!0,onDismiss:()=>f(!1),open:y,style:{borderTopLeftRadius:24,borderTopRightRadius:24,maxHeight:"66%"},originRect:new DOMRect(0,0,0,0),render:()=>(0,Q.jsxs)("div",{style:b.popupContainer,children:[(0,Q.jsx)(at().jV,{children:c?(0,Q.jsx)("div",{style:b.selectedHeader,children:(0,Q.jsx)(S().sA,{id:"relationPropertyMenu.sharingEnabled.permissionsList.selectedHeader",defaultMessage:"This task is currently shared with everyone who has access to {title}",values:{title:(0,Q.jsxs)("div",{style:b.pageTitleWrapper,children:[(0,Q.jsx)(G().B,{icon:o.getIcon(),isEmptyPage:!1,size:12,disabled:!0,style:b.icon}),(0,Q.jsx)(q().A,{store:o,style:b.title})]})}})}):(0,Q.jsx)("div",{style:b.unselectedHeader,children:(0,Q.jsx)(S().sA,{id:"relationPropertyMenu.sharingEnabled.permissionsList.unselectedHeader",defaultMessage:"By selecting this project, only the people below will have access to this task:"})})}),(0,Q.jsx)("div",{style:b.permissionsListContainer,children:(0,Q.jsx)(st().default,{store:o,showFooter:!1,showPermissionInheritanceBanner:!1,calculatedPermissions:{...h,showRestrictedPermissionBanner:!1,showSitePublicPermission:!1,showPublicShareLinkPermission:!1,showTeamPermission:!0,showSpacePermission:!0},buttonPopupStore:void 0,permissionItemArgs:{location:"relation_menu",shouldDisable:!0}})}),(0,Q.jsx)("div",{style:b.generalAccessPermissionListContainer,children:(0,Q.jsx)(st().GeneralAccessPermissionSection,{store:o,calculatedPermissions:h,permissionItemArgs:{location:"relation_menu",shouldDisable:!0}})}),(0,Q.jsx)(Ye().A,{size:"lg",style:b.confirmButton,onClick:()=>u(s),children:(0,Q.jsx)(S().sA,{id:"relationPropertyMenu.sharingEnabled.confirmButton",defaultMessage:"Confirm"})})]})})]}):(0,Q.jsx)(Je().A,{focused:l,onFocus:d,disableDefaultClick:!0,renderOrigin:(e,o)=>(0,Q.jsx)(Ze().Ay,{...e,ref:o,title:t,textWrapperStyle:{margin:0},showExtensionArrow:!1}),renderExtension:e=>(0,Q.jsxs)("div",{...e,children:[(0,Q.jsx)(at().jV,{children:c?(0,Q.jsx)("div",{style:b.selectedHeader,children:(0,Q.jsx)(S().sA,{id:"relationPropertyMenu.sharingEnabled.permissionsList.selectedHeader",defaultMessage:"This task is currently shared with everyone who has access to {title}",values:{title:(0,Q.jsxs)("div",{style:b.pageTitleWrapper,children:[(0,Q.jsx)(G().B,{icon:o.getIcon(),isEmptyPage:!1,size:12,disabled:!0,style:b.icon}),(0,Q.jsx)(q().A,{store:o,style:b.title})]})}})}):(0,Q.jsx)("div",{style:b.unselectedHeader,children:(0,Q.jsx)(S().sA,{id:"relationPropertyMenu.sharingEnabled.permissionsList.unselectedHeader",defaultMessage:"By selecting this project, only the people below will have access to this task:"})})}),(0,Q.jsx)(st().default,{store:o,showFooter:!1,showPermissionInheritanceBanner:!1,calculatedPermissions:{...h,showRestrictedPermissionBanner:!1,showSitePublicPermission:!1,showPublicShareLinkPermission:!1,showTeamPermission:!0,showSpacePermission:!0},buttonPopupStore:void 0,permissionItemArgs:{location:"relation_menu",shouldDisable:!0}})]})})}function _o(e){const{canDrag:t,property:o,schema:n,totalRelatedPages:i}=e;return t&&!xo(o,n)&&i>1}function Mo(e){const{numRelatedPages:t,integrationId:o,limit:n}=e;return 0!==t||o?n&&1===n?(0,Q.jsx)(S().sA,{id:"database.relationProperty.relatedPages.limit.subHeader",defaultMessage:"Selected"}):o===m().Hd||o===m().e1?(0,Q.jsx)(S().sA,{id:"database.relationProperty.relatedGoogleDriveOrFigmaFiles.subHeader",defaultMessage:"{count, plural, one {{count} linked file} other {{count} linked files}}",values:{count:t}}):o===m().ob?(0,Q.jsx)(S().sA,{id:"database.relationProperty.relatedGithubPages.subHeader",defaultMessage:"{count, plural, one {{count} linked PR} other {{count} linked PRs}}",values:{count:t}}):o===m().mn?(0,Q.jsx)(S().sA,{id:"database.relationProperty.relatedSalesforcePages.subHeader",defaultMessage:"{count, plural, one {{count} linked record} other {{count} linked records}}",values:{count:t}}):(0,Q.jsx)(S().sA,{id:"database.relationProperty.relatedPages.subHeader",defaultMessage:"{count} selected",values:{count:t}}):(0,Q.jsx)(S().sA,{id:"database.relationProperty.relatedPages.emptyList.subHeader",defaultMessage:"Select a page"})}function ko(e){const{loading:t,numRelatedPages:o,numUnrelatedPages:n,limit:i}=e;if(!t||0!==o||0!==n)return 0===n?(0,Q.jsx)(S().sA,{id:"database.relationProperty.noResults.subHeader",defaultMessage:"No results"}):0===o?void 0:i&&1===i?(0,Q.jsx)(S().sA,{id:"database.relationProperty.changeSelection.subHeader",defaultMessage:"Change selection"}):(0,Q.jsx)(S().sA,{id:"database.relationProperty.selectMore.subHeader",defaultMessage:"Select more"})}const wo=(0,S().YK)({selected:{id:"database.relationProperty.sharing.selected.subHeader",defaultMessage:"Selected"},unselected:{id:"database.relationProperty.sharing.unselected.subHeader",defaultMessage:"Possible choices"}});function Po(e){const{targetCollectionStore:t,collectionStore:o,schema:n,property:i,canConfigureCollection:r,numRelatedPages:a,handleClearProperty:s,overlayMode:l,index:d,blockPropertyValueOverlayStore:c}=e;return{key:"backlog",render:e=>(0,Q.jsx)(bo,{...e,collectionStore:o,schema:n,targetCollectionStore:t,property:i,showRight:0===a||"add"===(null==l?void 0:l.type),disabled:!r,style:{paddingBottom:0,paddingTop:0}}),items:[{key:"sprints_backlog",render:e=>(0,Q.jsx)(tt,{focused:e.focused,onMouseEnter:e.onMouseEnter,targetCollectionStore:t,onClick:s,isSection:!1,index:d,blockPropertyValueOverlayStore:c}),action:()=>{s&&s()}}]}}function jo(e){let{relationPropertyMenuResultProps:t,menuListStore:o,draggableListStore:a}=e;const{results:s,onDrag:c,parentStore:u,collectionStore:p,targetCollectionStore:g,property:m,canDrag:h,canConfigureCollection:y,loading:f,onCreatePage:b,overlayMode:v,disabled:x,schema:C,searchQuery:_,index:M,handleClearProperty:k,blockPropertyValueOverlayStore:w,relationPropertyMenuStore:P,addPage:j,addingPage:A}=t,R=(0,i().v3)(),I=(0,n.useCallback)(((e,t)=>function(e,t,o,n){n&&n(e),Oe().pl({store:o,focus:{section:0,indexLocal:t.endPosition,indexGlobal:t.endPosition,footerFocused:!1}})}(e,t,o,c)),[o,c]),{device:B}=R,D=(0,S().tz)(),L=C[m],T=Boolean("relation"===(null==L?void 0:L.type)&&L.connectedRelation),E=(0,de().D)(L),F=(0,r().K8)((()=>function(e,t,o){const n=e.getDatabaseType()===l().av;return t?{getCanDragRow:()=>!1,getRelatedSectionHeaderTitle:()=>o.formatMessage(wo.selected),getUnrelatedSectionHeaderTitle:()=>o.formatMessage(wo.unselected),getFooterSection:()=>{}}:n?{getCanDragRow:()=>!1,getRelatedSectionHeaderTitle:()=>{},getUnrelatedSectionHeaderTitle:()=>{},getFooterSection:Po}:{getCanDragRow:_o,getRelatedSectionHeaderTitle:Mo,getUnrelatedSectionHeaderTitle:ko,getFooterSection:()=>{}}}(g,E,D)),[E,g,D]),U=(0,r().K8)((()=>{var e;if(w.state.isOpen)return(0,d().hm)(L,null===(e=w.state.formQuestionStore)||void 0===e?void 0:e.getModel())}),[L,w]),[z,N]=(0,r().K8)((()=>{const e=[],o=[],n=s.filter((e=>e.type===Re().M7.SelectedPage)).length;for(const i of s)if(i.type===Re().M7.SearchPage){const e=i.store,r=Boolean(U&&n>=U);if(!e.isTemplate()){const n=So({environment:R,isSharingEnabled:E,result:i,pointer:e.pointer,relationPropertyMenuResultProps:t,canDragRow:!1,limitReached:r,propertyLimit:U});n&&o.push(n)}}else if(i.type===Re().M7.SelectedPage){const o=F.getCanDragRow({canDrag:h,property:m,schema:C,totalRelatedPages:n}),r=So({environment:R,result:i,pointer:i.store.pointer,relationPropertyMenuResultProps:t,canDragRow:o,isSharingEnabled:E});r&&e.push(r)}return[e,o]}),[s,R,t,F,h,m,C,E,U]),W=(0,r().K8)((()=>g.getFormat().integration_id),[g]),V=F.getRelatedSectionHeaderTitle({numRelatedPages:z.length,integrationId:W,limit:U}),O=[],H=z.map((e=>e.key.toString())),K=!W&&N.length>0;(z.length>0||K)&&O.push({key:"results",render:e=>(0,Q.jsx)(bo,{...e,title:V,collectionStore:p,schema:C,targetCollectionStore:g,property:m,showRight:"add"!==(null==v?void 0:v.type),disabled:!y,style:{paddingBottom:void 0===V?0:4},children:h&&!xo(m,C)&&H.length>1?(0,Q.jsx)(He().Ay,{direction:"vertical",keys:H,renderKey:t=>e.children[H.indexOf(t)],onDrop:I,store:a}):e.children}),items:z});if(!T&&(0===N.length&&0===z.length||N.length>0)){const e=F.getUnrelatedSectionHeaderTitle({loading:f,numRelatedPages:z.length,numUnrelatedPages:N.length,limit:U}),t=!f&&0===N.length&&!B.isMobile&&!T&&Boolean(null==_?void 0:_.trim());let o;t&&N.push({key:"empty",render:e=>(0,Q.jsx)(X,{targetCollectionStore:g,parentBlockStore:u,title:_||"",focused:e.focused,onClick:b,isSection:!1,index:M}),action:()=>{b&&b()}}),(t||void 0===e)&&(o={paddingBottom:0});const n={key:"unrelated",render:t=>(0,Q.jsx)(bo,{...t,title:e,collectionStore:p,schema:C,targetCollectionStore:g,property:m,showRight:0===z.length||"add"===(null==v?void 0:v.type),disabled:!y,style:o}),items:N};"add"===(null==v?void 0:v.type)?O.unshift(n):O.push(n)}if(!B.isMobile&&z.length>0&&!x){const e=F.getFooterSection({targetCollectionStore:g,collectionStore:p,schema:C,property:m,canConfigureCollection:y,numRelatedPages:z.length,handleClearProperty:k,overlayMode:v,index:M,blockPropertyValueOverlayStore:w});e&&O.push(e)}return T?(0,Q.jsx)(yo,{blockPropertyValueOverlayStore:w,targetCollectionStore:g,sections:O,propertySchema:L,property:m,pageRecordStore:u,search:_,relationPropertyMenuStore:P,addPage:j,addingPage:A}):(0,Q.jsx)($e().Ay,{type:$e().Oh.Vertical,store:o,style:{padding:"8px 0px"},initialFocus:R.device.isMobile?void 0:0,sections:O})}function Ao(e){let{relationPropertyMenuResultProps:t,menuListStore:o,draggableListStore:n}=e;const{results:i,loading:a,onScrollOffsetChange:s}=t,l=(0,r().K8)((()=>"on"===ye().default.getEligibleGroup({experimentId:"search_surfaces_relation_search",defaultGroup:"unassigned"})&&a),[a]),d=0===i.length;return(0,Q.jsxs)(Qe().H,{style:{width:"100%",maxHeight:300,position:"relative",...d&&{marginTop:0}},type:dt().A.Y,children:[d&&l&&(0,Q.jsx)(Ro,{}),(0,Q.jsx)(jo,{relationPropertyMenuResultProps:t,menuListStore:o,draggableListStore:n}),s&&(0,Q.jsx)(Xe().A,{onChange:s}),a?l?(0,Q.jsx)(Io,{}):(0,Q.jsx)(fo,{}):null]})}function Ro(){const e=(0,a().IS)((e=>({sectionName:{height:12,borderRadius:4,width:"20%",marginTop:15,marginLeft:13,marginBottom:6}})),[]);return(0,Q.jsx)(Ge().A,{style:e.sectionName})}const Io=(0,n.memo)((function(e){const{count:t=10}=e,o=(0,a().IS)((e=>({wrapper:{marginRight:8,marginLeft:12},icon:{height:16,width:16,borderRadius:4},pageName:{height:15,borderRadius:4,marginLeft:-1}})),[]),n=Array.from({length:t},(()=>!0));return(0,Q.jsx)("div",{style:o.wrapper,children:(0,Q.jsx)(Ke().VP,{gap:12,children:n.map(((e,t)=>(0,Q.jsx)("div",{children:(0,Q.jsxs)(Ke().fI,{gap:8,alignItems:"center",children:[(0,Q.jsx)(Ge().A,{style:o.icon}),(0,Q.jsx)(Ge().A,{style:{...o.pageName,width:C().XM(["30%","40%","43%","45%","48%","50%","54%","55%","60%"])}})]})},`relation-result-shimmer-${t}`)))})})}));function Bo(e){let{relationPropertyMenuResultProps:t,menuListStore:o,draggableListStore:i}=e;const{results:r,loading:a,resultsType:s,schema:l,property:d,blockPropertyValueOverlayStore:c,targetCollectionStore:u,parentStore:p,searchQuery:g,relationPropertyMenuStore:m,addPage:h,addingPage:y}=t,f=0===r.length,b=l[d];return Boolean("relation"===(null==b?void 0:b.type)&&b.connectedRelation)&&f?(0,Q.jsx)("div",{style:{marginTop:20},children:(0,Q.jsx)(yo,{blockPropertyValueOverlayStore:c,targetCollectionStore:u,sections:[],propertySchema:b,property:d,pageRecordStore:p,search:g,relationPropertyMenuStore:m,addPage:h,addingPage:y})}):(0,Q.jsxs)(n.Fragment,{children:[f&&!a&&"existing"===s?void 0:(0,Q.jsx)(jo,{relationPropertyMenuResultProps:t,menuListStore:o,draggableListStore:i}),a&&(0,Q.jsx)(fo,{})]})}const Do=(0,o(680369).wt)("questionMarkFilled",{viewBox:"0 0 14 14",svg:(0,Q.jsx)("path",{d:"M7 14C6.04379 14 5.14248 13.817 4.29608 13.451C3.45425 13.085 2.71078 12.5794 2.06569 11.9343C1.42059 11.2892 0.915033 10.5458 0.54902 9.70392C0.183007 8.85752 0 7.95621 0 7C0 6.04379 0.183007 5.14477 0.54902 4.30294C0.915033 3.45654 1.4183 2.71078 2.05882 2.06569C2.70392 1.42059 3.44739 0.915033 4.28922 0.54902C5.13562 0.183007 6.03693 0 6.99314 0C7.94935 0 8.85065 0.183007 9.69706 0.54902C10.5435 0.915033 11.2892 1.42059 11.9343 2.06569C12.5794 2.71078 13.085 3.45654 13.451 4.30294C13.817 5.14477 14 6.04379 14 7C14 7.95621 13.817 8.85752 13.451 9.70392C13.085 10.5458 12.5794 11.2892 11.9343 11.9343C11.2892 12.5794 10.5435 13.085 9.69706 13.451C8.85523 13.817 7.95621 14 7 14ZM6.86275 8.46863C7.04118 8.46863 7.18072 8.42059 7.28137 8.32451C7.38203 8.22386 7.43235 8.10261 7.43235 7.96078C7.43235 7.94706 7.43235 7.93333 7.43235 7.91961C7.43235 7.90131 7.43235 7.88758 7.43235 7.87843C7.43235 7.67712 7.49183 7.50556 7.61078 7.36373C7.72974 7.21732 7.91275 7.06405 8.1598 6.90392C8.50294 6.67974 8.78431 6.44412 9.00392 6.19706C9.22811 5.95 9.3402 5.61373 9.3402 5.18824C9.3402 4.79477 9.23497 4.46536 9.02451 4.2C8.81405 3.93007 8.53726 3.72647 8.19412 3.58922C7.85556 3.45196 7.48497 3.38333 7.08235 3.38333C6.46928 3.38333 5.97059 3.50458 5.58627 3.74706C5.20654 3.98954 4.96634 4.27549 4.86569 4.6049C4.84739 4.6598 4.83137 4.71699 4.81765 4.77647C4.8085 4.83595 4.80392 4.89543 4.80392 4.9549C4.80392 5.11046 4.85654 5.2317 4.96176 5.31863C5.06699 5.40098 5.17909 5.44216 5.29804 5.44216C5.41699 5.44216 5.51765 5.41699 5.6 5.36667C5.68235 5.31177 5.75556 5.24314 5.81961 5.16078L5.94314 4.98922C6.03007 4.85196 6.12843 4.73529 6.23824 4.63922C6.34804 4.54314 6.46928 4.46993 6.60196 4.41961C6.73464 4.36928 6.87876 4.34412 7.03431 4.34412C7.35458 4.34412 7.61078 4.42647 7.80294 4.59118C7.99967 4.75588 8.09804 4.9732 8.09804 5.24314C8.09804 5.48562 8.02255 5.68464 7.87157 5.8402C7.72059 5.99118 7.48954 6.17418 7.17843 6.38922C6.9268 6.56765 6.71634 6.76209 6.54706 6.97255C6.37778 7.18301 6.29314 7.46438 6.29314 7.81667C6.29314 7.83039 6.29314 7.84641 6.29314 7.86471C6.29314 7.87843 6.29314 7.89216 6.29314 7.90588C6.29314 8.28105 6.48301 8.46863 6.86275 8.46863ZM6.84216 10.5755C7.04804 10.5755 7.22647 10.5046 7.37745 10.3627C7.53301 10.2209 7.61078 10.0471 7.61078 9.84118C7.61078 9.63529 7.53529 9.46144 7.38431 9.31961C7.23333 9.1732 7.05261 9.1 6.84216 9.1C6.63627 9.1 6.45784 9.1732 6.30686 9.31961C6.15588 9.46601 6.08039 9.63987 6.08039 9.84118C6.08039 10.0471 6.15588 10.2209 6.30686 10.3627C6.46242 10.5046 6.64085 10.5755 6.84216 10.5755Z"})});var Lo=()=>o(403768),To=()=>o(34662),Eo=()=>o(658388),Fo=()=>o(559637),Uo=()=>o(356813),zo=()=>o(922172),No=()=>o(691859);function Wo(e){let{onConfirm:t,onClosed:o,currentBlockTitle:s,blockWithExistingRelationTitle:l,canAccessBlockWithExistingRelation:d}=e;const c=s?To().k4p(s):void 0,u=d&&l?To().k4p(l):void 0,p=(0,i().v3)(),g=(0,r().K8)((()=>{const{currentUserSettingsStore:e}=he().default.state;return e}),[]),[m,h]=n.useState(!1),y=(0,Ve().wb)(m,100,((e,t)=>e===t));n.useEffect((()=>{if(!g)return;const e=y?Date.now():null;E().createAndCommit({environment:p,userAction:"twoWayWithLimitAddRelationConfirmationDialog.setDismissModalForever",canUndo:!0,perform:t=>{Eo().mJ({userSettingsStore:g,transaction:t,data:{relation_limit_confirmation_dialog_dismissed_at:e}})}})}),[y,g,p]);const f=(0,n.useCallback)((()=>{t(),o()}),[t,o]),b=(0,a().IS)((e=>({checkBoxContainer:{display:"flex",flexDirection:"row",alignItems:"center",gap:4,flexGrow:0,alignSelf:"center",marginTop:24,color:e.text.secondary,fontSize:14,lineHeight:"20px"},questionMarkButton:{display:"inline-block",width:14,height:14,marginLeft:4,paddingTop:2},questionMarkIcon:{fill:e.icon.secondary}})),[]),v=(0,S().tz)();return(0,Q.jsx)(zo().a,{open:!0,render:()=>(0,Q.jsx)(Q.Fragment,{children:(0,Q.jsx)(No().Ay,{width:300,title:(0,Q.jsx)(S().sA,{defaultMessage:"Are you sure you want to link this page to {currentBlockTitleText}",id:"twoWayLimitAddRelationConfirmationDialog.title",values:{currentBlockTitleText:c}}),subtitle:(0,Q.jsxs)(Q.Fragment,{children:[d&&u?(0,Q.jsx)(S().sA,{defaultMessage:"This will unlink it from {blockWithExistingRelationTitleText}.",id:"twoWayLimitAddRelationConfirmationDialog.subtitle",values:{blockWithExistingRelationTitleText:u}}):(0,Q.jsx)(S().sA,{defaultMessage:"This will unlink it from another page in this database.",id:"twoWayLimitAddRelationConfirmationDialog.subtitleWithNoAccessToOtherPage"}),(0,Q.jsx)(kt().A,{renderTooltip:()=>(0,Q.jsx)(S().sA,{defaultMessage:"Pages from this database can only be linked to one record.",id:"twoWayLimitAddRelationConfirmationDialog.tooltip.noAccess"}),render:e=>(0,Q.jsx)(Uo().A,{...e,style:b.questionMarkButton,ariaLabel:v.formatMessage({defaultMessage:"Pages from this database can only be linked to one record.",id:"twoWayLimitAddRelationConfirmationDialog.subtitle.questionMark.ariaLabel"}),icon:Do,iconStyle:b.questionMarkIcon})})]}),confirmText:(0,Q.jsx)(S().sA,{defaultMessage:"Continue",id:"twoWayLimitAddRelationConfirmationDialog.primaryButton.text"}),onConfirm:f,onDismiss:o,radioOptions:[],icon:Lo().H,footer:(0,Q.jsxs)("div",{style:b.checkBoxContainer,children:[(0,Q.jsx)(Fo().A,{checked:m,onClick:()=>h(!m),size:14,id:"twoWayLimitAddRelationConfirmationDialog.doNotShowAgain"}),(0,Q.jsx)("label",{htmlFor:"twoWayLimitAddRelationConfirmationDialog.doNotShowAgain",children:(0,Q.jsx)(S().sA,{defaultMessage:"Don't ask again",id:"twoWayLimitAddRelationConfirmationDialog.dontAskAgain.checkbox.label"})})]})})})})}function Vo(){const{blockStore:e,schema:t,property:o,format:a}=(0,n.useContext)(U().t),s=(0,i().v3)(),d=(0,n.useMemo)((()=>new(Ee().A)),[]),p=(0,r().K8)((()=>function(e){const{environment:t,blockStore:o,schema:n,property:i}=e;if(!o)return;const r=n[i];if("relation"!==(null==r?void 0:r.type))return;const a=c().Nv(r);if(!a)return;const s=be().md.createChildStore(o,a);if(!s)return;const l=s.getParentId();if(!l)return;const d=be().Bv.createChildStore(s,{table:b().ev,id:l});if(!d)return;const p=d.isDefined()?me().E2(t,d):void 0,m=(0,g().A)({pageId:d.id,pageModel:d.getModel(),baseUrl:p,pageVisitSource:void 0});return{property:i,propertySchema:r,targetCollectionStore:s,targetParentUrl:m,connectedRelationFlags:{isSyncedCollectionRelation:s.isSyncedCollection(),isGithubPrRelation:u().di(r),isGoogleDriveRelation:u().H6(r),isFigmaRelation:u().KF(r),isZendeskRelation:u().up(r),isSalesforceRelation:u().V5(r),isSlackRelation:u().uv(r),isConnectedRelation:c().UU(r)}}}({environment:s,blockStore:e,schema:t,property:o})),[s,e,t,o]),m=(0,de().D)(t[o]),h=(0,r().K8)((()=>null==p?void 0:p.targetCollectionStore.getDatabaseType()),[null==p?void 0:p.targetCollectionStore]),y=(0,r().K8)((()=>m?"sharing":h===l().av?"sprint":"default"),[h,m]);return p?(0,Q.jsx)(Te,{relationPropertyMenuStore:d,property:p.property,propertySchema:p.propertySchema,targetCollectionStore:p.targetCollectionStore,targetParentUrl:p.targetParentUrl,connectedRelationFlags:p.connectedRelationFlags,children:(0,Q.jsx)(N().A,{capture:!0,allowMenuList:!0,allowEsc:!0,allowUndo:!0,allowTabUntab:!0,render:()=>(0,Q.jsx)(Oo,{type:y})})}):(0,Q.jsx)(Z().A,{children:(0,ee().NN)(a)?(0,Q.jsx)(O().A,{title:(0,Q.jsx)(S().sA,{defaultMessage:"You may not have access to the related database. Contact the form creator.",id:"database.relationPropertyMenu.formViewer.noAccess.message"})}):(0,Q.jsx)(O().A,{title:(0,Q.jsx)(S().sA,{defaultMessage:"You may not have access to the related database.",id:"database.relationPropertyMenu.noAccess.message"})})})}function Oo(e){let{type:t}=e;const{blockStore:o,blockPropertyValueOverlayStore:a,collectionId:s,overlayMode:l,isDisabled:d,schema:c,property:u,insertChar:p,format:g,onChange:m,analyticsFrom:h}=(0,n.useContext)(U().t),f=(0,n.useContext)(Le),b=(0,i().v3)(),_=(0,i().Y0)(),M=(0,S().tz)(),P=(0,ue().X)("db_ux_mobile"),j=(0,r().K8)((()=>null==f?void 0:f.relationPropertyMenuStore),[null==f?void 0:f.relationPropertyMenuStore]),A=Yo(),{relationSearchLimit:R,relationSearchQuery:I}=(0,r().K8)((()=>({relationSearchQuery:null==j?void 0:j.state.searchQuery,relationSearchLimit:null==j?void 0:j.state.searchLimit})),[j]);(0,n.useEffect)((()=>{j&&(0!==A.length||P&&_.isMobile||j.setState({searchPopupOpen:_.isMobile,searchQuery:p??"",searchLimit:Ee().A.limitIncrement,addingPage:!1}))}),[]);const B=(0,r().K8)((()=>"on"===ye().default.getEligibleGroup({experimentId:"search_surfaces_relation_search",defaultGroup:"unassigned"})),[]),D=Boolean(B&&I&&I.length>0&&"sprint"!==t&&"sharing"!==t),L=(0,r().K8)((()=>(0,le().Er)(b).hasPublicAccessPermission),[b]),T=(0,r().K8)((()=>{const e=null==f?void 0:f.targetCollectionStore.getSpaceId();if(o&&e)return be().SL.createChildStore(o,{table:v().NX,id:e})}),[o,null==f?void 0:f.targetCollectionStore]),{results:E,isResultsLoading:F,fetchAdditionalServerResultsOnChange:z,searchSessionId:N,searchSessionFlowNumber:W}=(0,ce().W)({query:I??"",limit:R??20,type:x().Vz.BlocksInCollection,collectionId:(null==f?void 0:f.targetCollectionStore.id)??"",source:"relation_menu",filters:{includePublicPagesWithoutExplicitAccess:"form_viewer"===g},options:{disable:!D||!Boolean(null==f?void 0:f.targetCollectionStore.id),overrideSpaceStore:L?T:void 0}}),V="sprint"===t?Be:Ie,{searchResults:O,searchSessionFlowNumber:H,isSearchLoading:K}=function(e){const{forceDisable:t,getSearchResults:o}=e,{blockPointers:a,isDisabled:s}=(0,n.useContext)(U().t),l=(0,i().v3)(),d=(0,n.useContext)(Le),c=(0,n.useRef)(void 0),u=(0,J().Ks)(),p=(0,n.useRef)(0),{searchQuery:g,searchLimit:m}=(0,r().K8)((()=>({searchQuery:(null==d?void 0:d.relationPropertyMenuStore.state.searchQuery)??"",searchLimit:(null==d?void 0:d.relationPropertyMenuStore.state.searchLimit)??0})),[null==d?void 0:d.relationPropertyMenuStore]),[{status:h,value:f}]=(0,y().Yb)((async()=>{const e=c.current===g;if(c.current=g,s||t)return[];if(null==d||!d.propertySchema||null==d||!d.targetCollectionStore)return[];if(null!=d&&d.connectedRelationFlags.isConnectedRelation)return[];const n=(0,xe().Y_)({targetCollectionId:d.targetCollectionStore.id})??[];if(!u)return await o({environment:l,query:{query:g,limit:m},targetCollectionStore:d.targetCollectionStore,propertySchema:d.propertySchema,blockPointers:a,pageIdsToBoost:n});e||t||(p.current+=1);const i=u.relationResultsCacheStore.getState(),r=i.get(d.property)??{},h=r[g];if(!h||Date.now()-h.timestamp>Ee().A.resultsCacheTTL||h.results.length<m){const e=await o({environment:l,query:{query:g,limit:m},targetCollectionStore:null==d?void 0:d.targetCollectionStore,propertySchema:null==d?void 0:d.propertySchema,blockPointers:a,pageIdsToBoost:n}),t=e.slice(0,m);return i.set(d.property,{...r,[g]:{timestamp:Date.now(),results:t}}),u.relationResultsCacheStore.emit(),e}const y=De({results:n,targetCollectionStore:d.targetCollectionStore,blockPointers:a});return C().Mp(y.concat(h.results),((e,t)=>e.key===t.key))}),[s,t,null==d?void 0:d.propertySchema,null==d?void 0:d.targetCollectionStore,null==d?void 0:d.connectedRelationFlags.isConnectedRelation,null==d?void 0:d.property,u,o,l,g,m,a],{debounce:ge().tu}),b=(0,r().K8)((()=>"pending"===h&&!Boolean(t)),[h,t]);return{searchResults:f,searchSessionFlowNumber:p.current,isSearchLoading:b}}({getSearchResults:V,forceDisable:D}),G=(0,n.useRef)(A.length);(0,n.useEffect)((()=>{G.current=A.length}),[A]);const q=(0,n.useRef)(0);q.current=H+W;const Z=(0,n.useRef)(N);(0,n.useEffect)((()=>{Z.current=N,q.current=W}),[b,N,W]),(0,n.useEffect)((()=>(k().u4({environment:b,event:{eventName:"collections_relation_property_menu_open",eventProperties:{search_session_id:Z.current,using_secondary_search_surfaces_hook:B,collection_id:s,target_collection_id:null==f?void 0:f.targetCollectionStore.id,relation_values_count:G.current,from:h}}}),()=>{k().u4({environment:b,event:{eventName:"collections_relation_property_menu_close",eventProperties:{search_session_id:Z.current,search_session_flow_number:q.current,relation_values_count:G.current}}})})),[b,B,h,s,null==f?void 0:f.targetCollectionStore.id]);const $=(0,r().K8)((()=>E.map((e=>({type:Re().M7.SearchPage,store:e.store,key:e.id})))),[E]),Y=(0,r().K8)((()=>(0,se().w6)(b)),[b]),X=B&&I&&I.length>0&&"default"===t?$:O,te=(0,n.useRef)(!0),ne=(0,n.useRef)(void 0);(0,n.useEffect)((()=>{if(Boolean(null==I?void 0:I.length))return;const e=K;!e||ne.current?!e&&ne.current&&X&&(pe().default.measure(ne.current,{environment:b,data:{search_session_id:N,...te.current&&{search_session_flow_number:1}}}),te.current=!1,ne.current=void 0):ne.current=pe().default.mark("collection_relation_search_initial_results_loaded")}),[X,b,N,null==I?void 0:I.length,K]);const ie=null==f?void 0:f.connectedRelationFlags.isConnectedRelation,re=!(((0,ee().NN)(g)&&Y||ie)??!1)&&"default"===t,[ae,de]=n.useState(null),me=(0,J().Ks)(),he=(0,n.useMemo)((()=>{if(!ae)return null;const{blockWithExistingRelationTitle:e,currentBlockTitle:t,canAccessBlockWithExistingRelation:o}=ae;return(0,Q.jsx)(Wo,{onConfirm:()=>{m(ae.update),h&&w(b,{from:h,...(0,oe().sl)(me),target_collection_id:null==f?void 0:f.targetCollectionStore.id}),1===(null==f?void 0:f.propertySchema.limit)&&(null==a||a.setState({isOpen:!1}))},onClosed:()=>{de(null)},currentBlockTitle:t,blockWithExistingRelationTitle:e,canAccessBlockWithExistingRelation:o})}),[h,a,ae,me,b,null==f?void 0:f.propertySchema.limit,null==f?void 0:f.targetCollectionStore.id,m]);if(!(f&&j&&c&&o&&a))return null;const fe={searchSessionId:N,shouldShowShimmers:B&&(F||K),onScrollSearchHookFn:z,searchSessionFlowNumber:q.current},ve=(0,Q.jsx)($o,{blockStore:o,searchResults:X,isDefaultSearchLoading:K,searchHookData:{...fe,...(b.device.isMobile||ie)&&{shouldShowShimmers:!1}},showChangeConfirmationDialog:de});if(_.isMobile){const e=(0,Q.jsx)(Ho,{blockStore:o,children:ve});return(0,ee().NN)(g)||P?e:(0,Q.jsxs)(Go,{showChangeConfirmationDialog:de,children:[e,he]})}let Se;switch(t){case"sharing":Se=we(M,{propertyName:f.propertySchema.name});break;case"sprint":Se=function(e){return e.formatMessage(Me.inputPlaceholder)}(M);break;default:Se=ke({intl:M,connectedRelationFlags:f.connectedRelationFlags,overlayMode:l,disabled:d,format:g})}return(0,Q.jsxs)(qo,{header:(0,Q.jsx)(We,{inputPlaceholder:Se,showTargetDatabase:re,addPage:()=>Qo({environment:b,menuStore:j,blockPropertyValueOverlayStore:a,blockStore:o,schema:c,property:u,targetCollectionStore:f.targetCollectionStore})}),footer:(0,Q.jsx)(Zo,{hasSearchResults:Boolean(null==X?void 0:X.length)}),children:[ve,he]})}function Ho(e){const{blockStore:t,children:o}=e,i=(0,ue().X)("db_ux_mobile"),{format:r,onDismiss:a}=(0,n.useContext)(U().t),s=(0,n.useContext)(Le);return(0,Q.jsx)(V().A,{menuType:re().gu.Modal,title:(0,Q.jsx)(S().sA,{defaultMessage:"Relation",id:"relationPropertyMenu.mobileRelationMenu.title"}),left:(0,Q.jsx)($().A,{href:(0,se().xS)("guides.relations"),analyticsFrom:"relation_menu"}),header:(0,Q.jsx)(Ko,{blockStore:t}),...!i&&{right:(0,Q.jsx)(H().DoneMenuText,{}),onClickRight:()=>(0,ee().NN)(r)?a():null==s?void 0:s.relationPropertyMenuStore.reset()},children:o})}function Ko(e){const{blockStore:t}=e,o=(0,S().tz)(),s=(0,i().v3)(),l=(0,i().Y0)(),d=(0,n.useContext)(Le),c=(0,de().D)(),u=(0,re().Tf)(),{overlayMode:p,isDisabled:g,format:m,onChange:h,blockPointers:y,insertChar:f}=(0,n.useContext)(U().t),b=(0,r().K8)((()=>(null==d?void 0:d.relationPropertyMenuStore.state.searchQuery)??f??""),[null==d?void 0:d.relationPropertyMenuStore,f]),v=(0,a().IS)((e=>({inputMenu:{...l.isAndroid&&{borderBottom:"none"}}})),[l.isAndroid]),x=(0,J().Ks)();if(!d)return null;const{relationPropertyMenuStore:C,targetCollectionStore:_,connectedRelationFlags:M,propertySchema:k}=d;let w;return w=c?we(o,{propertyName:k.name}):ke({connectedRelationFlags:M,overlayMode:p,disabled:g,format:m,intl:o}),(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(Z().A,{disableMobilePadding:!u,children:(0,Q.jsx)(W().Ay,{value:b,disabled:g,onChange:e=>{const t=e.target.value;C.setState({...C.state,searchQuery:t,searchLimit:Ee().A.limitIncrement})},placeholder:w,showClearButton:!0,focusInitial:!0,style:v.inputMenu})}),b&&!g&&!M.isConnectedRelation&&(0,Q.jsx)(Z().A,{children:(0,Q.jsx)(X,{targetCollectionStore:_,title:b,parentBlockStore:t,onClick:e=>Xo({environment:s,collectionContextStore:x,relationPropertyMenuStore:C,blockPointers:y,onChange:h,index:e,propertySchema:k,targetCollectionStore:_}),focused:!1,isSection:!0})})]})}function Go(e){const{children:t,showChangeConfirmationDialog:o}=e,{collectionStore:s,property:l,schema:d,blockStore:c,blockPropertyValueOverlayStore:u,isDisabled:p,canConfigureCollection:g,blockPointers:h,analyticsFrom:y,overlayMode:b,onChange:v,onDismiss:x,format:C}=(0,n.useContext)(U().t),_=(0,n.useContext)(Le),M=(0,i().v3)(),k=(0,J().Ks)(),w=Yo(),j=(0,a().IS)((e=>({input:{color:e.text.secondary},menuTitle:{display:"flex"},databaseIcon:{display:"flex",marginLeft:2*Re().g1},databaseTitle:{marginLeft:Re().g1},addPageButton:{display:"flex",alignItems:"center"},plusIcon:{marginRight:8,width:16,height:16}})),[]),A=(0,r().K8)((()=>null==_?void 0:_.targetCollectionStore.getIcon()),[null==_?void 0:_.targetCollectionStore]),R=(0,r().K8)((()=>{const e=Boolean(fe().A.bots.state.find((e=>e.integration_id===m().ob))),t=Boolean(fe().A.bots.state.find((e=>e.integration_id===m().Hd))),o=Boolean(fe().A.bots.state.find((e=>e.integration_id===m().e1)));return(null==_?void 0:_.connectedRelationFlags.isGithubPrRelation)&&!e||(null==_?void 0:_.connectedRelationFlags.isGoogleDriveRelation)&&!t||(null==_?void 0:_.connectedRelationFlags.isFigmaRelation)&&!o}),[null==_?void 0:_.connectedRelationFlags.isGithubPrRelation,null==_?void 0:_.connectedRelationFlags.isGoogleDriveRelation,null==_?void 0:_.connectedRelationFlags.isFigmaRelation]),I=(0,r().K8)((()=>Boolean(null==_?void 0:_.relationPropertyMenuStore.state.addingPage)),[null==_?void 0:_.relationPropertyMenuStore]),B=(0,r().K8)((()=>Boolean(null==_?void 0:_.relationPropertyMenuStore.state.searchPopupOpen)),[null==_?void 0:_.relationPropertyMenuStore]),D=(0,de().D)(d[l]);if(!(s&&c&&u&&_))return null;const{relationPropertyMenuStore:T,propertySchema:E,targetCollectionStore:F,targetParentUrl:N,connectedRelationFlags:{isConnectedRelation:W}}=_,O=(0,Q.jsx)("div",{style:j.menuTitle,children:(0,Q.jsx)(S().sA,{id:"database.relationProperty.newRelation.targetDatabase",defaultMessage:"<regular>In</regular> {databaseWithIcon}",values:{regular:e=>e,databaseWithIcon:(0,Q.jsxs)("div",{style:j.databaseIcon,children:[(0,Q.jsx)(G().B,{disabled:!0,icon:A,isEmptyPage:!1,size:Re().$w}),(0,Q.jsx)(q().A,{store:F,underline:!0,style:j.databaseTitle,maxLength:25})]})}})});return(0,Q.jsxs)(V().A,{menuType:re().gu.Modal,title:E.name,right:(0,Q.jsx)(S().sA,{defaultMessage:"Done",id:"relationPropertyMenu.mobileMenuDone.button"}),onClickRight:x,children:[!W&&(0,Q.jsx)(Z().A,{disableMobilePadding:!0,children:(0,Q.jsx)(z().A,{focused:!1,title:O,showExtensionArrow:!1,onClick:()=>function(e){const{environment:t,targetParentUrl:o,analyticsFrom:n}=e;L().oo({environment:t,url:o}),n&&P(t,{from:n})}({environment:M,targetParentUrl:N,analyticsFrom:y})})}),!R&&(0,Q.jsx)(Z().A,{topBorder:!0,disableMobilePadding:!1,children:(0,Q.jsx)(K().Ay,{popupType:K().nl.SlideUp,open:B,origin:(0,Q.jsx)(z().A,{focused:!1,title:(0,Q.jsxs)("span",{style:j.addPageButton,children:[(0,f().W)(j.plusIcon),D?(0,Q.jsx)(S().sA,{defaultMessage:"Select {name}",id:"relationPropertyMenu.add.button",values:{name:E.name}}):(0,Q.jsx)(S().sA,{defaultMessage:"Add a page",id:"relationPropertyMenu.addAPage.button"})]}),onClick:()=>{var e;(e=T).setState({...e.state,searchPopupOpen:!0,searchLimit:Ee().A.limitIncrement})},style:j.input}),render:()=>t,trapFocus:!1})}),(0,Q.jsx)(vo,{collectionStore:s,collectionId:s.id,targetCollectionStore:F,results:w,resultsType:"existing",property:l,schema:d,propertySchema:E,parentStore:c,disabled:p,canConfigureCollection:g,loading:!1,canDrag:!1,blockPropertyValueOverlayStore:u,onAccept:(e,t)=>function(e){const{environment:t,analyticsFrom:o,result:n,openInNew:i}=e;n.type===Re().M7.SelectedPage&&en({environment:t,analyticsFrom:o,result:n,openInNew:i})}({environment:M,analyticsFrom:y,result:e,openInNew:t}),onClickActionButton:e=>Jo({environment:M,collectionContextStore:k,blockPropertyValueOverlayStore:u,result:e,blockPointers:h,onChange:v,analyticsFrom:y,overlayMode:b,propertySchema:E,targetCollectionStore:F,showChangeConfirmationDialog:o}),onCreatePage:e=>Xo({environment:M,collectionContextStore:k,relationPropertyMenuStore:T,blockPointers:h,onChange:v,index:e,propertySchema:E,targetCollectionStore:F}),handleClearProperty:()=>v({newValues:[],oldValues:h}),relationPropertyMenuStore:T,addPage:(e,t)=>Qo({environment:M,menuStore:T,blockPropertyValueOverlayStore:u,blockStore:c,schema:d,property:l,targetCollectionStore:F,uri:e,overrideBotId:t}),addingPage:I,format:C})]})}function qo(e){const{children:t,header:o,footer:i}=e,s=(0,n.useContext)(Le),l=(0,r().K8)((()=>{var e;const t=Boolean(fe().A.bots.state.find((e=>e.integration_id===m().ob))),o=(null==s?void 0:s.connectedRelationFlags.isGoogleDriveRelation)||(null==s?void 0:s.connectedRelationFlags.isFigmaRelation)||(null==s?void 0:s.connectedRelationFlags.isZendeskRelation)||(null==s?void 0:s.connectedRelationFlags.isSalesforceRelation)||(null==s?void 0:s.connectedRelationFlags.isSlackRelation),n=null===(e=he().default.state.currentSpaceStore)||void 0===e?void 0:e.canEdit();return(null==s?void 0:s.connectedRelationFlags.isGithubPrRelation)&&!t||o&&!n}),[null==s?void 0:s.connectedRelationFlags.isGithubPrRelation,null==s?void 0:s.connectedRelationFlags.isGoogleDriveRelation,null==s?void 0:s.connectedRelationFlags.isFigmaRelation,null==s?void 0:s.connectedRelationFlags.isZendeskRelation,null==s?void 0:s.connectedRelationFlags.isSalesforceRelation,null==s?void 0:s.connectedRelationFlags.isSlackRelation]),d=(0,a().IS)((e=>({menuContent:{overflow:"hidden",maxHeight:"70vh"}})),[]);return(0,Q.jsx)(V().A,{menuType:re().gu.Popup,header:!l&&o,footer:i,children:(0,Q.jsx)("div",{style:d.menuContent,children:t})})}function Zo(e){const{hasSearchResults:t}=e,o=(0,n.useContext)(Le),{blockPointers:a,onChange:s,overlayMode:l,isDisabled:d,insertChar:c,blockStore:u}=(0,n.useContext)(U().t),p=(0,i().v3)(),g=(0,J().Ks)(),m=(0,r().K8)((()=>(null==o?void 0:o.relationPropertyMenuStore.state.searchQuery)??c??""),[null==o?void 0:o.relationPropertyMenuStore,c]),h=Boolean(null==m?void 0:m.trim());if(!o)return null;const{relationPropertyMenuStore:y,propertySchema:f,targetCollectionStore:b}=o;return f.connectedRelation?null:!d&&b&&u&&h&&t?(0,Q.jsx)(X,{targetCollectionStore:b,title:m,parentBlockStore:u,onClick:e=>Xo({environment:p,collectionContextStore:g,relationPropertyMenuStore:y,blockPointers:a,onChange:s,index:e,propertySchema:f,targetCollectionStore:b}),focused:!1,isSection:!0,index:"add"===(null==l?void 0:l.type)?null==l?void 0:l.index:void 0}):null}function $o(e){const{blockStore:t,searchResults:o,isDefaultSearchLoading:a,searchHookData:{shouldShowShimmers:s,onScrollSearchHookFn:l,searchSessionId:d,searchSessionFlowNumber:c},showChangeConfirmationDialog:u}=e,{blockPointers:g,collectionStore:m,collectionId:y,property:f,schema:v,blockPropertyValueOverlayStore:x,isDisabled:S,canConfigureCollection:C,analyticsFrom:_,overlayMode:M,onChange:P,format:j,insertChar:R}=(0,n.useContext)(U().t),I=(0,n.useContext)(Le),B=(0,i().v3)(),L=(0,J().Ks)(),T=Yo(),{searchQuery:E,addingPage:F}=(0,r().K8)((()=>(null==I?void 0:I.relationPropertyMenuStore.state)??{searchQuery:R??"",addingPage:!1}),[null==I?void 0:I.relationPropertyMenuStore,R]),z=(0,r().K8)((()=>E?T.filter((e=>{const t=e.store,o=t.getModel();if(o)return(0,p().Pt)({block:o,query:E,getRecordModel:t.getRecordModel,userTimeZone:(0,h().P)(),schema:v,intl:ie().A.getIntl(),onlyPropertyIds:["title"]})})):T),[v,E,T]),N=(0,r().K8)((()=>!o&&0===z.length||s),[z.length,s,o]),W=(0,r().K8)((()=>t.getSpaceId()),[t]),V=n.useRef(void 0);n.useEffect((()=>{N&&""!==E&&(V.current=pe().default.mark("rum.relation_search_query"))}),[N,E]),n.useEffect((()=>{!N&&""!==E&&V.current&&(pe().default.measure(V.current,{environment:B,data:{search_session_id:d}}),V.current=void 0)}),[N,B,d,E]);const O=(0,n.useRef)(0);if(!x||!I)return null;const{relationPropertyMenuStore:H,propertySchema:K,targetCollectionStore:G}=I,q=[...z];o&&o.forEach((e=>{if((e.type===Re().M7.SelectedPage||e.type===Re().M7.SearchPage)&&z.find((t=>(t.type===Re().M7.SelectedPage||t.type===Re().M7.SearchPage)&&t.store.id===e.store.id)))return;const t=K.limit?g.slice(0,1):g,o=e.type!==Re().M7.NewPage?t.map((e=>e.id)).includes(e.store.id):void 0;o&&!E&&"add"===(null==M?void 0:M.type)||(e.type===Re().M7.SearchPage&&o?q.push({...e,type:Re().M7.SelectedPage}):e.type!==Re().M7.SelectedPage||o?q.push(e):q.push({...e,type:Re().M7.SearchPage}))}));const Z=q.filter((e=>e.type===Re().M7.SearchPage)),$=e=>{if(e.type===Re().M7.SearchPage){const t=Z.indexOf(e);if(-1===t)return;const o=1/(t+1);O.current+=1;const n={index:t,session_added_order:O.current,search_session_id:d,query_length:E.length,reciprocal_rank:o,search_session_flow_number:c};k().u4({environment:B,event:{eventName:"collections_relation_search_item_click",eventProperties:n}}),ye().default.logEvent("collections_relation_search_mrr",o,n)}};return(0,Q.jsx)(vo,{collectionStore:m,collectionId:y,targetCollectionStore:G,results:q,resultsType:0===q.length&&0===T.length?"existing":"search",property:f,schema:v,propertySchema:K,parentStore:t,disabled:S,canConfigureCollection:C,loading:N,canDrag:!S&&0===E.length&&!(0,ee().NN)(j),disableClickToNavigateToPage:(0,ee().NN)(j),blockPropertyValueOverlayStore:x,onAccept:(e,t)=>{!function(e){const{environment:t,collectionId:o,collectionContextStore:n,blockPointers:i,result:r,analyticsFrom:a,isDisabled:s,onChange:l,overlayMode:d,openInNew:c,propertySchema:u,targetCollectionStore:p,blockPropertyValueOverlayStore:g,showChangeConfirmationDialog:m}=e;if(s)return;if(!p||!u)return;const{mainEditorCurrentBlockStore:h}=he().default.state;if(!h)return;if(r.type===Re().M7.SearchPage){const e=r.store,s={newValues:u.limit?[r.store.pointer]:"add"===(null==d?void 0:d.type)?[...i.slice(0,d.index),e.pointer,...i.slice(d.index)]:[...i,e.pointer],oldValues:i};D().N({environment:t,store:g,update:s,collectionStore:null==n?void 0:n.collectionStore(),propertySchema:u}).then((e=>{var i,r;e?m(e):(l(s),a&&w(t,{from:a,collection_id:o,collection_view_id:null==n||null===(i=n.collectionViewStore())||void 0===i?void 0:i.id,collection_view_block_id:null==n||null===(r=n.collectionViewBlockStore())||void 0===r?void 0:r.id,target_collection_id:null==p?void 0:p.id}))})).catch((e=>{console.error(e)}))}else r.type===Re().M7.SelectedPage&&en({environment:t,analyticsFrom:a,result:r,openInNew:c})}({environment:B,collectionId:y,collectionContextStore:L,blockPointers:g,result:e,analyticsFrom:_,isDisabled:S,onChange:P,overlayMode:M,openInNew:t,propertySchema:K,targetCollectionStore:G,showChangeConfirmationDialog:u,blockPropertyValueOverlayStore:x}),e.type===Re().M7.SearchPage&&(0,xe().EE)({type:"rank_by_recently_selected",targetCollectionId:G.id,pageId:e.store.id}),$(e)},onClickActionButton:e=>{Jo({environment:B,collectionContextStore:L,blockPropertyValueOverlayStore:x,result:e,blockPointers:g,onChange:P,analyticsFrom:_,overlayMode:M,propertySchema:K,targetCollectionStore:G,showChangeConfirmationDialog:u}),e.type===Re().M7.SearchPage&&(0,xe().EE)({type:"rank_by_recently_selected",targetCollectionId:G.id,pageId:e.store.id}),$(e)},onScrollOffsetChange:e=>function(e){const{offsetFromBottom:t,store:o,isLoading:n,searchResults:i,onScrollSearchHookFn:r}=e,a=o.state.searchLimit+Ee().A.limitIncrement;if(t<Ee().A.incrementScrollOffset&&!n&&((null==i?void 0:i.length)??0)>=o.state.searchLimit){if(r)return void r(Ee().A.limitIncrement);o.setState({...o.state,searchLimit:a})}}({offsetFromBottom:e,store:H,isLoading:a,searchResults:o,onScrollSearchHookFn:l}),onDrag:e=>function(e){const{newPageIds:t,blockPointers:o,spaceId:n,onChange:i,analyticsFrom:r,environment:a}=e;i({newValues:t.map((e=>({id:e,spaceId:n,table:b().ev}))),oldValues:o}),r&&(0,A().F)(a,{from:r})}({environment:B,newPageIds:e,blockPointers:g,spaceId:W,onChange:P,analyticsFrom:_}),onCreatePage:e=>Xo({environment:B,collectionContextStore:L,relationPropertyMenuStore:H,blockPointers:g,onChange:P,index:e,propertySchema:K,targetCollectionStore:G}),handleClearProperty:()=>P({newValues:[],oldValues:g}),searchQuery:E,overlayMode:M,relationPropertyMenuStore:H,addPage:(e,o)=>Qo({environment:B,menuStore:H,blockPropertyValueOverlayStore:x,blockStore:t,schema:v,property:f,uri:e,targetCollectionStore:G,overrideBotId:o}),addingPage:F,format:j})}function Yo(){const e=(0,n.useContext)(Le),{blockStore:t,blockPointers:o,overlayMode:i}=(0,n.useContext)(U().t),a=(0,r().K8)((()=>(null==e?void 0:e.relationPropertyMenuStore.state.searchQuery)??""),[null==e?void 0:e.relationPropertyMenuStore]);return(0,r().K8)((()=>t&&null!=e&&e.propertySchema&&null!=e&&e.targetCollectionStore&&(a||"add"!==(null==i?void 0:i.type))?u().bG({relationValue:o,propertySchema:null==e?void 0:e.propertySchema,getRecordModel:t.getRecordModel,includeNoAccess:!0}).map((e=>{const o=be().Bv.createChildStore(t,e);return{key:e.id,type:Re().M7.SelectedPage,store:o}})):[]),[t,o,i,a,null==e?void 0:e.propertySchema,null==e?void 0:e.targetCollectionStore])}async function Qo(e){const{environment:t,menuStore:o,blockPropertyValueOverlayStore:n,blockStore:i,schema:r,property:a,uri:s,overrideBotId:l,targetCollectionStore:d}=e;if(!d)return;const c=await I().R.clipboardActions.load(),p=d.getFormat().integration_id,g=fe().A.externalAuthentications.state.filter((e=>e.integration_id===p))[0],h=d.getFormat().pattern_name,y=fe().A.integrations.state.find((e=>e.id===p)),f=i instanceof be().Bv?i:void 0,v=i instanceof be().Bv?i.getPropertyStore(a):void 0;o.setState({...o.state,addingPage:!0});try{var x;if(!y||!f||!v)return;const e=u().n(v.getValue()),i=s||o.state.searchQuery||"";if(!(0,ae().WK)({integration:y,patternName:h,url:i}))return void B().ui({items:[{label:(0,Q.jsx)(S().sA,{id:"connectedRelationPropertyMenuResults.unsupportedUrlErrorDialog.copyDebuggingInformation",defaultMessage:"Copy debugging information"}),color:"blue",onAccept:()=>{c.copyString({environment:t,stringValue:JSON.stringify({botId:null==g?void 0:g.parent_id,url:i},null,2),copiedMessage:c.clipboardMessages.copiedToClipboard})}},{label:(0,Q.jsx)(S().sA,{id:"connectedRelationPropertyMenuResults.unsupportedUrlErrorDialog.closeButton",defaultMessage:"Close"}),onAccept:()=>{}}],showCancel:!1,keepFocus:!1,message:(0,Q.jsx)(S().sA,{id:"connectedRelationPropertyMenuResults.unsupportedUrlErrorDialog.title",defaultMessage:"This source is currently not supported. Please try a different source."})});const p=r[a],C=u().di(p),w=C?v.id:void 0,P=u().H6(p),j=u().KF(p),A=u().up(p),I=u().sP(p),D=u().V5(p),L=u().uv(p),U=I&&ye().default.checkGate({gateName:"cron_connected_relation"}),z=A&&ye().default.checkGate({gateName:"zendesk_ai_enabled"}),N=D&&ye().default.checkGate({gateName:"salesforce_connected_relation"}),W=L&&ye().default.checkGate({gateName:"slack_connected_relation"}),V=(0,te().jw)(y.id),O=(null==y?void 0:y.id)===m().ob?null===(x=V[0])||void 0===x?void 0:x.id:null==g?void 0:g.parent_id;let H=C||P||A||U||j||N||W?V.map((e=>e.id)):[O];P&&l&&(H=[l]);const K=await F().pP({environment:t,url:i,botIds:H,userDefinedExternalCollectionStore:d,relatedPageId:w});if(!K)return;const G=K.getSpaceId(),q=await(0,ve().Se)(t,{name:"ai_usage",spaceId:G,userId:t.currentUser.id,amount:"unknown"});z&&q&&(R().callApi({eventName:"getZendeskTicketConversation",environment:t,data:{ticketUrl:i,spaceId:G,botId:H[0],pageId:v.id}}),k().vd(t,"zendesk_unfurl_ai")),E().createAndCommit({userAction:"connectedRelationPropertyMenuResults.createRelationPage",environment:t,canUndo:!0,perform:o=>{const i={id:K.id,table:b().ev,spaceId:K.getSpaceId()},r=null!=p&&p.limit?[i]:[...e,i],s=u().Ap(r);T().R9({environment:t,store:v,value:s,transaction:o}),n&&n.state.isOpen&&n.state.collectionContextStore&&((0,_().E)({environment:t,collectionContextStore:n.state.collectionContextStore,block_id:f.id,property:a,property_type:"relation",from:"relation_section",isFromBulkActionsToolbar:!1,integration_id:y.id,action:"add",value_count:r.length}),M().v(t,{...(0,oe().sl)(n.state.collectionContextStore),from:"relation_menu",type:"page",integration_id:y.id,creating_block_id:f.id}))}}),o.reset()}finally{o.setState({...o.state,addingPage:!1})}}function Xo(e){const{environment:t,collectionContextStore:o,relationPropertyMenuStore:n,blockPointers:i,onChange:r,index:a,propertySchema:s,targetCollectionStore:l}=e,d=null==l?void 0:l.getSpaceId(),c=null==s?void 0:s.limit,u=(0,ne().zP)({environment:t,table:b().ev,spaceId:d}),p=u.id,g=c?[u]:a?[...i.slice(0,a),u,...i.slice(a)]:[...i,u];r({newPage:{id:p,spaceId:d,name:n.state.searchQuery},newValues:g,oldValues:i}),M().v(t,{...(0,oe().sl)(o),from:"relation_menu",type:"page",target_collection_id:null==l?void 0:l.id,new_page_id:p,creating_block_id:p})}function Jo(e){var t;const{environment:o,collectionContextStore:n,blockPropertyValueOverlayStore:i,result:r,blockPointers:a,onChange:s,analyticsFrom:l,overlayMode:c,propertySchema:u,targetCollectionStore:p,showChangeConfirmationDialog:g}=e,{mainEditorCurrentBlockStore:m}=he().default.state;if(!m||!i.state.isOpen)return;const h=e=>{s(e),l&&w(o,{from:l,...(0,oe().sl)(n),target_collection_id:null==p?void 0:p.id}),b&&(null==i||i.setState({isOpen:!1}))},y=null==u?void 0:u.limit,f=(0,ee().NN)(i.state.format),b=f?(0,d().hm)(u,null===(t=i.state.formQuestionStore)||void 0===t?void 0:t.getModel()):y;if(r.type===Re().M7.SearchPage){let e;if(1===b)e={newValues:[r.store.pointer],oldValues:a};else if(void 0===b||b&&a.length+1<=b){const t="add"===(null==c?void 0:c.type)?[...a.slice(0,c.index),r.store.pointer,...a.slice(c.index)]:[...a,r.store.pointer];e={newValues:t,oldValues:a}}e&&(f?h(e):D().N({environment:o,store:i,update:e,collectionStore:null==n?void 0:n.collectionStore(),propertySchema:u}).then((t=>{t?g(t):h(e)})).catch((e=>{console.error(e)})))}else if(r.type===Re().M7.SelectedPage){const e=a.filter((e=>e.id!==r.store.id));h({newValues:e,oldValues:a})}}function en(e){const{environment:t,result:o,openInNew:n,analyticsFrom:i}=e,{mainEditorCurrentBlockStore:r}=he().default.state;if(!r)return;let a;const l=o.store;if(n){const e=l.isDefined()?me().E2(t,l):void 0;a=(0,g().A)({pageId:l.id,pageModel:l.getModel(),baseUrl:e,pageVisitSource:s().y8.LinkInPage})}else{const e=r.isDefined()?me().E2(t,r):void 0;a=(0,g().A)({pageId:r.id,pageModel:r.getModel(),baseUrl:e,peekViewBlockId:l.id,pageVisitSource:s().y8.LinkInPage})}L().oo({environment:t,url:a,openInNew:n}),i&&(0,j()._)(t,{from:i,meta_click:Boolean(n)})}},189919:(e,t,o)=>{o.d(t,{A:()=>c});o(242343);var n=()=>o(237385),i=()=>o(174114),r=()=>o(83544),a=()=>o(653998),s=()=>o(31448),l=()=>o(279150),d=o(163643);function c(e){const t=(0,a().tz)(),o=function(e){const{isMobile:t}=(0,n().Y0)(),o=t?18:14,r=1,a=6,l=20;return(0,i().IS)((t=>({githubContainer:{display:"flex",alignSelf:"center",flexDirection:"column",width:e||"90%",padding:l,border:`${r}px solid ${t.tableDividerColor}`,borderRadius:a,borderBottomRightRadius:6,cursor:"default"},githubPrTitleRow:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:`calc(100% + ${l}px)`,overflow:"hidden"},githubPrTitle:{display:"inline-flex",fontSize:o,fontWeight:500,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",background:t.whiteButtonBackground,padding:"2px 4px",borderTopLeftRadius:5,borderBottomLeftRadius:5,borderLeft:`2px solid ${t.blueColor}`,borderTop:`2px solid ${t.blueColor}`,borderBottom:`2px solid ${t.blueColor}`,width:"100%"},githubTask:{background:"light"===t.mode?t.accentColors.blue[50]:t.accentColors.blue[400]},githubPrInfoRow:{display:"inline-flex"},githubPrInfoPill:{display:"flex",flexDirection:"row",alignItems:"center",width:"fit-content",padding:"4px 10px",borderRadius:"2em",background:"#238636",flexShrink:0,...s().RC},githubPrInfoOpenText:{color:"white",fontSize:o-2,fontWeight:500},githubPrInfoMergeInto:{display:"inline-flex",alignItems:"center",fontSize:o-2,color:t.text.tertiary,...s().RC},githubPrInfoMain:{padding:"0px 4px",fontFamily:s().Tf.githubMono,background:t.cardPressedBackground,borderRadius:a,color:t.text.primary,verticalAlign:"text-bottom",...s().RC}})),[o,e])}(e.width),c=(0,d.jsx)("div",{id:"github-preview-github-pr-title-row",style:o.githubPrTitleRow,children:(0,d.jsxs)("div",{id:"github-preview-github-pr-title-wrapper",style:o.githubPrTitle,children:[(0,d.jsx)(l().A,{size:2}),"[",(0,d.jsxs)("div",{id:"github-preview-github-pr-task",style:o.githubTask,children:[e.uniqueIdPrefix||t.formatMessage(u.idPrefix),e.uniqueIdValue?`-${e.uniqueIdValue}`:"-1"]}),"]",(0,d.jsx)(l().A,{size:2}),t.formatMessage(u.prTitle)]})}),p=(0,d.jsxs)("div",{id:"github-preview-github-pr-info-row",style:o.githubPrInfoRow,children:[(0,d.jsxs)("div",{id:"github-preview-github-open-pr-pill",style:o.githubPrInfoPill,children:[(0,d.jsx)("img",{src:r().A.images.externalIntegrations.githubPullOpenIconWhitePng,style:{width:16,height:16}}),(0,d.jsx)(l().A,{size:2}),(0,d.jsx)("div",{style:o.githubPrInfoOpenText,children:t.formatMessage(u.open)})]}),(0,d.jsx)(l().A,{size:8}),(0,d.jsx)("div",{id:"github-preview-github-merge-into-main",style:o.githubPrInfoMergeInto,children:(0,d.jsxs)("span",{style:o.githubPrInfoMergeInto,children:[t.formatMessage(u.mergeInto),(0,d.jsx)(l().A,{size:4}),(0,d.jsx)("span",{style:o.githubPrInfoMain,children:t.formatMessage(u.main)})]})})]});return(0,d.jsxs)("div",{id:"github-preview-github-container",style:o.githubContainer,children:[c,(0,d.jsx)(l().A,{size:12}),p]})}const u=(0,a().YK)({idPrefix:{defaultMessage:"TASK",id:"database.viewSettings.githubConfigTab.preview.idPrefix"},prTitle:{defaultMessage:"GitHub PR Title",id:"database.viewSettings.githubConfigTab.preview.prTitle"},open:{defaultMessage:"Open",id:"database.viewSettings.githubConfigTab.preview.open"},mergeInto:{defaultMessage:"Merge into",id:"database.viewSettings.githubConfigTab.preview.mergeInto"},main:{defaultMessage:"main",id:"database.viewSettings.githubConfigTab.preview.main"}})},201147:(e,t,o)=>{o.d(t,{Fe:()=>r,wm:()=>a});const n={property_number:!0,property_title:!0,property_person:!0,property_file:!0,property_text:!0,property_checkbox:!0,property_url:!0,property_email:!0,property_phone_number:!0,property_created_by:!0,property_last_edited_by:!0,property_button:!0,property_select:!0,property_multi_select:!0,property_status:!0,property_date:!0,property_created_time:!0,property_last_edited_time:!0,property_last_visited_time:!0,property_relation:!0,property_rollup:!0,property_formula:!0,property_auto_increment_id:!0,property_location:!0,property_verification:!0,property_geo_point:!0,deleted_property:!1,relationsGroup:!0,formSubmit:!0,formQuestion:!0,formTitle:!0,placeholder:!0,transcript:!0,cover:!1,normalizedTitleWithIcon:!1,properties:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,views:!0,viewsMain:!1,recentActivity:!1,collaborators:!1,teamspaces:!1},i={property_number:!0,property_title:!0,property_person:!0,property_file:!0,property_text:!0,property_checkbox:!0,property_url:!0,property_email:!0,property_phone_number:!0,property_created_by:!0,property_last_edited_by:!0,property_button:!0,property_select:!0,property_multi_select:!0,property_status:!0,property_date:!0,property_created_time:!0,property_last_edited_time:!0,property_last_visited_time:!0,property_relation:!0,property_rollup:!0,property_formula:!0,property_auto_increment_id:!0,property_location:!0,property_verification:!0,property_geo_point:!0,deleted_property:!1,formSubmit:!1,formQuestion:!1,formTitle:!1,placeholder:!1,transcript:!1,cover:!1,normalizedTitleWithIcon:!1,properties:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,relationsGroup:!0,editor:!1,views:!1,viewsMain:!1,recentActivity:!1,collaborators:!1,teamspaces:!1};function r(e){return n[e.type]}function a(e){return i[e.type]}},204507:(e,t,o)=>{o.d(t,{L:()=>i});class n extends(()=>o(129044))().default{getInitialState(){return{open:!1,type:void 0}}}const i=new n},226518:(e,t,o)=>{o.d(t,{J:()=>l});var n=()=>o(237385),i=()=>o(803290),r=()=>o(485966),a=()=>o(133926),s=()=>o(785061);function l(){const e=(0,i().O$)(r().AppStoreCurrentSpaceStore),t=(0,n().v3)(),o=(0,i().K8)((()=>{var e;return null===(e=t.currentUser)||void 0===e?void 0:e.id}),[t]),l=(0,i().K8)((()=>t.device.isMobile),[t]),d=(0,a().P9)({name:"slack_imports_invite",spaceId:null==e?void 0:e.id,userId:o}),c=(0,a().P9)({name:"google_imports_invite",spaceId:null==e?void 0:e.id,userId:o}),u=(0,i().K8)((()=>(null==e?void 0:e.canEditMembership())??!1),[e]);return(0,s().vC)({canEditPermission:u,isMobile:l,hasAccessToFeature:(d||c)??!1})}},262448:(e,t,o)=>{o.d(t,{A:()=>a});var n=o(242343),i=o(163643);function r(e){const{pageName:t,targetCollectionStore:n,...r}=e,a=(0,o(237385).Y0)(),s=(0,o(803290).K8)((()=>n.getIcon()),[n]),l=(0,o(174114).IS)((e=>({medium:{color:e.text.secondary},dbName:{display:"flex",alignItems:"center",marginLeft:4},title:{marginLeft:o(124176).g1*(a.isRetina?.5:1)},icon:{width:16,fill:e.mediumIconColor}})),[a.isRetina]),d=(0,i.jsxs)("div",{style:l.dbName,children:[(0,i.jsx)(o(28210).B,{disabled:!0,icon:s,isEmptyPage:!1,size:a.isMobile?24:20}),(0,i.jsx)(o(709237).A,{store:n,style:l.title})]});return(0,i.jsx)(o(535906).A,{title:(0,i.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,i.jsx)(o(653998).sA,{id:"database.searchRelation.createNewPageFooter",defaultMessage:"<medium>New</medium> {pageName} <medium> in</medium> {databaseNameWithIcon}",values:{medium:e=>(0,i.jsx)("span",{style:l.medium,children:e}),pageName:(0,i.jsx)("span",{style:{marginLeft:4,marginRight:4},children:t}),databaseNameWithIcon:d}})}),icon:(0,o(339189).W)(l.icon),...r})}const a=n.memo(r)},263873:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>n,plusSmallIcon:()=>i});o(242343);const n={viewBox:"0 0 16 16",svg:(0,o(163643).jsx)("path",{d:"M8 2.74a.66.66 0 0 1 .66.66v3.94h3.94a.66.66 0 0 1 0 1.32H8.66v3.94a.66.66 0 0 1-1.32 0V8.66H3.4a.66.66 0 0 1 0-1.32h3.94V3.4A.66.66 0 0 1 8 2.74"})},i=(0,o(680369).wt)("plusSmall",n)},265516:(e,t,o)=>{o.d(t,{Q:()=>n,a:()=>i});let n=function(e){return e[e.Left=0]="Left",e[e.Right=1]="Right",e}({});class i extends(()=>o(129044))().default{getInitialState(){return{dayStoreMap:new Map,isDragging:!1,startingMonth:0}}}},279150:(e,t,o)=>{o.d(t,{A:()=>i});o(242343);var n=o(163643);function i(e){const t={display:"inline-block",minWidth:e.size,minHeight:e.size};return"x"===e.axis?t.minHeight=1:"y"===e.axis&&(t.minWidth=1),(0,n.jsx)("div",{style:t})}},279968:(e,t,o)=>{o.d(t,{h:()=>i});o(242343);var n=o(163643);const i=(0,o(680369).wt)("globe2",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M8 15.126C11.8623 15.126 15.0615 11.9336 15.0615 8.06445C15.0615 4.20215 11.8623 1.00293 7.99316 1.00293C4.13086 1.00293 0.938477 4.20215 0.938477 8.06445C0.938477 11.9336 4.1377 15.126 8 15.126ZM3.88477 3.76465C4.56836 3.11523 5.39551 2.61621 6.31836 2.34277C5.83301 2.82812 5.42285 3.51172 5.11523 4.3457C4.63672 4.19531 4.22656 3.99707 3.88477 3.76465ZM9.68848 2.34961C10.6045 2.62305 11.4316 3.11523 12.1084 3.76465C11.7734 4.00391 11.3633 4.19531 10.8848 4.35254C10.5771 3.51172 10.167 2.82812 9.68848 2.34961ZM8.47852 2.56836C9.0459 2.8418 9.56543 3.58008 9.93457 4.58496C9.4834 4.66699 8.99805 4.71484 8.47852 4.73535V2.56836ZM6.06543 4.58496C6.44141 3.58008 6.9541 2.8418 7.52148 2.56836V4.73535C7.00195 4.71484 6.5166 4.66699 6.06543 4.58496ZM2.05273 7.58594C2.14844 6.42383 2.58594 5.35059 3.25586 4.46875C3.67285 4.77637 4.21289 5.04297 4.8418 5.24121C4.66406 5.95215 4.54785 6.74512 4.51367 7.58594H2.05273ZM11.4863 7.58594C11.4521 6.74512 11.3359 5.95215 11.1582 5.24121C11.7871 5.04297 12.3271 4.7832 12.7373 4.46875C13.4141 5.35059 13.8516 6.42383 13.9473 7.58594H11.4863ZM5.49121 7.58594C5.52539 6.84082 5.62793 6.12988 5.78516 5.4873C6.33203 5.59668 6.91309 5.66504 7.52148 5.69238V7.58594H5.49121ZM8.47852 7.58594V5.69238C9.08691 5.66504 9.66797 5.59668 10.2148 5.4873C10.3721 6.12988 10.4746 6.84082 10.5088 7.58594H8.47852ZM2.05273 8.54297H4.51367C4.54785 9.39746 4.66406 10.1973 4.8418 10.915C4.21973 11.1133 3.68652 11.373 3.27637 11.6807C2.59277 10.792 2.14844 9.71191 2.05273 8.54297ZM5.49121 8.54297H7.52148V10.4707C6.91992 10.498 6.33203 10.5664 5.79199 10.6689C5.62793 10.0195 5.51855 9.29492 5.49121 8.54297ZM8.47852 10.4707V8.54297H10.5088C10.4814 9.29492 10.3721 10.0195 10.208 10.6689C9.66797 10.5664 9.08691 10.498 8.47852 10.4707ZM11.1582 10.915C11.3428 10.1973 11.4521 9.39746 11.4863 8.54297H13.9473C13.8516 9.71191 13.4072 10.792 12.7236 11.6807C12.3135 11.373 11.7803 11.1133 11.1582 10.915ZM8.47852 11.4277C8.99121 11.4482 9.47656 11.4961 9.9209 11.5781C9.55176 12.5625 9.03906 13.2939 8.47852 13.5605V11.4277ZM6.0791 11.5781C6.52344 11.4961 7.00879 11.4482 7.52148 11.4277V13.5605C6.96094 13.2939 6.44824 12.5625 6.0791 11.5781ZM3.90527 12.3848C4.24023 12.1523 4.65039 11.9609 5.12207 11.8105C5.42969 12.6309 5.83301 13.3008 6.30469 13.7793C5.40234 13.5059 4.58203 13.0205 3.90527 12.3848ZM10.8779 11.8105C11.3496 11.9609 11.7598 12.1523 12.0947 12.3848C11.418 13.0205 10.5977 13.5059 9.69531 13.7793C10.167 13.3008 10.5703 12.6309 10.8779 11.8105Z"})})},284551:(e,t,o)=>{o.d(t,{A:()=>l,C:()=>d});o(242343);var n=()=>o(998865),i=()=>o(360877),r=()=>o(127086),a=()=>o(422340),s=o(163643);function l(e){const{onInviteClick:t,onInviteComplete:o,buttonStyle:r,buttonContainerStyle:a}=e;return[{key:"slack_imports",render:()=>(0,s.jsx)(i().R,{inviteOrigin:"space_setting_slack_dropdown",canEditPermission:!0,onInviteClick:t,onInviteComplete:o,buttonLabel:(0,s.jsx)(n().$c,{type:"slack"}),buttonStyle:r,buttonContainerStyle:a}),action:()=>{}},{key:"google_imports",render:()=>(0,s.jsx)(n().aI,{inviteOrigin:"space_setting_google_dropdown",canEditPermission:!0,onInviteClick:t,onInviteComplete:o,buttonLabel:(0,s.jsx)(n().$c,{type:"google"}),buttonStyle:r,buttonContainerStyle:a}),action:()=>{}}]}function d(e){const{onClickAuthenticated:t,hideChevronIcon:o,containerStyle:i,buttonStyle:l,flowId:d}=e;return[{key:"slack_imports",render:()=>(0,s.jsx)(r().Xx,{onClickAuthenticated:()=>t(a().NL.Slack),title:(0,s.jsx)(n().$c,{type:"slack"}),containerStyle:i,buttonStyle:l,from:"share_menu",inviteOrigin:"page_share_modal",flowId:d,loadContacts:!0,hideChevronIcon:o}),action:()=>{}},{key:"google_imports",render:()=>(0,s.jsx)(r().KG,{onClickAuthenticated:()=>t(a().NL.Google),containerStyle:i,buttonStyle:l,from:"share_menu",inviteOrigin:"page_share_modal",flowId:d,loadContacts:!0,hideChevronIcon:o,buttonLabel:(0,s.jsx)(n().$c,{type:"google"})}),action:()=>{}}]}},286270:(e,t,o)=>{o.d(t,{E:()=>a});var n=o(242343),i=()=>o(81e4),r=o(163643);const a=n.forwardRef(((e,t)=>{let{children:n,color:a,disabled:s,icon:l,iconStyle:d,isLoading:c,shape:u="default",size:p="md",style:g,...m}=e;const h=(0,o(174114).IS)((e=>{const t=a?`${a}Primary`:"primary",r=a||"regular",m=a?`${a}Hover`:"primaryHover",h=a?`${a}Pressed`:"primaryPressed";return{button:{...(0,i().qq)({shape:u,size:p,hasIconOnly:Boolean(l)&&!n}),justifyContent:"center",color:e.text[t],background:e.tint[r],opacity:s||c?.3:1,fontWeight:o(31448).Wy.medium,...g},hovered:{background:s?e.tint[r]:e.tint[m]},pressed:{background:s?e.tint[r]:e.tint[h]},icon:{...(0,i().D3)({size:p,hasIconOnly:!n}),...d}}}),[n,a,s,l,d,c,u,p,g]);return(0,r.jsxs)(o(417653).A,{ref:t,style:h.button,hoveredStyle:h.hovered,pressedStyle:h.pressed,disabled:s,isLoading:c,...m,children:[l?l(h.icon):null,n]})}));a.displayName="TintButton"},297340:(e,t,o)=>{o.d(t,{A:()=>r});var n=o(242343),i=o(163643);const r=function(e){let{firstDayOfWeek:t,value:r,selectValue:a=!0,onChange:s,onFocus:l,onBlur:d,disabledDays:c,className:u}=e;const p=(0,n.useMemo)((()=>new Date(r)),[r]),[g,m]=(0,n.useState)(p),h=(0,n.useRef)(r);(0,n.useLayoutEffect)((()=>{h.current!==r&&(m(new Date(r)),h.current=r)}),[r]);const y=(0,n.useCallback)(((e,t,o)=>{s(e.getTime())}),[s]);return(0,i.jsx)("div",{style:{paddingRight:8,paddingBottom:8,paddingLeft:8,paddingTop:4},children:(0,i.jsx)(o(789894).n,{locale:o(16791).locale,className:u??"notion-calendar-picker",numberOfMonths:1,weekStartsOn:t,modifiers:a?{value:p}:{},showOutsideDays:!0,fixedWeeks:!0,onDayClick:y,onMonthSelected:m,disabled:c,month:g,onDayBlur:d,onDayFocus:l})})}},308439:(e,t,o)=>{o.r(t),o.d(t,{exclamationMarkTriangleIcon:()=>r,iconDefinition:()=>i});o(242343);var n=o(163643);const i={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M9.875 6.75c.345 0 .625.28.625.625v3.5a.625.625 0 1 1-1.25 0v-3.5c0-.345.28-.625.625-.625m0 7.375a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5"}),(0,n.jsx)("path",{d:"M8.16 3.563c.818-1.417 2.863-1.417 3.68 0l5.846 10.125c.818 1.416-.204 3.187-1.84 3.187H4.155c-1.636 0-2.659-1.77-1.84-3.187zm2.598.624a.875.875 0 0 0-1.516 0L3.397 14.313a.875.875 0 0 0 .758 1.313h11.69a.875.875 0 0 0 .759-1.312z"})]})},r=(0,o(680369).wt)("exclamationMarkTriangle",i)},309968:(e,t,o)=>{o.d(t,{A:()=>i});class n extends(()=>o(129044))().default{}const i=new n},326259:(e,t,o)=>{o.d(t,{OH:()=>s,T2:()=>l,do:()=>d});var n=()=>o(871002),i=()=>o(846581),r=()=>o(16456),a=()=>o(427091);function s(e){const{dateTime:t,intl:o,shortenDateAndRange:n}=e,a=r().C6.toPersistedDate(t.valueOf());return i().ZF({value:a,allowRelativeDates:!0,intl:o,shortenDateAndRange:n,displayInUserTimezone:!0})}function l(e){const{dateTime:t,intl:o,userTimeZone:n,displayInUserTimezone:a,alwaysIncludeTimezone:s}=e,l=r().C6.toPersistedDateTime(t.valueOf(),t.zoneName);return i().ZF({value:l,allowRelativeDates:!0,intl:o,userTimeZone:n,displayInUserTimezone:a,alwaysIncludeTimezone:s})}function d(e){const{luxonRange:t,intl:o}=e,s=r().C6.toPersistedDateRange(t),l=i().ZF({value:s,allowRelativeDates:!1,shortenDateAndRange:!0,intl:o,displayInUserTimezone:!0}),d=t.end.setZone((0,a().P)()),c=i().fU({start_time:d.toFormat(n().GE),humanReadable:!1,intl:o});return o.formatMessage({id:"verification.timeRange",defaultMessage:"{formattedDateRange} at {formattedEndTime}"},{formattedDateRange:l,formattedEndTime:c})}},354769:(e,t,o)=>{o.d(t,{N:()=>h,k:()=>m});o(333225),o(494367),o(516262),o(573119),o(240480),o(950443),o(619601),o(725707),o(491955),o(500234);var n=()=>o(712437),i=()=>o(564134),r=()=>o(716605),a=()=>o(220959),s=()=>o(112907),l=()=>o(485966),d=()=>o(836331),c=()=>o(141122),u=()=>o(413871),p=()=>o(357608),g=()=>o(865226);function m(e){let{relationPointers:t,relatedPageStore:o,environment:i,from:r,peekMode:d,openInNew:m}=e;const{mainEditorCurrentBlockStore:h}=l().default.state;if(!h)return;const y=t.find((e=>e.id===o.id));if(!y)return;let f;if(m){const e=u().Bv.createChildStore(h,y),t=e.getModel(),o=s().E2(i,e);f=(0,a().A)({pageId:y.id,pageModel:t,baseUrl:o,pageVisitSource:n().y8.MentionInPage})}else{const e=h.getModel(),t=s().E2(i,h);f=(0,a().A)({pageId:h.id,pageModel:e,baseUrl:t,peekViewBlockId:y.id,peekMode:(0,c().getUrlParamFromPeekMode)("full_page"===d?void 0:d??c().default.state.mode),pageVisitSource:n().y8.MentionInPage}),(0,p()._)(i,{from:r,meta_click:Boolean(m)})}g().oo({environment:i,url:f,openInNew:m})}async function h(e){var t,o;const{update:n,environment:a,store:s,collectionStore:c,propertySchema:p}=e,g=s.state.isOpen?s.state:null,m=new Set(n.oldValues),h=n.newValues.filter((e=>!m.has(e)));if(!d().default.checkGate({gateName:"relation_two_way_limit_of_1_add_relation_confirmation_dialog"}))return!1;const y=l().default.state.currentUserSettingsStore;if(Boolean(null==y?void 0:y.getSettingsStore().getKeyStore("relation_limit_confirmation_dialog_dismissed_at").getValue()))return!1;if(1!==h.length||!g)return!1;const f=g.property,b=(null===(t=g.collectionContextStore)||void 0===t?void 0:t.collectionViewStore())||(null==c||null===(o=c.getParentBlockStore())||void 0===o?void 0:o.getCollectionViewStores()[0]);if(!c||!b||!p)return!1;const v=await async function(e){const{collectionStore:t,property:o,environment:n,targetCollectionStore:r}=e,a=t.getSchema()[o];if(!a||"relation"!==a.type)return!1;const s=i().Nv(a),l=a.property;if(!s||!l)return!1;const d=r??new(u().md)(n,s);await d.load();const c=d.getSchema();if(!(0,i().rd)({propertySchema:a,property:o,sourceCollectionId:t.id,targetCollectionSchema:c}))return!1;const p=c[l];return!(!p||"relation"!==p.type)&&Boolean(p.limit)}({collectionStore:c,property:f,environment:a});if(!v)return!1;const x=await async function(e){const{collectionStore:t,relationPointer:o,environment:n,property:i}=e,a=new(u().Bv)(n,o);await a.load();const s=t.getSchema()[i];if(!s||"relation"!==s.type)return;const l=s.property;if(!l)return;const d=a.getPropertyValue(l);if(!d)return;const[c]=r().n(d);return c}({collectionStore:c,relationPointer:h[0],property:f,environment:a});if(!x)return!1;const S=new(u().Bv)(a,x);await S.load();return{blockWithExistingRelationTitle:S.getPropertyValue("title"),currentBlockTitle:g.store.getPropertyValue("title"),update:n,canAccessBlockWithExistingRelation:S.canRead()}}},357608:(e,t,o)=>{o.d(t,{_:()=>i});var n=()=>o(137476);function i(e,t){n().vd(e,"relation_navigate_block",t)}},360877:(e,t,o)=>{o.d(t,{R:()=>r});var n=()=>o(129978);const i=new(n().O2)("SlackImportsInviteWithModal",(async()=>await Promise.all([o.e(51195),o.e(68117)]).then(o.bind(o,766756)))),r=(0,n()._h)(i,(e=>e.SlackImportsInviteWithModal))},367950:(e,t,o)=>{function n(e){return`${e.table}:${e.id}`}o.d(t,{_:()=>n})},373023:(e,t,o)=>{o.d(t,{$y:()=>v,jc:()=>b,x9:()=>f});o(242343);var n=()=>o(237385),i=()=>o(803290),r=()=>o(945335),a=()=>o(808263),s=()=>o(653998),l=()=>o(336519),d=()=>o(206799),c=()=>o(137476),u=()=>o(548694),p=()=>o(309968),g=()=>o(837141),m=()=>o(613313),h=()=>o(525263),y=o(163643);function f(){const e=(0,i().K8)((()=>{const{editsBlocked:e}=g().A.state;return e??!1}),[]),t=(0,n().v3)();return(0,i().K8)((()=>(0,m().Jq)(t)),[t])&&e}function b(){return(0,i().K8)((()=>{var e;const t=p().A.state;return null==t||null===(e=t.data)||void 0===e?void 0:e.invoiceHostedUrl}),[])}function v(){const e=(0,n().v3)(),t=b(),o=(0,i().K8)((()=>{var e;const t=p().A.state;return(null==t||null===(e=t.data)||void 0===e?void 0:e.overdueInvoiceCount)??0}),[]),c=(0,i().K8)((()=>(0,u().s7)(e)),[e]),g=function(e,t){if(e)return t>1?(0,y.jsx)(s().sA,{defaultMessage:"Access to Notion is limited because we couldn’t process {overdueInvoiceCount, plural, one {your last payment} other {{overdueInvoiceCount} payments}}.",id:"uncollectibleExperience.uncollectibleExperienceOverlay.multipleInvoicesMessageContent",values:{overdueInvoiceCount:t}}):(0,y.jsx)(s().sA,{defaultMessage:"Access to Notion is limited because we couldn’t process your last payment",id:"uncollectibleExperience.uncollectibleExperienceOverlay.messageContent"});return(0,y.jsx)(s().sA,{id:"uncollectibleExperience.uncollectibleExperienceOverlay.memberMessageContent",defaultMessage:"Access to Notion is limited"})}(c,o),m=function(e){if(e)return;return(0,y.jsx)(s().sA,{id:"uncollectibleExperience.uncollectibleExperienceOverlay.memberSecondaryLabel",defaultMessage:"Contact a workspace owner to update your workspace’s payment method"})}(c),f=function(e,t,o){if(t){const n=(0,h().a)(o);return o=>{n&&(x(t,e),n(o))}}return o=>{x(t,e),l().Ow()}}(e,c,t),v=function(e){if(e)return(0,y.jsx)(s().sA,{defaultMessage:"View unpaid invoice",id:"uncollectibleExperience.uncollectibleExperienceOverlay.buttonLabel"});return(0,y.jsx)(s().sA,{id:"uncollectibleExperience.uncollectibleExperienceOverlay.memberButtonLabel",defaultMessage:"View workspace owner"})}(c),S=function(e){if(e)return(0,y.jsx)(d().Q,{iconGroup:r().i,variantName:"default",colorName:"primary"});return(0,y.jsx)(d().Q,{iconGroup:a()._,variantName:"default",colorName:"primary"})}(c);return{clickAction:f,ctaMessage:v,primaryMessage:g,secondaryMessage:m,ctaIcon:S,tooltipBodyMessage:c?v:m,isWorkspaceOwner:c,overdueInvoiceCount:o}}function x(e,t){(0,c().u4)({environment:t,event:{eventName:"subscription_uncollectible_blurred_experience_cta_clicked",eventProperties:{is_workspace_owner:e}}})}},383641:(e,t,o)=>{o.d(t,{N:()=>d});var n=o(242343);class i extends n.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function r({children:e,isPresent:t}){const o=(0,n.useId)(),r=(0,n.useRef)(null),a=(0,n.useRef)({width:0,height:0,top:0,left:0});return(0,n.useInsertionEffect)((()=>{const{width:e,height:n,top:i,left:s}=a.current;if(t||!r.current||!e||!n)return;r.current.dataset.motionPopId=o;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`\n          [data-motion-pop-id="${o}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${n}px !important;\n            top: ${i}px !important;\n            left: ${s}px !important;\n          }\n        `),()=>{document.head.removeChild(l)}}),[t]),n.createElement(i,{isPresent:t,childRef:r,sizeRef:a},n.cloneElement(e,{ref:r}))}const a=({children:e,initial:t,isPresent:i,onExitComplete:a,custom:l,presenceAffectsLayout:d,mode:c})=>{const u=(0,o(616098).M)(s),p=(0,n.useId)(),g=(0,n.useMemo)((()=>({id:p,initial:t,isPresent:i,custom:l,onExitComplete:e=>{u.set(e,!0);for(const t of u.values())if(!t)return;a&&a()},register:e=>(u.set(e,!1),()=>u.delete(e))})),d?void 0:[i]);return(0,n.useMemo)((()=>{u.forEach(((e,t)=>u.set(t,!1)))}),[i]),n.useEffect((()=>{!i&&!u.size&&a&&a()}),[i]),"popLayout"===c&&(e=n.createElement(r,{isPresent:i},e)),n.createElement(o(642804).t.Provider,{value:g},e)};function s(){return new Map}const l=e=>e.key||"";const d=({children:e,custom:t,initial:i=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:d=!0,mode:c="sync"})=>{(0,o(609317).V)(!s,"Replace exitBeforeEnter with mode='wait'");const u=(0,n.useContext)(o(61034).L).forceRender||(0,o(180795).C)()[0],p=(0,o(629721).a)(),g=function(e){const t=[];return n.Children.forEach(e,(e=>{(0,n.isValidElement)(e)&&t.push(e)})),t}(e);let m=g;const h=(0,n.useRef)(new Map).current,y=(0,n.useRef)(m),f=(0,n.useRef)(new Map).current,b=(0,n.useRef)(!0);if((0,o(34979).E)((()=>{b.current=!1,function(e,t){e.forEach((e=>{const o=l(e);t.set(o,e)}))}(g,f),y.current=m})),(0,o(939448).l)((()=>{b.current=!0,f.clear(),h.clear()})),b.current)return n.createElement(n.Fragment,null,m.map((e=>n.createElement(a,{key:l(e),isPresent:!0,initial:!!i&&void 0,presenceAffectsLayout:d,mode:c},e))));m=[...m];const v=y.current.map(l),x=g.map(l),S=v.length;for(let o=0;o<S;o++){const e=v[o];-1!==x.indexOf(e)||h.has(e)||h.set(e,void 0)}return"wait"===c&&h.size&&(m=[]),h.forEach(((e,o)=>{if(-1!==x.indexOf(o))return;const i=f.get(o);if(!i)return;const s=v.indexOf(o);let b=e;if(!b){const e=()=>{h.delete(o);const e=Array.from(f.keys()).filter((e=>!x.includes(e)));if(e.forEach((e=>f.delete(e))),y.current=g.filter((t=>{const n=l(t);return n===o||e.includes(n)})),!h.size){if(!1===p.current)return;u(),r&&r()}};b=n.createElement(a,{key:l(i),isPresent:!1,onExitComplete:e,custom:t,presenceAffectsLayout:d,mode:c},i),h.set(o,b)}m.splice(s,0,b)})),m=m.map((e=>{const t=e.key;return h.has(t)?e:n.createElement(a,{key:l(e),isPresent:!0,presenceAffectsLayout:d,mode:c},e)})),n.createElement(n.Fragment,null,h.size?m:m.map((e=>(0,n.cloneElement)(e))))}},388128:(e,t,o)=>{o.d(t,{Q:()=>h});o(403517),o(242343);var n=()=>o(237385),i=()=>o(803290),r=()=>o(174114),a=()=>o(162901),s=()=>o(653998),l=()=>o(31448),d=()=>o(463790),c=()=>o(818369),u=()=>o(591130),p=()=>o(485966),g=()=>o(732165),m=o(163643);function h(e){const{group:t,limit:o,noMembersMessage:h,color:y,trackHover:f}=e,b=(0,r().IS)((e=>({container:{marginBottom:4,..."white_background"===y?{fontSize:l().J.UISmall.desktop,color:e.text.secondary,padding:"4px 8px"}:{}},userContainer:{display:"flex",alignContent:"flex-end",minWidth:140,width:"100%",marginTop:4},user:{flexGrow:1},moreMessage:{marginLeft:2,marginTop:4,..."white_background"===y?{fontSize:l().J.UISmall.desktop,color:e.text.secondary}:{color:e.text.contrastSecondary}}})),[y]),v=(0,i().O$)(p().AppStoreCurrentSpaceStore),x=(0,n().v3)();(0,i().K8)((()=>{f&&d().ZX(x,{group_id:t.group_id})}),[f,t,x]);const[{value:S}]=(0,a().Yb)((async()=>{if(!v)return;const e=await c().callApi({eventName:"getSpacePermissionGroupMembers",environment:x,data:{groupIds:[t.group_id],spaceId:v.id}});if("success"===e.type){var n;const i=null===(n=e.data.groupUsersMap[t.group_id])||void 0===n?void 0:n.userIds;return(0,u().gA)({userIds:i,limit:o,spaceStore:v})}}),[v,x,t,o]);return 0===(null==S?void 0:S.limitedUserStores.length)?(0,m.jsx)(m.Fragment,{children:h}):(0,m.jsxs)("div",{style:b.container,children:[null==S?void 0:S.limitedUserStores.map((e=>(0,m.jsx)("div",{style:b.userContainer,children:(0,m.jsx)(g().A,{style:b.user,userStore:e,avatarSize:18})},e.id))),S&&S.countRemainingUsers>0&&(0,m.jsx)("div",{style:b.moreMessage,children:(0,m.jsx)(s().sA,{id:"blockPermissionsSettings.groupPermissionUsers.tooltip",defaultMessage:"{countRemainingUsers} more…",values:{countRemainingUsers:S.countRemainingUsers}})})]})}},442958:(e,t,o)=>{o.d(t,{A:()=>i});o(242343);var n=o(163643);const i=function(e){const t=(0,o(237385).v3)(),i=(0,o(174114).DP)();return(0,n.jsx)(o(579494).A,{style:{display:"flex",alignSelf:"stretch",width:36,...e.isRight?{marginRight:-8}:{marginLeft:-8}},external:!0,href:e.href,onClick:()=>o(598995).FH(t,{from:e.analyticsFrom}),children:(0,n.jsx)(o(126451).A,{mobileFeedback:!0,style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},children:(0,o(284594).$)({width:18,marginTop:1,fill:i.lightIconColor})})})}},457774:(e,t,o)=>{o.d(t,{B:()=>i});o(242343);var n=o(163643);const i=(0,o(680369).wt)("chevronUpRounded",{viewBox:"0 0 15 9",svg:(0,n.jsx)("path",{d:"M1.258 6.5L7.203.422a.946.946 0 01.719-.32.99.99 0 01.726.32L14.586 6.5a.89.89 0 01.266.648c0 .524-.407.93-.922.93a.921.921 0 01-.672-.281L7.93 2.32 2.586 7.797a.926.926 0 01-.672.281.915.915 0 01-.922-.93c0-.25.094-.476.266-.648z"})})},473096:(e,t,o)=>{o.d(t,{A:()=>l});var n=o(242343),i=()=>o(174114),r=()=>o(162339),a=()=>o(966789),s=o(163643);function l(e){let{loadingMessage:t}=e;const o=(0,i().DP)(),l=(0,r().A)(!0,400);return(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:l&&(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(a().A,{}),t&&(0,s.jsx)("div",{style:{marginLeft:8,color:o.text.secondary},children:t})]})})}},477267:(e,t,o)=>{o.r(t),o.d(t,{deleteViewsModuleDependencies:()=>a});var n=()=>o(496580),i=()=>o(795394),r=()=>o(413871);function a(e){const{layoutStore:t,viewsModule:o,transaction:a}=e,s=(0,n().o9)(r().Bv.createChildStore(t,o.collection_view_block_pointer));i().zz({childStore:s,parentStore:t,transaction:a})}},501578:(e,t,o)=>{o.d(t,{j:()=>c});var n=o(242343),i=()=>o(237385),r=()=>o(174114),a=()=>o(31448),s=()=>o(103151);var l=()=>o(907721),d=o(163643);function c(e){let{children:t,style:o,tooltipStyle:c,placement:u=l().W.Bottom}=e;const{isSafari:p}=(0,i().Y0)(),g=(0,n.useRef)(null),m=function(e){const[t,o]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{const{current:t}=e;if(!t)return void o(!1);const n="ResizeObserver"in window?new ResizeObserver((e=>{let[t]=e;o(t.target.scrollWidth>t.target.clientWidth)})):void 0;return null==n||n.observe(t),()=>null==n?void 0:n.unobserve(t)}),[]),t}(g),h=(0,r().IS)((()=>({overflowText:{...a().RC,...o}})),[o]);return(0,d.jsx)(s().A,{delayThreshold:500,placement:u,textWrap:!0,style:c,forceVisibleState:!(p||!m)&&void 0,renderTooltip:()=>m?t:void 0,render:e=>(0,d.jsx)("div",{ref:g,style:h.overflowText,...e,children:t})})}},510359:(e,t,o)=>{o.d(t,{V:()=>s});o(242343);var n=()=>o(174114),i=()=>o(653998),r=o(163643);const a="https://www.notion.com/blog/notion-ai-for-work";function s(){const e=(0,n().IS)((e=>({default:{cursor:"pointer",textDecoration:"none",color:e.text.uiBluePrimary}})),[]);return(0,r.jsx)("a",{href:a,target:"_blank",style:{...e.default},children:(0,r.jsx)(i().sA,{id:"PackingChangeLearnMore.learnMore",defaultMessage:"Learn more"})})}},511952:(e,t,o)=>{o.d(t,{A:()=>l});var n=o(242343),i=()=>o(803290),r=()=>o(917717),a=o(163643);function s(e,t){const{onClose:s,persistOnClose:l,render:u,stopClickPropagation:p,onClick:g,disablePopup:m,disabled:h,forceInitialInbound:y,renderOrigin:f,originGap:b,borderRadius:v,popupWrapStyle:x}=e,S=(0,i().uB)(e.buttonPopupStore,o(962373).A);(0,n.useEffect)((()=>()=>{S.setState({open:!1})}),[S]);const C=(0,n.useCallback)((()=>d(s,l,S)),[s,l,S]),_=(0,n.useCallback)((()=>(0,a.jsx)(c,{onClose:s,persistOnClose:l,render:u,buttonPopupStore:S})),[s,l,u,S]),M=(0,n.useCallback)((e=>function(e,t,o,n,i){t&&(null==e||e.stopPropagation());if(e&&r().Vt(e))return;o&&o(e);n||i.setState({...i.state,open:!0})}(e,p,g,m,S)),[p,g,m,S]),k=(0,i().K8)((()=>f({...e,onClick:h?o(975392).D_:M})),[h,M,e,f]),w=(0,i().K8)((()=>S.state.open),[S]);return(0,a.jsx)(o(443252).Ay,{ref:t,...e,forceInitialInbound:Boolean(y),render:_,open:w,onDismiss:C,origin:k,originGap:b,borderRadius:v,popupWrapStyle:x,trapFocus:!0})}const l=n.forwardRef(s);function d(e,t,o){e&&e(),t||o.reset()}function c(e){let{onClose:t,persistOnClose:o,render:r,buttonPopupStore:s}=e;const l=(0,n.useCallback)((()=>d(t,o,s)),[t,o,s]),c=(0,i().K8)((()=>r({close:l})),[r,l]);return(0,a.jsx)(a.Fragment,{children:c})}},533666:(e,t,o)=>{o.d(t,{Y:()=>i});o(242343);const n={viewBox:"0 0 16 16",svg:(0,o(163643).jsx)("path",{d:"M3.2 6.725a1.275 1.275 0 1 0 0 2.55 1.275 1.275 0 0 0 0-2.55m4.8 0a1.275 1.275 0 1 0 0 2.55 1.275 1.275 0 0 0 0-2.55m4.8 0a1.275 1.275 0 1 0 0 2.55 1.275 1.275 0 0 0 0-2.55"})},i=(0,o(680369).wt)("ellipsisSmall",n)},535225:(e,t,o)=>{o.d(t,{G:()=>i});o(242343);const n={viewBox:"0 0 20 20",svg:(0,o(163643).jsx)("path",{d:"M4.665 17.22a.625.625 0 0 0 .805.365 7.96 7.96 0 0 0 4.528-4.353 7.94 7.94 0 0 0 4.532 4.353.625.625 0 0 0 .44-1.17 6.69 6.69 0 0 1-4.345-6.268V4.509l2.683 2.683a.625.625 0 0 0 .884-.884l-3.75-3.75a.625.625 0 0 0-.884 0l-3.75 3.75a.625.625 0 1 0 .884.884l2.683-2.683v5.625a6.71 6.71 0 0 1-4.345 6.281.625.625 0 0 0-.365.805"})},i=(0,o(680369).wt)("arrowMergeUp",n)},566232:(e,t,o)=>{o.d(t,{P:()=>i});o(242343);const n={viewBox:"0 0 20 20",svg:(0,o(163643).jsx)("path",{d:"m17.442 9.558-5.4-5.4a.625.625 0 0 0-.884.884l4.333 4.333H3a.625.625 0 1 0 0 1.25h12.491l-4.333 4.333a.625.625 0 1 0 .884.884l5.4-5.4a.62.62 0 0 0 0-.884"})},i=(0,o(680369).wt)("arrowStraightRight",n)},566581:(e,t,o)=>{o.d(t,{w:()=>i});o(242343);const n={viewBox:"0 0 20 20",svg:(0,o(163643).jsx)("path",{d:"M2.411 9.79a.6.6 0 0 1 .147-.232l5.4-5.4a.625.625 0 1 1 .884.884L4.509 9.375H17a.625.625 0 1 1 0 1.25H4.509l4.333 4.333a.625.625 0 1 1-.884.884l-5.4-5.4a.62.62 0 0 1-.147-.651"})},i=(0,o(680369).wt)("arrowStraightLeft",n)},568262:(e,t,o)=>{o.d(t,{R:()=>r});o(242343);var n=o(163643);const i={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M9.325 10.466V2.063a.625.625 0 1 1 1.25 0v8.453l1.458-1.458a.625.625 0 1 1 .884.884l-2.5 2.5a.625.625 0 0 1-.884 0l-2.5-2.5a.625.625 0 1 1 .884-.884z"}),(0,n.jsx)("path",{d:"M11.825 6.375H14.5c.483 0 .875.392.875.875v7.5a.875.875 0 0 1-.875.875h-9a.875.875 0 0 1-.875-.875v-7.5c0-.483.392-.875.875-.875h2.575v-1.25H5.5A2.125 2.125 0 0 0 3.375 7.25v7.5c0 1.174.951 2.125 2.125 2.125h9a2.125 2.125 0 0 0 2.125-2.125v-7.5A2.125 2.125 0 0 0 14.5 5.125h-2.675z"})]})},r=(0,o(680369).wt)("squareAndArrowDown",i)},573520:(e,t,o)=>{o.d(t,{h:()=>i});o(242343);var n=o(163643);const i=(0,o(680369).wt)("eye",{viewBox:"0 0 32 32",svg:(0,n.jsx)("path",{d:"M16.006 25.812c8.863 0 14.994-7.17 14.994-9.406C31 14.16 24.858 7 16.006 7 7.252 7 1 14.16 1 16.406c0 2.236 6.252 9.406 15.006 9.406zm0-3.242a6.194 6.194 0 01-6.197-6.164c-.012-3.452 2.744-6.164 6.197-6.164 3.419 0 6.185 2.711 6.185 6.164 0 3.364-2.766 6.164-6.185 6.164zm0-3.94c1.228 0 2.246-1.007 2.246-2.224 0-1.228-1.018-2.235-2.246-2.235-1.24 0-2.258 1.007-2.258 2.235 0 1.217 1.018 2.224 2.258 2.224z"})})},575185:(e,t,o)=>{o.d(t,{M:()=>i});o(242343);var n=o(163643);const i=(0,o(680369).wt)("collectionInbox",{viewBox:"0 0 14 14",svg:(0,n.jsx)("path",{d:"M11.0918,0 C11.5383,0 11.9307,0.295898 12.0533,0.725586 L13.9615,7.40332 C13.9871,7.49316 14,7.58594 14,7.67871 L14,13 C14,13.5527 13.5522,14 13,14 L1,14 C0.447754,14 0,13.5527 0,13 L0,7.67871 C0,7.58594 0.0129395,7.49316 0.0384521,7.40332 L1.94666,0.725586 C2.06934,0.295898 2.46167,0 2.9082,0 L11.0918,0 Z M4.27271,1.5 C3.83728,1.5 3.45178,1.78223 3.31982,2.19727 L1.91455,6.61328 C1.70947,7.25879 2.1908,7.91699 2.86755,7.91699 L4.70837,7.91699 C4.70837,8.93652 5.16663,10.168 7,10.168 C8.83337,10.168 9.29163,8.93652 9.29163,7.91699 L11.1478,7.89355 C11.8201,7.88477 12.2927,7.22852 12.0876,6.58887 L10.681,2.19531 C10.5485,1.78125 10.1635,1.5 9.72864,1.5 L4.27271,1.5 Z"})})},575681:(e,t,o)=>{o.d(t,{_:()=>i});o(242343);var n=o(163643);const i=(0,o(680369).wt)("chevronDownRounded",{viewBox:"0 0 15 9",svg:(0,n.jsx)("path",{d:"M7.92188 8.65625C8.19531 8.64844 8.44531 8.54688 8.64844 8.32812L14.5859 2.25C14.7578 2.07812 14.8516 1.85938 14.8516 1.60156C14.8516 1.08594 14.4453 0.671875 13.9297 0.671875C13.6797 0.671875 13.4375 0.773438 13.2578 0.953125L7.92969 6.42969L2.58594 0.953125C2.40625 0.78125 2.17188 0.671875 1.91406 0.671875C1.39844 0.671875 0.992188 1.08594 0.992188 1.60156C0.992188 1.85938 1.08594 2.07812 1.25781 2.25L7.20312 8.32812C7.41406 8.54688 7.64844 8.65625 7.92188 8.65625Z"})})},591090:(e,t,o)=>{o.d(t,{$:()=>i});o(242343);var n=o(163643);const i=(0,o(680369).wt)("membersFilled",{viewBox:"0 0 30 30",svg:(0,n.jsx)("path",{d:"M20.31 14.731c2.22 0 4.097-1.967 4.097-4.513 0-2.485-1.887-4.391-4.098-4.391-2.2 0-4.097 1.937-4.087 4.411 0 2.526 1.866 4.493 4.087 4.493zm-11.725.233c1.937 0 3.57-1.724 3.57-3.935 0-2.17-1.653-3.823-3.57-3.823-1.917 0-3.57 1.683-3.56 3.844 0 2.19 1.633 3.914 3.56 3.914zm-5.588 9.21h7.606c-1.085-1.552.082-4.615 2.374-6.42-1.116-.72-2.566-1.248-4.392-1.248-4.533 0-7.464 3.337-7.464 6.085 0 1.004.507 1.582 1.876 1.582zm10.994-.01h12.637c1.673 0 2.251-.508 2.251-1.44 0-2.607-3.316-6.198-8.57-6.198-5.263 0-8.57 3.59-8.57 6.197 0 .933.578 1.44 2.252 1.44z"})})},618126:(e,t,o)=>{o.d(t,{E:()=>a});var n=()=>o(76394),i=()=>o(137476),r=()=>o(876695);function a(e,t,o){var a,s,l;let d="page_properties";const c=(0,r().sl)(t);switch(c.view_type){case void 0:case"page":case"table":d="table";break;case"list":d="list";break;case"gallery":d="gallery";break;case"board":d="board";break;case"calendar":d="calendar";break;case"timeline":d="timeline";break;case"chart":case"form_editor":case"feed":case"map":case"chat":case"custom":break;default:(0,n().HB)(c.view_type)}const u={...o,collection_id:null==t||null===(a=t.collectionStore())||void 0===a?void 0:a.id,collection_view_id:null==t||null===(s=t.collectionViewStore())||void 0===s?void 0:s.id,collection_view_block_id:null==t||null===(l=t.collectionViewBlockStore())||void 0===l?void 0:l.id,from:d};i().vd(e,"copy_property",u)}},620408:(e,t,o)=>{o.d(t,{P:()=>i});o(242343);const n={viewBox:"0 0 20 20",svg:(0,o(163643).jsx)("path",{d:"M9.08 3.341a1.625 1.625 0 0 1 1.84 0l5.875 4.035c.441.304.705.805.705 1.34v6.034a2.125 2.125 0 0 1-2.125 2.125h-2.716a1.625 1.625 0 0 1-1.625-1.625v-4.065H8.967v4.065c0 .898-.728 1.625-1.625 1.625H4.625A2.125 2.125 0 0 1 2.5 14.75V8.716c0-.535.264-1.036.705-1.34zm1.132 1.03a.375.375 0 0 0-.424 0L3.913 8.407a.38.38 0 0 0-.163.309v6.034c0 .483.392.875.875.875h2.716a.375.375 0 0 0 .375-.375v-4.19c0-.621.503-1.125 1.125-1.125h2.319c.62 0 1.124.504 1.124 1.125v4.19c0 .207.168.375.375.375h2.716a.875.875 0 0 0 .875-.875V8.716c0-.124-.06-.24-.163-.31z"})},i=(0,o(680369).wt)("home",n)},629721:(e,t,o)=>{o.d(t,{a:()=>r});var n=o(242343),i=()=>o(34979);function r(){const e=(0,n.useRef)(!1);return(0,i().E)((()=>(e.current=!0,()=>{e.current=!1})),[]),e}},636208:(e,t,o)=>{o.d(t,{$D:()=>d,CJ:()=>p,Sg:()=>l,iM:()=>b,kJ:()=>g,kx:()=>h,qj:()=>f,rL:()=>r,sH:()=>m,u6:()=>a,wo:()=>y,zr:()=>c});var n=()=>o(758989),i=()=>o(622163);const r=16,a=20,s=10,l=12,d=456,c=24,u=24,p=48;function g(e){let{theme:t,inheritanceBannerEnabled:o,isMobile:n}=e;return{background:t.tint.regular,borderRadius:8,paddingTop:8,paddingBottom:8,paddingLeft:8,paddingRight:8,marginLeft:n?0:r,marginRight:n?0:r,marginTop:4,marginBottom:8}}function m(e){let{isRedesignEnabled:t,isMobile:o}=e;return t?{...y({isMobile:o}),width:"unset",height:p,paddingTop:6,paddingBottom:6}:{}}function h(e){let{environment:t,isRedesignEnabled:o}=e;return o?(0,i().ny)(t,t.device.isMobile?"UISmall":"UIRegular"):(0,i().ny)(t,"UISmall")}function y(e){let{isMobile:t}=e;return{borderRadius:s,transition:"background 150ms ease-out"}}function f(e){let{isMobile:t}=e;return t?12:10}function b(e){let{theme:t,colorOverride:o,size:i=u,useLargeBorderRadius:r,useLightBackgroundColor:a,icon:s}=e;return{background:o||(s&&(0,n().T8)(s)?(0,n().ez)({icon:s,mode:t.mode,useLightGrayColor:a}):a?t.lightDividerColor:t.regularDividerColor),width:i,height:i,borderRadius:r?6:"0.25em"}}},649198:(e,t,o)=>{o.d(t,{F:()=>d});o(242343);var n=()=>o(237385),i=()=>o(486540),r=()=>o(653998),a=()=>o(711593),s=()=>o(932322),l=o(163643);function d(e){const{role:t}=e,o=(0,r().tz)(),{device:d}=(0,n().v3)(),c=(0,a().I2)(t);return(0,l.jsx)(s().Ay,{...e,title:o.formatMessage((0,i().sK)(t,void 0).label),shouldWrapCaption:!0,style:d.isMobile?{padding:"12px 4px"}:{padding:4,marginTop:2,marginBottom:2},captionStyle:{marginTop:4},caption:(0,l.jsx)("div",{children:c})})}},663821:(e,t,o)=>{o.r(t),o.d(t,{arrowChevronSingleDownSmallIcon:()=>i,iconDefinition:()=>n});o(242343);const n={viewBox:"0 0 16 16",svg:(0,o(163643).jsx)("path",{d:"m12.76 6.52-4.32 4.32a.62.62 0 0 1-.44.18.62.62 0 0 1-.44-.18L3.24 6.52a.63.63 0 0 1 0-.88c.24-.24.64-.24.88 0L8 9.52l3.88-3.88c.24-.24.64-.24.88 0s.24.64 0 .88"})},i=(0,o(680369).wt)("arrowChevronSingleDownSmall",n)},668657:(e,t,o)=>{o.d(t,{q:()=>i});o(242343);var n=o(163643);const i=(0,o(680369).wt)("search",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M.281 6.438c0-.875.164-1.696.492-2.461a6.484 6.484 0 011.375-2.032A6.237 6.237 0 016.64.078 6.2 6.2 0 019.11.57c.77.328 1.447.787 2.03 1.375a6.374 6.374 0 011.368 2.032c.333.765.5 1.586.5 2.46 0 .688-.107 1.342-.32 1.961a6.28 6.28 0 01-.868 1.696l3.563 3.578c.11.104.19.226.242.367.057.14.086.29.086.445 0 .22-.05.417-.149.594a1.122 1.122 0 01-1 .57c-.156 0-.307-.028-.453-.086a1.058 1.058 0 01-.382-.25l-3.586-3.585c-.5.333-1.047.596-1.641.789a6.089 6.089 0 01-1.86.28 6.237 6.237 0 01-2.468-.491 6.4 6.4 0 01-2.024-1.367A6.509 6.509 0 01.773 8.913a6.256 6.256 0 01-.492-2.476zm1.664 0c0 .65.12 1.26.36 1.828a4.775 4.775 0 001.015 1.5c.433.427.933.763 1.5 1.007a4.548 4.548 0 001.82.368c.652 0 1.261-.123 1.829-.368a4.747 4.747 0 002.508-2.507 4.567 4.567 0 00.367-1.829c0-.645-.123-1.252-.367-1.82a4.776 4.776 0 00-1.016-1.5A4.578 4.578 0 008.469 2.11a4.567 4.567 0 00-1.828-.367c-.646 0-1.253.123-1.82.367a4.667 4.667 0 00-1.5 1.008c-.433.432-.772.932-1.016 1.5a4.633 4.633 0 00-.36 1.82z"})})},673411:(e,t,o)=>{o.d(t,{A:()=>p});o(242343);var n=()=>o(803290),i=()=>o(174114),r=()=>o(653998),a=()=>o(129978);const s=new(a().O2)("DisconnectContactModal",(async()=>{const{DisconnectContactModal:e}=await o.e(6178).then(o.bind(o,951242));return{DisconnectContactModal:e}})),l=(0,a()._h)(s,(e=>e.DisconnectContactModal));var d=()=>o(858023),c=()=>o(88271),u=o(163643);const p=function(e){const{importListItems:t}=e,a=(0,n().uB)(void 0,o(210466).A),s=(0,n().K8)((()=>o(204507).L.getState().open),[]),p=(0,i().IS)((e=>({InviteDropdownMenu:{background:e.cardContentBackground,width:265,borderRadius:8},helpIcon:{width:14,height:14,fill:e.icon.secondary},helpSection:{color:e.text.secondary,fontSize:12,padding:"0 8px",width:"100%"}})),[]),g={key:"all_import_sections",render:e=>(0,u.jsx)(c().A,{...e,title:(0,u.jsx)(r().sA,{id:"spacePermissionsSettings.inviteLinkRefreshModal.inviteDropdownMenu.title",defaultMessage:"Import from"})}),items:t},m={key:"help_section",render:e=>(0,u.jsx)(c().A,{...e,topBorder:!0}),items:[{key:"help_section",render:e=>h,action:()=>{}}]},h=(0,u.jsx)(o(579494).A,{style:{display:"flex",padding:"0 4px"},className:"notion-print-ignore",href:(0,o(392608).xS)("guides.publicAPI"),external:!0,children:(0,u.jsx)(o(209684).p,{icon:o(284594).$,iconStyle:p.helpIcon,style:p.helpSection,children:(0,u.jsx)(r().sA,{id:"spacePermissionsSettings.inviteLinkRefreshModal.inviteDropdownMenu.learnMore",defaultMessage:"Learn more"})})});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o(935091).A,{menuType:o(640979).gu.Popup,children:(0,u.jsx)(d().Ay,{type:d().Oh.Vertical,store:a,initialFocus:void 0,disableInitialScroll:!0,disableCommandEnter:!0,sections:[g,m],style:p.InviteDropdownMenu})}),s&&(0,u.jsx)(l,{open:s})]})}},678523:(e,t,o)=>{o.d(t,{A:()=>s});o(242343);var n=()=>o(237385),i=()=>o(174114),r=()=>o(126451),a=o(163643);function s(e){const t=(0,n().Y0)(),o=(0,i().IS)((e=>({sharedStyle:{display:"flex",alignItems:"center",borderRadius:4},innerStyle:{padding:"2px 6px",borderRadius:4,color:e.text.secondary,background:e.defaultBadgeBackground,fontSize:t.isMobile?11:9,lineHeight:t.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em",whiteSpace:"nowrap"}})),[t.isAndroid,t.isMobile]);return t.isMobile?(0,a.jsx)(r().A,{style:{...o.sharedStyle,...e.mobileStyle},disabled:void 0===e.onClick,children:(0,a.jsx)("div",{style:{...o.innerStyle,...e.innerStyle},children:e.children})}):(0,a.jsx)(r().A,{style:{...o.sharedStyle,...e.desktopStyle},disabled:void 0===e.onClick,...e,children:(0,a.jsx)("div",{style:{...o.innerStyle,...e.innerStyle},children:e.children})})}},686752:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>n,pencilLineIcon:()=>i});o(242343);const n={viewBox:"0 0 20 20",svg:(0,o(163643).jsx)("path",{d:"m13.987 5.682-.684.684-1.288-1.288.692-.691a.91.91 0 0 1 1.28 0c.35.35.35.93 0 1.28zm-9.433 9.433 7.914-7.914-1.289-1.289-7.92 7.908c-.122.122-.214.29-.274.457l-.336 1.082c-.06.229.153.442.366.366l1.082-.335q.252-.07.457-.275m12.446.76H5.61l1.25-1.25H17a.625.625 0 1 1 0 1.25"})},i=(0,o(680369).wt)("pencilLine",n)},691859:(e,t,o)=>{o.d(t,{Ay:()=>i().A,yQ:()=>a});var n=()=>o(129978),i=()=>o(40473);const r=new(n().O2)("radioModalRenderer",(()=>o.e(35818).then(o.bind(o,640320)))),a=(0,n()._h)(r,(e=>e.default))},699773:(e,t,o)=>{o.d(t,{A:()=>l});var n=o(242343),i=()=>o(846581),r=()=>o(16456),a=()=>o(427091),s=o(163643);const l=function(e){const t=(0,o(653998).tz)(),l=(0,o(174114).DP)(),u=(0,o(221573).I)(),p=(0,n.useRef)(),g=(0,n.useCallback)((()=>{const t=e.value;if(!t)return;const n=r().q8(t,(0,a().P)());if(!n)return;const i=n.valueOf(),s=i-Date.now();s<0||s>o(141666).nD||p.current&&p.current.timestamp===i||(p.current&&clearTimeout(p.current.timer),p.current={timestamp:i,timer:setTimeout((()=>u("DateBox","DateBox/createReminderTimer")),s)})}),[u,e.value]),m=(0,n.useCallback)((()=>{p.current&&(clearTimeout(p.current.timer),p.current=void 0)}),[]);(0,n.useEffect)((()=>{g()}),[g]),(0,n.useEffect)((()=>()=>{m()}),[m]);const{value:h,withComma:y}=e,f=(0,o(803290).K8)((()=>h?(0,i().ZF)({value:h,date_format:e.dateFormat,time_format:e.timeFormat,userTimeZone:(0,a().P)(),allowRelativeDates:!0,intl:t,shortenDateAndRange:e.shortenDateAndRange,displayInUserTimezone:e.displayInUserTimezone,getToday:o(533975).x1}):void 0),[t,e.dateFormat,e.displayInUserTimezone,e.shortenDateAndRange,e.timeFormat,h]);if(!h)return null;const b=r().AA(h,(0,a().P)(),o(16791).locale);let v;if(h.reminder){const e=r().Zs(h,(0,a().P)());v=e?{color:l.errorText}:{color:o(220413).Ay.blue}}const x=(0,s.jsxs)(s.Fragment,{children:[f,h.reminder&&(0,o(508024).P)({display:"inline-block",width:"1em",marginLeft:6,marginRight:2,paddingBottom:4,verticalAlign:"middle"}),y?", ":null]});return e.disableTooltip?(0,s.jsx)("div",{className:e.className,style:{...e.style,...v},children:x}):(0,s.jsx)(o(103151).A,{renderTooltip:()=>(0,s.jsxs)(s.Fragment,{children:[e.tooltipHeader,(0,s.jsxs)("div",{style:c(l,e.tooltipHeader),children:[d(b.start),b.end?` → ${d(b.end)}`:""]})]}),render:t=>(0,s.jsx)("div",{className:e.className,style:{...e.style,...v},...t,children:x}),placement:e.tooltipPlacement})};function d(e){return(0,i().eV)({value:e,preset:"medium"})}function c(e,t){return t?{color:e.text.contrastSecondary}:{}}},711593:(e,t,o)=>{o.d(t,{AC:()=>u,I2:()=>d,YC:()=>c});o(242343);var n=()=>o(174114),i=()=>o(169201),r=()=>o(150936),a=()=>o(653998),s=o(163643);function l(e){const{enabled:t,labelIfEnabled:o,labelIfDisabled:i}=e,r=(0,n().IS)((e=>({container:{color:t?e.text.secondary:e.text.tertiary}})),[t]);return(0,s.jsxs)("div",{style:r.container,children:[p(t)," ",t?o:i]})}function d(e){const t="none"!==e;return[(0,s.jsx)(l,{enabled:t&&e.read_content,labelIfEnabled:(0,s.jsx)(a().sA,{id:"capabilitiesTooltip.mixedAccess.readContent.enabled",defaultMessage:"Can read content."}),labelIfDisabled:(0,s.jsx)(a().sA,{id:"capabilitiesTooltip.mixedaccess.readContent.disabled",defaultMessage:"Cannot read content."})},"read_content"),(0,s.jsx)(l,{enabled:t&&e.insert_content,labelIfEnabled:(0,s.jsx)(a().sA,{id:"capabilitiesTooltip.mixedaccess.insertContent.enabled",defaultMessage:"Can insert content."}),labelIfDisabled:(0,s.jsx)(a().sA,{id:"capabilitiesTooltip.mixedaccess.insertContent.disabled",defaultMessage:"Cannot insert content."})},"insert_content"),(0,s.jsx)(l,{enabled:t&&e.update_content,labelIfEnabled:(0,s.jsx)(a().sA,{id:"capabilitiesTooltip.mixedaccess.updateContent.enabled",defaultMessage:"Can update content."}),labelIfDisabled:(0,s.jsx)(a().sA,{id:"capabilitiesTooltip.mixedaccess.updateContent.disabled",defaultMessage:"Cannot update content."})},"update_content"),(0,s.jsx)(l,{enabled:t&&e.insert_comment,labelIfEnabled:(0,s.jsx)(a().sA,{id:"capabilitiesTooltip.insertComment.enabled",defaultMessage:"Can comment."}),labelIfDisabled:(0,s.jsx)(a().sA,{id:"capabilitiesTooltip.insertComment.disabled",defaultMessage:"Cannot comment."})},"insert_comment"),(0,s.jsx)(l,{enabled:t&&e.read_comment,labelIfEnabled:(0,s.jsx)(a().sA,{id:"capabilitiesTooltip.readComment.enabled",defaultMessage:"Can read comments."}),labelIfDisabled:(0,s.jsx)(a().sA,{id:"capabilitiesTooltip.readComment.disabled",defaultMessage:"Cannot read comments."})},"read_comment")]}function c(e){return[(0,s.jsx)(l,{enabled:e.read_user_without_email,labelIfEnabled:(0,s.jsx)(a().sA,{id:"capabilitiesTooltip.userAccess.readUsers.enabled",defaultMessage:"Can view users."}),labelIfDisabled:(0,s.jsx)(a().sA,{id:"capabilitiesTooltip.userAccess.readUsers.disabled",defaultMessage:"Cannot view users."})},"read_user_without_email"),(0,s.jsx)(l,{enabled:e.read_user_with_email,labelIfEnabled:(0,s.jsx)(a().sA,{id:"capabilitiesTooltip.userAccess.readUserEmailAddresses.enabled",defaultMessage:"Can view user email addresses."}),labelIfDisabled:(0,s.jsx)(a().sA,{id:"capabilitiesTooltip.userAccess.readUserEmailAddresses.disabled",defaultMessage:"Cannot view user email addresses."})},"read_user_with_email")]}function u(e){return[(0,s.jsx)(l,{enabled:e.link_preview,labelIfEnabled:(0,s.jsx)(a().sA,{id:"capabilitiesTooltip.linkPreview.enabled",defaultMessage:"Can preview links."}),labelIfDisabled:(0,s.jsx)(a().sA,{id:"capabilitiesTooltip.linkPreview.disabled",defaultMessage:"Cannot preview links."})},"link_preview"),(0,s.jsx)(l,{enabled:e.synced_database,labelIfEnabled:(0,s.jsx)(a().sA,{id:"capabilitiesTooltip.syncedDatabase.enabled",defaultMessage:"Can sync databases."}),labelIfDisabled:(0,s.jsx)(a().sA,{id:"capabilitiesTooltip.syncedDatabase.disabled",defaultMessage:"Cannot sync databases."})},"synced_database")]}function p(e){const t={width:12,display:"inline",verticalAlign:"middle"};return e?(0,r().b)(t):(0,i().u)(t)}},713055:(e,t,o)=>{o.d(t,{S:()=>i});o(242343);var n=o(163643);const i=(0,o(680369).wt)("notionLogo",{viewBox:"0 0 120 126",svg:(0,n.jsx)("path",{d:"M 20.6927 21.9315C 24.5836 25.0924 26.0432 24.8512 33.3492 24.3638L 102.228 20.2279C 103.689 20.2279 102.474 18.7705 101.987 18.5283L 90.5477 10.2586C 88.3558 8.55699 85.4356 6.60818 79.8387 7.09563L 13.1433 11.9602C 10.711 12.2014 10.2251 13.4175 11.1939 14.3924L 20.6927 21.9315ZM 24.8281 37.9835L 24.8281 110.456C 24.8281 114.351 26.7745 115.808 31.1553 115.567L 106.853 111.187C 111.236 110.946 111.724 108.267 111.724 105.103L 111.724 33.1169C 111.724 29.958 110.509 28.2544 107.826 28.4976L 28.721 33.1169C 25.8018 33.3622 24.8281 34.8225 24.8281 37.9835ZM 99.5567 41.8711C 100.042 44.0622 99.5567 46.2512 97.3618 46.4974L 93.7143 47.2241L 93.7143 100.728C 90.5477 102.43 87.6275 103.403 85.1942 103.403C 81.2983 103.403 80.3226 102.186 77.4044 98.54L 53.5471 61.087L 53.5471 97.3239L 61.0964 99.0275C 61.0964 99.0275 61.0964 103.403 55.0057 103.403L 38.2148 104.377C 37.727 103.403 38.2148 100.973 39.9179 100.486L 44.2996 99.2717L 44.2996 51.36L 38.2158 50.8725C 37.728 48.6815 38.9431 45.5225 42.3532 45.2773L 60.3661 44.0631L 85.1942 82.0036L 85.1942 48.4402L 78.864 47.7136C 78.3781 45.0351 80.3226 43.0902 82.7569 42.849L 99.5567 41.8711ZM 7.5434 5.39404L 76.9175 0.285276C 85.4366 -0.445402 87.6285 0.0440428 92.983 3.93368L 115.128 19.4982C 118.782 22.1747 120 22.9034 120 25.8211L 120 111.187C 120 116.537 118.051 119.701 111.237 120.185L 30.6734 125.05C 25.5584 125.294 23.124 124.565 20.4453 121.158L 4.13735 99.9994C 1.21516 96.1048 0 93.191 0 89.7819L 0 13.903C 0 9.5279 1.94945 5.8785 7.5434 5.39404Z"})})},731991:(e,t,o)=>{o.d(t,{W:()=>r,X:()=>i});var n=()=>o(803290);function i(e){return e.isReady()&&!e.isDefined()&&"none"!==e.getRole()}function r(e){return(0,n().K8)((()=>i(e)),[e])}},755989:(e,t,o)=>{o.d(t,{Ld:()=>c,kg:()=>u,uF:()=>p});var n=()=>o(803290),i=()=>o(564134),r=()=>o(706788),a=()=>o(405317),s=()=>o(96718),l=()=>o(485966),d=()=>o(133926);function c(e){let{spaceId:t,userId:o}=e;const n=(0,d()._X)({name:"collection_connected_property_figma",spaceId:t,userId:o}),i=(0,d()._X)({name:"collection_connected_property_github",spaceId:t,userId:o}),a=(0,d()._X)({name:"collection_connected_property_google_drive",spaceId:t,userId:o}),s=(0,d()._X)({name:"collection_connected_property_zendesk",spaceId:t,userId:o});return{[r().e1]:n,[r().ob]:i,[r().Hd]:a,[r().k0]:s}}function u(e){if(!e)return;const t=e&&(0,i().UU)(e)?e.connectedRelation.integration_id:void 0;return(0,s().l)(t)}function p(e){let{featureName:t}=e;const o=function(e){const t=e.featureName,o=(0,n().K8)((()=>{var t;return e.spaceId??(null===(t=l().default.state.currentSpaceStore)||void 0===t?void 0:t.id)}),[e.spaceId]),i=(0,n().K8)((()=>{var t;return e.userId??(null===(t=l().default.state.currentUserStore)||void 0===t?void 0:t.id)}),[e.userId]);return(0,d()._X)({name:t,spaceId:o,userId:i})}({featureName:t});if(!o)return;const i=(0,a().e2)(o),r=(0,a().Xq)(o);let s,c;return!r||"product"!==r.type||"plus"!==r.product&&"business"!==r.product&&"enterprise"!==r.product||(s=r.product),i&&(c=i&&o.expiry&&"sunset"===o.expiry.type?o.expiry.endDate:void 0),{isAvailable:i,expirationDate:c,upsell:r,upsellTier:s}}},758103:(e,t,o)=>{o.d(t,{R:()=>x,Y:()=>v});o(242343);var n=()=>o(237385),i=()=>o(803290),r=()=>o(174114),a=()=>o(575681),s=()=>o(452794),l=()=>o(836693),d=()=>o(486540),c=()=>o(16043),u=()=>o(528762),p=()=>o(653998),g=()=>o(220413),m=()=>o(76394),h=()=>o(622286),y=()=>o(268117),f=()=>o(209684),b=o(163643);function v(e){let{type:t,role:o,events:l,disabled:d,buttonStyle:c,buttonContents:u,icon:g,table:m,isCurrentUser:v,from:S}=e;const{isMobile:C}=(0,n().Y0)(),_=(0,r().IS)((e=>({button:{...c},icon:{width:10,marginLeft:4,fill:e.lightIconColor},label:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},iconContainer:{fill:e.icon.secondary,padding:2}})),[c]),M=g||!d&&a()._,k=(0,i().K8)((()=>"shareMenu"===S&&(0,y().FI)()),[S]),w=(0,h().X)("sharing_anyone_with_the_link");return C&&"shareMenu"===S&&k?d?null:(0,b.jsx)(f().p,{...l,disabled:d,style:_.iconContainer,children:(0,s().L)({height:24,width:24})}):(0,b.jsxs)(f().p,{id:void 0,...l,disabled:d,style:_.button,children:[u||(0,b.jsx)("span",{className:"notranslate",style:_.label,children:(0,b.jsx)(p().sA,{...x({type:t,role:o,table:m,isRemovable:!1,isCurrentUser:v,isRedesignEnabled:k,isPublicShareLink:w}).label})}),M&&M(_.icon)]})}function x(e){let{type:t,role:o,table:n,isRemovable:i,isCurrentUser:r,isRedesignEnabled:a,isPublicShareLink:s}=e;if("access"===o)return{label:d().Sf.variousAccessLabel};if("limited"===o)return{label:d().Sf.limitedAccessLabel};if((0,d().II)(o))return(0,d().sK)(o,n);switch(o){case"editor":return n===u().NX||n===c().y7?{label:d().Sf.workspaceOwnerLabel,caption:d().Sf.workspaceOwnerCaption}:{label:d().Sf.fullAccessLabel,caption:a?d().Sf.fullAccessCaptionV2:d().Sf.fullAccessCaption};case"membership_admin":return n===u().NX||n===c().y7?{label:d().Sf.membershipAdminLabel,caption:d().Sf.membershipAdminCaption}:{label:d().Sf.canEditLabel,caption:a?d().Sf.canEditCaptionV2:d().Sf.canEditCaption};case"read_and_write":return n===u().NX||n===c().y7?{label:d().Sf.memberLabel,caption:d().Sf.memberCaption}:{label:d().Sf.canEditLabel,caption:a?d().Sf.canEditCaptionV2:d().Sf.canEditCaption};case"content_only_editor":return{label:d().Sf.canEditContentLabel,caption:d().Sf.canEditContentCaption};case"reader":return{label:d().Sf.canReadLabel,caption:a?void 0:d().Sf.canReadCaption};case"comment_only":return{label:d().Sf.canCommentLabel,caption:a?d().Sf.canCommentCaptionV2:d().Sf.canCommentCaption};case"none":if("public_permission"===t)return s?{label:i?d().Sf.publicShareLinkRemoveLabel:d().Sf.publicShareLinkNoAccessLabel,hideSelectionCheckIcon:i}:{label:a?d().Sf.unpublishPageLabelV2:d().Sf.unpublishPageLabel,caption:d().Sf.unpublishPageCaption};if(i){if(n===u().NX||n===c().y7)return r?{label:d().Sf.leaveWorkspaceLabel,style:{color:g().Ay.red}}:{label:d().Sf.removeFromWorkspaceLabel,style:{color:g().Ay.red}};{const e="collection_property_permission"===t;return{label:e?d().Sf.removePermissionRuleLabel:d().Sf.removeWorkspaceLabel,style:{color:g().Ay.red},icon:e?(0,l().trashIcon)({height:20,width:20,marginRight:4}):void 0}}}return{label:d().Sf.noAccessLabel,style:{color:g().Ay.red}};default:(0,m().HB)(o)}}},769687:(e,t,o)=>{o.d(t,{F:()=>i});var n=()=>o(137476);function i(e,t){n().vd(e,"relation_reorder",t)}},781007:(e,t,o)=>{o.d(t,{Q:()=>h});o(242343);var n=()=>o(237385),i=()=>o(803290),r=()=>o(174114),a=()=>o(279968),s=()=>o(972076),l=()=>o(606989),d=()=>o(486540),c=()=>o(653998),u=()=>o(31448),p=()=>o(307542),g=()=>o(678523),m=o(163643);function h(e){const{style:t,labelType:o,shouldUseTabStyle:h}=e,{isMobile:y}=(0,n().Y0)(),f="invited"===o,{label:b,icon:v}=(0,i().K8)((()=>"invited"===o?{label:d().Sf.invitedLabel,icon:a().h}:(0,p().Qd)()?"team_level_guest"===o?{label:d().Sf.teamGuestLabel,icon:s().X}:{label:d().Sf.pageGuestLabel,icon:l().Y}:{label:d().Sf.guestLabel,icon:a().h}),[o]),x=(0,r().IS)((e=>({container:{display:"flex",alignItems:"center",background:void 0,color:e.guestIconColor,lineHeight:u().K_.UISmall.desktop,fontSize:u().J.UISmall.desktop,fontWeight:u().Wy.medium,textTransform:"none",letterSpacing:void 0,...h?{background:f?e.tint.regular:e.fill.yellowSecondary,color:f?e.text.secondary:e.icon.yellowSecondary,padding:"0px 4px",borderRadius:4,height:y?20:16,textTransform:"none",fontSize:y?12:10,fontWeight:u().Wy.medium,letterSpacing:y?void 0:"0.12px",lineHeight:y?"16px":"13px"}:{}},icon:{display:"inline",verticalAlign:"middle",fill:e.guestIconColor,width:12,marginRight:4}})),[h,y,f]);return(0,m.jsxs)(g().A,{innerStyle:{...x.container,...t},children:[!h&&v(x.icon),(0,m.jsx)(c().sA,{...b})]})}},785061:(e,t,o)=>{o.d(t,{Hc:()=>d,Io:()=>u,Mg:()=>g,S3:()=>s,X3:()=>l,dE:()=>p,iO:()=>c,vC:()=>m,vG:()=>a});o(362833),o(725707),o(771702);var n=()=>o(174114),i=()=>o(220413),r=()=>o(31448);function a(e){const{focus:t}=e;return(0,n().IS)((e=>({searchBar:{padding:16},inputStyle:{minWidth:60,width:"auto",borderTopLeftRadius:4,borderTopRightRadius:4,fontSize:14,fontWeight:r().Wy.regular},inputOuterStyle:{padding:6,borderRadius:6,height:20,alignItems:"center",minHeight:32,background:e.accentColors.gray[30],...t&&{background:"none"}}})),[t])}function s(){return(0,n().IS)((e=>({selectAllSectionStyle:{display:"flex",flexDirection:"column",gap:2,padding:"8px 0px 16px 0px"},sectionMenuItem:{padding:"12px 0px 0px 2px",display:"flex",flexDirection:"column",gap:2},dividerStyle:{margin:"0px 16px"},dividerInnerStyle:{borderBottom:`1px solid ${e.stroke.secondary}`},selectAllStyle:{display:"flex",fontSize:14,color:e.text.primary},totalCountsStyle:{paddingLeft:3,fontSize:14,color:e.text.tertiary}})),[])}function l(){return(0,n().IS)((e=>({footerStyle:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:60,padding:"12px 16px 16px 16px",borderTop:`1px solid ${e.stroke.secondary}`}})),[])}function d(){return(0,n().IS)((e=>({labelContainer:{display:"flex",alignItems:"center",color:i().Ay.uiLightBlack,size:14,gap:6},importListButton:{height:28,borderRadius:4,border:void 0,width:"100%"},importListButtonContainer:{padding:"0 6px",alignItems:"center"}})),[])}function c(){return(0,n().IS)((e=>({topContainer:{display:"flex",alignItems:"center",width:"100%",height:40,padding:"0 16px",borderBottom:`1px solid ${e.stroke.secondary}`},sendInviteLabel:{color:e.text.primary,fontSize:14,fontWeight:r().Wy.medium,textAlign:"left",verticalAlign:"top"}})),[])}function u(e,t){return(0,n().IS)((o=>({buttonContainer:{padding:"0 8px",...t},button:{height:32,borderRadius:4,border:`1px solid ${o.stroke.primary}`,...e}})),[e,t])}function p(e){const{filteredImportedContacts:t,inviteTargetsStore:o}=e,n=o.state.inviteTargets.length;return 0!==n&&n===t.length}function g(e){const{filteredImportedContacts:t}=e,o={};return t.forEach(((e,t)=>{const n=e.value.email[0].toUpperCase(),i=/^[A-Za-z]$/.test(n)?n:"#";o[i]||(o[i]=[]),o[i].push(e)})),o}function m(e){const{canEditPermission:t,isMobile:o,hasAccessToFeature:n}=e;return!(o||n||!t)}},789894:(e,t,o)=>{o.d(t,{n:()=>r});var n=()=>o(129978);const i=new(n().O2)("react-day-picker",(async()=>await Promise.all([o.e(95555),o.e(75831),o.e(68548)]).then(o.bind(o,210513)))),r=(0,n()._h)(i,(e=>e.default))},793613:(e,t,o)=>{o.d(t,{E:()=>m});o(242343);var n=()=>o(803290),i=()=>o(174114),r=()=>o(653998),a=()=>o(622286),s=()=>o(485966),l=()=>o(695951),d=o(163643);const c={define_variables_automation_action:{launchDateMs:17277408e5,expiryDateMs:1738368e6},passkey_setting:{launchDateMs:1729101727e3,expiryDateMs:1738432882e3},http_request_automation_action:{launchDateMs:173324302e4,expiryDateMs:1738368e6},publish_site_settings_embed_page:{launchDateMs:1736208e6,expiryDateMs:1743984e6},generalized_recurrence_automations:{launchDateMs:17365536e5,expiryDateMs:17460576e5},ai_page_translation_topbar_more_action:{launchDateMs:1740451280830,expiryDateMs:17434656e5},verification:{launchDateMs:1740096e6,expiryDateMs:174375e7},notion_ai_workspace_settings:{launchDateMs:17424288e5,expiryDateMs:17550432e5},notion_mail_launch_modal:{launchDateMs:17446752e5,expiryDateMs:17525376e5},notion_mail_launch_modal_2:{launchDateMs:17446752e5,expiryDateMs:17578944e5},ui_doc_example:{launchDateMs:19249056e5,expiryDateMs:19249056e5},show_integration_webhooks_callout:{launchDateMs:17428608e5,expiryDateMs:17506368e5},collection_property_permissions:{launchDateMs:17433792e5,expiryDateMs:17671392e5},salesforce_sync_unfurling_option:{launchDateMs:17443296e5,expiryDateMs:17538336e5}};function u(e){let{style:t}=e;const o=(0,i().IS)((e=>({badge:{letterSpacing:0,whiteSpace:"nowrap",width:"fit-content",...t}})),[t]);return(0,d.jsx)(l().A,{color:"blue",style:o.badge,content:(0,d.jsx)(r().sA,{id:"newBadgeComponent.label",defaultMessage:"New"})})}function p(e){let{style:t,newBadgeKey:o}=e;const{launchDateMs:i,expiryDateMs:r}=c[o];return(0,n().K8)((()=>{const{currentUserSettingsStore:e}=s().default.state;if(e&&e.isReady()){var t;const o=null===(t=e.getSettings())||void 0===t?void 0:t.signup_time;if(o&&o>i)return!1}return Date.now()<=r}),[r,i])?(0,d.jsx)(u,{style:t}):null}function g(e){let{style:t,newBadgeKey:o}=e;return(0,a().X)(o)?(0,d.jsx)(u,{style:t}):null}function m(e){return e.didUserEngage?null:"feature_gate"===e.keyType?(0,d.jsx)(g,{...e}):(0,d.jsx)(p,{...e})}},808263:(e,t,o)=>{o.d(t,{_:()=>n});const n=(0,o(680369).xh)("personCircle",{default:{loader:()=>o.e(89491).then(o.bind(o,895800))},small:{loader:()=>o.e(95357).then(o.bind(o,287110))},mini:{loader:()=>o.e(70891).then(o.bind(o,626640))},large:{loader:()=>o.e(49761).then(o.bind(o,642922))}})},823519:(e,t,o)=>{o.d(t,{a:()=>g});var n=o(242343),i=()=>o(174114),r=()=>o(76394),a=()=>o(31448),s=()=>o(421338),l=()=>o(152058),d=()=>o(755002),c=o(163643);function u(e){const{disabled:t,checked:o,selectorSize:n}=e,[r,a]=(0,l().A)(),s=function(e){const{checked:t,disabled:o,isFocusVisible:n,selectorSize:r}=e;return(0,i().IS)((e=>({root:{position:"absolute",display:"flex",width:15,height:15,padding:5,margin:1.5,justifyContent:"center",alignItems:"center",gap:8,flexShrink:0,borderRadius:"50%",transition:"background 100ms ease-out",...t?{boxShadow:`0 0 0 1.5px ${o?e.tint.regular:e.blueColor}`,background:o?e.tint.regular:e.blueColor}:{boxShadow:`0 0 0 1.5px ${o?e.icon.quaternary:e.stroke.input}`,background:e.surface.page},...n&&{boxShadow:e.outlineBlueInputBoxShadow}},active:{background:t?e.blueButtonPressedBackground:e.buttonHoveredBackground},input:{opacity:0,width:"small"===r?14:18,height:"small"===r?14:18,...o?{pointerEvents:"none"}:{cursor:"pointer"}}})),[t,o,n,r])}({checked:o,disabled:t,isFocusVisible:a,selectorSize:n});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("input",{ref:r,type:"radio",style:s.input,className:"radio-button",...e}),(0,c.jsx)("span",{...(0,d().AH)("custom-radio-button",s.root,t?{}:{pseudoActive:s.active})})]})}var p=()=>o(701270);const g=n.forwardRef((function(e,t){let{additionalContent:o,description:r,isDisabled:l,isSelected:d,label:u,name:p,onChange:g,width:y="fill",selectorSize:f="normal",selectAlignXAxis:b="left",selectAlignYAxis:v="center",selectType:x="checkbox",style:S,supportText:C,value:_,colorName:M,alignAdditionalContent:k,...w}=e;const P=(0,n.useId)(),j=function(e){const{isSelected:t,isDisabled:o,selectAlignYAxis:n,alignAdditionalContent:r}=e;return(0,i().IS)((e=>{const i=t&&!o?e.blueColor:e.selectorBorderUnselected;return{container:{display:"flex",alignItems:r??"center",gap:12,userSelect:"none",padding:"9px 16px 10px 10px",borderRadius:6,border:`1px solid ${i}`,...!o&&{cursor:"pointer"}},title:{fontWeight:a().Wy.medium,fontSize:14,userSelect:"none",lineHeight:18},additionalContentWrapper:{flexShrink:0},selectorWrapper:{display:"flex",..."top"===n?{marginTop:2}:{}},rightAlignSelectorWrapper:{display:"flex"}}}),[t,o,n,r])}({isSelected:d,isDisabled:l,selectAlignYAxis:v,alignAdditionalContent:k}),A=(0,c.jsxs)(s().Y1,{direction:"horizontal",align:"top"===v?"top-left":"center-left",gap:12,width:y,children:[(0,c.jsx)("div",{style:j.selectorWrapper,children:(0,c.jsx)(h,{id:P,selectType:x,name:p,value:_,onChange:g,isSelected:d,selectorSize:f,isDisabled:l,...w})}),(0,c.jsx)(m,{colorName:M,description:r,label:u,selectorSize:f,supportText:C,isDisabled:l})]}),R=(0,c.jsxs)(s().Y1,{direction:"horizontal",align:"top"===v?"top-center":"center",gap:12,children:[(0,c.jsx)(m,{colorName:M,description:r,label:u,selectorSize:f,supportText:C,isDisabled:l}),(0,c.jsx)("div",{style:{...j.selectorWrapper,...j.rightAlignSelectorWrapper},children:(0,c.jsx)(h,{id:P,selectType:x,name:p,value:_,onChange:g,selectorSize:f,isSelected:d,isDisabled:l,...w})})]}),I=o?(0,c.jsx)("div",{style:j.additionalContentWrapper,children:o}):null;return(0,c.jsx)("label",{ref:t,style:{...j.container,...S},htmlFor:P,children:"left"===b?(0,c.jsxs)(c.Fragment,{children:[A,I]}):(0,c.jsxs)(c.Fragment,{children:[I,R]})})}));function m(e){const{description:t,label:o,supportText:n,selectorSize:i,isDisabled:a,colorName:l}=e;let d;return"large"===i?d="Page-Content/Text-Block":"normal"===i||void 0===i?d="Body-13px/Medium":"small"===i?d="Body-12px/Regular":(0,r().HB)(i),(0,c.jsxs)(s().Y1,{gap:4,children:[(0,c.jsxs)(s().Y1,{gap:2,children:[(0,c.jsx)(p().D,{styleName:d,colorName:l||(a?"quaternary":"primary"),children:o}),t?(0,c.jsx)(p().D,{styleName:"Caption-12px/Regular",colorName:a?"quaternary":"secondary",children:t}):null]}),n?(0,c.jsx)(p().D,{styleName:"Caption-12px/Medium",colorName:"tertiary",children:n}):null]})}function h(e){const{selectType:t,selectorSize:n="normal",id:a,name:s,value:l,onChange:d,isSelected:p,isDisabled:g,...m}=e,h=(0,i().IS)((()=>({checkboxWrapper:{minWidth:18,display:"flex",justifyContent:"center"}})),[]);switch(t){case"radio":return(0,c.jsx)(u,{id:a,name:s,value:l,onChange:d,checked:p,disabled:g,selectorSize:n,...m});case"checkbox":return(0,c.jsx)("div",{style:h.checkboxWrapper,children:(0,c.jsx)(o(830025).W,{id:a,name:s,value:l,onChange:d,checked:p,disabled:g,selectorSize:n,...m})});default:(0,r().HB)(t)}}},830025:(e,t,o)=>{o.d(t,{W:()=>l});o(242343);var n=()=>o(152058),i=()=>o(174114),r=()=>o(755002),a=()=>o(96144),s=o(163643);function l(e){const{selectorSize:t="normal",...o}=e,{disabled:l,checked:d}=o,[c,u]=(0,n().A)(),p=function(e){const{checked:t,disabled:o,isFocusVisible:n,selectorSize:r}=e;return(0,i().IS)((e=>({root:{position:"absolute",display:"flex",width:"large"===r?15:11,height:"large"===r?15:11,margin:1.5,justifyContent:"center",alignItems:"center",flexShrink:0,borderRadius:"large"===r?2:1,transition:"background 100ms ease-out",...t?{boxShadow:`0 0 0 1.5px ${o?e.tint.regular:e.blueColor}`,background:o?e.tint.regular:e.blueColor}:{boxShadow:`0 0 0 1.5px ${o?e.icon.quaternary:e.stroke.input}`,background:e.surface.page},...n&&{boxShadow:e.outlineBlueInputBoxShadow}},active:{background:t?e.blueButtonPressedBackground:e.buttonHoveredBackground},input:{opacity:0,width:"large"===r?18:void 0,height:"large"===r?18:void 0,...o?{pointerEvents:"none"}:{cursor:"pointer"}},icon:{color:e.text.contrastPrimary,width:"large"===r?12:10,height:"large"===r?12:10,ariaHidden:!0}})),[r,t,o,n])}({checked:d,disabled:l,selectorSize:t,isFocusVisible:u});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("input",{ref:c,type:"checkbox",style:p.input,...o}),(0,s.jsx)("span",{...(0,r().AH)(p.root,l?{}:{pseudoActive:p.active}),children:d&&(0,a().R)(p.icon)})]})}},836880:(e,t,o)=>{o.d(t,{V:()=>r});var n=()=>o(137476),i=()=>o(836331);function r(e,t){(0,n().u4)({environment:e,event:{eventName:"open_import_contacts_dropdown",eventProperties:{source:t.source}}}),i().default.logEvent("open_import_contacts_dropdown",void 0,{metadata:t})}},842940:(e,t,o)=>{o.d(t,{J:()=>i});o(242343);const n={viewBox:"0 0 20 20",svg:(0,o(163643).jsx)("path",{d:"M8.875 2.625a6.25 6.25 0 1 0 3.955 11.09l3.983 3.982a.625.625 0 1 0 .884-.884l-3.983-3.982a6.25 6.25 0 0 0-4.84-10.205m-5 6.25a5 5 0 1 1 10 0 5 5 0 0 1-10 0"})},i=(0,o(680369).wt)("magnifyingGlass",n)},855470:(e,t,o)=>{o.d(t,{V:()=>i});o(242343);var n=o(163643);const i=(0,o(680369).wt)("chevronRight",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M12.375 8.06445C12.375 7.83203 12.2861 7.63379 12.1084 7.45605L6.77637 2.24023C6.62598 2.08984 6.44141 2.01465 6.22266 2.01465C5.77832 2.01465 5.42285 2.35645 5.42285 2.80078C5.42285 3.01953 5.51172 3.21777 5.66211 3.375L10.4746 8.06445L5.66211 12.7539C5.51855 12.9043 5.42285 13.1025 5.42285 13.3213C5.42285 13.7725 5.77832 14.1143 6.22266 14.1143C6.44141 14.1143 6.62598 14.0391 6.77637 13.8887L12.1084 8.67285C12.293 8.49512 12.375 8.29688 12.375 8.06445Z"})})},870122:(e,t,o)=>{o.r(t),o.d(t,{globeIcon:()=>i,iconDefinition:()=>n});o(242343);const n={viewBox:"0 0 20 20",svg:(0,o(163643).jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 15.25 0 7.625 7.625 0 0 1-15.25 0m3.123-4.514c.55.252 1.21.463 1.953.612q.135-.585.308-1.086a6.6 6.6 0 0 1 .512-1.15 6.4 6.4 0 0 0-2.773 1.624m-.814.994a6.34 6.34 0 0 0-1.029 2.895h3.396c.022-.715.081-1.403.173-2.048-.962-.191-1.827-.48-2.54-.847m-1.029 4.145a6.34 6.34 0 0 0 1.03 2.895c.712-.367 1.577-.656 2.54-.848a19 19 0 0 1-.174-2.047zm4.647 0c.021.657.076 1.283.158 1.862a15 15 0 0 1 3.08 0c.082-.58.137-1.205.158-1.862zm4.647 0a19 19 0 0 1-.173 2.048c.845.169 1.615.412 2.274.717a.6.6 0 0 1 .23.182 6.34 6.34 0 0 0 1.065-2.947zm3.396-1.25a6.34 6.34 0 0 0-1.03-2.895c-.712.367-1.577.656-2.54.847.093.645.152 1.333.174 2.048zm-4.647 0a17 17 0 0 0-.158-1.862 15 15 0 0 1-3.08 0c-.082.58-.137 1.205-.158 1.862zm-6.2 5.139a6.4 6.4 0 0 0 2.773 1.624 6.6 6.6 0 0 1-.512-1.15 11 11 0 0 1-.308-1.086 9 9 0 0 0-1.953.612m9.004 0a9 9 0 0 0-1.953-.611q-.135.584-.308 1.085a6.6 6.6 0 0 1-.512 1.15 6.4 6.4 0 0 0 2.773-1.624m-3.443.067q.136-.395.249-.86a13.7 13.7 0 0 0-2.615-.001q.111.466.248.861c.198.575.42.995.635 1.259.22.269.366.302.424.302s.205-.033.424-.302c.215-.264.437-.684.635-1.259m3.443-9.095a6.4 6.4 0 0 0-2.773-1.624c.196.337.366.726.512 1.15q.173.501.308 1.086a9 9 0 0 0 1.953-.612M10 6.342q.676-.001 1.308-.062a9 9 0 0 0-.249-.861c-.198-.575-.42-.995-.635-1.259-.22-.269-.366-.302-.424-.302s-.204.033-.424.302c-.215.264-.437.684-.635 1.259q-.136.395-.248.861.631.061 1.307.062"})},i=(0,o(680369).wt)("globe",n)},888575:(e,t,o)=>{o.d(t,{A:()=>i});o(242343);var n=o(163643);const i=function(e){const{botStore:t,avatarSize:i,shouldShowBadge:r,style:a,inline:s}=e,l=(0,o(653998).tz)(),d=(0,o(237385).Y0)(),c=(0,o(803290).K8)((()=>null==t?void 0:t.getDisplayName(l)),[t,l]),{outerStyle:u,avatarWrapStyle:p,badgeStyle:g}=(0,o(174114).IS)((e=>({outerStyle:{display:"flex",alignItems:"center",minWidth:0,...a},avatarWrapStyle:s?{width:"none",minHeight:"none",marginRight:6}:{marginRight:6},badgeStyle:{padding:"2px 6px",borderRadius:4,color:e.text.secondary,background:e.legacyDefaultSelectColor,fontSize:d.isMobile?11:9,lineHeight:d.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em",marginLeft:8,marginTop:1}})),[a,s,d]);return(0,n.jsxs)("div",{style:u,children:[(0,n.jsx)("div",{style:p,children:(0,n.jsx)(o(951156).A,{botStore:t,size:i})}),(0,n.jsx)("div",{style:{...o(31448).RC},children:c}),r&&(0,n.jsx)("div",{style:g,children:"Bot"})]})}},902496:(e,t,o)=>{o.d(t,{default:()=>j});o(725707),o(491955),o(500234),o(403517);var n=o(242343),i=()=>o(237385),r=()=>o(803290),a=()=>o(174114),s=()=>o(916963),l=()=>o(573520),d=()=>o(791976),c=()=>o(653998),u=()=>o(975392),p=()=>o(31448),g=()=>o(137476);var m=()=>o(626911),h=()=>o(927999),y=()=>o(84543),f=()=>o(640979),b=()=>o(755786),v=()=>o(907721),x=()=>o(725460),S=()=>o(535906),C=()=>o(97787),_=()=>o(356813),M=()=>o(935091),k=()=>o(858023),w=()=>o(88271),P=o(163643);const j=function(e){let{collectionStore:t,targetCollectionStore:s,property:l,disabled:d,rowType:u}=e;const p=(0,a().DP)(),m=(0,i().v3)(),h=(0,r().uB)(void 0,o(210466).A),{format:y}=(0,n.useContext)(o(108507).t),f=(0,r().K8)((()=>{const e=b().B7({collectionStore:t,property:l}),o=Object.keys(s.getSchema()).map((t=>e.find((e=>e.property===t))??{property:t,visible:!1})),n=e.map((e=>e.property)),i=e=>{const t=n.indexOf(e);return-1!==t?t:1/0};return o.sort(((e,t)=>i(e.property)-i(t.property))),o}),[t,s,l]),x=(0,n.useCallback)((e=>(0,P.jsx)(B,{parent:e,collectionStore:t,property:l,disabled:d,targetCollectionStore:s,menuListStore:h,allRelatedTargetProperties:f})),[t,l,d,s,h,f]),S=(0,a().IS)((e=>({tooltipBody:{color:e.text.secondary},tooltipContainer:{display:"flex",flexDirection:"column"}})),[]);return(0,i().WS)()&&"section"!==u||"form_editor"===y||"form_viewer"===y?null:(0,P.jsx)(o(103151).A,{renderTooltip:()=>(0,P.jsxs)("div",{style:S.tooltipContainer,children:[(0,P.jsx)("div",{children:(0,P.jsx)(c().sA,{id:"database.RelationCustomizeLayoutMenu.tooltip.button.message",defaultMessage:"Customize shown properties"})}),d&&(0,P.jsx)("div",{style:S.tooltipBody,children:(0,P.jsx)(c().sA,{id:"database.RelationCustomizeLayoutMenu.tooltip.button.message.no_access",defaultMessage:"You do not have permission to edit"})})]}),placement:"section"===u?v().W.Top:v().W.Right,render:e=>(0,P.jsx)(o(273520).Ay,{popupType:o(443252).nl.Popup,alignmentToOrigin:v().C.Start,...e,renderOrigin:t=>(0,P.jsx)(_().A,{icon:o(711361)._,iconStyle:{width:16,color:p.mediumIconColor,fill:p.mediumIconColor},disabled:d,...t,...e}),onClick:()=>{!function(e,t){g().vd(e,"relation_customize_displayed_properties",t)}(m,{from:"section"===u?"relation_section":"configure_relation_modal"})},originGap:16,render:x})})};function A(e){const{props:t,children:o}=e;return(0,P.jsx)(w().A,{...t,noTextOverflow:!0,title:(0,P.jsx)(c().sA,{defaultMessage:"Hidden in relation",id:"database.relationMenu.hiddenInRelationTitle"}),desktopTitleStyle:{height:19},children:o,disableDesktopPadding:!0})}function R(e,t,o,n,i,r,a){const{properties:c,visibility:g}=e;return u().oE(c.map((e=>function(e,t,o,n,i,r,a){const{propertyFormat:c,visibility:u}=e,g=!u,h=i.getSchema();if(!h)return;const y=h[c.property];return y?{key:c.property,render:e=>(0,P.jsx)(S().A,{...e,showDragHandle:!a,title:(0,P.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,P.jsx)(s().zB,{icon:y.icon,type:y.type,size:16,theme:o,style:{fill:o.regularIconColor}}),(0,P.jsx)("span",{style:{marginLeft:8,...p().RC},children:y.name})]}),right:(0,P.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,P.jsx)(_().A,{icon:g?d().T:l().h,iconStyle:{width:16,height:16},isDarkIconColor:!g,onClick:()=>{m().xI({propertyFormat:c,visibility:u,collectionStore:n,property:r,environment:t})},disabled:a||"title"===c.property})})}),action:()=>{}}:void 0}({propertyFormat:e,visibility:g},t,o,n,i,r,a))))}function I(e){const t=(0,i().v3)(),{collectionStore:o,property:n,menuListStore:r,disabled:a,visibleProperties:s,hiddenProperties:l,children:d}=e,c=u().oE([...s.map((e=>e.property)),s.length>0&&l.length>0&&{key:"group-header-hidden-property",draggable:!1},...l.map((e=>e.property))]);return(0,P.jsx)(C().Ay,{direction:"vertical",keys:c,renderKey:(e,t)=>d[t],onDrop:e=>{!function(e,t,o,n,i){const{newPropertyKeys:r}=e,a=b().B7({collectionStore:o,property:n}),s=r.indexOf("group-header-hidden-property"),l=u().oE(r.filter((e=>!e.startsWith("group-header-"))).map(((e,t)=>{const o=a.find((t=>t.property===e));return o?s>0?"title"===e&&t>=s?o:{...o,visible:Boolean(t<s)}:o:{property:e,visible:!(s>0)||Boolean(t<s)}}))),d=a.filter((e=>!r.includes(e.property))),c={...b().TA(o)};c[n]||(c[n]={}),c[n].related_properties=[...l,...d],y().createAndCommit({userAction:"RelationPropertyCustomizeLayoutMenu.handlePropertyReorder",environment:t,canUndo:!0,perform:e=>{h().zA({stores:[o],update:{collection_relation_options:c},transaction:e})}}),i.reset()}({newPropertyKeys:e},t,o,n,r)},disabled:a})}function B(e){let{parent:t,collectionStore:o,property:n,disabled:s,targetCollectionStore:l,menuListStore:d,allRelatedTargetProperties:p}=e;const g=(0,a().DP)(),m=(0,i().v3)(),h=p.filter((e=>e.visible)),y=p.filter((e=>!e.visible)),b=(0,r().K8)((()=>R({properties:h,visibility:!0},m,g,o,l,n,s)),[h,m,g,o,l,n,s]),v=(0,r().K8)((()=>R({properties:y,visibility:!1},m,g,o,l,n,s)),[y,m,g,o,l,n,s]);return p?(0,P.jsxs)(M().A,{menuType:f().gu.Popup,maxWidth:240,maxHeight:500,children:[0===p.length&&(0,P.jsx)(w().A,{children:(0,P.jsx)(x().A,{caption:(0,P.jsx)(c().sA,{defaultMessage:"No properties",id:"database.relationMenu.noProperties"})})}),p.length>0&&(0,P.jsx)(k().Ay,{type:k().Oh.Vertical,store:d,initialFocus:void 0,sections:u().oE([h.length>0&&{key:"visible_and_hidden_properties",render:e=>(0,P.jsx)(w().A,{...e,noTextOverflow:!0,title:(0,P.jsx)(c().sA,{defaultMessage:"Shown in relation",id:"database.relationMenu.shownInRelationTitle"}),desktopTitleStyle:{height:18},children:(0,P.jsx)(I,{collectionStore:o,property:n,disabled:s,menuListStore:d,visibleProperties:h,hiddenProperties:y,children:e.children})}),items:u().oE([...b,y.length>0&&{key:"group-header-hidden-property",render:e=>(0,P.jsx)(A,{props:e,children:(0,P.jsx)(P.Fragment,{})}),action:()=>{}},...v])},0===h.length&&y.length>0&&{key:"hidden_properties",render:e=>(0,P.jsx)(A,{props:e,children:(0,P.jsx)(I,{collectionStore:o,property:n,disabled:s,menuListStore:d,visibleProperties:h,hiddenProperties:y,children:e.children})}),items:v}])})]}):null}},933871:(e,t,o)=>{o.d(t,{U:()=>p});o(610931);var n=()=>o(543396),i=()=>o(827875),r=()=>o(33715),a=()=>o(846287),s=()=>o(201147),l=()=>o(946854),d=()=>o(84543),c=()=>o(272690),u=()=>o(477267);function p(e){let{environment:t,transaction:o,layoutStore:p,position:g,sessionId:m,beforePerformDeleteModule:h}=e;const y=p.getModules();if(!y)throw new Error("[deleteModuleAtPosition] modules by area not found for layout store");const f=(0,a().EX)(y,(e=>e.id===g.moduleId)),b=(0,n().Cg)({moduleId:null==f?void 0:f.module.id,modulesByArea:p.getModules()}).length;if(!f)return;const{module:v,position:x}=f;if(!(0,s().Fe)(v))throw new Error("[deleteModuleAtPosition] module to delete is not removeable");var S;(d().createAndCommitOrAppend({environment:t,transaction:o,canUndo:!0,perform(e){!function(e){const{transaction:t,layoutStore:o,moduleLocation:n,moduleToDelete:a,beforePerformDeleteModule:s}=e;s&&s(t);(0,l().V6)(a)&&(0,u().deleteViewsModuleDependencies)({layoutStore:o,viewsModule:a,transaction:t});if("form_conditional_modules"===n.area){const e=i().N4.removeChildModule({pointer:o.pointer,modulesByArea:o.getModules(),module:a});for(const n of e)d().applyOperation({transaction:t,store:o,operation:n})}else{const e="views_main_tab_modules"===n.area?{area:n.area,viewId:n.viewId}:{area:r().Zm[n.area]};d().applyOperation({transaction:t,store:o,operation:i().N4.deleteModuleInArea({...e,pointer:o.pointer,moduleId:a.id})})}}({environment:t,transaction:e,layoutStore:p,moduleLocation:x,moduleToDelete:v,beforePerformDeleteModule:h})},userAction:"pageLayout.deleteActions.deleteModuleAtPosition"}),m)&&c().PS({environment:t,module:v,sessionId:m,collectionId:null===(S=p.getCollectionModel())||void 0===S?void 0:S.id,layoutId:p.id,context:(0,r().We)(g.area),area:g.area,depth:b})}},934889:(e,t,o)=>{o.r(t),o.d(t,{clockIcon:()=>r,iconDefinition:()=>i});o(242343);var n=o(163643);const i={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M10.625 5.725a.625.625 0 1 0-1.25 0v3.65H6.4a.625.625 0 1 0 0 1.25H10c.345 0 .625-.28.625-.625z"}),(0,n.jsx)("path",{d:"M10 2.375a7.625 7.625 0 1 0 0 15.25 7.625 7.625 0 0 0 0-15.25M3.625 10a6.375 6.375 0 1 1 12.75 0 6.375 6.375 0 0 1-12.75 0"})]})},r=(0,o(680369).wt)("clock",i)},939448:(e,t,o)=>{o.d(t,{l:()=>i});var n=o(242343);function i(e){return(0,n.useEffect)((()=>()=>e()),[])}},944238:(e,t,o)=>{o.d(t,{P:()=>M});o(403517),o(242343);var n=()=>o(114101),i=()=>o(174114),r=()=>o(569948),a=()=>o(421338),s=()=>o(126451),l=()=>o(209684),d=()=>o(286404),c=()=>o(397791),u=()=>o(206799),p=()=>o(701270),g=o(163643);function m(e){const t=(0,i().IS)((e=>({background:{position:"absolute",top:8,right:8,width:24,height:24,borderRadius:"100%",background:e.surface.contrast},button:{width:"100%",height:"100%",borderRadius:"100%",display:"flex",justifyContent:"center",alignItems:"center",background:"transparent"},hovered:{background:e.buttonHoveredBackground},pressed:{background:e.buttonPressedBackground}})),[]);return(0,g.jsx)("div",{style:t.background,children:(0,g.jsx)(s().A,{onClick:e.onClick,style:t.button,hoveredStyle:t.hovered,pressedStyle:t.pressed,children:(0,g.jsx)(c().I,{icon:r().xMarkSmallIcon,size:"sm",color:"primary"})})})}function h(e){const{text:t,onClick:o}=e,n=(0,i().IS)((e=>({button:{height:28,padding:"0 8px",borderRadius:6,borderWidth:1,borderColor:e.stroke.primary,borderStyle:"solid"}})),[]);return(0,g.jsx)(d().A,{size:"lg",onClick:o,style:n.button,children:(0,g.jsx)(p().D,{styleName:"UISmall-12px/Medium",colorName:"primary",children:t})})}function y(e){const{text:t,onClick:o}=e;return(0,g.jsx)(l().p,{onClick:o,children:(0,g.jsx)(p().D,{styleName:"UISmall-12px/Medium",colorName:"secondary",children:t})})}function f(e){const{text:t,onClick:o}=e,n=(0,i().IS)((()=>({button:{height:28,padding:"4px 8px"}})),[]);return(0,g.jsx)(d().A,{size:"lg",onClick:o,style:n.button,children:(0,g.jsx)(p().D,{styleName:"UISmall-12px/Medium",colorName:"primary",children:t})})}function b(e){const{button:t}=e;return(0,g.jsx)(f,{...t})}function v(e){const{primary:t,secondary:o}=e;return(0,g.jsxs)(a().Y1,{direction:"horizontal",gap:8,align:"center-left",children:[(0,g.jsx)(h,{...t}),o?(0,g.jsx)(y,{...o}):void 0]})}function x(e){const{numDots:t,activeDot:o}=e,n=(0,i().IS)((e=>({dot:{width:6,height:6,borderRadius:"100%",background:e.icon.quaternary},active:{background:e.icon.primary}})),[]),r=new Array(t).fill(0).map(((e,t)=>{const i=t===o?{...n.dot,...n.active}:n.dot;return(0,g.jsx)("div",{style:i},t)}));return(0,g.jsx)(a().Y1,{direction:"horizontal",gap:8,children:r})}function S(e){const{button:t,numStages:o,stage:n}=e;return(0,g.jsxs)(a().Y1,{direction:"horizontal",gap:"auto",align:"center",children:[(0,g.jsx)(x,{numDots:o,activeDot:n}),(0,g.jsx)(h,{...t})]})}function C(e){const{alt:t,src:o,type:n}=e,r=(0,i().IS)((()=>({media:{width:"100%",height:"auto",borderRadius:2}})),[]);return"image"===n?(0,g.jsx)("img",{src:o,style:r.media,alt:t}):(0,g.jsx)("video",{title:t,src:o,style:r.media,autoPlay:!0,playsInline:!0,muted:!0,loop:!0,controls:!1})}function _(e){const{onDismiss:t,buttonsProps:o,icon:n,title:r,media:s,body:l}=e,d=(0,i().IS)((e=>({card:{borderWidth:1,borderColor:e.stroke.secondary,borderStyle:"solid",background:e.surface.contrast,backdropFilter:"blur(15px)",WebkitBackdropFilter:"blur(15px)",padding:12,width:280},title:{paddingRight:24},icon:{paddingBottom:2}})),[]);let c,h,y,f,x;if(o)switch(o.type){case"carousel":c=(0,g.jsx)(S,{...o});break;case"full-width":c=(0,g.jsx)(b,{...o});break;case"left-aligned":c=(0,g.jsx)(v,{...o})}return n&&(h=(0,g.jsx)(u().Q,{iconGroup:n,variantName:"small",colorName:"primary",style:d.icon})),r&&(y=(0,g.jsx)("div",{style:d.title,children:(0,g.jsx)(p().D,{styleName:"UISmall-12px/Semibold",colorName:"contrastPrimary",children:r})})),l&&(f=(0,g.jsx)(p().D,{styleName:"UISmall-12px/Regular",colorName:"primary",children:l})),s&&(x=(0,g.jsx)(C,{...s})),(0,g.jsxs)(a().Y1,{style:d.card,borderRadius:8,gap:8,children:[(0,g.jsxs)(a().Y1,{gap:2,children:[h,y,f]}),x,c,(0,g.jsx)(m,{onClick:t})]})}function M(e){return(0,g.jsx)(n().wX,{mode:"dark",children:(0,g.jsx)(_,{...e})})}},945335:(e,t,o)=>{o.d(t,{i:()=>n});const n=(0,o(680369).xh)("arrowUpRightSquare",{default:{loader:()=>o.e(43459).then(o.bind(o,694344))},small:{loader:()=>o.e(97517).then(o.bind(o,49846))},mini:{loader:()=>o.e(60475).then(o.bind(o,609856))},large:{loader:()=>o.e(3953).then(o.bind(o,901466))}})},951514:(e,t,o)=>{o.d(t,{Ay:()=>q});o(362833),o(725707),o(491955),o(500234),o(324989),o(403517),o(242343);var n=()=>o(237385),i=()=>o(803290),r=()=>o(174114),a=()=>o(83544),s=()=>o(486540),l=()=>o(446588),d=()=>o(21164),c=()=>o(16043),u=()=>o(528762),p=()=>o(653998),g=()=>o(76394),m=()=>o(441288),h=()=>o(145046),y=()=>o(927685),f=()=>o(983050),b=()=>o(477784),v=()=>o(640979),x=()=>o(906230),S=()=>o(352723),C=()=>o(392608),_=()=>o(863969),M=()=>o(432809),k=()=>o(907721),w=()=>o(485966),P=()=>o(943066),j=()=>o(103151),A=()=>o(24281),R=o(163643);function I(e){const t=(0,n().v3)(),{render:o,upsell:i,analyticsName:r,renderUpgradeTooltip:a,onUpgradeClick:s,alwaysAllowClick:l,tooltipPlacement:d,upgradeButtonDesktopStyle:c,upgradeButtonMobileStyle:u}=e;let p,{onClick:g,renderTooltip:m}=e;return i&&"product"===i.type&&(p=(0,R.jsx)(A().B,{upsell:i,analyticsName:r,desktopStyle:{display:"inline-block",pointerEvents:"none",...c},mobileStyle:{display:"inline-block",pointerEvents:"none",...u}}),l||(g=e=>{P().K(t,{from:r,upsell:i}),s&&s(e)},m=a)),(0,R.jsx)(j().A,{renderTooltip:m||(()=>null),render:e=>o((0,x().A)(e,{onClick:g}),p),disableTooltip:!m,placement:d})}var B=()=>o(613313),D=()=>o(111826),L=()=>o(764227),T=()=>o(133926),E=()=>o(535906),F=()=>o(273520),U=()=>o(935091),z=()=>o(858023),N=()=>o(678523),W=()=>o(88271),V=()=>o(35462),O=()=>o(611824),H=()=>o(758103),K=()=>o(84979);const G=(0,p().YK)({fullAccessTeamGuestsDisabledMessage:{id:"permissionRoleSelect.teamGuestPermissionItem.disabledPermissionitem.tooltip",defaultMessage:"Teamspace guests can't have full access."}});const q=function(e){let{isUserPermission:t,type:a,table:m,role:h,isInvite:y,availableRoleItems:x,roleItemOverrides:C,blockType:_,onClick:M,onClose:k,origin:w,isMenuItem:P,isRemovableOverride:j,disabled:A,buttonContents:I,buttonPopupStore:B,buttonStyle:D,placementToOrigin:L,alignmentToOrigin:T,upgradeButtonName:N,onUpgradeButtonClick:O,onChange:K,onRemoveMemberClick:q,onRemoveSelfClick:Z,header:$,footer:J,showPermissionOverrideWarning:ee,from:te}=e;const oe=(0,n().v3)(),ne=(0,i().uB)(B,o(962373).A),{device:ie}=oe,re=Boolean(t),ae=(0,o(622286).X)("sharing_anyone_with_the_link"),se=(0,i().K8)((()=>function(e){let{type:t,table:o,role:n,isInvite:i,availableRoleItems:r,roleItemOverrides:a,blockType:s,isPublicShareLink:p}=e;if(r&&r.length>0)return r;if("trusted_domain_permission"===t)return[{role:"reader"},{role:"none"}];if("collection_property_permission"===t)return[{role:"editor"},{role:"read_and_write"},{role:"comment_only"},{role:"reader"},{role:"none"}];if(o===d().Vl)return[{role:"editor"},{role:"read_and_write"},{role:"content_only_editor"},{role:"comment_only"},{role:"reader"},{role:"none"}];if(o===c().y7){let e=l().Gb.map((e=>({role:e})));return i&&(e=e.filter((e=>"none"!==e.role))),e}const g=[];"explicit_team_guest_permission"===t?g.push({role:"editor",disabledInfo:{isDisabled:!0,disabledMessage:b().A.formatMessage(G.fullAccessTeamGuestsDisabledMessage)}}):"bot_permission"!==t&&"public_permission"!==t&&g.push({role:"editor"});"space"===o&&(0,S().Qu)()&&g.push({role:"membership_admin"});g.push({role:"read_and_write"}),"collection_view"!==s&&"collection_view_page"!==s||"bot_permission"===t&&"content_only_editor"!==n||"public_permission"===t||g.push({role:"content_only_editor"});o!==u().NX&&("bot_permission"!==t&&g.push({role:"comment_only"}),"bot_permission"===t&&"reader"!==n||g.push({role:"reader"}));i||g.push({role:"none"});if(!a)return g;return g.map((e=>{const t=a.find((t=>t.role===e.role));return t||e}))}({type:a,table:m,role:h,isInvite:y,availableRoleItems:x,roleItemOverrides:C,blockType:_,isPublicShareLink:ae})),[a,m,h,y,x,C,_,ae]),le=(0,i().K8)((()=>"shareMenu"===te&&(0,o(268117).FI)()),[te]),de=(0,i().K8)((()=>ie.isMobile&&le),[ie,le]),ce=(0,i().K8)((()=>ne.state.open),[ne]),ue=(0,r().IS)((e=>({buttonPopupSheet:{borderTopLeftRadius:12,borderTopRightRadius:12,overflow:"hidden",paddingBottom:10,background:e.surface.wash},menuList:{width:"100%",margin:"0 auto"},sectionMenuItem:{overflow:"hidden",background:e.buttonBackground,borderRadius:12,marginLeft:16,marginRight:16,marginBottom:16,borderWidth:1,borderStyle:"solid",borderColor:e.stroke.secondary,padding:void 0},scrollerStyle:{background:e.surface.wash},header:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",background:e.surface.wash,paddingTop:12,paddingBottom:20},headerLabel:{fontSize:16,fontWeight:o(31448).Wy.semibold,marginBottom:12},headerContent:{width:"100%"}})),[]);return(0,R.jsx)(F().Ay,{style:de?ue.buttonPopupSheet:void 0,onClick:e=>{e.preventDefault(),e.stopPropagation(),M&&M()},onClose:k,popupType:ie.isMobile?F().z7.SlideUp:F().z7.Popup,buttonPopupStore:ne,open:ce,renderOrigin:e=>w||(P?(0,R.jsx)(E().A,{...e,title:(0,R.jsx)(p().sA,{...(0,H().R)({type:a,role:h,table:m,isRemovable:!1,isCurrentUser:re,isRedesignEnabled:le,isPublicShareLink:ae}).label}),focused:!1,showExtensionArrow:!0}):(0,R.jsx)(H().Y,{type:a,role:h,events:e,disabled:A,buttonContents:I,buttonStyle:D,table:m,isCurrentUser:re,from:te})),placementToOrigin:L||o(755769).UV.Bottom,alignmentToOrigin:T,render:e=>{let n,i;if((0,s().II)(h))n=[{key:"mixed_role_section",render:e=>(0,R.jsx)(W().A,{...e,topBorder:!1}),items:[{key:"mixed_role_description",render:()=>(0,R.jsx)(o(649198).F,{role:h}),action:()=>{}}]},{key:"bot_capabilities_warning",render:e=>(0,R.jsx)(W().A,{...e,topBorder:!0}),items:[{key:"warning_details",render:e=>(0,R.jsx)(o(932322).Ay,{...e,shouldWrapCaption:!0,caption:"Integration permissions cannot be changed on a page. You can manage integrations in settings."}),action:()=>{}}]},{key:"remove_bot",render:e=>(0,R.jsx)(W().A,{...e,topBorder:!0}),items:[{key:"none",render:e=>(0,R.jsx)(Q,{from:te,role:h,upgradeButtonName:N,onUpgradeButtonClick:O,focused:e.focused,props:e,availableRole:{role:"none"},isCurrentUser:Boolean(t),isRemovableOverride:j,table:m,type:a,isRedesignEnabled:le,isPublicShareLinkEnabled:ae}),action:()=>{Y("none",m,h,a,N,oe,se,ae,K,O,t,q,Z),e.close()}}]}];else if(n=[{key:"roles",render:e=>(0,R.jsx)(W().A,{...e,topBorder:0!==e.index,style:de?ue.sectionMenuItem:void 0}),items:se.flatMap((o=>{const n={key:o.role,render:e=>(0,R.jsx)(Q,{from:te,role:h,upgradeButtonName:N,onUpgradeButtonClick:O,focused:e.focused,props:e,availableRole:o,isCurrentUser:Boolean(t),isRemovableOverride:j,table:m,type:a,isRedesignEnabled:le,isPublicShareLinkEnabled:ae}),action:()=>{Y(o.role,m,h,a,N,oe,se,ae,K,O,t,q,Z),e.close()}};return le&&"none"===o.role?[]:[o.prefixItem,n].filter(g().O9)}))}],le){const o=se.find((e=>"none"===e.role));(null==o?void 0:o.prefixItem)&&!ie.isMobile&&n.push({key:"prefix-item",render:e=>(0,R.jsx)(W().A,{...e,topBorder:!0,style:de?ue.sectionMenuItem:void 0}),items:[null==o?void 0:o.prefixItem].filter(g().O9)});const i=se.filter((e=>"none"===e.role));i.length>0&&n.push({key:"none-role",render:e=>(0,R.jsx)(W().A,{...e,topBorder:!(ie.isMobile&&le),style:de?ue.sectionMenuItem:void 0}),items:i.flatMap((o=>{const n={key:o.role,render:e=>(0,R.jsx)(Q,{from:te,role:h,upgradeButtonName:N,onUpgradeButtonClick:O,focused:e.focused,props:e,availableRole:o,isCurrentUser:Boolean(t),isRemovableOverride:j,table:m,type:a,isRedesignEnabled:le,isPublicShareLinkEnabled:ae}),action:()=>{Y(o.role,m,h,a,N,oe,se,ae,K,O,t,q,Z),e.close()}};return ie.isMobile?[o.prefixItem,n].filter(g().O9):[n].filter(g().O9)}))})}return i=ie.isMobile?{menuType:v().gu.Modal,title:(0,R.jsx)(p().sA,{id:"userPermissionsMenu.mobile.title",defaultMessage:"Select role"}),right:(0,R.jsx)(p().sA,{id:"userPermissionsMenu.mobile.doneButton.label",defaultMessage:"Done"}),onClickRight:e.close}:{menuType:v().gu.Popup,width:264},de?(0,R.jsx)(U().A,{scrollerStyle:ue.scrollerStyle,menuType:v().gu.Popup,height:"50vh",maxWidth:"100%",className:f().yw8,header:(0,R.jsxs)("div",{style:ue.header,children:[(0,R.jsx)(V().A,{style:ue.headerLabel,children:(0,R.jsx)(p().sA,{defaultMessage:"Change access",id:"PermissionRoleSelect.Header.ChangeAccess"})}),(0,R.jsx)("div",{style:ue.headerContent,children:$})]}),footer:(0,R.jsx)(R.Fragment,{children:J}),children:(0,R.jsx)(z().Ay,{type:z().Oh.Vertical,initialFocus:void 0,sections:n,style:ue.menuList})}):(0,R.jsx)(U().A,{className:f().yw8,header:$,footer:(0,R.jsxs)(R.Fragment,{children:[J,ee&&(0,R.jsx)(X,{})]}),...i,children:(0,R.jsx)(z().Ay,{type:z().Oh.Vertical,initialFocus:void 0,sections:n})})}})};function Z(e,t,o,n){if(!n&&t!==c().y7){if((t===u().NX?l().NB(e):l().p2(e)&&!l().Km(e))&&"public_permission"!==o&&"bot_permission"!==o)return t===u().NX?(0,R.jsx)(K().A,{imageURL:a().A.images.tooltips.upsells.spaceReadAndWritePng,imageWidth:240,imageHeight:100,caption:(0,R.jsx)(p().sA,{defaultMessage:"Members cannot change workspace settings or invite new members.",id:"permissionRoleSelect.spaceReadAndWriteUpgradeTooltip.caption"}),title:(0,R.jsx)(p().sA,{defaultMessage:"Upgrade to add non-admin members",id:"permissionRoleSelect.spaceReadAndWriteUpgradeTooltip.title"})}):(0,R.jsx)(K().A,{imageURL:a().A.images.tooltips.upsells.userReadAndWritePng,imageWidth:240,imageHeight:100,caption:(0,R.jsx)(p().sA,{defaultMessage:"Users with edit access can edit a page but not share it with others.",id:"permissionRoleSelect.userReadAndWriteUpgradeTooltip.caption"}),title:(0,R.jsx)(p().sA,{defaultMessage:"Upgrade to add editors",id:"permissionRoleSelect.userReadAndWriteUpgradeTooltip.title"})})}return!1}function $(e,t){if(void 0!==t)return t;switch(e){case"user_permission":case"bot_permission":case"group_permission":case"collection_property_permission":return!0;case"space_permission":case"space_owner_permission":case"explicit_team_permission":case"team_permission":case"team_owner_permission":case"explicit_team_owner_permission":case"explicit_team_guest_permission":case"public_permission":case"trusted_domain_permission":case"exclusive_user_permission":return!1;default:(0,g().HB)(e)}}async function Y(e,t,o,n,i,r,a,l,d,g,f,b,v){var x,S;const _=(0,M().u)();if(o===e)return;const k=()=>{d&&d(e)};m().Uo({newRole:e,availableRoles:a});const j=await(0,T().Se)(r,{name:"block_read_and_write_role",spaceId:null===(x=w().default.state.currentSpaceStore)||void 0===x?void 0:x.id,userId:null===(S=w().default.state.currentUserStore)||void 0===S?void 0:S.id});if(Z(e,t,n,j)&&!y().A.isAdminMode)P().K(r,{from:i,upsell:{type:"product",product:D().Si(r)||"plus",limit:{type:"none"},trialability:"none"}}),g&&g();else if(function(e,t,o){return o&&(0,s().$q)(t,e)===t&&"none"===e}(e,o,f))v?v():h().ui({showCancel:!0,keepFocus:!1,message:t===u().NX||t===c().y7?(0,R.jsx)(p().sA,{id:"userPermissionsMenu.removePermissionsModal.removeSelfFromWorkspace.confirmationMessage",defaultMessage:"Are you sure you want to remove your own access? You will lose access to the workspace, and any private pages will be lost."}):(0,R.jsx)(p().sA,{id:"userPermissionsMenu.removePermissionsModal.removeSelfFromPage.confirmationMessage",defaultMessage:"Are you sure you want to remove your own access?"}),items:[{label:(0,R.jsx)(p().sA,{id:"userPermissionsMenu.removePermissionsModal.removeSelfButton.label",defaultMessage:"Remove"}),color:"red",onAccept:k}]});else if(function(e,t,o){return o&&(0,s().$q)(t,e)===t}(e,o,f))h().ui({showCancel:!0,keepFocus:!1,message:(0,R.jsx)(p().sA,{id:"userPermissionsMenu.downgradePermissionsModal.downgradeSelfFromWorkspaceOrPage.confirmationMessage",defaultMessage:"Are you sure you want to downgrade your own access?"}),items:[{label:(0,R.jsx)(p().sA,{id:"userPermissionsMenu.downgradePermissionsModal.downgradeSelfButton.label",defaultMessage:"Downgrade"}),color:"red",onAccept:k}]});else if(function(e,t){return(t===u().NX||t===c().y7)&&"none"===e}(e,t))if(b)b();else{await async function(e){const{message:t}=e;return new Promise((e=>{h().ui({showCancel:!0,keepFocus:!1,handleCancel:()=>e(!1),message:t,items:[{label:(0,R.jsx)(p().sA,{id:"userPermissionsMenu.removePermissionsModal.removeUserButton.label",defaultMessage:"Remove"}),color:"red",onAccept:()=>e(!0)}]})}))}({message:(A=!0,A&&(0,L().OX)()?(0,R.jsx)(p().sA,{id:"userPermissionsMenu.removePermissionsModal.removeUserFromWorkspace.enterprise.confirmationMessage",defaultMessage:"If you remove this member, they will lose workspace access. After their removal, you may transfer their private pages to another member. <transferpagelink>Learn more</transferpagelink>.",values:{transferpagelink:e=>(0,R.jsx)(O().A,{href:(0,C().xS)("guides.transferContent"),external:!0,children:e})}}):A?(0,R.jsx)(p().sA,{id:"userPermissionsMenu.removePermissionsModal.removeUserFromWorkspace.confirmationMessage",defaultMessage:"Are you sure you want to remove this person? They will lose access to the workspace, and any private pages will be lost."}):(0,R.jsx)(p().sA,{id:"userPermissionsMenu.removePermissionsModal.removeUserFromPage.confirmationMessage",defaultMessage:"Are you sure you want to remove this person?"}))})&&k()}else if(function(e,t){return"public_permission"===e&&"none"===t}(n,e)&&_&&!l){await async function(){return new Promise((e=>{h().ui({showCancel:!0,keepFocus:!1,handleCancel:()=>e(!1),description:(0,R.jsx)(p().sA,{id:"permissionRoleSelect.unpublishConfirmation.description",defaultMessage:"Removing access will unpublish this page from the web."}),message:(0,R.jsx)(p().sA,{id:"permissionRoleSelect.unpublishConfirmation.message",defaultMessage:"Are you sure you want to remove access?"}),items:[{label:(0,R.jsx)(p().sA,{id:"userPermissionsMenu.removePermissionsModal.unpublishAction.label",defaultMessage:"Remove access"}),color:"red",onAccept:()=>e(!0)}]})}))}()&&k()}else k();var A}function Q(e){const{availableRole:t,isCurrentUser:o,role:a,table:s,type:l,isRemovableOverride:d,upgradeButtonName:c,onUpgradeButtonClick:u,isRedesignEnabled:g,isPublicShareLinkEnabled:m,from:h}=e,{label:y,caption:f,hideSelectionCheckIcon:b,icon:v}=(0,H().R)({type:l,role:t.role,table:s,isRemovable:$(l,d),isCurrentUser:o,isRedesignEnabled:g,isPublicShareLink:m}),S=(0,r().DP)(),C=(0,n().v3)(),M=(0,_().O)(),P=(0,i().K8)((()=>{var e;return null===(e=C.currentUser)||void 0===e?void 0:e.id}),[C]),{device:A}=C,{onClick:D,key:L,...F}=e.props,U=t.disabledInfo,z=A.isMobile&&g,W=(0,T()._X)({name:"block_read_and_write_role",spaceId:M,userId:P}),V=(0,i().K8)((()=>Z(t.role,s,l,"available"===(null==W?void 0:W.type))),[t,s,l,W]),O=(0,i().K8)((()=>C.device.isMobile&&!B().S$()),[C]),K=Boolean(V),G=(0,i().K8)((()=>{var e;return null===(e=w().default.getState().currentSpaceStore)||void 0===e?void 0:e.canAdmin()}),[]),q=K&&(!G||O),Y=(0,r().IS)((e=>{const t={backgroundColor:e.surface.elevated,paddingTop:12,paddingBottom:12,borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:e.stroke.secondary};return{buttonMenuItem:{...t},redButtonMenuItem:{...t,color:e.text.uiRedPrimary},disabledButtonMenuItem:{...t,color:e.text.tertiary}}}),[]);return A.isMobileNative&&K?null:U&&U.isDisabled?(0,R.jsx)(j().A,{delayThreshold:0,renderTooltip:e=>(0,R.jsx)("div",{...e,children:U.disabledMessage}),placement:k().W.Right,textWrap:!0,render:o=>(0,R.jsx)(E().A,{style:z?Y.disabledButtonMenuItem:void 0,...o,focused:e.focused,disabled:!0,disabledFeedback:!0,isChecked:a===t.role&&!b,title:(0,R.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,R.jsx)("div",{style:{...e.style,marginRight:V?6:0},children:(0,R.jsx)(p().sA,{...y})})}),caption:f&&(0,R.jsx)("span",{style:{color:S.text.secondary},children:(0,R.jsx)(p().sA,{...f})}),shouldWrapCaption:!0})}):(0,R.jsx)(I,{upsell:K&&("unavailable"===(null==W?void 0:W.type)?W.upsell:void 0),analyticsName:c,renderUpgradeTooltip:()=>V,tooltipPlacement:k().W.Left,onClick:D,onUpgradeClick:u,render:(o,n)=>{const{focused:i,...r}=(0,x().A)(F,o);return(0,R.jsx)(E().A,{...r,style:z?"none"===t.role?Y.redButtonMenuItem:Y.buttonMenuItem:void 0,focused:i||e.focused,isChecked:a===t.role&&!b,title:(0,R.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,R.jsxs)("div",{style:{...e.style,marginRight:V?6:0,display:"flex",alignItems:"center"},children:[v,(0,R.jsx)(p().sA,{...y})]}),n,e.availableRole.tag&&(0,R.jsx)(N().A,{desktopStyle:{marginLeft:7},children:e.availableRole.tag})]}),caption:f&&(0,R.jsx)("span",{style:{color:S.text.secondary},children:(0,R.jsx)(p().sA,{...f})}),shouldWrapCaption:!0,disabled:q,isRedOnHover:(g||"spaceSettings"===h)&&!q&&"none"===t.role})}})}function X(){const e=(0,r().DP)(),t=(0,n().v3)(),{device:o}=t;return(0,R.jsx)(V().A,{style:{padding:12,backgroundColor:e.sidebarSecondaryBackground,boxShadow:`0 -1px 0 ${e.regularDividerColor}`,marginTop:o.isMobile?28:1},isMultiline:!0,isSmall:!0,children:(0,R.jsx)(p().sA,{id:"permissionRoleSelect.overrideMessage.caption",defaultMessage:"You’ll override permissions from the parent page if you change this role."})})}},954397:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>i,slidersIcon:()=>r});o(242343);var n=o(163643);const i={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M3 7.375h6.829a2.501 2.501 0 0 0 4.842 0H17a.625.625 0 1 0 0-1.25h-2.329a2.501 2.501 0 0 0-4.842 0H3a.625.625 0 1 0 0 1.25M12.25 5.5a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5"}),(0,n.jsx)("path",{fillRule:"evenodd",d:"M7.75 15.75a2.5 2.5 0 0 0 2.421-1.875H17a.625.625 0 1 0 0-1.25h-6.829a2.5 2.5 0 0 0-4.842 0H3a.625.625 0 1 0 0 1.25h2.329A2.5 2.5 0 0 0 7.75 15.75m0-1.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5",clipRule:"evenodd"})]})},r=(0,o(680369).wt)("sliders",i)},956548:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>i,pageIcon:()=>r});o(242343);var n=o(163643);const i={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M13.3 14.25a.55.55 0 0 1-.55.55h-5.5a.55.55 0 1 1 0-1.1h5.5a.55.55 0 0 1 .55.55m-.55-1.95a.55.55 0 1 0 0-1.1h-5.5a.55.55 0 0 0 0 1.1z"}),(0,n.jsx)("path",{d:"M6.25 2.375A2.125 2.125 0 0 0 4.125 4.5v11c0 1.174.951 2.125 2.125 2.125h7.5a2.125 2.125 0 0 0 2.125-2.125V8.121c0-.563-.224-1.104-.622-1.502L11.63 2.997a2.13 2.13 0 0 0-1.502-.622zM5.375 4.5c0-.483.392-.875.875-.875h3.7V6.25A2.05 2.05 0 0 0 12 8.3h2.625v7.2a.875.875 0 0 1-.875.875h-7.5a.875.875 0 0 1-.875-.875zm8.691 2.7H12a.95.95 0 0 1-.95-.95V4.184z"})]})},r=(0,o(680369).wt)("page",i)},969836:(e,t,o)=>{o.d(t,{A:()=>a});o(242343);var n=()=>o(174114),i=()=>o(591090),r=o(163643);function a(e){const t=function(e){const{size:t,style:o}=e;return(0,n().IS)((e=>({icon:{width:.6*t,height:.6*t,fill:e.text.secondary},iconContainer:{width:t,height:t,borderRadius:"100%",background:e.regularDividerColor,display:"flex",alignItems:"center",justifyContent:"center",...o}})),[t,o])}(e),o=(0,i().$)(t.icon);return(0,r.jsx)("div",{style:t.iconContainer,children:o})}},972076:(e,t,o)=>{o.d(t,{X:()=>i});o(242343);var n=o(163643);const i=(0,o(680369).wt)("openTeam",{viewBox:"0 0 28 28",svg:(0,n.jsx)("path",{d:"M3.24121 21.4326C3.24121 22.4082 3.80371 23.0322 4.7002 23.0322H22.4629C23.3506 23.0322 23.9131 22.4082 23.9131 21.4326V10.2178C23.9131 9.24219 23.3506 8.61816 22.4629 8.61816H17.2334V5.89355C17.2334 4.91797 16.6709 4.29395 15.7832 4.29395H4.7002C3.80371 4.29395 3.24121 4.91797 3.24121 5.89355V21.4326ZM4.65625 21.1074V6.21875C4.65625 5.86719 4.81445 5.70898 5.16602 5.70898H15.3174C15.6602 5.70898 15.8184 5.86719 15.8184 6.21875V21.1074C15.8184 21.4502 15.6602 21.6172 15.3174 21.6172H13.2959V19.0244C13.2959 18.2686 12.9619 17.917 12.2412 17.917H8.2334C7.5127 17.917 7.17871 18.2686 7.17871 19.0244V21.6172H5.16602C4.81445 21.6172 4.65625 21.4502 4.65625 21.1074ZM7.31934 9.5498H9.0332C9.24414 9.5498 9.39355 9.40918 9.39355 9.18945V7.52832C9.39355 7.31738 9.24414 7.16797 9.0332 7.16797H7.31934C7.1084 7.16797 6.97656 7.31738 6.97656 7.52832V9.18945C6.97656 9.40918 7.1084 9.5498 7.31934 9.5498ZM11.4414 9.5498H13.1465C13.3574 9.5498 13.5068 9.40918 13.5068 9.18945V7.52832C13.5068 7.31738 13.3574 7.16797 13.1465 7.16797H11.4414C11.2217 7.16797 11.0898 7.31738 11.0898 7.52832V9.18945C11.0898 9.40918 11.2217 9.5498 11.4414 9.5498ZM17.2334 21.4326V10.0332H21.9971C22.3398 10.0332 22.498 10.2002 22.498 10.543V21.1074C22.498 21.4502 22.3398 21.6172 21.9971 21.6172H17.2246C17.2334 21.5557 17.2334 21.4941 17.2334 21.4326ZM7.31934 13.0303H9.0332C9.24414 13.0303 9.39355 12.8896 9.39355 12.6699V11.0088C9.39355 10.7979 9.24414 10.6484 9.0332 10.6484H7.31934C7.1084 10.6484 6.97656 10.7979 6.97656 11.0088V12.6699C6.97656 12.8896 7.1084 13.0303 7.31934 13.0303ZM11.4414 13.0303H13.1465C13.3574 13.0303 13.5068 12.8896 13.5068 12.6699V11.0088C13.5068 10.7979 13.3574 10.6484 13.1465 10.6484H11.4414C11.2217 10.6484 11.0898 10.7979 11.0898 11.0088V12.6699C11.0898 12.8896 11.2217 13.0303 11.4414 13.0303ZM19.1582 13.4521H20.5732C20.749 13.4521 20.8721 13.3291 20.8721 13.1533V11.7822C20.8721 11.6064 20.749 11.4834 20.5732 11.4834H19.1582C18.9736 11.4834 18.8682 11.6064 18.8682 11.7822V13.1533C18.8682 13.3291 18.9736 13.4521 19.1582 13.4521ZM7.31934 16.5107H9.0332C9.24414 16.5107 9.39355 16.3613 9.39355 16.1504V14.4893C9.39355 14.2695 9.24414 14.1289 9.0332 14.1289H7.31934C7.1084 14.1289 6.97656 14.2695 6.97656 14.4893V16.1504C6.97656 16.3613 7.1084 16.5107 7.31934 16.5107ZM11.4414 16.5107H13.1465C13.3574 16.5107 13.5068 16.3613 13.5068 16.1504V14.4893C13.5068 14.2695 13.3574 14.1289 13.1465 14.1289H11.4414C11.2217 14.1289 11.0898 14.2695 11.0898 14.4893V16.1504C11.0898 16.3613 11.2217 16.5107 11.4414 16.5107ZM19.1582 16.8096H20.5732C20.749 16.8096 20.8721 16.6865 20.8721 16.5107V15.1396C20.8721 14.9639 20.749 14.8408 20.5732 14.8408H19.1582C18.9736 14.8408 18.8682 14.9639 18.8682 15.1396V16.5107C18.8682 16.6865 18.9736 16.8096 19.1582 16.8096ZM19.1582 20.167H20.5732C20.749 20.167 20.8721 20.0439 20.8721 19.8682V18.4971C20.8721 18.3213 20.749 18.1982 20.5732 18.1982H19.1582C18.9736 18.1982 18.8682 18.3213 18.8682 18.4971V19.8682C18.8682 20.0439 18.9736 20.167 19.1582 20.167ZM8.33008 19.3496C8.33008 19.165 8.42676 19.0684 8.61133 19.0684H11.8633C12.0566 19.0684 12.1445 19.165 12.1445 19.3496V21.6172H8.33008V19.3496Z"})})},984826:(e,t,o)=>{o.d(t,{I:()=>a,_:()=>r});const n={normalizedTitleWithIcon:!0,properties:!0,property_number:!0,property_title:!0,property_person:!0,property_file:!0,property_text:!0,property_checkbox:!0,property_url:!0,property_email:!0,property_phone_number:!0,property_created_by:!0,property_last_edited_by:!0,property_button:!0,property_select:!0,property_multi_select:!0,property_status:!0,property_date:!0,property_created_time:!0,property_last_edited_time:!0,property_last_visited_time:!0,property_relation:!0,property_rollup:!0,property_formula:!0,property_auto_increment_id:!0,property_location:!0,property_verification:!0,property_geo_point:!0,views:!0,viewsMain:!0,relationsGroup:!0,formQuestion:!0,placeholder:!0,deleted_property:!1,cover:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,transcript:!1,formTitle:!1,formSubmit:!1,recentActivity:!1,collaborators:!1,teamspaces:!1},i={properties:!0,property:!0,relationsGroup:!0,formQuestion:!0,placeholder:!0,titleWithIcon:!0,cover:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,transcript:!1,formTitle:!1,formSubmit:!1,views:!0,viewsMain:!0,collectionView:!0,collectionViewV2:!0,recentActivity:!1,collaborators:!1,teamspaces:!1};function r(e){return n[e.type]}function a(e){return i[e.type]}},993254:(e,t,o)=>{o.d(t,{T:()=>i});o(362833),o(725707),o(244387);var n=()=>o(437800);function i(e){const{environment:t,collectionStore:o,duplicate:i,droppedStores:r,transaction:a,duplicateActions:s}=e,{movedStores:l,reparentedStores:d}=r.reduce(((e,t)=>(i||t.getAssociatedCollectionId()!==(null==o?void 0:o.id)?e.reparentedStores.push(t):e.movedStores.push(t),e)),{movedStores:[],reparentedStores:[]});return[...l,...n().MS({environment:t,droppedStores:d,duplicate:i,transaction:a,resolveTemplateVariables:!1,duplicateActions:s})]}},996151:(e,t,o)=>{o.d(t,{K5:()=>p,Vp:()=>c,_u:()=>d,oP:()=>g,wC:()=>l,xN:()=>u});o(725707),o(491955),o(403517);var n=()=>o(728373),i=()=>o(984826),r=()=>o(946854),a=()=>o(220865);const s={page_main:[{id:"cover",type:"cover"},{id:"title_with_icon",type:"normalizedTitleWithIcon",propertyIds:[]},{id:"properties",type:"properties"},{id:"discussions",type:"discussions"},{id:"editor",type:"editor"}],page_details:[],form_layout_schema:[],person_profile_page_main:[],person_profile_page_details:[]},l={page_main:[{id:"title_with_icon",type:"normalizedTitleWithIcon",propertyIds:[]},{id:"editor",type:"editor"}],page_details:[],form_layout_schema:[],person_profile_page_main:[],person_profile_page_details:[]},d={page_main:[{id:"title_with_icon",type:"normalizedTitleWithIcon",propertyLabels:"hide",propertyIds:[]},{id:"editor",type:"editor"},{id:"discussions",type:"discussions"}],page_details:[],form_layout_schema:[],person_profile_page_main:[],person_profile_page_details:[]},c={page_main:[],page_details:[],form_layout_schema:[],person_profile_page_main:[{id:"cover",type:"cover"},{id:"title_with_icon",type:"normalizedTitleWithIcon",propertyIds:[]},{id:"recent_activity",type:"recentActivity"}],person_profile_page_details:[{id:"collaborators",type:"collaborators"},{id:"teamspaces",type:"teamspaces"}]};function u(e){return(0,a().jr)({modulesByArea:s,collectionSchema:null==e?void 0:e.collectionSchema,collectionFormat:null==e?void 0:e.collectionFormat})}function p(){return{page_layout_schema:(0,a().ke)(s.page_main).map((e=>{if(!(0,r().cn)(e))return(0,i().I)(e)?{...e,id:(0,n().Ay)()}:e})).filter((e=>void 0!==e)),page_info_layout_schema:(0,a().ke)(s.page_details).map((e=>{if(!(0,r().cn)(e))return(0,i().I)(e)?{...e,id:(0,n().Ay)()}:e})).filter((e=>void 0!==e)),form_layout_schema:void 0,person_profile_page_main:void 0,person_profile_page_details:void 0}}function g(e,t){const o=void 0===t?[{id:(0,n().Ay)(),type:"formQuestion",formQuestionId:e}]:[{id:(0,n().Ay)(),type:"formQuestion",formQuestionId:e},{id:(0,n().Ay)(),type:"formQuestion",formQuestionId:t}];return{page_layout_schema:void 0,page_info_layout_schema:void 0,person_profile_page_main:void 0,person_profile_page_details:void 0,form_layout_schema:[{id:(0,n().Ay)(),type:"cover"},{id:(0,n().Ay)(),type:"formTitle"},...o,{id:(0,n().Ay)(),type:"formSubmit"}]}}},997010:(e,t,o)=>{o.d(t,{X:()=>r});var n=()=>o(803290),i=()=>o(485966);function r(){return(0,n().K8)((()=>{const{currentSpaceStore:e,currentSpaceViewStore:t}=i().default.state;if(!e||!t)return!1;const o=e.getMemberCountFromPublicSpaceData(),n=t.getWorkspacePages()??[];return 1===o&&0===n.length&&"personal"===e.getPlanType()}),[])}},998865:(e,t,o)=>{o.d(t,{$c:()=>s,aI:()=>a,cx:()=>r,uf:()=>i});var n=()=>o(129978);const i={RequestMembersModal:new(n().O2)("RequestMembersModal",(()=>Promise.all([o.e(96159),o.e(75134),o.e(43380),o.e(96346),o.e(36192),o.e(55373),o.e(62475),o.e(3151),o.e(44711),o.e(98629),o.e(53321),o.e(58550),o.e(16471),o.e(90825),o.e(37353),o.e(29151),o.e(16908),o.e(36209),o.e(92845),o.e(71718),o.e(48486),o.e(83324),o.e(63077),o.e(41870),o.e(90966),o.e(88552),o.e(90214),o.e(74562),o.e(8184),o.e(28271),o.e(17254),o.e(18895),o.e(78708),o.e(28721),o.e(4422),o.e(28866),o.e(67435),o.e(17989),o.e(48632),o.e(90625),o.e(76181),o.e(59794),o.e(72832),o.e(90280),o.e(26483),o.e(33813),o.e(81768),o.e(71104),o.e(2804),o.e(82850),o.e(84778),o.e(69914),o.e(11341),o.e(92011),o.e(19361),o.e(63327),o.e(26090),o.e(38482),o.e(12341),o.e(50984),o.e(47864),o.e(40828),o.e(76007),o.e(5023),o.e(90978),o.e(65554),o.e(53571),o.e(66885),o.e(92674),o.e(77282)]).then(o.bind(o,945669)))),GoogleImportsInviteWithModal:new(n().O2)("GoogleImportsInviteWithModal",(()=>Promise.all([o.e(96159),o.e(96346),o.e(36209),o.e(92845),o.e(71718),o.e(48486),o.e(83324),o.e(18895),o.e(51195),o.e(51226)]).then(o.bind(o,373002)))),InviteDropdownMenuItemLabel:new(n().O2)("InviteDropdownMenuItemLabel",(()=>o.e(25171).then(o.bind(o,923812)))),personPropertyInviteActions:new(n().O2)("personPropertyInviteActions",(()=>Promise.all([o.e(96159),o.e(96346),o.e(36209),o.e(92845),o.e(71718),o.e(48486),o.e(83324),o.e(18895),o.e(57613)]).then(o.bind(o,598109))))},r=(0,n()._h)(i.RequestMembersModal,(e=>e.RequestMembersModal)),a=(0,n()._h)(i.GoogleImportsInviteWithModal,(e=>e.GoogleImportsInviteWithModal)),s=(0,n()._h)(i.InviteDropdownMenuItemLabel,(e=>e.InviteDropdownMenuItemLabel))}}]);