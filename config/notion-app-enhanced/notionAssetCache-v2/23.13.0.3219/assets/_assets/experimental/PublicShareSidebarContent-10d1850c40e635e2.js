"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[30015,55222],{55813:(e,t,a)=>{a.r(t),a.d(t,{exclamationMarkTriangleFillIcon:()=>r,iconDefinition:()=>n});a(242343);const n={viewBox:"0 0 20 20",svg:(0,a(163643).jsx)("path",{d:"M11.84 3.563c-.817-1.417-2.862-1.417-3.68 0L2.314 13.688c-.818 1.416.205 3.187 1.84 3.187h11.692c1.636 0 2.658-1.77 1.84-3.187zM9.876 6.75c.345 0 .625.28.625.625v3.5a.625.625 0 1 1-1.25 0v-3.5c0-.345.28-.625.625-.625m0 7.375a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5"})},r=(0,a(680369).wt)("exclamationMarkTriangleFill",n)},145028:(e,t,a)=>{a.d(t,{G:()=>x});a(242343);var n=()=>a(803290),r=()=>a(174114),i=()=>a(688986),s=()=>a(145017),o=()=>a(653998),l=()=>a(142708),c=()=>a(304566),d=()=>a(277112),u=()=>a(98508),p=()=>a(695412),g=()=>a(485966),h=()=>a(413871),m=()=>a(580257),S=()=>a(881075),b=a(163643);function x(e){const t=(0,n().uB)(void 0,m().A),{spaceStore:a,sectionLabel:x=(0,b.jsx)(o().sA,{id:"publicPageSidebarScrollableOutliner.templateSectionLabel",defaultMessage:"Template includes"}),rootBlockId:y}=e,f=(0,n().K8)((()=>p().A.state.publicPageData),[]),v=(0,n().O$)(g().AppStoreMainEditorCurrentBlockStore),j=(0,n().K8)((()=>v&&y&&null!=f&&f.spaceId?[h().sk.createChildStore(v,{table:s().ev,id:y,spaceId:f.spaceId})]:[]),[v,y,null==f?void 0:f.spaceId]),k=(0,r().IS)((e=>({scroller:{height:"100%"},outliner:{display:"block"},adjustAlignmentForScrollBorder:{marginTop:-1}})),[]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{style:k.adjustAlignmentForScrollBorder,children:(0,b.jsx)(c().A,{scrollerStore:t})}),(0,b.jsx)(l().H,{type:u().A.Y,store:t,style:k.scroller,children:(0,b.jsx)(d().Ay,{type:i().yy,from:"main_sidebar",sectionLabel:x,shouldPersistToggleState:!0,spaceStore:a,spaceViewStore:void 0,showAddButton:!1,labelTooltip:null,renderSidebar:()=>(0,b.jsx)(S().A,{id:i().yy,type:i().yy,childStores:j,parentStore:void 0,disabled:!0,style:k.outliner,itemDepth:0,itemOpenByDefault:!0,"aria-labelledby":"template-includes",isHeaderless:!1,from:"main_sidebar"})})},i().yy)]})}},240048:(e,t,a)=>{a.r(t),a.d(t,{PublicShareLinkLoginModal:()=>c,publicShareLinkLoginModalStore:()=>l});a(242343);var n=()=>a(803290),r=()=>a(653998),i=()=>a(736530),s=()=>a(721041),o=a(163643);const l=new(a(645323).A);function c(){return(0,n().K8)((()=>l.state.open),[])?(0,o.jsx)(i().z,{loginModalStore:l,loginStore:s().A,title:(0,o.jsx)(r().sA,{id:"publicShareLinkLoginModal.title",defaultMessage:"Sign up or log in"}),description:(0,o.jsx)(r().sA,{id:"publicShareLinkLoginModal.description",defaultMessage:"Create an account or log in to access more features."})}):null}},294117:(e,t,a)=>{a.d(t,{o:()=>r});a(242343);const n={viewBox:"0 0 20 20",svg:(0,a(163643).jsx)("path",{d:"M10 2.375q-.634 0-1.242.1A.625.625 0 0 0 8.96 3.71a6.4 6.4 0 0 1 2.08 0 .625.625 0 0 0 .202-1.233q-.608-.1-1.242-.101m4.442 1.426a.625.625 0 0 0-.729 1.015 6.4 6.4 0 0 1 1.47 1.47.625.625 0 1 0 1.015-.73 7.7 7.7 0 0 0-1.756-1.755M6.287 4.817a.625.625 0 0 0-.73-1.015 7.7 7.7 0 0 0-1.755 1.756.625.625 0 1 0 1.015.729 6.4 6.4 0 0 1 1.47-1.47m11.237 3.941a.625.625 0 0 0-1.233.202 6.4 6.4 0 0 1 0 2.08.625.625 0 0 0 1.233.202 7.7 7.7 0 0 0 0-2.484M3.71 8.96a.625.625 0 0 0-1.234-.202 7.7 7.7 0 0 0 0 2.484.625.625 0 1 0 1.233-.202 6.4 6.4 0 0 1 0-2.08m12.489 5.482a.625.625 0 0 0-1.015-.729 6.4 6.4 0 0 1-1.096 1.18c-.79-1.398-2.333-2.332-4.087-2.332s-3.298.934-4.087 2.331a6 6 0 0 1-.567-.536l-.006-.006a6 6 0 0 1-.523-.637.625.625 0 0 0-1.015.73 7.7 7.7 0 0 0 1.756 1.755l.008.006a7.6 7.6 0 0 0 4.74 1.415 7.6 7.6 0 0 0 5.261-2.408l.006-.007q.337-.36.625-.762M6.951 15.6c.547-1.049 1.697-1.789 3.049-1.789s2.502.74 3.049 1.79a6.34 6.34 0 0 1-3.046.774H10a6.35 6.35 0 0 1-3.05-.775m.805-9.431C8.277 5.519 9.05 5.125 10 5.125s1.723.393 2.245 1.044c.51.635.75 1.474.75 2.346s-.24 1.71-.75 2.346c-.522.65-1.294 1.044-2.245 1.044-.95 0-1.723-.394-2.245-1.044-.51-.635-.75-1.474-.75-2.346s.24-1.711.75-2.346m.975.782c-.293.365-.475.909-.475 1.564s.182 1.198.475 1.564c.281.35.694.576 1.27.576s.989-.226 1.27-.576c.294-.366.475-.909.475-1.564s-.181-1.199-.475-1.564c-.281-.35-.693-.576-1.27-.576-.576 0-.989.225-1.27.576"})},r=(0,a(680369).wt)("personCropCircleDashed",n)},304566:(e,t,a)=>{a.d(t,{A:()=>o});a(242343);var n=()=>a(803290),r=()=>a(174114),i=()=>a(967454),s=a(163643);function o(e){let{scrollerStore:t}=e;const a=(0,n().K8)((()=>t.state.elementRef??{current:null}),[t]),o=0===(0,i().yE)(a),l=(0,r().IS)((e=>({border:{flexShrink:0,width:"100%",boxShadow:o?"0 0 0 transparent":`0 1px 0 ${e.regularDividerColor}`,transition:"box-shadow 300ms",height:2,marginTop:-2,zIndex:99}})),[o]);return(0,s.jsx)("div",{style:l.border})}},368156:(e,t,a)=>{a.d(t,{A:()=>r});class n extends(()=>a(129044))().default{getInitialState(){return{open:!1,focus:"none"}}open(){this.setState({open:!0,focus:"none"})}close(){this.setState({open:!1,focus:"none"})}}const r=new n},368968:(e,t,a)=>{a.r(t),a.d(t,{PublicShareSidebarContent:()=>te});var n=a(242343),r=()=>a(237385),i=()=>a(803290),s=()=>a(174114),o=()=>a(528762),l=()=>a(653998),c=()=>a(307542),d=()=>a(622286),u=()=>a(145028),p=()=>a(963128),g=()=>a(515347),h=()=>a(695412),m=()=>a(485966),S=()=>a(413871),b=()=>a(148028);const x=(0,a(680369).xh)("page",{default:{loader:()=>a.e(5140).then(a.bind(a,956548))},small:{loader:()=>a.e(5140).then(a.bind(a,60754))},fill:{loader:()=>a.e(5140).then(a.bind(a,474768))},fillSmall:{loader:()=>a.e(5140).then(a.bind(a,782913))}},["document","lines","text","paper","file"]);var y=()=>a(207489),f=()=>a(421338),v=()=>a(209684),j=()=>a(206799),k=()=>a(701270),w=()=>a(138121),M=()=>a(667801),C=()=>a(965494),A=a(163643);function B(e){const t=(0,r().v3)(),a=(0,l().tz)(),{alreadyHasWorkspace:n,isSmallWorkspace:o}=e,c=(0,s().IS)((e=>({container:{padding:26,marginTop:4,marginBottom:8,backgroundColor:e.fill.grayTertiary,borderRadius:"12px"},icon:{marginBottom:4,height:18,width:24},message:{textAlign:"center",marginBottom:8},button:{background:e.lightGrayButtonBackground,color:e.text.primary,padding:"6px 12px"}})),[]),d=(0,i().K8)((()=>h().A.state.publicPageData),[]),u=(0,i().K8)((()=>{const e=m().default.state.mainEditorCurrentBlockStore;if(e&&null!=d&&d.spaceId)return e.getSpaceStore()}),[d]),{isEligibleForGuestMembershipRequest:p,isEligibleForGuestMembershipRequestStatus:g}=(0,C().X)({currentSpaceStore:u,environment:t});return(0,A.jsx)("div",{style:c.container,children:(0,A.jsxs)(f().Y1,{direction:"vertical",align:"center",gap:4,children:[(0,A.jsx)("div",{style:c.icon,children:(0,A.jsx)(j().Q,{iconGroup:x,colorName:"tertiary",variantName:"fill"})}),(0,A.jsx)(k().D,{styleName:"Body-14px/Regular",colorName:"secondary",customStyles:c.message,children:(0,A.jsx)(l().sA,{id:"PrivatePageEmptyState.message",defaultMessage:"New pages will go here"})}),(0,A.jsx)(v().p,{style:c.button,onClick:n&&p&&"rejected"!==g&&"pending"!==g?async()=>{await(0,M().requestWorkspaceAccess)({environment:t,intl:a,spaceId:null==d?void 0:d.spaceId,panelType:o?"private_small":"private_large"})}:async()=>{(0,y().e)(t,{panel_type:"private"}),await w().sy(t,{type:"create-or-join",source:"public_share_link"})},children:(0,A.jsx)(l().sA,{id:"PrivatePageEmptyState.createWorkspace",defaultMessage:"Create your own page"})})]})})}var P=()=>a(132793),I=()=>a(569434),E=()=>a(949562),L=()=>a(382445),T=()=>a(48913),_=()=>a(440588),R=()=>a(305168),K=()=>a(216273),D=()=>a(712437),F=()=>a(129808),U=()=>a(783759),H=()=>a(302376),q=()=>a(886986),G=()=>a(303643);function N(e){let{redirectURL:t,disableLoginLink:a,showCreatePageButton:o=!1}=e;const l=(0,r().v3)(),{isElectronMac:d,isElectron:u}=l.device,p=(0,i().O$)(_().sidebarExpandedStore),g=(0,r().Y0)().isTablet,h=function(e){const{isExpanded:t,isElectronMac:a,isTablet:n}=e,r=(0,i().K8)((()=>R().A.state.isFullScreen),[]),o=(0,i().O$)(K().b),l=!(a&&!r&&!o&&t);return(0,s().IS)((e=>({sidebarSwitcher:{height:(0,F().ek)(a)-2*q().j,maxHeight:(0,F().ek)(a)-2*q().j,borderRadius:6,marginTop:n?-8:l?q().j:0,paddingLeft:0,marginBottom:q().j,width:"auto"}})),[a,n,l])}({isExpanded:p,isElectronMac:d,isTablet:g}),S=(0,i().K8)((()=>R().A.state.isFullScreen),[]),b=(0,i().O$)(K().b),x=(0,T().UF)({isExpanded:p,isFullScreenDesktop:S,isShowingTabBar:b,isElectron:u})&&!o,y=(0,n.useCallback)((async e=>{let{event:t,spaceViewStore:a}=e;const n=H().Vr(t);await U().tR({environment:l,spaceViewStore:a,userSettingsStore:m().default.state.currentUserSettingsStore,userRootStore:m().default.state.currentUserRootStore,openInNew:n,pageVisitSource:D().y8.SwitchSpace,navigationType:"switchingToOrLoadingSpace"})}),[l]),f=(0,i().K8)((()=>!!m().default.state.currentUserRootStore&&(0,c().C4)({userRootStore:m().default.state.currentUserRootStore})),[]);return(0,A.jsx)(G().Ay,{format:d&&p?G().z_.DesktopMac:G().z_.Regular,shouldShowUnexpandButton:!g&&x,shouldShowCreatePageButton:!1,onSpaceClick:y,redirectURL:t,shouldShowCreateOrJoinWorkspaceButtonInFooter:!f,disableLoginLink:a,buttonStyle:h.sidebarSwitcher,hideEmail:!0})}function W(e){const{showCreatePageButton:t,alreadyHasWorkspace:a}=e,n=(0,r().v3)(),o=(0,l().tz)(),c=window.location.pathname,d=(0,i().O$)(_().sidebarExpandedStore),{isElectron:u}=n.device,p=(0,i().K8)((()=>R().A.state.isFullScreen),[]),g=(0,i().O$)(K().b),S=(0,s().IS)((e=>({header:{display:t?"flex":"block",flexShrink:0,flexGrow:0},rightButtons:{display:t?"inline-flex":"none",alignItems:"center",marginRight:2,gap:2},newPageButton:{width:20,height:20,padding:0},unexpand:{borderRadius:4,width:28,height:28,marginRight:4},unexpandHover:{fill:e.text.primary,background:e.sidebarItemSelectedBackground}})),[t]),b=(0,i().K8)((()=>h().A.state.publicPageData),[]),x=(0,T().Vl)({isExpanded:d,isFullScreenDesktop:p,isShowingTabBar:g,isElectron:u}),f=(0,T().UF)({isExpanded:d,isFullScreenDesktop:p,isShowingTabBar:g,isElectron:u}),v=(0,i().K8)((()=>{const e=m().default.state.mainEditorCurrentBlockStore;if(e&&null!=b&&b.spaceId)return e.getSpaceStore()}),[b]),{isEligibleForGuestMembershipRequest:j,isEligibleForGuestMembershipRequestStatus:k}=(0,C().X)({currentSpaceStore:v,environment:n});return(0,A.jsxs)("div",{style:S.header,children:[x&&(0,A.jsx)(L().F,{isExpanded:d}),(0,A.jsx)(N,{redirectURL:c,showCreatePageButton:t}),t&&(0,A.jsxs)("div",{style:S.rightButtons,children:[f&&(0,A.jsx)(I().I,{style:S.unexpand,hoveredStyle:S.unexpandHover}),(0,A.jsx)(E().A,{from:"sidebar_new_page_button",iconStyle:S.newPageButton,onClick:async()=>{a&&j&&"rejected"!==k&&"pending"!==k?await(0,M().requestWorkspaceAccess)({environment:n,intl:o,spaceId:null==b?void 0:b.spaceId,panelType:"page_small"}):((0,y().e)(n,{panel_type:"create_page_button"}),(0,P().IT)(window.location.pathname),await w().sy(n,{type:"create-or-join",redirectUrl:window.location.pathname,source:"public_share_link"}))}})]})]})}var z=()=>a(146100),O=()=>a(956548),V=()=>a(402580);function $(e){let{icon:t,title:a,description:r,buttons:i,onDismiss:s}=e;const[o,l]=(0,n.useState)(!1);if(o)return null;return(0,A.jsx)(V().Ue,{children:(0,A.jsx)(V().wY,{icon:t,title:a,body:r,buttons:i,onDismiss:()=>{l(!0),null==s||s()}})})}function X(){const e=(0,r().v3)(),t=(0,l().tz)();return(0,A.jsx)($,{icon:O().pageIcon,title:t.formatMessage({id:"sidebar.createPagePanel.title",defaultMessage:"Create a new page"}),description:t.formatMessage({id:"sidebar.createPagePanel.description",defaultMessage:"Start from scratch with a blank page."}),buttons:[{rightIcon:z().g,onClick:async()=>{(0,y().e)(e,{panel_type:"create_page"}),await w().sy(e,{type:"create-or-join",source:"public_share_link"})},text:t.formatMessage({id:"sidebar.createPagePanel.button",defaultMessage:"New page"})}]})}var Y=()=>a(294117),J=()=>a(436491);function Q(){const e=(0,l().tz)(),t=(0,J().s)();return(0,A.jsx)($,{icon:Y().o,title:e.formatMessage({id:"sidebar.signupPanel.title",defaultMessage:"View-only access"}),description:e.formatMessage({id:"sidebar.signupPanel.description",defaultMessage:"To start building your own pages and start collaborating with team members, you need an account."}),buttons:[{rightIcon:z().g,onClick:()=>{t("sidebar")},text:e.formatMessage({id:"sidebar.signupPanel.button",defaultMessage:"Sign up or login"})}]})}var Z=()=>a(838646);function ee(){const e=(0,r().v3)(),t=(0,l().tz)(),a=(0,s().IS)((e=>({container:{padding:26,backgroundColor:e.fill.grayTertiary,borderRadius:"12px",marginTop:4,marginBottom:8},icon:{marginBottom:4,height:18,width:24},message:{textAlign:"center",marginBottom:8},button:{background:e.lightGrayButtonBackground,color:e.text.primary,padding:"6px 12px"}})),[]),n=(0,i().K8)((()=>h().A.state.publicPageData),[]),o=(0,i().K8)((()=>{const e=m().default.state.mainEditorCurrentBlockStore;if(e&&null!=n&&n.spaceId)return e.getSpaceStore()}),[n]),{isEligibleForGuestMembershipRequest:c,isEligibleForGuestMembershipRequestStatus:d}=(0,C().X)({currentSpaceStore:o,environment:e}),u=(0,i().K8)((()=>c&&"rejected"!==d&&"pending"!==d),[c,d]),p=(0,i().K8)((()=>u?(0,A.jsx)(l().sA,{id:"TeamspacesPageEmptyState.requestAccess",defaultMessage:"Request Access"}):(0,A.jsx)(l().sA,{id:"TeamspacesPageEmptyState.createWorkspace",defaultMessage:"Create workspace"})),[u]);return(0,A.jsx)("div",{style:a.container,children:(0,A.jsxs)(f().Y1,{direction:"vertical",align:"center",gap:4,children:[(0,A.jsx)("div",{style:a.icon,children:(0,A.jsx)(j().Q,{iconGroup:Z().E,colorName:"tertiary",variantName:"fill"})}),(0,A.jsx)(k().D,{styleName:"Body-14px/Regular",colorName:"secondary",customStyles:a.message,children:(0,A.jsx)(l().sA,{id:"TeamspacesPageEmptyState.message",defaultMessage:"{action} a teamspace to start collaborating",values:{action:u?"Join":"Create"}})}),(0,A.jsx)(v().p,{style:a.button,onClick:async()=>{u?await(0,M().requestWorkspaceAccess)({environment:e,intl:t,spaceId:null==n?void 0:n.spaceId,panelType:"teamspaces"}):((0,y().e)(e,{panel_type:"teamspaces"}),await w().sy(e,{type:"create-or-join",redirectUrl:window.location.pathname,source:"public_share_link"}))},children:p})]})})}function te(){const e=(0,r().v3)(),t=(0,i().O$)(m().AppStoreMainEditorCurrentBlockStore),a=(0,s().IS)((e=>({panelContainer:{padding:"0px 8px 8px 8px"},sidebarItemHoveredStyle:{background:e.sidebarItemSelectedBackground},searchContainer:{padding:"0px 4px",marginBottom:12},inner:{padding:8},outerContainer:{display:"flex",flexDirection:"column",height:"100%",justifyContent:"space-between"},container:{display:"flex",flexDirection:"column",height:"100%"},sectionLabel:{textTransform:"initial",fontSize:12,lineHeight:1,color:e.sidebarSecondaryColor,fontWeight:500,transition:"color 100ms ease-out",paddingLeft:8,paddingTop:10,paddingBottom:4,display:"flex",alignItems:"center",height:24}})),[]),x=(0,n.useMemo)((()=>({buttonHoveredStyle:a.sidebarItemHoveredStyle})),[a.sidebarItemHoveredStyle]),y=(0,i().K8)((()=>h().A.state.publicPageData),[]),f=(0,i().K8)((()=>{if(t&&null!=y&&y.spaceId)return S().sk.createChildStore(t,{table:o().NX,id:y.spaceId})}),[t,y]),v=(0,i().K8)((()=>{var e;if(t)return null!==(e=h().A.state.publicPageData)&&void 0!==e&&e.isPublicShareLink?(0,b().A)(t):(0,g().GN)(t)}),[t]),j=(0,i().K8)((()=>e.currentUser.isLoggedIn()),[e.currentUser]),k=(0,i().K8)((()=>!!j&&(!!m().default.state.currentUserRootStore&&!(0,c().C4)({userRootStore:m().default.state.currentUserRootStore}))),[j]),w=(0,i().K8)((()=>{const e=null==f?void 0:f.getMemberCountFromPublicSpaceData();return!!e&&e>=2}),[f]),M=(0,d().X)("awtl_sidebar_experience");if(!f)return null;const C=M&&k&&j,P=M&&!k&&!w,I=M&&w;return(0,A.jsxs)("div",{style:a.outerContainer,children:[(0,A.jsxs)("div",{style:a.container,children:[(0,A.jsx)(W,{showCreatePageButton:C,alreadyHasWorkspace:!k}),(0,A.jsx)("div",{style:a.searchContainer,children:(0,A.jsx)(p().A,{isPublicPageSearch:!j,styles:x})}),(0,A.jsxs)("div",{style:a.inner,children:[P&&(0,A.jsxs)("div",{children:[(0,A.jsx)("div",{style:a.sectionLabel,children:(0,A.jsx)(l().sA,{id:"SharePageSidebarContent.PrivatePagesSectionLabel",defaultMessage:"Private"})}),(0,A.jsx)(B,{alreadyHasWorkspace:!k,isSmallWorkspace:!w})]}),I&&(0,A.jsxs)("div",{children:[(0,A.jsx)("div",{style:a.sectionLabel,children:(0,A.jsx)(l().sA,{id:"SharePageSidebarContent.TeamspacesSectionLabel",defaultMessage:"Teamspaces"})}),(0,A.jsx)(ee,{})]}),(0,A.jsx)(u().G,{sectionLabel:(0,A.jsx)(l().sA,{id:"SharePageSidebarContent.allSharedPagesSectionLabel",defaultMessage:"Shared"}),spaceStore:f,rootBlockId:null==v?void 0:v.id})]})]}),(0,A.jsxs)("div",{style:a.panelContainer,children:[C&&(0,A.jsx)(X,{}),!j&&(0,A.jsx)(Q,{})]})]})}},436491:(e,t,a)=>{a.d(t,{s:()=>h});var n=()=>a(237385),r=()=>a(803290),i=()=>a(712437),s=()=>a(758611),o=()=>a(132793),l=()=>a(137476);var c=()=>a(865226),d=()=>a(29869),u=()=>a(622286),p=()=>a(485966),g=()=>a(240048);function h(){const e=(0,n().v3)(),t=(0,u().X)("sharing_login_modal"),a=(0,r().K8)((()=>{const{mainEditorCurrentBlockStore:e}=p().default.state;if(e)return(0,d().J8)({store:e,pageVisitSource:i().y8.PublicShareLink})}),[]);return n=>{!function(e,t){(0,l().u4)({environment:e,event:{eventName:"click_sharing_signup",eventProperties:t}})}(e,{from:n}),a&&(0,o().wA)(a),t?g().publicShareLinkLoginModalStore.setState({open:!0}):c().oo({environment:e,url:s().JZ.login})}}},838646:(e,t,a)=>{a.d(t,{E:()=>n});const n=(0,a(680369).xh)("people",{default:{loader:()=>a.e(29348).then(a.bind(a,115692))},small:{loader:()=>a.e(29348).then(a.bind(a,849402))},fill:{loader:()=>a.e(29348).then(a.bind(a,427240))},fillSmall:{loader:()=>a.e(29348).then(a.bind(a,554297))}},["users","people","team","collaboration","avatars"])}}]);