"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[29526],{64400:(e,t,o)=>{o.d(t,{MobileTopbarElevatedButtons:()=>_,S:()=>K});o(725707),o(113085);var i=o(242343),n=()=>o(237385),r=()=>o(803290),s=()=>o(174114),a=()=>o(68677),l=()=>o(452894),d=()=>o(794484),c=()=>o(633627),u=()=>o(653998),p=()=>o(319638),g=()=>o(991708),m=()=>o(747459),h=()=>o(173736),S=()=>o(992247),b=()=>o(983050),f=()=>o(967454),v=()=>o(129978),x=()=>o(339190),y=()=>o(308966),C=()=>o(356813),j=()=>o(610271),w=()=>o(978060),k=()=>o(886539),T=()=>o(291321),P=()=>o(120935),A=()=>o(789581),I=()=>o(283886),M=()=>o(278267),B=o(163643);function K(e){const t=(0,n().v3)(),{shouldShowAddTo:o,showTopPadding:a}=e,[l,d]=(0,i.useState)(!1),[c,u]=(0,i.useState)(0),[p,g]=(0,i.useState)(!1),[m,h]=(0,i.useState)(!1),[S,v]=(0,i.useState)(!0),C=(0,r().K8)((()=>t.RouterStore.state.route),[t.RouterStore]),j=(0,r().K8)((()=>e.store&&e.store.isDefined()),[e.store]);(0,i.useEffect)((()=>{d(!1),g(!1),u(0),h(!1)}),[C]),(0,i.useEffect)((()=>{const e=()=>{h(!0)};return document.addEventListener("touchstart",e),()=>{document.removeEventListener("touchstart",e)}}),[]);const k=(0,r().K8)((()=>y().A.state.elementRef??{current:void 0}),[]),T=(0,f().yE)(k),P=(0,r().K8)((()=>parseInt(t.WindowSizeStore.state.paddingTopCSS,10)),[t]);(0,i.useEffect)((()=>{if(!j||!m)return;if(!p&&void 0!==T&&0!==T)return g(!0),void u(T);if(void 0===T)return;if(!(Math.abs(T-c)>5))return;const t=T<c;if(u(T),T<=P)d(!1);else{const o=function(e,t){const o=e.getTitleStore();if(!o)return!1;const i=x().n.findEditableWithStore(o),n=null==i?void 0:i.getNode();if(!n)return!1;const r=n.getBoundingClientRect();return r.bottom>=t}(e.store,P);d(t&&!o),v(o)}}),[T,c,p,m,j,e.store,P]);const A=(0,r().K8)((()=>{var e;return(0,w().shouldRenderBackButton)({shouldShowAddTo:o,environment:t})&&Boolean(null===(e=t.mobileNative)||void 0===e?void 0:e.supportsNativeHomeOnPhone())}),[o,t]),I=(0,s().IS)((e=>({container:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",width:"100%",maxWidth:"100%",WebkitUserSelect:"none",cursor:"pointer",backgroundColor:"transparent",overflow:"hidden"},topPadding:{position:"relative",backgroundColor:S?"transparent":e.surface.page,width:"100%",zIndex:1}})),[S]),M=(0,r().K8)((()=>({...I.topPadding,height:t.WindowSizeStore.state.paddingTopCSS})),[t.WindowSizeStore,I.topPadding]),K=a?(0,B.jsx)("div",{style:M}):null;return j?(0,B.jsxs)("div",{style:I.container,className:b().l6q,children:[K,(0,B.jsx)(R,{shouldShowBackButton:A,store:e.store,routerState:e.routerState,isVisible:l})]}):null}function _(e){const{store:t,spaceStore:o,spaceViewStore:i,isInvalidPage:a,hasCoverPhoto:l}=e,d=(0,n().v3)();const c=(0,s().IS)((e=>({topbarStyle:{...D(e,l)},iconContainer:l?(0,M().aD)(e).circleIconContainerOverCoverPhoto:(0,M().aD)(e).circleIconContainer})),[l]),u=(0,r().K8)((()=>({top:d.WindowSizeStore.getSafePaddingTopPx(18),bottom:24,left:d.WindowSizeStore.getSafePaddingLeftPx(16),right:d.WindowSizeStore.getSafePaddingRightPx(4)})),[d.WindowSizeStore]);return(0,B.jsxs)("div",{className:b().SPN,style:{...c.topbarStyle,paddingTop:u.top,paddingBottom:u.bottom,paddingLeft:u.left,paddingRight:u.right},children:[(0,B.jsx)(j().Ye,{alignItems:"center",justifyContent:"flex-start",style:{minWidth:0},children:(0,B.jsx)(h().K,{from:"TopbarMobile.Left",fallback:e=>{let{error:t,errorId:o}=e;return(0,B.jsx)(S().W,{error:t,errorId:o,iconSize:26})},children:(0,B.jsx)("div",{children:(0,B.jsx)(k().df,{supportsNativeHomeTabPhone:!0,defaultMobileButtonStyle:c.iconContainer})})})}),(0,B.jsx)(j().Ye,{alignItems:"center",justifyContent:"flex-end",children:(0,B.jsxs)(h().K,{from:"TopbarMobile.Right",fallback:e=>{let{error:t,errorId:o}=e;return(0,B.jsx)(S().W,{error:t,errorId:o,iconSize:26})},children:[(0,B.jsx)(P().A,{}),t?(0,B.jsx)(E,{store:t,spaceStore:o,spaceViewStore:i,isInvalidPage:a,shouldShowAddTo:!1,hasCoverPhoto:l}):null]})})]})}function R(e){const{shouldShowBackButton:t,isVisible:o}=e,i=(0,n().v3)(),a=(0,u().tz)(),l=(0,s().IS)((e=>({topbarStyle:{...W(e,o)},iconStyle:{...(0,M().aD)(e).iconStyle,fill:e.icon.secondary},iconContainerSecondary:(0,M().aD)(e).circleIconContainerSecondary})),[o]),c=(0,r().K8)((()=>({left:i.WindowSizeStore.getSafePaddingLeftPx(16),right:i.WindowSizeStore.getSafePaddingRightPx(4)})),[i.WindowSizeStore]);return(0,B.jsxs)("div",{style:{...l.topbarStyle,paddingLeft:c.left,paddingRight:c.right},children:[(0,B.jsx)(j().Ye,{alignItems:"center",justifyContent:"flex-start",style:{minWidth:0},children:(0,B.jsx)(h().K,{from:"TopbarMobile.Left",fallback:e=>{let{error:t,errorId:o}=e;return(0,B.jsx)(S().W,{error:t,errorId:o,iconSize:26})},children:t&&(0,B.jsx)(k().df,{supportsNativeHomeTabPhone:!0,defaultMobileButtonStyle:{...l.iconContainerSecondary}})})}),e.store&&(0,B.jsx)(k().$x,{store:e.store}),(0,B.jsx)(j().Ye,{alignItems:"center",justifyContent:"flex-end",children:(0,B.jsxs)(h().K,{from:"TopbarMobile.Right",fallback:e=>{let{error:t,errorId:o}=e;return(0,B.jsx)(S().W,{error:t,errorId:o,iconSize:26})},children:[(0,B.jsx)(P().A,{}),e.store&&(0,B.jsx)(k().gW,{store:e.store,renderOrigin:e=>(0,B.jsx)("div",{children:(0,B.jsx)(C().A,{icon:d().L,iconStyle:l.iconStyle,ariaLabel:a.formatMessage(A().messages.actions),isDarkIconColor:!0,style:l.iconContainerSecondary,mobileFeedback:!0,...e})})})]})})]})}function W(e,t){const o=`0 ${1/(window.devicePixelRatio||1)}px 0 ${e.regularDividerColor}`;return{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",maxWidth:"100%",height:a().s1,backgroundColor:e.surface.page,boxShadow:t?o:"none",WebkitUserSelect:"none",cursor:"pointer",boxSizing:"border-box",transition:"margin-top 150ms ease,                      visibility 0ms linear "+(t?"0ms":"150ms"),pointerEvents:t?"auto":"none",overflow:"hidden",position:"relative",visibility:t?"visible":"hidden",marginTop:t?0:-a().s1}}function D(e,t){return{display:"flex",position:t?"absolute":"relative",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",maxWidth:"100%",height:a().s1,backgroundColor:t?"transparent":e.surface.page,WebkitUserSelect:"none",cursor:"pointer",pointerEvents:"auto",boxSizing:"border-box",opacity:1,zIndex:1}}function E(e){let{store:t,spaceStore:o,isInvalidPage:n,shouldShowAddTo:a,hasCoverPhoto:h}=e;const S=(0,u().tz)(),b=(0,s().IS)((e=>({iconStyle:(0,M().aD)(e).iconStyle,iconContainer:h?(0,M().aD)(e).circleIconContainerOverCoverPhoto:(0,M().aD)(e).circleIconContainer})),[h]),{value:f}=(0,v().fJ)(p().commentsDependency),x=(0,r().K8)((()=>{if(!f)return!1;const{discussionViewActions:e,discussionHelpers:{getAndSortCommentStoresByTime:o}}=f;return(0,g().getDiscussions)(t).some((t=>!t.getResolved()&&o(t).some((o=>e.isCommentUnread({discussionStore:t,commentStore:o})))))}),[f,t]),y=(0,r().K8)((()=>!!f&&(0,g().getDiscussions)(t).length>0),[f,t]),j=(0,r().K8)((()=>Boolean(o&&!o.canEdit())),[o]),P=(0,r().K8)((()=>t.canEdit()),[t]),K=(0,r().K8)((()=>t.isFormBlock()),[t]),_=(0,T().shouldShowTopbarShareMenu)({canEditPage:P,isSpaceGuest:j,isFormBlock:K,isPersonalHomePage:!1,isTranslated:!1}),R=(0,r().K8)((()=>m().A.state.open),[]),W=(0,r().K8)((()=>!a&&(!t.isCollectionView()||t.isCollectionViewPageWithContent())&&!K&&y),[K,a,t,y]),D=!K,E=x||R;return n?null:(0,B.jsxs)(i.Fragment,{children:[_&&(0,B.jsx)(k().J6,{store:t,renderOrigin:e=>(0,B.jsx)("div",{children:(0,B.jsx)(C().A,{icon:c().Y,iconStyle:b.iconStyle,ariaLabel:S.formatMessage(I().messages.share),isDarkIconColor:!0,style:b.iconContainer,mobileFeedback:!0,...e})})}),W&&(0,B.jsx)(k().m,{hasDiscussions:y,shouldShowCommentsIndicator:E,renderOrigin:e=>(0,B.jsx)("div",{children:(0,B.jsx)(C().A,{icon:l().h,iconStyle:b.iconStyle,ariaLabel:S.formatMessage(w().messages.comments),isDarkIconColor:!0,style:b.iconContainer,mobileFeedback:!0,...e})})}),D&&(0,B.jsx)(k().gW,{store:t,renderOrigin:e=>(0,B.jsx)("div",{children:(0,B.jsx)(C().A,{icon:d().L,iconStyle:b.iconStyle,ariaLabel:S.formatMessage(A().messages.actions),isDarkIconColor:!0,style:b.iconContainer,mobileFeedback:!0,...e})})}),a&&(0,B.jsx)(k().AG,{})]})}},77251:(e,t,o)=>{o.d(t,{W:()=>i});const i=o(129044).default.createValue(!1,{name:"AiPageTranslationCalloutStore"})},92557:(e,t,o)=>{o.d(t,{v:()=>v,A:()=>y});o(242343);var i=()=>o(237385),n=()=>o(803290),r=()=>o(174114),s=()=>o(680369),a=o(163643);const l={viewBox:"0 0 20 20",svg:(0,a.jsx)("path",{d:"M6.308 9.558a.625.625 0 0 0 0 .884l5.4 5.4a.625.625 0 1 0 .884-.884L7.634 10l4.958-4.958a.625.625 0 1 0-.884-.884z"})},d=(0,s().wt)("arrowChevronSingleLeft",l);var c=()=>o(566581),u=()=>o(566232);const p=(0,s().wt)("mobileTopbarChevronRight",{viewBox:"0 0 26 26",svg:(0,a.jsxs)("svg",{width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M17.6504 13.0001L9.85039 20.8001",strokeWidth:"1.5",strokeLinecap:"round"}),(0,a.jsx)("path",{d:"M17.6504 13.0001L9.85039 5.20012",strokeWidth:"1.5",strokeLinecap:"round"})]})});var g=()=>o(653998),m=()=>o(865226),h=()=>o(392608),S=()=>o(126451),b=()=>o(278267);const f=(0,g().YK)({back:{defaultMessage:"Back",id:"mobile.topbar.back"},forward:{defaultMessage:"Forward",id:"mobile.topbar.forward"}});function v(e){let{supportsNativeHomeTabPhone:t,defaultMobileButtonStyle:o}=e;const s=(0,i().v3)(),l=(0,n().K8)((()=>!t&&!h().UL(s)),[t,s]),{isTablet:u}=(0,i().Y0)(),p=(0,r().DP)(),v=(0,b().aD)(p),x=(0,g().tz)();let y,C;return u?(y=(0,c().w)({width:24,height:24}),C={...o,fill:v.iconStyle.fill}):(y=d({width:24,height:24,strokeWidth:.2}),C={...o}),(0,a.jsx)(S().A,{onClick:()=>function(e,t){const{mobileNative:o}=e;h().Al(e)||!t||h().UL(e)?m().aX(e):null==o||o.showNativeHomeTab()}(s,t),className:"notion-history-back-button",disabled:l,disabledFeedback:!0,mobileFeedback:!0,style:C,ariaLabel:x.formatMessage(f.back),children:y})}function x(e){let{defaultMobileButtonStyle:t}=e;const o=(0,i().v3)(),r=(0,n().K8)((()=>!h().MN(o)),[o]),{isTablet:s}=(0,i().Y0)(),l=(0,g().tz)();let d;return d=s?(0,u().P)({width:24,height:24}):p({width:24,height:24}),(0,a.jsx)(S().A,{onClick:()=>{m().sY()},className:"notion-history-forward-button",disabled:r,mobileFeedback:!0,disabledFeedback:!0,style:t,ariaLabel:l.formatMessage(f.forward),children:d})}const y=function(e){let{supportsNativeHomeTabPhone:t}=e;const{isTablet:n}=(0,i().Y0)(),s=(0,r().IS)((e=>({container:t?{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",paddingLeft:4,paddingRight:t||n?0:4}:{display:"flex",flexShrink:0,height:"100%",paddingLeft:4,paddingRight:t||n?0:4},defaultMobileButtonStyle:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",height:"100%",width:32,stroke:e.icon.primary},tabletRefreshButtonStyle:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",height:"100%",width:35,stroke:e.icon.primary,strokeWidth:.2}})),[t,n]);return(0,a.jsx)(o(579275).A,{capture:!0,render:e=>(0,a.jsxs)("div",{style:s.container,...e,children:[(0,a.jsx)(v,{supportsNativeHomeTabPhone:t,defaultMobileButtonStyle:n?s.tabletRefreshButtonStyle:s.defaultMobileButtonStyle}),!t&&(0,a.jsx)(x,{defaultMobileButtonStyle:n?s.tabletRefreshButtonStyle:s.defaultMobileButtonStyle})]})})}},283886:(e,t,o)=>{o.r(t),o.d(t,{TopbarShareButton:()=>M,messages:()=>k});var i=o(242343),n=()=>o(237385),r=()=>o(803290),s=()=>o(174114),a=()=>o(633627),l=()=>o(653998),d=()=>o(972340),c=()=>o(983050),u=()=>o(906230),p=()=>o(480415),g=()=>o(636208),m=()=>o(422340),h=()=>o(186438),S=()=>o(907721),b=()=>o(802955),f=()=>o(209684),v=()=>o(273520),x=()=>o(151835),y=()=>o(103151),C=()=>o(278267),j=()=>o(657304),w=o(163643);const k=(0,l().YK)({share:{defaultMessage:"Share",id:"topbar.share"}});function T(e){let{store:t,buttonPopupStore:a}=e;const l=(0,n().v3)(),{isMobile:c,isTablet:u}=(0,r().K8)((()=>({isMobile:l.device.isMobile,isTablet:l.device.isTablet})),[l]),S=(0,r().uB)(void 0,o(299097).A),b=(0,r().uB)(void 0,o(60020).Ay),f=(0,r().uB)(void 0,o(420401).A),x=(0,r().K8)((()=>function(e,t){if(t.shouldUserHaveAccessToPrivatePageBlock()&&t.state.changePermissionsEnabled&&t.state.privatePageStore&&t.state.privatePageStore.id===e.id)return t.state.privatePageStore;return e}(t,f)),[t,f]),y=(0,r().K8)((()=>(0,o(268117).FI)({disableLogging:!0})),[]),C=(0,r().K8)((()=>t.canAdmin()),[t]),j=(0,r().K8)((()=>!c&&function(e,t){const{permissionsInviteStore:o}=e.state;return o.state.inviteTargets.length>0||t.state.inviteTargets.length>0}(S,b)),[b,c,S]),{sudoModeStoreId:k}=(0,r().K8)((()=>{var e;return{sudoModeStoreId:null===(e=f.state.privatePageStore)||void 0===e?void 0:e.id}}),[f]),T=(0,r().O$)(o(485966).AppStoreCurrentSpaceStore);(0,i.useEffect)((()=>{!function(e){var t;let{environment:o,store:i,sudoModeStore:n,canAdmin:r,currentSpaceStore:s}=e;null!==(t=n.state.privatePageStore)&&void 0!==t&&t.id&&n.state.privatePageStore.id!==i.id&&n.reset();r||d().B({environment:o,sudoModeStore:n,pageBlockId:i.id,currentSpaceStore:s})}({environment:l,sudoModeStore:f,store:t,canAdmin:C,currentSpaceStore:T})}),[C,l,t,f,k,T]),(0,i.useEffect)((()=>{m().Ay.setState({...m().Ay.state,isInitialized:!0})}));const A=(0,i.useCallback)((()=>{a.reset()}),[a]),M=(0,i.useCallback)((()=>{I({buttonPopupStore:a,universalMemberInviteStore:S,inviteTargetsStore:b}),o(360378).IU({environment:l}),p().Tk(l),(0,h().g)()||o(104838).x(l)}),[a,S,b,l]),B=(0,i.useCallback)((e=>(0,w.jsx)(P,{buttonPopupEvents:e,handleClick:M})),[M]),K=(0,i.useCallback)((async()=>{if(b.state.inviteTargets.length>0){return void(await p().T({environment:l,inviteTargetsStore:b})&&(p().XP(l),I({buttonPopupStore:a,universalMemberInviteStore:S,inviteTargetsStore:b})))}const{permissionsInviteStore:e}=S.state;"invitee"===e.state.inputFocus&&e.setState({...e.state,inputFocus:"none"});await(0,o(861095).iQ)({environment:l,permissionsInviteStoreState:e.state,from:"share_menu"})||(p().XP(l),I({buttonPopupStore:a,universalMemberInviteStore:S,inviteTargetsStore:b}))}),[a,l,b,S]),_=(0,s().IS)((e=>({buttonPopup:{...c?{width:"100%"}:u?{width:460}:{width:y?g().$D:500,overflow:"hidden",...y&&{borderRadius:g().Sg,boxShadow:e.shadowMD,..."dark"===e.mode&&{border:`1px solid ${e.largePopupBorder}`}}}}})),[c,y,u]);return(0,w.jsx)(v().Ay,{popupType:c?v().z7.SlideUp:v().z7.Popup,forceInitialInbound:!0,buttonPopupStore:a,renderOrigin:B,originGap:c?void 0:8,style:_.buttonPopup,onClick:M,render:()=>(0,w.jsx)(o(872856).k,{buttonPopupStore:a,sudoModeStore:f,store:x,inviteTargetsStore:b,universalMemberInviteStore:S,onUpgradeButtonClick:A,location:c?"topbar_mobile":"topbar_share_button",onClose:K}),persistOnClose:j,onDismiss:K,onClose:K})}function P(e){let{buttonPopupEvents:t,handleClick:o}=e;const{isMobile:a}=(0,n().Y0)(),d=!(0,r().O$)(b().e),c=(0,r().K8)((()=>(0,h().g)()),[]),p=(0,s().IS)((e=>({shortcut:{color:e.text.contrastSecondary}})),[]),g=(0,i.useCallback)((()=>d?(0,w.jsx)(l().sA,{defaultMessage:"Unavailable while offline",id:"topbar.shareButton.offlineTooltip"}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{children:c?(0,w.jsx)(l().sA,{defaultMessage:"Share",id:"topbar.shareButton.tooltipAWTL"}):(0,w.jsx)(l().sA,{defaultMessage:"Share or publish to the web",id:"topbar.shareButton.tooltip"})}),(0,w.jsx)(x().A,{style:p.shortcut,name:"openShareMenu"})]})),[d,c,p.shortcut]);return(0,w.jsx)(y().A,{disableTooltip:a,renderTooltip:g,placement:S().W.Bottom,delayThreshold:400,render:e=>(0,w.jsx)(A,{events:(0,u().A)(e,t),handleClick:o,disabled:d})})}function A(e){let{events:t,handleClick:o,disabled:i}=e;const{isMobile:r}=(0,n().Y0)(),d=(0,l().tz)(),u=(0,s().IS)((e=>{const t=(0,C().aD)(e),o=(0,j().Hh)(e);return{mobileIconStyle:t.iconStyle,shareButton:{...r?t.iconContainer:{marginRight:o.iconButton.marginRight,marginLeft:o.iconButton.marginRight}}}}),[r]);const p=r?(0,a().Y)(u.mobileIconStyle):(0,w.jsx)(l().sA,{defaultMessage:"Share",id:"topbar.shareButton.title"});return(0,w.jsx)(f().p,{id:void 0,className:c().voG,...t,mobileFeedback:r,style:u.shareButton,"aria-label":d.formatMessage(k.share),disabled:i,disabledFeedback:i,children:p})}function I(e){let{buttonPopupStore:t,universalMemberInviteStore:o,inviteTargetsStore:i}=e;t.reset(),o.reset(),i.reset()}const M=i.memo(T)},299097:(e,t,o)=>{o.d(t,{A:()=>n});class i extends(()=>o(129044))().default{getInitialState(){return{permissionsInviteStore:new(o(339838).A),contextualInviteStore:new(o(138385).Ay)}}get stage(){return this.state.contextualInviteStore.state.inviteStage}}const n=i},309584:(e,t,o)=>{o.d(t,{b:()=>n});o(242343);var i=o(163643);const n=(0,o(680369).wt)("sidebarLeft",{viewBox:"0 0 18 14",svg:(0,i.jsx)("path",{d:"M3.1416 13.4561C2.40332 13.4561 1.84505 13.2669 1.4668 12.8887C1.08854 12.515 0.899414 11.9635 0.899414 11.2344V2.91504C0.899414 2.18132 1.08854 1.6276 1.4668 1.25391C1.84505 0.880208 2.40332 0.693359 3.1416 0.693359H14.8447C15.5876 0.693359 16.1481 0.880208 16.5264 1.25391C16.9046 1.6276 17.0938 2.18132 17.0938 2.91504V11.2344C17.0938 11.9635 16.9046 12.515 16.5264 12.8887C16.1481 13.2669 15.5876 13.4561 14.8447 13.4561H3.1416ZM3.22363 12.1094H14.7695C15.084 12.1094 15.3255 12.0273 15.4941 11.8633C15.6628 11.6992 15.7471 11.4508 15.7471 11.1182V3.02441C15.7471 2.69629 15.6628 2.4502 15.4941 2.28613C15.3255 2.12207 15.084 2.04004 14.7695 2.04004H3.22363C2.90462 2.04004 2.66081 2.12207 2.49219 2.28613C2.32812 2.4502 2.24609 2.69629 2.24609 3.02441V11.1182C2.24609 11.4508 2.32812 11.6992 2.49219 11.8633C2.66081 12.0273 2.90462 12.1094 3.22363 12.1094ZM6.33398 12.3281V1.80762H7.6123V12.3281H6.33398ZM4.99414 4.54199H3.59277C3.47428 4.54199 3.36947 4.49642 3.27832 4.40527C3.19173 4.31413 3.14844 4.21387 3.14844 4.10449C3.14844 3.986 3.19173 3.88346 3.27832 3.79688C3.36947 3.71029 3.47428 3.66699 3.59277 3.66699H4.99414C5.11719 3.66699 5.22201 3.71029 5.30859 3.79688C5.39974 3.88346 5.44531 3.986 5.44531 4.10449C5.44531 4.21387 5.39974 4.31413 5.30859 4.40527C5.22201 4.49642 5.11719 4.54199 4.99414 4.54199ZM4.99414 6.37402H3.59277C3.47428 6.37402 3.36947 6.33073 3.27832 6.24414C3.19173 6.15299 3.14844 6.04818 3.14844 5.92969C3.14844 5.81576 3.19173 5.71549 3.27832 5.62891C3.36947 5.54232 3.47428 5.49902 3.59277 5.49902H4.99414C5.11719 5.49902 5.22201 5.54232 5.30859 5.62891C5.39974 5.71549 5.44531 5.81576 5.44531 5.92969C5.44531 6.04818 5.39974 6.15299 5.30859 6.24414C5.22201 6.33073 5.11719 6.37402 4.99414 6.37402ZM4.99414 8.19922H3.59277C3.47428 8.19922 3.36947 8.15592 3.27832 8.06934C3.19173 7.98275 3.14844 7.88249 3.14844 7.76855C3.14844 7.65007 3.19173 7.54753 3.27832 7.46094C3.36947 7.37435 3.47428 7.33105 3.59277 7.33105H4.99414C5.11719 7.33105 5.22201 7.37435 5.30859 7.46094C5.39974 7.54753 5.44531 7.65007 5.44531 7.76855C5.44531 7.88249 5.39974 7.98275 5.30859 8.06934C5.22201 8.15592 5.11719 8.19922 4.99414 8.19922Z"})})},514040:(e,t,o)=>{o.d(t,{z:()=>P});var i=()=>o(21164),n=()=>o(289765),r=()=>o(218357),s=()=>o(795394),a=()=>o(84543),l=()=>o(72813),d=()=>o(477784),c=()=>o(485966),u=()=>o(413871),p=(o(610931),()=>o(582226)),g=()=>o(728373);const m=(0,o(653998).YK)({postHeadingName:{id:"posts.collection.headingName",defaultMessage:"Subject"},createdBy:{id:"database.propertyTypeName.posts.created_by",defaultMessage:"Created by"},createdTime:{id:"database.propertyTypeName.posts.created_time",defaultMessage:"Created time"}}),h="feed",S="descending",b={hide_linked_collection_name:!0,inline_collection_first_load_limit:{type:"load_limit",limit:10}};function f(e){return{property:e,direction:S}}function v(e){return{table:i().Vl,id:e.collectionId,spaceId:e.spaceId}}var x=()=>o(145017),y=()=>o(34662),C=()=>o(3311),j=()=>o(759625),w=()=>o(448316),k=()=>o(987513);function T(e){const{environment:t,transaction:o,teamStore:s,collectionStore:l,intl:d}=e,c=s.getSpaceId();if(!c)throw new Error("spaceId is undefined");const S=s.id,T=S,P=S,{schema:A,createdTimeId:I}=function(e){const t=(0,g().Ay)();return{schema:{title:{type:"title",name:e.formatMessage(m.postHeadingName)},[(0,g().Ay)()]:{type:"created_by",name:e.formatMessage(m.createdBy)},[t]:{type:"created_time",name:e.formatMessage(m.createdTime)}},createdTimeId:t}}(d),M=p().op.update({pointer:{id:T,table:i().Vl,spaceId:c},path:[],args:{id:T,space_id:c,name:[[d.formatMessage(k().D.postsCollectionTitle)]],schema:A,parent_id:P,parent_table:x().ev,format:{publishing_enabled:!0},alive:!0,version:0}}),B=(0,C().Ay)();a().applyOperation({store:l,operation:M,transaction:o});const K={id:B,table:n().Gy,spaceId:c},_={id:P,table:x().ev,spaceId:c},R=p().op.update({pointer:K,path:[],args:{id:B,version:5,type:h,parent_id:P,parent_table:x().ev,space_id:c,alive:!0,name:void 0,query2:{sort:[f(I)]},format:{...b,collection_pointer:v({collectionId:T,spaceId:c})}}}),W=u().Bv.createChildStore(s,_),D=u().pS.createChildStore(W,K);a().applyOperation({store:D,operation:R,transaction:o});const E=p().op.update({pointer:W.pointer,path:[],args:{id:P,type:"collection_view_page",version:1,alive:!0,parent_id:S,parent_table:r().yK,space_id:c,view_ids:[B]}});a().applyOperation({store:W,operation:E,transaction:o});const N=W.getTitleStore();N&&w().R9({environment:t,store:N,value:(0,y().x9d)(d.formatMessage(k().D.postsCollectionViewPageTitle)),transaction:o}),j().zv({store:W.getFormatStore(),data:{collection_pointer:v({collectionId:T,spaceId:c})},transaction:o})}function P(e){const{environment:t,selectedStore:o,currentSpaceViewStore:p,collectionContextStore:g,postStore:m}=e,h=d().A.getIntl();if(!g)return;const S=g.collectionViewStore(),b=g.collectionViewBlockStore();if(!S||!b||!p)return;const f=o.table===r().yK?o.id:void 0,v=c().default.state.currentSpaceStore;if(!v)return;const x=u().sk.createUniqueRootStore(t,{table:"block",id:o.id,spaceId:v.id}),y=null==x?void 0:x.getCollectionStore();a().createAndCommit({environment:t,userAction:"PersonalHomeFeedTab.setCollectionViewSourceTeamId",canUndo:!0,perform:e=>{const r={id:o.id,table:i().Vl,spaceId:v.id},d=u().md.createChildStore(x,r);y||(T({environment:t,transaction:e,collectionStore:d,teamStore:o,intl:h}),(0,l().d)({environment:t,collectionViewStore:S,collectionViewBlockStore:b,collectionStore:d,collectionContextStore:g,isFullScreen:!1,isRootChild:!1,isInPeekRenderer:!1,viewsModuleContext:void 0})),m&&s().X$({childStore:m,parentStore:y??d,transaction:e}),a().applyOperation({store:S,operation:{pointer:{id:S.id,table:n().Gy},path:["format","collection_view_source","teamId"],command:"set",args:f},transaction:e})}})}},773498:(e,t,o)=>{o.d(t,{rU:()=>p,QB:()=>r,hR:()=>d,pT:()=>l,JN:()=>u,i8:()=>s,Wt:()=>c,Sx:()=>a});var i=()=>o(129978);const n=new(i().O2)("notifications",(()=>Promise.all([o.e(96159),o.e(75134),o.e(43380),o.e(96346),o.e(36192),o.e(55373),o.e(62475),o.e(3151),o.e(44711),o.e(98629),o.e(53321),o.e(58550),o.e(16471),o.e(90825),o.e(37353),o.e(29151),o.e(16908),o.e(49889),o.e(97727),o.e(36209),o.e(92845),o.e(71718),o.e(48486),o.e(83324),o.e(63077),o.e(41870),o.e(90966),o.e(88552),o.e(90214),o.e(74562),o.e(8184),o.e(28271),o.e(17254),o.e(18895),o.e(78708),o.e(28721),o.e(4422),o.e(28866),o.e(67435),o.e(17989),o.e(48632),o.e(90625),o.e(76181),o.e(59794),o.e(72832),o.e(90280),o.e(26483),o.e(33813),o.e(81768),o.e(71104),o.e(2804),o.e(82850),o.e(84778),o.e(69914),o.e(11341),o.e(92011),o.e(19361),o.e(63327),o.e(26090),o.e(38482),o.e(12341),o.e(50984),o.e(47864),o.e(40828),o.e(76007),o.e(5023),o.e(90978),o.e(65554),o.e(53571),o.e(66885),o.e(21194),o.e(60499),o.e(78917),o.e(36141),o.e(42601),o.e(41864),o.e(19632),o.e(6893)]).then(o.bind(o,855022)))),r=(0,i()._h)(n,(e=>e.GetNotifiedFor)),s=(0,i()._h)(n,(e=>e.TopbarUpdatesMenu)),a=(0,i()._h)(n,(e=>e.UpdateSidebar)),l=(0,i()._h)(n,(e=>e.MobileInboxPopup)),d=(0,i()._h)(n,(e=>e.InboxActionsMenu)),c=((0,i()._h)(n,(e=>e.InboxNotificationSettingsButton)),(0,i()._h)(n,(e=>e.UnreadMentionsBadge))),u=(0,i()._h)(n,(e=>e.NotificationInboxPanelContent)),p=(0,i()._h)(n,(e=>e.AnimatedEmojiBadge))},789581:(e,t,o)=>{o.r(t),o.d(t,{TopbarMoreButton:()=>I,messages:()=>M});var i=o(242343),n=()=>o(237385),r=()=>o(803290),s=()=>o(174114),a=()=>o(794484),l=()=>o(680369),d=()=>o(653998),c=()=>o(870099),u=()=>o(137476);var p=()=>o(360378),g=()=>o(129978);const m=new(g().O2)("topbarMoreMenu",(async()=>await Promise.all([o.e(96159),o.e(75134),o.e(43380),o.e(9304),o.e(96346),o.e(36192),o.e(55373),o.e(62475),o.e(3151),o.e(44711),o.e(98629),o.e(53321),o.e(58550),o.e(16471),o.e(90825),o.e(37353),o.e(29151),o.e(16908),o.e(22900),o.e(49889),o.e(97727),o.e(85128),o.e(83700),o.e(95555),o.e(58823),o.e(36209),o.e(92845),o.e(71718),o.e(48486),o.e(83324),o.e(63077),o.e(41870),o.e(90966),o.e(88552),o.e(90214),o.e(74562),o.e(8184),o.e(28271),o.e(17254),o.e(18895),o.e(78708),o.e(28721),o.e(4422),o.e(28866),o.e(67435),o.e(17989),o.e(48632),o.e(90625),o.e(76181),o.e(59794),o.e(72832),o.e(90280),o.e(26483),o.e(33813),o.e(81768),o.e(71104),o.e(2804),o.e(82850),o.e(84778),o.e(69914),o.e(11341),o.e(92011),o.e(19361),o.e(63327),o.e(26090),o.e(38482),o.e(12341),o.e(50984),o.e(47864),o.e(40828),o.e(76007),o.e(5023),o.e(90978),o.e(65554),o.e(53571),o.e(66885),o.e(21194),o.e(67780),o.e(96933),o.e(87598),o.e(23063),o.e(84341),o.e(3965),o.e(93052),o.e(67200),o.e(6463),o.e(98071),o.e(45620),o.e(96453),o.e(8081),o.e(25368),o.e(38546),o.e(80759),o.e(67183),o.e(45354),o.e(82720),o.e(83181),o.e(68455),o.e(28773),o.e(76074),o.e(78917),o.e(72883),o.e(1440),o.e(45986),o.e(67378),o.e(9353),o.e(91137),o.e(21864),o.e(52181),o.e(92924),o.e(66406),o.e(19167),o.e(55717),o.e(10152),o.e(40186),o.e(73738),o.e(70584),o.e(97074),o.e(48979),o.e(91957),o.e(76026),o.e(67262),o.e(29616),o.e(75681)]).then(o.bind(o,571107)))),h=(0,g()._h)(m,(e=>e.TopbarMoreMenu));var S=()=>o(53664),b=()=>o(77251),f=()=>o(485966),v=()=>o(936726),x=()=>o(817545),y=()=>o(762436),C=()=>o(822493),j=o(163643);function w(e){const{originRef:t}=e,o=(0,s().IS)((e=>({aiTranslateIcon:{height:18,width:18,fill:e.text.uiBluePrimary}})),[]);return(0,j.jsx)(y().U,{calloutId:"ai_page_translation",children:(0,j.jsx)(C().k,{origin:t,placementToOrigin:"bottom",header:(0,j.jsxs)("div",{style:{display:"flex",fontSize:14,gap:12,paddingLeft:4,paddingRight:4},children:[(0,x().K)(o.aiTranslateIcon),(0,j.jsx)(d().sA,{id:"aiPageTranslationTooltip.header",defaultMessage:"You can always find translation in the top right menu"})]}),showPointer:!1,pointerOffset:6,content:null,onCloseClick:()=>{b().W.reset()},style:{width:300},onPrimaryButtonClick:()=>{b().W.reset()},nextButtonContent:(0,j.jsx)(d().sA,{id:"aiPageTranslationTooltip.dismiss",defaultMessage:"Got it"})})})}var k=()=>o(273520),T=()=>o(521839),P=()=>o(991378);function A(e){let{originRef:t}=e;return(0,j.jsx)(y().U,{calloutId:"wiki_promo",children:(0,j.jsx)(C().k,{origin:t,placementToOrigin:"bottom",header:"Upgrade your existing wikis",content:"Look for the Turn into wiki action here",onCloseClick:()=>{v().r.reset()},pointerPosition:"98%",pointerLength:24,pointerOffset:-3,style:{width:P().Sw}})})}function I(e){let{buttonPopupStore:t,store:o,isLastButton:a,renderOrigin:l}=e;const d=(0,n().v3)(),{device:g}=d,[m,x]=(0,i.useState)(void 0),y=(0,i.useRef)(null),C=(0,i.useCallback)((()=>{v().r.reset(),b().W.reset(),p().IU({environment:d});const e=y.current;e&&x(e.getBoundingClientRect()),function(e){u().vd(e,"open_more_menu")}(d)}),[y,d]),P=(0,r().K8)((()=>v().r.state.showConvertTooltip),[]),I=(0,r().O$)(b().W),M=(0,s().IS)((e=>({mobilePopupStyle:{borderRadius:12,backgroundColor:e.surface.wash}})),[]),B=(0,j.jsxs)(j.Fragment,{children:[P?(0,j.jsx)(A,{originRef:y}):I?(0,j.jsx)(w,{originRef:y}):null,(0,j.jsx)(k().Ay,{popupType:g.isMobile?k().z7.BottomSheet:k().z7.Popup,buttonPopupStore:t,renderOrigin:l||(e=>(0,j.jsx)(_,{ref:y,buttonPopupEvents:e,isLastButton:a})),onClick:C,render:()=>(0,j.jsx)(h,{blockStore:o,onClickOriginRect:m,handleAccept:e=>function(e,t,o){const{mainEditorCurrentBlockStore:i}=f().default.state;if(i){const t=i.getType();var n;if(t)(0,c().N)(o,{analyticsName:e.analyticsName,action_type:e.analyticsActionType,from:"topbar_more_menu",block_id:i.id,block_type:t,is_toggleable:(0,S().Yt)(t,i.getFormat()),collection_id:null===(n=i.getCollectionViewSourceCollectionStore())||void 0===n?void 0:n.id,parent_collection_id:i.getParentCollectionIdUpToTwoLevels(),form_id:i.getFirstFormIdInCollectionViewBlock()})}e.closeParentMenu&&K(t)}(e,t,d),handleDismiss:()=>K(t)}),originGap:g.isElectronWindows?12:8,forceInitialInbound:!0,style:g.isMobile?M.mobilePopupStyle:{width:240,maxHeight:"80vh"}})]}),R=(0,r().K8)((()=>f().default.state.inAppCalloutStore.getCalloutVisibility("ai_page_translation").canShow),[]);return I&&R?(0,j.jsx)(T().u,{shape:"square",borderRadius:6,children:B}):B}const M=(0,d().YK)({actions:{defaultMessage:"Actions",id:"topbar.actions"}});function B(e,t,i){const{device:n}=e;if(!n.isMobile){const{iconButton:{width:e,height:i}}=(0,o(657304).Hh)(t);return{display:"flex",alignItems:"center",justifyContent:"center",width:e,height:i,borderRadius:6}}const r=(0,o(278267).aD)(t).iconContainer;return i?{...r,marginLeft:n.isTablet?-6:void 0,marginRight:0}:{...r,marginLeft:n.isTablet?-6:void 0,marginRight:n.isTablet?-6:r.marginRight}}function K(e){e.setState({...e.state,open:!1})}const _=i.forwardRef((function(e,t){let{buttonPopupEvents:i,isLastButton:r}=e;const c=(0,s().DP)(),u=(0,n().v3)(),{device:p}=u,g=(0,d().tz)();return(0,j.jsx)(o(103151).A,{renderTooltip:()=>u.currentUser.isLoggedIn()?(0,j.jsx)(d().sA,{defaultMessage:"Style, export, and more…",id:"topbarMoreButton.tooltip"}):(0,j.jsx)(d().sA,{defaultMessage:"More…",id:"topbarMoreButton.loggedOut.tooltip"}),placement:o(907721).W.Bottom,originGap:p.isElectronWindows?10:void 0,delayThreshold:400,render:e=>(0,j.jsx)(o(126451).A,{ref:t,style:B(u,c,r),mobileFeedback:p.isMobile,className:o(983050).ug9,ariaLabel:g.formatMessage(M.actions),...(0,o(906230).A)(i,e),children:p.isMobile?(0,a().L)({height:l().lD.lg,width:l().lD.lg,fill:c.icon.primary}):(0,a().L)({width:l().Ev.lg,height:l().Ev.lg,fill:c.icon.primary})})})}))},886539:(e,t,o)=>{o.d(t,{$x:()=>ce,AG:()=>be,GK:()=>me,Iz:()=>Se,J6:()=>pe,_y:()=>de,df:()=>le,gW:()=>ge,j:()=>he,m:()=>ue,vf:()=>fe});var i=o(242343),n=()=>o(752597),r=()=>o(237385),s=()=>o(803290),a=()=>o(174114),l=()=>o(169201),d=()=>o(794484),c=()=>o(407257),u=()=>o(648069),p=()=>o(633627),g=()=>o(145017),m=()=>o(653998),h=()=>o(31448),S=()=>o(392336),b=()=>o(865226),f=()=>o(384221),v=()=>o(11639),x=()=>o(343772),y=()=>o(563036),C=()=>o(872856),j=()=>o(431789),w=()=>o(378219),k=()=>o(92451),T=()=>o(548694),P=()=>o(838517),A=()=>o(622286),I=()=>o(773498),M=()=>o(755587),B=()=>o(487800),K=()=>o(93624),_=()=>o(86076),R=()=>o(667801),W=()=>o(48913),D=()=>o(440588),E=()=>o(218746),N=()=>o(907721),F=()=>o(485966),L=()=>o(60020),H=()=>o(367111),z=()=>o(413871),O=()=>o(205670),V=()=>o(304816),U=()=>o(979906),Y=()=>o(126451),G=()=>o(273520),Q=()=>o(356813),$=()=>o(443252),J=()=>o(28210),X=()=>o(709237),Z=()=>o(166744),q=()=>o(978060),ee=()=>o(92557),te=()=>o(63511),oe=()=>o(404297),ie=()=>o(789581),ne=()=>o(283886),re=()=>o(278267),se=()=>o(161455),ae=o(163643);function le(e){let{supportsNativeHomeTabPhone:t,defaultMobileButtonStyle:o}=e;return(0,ae.jsx)(ee().v,{supportsNativeHomeTabPhone:t,defaultMobileButtonStyle:o})}function de(){const e=(0,r().v3)(),t=(0,s().K8)((()=>(0,W().tv)(e)&&D().sidebarExpandedStore.state),[e]);return(0,ae.jsxs)(Y().A,{mobileFeedback:!0,style:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,height:"100%",width:36,marginLeft:4},onClick:()=>{var t;if((0,q().isTabletWithNativeHome)(e))null===(t=e.mobileNative)||void 0===t||t.toggleNativeHome();else if((0,W().tv)(e))R().setExpand({environment:e,isExpanded:!D().sidebarExpandedStore.state,from:"topbar_mobile",saveDetailsSidebarPreference:!0});else{var o;const{NativeMobileActionBarStore:t}=e,i=t?null===(o=t.state.menu)||void 0===o?void 0:o.type:void 0;"editing"===O().default.state.mode||void 0!==i?(f().clear({environment:e}),null==t||t.clear(!1),H().A.onHide((()=>{n().default.afterNextFlush((()=>R().open({fromElectron:!1})))}))):R().open({fromElectron:!1})}S().gS(e)},children:[(0,u().a)({width:18,height:18}),t?(0,ae.jsx)(Z().A,{color:Z().g.Red,style:{position:"absolute",top:9,right:1},count:0}):(0,ae.jsx)(I().Wt,{type:e.device.isMobileBrowser?"allSpaces":"otherSpaces",color:Z().g.Red,style:{position:"absolute",top:9,right:1}})]})}function ce(e){let{store:t}=e;const o=(0,a().IS)((e=>({container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minWidth:0,flex:1},breadcrumb:{display:"flex",justifyContent:"center",alignItems:"center",minWidth:0,maxWidth:"100%",color:e.text.primary,fontSize:"17px",fontStyle:"normal",fontWeight:600,lineHeight:"22px"},subtitle:{color:e.text.secondary,textAlign:"center",fontSize:"13px",fontStyle:"normal",fontWeight:500,lineHeight:"16px",marginTop:2}})),[]),i=(0,s().K8)((()=>{const e=w().fU(t);if(e.length<=1)return null;const o=e[1];return o instanceof z().h4?o:w().Nq(t,1)}),[t]),n=(0,s().K8)((()=>t.isTopLevelPrivatePage()),[t]);return(0,ae.jsxs)("div",{style:o.container,children:[(0,ae.jsx)(x().oK,{store:t,style:o.breadcrumb,maxAncestorCount:0,showCurrentPageControls:!1,ancestorMaxWidth:100,currentPageMaxWidth:220,isMobile:!0}),(0,ae.jsx)("div",{style:o.subtitle,children:n?(0,ae.jsx)(m().sA,{...j().Dh.privateDestinationName}):i?(0,ae.jsx)(y().A,{store:i,maxWidth:220,iconSize:12,iconStyle:{display:"none"}}):null})]})}function ue(e){let{renderOrigin:t,hasDiscussions:o,shouldShowCommentsIndicator:n}=e;const a=(0,r().v3)(),l=(0,s().K8)((()=>E().A.state.open),[]),[d,c]=(0,i.useState)(Date.now());(0,i.useEffect)((()=>{l&&c(Date.now())}),[l]);const u={position:"relative",height:"100%"},p=(0,i.useCallback)((()=>{E().A.setState({open:!0}),(0,v().u)({environment:a,event:{eventName:"topbar_comments_menu_click",eventProperties:{has_discussions:o,has_unread_indicator:n}}})}),[a,o,n]),g=(0,A().X)("comment_sidebar_for_you"),m=(0,s().O$)(F().AppStoreMainEditorCurrentBlockStore);return(0,ae.jsx)(G().Ay,{buttonPopupStore:E().A,popupType:$().nl.BottomSheet,alignmentToOrigin:N().C.Start,placementToOrigin:N().W.Right,originGap:0,bottomSheetBackgroundColor:g?"elevated":"wash",stopClickPropagation:!0,isWideTabletWidth:!0,render:e=>g?(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(K().z,{navigableBlockStore:m}),m?(0,ae.jsx)(B().B,{navigableBlockStore:m,timeViewed:d}):null]}):(0,ae.jsx)(M().R,{timeViewed:d,location:"popup",onMobileClose:()=>e.close()}),isFullWidthOnMobile:!0,preventScaleTransition:!0,onClick:p,renderOrigin:e=>(0,ae.jsxs)("div",{style:u,children:[t(e),n&&(0,ae.jsx)(te().tS,{})]})})}function pe(e){let{store:t,renderOrigin:o}=e;const n=(0,s().uB)(void 0,L().Ay),r=(0,i.useCallback)((()=>{U().A.setState({open:!0})}),[]);return(0,ae.jsx)(G().Ay,{popupType:$().nl.BottomSheet,buttonPopupStore:U().A,renderOrigin:o,onClick:r,render:()=>(0,ae.jsx)(C().k,{store:t,buttonPopupStore:U().A,location:"topbar_mobile",onClose:()=>U().A.setState({open:!1}),inviteTargetsStore:n})})}function ge(e){let{store:t,renderOrigin:o}=e;return(0,ae.jsx)(ie().TopbarMoreButton,{store:t,buttonPopupStore:V().A,renderOrigin:o})}function me(e){let{store:t,spaceViewStore:o,isInvalidPage:i}=e;const n=(0,P().i0)(t);return i||!o?null:(0,ae.jsxs)(ae.Fragment,{children:[!n&&(0,ae.jsx)(oe().TopbarFavoriteButton,{store:t,spaceViewStore:o}),(0,ae.jsx)(_().A,{})]})}function he(e){let{store:t}=e;const o=(0,r().v3)(),i=(0,s().K8)((()=>t.getParentStore()),[t]),n=(0,s().K8)((()=>(0,q().isDefaultPrivateLocation)(t)),[t]),l=(0,s().K8)((()=>(null==i?void 0:i.table)===g().ev&&i.isEmptyPage()),[i]),d=(0,s().K8)((()=>!i||!(0,k().D_)(i)||i instanceof z().pS?void 0:i.getIcon()),[i]),u=(0,s().K8)((()=>i instanceof z().SL?(0,T().GK)(o,i):void 0),[o,i]),p=(0,a().IS)((e=>({folderIcon:{width:16,color:e.icon.primary},folderIconContainer:{height:32,width:32,backgroundColor:e.tint.regular,display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:4},filingButton:{display:"flex",alignItems:"center",paddingLeft:20,paddingRight:12,fontSize:h().J.UIRegular.mobile,fontWeight:h().Wy.medium,lineHeight:h().K_.UIRegular.mobile,whiteSpace:"nowrap",minWidth:0,color:e.text.primary}})),[]);return i&&(0,k().D_)(i)?n?(0,ae.jsxs)(Y().A,{mobileFeedback:!0,style:p.filingButton,onClick:()=>(0,q().handleFilingClick)(t,o),children:[(0,ae.jsx)("div",{style:{marginRight:8,...p.folderIconContainer},children:(0,c().E)(p.folderIcon)}),(0,ae.jsx)(m().sA,{defaultMessage:"Private",id:"topbarMobile.filingPrivateSectionButton.label"})]}):(0,ae.jsxs)(Y().A,{mobileFeedback:!0,style:p.filingButton,onClick:()=>(0,q().handleFilingClick)(t,o),children:[(0,ae.jsx)(J().B,{disabled:!0,icon:d,isEmptyPage:l,title:u,size:24,style:{marginRight:8}}),(0,ae.jsx)(X().A,{store:i})]}):null}function Se(){const e=(0,r().v3)(),t=(0,m().tz)(),o=(0,a().IS)((e=>({iconButton:{background:e.tint.regular,marginRight:20,borderRadius:16,width:32,height:32}})),[]);return(0,ae.jsx)(Q().A,{icon:e=>(0,l().u)({width:20,height:20}),style:o.iconButton,isDarkIconColor:!0,onClick:t=>(0,q().handleCancelQuickAdd)(e,{isMobileHorizon1QuickCapture:!0}),ariaLabel:t.formatMessage({defaultMessage:"Close",id:"topbarMobile.closeButton.label"})})}function be(){const e=(0,r().v3)(),t=(0,a().IS)((e=>({doneButton:{display:"flex",alignItems:"center",height:32,paddingLeft:12,paddingRight:12,marginLeft:2,marginRight:16,fontWeight:h().Wy.medium,color:e.text.primary,background:e.tint.regular,borderRadius:16}})),[]);return(0,ae.jsx)(Y().A,{mobileFeedback:!0,style:t.doneButton,onClick:t=>(0,q().handleQuickAddDone)(t,e),children:(0,ae.jsx)(m().sA,{defaultMessage:"Done",id:"topbarMobile.doneQuickAddButton.label"})})}function fe(e){const{store:t}=e,o=(0,r().v3)(),n=(0,m().tz)(),s=(0,i.useCallback)((()=>{t&&b().aX(o)}),[o,t]),c=(0,a().IS)((e=>({iconButton:{marginLeft:16,background:e.tint.regular,borderRadius:16,width:32,height:32},rightButtons:{display:"flex",alignItems:"center"},icon:(0,re().aD)(e).iconStyle,iconContainer:(0,re().aD)(e).iconContainer})),[]);return(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(Q().A,{icon:()=>(0,l().u)({width:20,height:20}),style:c.iconButton,onClick:s,ariaLabel:n.formatMessage({defaultMessage:"Close",id:"topbarMobile.closeButton.label"})}),(0,ae.jsxs)("div",{style:c.rightButtons,children:[(0,ae.jsx)(pe,{store:t,renderOrigin:e=>(0,ae.jsx)("div",{children:(0,ae.jsx)(Q().A,{icon:p().Y,iconStyle:c.icon,ariaLabel:n.formatMessage(ne().messages.share),style:c.iconContainer,mobileFeedback:!0,...e})})}),(0,ae.jsx)(ge,{store:t,renderOrigin:e=>(0,ae.jsx)("div",{children:(0,ae.jsx)(Q().A,{icon:d().L,ariaLabel:n.formatMessage(ie().messages.actions),iconStyle:c.icon,style:c.iconContainer,mobileFeedback:!0,...e})})}),(0,ae.jsx)(se().F,{store:t})]})]})}},936726:(e,t,o)=>{o.d(t,{r:()=>i});const i=o(129044).default.createValue({showConvertTooltip:!1,forceShow:!1},{name:"WikiPromoStore"})},953798:(e,t,o)=>{o.d(t,{A:()=>i});const i=new(o(962373).A)},978060:(e,t,o)=>{o.r(t),o.d(t,{MobileTopbar:()=>dt,RightButtonsComponent:()=>ut,getShouldShowCancelQuickAdd:()=>St,getShouldShowFilingInHeader:()=>bt,getTopbarMobileStyle:()=>gt,handleCancelQuickAdd:()=>wt,handleFilingClick:()=>kt,handleQuickAddDone:()=>jt,handleTopbarClick:()=>yt,handleUpdatesClick:()=>Ct,isDefaultPrivateLocation:()=>ht,isEmptyPageAndTitle:()=>mt,isTabletWithNativeHome:()=>vt,messages:()=>at,shouldRenderBackButton:()=>ft,shouldShowSidebarButton:()=>xt});o(362833),o(725707),o(113085);var i=o(242343),n=()=>o(237385),r=()=>o(803290),s=()=>o(174114),a=()=>o(81421),l=()=>o(68677),d=()=>o(712437),c=()=>o(452894),u=()=>o(633627),p=()=>o(758611),g=()=>o(145017),m=()=>o(653998),h=()=>o(31448),S=()=>o(392336),b=()=>o(764872),f=()=>o(870099),v=()=>o(10895),x=()=>o(191756),y=()=>o(865226),C=()=>o(874206),j=()=>o(360378),w=()=>o(783759),k=()=>o(84543),T=()=>o(421378),P=()=>o(343772),A=()=>o(638122),I=()=>o(319638),M=()=>o(991708),B=()=>o(747459),K=()=>o(688809),_=()=>o(579275),R=()=>o(173736),W=()=>o(992247),D=()=>o(137476),E=()=>o(782422),N=()=>o(983050),F=()=>o(307542),L=()=>o(640979),H=()=>o(352723),z=()=>o(392608),O=()=>o(471979),V=()=>o(129978),U=()=>o(622286),Y=()=>o(141833),G=()=>o(520969),Q=(o(771702),o(403517),()=>o(575015)),$=()=>o(535906),J=()=>o(935091),X=()=>o(858023),Z=()=>o(443252),q=()=>o(88271),ee=()=>o(245313),te=()=>o(907721),oe=()=>o(466321),ie=()=>o(485966),ne=()=>o(424339),re=()=>o(514040),se=()=>o(709863),ae=o(163643);function le(e){let{menuProps:t,menuItems:o}=e;return(0,ae.jsx)(J().A,{...t,children:(0,ae.jsx)(X().Ay,{type:X().Oh.Vertical,initialFocus:0,sections:[{key:"teamspaces",render:e=>(0,ae.jsx)(q().A,{...e}),items:o,showNoResultMessage:!0}]})})}function de(e){let{postStore:t}=e;const o=(0,m().tz)(),s=(0,n().v3)(),{currentSpaceViewStore:a,currentSpaceStore:l}=(0,r().K8)((()=>{const{currentSpaceViewStore:e,currentSpaceStore:t}=ie().default.state;return{currentSpaceViewStore:e,currentSpaceStore:t}}),[]),{selectedTeamStore:d,subscribedUserTeamStores:c,collectionContextStore:u}=(0,r().K8)((()=>se().u.state),[]),p=(0,r().K8)((()=>se().u.state.teamTargetMobilePopupOpen),[]);(0,ee().A)({shouldPreserveTextSelection:p??!1,shouldPreserveBlockSelection:!1,shouldRestoreSelection:!0});const g=(0,i.useCallback)((e=>{const i=e.getName();(0,re().z)({environment:s,currentSpaceViewStore:a,selectedStore:e,collectionContextStore:u,postStore:t}),se().u.setState({...se().u.state,selectedTeamStore:e}),se().u.closeTeamTargetMobilePopup(),Q().D6({label:o.formatMessage({id:"teamTargetSelector.moved.toast.mobile.message",defaultMessage:"Moved to {teamspaceName}"},{teamspaceName:i}),position:"bottom"})}),[s,u,a,t,o]),h=(0,r().K8)((()=>{if(!l)return{};const e={};return e[l.id]=null==l?void 0:l.getName(),null==c||c.forEach((t=>{e[t.id]=t.getName()})),e}),[l,c]);if(!(a&&l&&d&&c&&u))return null;const S=c.map((e=>({key:e.id,render:t=>(0,ae.jsx)($().A,{...t,title:h[e.id],icon:(0,ae.jsx)(ne().x,{store:e,size:16,disabled:!0}),isChecked:e.id===(null==d?void 0:d.id)}),action:()=>{g(e)}}))),b={menuType:L().gu.Modal,title:(0,ae.jsx)(m().sA,{defaultMessage:"Select teamspace",id:"teamTargetSelector.title"})};return(0,ae.jsx)(Z().Ay,{popupType:oe().n.BottomSheet,open:p??!1,onDismiss:()=>{se().u.closeTeamTargetMobilePopup()},placementToOrigin:te().W.Bottom,alignmentToOrigin:te().C.Start,originGap:0,preventScaleTransition:!0,render:()=>(0,ae.jsx)(le,{menuProps:b,menuItems:S}),preventBlockRenderQueueOnEnter:!0,trapFocus:!0})}var ce=()=>o(480415),ue=()=>o(268117),pe=()=>o(504690),ge=()=>o(819788),me=()=>o(836331),he=()=>o(836486),Se=()=>o(953798),be=()=>o(413871),fe=()=>o(304816),ve=()=>o(520924),xe=()=>o(126451),ye=()=>o(273520),Ce=()=>o(356813),je=()=>o(743668),we=()=>o(772357),ke=()=>o(709237),Te=()=>o(279150),Pe=()=>o(610271),Ae=()=>o(773498),Ie=()=>o(515212),Me=()=>o(840408),Be=()=>o(470313);function Ke(){const e=(0,i.useCallback)((()=>(0,ae.jsx)(Be().A,{message:(0,ae.jsx)(m().sA,{defaultMessage:"Any changes to this page will show up here.",id:"updatesModal.currentPageTab.emptyPrompt"}),title:(0,ae.jsx)(m().sA,{defaultMessage:"No page updates",id:"updatesModal.currentPageTab.emptyPromptTitle"})})),[]),t=(0,r().O$)(ie().AppStoreCurrentSpaceStore),o=(0,r().O$)(ie().AppStoreMainEditorCurrentBlockStore),n=(0,r().K8)((()=>{var e;const t=null==o||null===(e=o.getCollectionPointer())||void 0===e?void 0:e.id,i=null==o?void 0:o.isCollectionView();return null!=o&&o.isDefined()?{id:o.id,isCollection:i,collectionId:t}:void 0}),[o]),a=(0,s().IS)((()=>({getNotifiedFor:{padding:18}})),[]);return t&&n&&o?(0,ae.jsxs)("div",{children:[(0,ae.jsx)(Ae().QB,{navigableBlockStore:o,from:"page_updates",buttonPopupStore:Ie().A,style:a.getNotifiedFor}),(0,ae.jsx)(Me().A,{navigableBlockStore:o,collectionId:n.collectionId,spaceId:t.id,empty:e,source:"updates_sidebar"},"current-page")]}):null}var _e=()=>o(73771),Re=()=>o(144615),We=()=>o(610991),De=()=>o(92557),Ee=()=>o(886539),Ne=()=>o(64400),Fe=()=>o(377385),Le=()=>o(842400),He=()=>o(752597),ze=()=>o(309584),Oe=()=>o(680369),Ve=()=>o(384221),Ue=()=>o(667801),Ye=()=>o(48913),Ge=()=>o(440588),Qe=()=>o(367111),$e=()=>o(205670),Je=()=>o(120935),Xe=()=>o(907933),Ze=()=>o(243631),qe=()=>o(278267);function et(e){const t=(0,s().DP)(),o=(0,n().v3)(),{shouldShowAddTo:i,routerState:a,store:l,spaceStore:d,spaceViewStore:c,isInvalidPage:u,pageVisitStore:p,presenceStore:g,hideActionButtons:m,showTopPadding:h,isSidebarExpanded:S}=e,b=(0,r().K8)((()=>ft({shouldShowAddTo:i,environment:o})),[i,o]),f=(0,r().K8)((()=>{var e;return null===(e=o.mobileNative)||void 0===e?void 0:e.supportsNativeHomeOnPhone()}),[o.mobileNative]),{isDraftPost:v,isPersonalHome:x,isTeamHome:y,isPosts:C,isMyTasks:j,isFormBlock:w,teamStore:k,canEdit:T,canEditCollection:I,isRestricted:M,shouldShowCancelQuickAdd:B}=(0,r().K8)((()=>l?{isDraftPost:l.isDraft(),isRestricted:l.isRestricted(),canEdit:l.canEdit(),canEditCollection:l.canEditCollection(),shouldShowCancelQuickAdd:St(i,l),isMyTasks:(0,E().sj)(l.id),isPersonalHome:(0,G().lU)(l),isTeamHome:!1,isFormBlock:l.isFormBlock(),teamStore:void 0,isPosts:!1}:{isRestricted:!1,canEdit:!1,canEditCollection:!1,isPersonalHome:!1,isTeamHome:"team"===a.route.name,isPosts:"posts"===a.route.name,isMyTasks:!1,isFormBlock:!1,shouldShowCancelQuickAdd:!1,teamStore:"team"===a.route.name&&d&&be().sk.createChildStore(d,{table:"team",id:a.route.teamId,spaceId:d.id})}),[l,d,a,i]),K=(0,r().K8)((()=>(0,ue().hK)()),[]);const _=(0,r().K8)((()=>gt(i||Boolean(v),o,t,h)),[o,i,t,h,v]),D=(0,r().K8)((()=>xt(o)),[o]),F=(0,r().K8)((()=>bt(i,o)),[o,i]),L=(0,r().K8)((()=>!i&&(!u&&!w)),[i,u,w]),H=(0,r().K8)((()=>(0,O().Es)({blockStore:l})),[l]),z=(0,s().IS)((()=>({tabletSidebarButton:{height:Oe().lD.lg,width:Oe().lD.lg,marginLeft:19,marginRight:14,marginTop:20,marginBottom:21,stroke:t.icon.primary,strokeWidth:.02}})),[t.icon.primary]),V=(0,r().K8)((()=>function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const{mobileNative:o}=e;return{flexGrow:0,marginLeft:null!=o&&o.supportsNativeHomeOnPhone()?t?0:20:2,overflow:"auto",WebkitOverflowScrolling:"touch",marginRight:16,height:"100%"}}(o,!0)),[o]);return C?null:(0,ae.jsx)("div",{onClick:()=>yt(o),role:"row",tabIndex:0,onKeyDown:e=>"Enter"===e.key&&yt(o),style:_,className:N().byw,children:v&&l?(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(Ee().vf,{store:l}),(0,ae.jsx)(de,{postStore:l})]}):(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsxs)(Pe().Ye,{alignItems:"center",justifyContent:"flex-start",style:{minWidth:0},children:[D&&!S&&(0,ae.jsx)(tt,{defaultMobileButtonStyle:z.tabletSidebarButton}),(0,ae.jsxs)(R().K,{from:"TopbarMobile.Left",fallback:e=>{let{error:t,errorId:o}=e;return(0,ae.jsx)(W().W,{error:t,errorId:o,iconSize:26})},children:[b&&(0,ae.jsx)(De().A,{supportsNativeHomeTabPhone:f}),L&&l&&(0,ae.jsx)(P().oK,{store:l,style:V,maxAncestorCount:2,showCurrentPageControls:!1,ancestorMaxWidth:160,currentPageMaxWidth:240,isMobile:!0}),L&&H&&l&&(0,ae.jsx)(Re().YC,{blockStore:l}),F&&l&&(0,ae.jsx)(Ee().j,{store:l})]})]}),(0,ae.jsx)(Pe().Ye,{alignItems:"center",justifyContent:"flex-end",children:(0,ae.jsxs)(R().K,{from:"TopbarMobile.Right",fallback:e=>{let{error:t,errorId:o}=e;return(0,ae.jsx)(W().W,{error:t,errorId:o,iconSize:26})},children:[w&&l&&(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(ke().A,{store:l,removeIfEmpty:!0,style:{fontSize:14,paddingLeft:6}}),(0,ae.jsx)(Te().A,{size:8})]}),I&&l&&(0,ae.jsx)(_e().A,{store:l},l.id),(0,ae.jsx)(Je().A,{}),function(){if(!m)return w?l?(0,ae.jsx)(A().A,{formBlockStore:l,inPeekMode:!1}):void 0:x&&l?(0,ae.jsx)(Y().J,{store:l,isInvalidPage:Boolean(u)}):y&&k?(0,ae.jsx)(ve().c,{teamStore:k,permissionsInviteStore:void 0}):(0,ae.jsxs)(ae.Fragment,{children:[M&&!K&&(0,ae.jsx)(Ze().A,{style:{marginRight:8},onClick:()=>ce().Tk(o)}),T&&l&&p&&g&&(0,ae.jsx)(Xe().Ay,{rootStore:l,pageVisitStore:p,presenceStore:g}),B?(0,ae.jsx)(Ee().Iz,{}):j&&l?(0,ae.jsx)(Ee().GK,{store:l,spaceViewStore:c,isInvalidPage:u}):l?(0,ae.jsx)(ut,{store:l,spaceStore:d,spaceViewStore:c,isInvalidPage:u,shouldShowAddTo:i}):null]})}()]})})]})})}function tt(e){let{defaultMobileButtonStyle:t}=e;const o=(0,n().v3)(),i={...t,fill:(0,s().IS)((e=>({iconStyle:(0,qe().aD)(e).iconStyle})),[]).iconStyle.fill};return(0,ae.jsx)(xe().A,{mobileFeedback:!0,style:i,onClick:()=>{var e;if(vt(o))null===(e=o.mobileNative)||void 0===e||e.toggleNativeHome();else if((0,Ye().tv)(o))Ue().setExpand({environment:o,isExpanded:!Ge().sidebarExpandedStore.state,from:"topbar_mobile",saveDetailsSidebarPreference:!0});else{var t;const{NativeMobileActionBarStore:e}=o,i=e?null===(t=e.state.menu)||void 0===t?void 0:t.type:void 0;"editing"===$e().default.state.mode||void 0!==i?(Ve().clear({environment:o}),null==e||e.clear(!1),Qe().A.onHide((()=>{He().default.afterNextFlush((()=>Ue().open({fromElectron:!1})))}))):Ue().open({fromElectron:!1})}S().gS(o)},children:(0,ze().b)()})}var ot=()=>o(291321),it=()=>o(404297),nt=()=>o(958530),rt=()=>o(283886),st=()=>o(149609);const at=(0,m().YK)({comments:{id:"topbarMobile.commentsButton.label",defaultMessage:"Comments"}});function lt(e,t){(0,D().vd)(e,"page_creation_topbar_click",t)}function dt(e){const t=(0,n().v3)(),{store:o,banners:i,shouldShowAddTo:s}=e,{device:a}=t,l=(0,r().K8)((()=>o&&(0,H().qb)(t,o)),[t,o]),d=(0,r().K8)((()=>{if(!o)return!1;const e=o.isLockedForAllUsers()&&o.canEdit();return(!l||o.canEditCollection())&&a.isPhone&&(o.isRestricted()&&!(0,ue().hK)()||e)}),[o,l,a]),c=(0,r().K8)((()=>(0,ue().hK)()),[]),u=(0,U().X)("mobile_page_simplification_next"),p=(0,r().K8)((()=>(0,nt().PD)({device:a,shouldShowAddTo:s,isMobileTopbarRedesignEnabled:u})),[a,s,u]);return(0,ae.jsx)(_().A,{capture:!0,render:n=>(0,ae.jsxs)("header",{...n,style:{width:"100%",maxWidth:"100vw",zIndex:100},children:[l&&o?(0,ae.jsx)(Pt,{store:o,shouldShowAddTo:s,showTopPadding:!0}):p&&o?(0,ae.jsx)(Ne().S,{store:o,routerState:e.routerState,isInvalidPage:e.isInvalidPage,shouldShowAddTo:s,showTopPadding:!0}):a.isTablet?(0,ae.jsx)(et,{...e,showTopPadding:!0}):(0,ae.jsx)(ct,{...e,showTopPadding:!0}),d&&o&&(0,ae.jsx)(we().l,{label:(0,ae.jsx)("div",{children:(0,ae.jsx)(_e().A,{store:o},o.id)}),tint:"gray",display:"full-width",actions:o.isRestricted()&&!c?[{label:(0,ae.jsx)(Ze().A,{onClick:()=>ce().Tk(t)}),onClick:()=>{}}]:void 0}),i.length>0&&(0,ae.jsx)(K().x,{banners:i,isMobile:!0,isInPeekRenderer:!1})]})})}function ct(e){const t=(0,s().DP)(),o=(0,n().v3)(),{shouldShowAddTo:i,routerState:a,store:l,spaceStore:d,spaceViewStore:c,isInvalidPage:u,hideActionButtons:p,showTopPadding:g}=e,m=(0,r().K8)((()=>ft({shouldShowAddTo:i,environment:o})),[i,o]),h=(0,r().K8)((()=>{var e;return null===(e=o.mobileNative)||void 0===e?void 0:e.supportsNativeHomeOnPhone()}),[o.mobileNative]),{isDraftPage:S,isPersonalHome:b,isTeamHome:f,isPosts:v,isMyTasks:x,isFormBlock:y,teamStore:C,shouldShowCancelQuickAdd:j}=(0,r().K8)((()=>l?{isDraftPage:l.isDraft(),isRestricted:l.isRestricted(),canEdit:l.canEdit(),canEditCollection:l.canEditCollection(),shouldShowCancelQuickAdd:St(i,l),isMyTasks:(0,E().sj)(l.id),isPersonalHome:(0,G().lU)(l),isTeamHome:!1,isFormBlock:l.isFormBlock(),teamStore:void 0,isPosts:!1}:{isRestricted:!1,canEdit:!1,canEditCollection:!1,isPersonalHome:!1,isTeamHome:"team"===a.route.name,isPosts:"posts"===a.route.name,isMyTasks:!1,isFormBlock:!1,shouldShowCancelQuickAdd:!1,teamStore:"team"===a.route.name&&d&&be().sk.createChildStore(d,{table:"team",id:a.route.teamId,spaceId:d.id})}),[l,d,a,i]);const w=(0,r().K8)((()=>gt(i||Boolean(S),o,t,g)),[o,i,t,g,S]),k=(0,r().K8)((()=>xt(o)),[o]),T=(0,r().K8)((()=>bt(i,o)),[o,i]),I=(0,r().K8)((()=>!i&&(!u&&!y)),[i,u,y]),M=(0,r().K8)((()=>(0,O().Es)({blockStore:l})),[l]),B=(0,r().K8)((()=>pt(o,!0)),[o]);return v?null:(0,ae.jsx)("div",{onClick:()=>yt(o),role:"row",tabIndex:0,onKeyDown:e=>"Enter"===e.key&&yt(o),style:w,className:N().byw,children:S&&l?(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(Ee().vf,{store:l}),(0,ae.jsx)(de,{postStore:l})]}):(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsxs)(Pe().Ye,{alignItems:"center",justifyContent:"flex-start",style:{minWidth:0},children:[k&&(0,ae.jsx)(Ee()._y,{}),(0,ae.jsxs)(R().K,{from:"TopbarMobile.Left",fallback:e=>{let{error:t,errorId:o}=e;return(0,ae.jsx)(W().W,{error:t,errorId:o,iconSize:26})},children:[m&&h&&(0,ae.jsx)(De().A,{supportsNativeHomeTabPhone:h}),I&&l&&(0,ae.jsx)(P().oK,{store:l,style:B,maxAncestorCount:1,showCurrentPageControls:!1,ancestorMaxWidth:160,currentPageMaxWidth:240,isMobile:!0}),I&&M&&l&&(0,ae.jsx)(Re().YC,{blockStore:l}),T&&l&&(0,ae.jsx)(Ee().j,{store:l})]})]}),(0,ae.jsx)(Pe().Ye,{alignItems:"center",justifyContent:"flex-end",children:(0,ae.jsxs)(R().K,{from:"TopbarMobile.Right",fallback:e=>{let{error:t,errorId:o}=e;return(0,ae.jsx)(W().W,{error:t,errorId:o,iconSize:26})},children:[y&&l&&(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(ke().A,{store:l,removeIfEmpty:!0,style:{fontSize:14,paddingLeft:6}}),(0,ae.jsx)(Te().A,{size:8})]}),(0,ae.jsx)(Je().A,{}),function(){if(!p)return y?l?(0,ae.jsx)(A().A,{formBlockStore:l,inPeekMode:!1}):void 0:b&&l?(0,ae.jsx)(Y().J,{store:l,isInvalidPage:Boolean(u)}):f&&C?(0,ae.jsx)(ve().c,{teamStore:C,permissionsInviteStore:void 0}):j?(0,ae.jsx)(Ee().Iz,{}):x&&l?(0,ae.jsx)(Ee().GK,{store:l,spaceViewStore:c,isInvalidPage:u}):l?(0,ae.jsx)(ut,{store:l,spaceStore:d,spaceViewStore:c,isInvalidPage:u,shouldShowAddTo:i}):null}()]})})]})})}function ut(e){let{store:t,spaceStore:o,spaceViewStore:a,isInvalidPage:l,shouldShowAddTo:d}=e;const p=(0,m().tz)(),g=(0,n().v3)(),{isTablet:h}=(0,n().Y0)(),S=(0,s().IS)((e=>({iconStyle:(0,qe().aD)(e).iconStyle,iconContainer:(0,qe().aD)(e).iconContainer})),[]),{value:b}=(0,V().fJ)(I().commentsDependency),f=(0,r().K8)((()=>{if(!b)return!1;const{discussionViewActions:e,discussionHelpers:{getAndSortCommentStoresByTime:o}}=b;return(0,M().getDiscussions)(t).some((t=>!t.getResolved()&&o(t).some((o=>e.isCommentUnread({discussionStore:t,commentStore:o})))))}),[b,t]),v=(0,r().K8)((()=>!!b&&(0,M().getDiscussions)(t).length>0),[b,t]),x=(0,r().K8)((()=>Boolean(o&&!o.canEdit())),[o]),y=(0,r().K8)((()=>t.canEdit()),[t]),C=(0,r().K8)((()=>t.isFormBlock()),[t]),j=(0,r().K8)((()=>t.isPersonProfile()),[t]),w=(0,ot().shouldShowTopbarShareMenu)({isSpaceGuest:x,canEditPage:y,isPersonalHomePage:!1,isFormBlock:C,isTranslated:!1}),k=(0,r().K8)((()=>(0,ot().shouldShowTopbarUpdatesMenu)({canEditPage:y,device:g.device,isPersonalHomePage:!1,isFormBlock:!1,isTranslated:!1})),[y,g.device]),T=(0,r().K8)((()=>B().A.state.open),[]),P=(0,r().K8)((()=>!d&&(!t.isCollectionView()||t.isCollectionViewPageWithContent())&&!C&&!j),[C,d,t,j]),A=!C,K=f||T;return l?null:(0,ae.jsxs)(i.Fragment,{children:[h&&(0,ae.jsx)("div",{style:{width:16}}),(0,ae.jsx)(Tt,{}),w&&(0,ae.jsx)(Ee().J6,{store:t,renderOrigin:e=>(0,ae.jsx)("div",{children:(0,ae.jsx)(Ce().A,{icon:u().Y,iconStyle:S.iconStyle,ariaLabel:p.formatMessage(rt().messages.share),style:S.iconContainer,mobileFeedback:!0,...e})})}),P&&(0,ae.jsx)(Ee().m,{shouldShowCommentsIndicator:K,hasDiscussions:v,renderOrigin:e=>(0,ae.jsx)(Ce().A,{icon:c().h,iconStyle:S.iconStyle,ariaLabel:p.formatMessage(at.comments),style:S.iconContainer,mobileFeedback:!0,...e})}),h&&(0,ae.jsx)(it().TopbarFavoriteButton,{store:t,spaceViewStore:a,isTablet:h}),k&&(0,ae.jsx)(st().aU,{onClick:()=>Ct(g)}),A&&(0,ae.jsx)(Ee().gW,{store:t}),d&&(0,ae.jsx)(Ee().AG,{}),(0,ae.jsx)("div",{style:{width:4}})]})}function pt(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{mobileNative:i}=e;return{flexGrow:0,marginLeft:null!=i&&i.supportsNativeHomeOnPhone()?t?0:20:2,overflow:"auto",WebkitOverflowScrolling:"touch",marginRight:o?16:8,height:"100%"}}function gt(e,t,o,i){const{WindowSizeStore:n}=t;let r=`0 ${1/(window.devicePixelRatio||1)}px 0 ${o.regularDividerColor}`;return((0,F().Id)(t)||e)&&(r=void 0),{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",maxWidth:"100%",height:l().s1,marginTop:i?n.state.paddingTopCSS:0,paddingLeft:n.getSafePaddingLeftCSS(0),paddingRight:e?n.getSafePaddingRightCSS(0):n.getSafePaddingRightCSS(7),boxShadow:r,background:o.contentBackground,transition:"box-shadow 300ms",WebkitUserSelect:"none",cursor:"pointer"}}function mt(e){return e.isEmptyTitle()&&e.isEmptyPage()}function ht(e){const t=e.getParentStore(),{currentSpaceStore:o}=ie().default.state;return t instanceof be().SL&&o&&t.id===o.id}function St(e,t){return e&&mt(t)}function bt(e,t){return e&&t.device.isMobileNative&&!t.device.isTablet}function ft(e){const{shouldShowAddTo:t,environment:o}=e,{TabbedRouterStore:i}=o;if(t)return!1;const n=(0,z().UL)(o)||"native"===(0,a().Xz)(i.state).type;return!(0,z().Al)(o)||n}function vt(e){return(0,ge().T)("supportsNativeHome")&&e.device.isTablet}function xt(e){return vt(e)||!(0,ge().T)("supportsNativeHome")}function yt(e){j().IU({environment:e})}function Ct(e){Se().A.setState({open:!0}),b().nW(e)}function jt(e,t){const o=ie().default.state.mainEditorCurrentBlockStore,i=he().Ay.state.lastPageId;if(o){var n;const e=null===(n=t.mobileNative)||void 0===n?void 0:n.supportsNativeHomeOnPhone();e?C().navigateToHomeTab(t):i?x().uK({environment:t,store:be().Bv.createChildStore(o,{table:g().ev,id:i}),showMoveTo:!1,saveParent:!1,redirect:e,pageVisitSource:d().y8.BackForward}):y().oo({environment:t,url:p().JZ.root,redirect:!0}),lt(t,{action:"done"})}}function wt(e,t){const o=ie().default.state.mainEditorCurrentBlockStore,i=he().Ay.state.lastPageId;if(o){var n;const r=null===(n=e.mobileNative)||void 0===n?void 0:n.supportsNativeHomeOnPhone();r?C().navigateToHomeTab(e):i?x().uK({environment:e,store:be().Bv.createChildStore(o,{table:g().ev,id:i}),showMoveTo:!1,saveParent:!1,redirect:r,pageVisitSource:d().y8.BackForward}):y().oo({environment:e,url:p().JZ.root,redirect:!0}),t.isMobileHorizon1QuickCapture&&lt(e,{action:"cancel"}),k().createAndCommit({userAction:"TopbarMobile.handleCancelQuickAdd",environment:e,canUndo:!0,perform:t=>{T().oD({environment:e,blocks:[o],transaction:t}),t.postSubmitCallbacks.push((t=>{t||(0,f().N)(e,{analyticsName:"delete",from:"mobile_topbar",block_id:o.id,block_type:"page"})}))}})}}async function kt(e,t){await v().LP({environment:t,blocks:[e],moveToContext:"quick_add",onAccept:e=>function(e){S().l7(e)}(t),isAddTo:!0,isDefaultPrivateLocation:ht(e)})}function Tt(){const e={menuType:L().gu.Modal,title:(0,ae.jsx)(m().sA,{defaultMessage:"Page Updates",id:"pageUpdatesModal.mobileMenu.title"}),right:(0,ae.jsx)(je().DoneMenuText,{}),onClickRight:()=>Se().A.setState({open:!1}),whiteBackground:!0},t=(0,r().K8)((()=>Se().A.state.open),[]);return(0,ae.jsx)(Z().Ay,{open:t,popupType:ye().z7.SlideUp,alignmentToOrigin:te().C.Start,placementToOrigin:te().W.Right,onDismiss:()=>Se().A.setState({open:!1}),originGap:0,isWideTabletWidth:!0,render:()=>(0,ae.jsx)(J().A,{...e,children:(0,ae.jsx)(Ke,{})}),isFullWidthOnMobile:!0,preventScaleTransition:!0})}function Pt(e){let{store:t,shouldShowAddTo:o,showTopPadding:a}=e;const l=(0,s().DP)(),c=(0,n().v3)(),u=(0,n().Y0)(),p=Boolean(c.currentUser.isLoggedIn()||c.publicDomainUserId),g=(0,r().K8)((()=>!(0,pe().y)(c)&&c.currentUser.isLoggedIn()),[c]),S=u.isTablet,b=(0,r().K8)((()=>gt(o,c,l,a)),[c,o,l,a]),f=(0,r().K8)((()=>pt(c,!0,S)),[c,S]),v=(0,r().K8)((()=>"on"===me().default.getEligibleGroup({experimentId:"public_site_topbar_mobile_share_button",defaultGroup:"control"})),[]);return(0,ae.jsxs)("div",{onClick:()=>yt(c),style:b,className:N().byw,children:[g&&(0,ae.jsxs)(i.Fragment,{children:[(0,ae.jsx)(xe().A,{style:{display:"flex",alignItems:"center",height:"100%",paddingLeft:14,paddingRight:14,fontWeight:h().Wy.medium,color:l.text.primary,whiteSpace:"nowrap"},mobileFeedback:!0,onClick:()=>function(e){const{currentUserRootStore:t,currentUserSettingsStore:o}=ie().default.state;t&&o&&w().t9({environment:e,userRootStore:t,userSettingsStore:o,pageVisitSource:d().y8.SwitchSpace})}(c),children:(0,ae.jsx)(m().sA,{defaultMessage:"Back",id:"topbarMobile.backButton.label"})}),(0,ae.jsx)("div",{style:{height:18,width:1,flexShrink:0,marginRight:6,background:l.darkDividerColor}})]}),(0,ae.jsx)(P().oK,{store:t,style:f,maxAncestorCount:1,showCurrentPageControls:!1,ancestorMaxWidth:100,currentPageMaxWidth:220,isMobile:!0}),(0,ae.jsxs)(Pe().Ye,{alignItems:"center",children:[v&&(0,ae.jsx)(Fe().L,{store:t,buttonPopupStore:fe().A}),!p&&(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(Le().S,{store:t}),(0,ae.jsx)(Te().A,{size:8})]}),(0,ae.jsx)(We().A,{store:t,buttonPopupStore:fe().A,useEllipsisIcon:!p})]})]})}},987513:(e,t,o)=>{o.d(t,{D:()=>i});const i=(0,o(653998).YK)({postsCollectionViewPageTitle:{id:"posts.collectionViewPage.title",defaultMessage:"Posts"},postsCollectionTitle:{id:"posts.collection.title",defaultMessage:"Updates"},postHeadingName:{id:"posts.collection.headingName",defaultMessage:"Subject"},deleteDraftTooltip:{id:"posts.deleteDraftTooltip",defaultMessage:"Delete draft"},fullScreenTooltip:{id:"posts.fullScreenTooltip",defaultMessage:"Full screen"}})},991378:(e,t,o)=>{o.d(t,{Nu:()=>s,Sw:()=>i,gO:()=>n,j$:()=>r});const i=220,n=24,r=-7,s=-3}}]);