"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[83181],{13774:(e,t,o)=>{o.d(t,{q:()=>r});const r=o(129044).default.createValue({attached:!1,animating:!1,proportion:0},{name:"PopupBottomSheetOpenProportionStore"})},26788:(e,t,o)=>{o.d(t,{A:()=>a});o(362833),o(333225),o(494367),o(516262),o(573119),o(240480),o(950443),o(619601),o(725707),o(491955),o(403517);var r=o(242343);const n=function(e,t){if(e.ref&&t.ref){const o=t.ref;t.ref=t=>{e.ref(t),o(t)}}return r.cloneElement(e,t)};var i=o(163643);const a=function(e){const[t,a]=(0,r.useState)([]),{render:s}=e,l=(0,o(803290).K8)((()=>s()),[s]),c=(0,r.useMemo)((()=>new Set(l.map((e=>e.key)))),[l]),d=(0,o(951592).ZC)(l);if(d){const e=[],o=new Set(t.map((e=>e.key)));for(const t of d)if(!c.has(t.key)&&!o.has(t.key)){const o={visible:!1,onAnimationEnd:()=>{a((e=>e.filter((e=>e.key!==r.key))))}},r=n(t,o);e.push(r)}e.length>0&&a((t=>[...t,...e]))}const u=t.filter((e=>!c.has(e.key))).concat(l);return(0,i.jsx)("div",{className:e.className,children:u})}},29629:(e,t,o)=>{o.d(t,{I:()=>n,O:()=>i});var r=()=>o(968550);function n(e){const{cursors:t,rootStore:o}=e,n={};for(const r of t)for(const e of r.stack)for(const t of e)n[t.id]=t.index;r().A.setLimitParents(o,n)}function i(e){r().A.removeLimitParents(e.rootStore)}},34559:(e,t,o)=>{o.d(t,{LN:()=>he,Kh:()=>le,Ay:()=>de,gj:()=>ye});o(610931),o(725707),o(113085);var r=o(242343),n=()=>o(237385),i=()=>o(803290),a=()=>o(174114),s=()=>o(68677),l=()=>o(129808),c=()=>o(975392),d=()=>o(233358),u=()=>o(690291),p=()=>o(111066),f=()=>o(702895),g=()=>o(594878),h=()=>o(142708),m=()=>o(55813),v=o(163643);const S=(0,o(680369).wt)("unavailableOffline",{viewBox:"0 0 26 24",svg:(0,v.jsx)("g",{children:(0,v.jsx)("path",{d:"M6.574 19.645a6.3 6.3 0 0 1-2.314-.42 6.1 6.1 0 0 1-1.865-1.143 5.3 5.3 0 0 1-1.23-1.69 4.8 4.8 0 0 1-.44-2.03q0-1.192.43-2.198a4.44 4.44 0 0 1 1.24-1.67 3.94 3.94 0 0 1 1.914-.84q0-.36.068-.693a3.2 3.2 0 0 1 .215-.625L5.89 9.635q-.079.225-.118.478-.039.255-.039.547 0 .195-.185.195-1.036 0-1.768.47-.723.468-1.103 1.269a4 4 0 0 0-.381 1.767q0 .997.557 1.846.555.84 1.523 1.357.966.508 2.197.508h7.764l1.582 1.573zm14.61-.166-1.407-1.407h.244q1.035 0 1.866-.44a3.5 3.5 0 0 0 1.328-1.18 2.94 2.94 0 0 0 .488-1.651q0-1.329-.8-2.246-.791-.918-2.12-1.211-.176-.039-.156-.225.03-.341.039-.713a7 7 0 0 0 0-.722 5.9 5.9 0 0 0-.8-2.686 5.6 5.6 0 0 0-1.954-1.992q-1.23-.762-2.832-.762-1.26 0-2.197.42a4.9 4.9 0 0 0-1.592 1.113 8 8 0 0 0-1.143 1.543q-.078.146-.244.098a3 3 0 0 0-.459-.098 2.2 2.2 0 0 0-.459-.029L7.492 5.797q.469-.117.947-.117a3.3 3.3 0 0 1 .938.117 8 8 0 0 1 1.406-1.563 6.6 6.6 0 0 1 1.895-1.132q1.074-.43 2.402-.43 1.505 0 2.793.557a6.7 6.7 0 0 1 2.266 1.562 7.1 7.1 0 0 1 1.513 2.383q.537 1.366.537 2.998a5 5 0 0 1 2.715 2.705q.372.898.371 1.924 0 1.142-.517 2.119a4.8 4.8 0 0 1-1.445 1.65 5.4 5.4 0 0 1-2.13.909Zm-1.143 2.646L3.732 5.835a.75.75 0 0 1-.214-.526q0-.322.214-.538a.72.72 0 0 1 .528-.214.71.71 0 0 1 .547.214l16.298 16.29a.67.67 0 0 1 .215.527.75.75 0 0 1-.215.537.75.75 0 0 1-.537.215.74.74 0 0 1-.527-.215"})})});var b=()=>o(653998),y=()=>o(220413),x=()=>o(31448),w=()=>o(422693),C=()=>o(622286),I=()=>o(802955),k=()=>o(951540);function A(){const e=(0,n().v3)(),t=(0,i().O$)(I().e);let o;return(0,r.useEffect)((()=>{t||(0,w().j)(e,{type:"page_error_indicator"})}),[t,e]),o=t?(0,v.jsx)(b().sA,{defaultMessage:"Oops, there was an error loading this page. Refresh to load it again.",id:"pageErrorIndicator.loadingError.message"}):e.defaultRecordCache.persistedRecordCache?(0,v.jsx)(b().sA,{defaultMessage:"Please go online to load this page, then you'll be able to access it while offline.",id:"pageOfflineIndicator.hasLocalData.message"}):(0,v.jsx)(b().sA,{defaultMessage:"Oops, you seem to be offline. Please go online to view this page.",id:"pageOfflineIndicator.noLocalData.message"}),(0,v.jsxs)("div",{style:j(e),children:[(0,v.jsx)("div",{style:M(e),children:o}),(0,v.jsx)(k().A,{size:"lg",onClick:()=>window.location.reload(),children:(0,v.jsx)(b().sA,{defaultMessage:"Refresh",id:"pageErrorIndicator.reloadButton.label"})})]})}function P(e){let{isOfflineAndUnavailable:t}=e;const o=(0,n().v3)(),s=(0,i().O$)(I().e);(0,r.useEffect)((()=>{s||(0,w().j)(o,{type:"page_error_indicator"})}),[s,o]);const c=(0,a().IS)((e=>({container:{height:"100%",minHeight:`calc(100vh - ${2*l().ek(o.device.isElectronMac)}px)`,paddingLeft:o.device.isMobile?16:32,paddingRight:o.device.isMobile?16:32,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},icon:{width:29,height:24,fill:e.text.secondary,marginBottom:8},title:{fontWeight:x().Wy.medium,color:e.text.secondary,textAlign:"center"},description:{color:e.text.secondary,textAlign:"center"},button:{marginTop:8}})),[o.device]);let d,u;return t?(d=(0,v.jsx)(b().sA,{defaultMessage:"This page is not available while offline.",id:"pageOfflineIndicator.unavailableError.title"}),u=(0,v.jsx)(b().sA,{defaultMessage:"Please return online to access this content{hasLocalData, select, true { or sync the page} other {}}.",id:"pageOfflineIndicator.unavailableError.description",values:{hasLocalData:Boolean(o.defaultRecordCache.persistedRecordCache)}})):(d=(0,v.jsx)(b().sA,{defaultMessage:"Oops, there was an error loading this page.",id:"pageErrorIndicator.loadingError.title"}),u=(0,v.jsx)(b().sA,{defaultMessage:"Refresh to load it again.",id:"pageErrorIndicator.loadingError.description"})),(0,v.jsxs)("div",{style:c.container,children:[s?(0,m().exclamationMarkTriangleFillIcon)(c.icon):S(c.icon),(0,v.jsx)("div",{style:c.title,children:d}),(0,v.jsx)("div",{style:c.description,children:u}),s&&(0,v.jsx)(k().A,{style:c.button,size:"lg",onClick:()=>window.location.reload(),children:(0,v.jsx)(b().sA,{defaultMessage:"Refresh",id:"pageErrorIndicator.reloadButton.label"})})]})}const R=function(e){let{isOfflineAndUnavailable:t}=e;return(0,C().X)("download_for_offline")?(0,v.jsx)(P,{isOfflineAndUnavailable:t}):(0,v.jsx)(A,{})};function M(e){const{device:t}=e;return{fontSize:t.isMobile?18:32,marginBottom:8,textAlign:"center",color:y().Ay.uiBlack,maxWidth:640,lineHeight:1.3}}function j(e){const{device:t}=e;return{height:"100%",minHeight:`calc(100vh - ${2*l().ek(e.device.isElectronMac)}px)`,paddingLeft:t.isMobile?16:32,paddingRight:t.isMobile?16:32,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}}var T=()=>o(518471),_=()=>o(365060),O=()=>o(958530),B=()=>o(578269),E=()=>o(782422),L=()=>o(983050),F=()=>o(88442),D=()=>o(481148),K=()=>o(352723),V=()=>o(129978);const N=new(V().O2)("SavePageToOPFS",(()=>o.e(82094).then(o.bind(o,990670)))),z=(0,V()._h)(N,(e=>e.SavePageToOPFS));const q={PersonProfileContainer:new(V().O2)("PersonProfileContainer",(()=>Promise.all([o.e(16471),o.e(28866),o.e(48632),o.e(21194),o.e(60499),o.e(44632)]).then(o.bind(o,432810))))},W=(0,V()._h)(q.PersonProfileContainer,(e=>e.PersonProfileContainer));var $=()=>o(271748);const H=new(V().O2)("BeamRenderer",(()=>o.e(61227).then(o.bind(o,990934)))),U=(0,V()._h)(H,(e=>e.BeamActivity));var J=()=>o(48913),X=()=>o(440588),Y=()=>o(485966),G=()=>o(216273),Z=()=>o(990394),Q=()=>o(308966),ee=()=>o(261804),te=()=>o(869537),oe=()=>o(141122),re=()=>o(795756),ne=()=>o(826888),ie=()=>o(547124),ae=()=>o(438858),se=()=>o(255082);const le="1.375em";function ce(e){return(0,o(545250).Jx)(e.route)}const de=r.memo((function(e){const{store:t,routerState:c}=e,u=(0,n().v3)(),{RouterStore:p}=u,f=(0,n().Y0)(),g=(0,r.useRef)(null),[h,m]=(0,r.useState)((()=>l().ek(f.isElectronMac)));(0,r.useLayoutEffect)((()=>{if(!g.current)return;const e=g.current.getBoundingClientRect().height;m(e);const t=new ResizeObserver((e=>{for(const t of e)m(t.contentRect.height)}));return t.observe(g.current),()=>t.disconnect()}),[]);const S=(0,r.useCallback)((e=>{ne().A.state&&("scroll"===e?ne().A.state.hadScroll||(ne().A.setState({...ne().A.state,hadScroll:!0}),d().pF(u,{interactionType:e})):"click"===e?ne().A.state.hadClick||(ne().A.setState({...ne().A.state,hadClick:!0}),d().pF(u,{interactionType:e})):"copy"===e?ne().A.state.hadCopy||(ne().A.setState({...ne().A.state,hadCopy:!0}),d().pF(u,{interactionType:e})):(0,o(76394).HB)(e))}),[u]);(0,r.useEffect)((()=>{if(S){const e=()=>{S("copy")};return window.addEventListener("copy",e),()=>window.removeEventListener("copy",e)}}),[S]),(0,r.useEffect)((()=>()=>t&&o(29629).O({rootStore:t})),[t]);const b=(0,i().r6)((()=>t?re().A.getMode(u,t):re().s.disabled),[u,t]),y=(0,i().r6)((()=>(0,F().ZE)(b.state)),[b]),x=(0,i().K8)((()=>{if(!t)return;const{presenceStore:e,pageVisitStore:o}=Y().default.state;return{pageStore:t,presenceStore:e,pageVisitStore:o,publicEditModeStore:b,arePublicEditCompletionsEnabledStore:y}}),[y,b,t]),w=(0,i().K8)((()=>u.currentUser.isLoggedIn()),[u]),{isInvalidPage:C,isAppInitializationScreen:I,appContainerStore:k,isHome:A,isPersonProfile:P,shouldShowAddTo:R}=(0,i().K8)((()=>{if(!t)return{isInvalidPage:!0,isAppInitializationScreen:!1,appContainerStore:void 0,isHome:!1,isPersonProfile:!1,shouldShowAddTo:!1};const e=u.currentUser.id===t.getCreatedById()&&t.getCreatedByTable()===o(409211).oo;return{isInvalidPage:Boolean(!t.isDefined()||!t.canRead()),isAppInitializationScreen:Boolean(t.getAppContainerBlockStore()),appContainerStore:t.getAppContainerBlockStore(),isHome:"personal_home_page"===t.getType(),isPersonProfile:t.isPersonProfile(),shouldShowAddTo:Boolean(c.route.showMoveTo&&t.canEdit()&&w&&e)}}),[t,c.route,w,u.currentUser]),M=(0,i().O$)(Y().AppStoreMainEditorCurrentBlockStore),j=(0,i().K8)((()=>E().X4(u)),[u]),T=(0,a().DP)(),_=(0,i().K8)((()=>(0,o(520969).lU)(M)),[M]),O=(0,i().K8)((()=>{var e;return Boolean(null===(e=G().A.state.preferences)||void 0===e?void 0:e.isVibrancyEnabled)}),[]),D=(0,i().K8)((()=>{const e="team"===c.route.name,t={flexGrow:0,flexShrink:1,display:"flex",flexDirection:"column",background:_||e?O?`rgba(255, 255, 255, ${o(748531).a})`:(0,o(382640).Lu)({theme:T,isPhone:f.isPhone}):T.contentBackground,zIndex:1,height:f.isMobile?"100vh":`calc(100vh - ${h}px)`,maxHeight:"100%",position:"relative",..._?{height:"100%",position:"absolute"}:{}};if(!(0,J().tv)(u)){const e=X().sidebarOpenStore.state;(0,J().o1)(u)||(t.boxShadow=T.shadowMD),t.pointerEvents=e?"none":"auto",t.transform="translateX(0)"}return!j&&f.isMobileNative&&(t.pointerEvents="auto",t.transform="translateX(0px)"),t}),[c.route.name,_,O,T,f.isPhone,f.isMobile,f.isMobileNative,h,u,j]),K=(0,i().K8)((()=>"nativeTab"===p.state.route.name),[p]),[N,z]=(0,i().K8)((()=>{const e=(0,J().Uh)(u);return[e,e+(0,J().Ql)(u)]}),[u]),q=(0,i().K8)((()=>o(636023).Z8()),[]),H=(0,i().K8)((()=>$().default.isTogglingToPanelModeState()),[]),U=(0,i().O$)(X().sidebarResizingStore),Q=(0,i().O$)(G().b),ee=(0,i().O$)(Z().A).banners,te=(0,i().K8)((()=>!Q&&!(0,J().KB)(u)&&!$().default.isPanelPinnedState()),[u,Q]),oe=(0,i().K8)((()=>(0,J().KB)(u)),[u]),ae=(0,i().O$)(o(13774).q),se=(0,i().K8)((()=>u.WindowSizeStore.state.paddingTop),[u.WindowSizeStore]),le=(0,a().IS)((()=>({frameContainer:{order:o(897080).A.appCursorListener.editor,display:"flex",flexDirection:"column",width:f.isTablet?"unset":"100%",overflow:f.isTablet?"unset":"hidden",isolation:"auto",background:ae.attached?"black":"transparent"},sheetInset:ae.attached?{borderRadius:12*ae.proportion+"px",transform:`scale(${1-.08*ae.proportion}, ${1-.035*ae.proportion}) translateY(${.8*se*ae.proportion}px) translateZ(0)`,willChange:"transform border-radius",transition:ae.animating?"transform 0.5s cubic-bezier(0.32, 0.72, 0, 1), border-radius 0.5s cubic-bezier(0.32, 0.72, 0, 1)":void 0}:{}})),[f.isTablet,ae,se]),ce=(0,i().O$)(o(825634).P),de=(0,i().K8)((()=>null==t?void 0:t.canEdit()),[t]),{value:me}=(0,V().fJ)(ie().oQ.workflowNavigationHelpers),ve=(0,i().K8)((()=>null==me?void 0:me.getIsWorkflowEditorOpen(u)),[u,me]),Se=(0,i().O$)(Y().AppStoreCurrentSpaceViewStore),ye=(0,i().K8)((()=>(0,J().MJ)(u)),[u]);return(0,r.useEffect)((()=>{o(356527).u.resetHeights()}),[null==M?void 0:M.id]),(0,v.jsx)(ue,{pageContext:x,children:(0,v.jsxs)("div",{className:K?"hidden":"",style:le.frameContainer,children:[!f.isMobile&&!I&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(o(566255).b,{...e,ref:g,showSidebarButton:te,isElectron:f.isElectron,isInvalidPage:C,banners:ee}),f.isElectronWindows&&!Q&&(0,v.jsx)(o(790837).K,{})]}),(0,v.jsxs)(o(615917).A,{tag:"main",animate:{width:_?z:N,opacity:ye?0:1,...ae.attached?{}:{translateX:q}},skip:Q&&U.isResizing||H||f.isMobile||ce,style:{...D,...le.sheetInset},className:L().GtI,children:[f.isMobile&&(0,v.jsx)(o(173736).K,{from:"TopbarMobile",fallback:e=>{let{error:t,errorId:r}=e;return(0,v.jsx)("div",{className:L().byw,style:{display:"flex",justifyContent:"flex-end",alignItems:"center",width:"100%",height:s().s1,maxWidth:"100vw",paddingRight:8},children:(0,v.jsx)(o(992247).W,{error:t,errorId:r,iconSize:26})})},children:(0,v.jsx)(be,{shouldShowAddTo:R,children:(0,v.jsx)(B().JY,{...e,isInvalidPage:C,shouldShowAddTo:R,banners:ee,isSidebarExpanded:oe,spaceViewStore:Se})})}),k?(0,v.jsx)(pe,{appContainerStore:k}):"team"===c.route.name?(0,v.jsx)(o(260016).zF,{teamId:c.route.teamId}):"posts"===c.route.name?(0,v.jsx)(o(369789).Lb,{}):A&&t?(0,v.jsx)(ge,{store:t}):P&&t?(0,v.jsx)(W,{store:t}):ve&&t?(0,v.jsx)(ie().ZO,{store:t,routerState:c,maybeLogSearchInteractionEvent:S}):t?(0,v.jsx)(he,{store:t,routerState:c,maybeLogSearchInteractionEvent:S,shouldShowAddTo:R}):null,w&&f.isMobile&&t&&(0,v.jsx)(fe,{store:t,shouldShowMoveTo:Boolean((c.route.showMoveTo||f.isTablet)&&de)}),f.isMobileNative&&w&&M&&(0,v.jsx)(B().pX,{})]})]})})}));function ue(e){let{pageContext:t,children:r}=e;return t?(0,v.jsx)(o(902285).q,{value:t,children:r}):(0,v.jsx)(v.Fragment,{children:r})}function pe(e){let{appContainerStore:t}=e;return(0,v.jsx)("div",{style:{position:"absolute",height:"100vh",width:"100%"},children:(0,v.jsx)(o(452981).EU,{collectionViewBlockStore:t})})}function fe(e){var t;let{store:o,shouldShowMoveTo:a}=e;const s=(0,n().v3)(),l=(0,i().K8)((()=>{var e;return null===(e=s.mobileNative)||void 0===e?void 0:e.api.renderMobileActionBar}),[null===(t=s.mobileNative)||void 0===t?void 0:t.api.renderMobileActionBar]),c=(0,r.useCallback)((e=>{const{isMobileNative:t}=s.device;return(0,v.jsx)(B().q_,{stores:e,position:t?D().nh.Bottom:D().nh.Floating,currentBlockStore:o})}),[s.device,o]);return s.device.isMobileNative?(0,v.jsx)(B().rs,{currentBlockStore:o,isNativeMobileActionBar:!0,makeActionBarComponent:e=>(0,v.jsx)(B().Ry,{renderApi:l,stores:e,currentBlockStore:o,shouldShowMoveTo:a,fallbackRenderer:c})}):(0,v.jsx)(B().rs,{currentBlockStore:o,isNativeMobileActionBar:!1,makeActionBarComponent:c})}const ge=r.memo((function(e){let{store:t}=e;return(0,v.jsx)(_().A,{disable:!0,store:t,isDefaultContainer:!0,render:()=>(0,v.jsx)(o(573643).VJ,{})})}));function he(e){let{store:t,routerState:o,maybeLogSearchInteractionEvent:a,shouldShowAddTo:s=!1}=e;const l=(0,n().v3)(),{RouterStore:d}=l,{historyState:p}=o,{currentLoadingContainerStore:g,pageVisitStore:h}=(0,i().K8)((()=>{const{currentLoadingContainerStore:e,pageVisitStore:t}=Y().default.state;return{currentLoadingContainerStore:e,pageVisitStore:t}}),[]),m=(0,i().K8)((()=>p&&c().Et(p.scrollTop)?p.scrollTop:void 0),[p]),S=(0,i().K8)((()=>Boolean((0,K().qb)(l,t))),[l,t]),b=(0,i().K8)((()=>Boolean(oe().default.isCenterPeekOpen()||te().A.state.open)),[]);return(0,v.jsx)(_().A,{store:t,isDefaultContainer:!0,droppable:!0,isRootContainer:!0,disableRectangularSelection:S,disable:b,render:e=>{let{selectableEvents:n,selectableHoverMenuOverlay:i}=e;const c=f().Cf(d),p={pageStore:t,pageVisitStore:h,scrollToBlockIds:c,scrollToDiscussionId:c.length?void 0:o.route.discussionId,scrollToPosition:m,onReady:()=>{u().$(l,{animateScrollToBlocks:!1,shouldScroll:!1})},onDone:()=>{t.isCollectionView()||"rendered"===Y().default.state.renderPhase||Y().default.setState({...Y().default.state,renderPhase:"rendered"})},render:e=>{let{scrollerRef:o,error:r,ready:l,initialRequestCompleted:c,endOfResultsReached:d,isCollectionInPage:u}=e;return(0,v.jsx)(me,{scrollerRef:o,store:t,error:r,ready:l,initialRequestCompleted:c,endOfResultsReached:d,isCollectionInPage:u,selectableEvents:n,selectableHoverMenuOverlay:i,maybeLogSearchInteractionEvent:a,shouldShowAddTo:s})}};return(0,v.jsx)(r.Suspense,{fallback:(0,v.jsx)(ae().A,{isVisible:!0,store:t}),children:(0,v.jsx)(se().V,{...p,store:g})})}},t.id)}const me=r.memo((function(e){let{store:t,error:s,ready:l,initialRequestCompleted:c,endOfResultsReached:d,isCollectionInPage:u,selectableEvents:f,selectableHoverMenuOverlay:m,maybeLogSearchInteractionEvent:S,scrollerRef:b,shouldShowAddTo:y}=e;const x=(0,n().v3)(),w=(0,n().Y0)(),{publicEditModeStore:C}=(0,o(556078).S)()??{},I=(0,i().K8)((()=>(0,F().ZE)(null==C?void 0:C.state)),[C]),k=(0,o(48768).V)(),A=(0,r.useCallback)((e=>{let{startTime:r,endTime:n}=e;const i=(0,o(486963).U)(t);o(196387).default.DO_NOT_USE_measureLegacy({metricName:"collections.max_scroll_lag_in_session",startTime:r,endTime:n},{environment:x,data:o(876695).kz(i)})}),[x,t]),P=(0,r.useCallback)((e=>{if(o(73876).A.PageScroller=e,e){const t=e.getNode();t instanceof HTMLElement&&(b.current=t)}}),[b]),R=(0,r.useCallback)((()=>{S("scroll")}),[S]),M=(0,r.useCallback)((e=>{f.onClick(e),S("click")}),[S,f]),j=(0,i().K8)((()=>t.isCollectionView()),[t]),_=(0,i().K8)((()=>function(e){const t=(0,T().Wj)(e);return"number"==typeof t?`${t}px`:t}(x)),[x]),O=(0,a().IS)((()=>({spinner:{zIndex:1,opacity:.5,marginTop:`calc(-${le} / 2 - ${_} / 2)`,marginBottom:24,marginLeft:"auto",marginRight:"auto"},scroller:{display:"flex",flexDirection:"column",zIndex:1,flexGrow:1,position:"relative",...l?{}:{opacity:0,pointerEvents:"none",height:0},...j?{}:{alignItems:"center"}}})),[_,j,l]),B=(0,i().K8)((()=>Z().A.state.banners.some((e=>"over_free_block_limit"===e.contentKey))),[]),L=(0,i().K8)((()=>(0,o(613313).Km)(x)),[x]),D=(0,i().K8)((()=>oe().default.isSidePeekOpen()?void 0:l?p().u5(x):o(98508).A.All),[x,l]),K=(0,i().K8)((()=>E().fl({environment:x,store:t})),[x,t]),V=(0,o(173410).S)();return(0,v.jsxs)(r.Fragment,{children:[(0,v.jsxs)(h().H,{ref:P,onScrollLagMeasure:u?A:void 0,onScroll:R,preventType:D,type:K,style:O.scroller,store:Q().A,...f,onClick:M,children:[m,!k&&!w.isPhone&&I&&(0,v.jsx)(g().H7,{scrollerStore:Q().A}),!k&&(0,v.jsx)(o(8519).EO,{scrollerStore:Q().A}),!k&&(0,v.jsx)(o(93019).x,{blockStore:t}),!k&&L&&B&&(0,v.jsx)(o(302498).i,{}),!k&&(0,v.jsx)(o(948214).hD,{blockStore:t}),c&&(0,v.jsx)(ve,{store:t,error:s,shouldShowAddTo:y}),l&&!d&&!(c&&s)&&(0,v.jsx)(o(966789).A,{legacySize:le,style:O.spinner})]}),!k&&w.isPhone&&I&&(0,v.jsx)(g().H7,{scrollerStore:Q().A}),!k&&!w.isPhone&&I&&(0,v.jsx)(g().X9,{scrollerKey:"Page"}),(0,v.jsx)(ae().A,{isVisible:!l,store:t}),V&&(0,v.jsx)(z,{pageId:t.id})]})})),ve=r.memo((function(e){let{store:t,error:s,shouldShowAddTo:l}=e;const{pageVisitStore:c,presenceStore:d,currentLoadingContainerStore:u}=(0,i().K8)((()=>{const{pageVisitStore:e,presenceStore:t,currentLoadingContainerStore:o}=Y().default.state;return{pageVisitStore:e,presenceStore:t,currentLoadingContainerStore:o}}),[]),p=(0,n().v3)(),{WindowSizeStore:f,RouterStore:g}=p,h=(0,i().O$)(g),m=(0,i().K8)((()=>f.state.height),[f]),[S,b]=(0,i().K8)((()=>{const e=(0,J().Uh)(p),r=Math.max(o(400885).x6,e),n=e+(0,J().Ql)(p);return[(0,o(724903).RX)(t)&&!t.isFullWidth()?r:n,ye(p,m)]}),[m,p,t]),y=(0,i().K8)((()=>oe().default.isSidePeekOpen()||oe().default.isSidePeekClosingStore.state),[]),x=(0,o(373023).x9)(),w=(0,a().IS)((()=>({pageViewBlockStyle:y?{width:S,position:"absolute",overflowX:"hidden",left:0}:Se})),[y,S]),[k,A]=(0,r.useState)(!1);(0,o(269280).w)((()=>{(0,o(964968).W)(p,t.id)&&A(!0)}));const P=(0,i().O$)(I().e),M=(0,o(951592).ZC)(P);(0,r.useEffect)((()=>{void 0!==M&&(P&&!M)&&k&&A(!1)}),[P,M,k]);const j=(0,i().K8)((()=>{if(!p.currentUser.isLoggedIn())return!1;const e=u&&!u.state.endOfResultsReached,o=t.isDefined()&&!t.canRead();return e&&s||o}),[p.currentUser,u,t,s]),_=(0,i().K8)((()=>!1===(null==u?void 0:u.state.endOfResultsReached)),[u]),E=(0,i().K8)((()=>t.canRead()&&t.isDefined()),[t]),L=(0,C().X)("mobile_page_simplification_next"),F=(0,i().K8)((()=>(0,O().PD)({device:p.device,isMobileTopbarRedesignEnabled:L,shouldShowAddTo:l})),[p.device,L,l]),D=(0,i().K8)((()=>Boolean(t.getCover())),[t]),K=(0,i().O$)(Y().AppStoreCurrentSpaceStore),V=(0,i().O$)(Y().AppStoreCurrentSpaceViewStore);return(0,r.useEffect)((()=>{if(j){const e=s||new Error("Page loading error");o(812815).O8(e,{from:"Frame.PageContainerContent",type:"pageLoadingError",data:{pageId:t.id,miscDataToConvertToString:{isLoading:_,canRead:E}}})}}),[j,_,E,s,t.id]),j||k?(0,v.jsx)(R,{isOfflineAndUnavailable:k}):(0,v.jsxs)(r.Fragment,{children:[x?(0,v.jsx)(o(323059).w,{}):null,F&&h&&ce(h)&&(0,v.jsx)(B().uc,{store:t,routerState:h,hasCoverPhoto:D,spaceStore:K,spaceViewStore:V,isInvalidPage:!1}),(0,v.jsx)(T().Ay,{context:o(797470).Rr.Frame,style:w.pageViewBlockStyle,store:t,paddingBottom:b,disabled:!1}),(0,v.jsx)(U,{}),(0,v.jsx)(o(107889).A,{pageVisitStore:c,presenceStore:d,isPeekView:!1})]})})),Se={};function be(e){const{children:t,shouldShowAddTo:o}=e,r=(0,n().v3)(),l=(0,C().X)("mobile_page_simplification_next"),c=(0,i().K8)((()=>(0,O().PD)({device:r.device,isMobileTopbarRedesignEnabled:l,shouldShowAddTo:o})),[r.device,l,o]),d=(0,i().K8)((()=>r.WindowSizeStore.state.paddingTop),[r.WindowSizeStore]),u=(0,a().IS)((()=>({mobileTopbarPlaceholder:{minHeight:s().s1+d,display:"flex",flexShrink:0},mobileTopbarRedesigned:{position:"absolute",left:0,right:0,zIndex:h().Z+1}})),[d]);return(0,v.jsx)("div",{style:c?u.mobileTopbarRedesigned:u.mobileTopbarPlaceholder,children:t})}function ye(e,t){const{device:o}=e,r=o.isMobile&&ee().A.state.open?t:0;return(0,T().Wj)(e,p().C6(e)+r)}},55813:(e,t,o)=>{o.r(t),o.d(t,{exclamationMarkTriangleFillIcon:()=>n,iconDefinition:()=>r});o(242343);const r={viewBox:"0 0 20 20",svg:(0,o(163643).jsx)("path",{d:"M11.84 3.563c-.817-1.417-2.862-1.417-3.68 0L2.314 13.688c-.818 1.416.205 3.187 1.84 3.187h11.692c1.636 0 2.658-1.77 1.84-3.187zM9.876 6.75c.345 0 .625.28.625.625v3.5a.625.625 0 1 1-1.25 0v-3.5c0-.345.28-.625.625-.625m0 7.375a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5"})},n=(0,o(680369).wt)("exclamationMarkTriangleFill",r)},67558:(e,t,o)=>{o.d(t,{VY:()=>s,ZJ:()=>i,u3:()=>a});var r=()=>o(496985);class n extends(()=>o(129044))().default{getInitialState(){return{popupRenderedInPage:!1,popupRenderedInPeekView:!1}}}const i=new n,a=new(r().default)((()=>!1!==i.state.popupRenderedInPage),{debugName:"AssistantWriterRenderedInPageStore"}),s=new(r().default)((()=>!1!==i.state.popupRenderedInPeekView),{debugName:"AssistantWriterRenderedInPeekViewStore"})},73758:(e,t,o)=>{o.d(t,{A:()=>v});o(242343);var r=()=>o(803290),n=()=>o(174114),i=()=>o(950635),a=()=>o(850313),s=()=>o(518797),l=()=>o(409211),c=()=>o(653998),d=()=>o(76394),u=()=>o(31448),p=()=>o(793359),f=()=>o(477784),g=()=>o(289113),h=()=>o(931371),m=o(163643);function v(e){const{store:t}=e,o=(0,n().DP)(),v=(0,r().K8)((()=>t.getCreatedTime()),[t]),S=(0,r().K8)((()=>t.getLastEditedTime()),[t]),b=(0,r().K8)((()=>{const e=t.getCreatedByPointer();if(e)return(0,i().xC)({pointer:e,getRecordValue:t.getRecordValue})}),[t]),y=(0,r().K8)((()=>{const e=t.getLastEditedByPointer();if(e)return(0,i().xC)({pointer:e,getRecordValue:t.getRecordValue})}),[t]),x=(0,r().K8)((()=>{const e=t.getSpaceStore();if(!e)return!1;const o=null==b?void 0:b.asActor;if(!o)return!1;const r=o.table;switch(r){case l().oo:return(0,h().dp)(e,o.id).isMember();case s().GP:return(0,h().Ts)(e,o.id).isMember();case a().yj:return!1;default:(0,d().HB)(r)}}),[t,b]),w=v?(0,g().nl)(v,{useCompactFormat:!0,useLowercase:!0}):"",C=S?(0,g().nl)(S,{useLowercase:!0,useCompactFormat:!0}):"";if(!(S?(0,g().nl)(S,{useLowercase:!0,useCompactFormat:!0,roundDownYears:!0}):""))return null;const I={display:"flex",gap:4,color:o.text.contrastSecondary,height:16,fontSize:12},k={size:14,style:{marginRight:2}},A=f().A.getIntl();return(0,m.jsxs)(m.Fragment,{children:[(e=>{let t;if(null!=y&&y.asActor)t=(0,m.jsx)(c().sA,{defaultMessage:"Edited by {editor} {timestamp}",id:"pagePropertiesHeader.editedBy.label",values:{editor:(0,m.jsx)("span",{style:{fontWeight:u().Wy.medium,color:o.text.contrastPrimary},children:(0,m.jsxs)("span",{style:{display:"flex"},children:[!e&&(0,p().w)({actor:y,...k}),(0,i().lR)(A,y)]})}),timestamp:C}});else{if(!C)return;r=C,t=(0,m.jsx)(c().sA,{defaultMessage:"Edited {timestamp}",id:"pagePropertiesHeader.edited.label",values:{timestamp:r}})}var r;return(0,m.jsx)("div",{style:{...I,marginTop:3,marginBottom:3},children:t})})(e.compactFormat),(e=>{let t;if(null!=b&&b.asActor&&x)t=(0,m.jsx)(c().sA,{id:"pagePropertiesHeader.createdBy.label",defaultMessage:"Created by {creator} {timestamp}",values:{creator:(0,m.jsx)("span",{style:{fontWeight:u().Wy.medium,color:o.text.contrastPrimary},children:(0,m.jsxs)("span",{style:{display:"flex"},children:[!e&&(0,p().w)({actor:b,...k}),(0,i().lR)(A,b)]})}),timestamp:w}});else{if(!w)return;t=(0,m.jsx)(c().sA,{id:"pagePropertiesHeader.created.label",defaultMessage:"Created {timestamp}",values:{timestamp:w}})}return(0,m.jsx)("div",{style:{...I,marginBottom:4},children:t})})(e.compactFormat)]})}},93019:(e,t,o)=>{o.d(t,{x:()=>i});var r=()=>o(129978);const n=new(r().O2)("ScrollableSitesBannerContainer",(async()=>await Promise.all([o.e(16471),o.e(48632),o.e(21194),o.e(25700),o.e(58112),o.e(7771)]).then(o.bind(o,813246)))),i=(0,r()._h)(n,(e=>e.ScrollableSitesBannerContainer))},107889:(e,t,o)=>{o.d(t,{A:()=>D});o(362833),o(333225),o(494367),o(516262),o(573119),o(240480),o(950443),o(619601),o(725707),o(107652),o(491955),o(500234),o(324989),o(403517);var r=o(242343),n=()=>o(237385),i=()=>o(803290),a=()=>o(174114),s=()=>o(1476),l=()=>o(409211),c=()=>o(653998),d=()=>o(975392),u=()=>o(76394),p=()=>o(747459),f=()=>o(225679),g=()=>o(915821),h=()=>o(800825),m=()=>o(244563),v=()=>o(360482),S=()=>o(967454),b=()=>o(593745),y=()=>o(37394),x=()=>o(485966),w=()=>o(750169),C=()=>o(13889),I=()=>o(413871),k=()=>o(182613),A=()=>o(205670),P=()=>o(220413),R=()=>o(829090);function M(e,t){return e&&(0,P().Nq)(e,t)}var j=()=>o(907721),T=o(163643);const _=function(e){let{renderTooltip:t,children:r,style:n}=e;return(0,T.jsx)(o(103151).A,{renderTooltip:t,placement:j().W.Bottom,alignment:j().C.Start,render:e=>(0,T.jsx)("div",{style:n,...e,children:r})})};const O=function(e){let{name:t,size:r,style:n,tooltipStore:i,userId:s}=e;const l=(0,a().IS)((e=>({wrapper:{background:"none",boxShadow:"none"},attribution:{boxSizing:"content-box",width:r||18,height:r||18,lineHeight:`${r||18}px`,overflow:"hidden",textAlign:"center",fontSize:11,letterSpacing:"0.03em",userSelect:"none",WebkitUserSelect:"none",fontVariant:"small-caps",color:s&&M(s,e),cursor:"default"}})),[s,r]),c=function(e){const t=e.name,o=e.email;let r;if(t||o){if(t){const e=t.split(" ").filter((e=>e.length>0));r=e.length>1?String(R().PE(e[0])[0])+String(R().PE(e[e.length-1])[0]):String(R().PE(t)[0])+String(R().PE(t)[1])}else r=null==o?void 0:o.substring(0,2);return r=r?r.toUpperCase():void 0,r}}({name:t});return c&&l.attribution.color?(0,T.jsx)(_,{style:n,renderTooltip:()=>(0,T.jsx)(o(73758).A,{store:i}),children:(0,T.jsx)("div",{style:l.wrapper,children:(0,T.jsx)("div",{style:l.attribution,children:(0,T.jsx)(o(826033).A,{children:c})})})}):null};var B=()=>o(482570);const E={position:"absolute",top:0,left:0,zIndex:89},L=16,F=22;const D=function(e){const{pageVisitStore:t,presenceStore:a}=e,s=(0,n().v3)(),[{status:l,value:c}]=(0,o(162901).Yb)((async()=>(0,o(611168).$g)()),[]),u=(0,r.useRef)(null),f=(0,o(622286).X)("block_attribution"),m=e.isPeekView?o(240579).A:o(308966).A,P=(0,i().K8)((()=>m.state.elementRef??{current:null}),[m]),R=(0,S().yE)(P),M=(0,S().o7)(P),j=(0,i().r6)((()=>{if(!f)return[];const e=R-5e3,t=e+M+5e3,o=function(e){var t;const{blockAttributionEnabled:o,containerEl:r,presenceStore:n,environment:i}=e,{currentUserSettingsStore:a}=x().default.state,s=(null==a||null===(t=a.getSettings())||void 0===t?void 0:t.show_block_attribution)??!0;if(!o||!s)return[];const{rootStore:l}=n.state;if(!r||!l||"editing"!==A().default.state.mode||p().A.state.open||w().A.state.open||C().A.state.isKeyboardMode)return[];let c;for(const d of k().default.state.stores){const e=d.findRecordStoreUIAncestor((e=>e instanceof I().Bv&&e.isTransclusionType())).ancestor;e&&e instanceof I().Bv&&"transclusion_container"===e.getType()&&(c=e)}const u=y().T.getMembersByDOMOrder({filter:()=>!0}),f=r.getBoundingClientRect(),g=v().zo({blockStore:l,transclusionReferences:"omit",childPages:"omit"}).flatMap((e=>{const t=[];if(e.isInsideTransclusion()||e.isTransclusionType()){let o=e;if("transclusion_reference"===e.getType()){const t=e.getTransclusionReferenceTargetStore();t&&(o=t)}"transclusion_reference"!==e.getType()&&"transclusion_container"!==e.getType()||(o!==c?t.push(V(e,u,f,i)):v().zo({blockStore:o,transclusionReferences:"omit",childPages:"omit"}).map((e=>t.push(V(e,u,f,i)))))}else t.push(V(e,u,f,i));return t})).filter((e=>!d().b0(e)));g.sort(((e,t)=>e.top-t.top));const h=g.filter(((e,t,o)=>0===t||e.actor.id!==o[t-1].actor.id));if(1===h.length)return[];return h}({blockAttributionEnabled:f,containerEl:u.current,presenceStore:a,environment:s});o.sort(((e,t)=>e.top-t.top));const r=[];return o.every((o=>o.top>=e&&o.top<=t&&(r.push(o),!0))),r}),[f,a,R,M,s],{debugName:"attributionAvatarStore",useDeepEqual:!0});(0,i().O$)(j),(0,r.useEffect)((()=>{let e;const t=d().sg(j.recompute,100);return f&&(window.addEventListener("resize",t),e=setInterval(t,1e3)),()=>{window.removeEventListener("resize",t),clearInterval(e)}}),[j,f]);const _=(0,i().O$)(j),O=[...(0,i().K8)((()=>function(e){const{attributionAvatars:t,pageVisitStore:o,presenceStore:r,environment:n,containerEl:i,coEditingPresenceStore:a}=e,{rootStore:s}=r.state;if(!s||!(0,h().xm)(r))return[];if(!i)return[];const l=n.currentUser.id,c=(0,h().PZ)({pageVisitStore:o,presenceStore:r}).filter((e=>e.userId!==l&&(0,h().dp)(n,e))),d=null==a?void 0:a.getPresencesForBlock(s.id);d&&c.push(...d);if(!c.length)return[];const u=new Set(t.map((e=>{let{blockStore:t}=e;return t.id}))),p={},f=y().T.getMembersByDOMOrder({filter:()=>!0}),m=i.getBoundingClientRect(),v=[];for(const y of c){const e=(0,h().EV)(y),t=null==y?void 0:y.blockPath;let o;if(t&&(null==t?void 0:t.length)>0?o=z(f,t,s):e&&(o=K(f,e,s)),!o)continue;const r=o.props.store.id;p.hasOwnProperty(r)||(p[r]=0),p[r]++;const i=o.getNode();if(!(i&&i instanceof Element))continue;const a=i.getBoundingClientRect();if(!a)continue;let l,c;if(o.props.store.isFirstBlockInCalloutV2Block()){var S;const e=null===(S=o.props.store.getRecordStoreUIParent())||void 0===S?void 0:S.findRecordStoreUIAncestor((e=>e instanceof I().Bv)).ancestor;e instanceof I().Bv&&(l=e,c=l?b().K.getRect(l):void 0)}const d=u.has(r),x=(0,g().ac)({marginItemType:"presence_avatars",nodeRect:c??a,containerRect:m,attributionsIncludeFoundBlock:d,avatarCount:p[r],store:l??o.props.store,environment:n}),w=(0,g().qg)({marginItemType:"presence_avatars",nodeRect:c??a,containerRect:m,environment:n,store:l??o.props.store,selectable:o});v.push({type:"presence",userId:y.userId,left:w,top:x,blockType:o.props.store.getType()})}return v}({attributionAvatars:_,pageVisitStore:t,presenceStore:a,environment:s,containerEl:u.current,coEditingPresenceStore:"resolved"===l?c:void 0})),[_,t,a,s,l,c],{debugName:"presenceAvatars",useDeepEqual:!0}),..._];return(0,T.jsx)("div",{className:"notion-presence-container",style:E,ref:u,children:(0,T.jsx)(o(26788).A,{render:()=>O.map((t=>{const{left:r,top:n}=t,i={avatarWrapperAnimation:{translateX:r,translateY:n,scale:1,opacity:1},avatarEnterExitAnimation:{scale:.7,opacity:0}},a={...i.avatarWrapperAnimation,...i.avatarEnterExitAnimation};return(0,T.jsx)(o(615917).A,{initial:a,exit:a,animate:i.avatarWrapperAnimation,children:(0,T.jsx)(N,{avatar:t,presenceStore:e.presenceStore})},"attribution"===t.type?t.uniqueId:t.userId)}))})})};function K(e,t,o){return e.find((e=>{const r=e.props.store;return Boolean(r&&r.id===t&&o.uiContains(r)&&e.props.shouldShowHalo)}))}function V(e,t,o,r){const n=e.getLastEditedByPointer();if(!n||n.table!==l().oo)return;const i=e.getType();if("collection_view"===i||"collection_view_page"===i||"divider"===i||"table"===i||"table_row"===i||"tab"===i)return;if(e.isEmptyEditableBlock())return;const a=K(t,e.id,e);if(!a)return;const s=a.getNode();if(!(s&&s instanceof Element))return;const c=s.getBoundingClientRect();if(!c)return;const d=(0,g().ac)({marginItemType:"attribution_avatars",store:e,containerRect:o,nodeRect:c,environment:r}),u=(0,g().qg)({marginItemType:"attribution_avatars",store:e,containerRect:o,nodeRect:c,environment:r,selectable:a});return{type:"attribution",actor:n,left:u,top:d,uniqueId:u>0?`${String(e.key)}+left`:String(e.key),blockStore:e}}function N(e){const{device:t}=(0,n().v3)(),{isMobile:o}=t,{avatar:r}=e,d=(0,c().tz)(),p=o?L:F,g=(0,a().IS)((e=>{const t={width:p,height:p,borderRadius:p};return{uiUserAvatarStyles:{...t},avatarInnerOutline:{...t,outlineStyle:"solid",outlineColor:e.UIUserAvatarInnerOutline,outlineWidth:.5,outlineOffset:-.5},avatarBorder:"presence"===r.type?{...t,outlineStyle:"solid",outlineColor:(0,h().$L)({userId:r.userId,theme:e}),outlineWidth:1.5,outlineOffset:-.5}:{},avatarWrapper:{...t,position:"absolute",top:0,left:o?2:0,outlineStyle:"solid",outlineWidth:.5,outlineOffset:1,outlineColor:e.UIUserAvatarOuterOutline},initialColor:"presence"===r.type?{color:(0,h().$L)({userId:r.userId,theme:e})}:{}}}),[o,p,r]),v=(0,i().K8)((()=>{const{rootStore:t}=e.presenceStore.state;if(t){if("presence"===r.type){if((0,l().MF)(r.userId))return{type:"presence",userStore:s().px};const e=I().LU.createChildStore(t,{table:l().oo,id:r.userId});return e.isDefined()?{type:"presence",userStore:e}:null}if("attribution"===r.type){const e=(0,f().JQ)({parentStore:t,pointer:r.actor});return e.isDefined()?{type:"attribution",userId:e.id,name:e.getDisplayName(d),blockStore:r.blockStore}:null}(0,u().HB)(r)}return null}),[r,d,e.presenceStore]);return v?(0,m().A)((e=>"presence"===v.type?(0,T.jsx)("div",{style:g.avatarWrapper,...e,children:(0,T.jsx)("div",{style:g.avatarBorder,children:(0,T.jsx)(B().A,{iconStyle:g.avatarInnerOutline,hasTooltip:!0,userStore:v.userStore,style:g.uiUserAvatarStyles,size:p,avatarShouldShowShadow:!0,initialOverrideStyle:g.initialColor})})}):"attribution"===v.type?(0,T.jsx)("div",{style:g.avatarWrapper,...e,children:(0,T.jsx)(O,{userId:v.userId,name:v.name,style:g.uiUserAvatarStyles,size:F,tooltipStore:v.blockStore})}):void(0,u().HB)(v))):null}function z(e,t,o){const r=new Map(t.map(((e,t)=>[e,t])));let n,i;for(const a of e){const e=a.props.store,t=r.get(e.id);if(void 0!==t&&((void 0===i||t<i)&&o.uiContains(e)&&a.props.shouldShowHalo&&(n=a,i=t),0===i))return n}return n}},173410:(e,t,o)=>{o.d(t,{S:()=>n});var r=()=>o(622286);function n(){return(0,r().X)("opfs_recordmap_cache")}},224281:(e,t,o)=>{o.d(t,{Jv:()=>S,Zr:()=>b,Rl:()=>y,mA:()=>v});var r=o(242343),n=()=>o(237385),i=()=>o(803290),a=()=>o(174114),s=()=>o(564134),l=()=>o(916963),c=()=>o(88442),d=()=>o(136239),u=()=>o(622286),p=()=>o(966789),f=o(163643);function g(){const e=(0,a().DP)();return(0,f.jsx)("span",{style:{marginLeft:6,fontSize:11,padding:"1px 4px",borderRadius:4,display:"inline-flex",flexDirection:"row",alignItems:"center",gap:4,marginTop:1,color:"light"===e.mode?e.accentColors.blue[500]:e.accentColors.blue[600]},children:(0,f.jsx)(p().A,{legacySize:14})})}var h=()=>o(870896);const m=function(){return(0,f.jsx)(o(695951).A,{color:"purple",style:{marginLeft:6,padding:"1px 4px",display:"inline-flex",flexDirection:"row",alignItems:"center",gap:4,marginTop:1},content:(0,f.jsx)(o(653998).sA,{defaultMessage:"AI",id:"database.property.aiAutofillEnabledIndicator"})})};const v=r.memo((function(e){const{propertySchema:t,showIcon:r,showDragIcon:i,hideName:s,badge:l,style:c,iconStyle:u,iconSize:p,dragHandleStyle:g,className:h,labelSizeVariant:m}=e,v=(0,n().v3)(),{device:S}=v,b=S.isMobile?16:14,x=(0,a().IS)((e=>({container:{display:"flex",alignItems:"center",lineHeight:"120%",minWidth:0,fontSize:b,...c},iconWrapper:{display:"grid",justifyContent:"center",alignItems:"center",marginRight:s?void 0:"small"===m||i?4:6,...u},dragHandle:{gridColumn:1,gridRow:1,opacity:i?1:0,transition:`opacity ${d().bM}`},itemIcon:{gridColumn:1,gridRow:1,opacity:i?0:1,transition:`opacity ${d().bM}`},dragIcon:{fill:e.icon.secondary}})),[b,s,u,m,i,c]);return(0,f.jsxs)("div",{className:h,style:x.container,children:[r&&(0,f.jsxs)("div",{style:x.iconWrapper,children:[(0,f.jsx)("div",{style:x.itemIcon,children:(0,f.jsx)(y,{propertySchema:t,iconSize:p,iconStyle:u})}),(0,f.jsx)("div",{style:x.dragHandle,children:(0,f.jsx)(o(369515).A,{style:g,iconSize:12,iconStyle:x.dragIcon})})]}),!s&&(0,f.jsx)("div",{style:{...o(31448).RC},children:t.name}),l]})}));function S(e){const{propertySchema:t}=e,o=(0,n().v3)();return(0,i().K8)((()=>(0,c().O0)(o)&&s().$M(t)&&s().om(t)),[o,t])?(0,f.jsx)(m,{}):null}function b(e){let{propertyId:t,collectionContextStore:o}=e;return(0,i().K8)((()=>{var e;const r=null===(e=o.collectionStore())||void 0===e?void 0:e.id;if(!r)return!1;const n=h().d.state.collectionsProperties[r];return!!n&&"Loading"===n[t]}),[o,t])?(0,f.jsx)(g,{}):null}function y(e){const{propertySchema:t,iconSize:o,iconStyle:r}=e,{isMobile:i}=(0,n().Y0)(),s=(0,a().DP)(),c=(0,u().X)("nds_default_property_noticon"),d=i?18:16;return(0,f.jsx)(l().zB,{type:t.type,icon:t.icon,size:o||d,theme:s,style:r,isDefaultNoticonEnabled:c})}},229419:(e,t,o)=>{o.d(t,{C8:()=>p,Dz:()=>l,GC:()=>g,GL:()=>h,YY:()=>f,dM:()=>d,h9:()=>c,jX:()=>s,oF:()=>u,uj:()=>a});var r=()=>o(129978);const n={JiraSyncInfoPopup:new(r().O2)("JiraSyncInfoPopup",(async()=>await Promise.all([o.e(75134),o.e(68744)]).then(o.bind(o,917262)))),ImproveJiraSyncPopup:new(r().O2)("ImproveJiraSyncPopup",(async()=>await Promise.all([o.e(75134),o.e(2686)]).then(o.bind(o,800444)))),JiraDCAuthModal:new(r().O2)("JiraDCAuthModal",(async()=>await o.e(28763).then(o.bind(o,114124)))),ExternalImportAndSyncIndicator:new(r().O2)("ExternalImportAndSyncIndicator",(async()=>await o.e(98288).then(o.bind(o,988714)))),JiraSyncedAllProjectsTooltip:new(r().O2)("JiraSyncedAllProjectsTooltip",(async()=>await o.e(21446).then(o.bind(o,374415)))),JiraSyncedAllIssuesTooltip:new(r().O2)("JiraSyncedAllIssuesTooltip",(async()=>await o.e(21446).then(o.bind(o,374415)))),JiraSyncedDatabaseViewsAndFiltersTooltip:new(r().O2)("JiraSyncedDatabaseViewsAndFiltersTooltip",(async()=>await o.e(21446).then(o.bind(o,374415)))),JiraSyncSourceTooltip:new(r().O2)("JiraSyncSourceTooltip",(async()=>await o.e(21446).then(o.bind(o,374415)))),JiraSyncedSettingsToSetupProjectsAndIssuesTooltip:new(r().O2)("JiraSyncedSettingsToSetupProjectsAndIssuesTooltip",(async()=>await o.e(21446).then(o.bind(o,374415))))},i={JiraSyncTeamSpaceModal:new(r().O2)("JiraSyncTeamSpaceModal",(async()=>Promise.all([o.e(96159),o.e(56188)]).then(o.bind(o,35705))))},a=(0,r()._h)(i.JiraSyncTeamSpaceModal,(e=>e.default)),s=(0,r()._h)(n.JiraSyncedAllProjectsTooltip,(e=>e.JiraSyncedAllProjectsTooltip)),l=(0,r()._h)(n.JiraDCAuthModal,(e=>e.default)),c=(0,r()._h)(n.JiraSyncedAllIssuesTooltip,(e=>e.JiraSyncedAllIssuesTooltip)),d=(0,r()._h)(n.JiraSyncedDatabaseViewsAndFiltersTooltip,(e=>e.JiraSyncedDatabaseViewsAndFiltersTooltip)),u=(0,r()._h)(n.JiraSyncedSettingsToSetupProjectsAndIssuesTooltip,(e=>e.JiraSyncedSettingsToSetupProjectsAndIssuesTooltip)),p=(0,r()._h)(n.JiraSyncSourceTooltip,(e=>e.JiraSyncSourceTooltip)),f=(0,r()._h)(n.JiraSyncInfoPopup,(e=>e.JiraSyncInfoPopup)),g=(0,r()._h)(n.ImproveJiraSyncPopup,(e=>e.ImproveJiraSyncPopup)),h=(0,r()._h)(n.ExternalImportAndSyncIndicator,(e=>e.ExternalImportAndSyncIndicator));(0,o(680369).xh)("jira",{default:{loader:()=>o.e(60677).then(o.bind(o,832398)),size:20},small:{loader:()=>o.e(60677).then(o.bind(o,832398)),size:16},mini:{loader:()=>o.e(60677).then(o.bind(o,832398)),size:14},large:{loader:()=>o.e(60677).then(o.bind(o,832398)),size:24}})},255082:(e,t,o)=>{o.d(t,{V:()=>a});o(242343);var r=()=>o(803290),n=()=>o(858691),i=o(163643);function a(e){const{render:t,...o}=e,a=(0,n().A)(o);return(0,i.jsx)(i.Fragment,{children:(0,r().K8)((()=>t(a)),[t,a])})}},302498:(e,t,o)=>{o.d(t,{i:()=>i});var r=()=>o(129978);const n={ScrollableBlockLimitBanner:new(r().O2)("ScrollableBlockLimitBanner",(async()=>Promise.all([o.e(87584),o.e(27942)]).then(o.bind(o,754907))))},i=(0,r()._h)(n.ScrollableBlockLimitBanner,(e=>e.default))},305168:(e,t,o)=>{o.d(t,{A:()=>i});var r=()=>o(437071);class n extends(()=>o(129044))().default{getInitialState(){return{isFullScreen:window.outerWidth===window.screen.width&&window.outerHeight===window.screen.height}}constructor(){super(),this.updateFromElectronState=async()=>{const e=await r().fullscreen.get();void 0!==e&&this.setState({isFullScreen:e})},r().fullscreen.addListener(this.updateFromElectronState),this.updateFromElectronState()}}const i=new n},309968:(e,t,o)=>{o.d(t,{A:()=>n});class r extends(()=>o(129044))().default{}const n=new r},323059:(e,t,o)=>{o.d(t,{w:()=>i});var r=()=>o(129978);const n={UncollectibleExperienceOverlay:new(r().O2)("UncollectibleExperienceOverlay",(async()=>o.e(36432).then(o.bind(o,238682))))},i=(0,r()._h)(n.UncollectibleExperienceOverlay,(e=>e.UncollectibleExperienceOverlay))},373023:(e,t,o)=>{o.d(t,{$y:()=>b,jc:()=>S,x9:()=>v});o(242343);var r=()=>o(237385),n=()=>o(803290),i=()=>o(945335),a=()=>o(808263),s=()=>o(653998),l=()=>o(336519),c=()=>o(206799),d=()=>o(137476),u=()=>o(548694),p=()=>o(309968),f=()=>o(837141),g=()=>o(613313),h=()=>o(525263),m=o(163643);function v(){const e=(0,n().K8)((()=>{const{editsBlocked:e}=f().A.state;return e??!1}),[]),t=(0,r().v3)();return(0,n().K8)((()=>(0,g().Jq)(t)),[t])&&e}function S(){return(0,n().K8)((()=>{var e;const t=p().A.state;return null==t||null===(e=t.data)||void 0===e?void 0:e.invoiceHostedUrl}),[])}function b(){const e=(0,r().v3)(),t=S(),o=(0,n().K8)((()=>{var e;const t=p().A.state;return(null==t||null===(e=t.data)||void 0===e?void 0:e.overdueInvoiceCount)??0}),[]),d=(0,n().K8)((()=>(0,u().s7)(e)),[e]),f=function(e,t){if(e)return t>1?(0,m.jsx)(s().sA,{defaultMessage:"Access to Notion is limited because we couldn’t process {overdueInvoiceCount, plural, one {your last payment} other {{overdueInvoiceCount} payments}}.",id:"uncollectibleExperience.uncollectibleExperienceOverlay.multipleInvoicesMessageContent",values:{overdueInvoiceCount:t}}):(0,m.jsx)(s().sA,{defaultMessage:"Access to Notion is limited because we couldn’t process your last payment",id:"uncollectibleExperience.uncollectibleExperienceOverlay.messageContent"});return(0,m.jsx)(s().sA,{id:"uncollectibleExperience.uncollectibleExperienceOverlay.memberMessageContent",defaultMessage:"Access to Notion is limited"})}(d,o),g=function(e){if(e)return;return(0,m.jsx)(s().sA,{id:"uncollectibleExperience.uncollectibleExperienceOverlay.memberSecondaryLabel",defaultMessage:"Contact a workspace owner to update your workspace’s payment method"})}(d),v=function(e,t,o){if(t){const r=(0,h().a)(o);return o=>{r&&(y(t,e),r(o))}}return o=>{y(t,e),l().Ow()}}(e,d,t),b=function(e){if(e)return(0,m.jsx)(s().sA,{defaultMessage:"View unpaid invoice",id:"uncollectibleExperience.uncollectibleExperienceOverlay.buttonLabel"});return(0,m.jsx)(s().sA,{id:"uncollectibleExperience.uncollectibleExperienceOverlay.memberButtonLabel",defaultMessage:"View workspace owner"})}(d),x=function(e){if(e)return(0,m.jsx)(c().Q,{iconGroup:i().i,variantName:"default",colorName:"primary"});return(0,m.jsx)(c().Q,{iconGroup:a()._,variantName:"default",colorName:"primary"})}(d);return{clickAction:v,ctaMessage:b,primaryMessage:f,secondaryMessage:g,ctaIcon:x,tooltipBodyMessage:d?b:g,isWorkspaceOwner:d,overdueInvoiceCount:o}}function y(e,t){(0,d().u4)({environment:t,event:{eventName:"subscription_uncollectible_blurred_experience_cta_clicked",eventProperties:{is_workspace_owner:e}}})}},422693:(e,t,o)=>{o.d(t,{j:()=>n});var r=()=>o(137476);function n(e,t){r().vd(e,"offline_access_failure",t)}},569434:(e,t,o)=>{o.d(t,{I:()=>x,i:()=>C});var r=o(242343),n=()=>o(237385),i=()=>o(803290),a=()=>o(174114),s=()=>o(862279),l=()=>o(680369),c=()=>o(653998),d=()=>o(782422),u=()=>o(983050),p=()=>o(667801),f=()=>o(440588),g=()=>o(907721),h=()=>o(216273),m=()=>o(615917),v=()=>o(356813),S=()=>o(151835),b=()=>o(103151),y=o(163643);function x(e){const t=(0,n().v3)(),o=(0,n().Y0)(),r=(0,c().tz)(),a=(0,i().O$)(f().sidebarMouseEnteredStore),l=(0,i().O$)(h().b),u=(0,i().O$)(d().$o),g=r.formatMessage({defaultMessage:"Close sidebar",id:"sidebarUnexpandButton.closeSidebar.tooltip"}),m=(!o.isElectronMac||!u)&&!l&&a;return(0,y.jsx)(C,{isVisible:m,icon:s().S,caption:g,onClick:()=>{p().closeSidebarFromTopbarUnexpandButton(t)},keyboardShortcutName:"toggleSidebar",style:e.style,hoveredStyle:e.hoveredStyle})}const w={width:l().Ev.lg,height:l().Ev.lg,fill:"inherit"};function C(e){const t=(0,n().Y0)(),o=(0,a().IS)((e=>({keyboardShortcut:{color:e.text.contrastSecondary},button:{fill:e.mediumIconColor}})),[]),i=(0,r.useMemo)((()=>({position:"relative",marginLeft:10,...t.isMobile&&{height:"100%"},...o.button,...e.style})),[e.style,o.button,t.isMobile]);return(0,y.jsx)(b().A,{renderTooltip:()=>(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{children:e.caption}),e.keyboardShortcutName&&(0,y.jsx)(S().A,{style:o.keyboardShortcut,name:e.keyboardShortcutName})]}),originGap:6,placement:t.isElectron?g().W.Right:g().W.Bottom,render:o=>(0,y.jsx)(m().A,{tag:v().A,animate:{opacity:e.isVisible?1:0},ariaLabel:e.caption,disabled:!e.isVisible,icon:e.icon,style:i,hoveredStyle:e.hoveredStyle,iconStyle:w,mobileFeedback:t.isMobile,onClick:e.onClick,className:u().P7S,...o})})}},620408:(e,t,o)=>{o.d(t,{P:()=>n});o(242343);const r={viewBox:"0 0 20 20",svg:(0,o(163643).jsx)("path",{d:"M9.08 3.341a1.625 1.625 0 0 1 1.84 0l5.875 4.035c.441.304.705.805.705 1.34v6.034a2.125 2.125 0 0 1-2.125 2.125h-2.716a1.625 1.625 0 0 1-1.625-1.625v-4.065H8.967v4.065c0 .898-.728 1.625-1.625 1.625H4.625A2.125 2.125 0 0 1 2.5 14.75V8.716c0-.535.264-1.036.705-1.34zm1.132 1.03a.375.375 0 0 0-.424 0L3.913 8.407a.38.38 0 0 0-.163.309v6.034c0 .483.392.875.875.875h2.716a.375.375 0 0 0 .375-.375v-4.19c0-.621.503-1.125 1.125-1.125h2.319c.62 0 1.124.504 1.124 1.125v4.19c0 .207.168.375.375.375h2.716a.875.875 0 0 0 .875-.875V8.716c0-.124-.06-.24-.163-.31z"})},n=(0,o(680369).wt)("home",r)},668657:(e,t,o)=>{o.d(t,{q:()=>n});o(242343);var r=o(163643);const n=(0,o(680369).wt)("search",{viewBox:"0 0 16 16",svg:(0,r.jsx)("path",{d:"M.281 6.438c0-.875.164-1.696.492-2.461a6.484 6.484 0 011.375-2.032A6.237 6.237 0 016.64.078 6.2 6.2 0 019.11.57c.77.328 1.447.787 2.03 1.375a6.374 6.374 0 011.368 2.032c.333.765.5 1.586.5 2.46 0 .688-.107 1.342-.32 1.961a6.28 6.28 0 01-.868 1.696l3.563 3.578c.11.104.19.226.242.367.057.14.086.29.086.445 0 .22-.05.417-.149.594a1.122 1.122 0 01-1 .57c-.156 0-.307-.028-.453-.086a1.058 1.058 0 01-.382-.25l-3.586-3.585c-.5.333-1.047.596-1.641.789a6.089 6.089 0 01-1.86.28 6.237 6.237 0 01-2.468-.491 6.4 6.4 0 01-2.024-1.367A6.509 6.509 0 01.773 8.913a6.256 6.256 0 01-.492-2.476zm1.664 0c0 .65.12 1.26.36 1.828a4.775 4.775 0 001.015 1.5c.433.427.933.763 1.5 1.007a4.548 4.548 0 001.82.368c.652 0 1.261-.123 1.829-.368a4.747 4.747 0 002.508-2.507 4.567 4.567 0 00.367-1.829c0-.645-.123-1.252-.367-1.82a4.776 4.776 0 00-1.016-1.5A4.578 4.578 0 008.469 2.11a4.567 4.567 0 00-1.828-.367c-.646 0-1.253.123-1.82.367a4.667 4.667 0 00-1.5 1.008c-.433.432-.772.932-1.016 1.5a4.633 4.633 0 00-.36 1.82z"})})},711907:(e,t,o)=>{o.d(t,{t:()=>r});const r=35},734225:(e,t,o)=>{o.d(t,{A:()=>n});class r extends(()=>o(129044))().default{getInitialState(){return{modalOpen:!1,tokenQuery:"",inviteTargets:[],inviteRole:"member",isInviteTargetsEmpty:!0,table:o(218357).yK,isFocused:!0,flowId:void 0,inputFocus:"invitee",emailMessage:""}}}const n=r},748531:(e,t,o)=>{o.d(t,{a:()=>n,h:()=>r});const r=.5,n=.3},749975:(e,t,o)=>{o.d(t,{ET:()=>l,Ks:()=>c,RI:()=>s,p2:()=>a});o(610931);var r=o(242343);const n="collectionContextStore",i=(0,o(372660).C)({displayName:n,legacyContextKey:n,modernContextDefaultValue:void 0}),a=i.context,s=i.Provider;function l(){const e=r.useContext(a);if(void 0===e)throw new Error(`No context provided: ${n}`);return e}function c(){return r.useContext(a)}},758261:(e,t,o)=>{o.d(t,{j:()=>n});class r extends(()=>o(151255))().A{}const n=new r},772785:(e,t,o)=>{o.d(t,{O:()=>u,e:()=>d});o(725707),o(500234);var r=()=>o(752597),n=()=>o(881984),i=()=>o(384221),a=()=>o(663539),s=()=>o(360482),l=()=>o(758261),c=()=>o(191759);function d(e,t){const o=s().dd(t),r=a().xh(o);e.setState({...e.state,files:r})}async function u(e){const{blockStore:t,pageViewBlockStore:o,environment:a}=e;o?o.setState({...o.state,forceDiscussionOpen:!0}):c().A.openNewPageDiscussionInput(t),n().o2(a,{from:"page_comments"}),await r().default.afterNextFlush();const s=l().j.find((e=>e.getBlockStore().id===t.id)),d=null==s?void 0:s.getInputStore();d&&i().setSelectionAtEnd({store:d.state.textStore})}},793359:(e,t,o)=>{o.d(t,{w:()=>l});o(242343);var r=()=>o(950635),n=()=>o(76394),i=()=>o(951156),a=()=>o(482570),s=o(163643);function l(e){const{actor:t}=e,o={size:e.size??14,style:{marginRight:2,...e.style}};return(0,r().H3)(t)?(0,s.jsx)(i().A,{botValue:t.asActor,...o}):(0,r().ps)(t)?(0,s.jsx)(a().A,{userValue:t.asActor,...o}):(0,r().h2)(t)?(0,s.jsx)(a().A,{userValue:void 0,...o}):void(0,n().HB)(t)}},808263:(e,t,o)=>{o.d(t,{_:()=>r});const r=(0,o(680369).xh)("personCircle",{default:{loader:()=>o.e(89491).then(o.bind(o,895800))},small:{loader:()=>o.e(95357).then(o.bind(o,287110))},mini:{loader:()=>o.e(70891).then(o.bind(o,626640))},large:{loader:()=>o.e(49761).then(o.bind(o,642922))}})},827744:(e,t,o)=>{o.d(t,{r:()=>n});o(242343);var r=o(163643);const n=(0,o(680369).wt)("pencil",{viewBox:"0 0 16 16",svg:(0,r.jsx)("path",{d:"M3.926 13.307H14.11c.183 0 .34-.066.472-.199a.644.644 0 00.198-.471.652.652 0 00-.198-.479.644.644 0 00-.472-.198H5.272l-1.346 1.347zm-.704-.636l7.683-7.684-1.312-1.319-7.69 7.684-.67 1.606c-.037.1-.017.191.06.273.083.082.174.105.274.069l1.655-.63zm8.34-8.326l.738-.732c.182-.187.278-.376.287-.567.009-.192-.068-.374-.232-.547l-.267-.267c-.169-.168-.351-.246-.547-.232-.196.014-.385.11-.567.287l-.739.732 1.327 1.326z"})})},858691:(e,t,o)=>{o.d(t,{A:()=>Y});o(610931),o(362833),o(725707),o(491955),o(500234),o(324989),o(474872);var r=o.n(o(938762)),n=o(242343),i=()=>o(470637),a=()=>o(752597),s=()=>o(237385),l=()=>o(803290),c=()=>o(951592),d=()=>o(519423),u=()=>o(719003),p=()=>o(220574),f=()=>o(66460),g=()=>o(812815),h=()=>o(704082),m=()=>o(975392),v=()=>o(23371),S=()=>o(3311),b=()=>o(76394),y=()=>o(402351),x=()=>o(601661),w=()=>o(29629),C=()=>o(280810),I=()=>o(735570),k=()=>o(349947),A=()=>o(702895),P=()=>o(271674),R=()=>o(42665),M=()=>o(370639),j=()=>o(708732),T=()=>o(96297),_=()=>o(818369);var O=()=>o(938345),B=()=>o(173410),E=()=>o(345542),L=()=>o(143230),F=()=>o(408769),D=()=>o(37394),K=()=>o(695412),V=()=>o(485966),N=()=>o(802955),z=()=>o(836331),q=()=>o(499198),W=()=>o(172470),$=()=>o(551455),H=()=>o(908531);function U(e){performance.mark(`OPFS:useLoadPage:${e}`)}function J(e,t,o){return performance.measure(`OPFS:useLoadPage:${e}`,`OPFS:useLoadPage:${t}`,`OPFS:useLoadPage:${o}`)}let X=!1;function Y(e){return function(e){!function(e){const{pageStore:t,store:o}=e,{initialRequestCompleted:r,error:i}=(0,l().K8)((()=>({initialRequestCompleted:o.state.initialRequestCompleted,error:o.state.error})),[o]);(0,n.useEffect)((()=>{if(r&&!i)return F().A.trackPage(t),()=>{F().A.untrackPage(t)}}),[r,i,t])}(e);const{isCollectionInPage:t,updateIsCollectionInPage:o}=function(){const e=(0,s().v3)(),[t,o]=(0,n.useState)(!1),r=(0,n.useCallback)((o=>{var r;const{page:n,recordMap:i,inMemoryRecordCache:a}=o;if(t)return!0;const s=null===(r=a.getRecord({pointer:{table:"block",id:n.id,spaceId:n.spaceId},userId:e.currentUser.id}))||void 0===r?void 0:r.value;if(s)for(const e of i.getByTable("block")){var l,c,d;if(("collection_view"===(null===(l=e.value)||void 0===l||null===(l=l.value)||void 0===l?void 0:l.type)||"collection_view_page"===(null===(c=e.value)||void 0===c||null===(c=c.value)||void 0===c?void 0:c.type))&&s.parent_id!==(null===(d=e.value)||void 0===d||null===(d=d.value)||void 0===d?void 0:d.collection_id))return!0}return!1}),[e,t]);return{isCollectionInPage:t,updateIsCollectionInPage:(0,n.useCallback)((e=>{o(r(e))}),[r])}}(),r=(0,n.useRef)(null);(function(e){const{store:t,pageStore:o}=e,r=(0,s().v3)(),{loading:c,endOfResultsReached:f,initialRequestCompleted:g,error:m}=(0,l().K8)((()=>({loading:t.state.loading,endOfResultsReached:t.state.endOfResultsReached,initialRequestCompleted:t.state.initialRequestCompleted,error:t.state.error})),[t]),S=Q(e),w=function(e){const{pageStore:t}=e,o=(0,s().v3)(),r=(0,s().Y0)(),i=(0,B().S)(),a=Z(e),l=G(e),c=function(e){const{pageStore:t}=e,o=(0,s().v3)();return(0,n.useCallback)((async e=>{const{request:r,userId:n,abortSignal:i}=e;U("load-opfs-recordmap.start");const a=await async function(e){const{userId:t,pageId:o,abortSignal:r}=e;if(!(0,L().getOPFSPageCache)())return;if(!W().A.state.initialRenderCompleted&&E().OPFSBootupRegistry.pageRecordMapBufferPromise)try{U("readBuffer.start");const e=await E().OPFSBootupRegistry.pageRecordMapBufferPromise;U("readBuffer.end");const t=J("readBuffer","readBuffer.start","readBuffer.end");return E().OPFSBootupRegistry.updateInitialMetricData({await_read_blocking_page_chunk_end_duration:t.duration}),e}catch(m){return}else{const e=(0,L().getOPFSPageCache)();if(!e)return;try{const n=(0,u().createOPFSPageCacheKey)(t,o);return await e.readBuffer(n,r)}catch(m){return void(m instanceof DOMException&&m.name)}}}({userId:n,pageId:r.page.id,abortSignal:i});U("load-opfs-recordmap.end");J("load-opfs-recordmap","load-opfs-recordmap.start","load-opfs-recordmap.end");if(null!=i&&i.aborted)throw new Error("Abort signal received");if(!a)throw new Error("No OPFS RecordMap found");if(!a.buffer||0===a.buffer.byteLength)throw new Error("No Valid OPFS RecordMap found");const s=a.iterator.next();if(!s.value)throw new Error("Failed to extract first chunk from buffer");const l=s.value.recordMap,c=p().RecordMapWithRole.create(l);return k()._O({environment:o,inMemoryRecordCache:t.inMemoryRecordCache,recordMap:c,debugSource:"PageLoadingContainer.OPFSRecordMap"}),{buffer:a.buffer,chunksIterator:a.iterator,source:"local",localSource:"opfs",recordMap:c,index:s.value.index,isLast:s.value.isLast}}),[o,t])}(e),f=Q(e);return(0,n.useCallback)((async()=>{const e={page:{id:t.id,spaceId:t.getSpaceId()},cursor:{stack:[]},verticalColumns:r.isMobile};try{return{firstPageChunkResult:await a({request:e,mode:"inMemoryOnly",isFirstChunk:!0})}}catch(m){}const n=function(e){const{environment:t,pageId:o}=e,r=window.__serverSidePrefetchData;if(r&&(delete window.__serverSidePrefetchData,r.pageId===o)){(0,y().s)({environment:t,eventName:"loadCachedPageChunkV2",response:r,userId:t.currentUser.id});const e=p().RecordMapWithRole.create(r.recordMap);return{source:"server",cursors:r.cursors,recordMap:e}}}({environment:o,pageId:t.id});if(n)return{firstPageChunkResult:n};const s=ne(e),u=s?o.prefetchCache.getPrefetchStatus(s):void 0,g=Boolean(o.defaultRecordCache.persistedRecordCache)&&"success"!==u,h=new AbortController,v=new AbortController,S=new AbortController,x=[];i&&o.currentUser.id&&x.push(c({request:e,userId:o.currentUser.id,abortSignal:S.signal})),g&&x.push(a({request:e,mode:r.isAndroid?"inMemoryAndDiskCache":"inMemoryAndDiskCacheWithInexactPreload",isFirstChunk:!0,abortSignal:h.signal})),x.push(l({request:e,headers:(0,d().WS)({recordId:t.id,spaceId:t.getSpaceId()}),abortSignal:v.signal})),f.concurrentlyWithAsyncRequests();const w=await Promise.any(x);if("local"===w.source){const e=`${w.source}-${w.localSource} won`;"disk"===w.localSource?(v.abort(e),S.abort(e)):"opfs"===w.localSource&&(h.abort(e),v.abort(e))}else if("remote"===w.source||"remoteV2"===w.source||"server"===w.source){const e=`${w.source} won`;h.abort(e),S.abort(e)}else(0,b().HB)(w);return{firstPageChunkResult:w}}),[f,r.isMobile,r.isAndroid,a,l,c,t,o,i])}(e),C=function(e){const{pageStore:t}=e,o=(0,s().v3)(),r=(0,s().Y0)(),i=Z(e),a=G(e),l=Q(e);return(0,n.useCallback)((async e=>{const{firstPageChunkResult:n}=e;if(re(n)){const e=n.chunksIterator;let r=e.next();for(;r.value;){const i=r.value.recordMap,a=p().RecordMapWithRole.create(i);await k()._O({environment:o,inMemoryRecordCache:t.inMemoryRecordCache,recordMap:a,debugSource:"PageLoadingContainer.OPFSRecordMap"}),l.afterEachChunk({source:"local",localSource:"opfs",buffer:n.buffer,chunksIterator:e,recordMap:a,isLast:r.value.isLast,index:r.value.index}),r=e.next()}}else{const e=e=>{let t;if(t=oe(e)?e.cursors:re(e)?void 0:[e.cursor],t)return t.filter((e=>e.stack.length>0))};let o=e(n);for(;o&&o.length>0;){o=(await v().lX(o,10,(async e=>{const o={page:{id:t.id,spaceId:t.getSpaceId()},cursor:e,verticalColumns:r.isMobile};let s;try{s="local"===n.source?await i({request:o,mode:"inMemoryAndDiskCache",isFirstChunk:!1}):await a({request:o,headers:(0,d().WS)({cellId:"cellId"in e?e.cellId:void 0})})}catch(m){s=oe(n)?{source:"remoteV2",cursors:[],recordMap:p().RecordMapWithRole.create({})}:"remote"===n.source?{source:n.source,cursor:{stack:[]},recordMap:p().RecordMapWithRole.create({})}:{source:n.source,localSource:n.localSource,cursor:{stack:[]},recordMap:p().RecordMapWithRole.create({})}}return l.afterEachChunk(s),s}))).flatMap((t=>e(t)??[]))}}}),[o,l,r.isMobile,i,a,t])}(e);if(c||f||g&&m)return;async function I(){let e;t.setState({...t.state,loading:!0}),$().A.markRequestFirstChunkStart(),W().A.state.initialRenderCompleted||x().setSubMetric({name:"render_end_to_await_page_chunk_start",startTime:e=>{var t;return null===(t=e.render_start_to_render_end)||void 0===t?void 0:t.endTime},endTime:performance.now()});try{e=(await w()).firstPageChunkResult}catch(m){return void R(m)}if(!W().A.state.initialRenderCompleted){x().setSubMetric({name:"await_page_chunk_start_to_await_page_chunk_end",startTime:e=>{var t;return null===(t=e.render_end_to_await_page_chunk_start)||void 0===t?void 0:t.endTime},endTime:performance.now()}),"local"===e.source&&"opfs"===e.localSource&&E().OPFSBootupRegistry.IPRMetricData&&x().updateOPFSMetricData(E().OPFSBootupRegistry.IPRMetricData);const t=r.prefetchCache;x().updateMetricData({page_chunk_source:e.source,local_source:"local"===e.source?e.localSource:void 0,page_chunk_prefetch:"server"===e.source?{type:"hit-server"}:t.getPrefetchAnalytic(`loadCachedPageChunk(${o.id})`)})}$().A.markRequestFirstChunkEnd({chunkSource:e.source,chunkLocalSource:"local"===e.source?e.localSource:void 0}),A(),z().default.checkGate({gateName:"load_page_flush"})?await a().default.flush():await a().default.afterNextFlush(),S.afterEachChunk(e);const n=C({firstPageChunkResult:e});try{await n}catch(m){return void R(m)}P(),S.afterAllChunks()}function A(){t.setState({...t.state,initialRequestCompleted:!0})}function P(){t.setState({initialRequestCompleted:!0,ready:!0,loading:!1,endOfResultsReached:!0,error:void 0})}function R(e){t.setState({ready:!0,initialRequestCompleted:!0,loading:!1,endOfResultsReached:!1,error:(0,h().A)(e)})}i().A.withListenerIgnored((()=>{I()}))})({...e,updateIsCollectionInPage:o,scrollerRef:r}),function(e){const{store:t,scrollToBlockIds:o,onReady:r,onDone:i,pageStore:s}=e;(0,n.useEffect)((()=>{let e;const n=m().Oo((()=>{o&&r&&(e=async function(e,t){e&&await A().NH(t,e)}(o,s))})),l=m().Oo((()=>{r&&a().default.afterNextFlush((()=>{a().default.afterNextFlush((async()=>{if(e){const t=performance.now();await(0,v().Vq)(e,5e3),W().A.state.initialRenderCompleted||x().updateMetricData({scroll_to_blocks_wait_time:performance.now()-t})}r()}))}))})),c=m().Oo((()=>{null==i||i()})),d=()=>{t.state.loading&&n(),t.state.ready&&l(),(t.state.endOfResultsReached||t.state.error)&&c()};return t.addListener(d),()=>{t.removeListener(d)}}),[i,r,s,o,t])}(e),function(e){const{store:t}=e,o=(0,l().K8)((()=>t.state.error),[t]),r=(0,l().O$)(N().e),i=(0,c().ZC)(r),a=void 0!==i&&(r&&!i);(0,n.useEffect)((()=>{a&&o&&t.reset()}),[a,t,o])}(e),function(){const e=(0,s().v3)(),t=(0,l().K8)((()=>{var e;return null===(e=V().default.state.mainEditorCurrentBlockStore)||void 0===e?void 0:e.id}),[]),o=(0,l().K8)((()=>V().default.state.currentUserRootStore),[]),r=(0,l().O$)(N().e),i=(0,c().ZC)(r),a=void 0!==i&&(r&&!i);(0,n.useEffect)((()=>{async function r(){const{route:r}=e.RouterStore.state,n=await I().Ty({environment:e,request:{...r,type:"block-space",blockId:t,spaceId:"spaceId"in r?r.spaceId:void 0,slug:"slug"in r?r.slug:void 0,spaceDomain:"spaceDomain"in r?r.spaceDomain:void 0,requestedOnPublicDomain:"requestedOnPublicDomain"in r?r.requestedOnPublicDomain:void 0,isBot:!1}});if("failed"===n.type)return;const i=n.data;if(K().A.setState({publicPageData:i}),i.spaceId&&o){const e=o.getSpaceViewStores().find((e=>e.getSpaceId()===i.spaceId));e&&V().default.setState({...V().default.state,currentSpaceStore:e.getSpaceStore(),currentSpaceViewStore:e})}}a&&t&&r()}),[a,e,t,o])}();const{store:f}=e;return{...(0,l().K8)((()=>({ready:f.state.ready,error:f.state.error,initialRequestCompleted:f.state.initialRequestCompleted,endOfResultsReached:f.state.endOfResultsReached})),[f]),isCollectionInPage:t,scrollerRef:r}}({...e,store:(0,l().uB)(e.store,H().A)})}function G(e){const{pageStore:t}=e,o=(0,s().v3)();return(0,n.useCallback)((async e=>{const{request:r,headers:n,abortSignal:i}=e,a=j().JQ(t),s=await j().Vn({environment:o,request:{...r,...a?{omitExistingRecordVersions:a}:{}},abortSignal:i,prefetchCacheKey:ne(r),headers:n});if(null!=i&&i.aborted)throw new Error("Abort signal received");if("success"===s.type){return{recordMap:p().RecordMapWithRole.create(s.data.recordMap),cursors:s.data.cursors,source:"remoteV2"}}throw g().O8(s.error,{from:"useLoadRemotePageChunk",type:"pageLoadingError",data:{pageId:t.id,miscDataToConvertToString:{offline:s.offline,status:s.status,body:s.body}}}),new Error("No successful load result found.")}),[o,t])}function Z(e){const{pageStore:t}=e,o=(0,s().v3)();return(0,n.useCallback)((async e=>{const{request:r,mode:n,isFirstChunk:i,abortSignal:a}=e;U("localLoadPageChunk.start");const s=await O().N.measure("localLoadPageChunk",r.page.id,(()=>j().s4({mode:n,environment:o,request:r,isFirstChunk:i,abortSignal:a})));U("localLoadPageChunk.end");J("localLoadPageChunk","localLoadPageChunk.start","localLoadPageChunk.end");if(null!=a&&a.aborted)throw new Error("Abort signal received");const l=p().RecordMapWithRole.create(s.recordMap);return k()._O({environment:o,inMemoryRecordCache:t.inMemoryRecordCache,recordMap:l,debugSource:"PageLoadingContainer.performLocalLoadPageChunk"}),{source:"local",localSource:"inMemoryOnly"===n?"memory":"disk",cursor:s.cursor,recordMap:l}}),[o,t])}function Q(e){const{pageStore:t,store:o,scrollToDiscussionId:r,scrollerRef:i,scrollToPosition:l,scrollToBlockIds:c,updateIsCollectionInPage:d,pageVisitStore:u,disableSideEffects:p}=e,f=(0,s().v3)(),g=(0,n.useCallback)((()=>{p||(z().default.checkGate({gateName:"fetch_backlinks_after_page_load"})||ee({environment:f,blockPointer:t.pointer}),C().Ds(f,{blockStore:t,pageVisitStore:u,incremental:!1}).catch((()=>{})))}),[p,f,t,u]),h=(0,n.useCallback)((e=>{if(p)return;let n,s;oe(e)?(n=te(e.cursors),s=e.cursors):re(e)?(n=function(e){return e.isLast}(e),s=void 0):(n=te([e.cursor]),s=[e.cursor]),n||a().default.afterNextFlush((()=>{if(o.state.ready)return;const e=!r||(t=r,Boolean((0,R().V)({discussionId:t})));var t;const n=!0===function(e){const{scrollerRef:t,scrollToPosition:o}=e;if(null===t.current)return;const r=(0,T().NM)(t.current);return!r||!m().Et(o)||o<=r.scrollHeight-r.clientHeight}({scrollerRef:i,scrollToPosition:l})&&function(e){return!e||D().T.findSelectablesFromIds(e).length===e.length}(c)&&e;n&&o.setState({...o.state,ready:!0})})),d({page:{id:t.id,spaceId:t.getSpaceId()},recordMap:e.recordMap,inMemoryRecordCache:t.inMemoryRecordCache}),f.currentUser.isLoggedIn()&&(q().A.addFromRecordMapWithRole(e.recordMap),q().A.isEmpty()||P().lK({environment:f})),s&&w().I({rootStore:t,cursors:s})}),[p,f,t,c,r,l,i,o,d]),v=(0,n.useCallback)((()=>{p||(z().default.checkGate({gateName:"fetch_backlinks_after_page_load"})&&"personal_home_page"!==t.getType()&&ee({environment:f,blockPointer:t.pointer}),f.currentUser.isLoggedIn()&&(0,M().Yq)(t)&&async function(e,t){await _().callApi({eventName:"resyncJiraCollection",environment:e,data:{pagePointer:t}})}(f,t.pointer))}),[p,f,t]);return(0,n.useMemo)((()=>({concurrentlyWithAsyncRequests:g,afterEachChunk:h,afterAllChunks:v})),[g,h,v])}async function ee(e){const{blockPointer:t,environment:o}=e;o.LocalBacklinkStore.initializeBacklinks({block:{id:t.id,spaceId:(0,f().e)(t.spaceId)},currentUserId:o.currentUser.id,environment:o});try{await o.LocalBacklinkStore.awaitLoaded(t.id)}catch(r){}}function te(e){return 0===e.length||1===e.length&&(!(t=e[0])||0===t.stack.length);var t}function oe(e){return"remoteV2"===e.source||"server"===e.source}function re(e){return"local"===e.source&&"opfs"===e.localSource}function ne(e){if(function(e){return!e.cursor||0===e.cursor.stack.length}(e))return`loadCachedPageChunk(${e.page.id})`;{const t=(0,S().gB)(r()(e.cursor));return`loadCachedPageChunk(${e.page.id})-${t}`}}(0,o(996094).exposeDebugValue)("toggleLogLocalPageLoadFailures",(()=>{X=!X,console.info(X?"Local page load error logging enabled":"Local page load error logging disabled")}))},862279:(e,t,o)=>{o.d(t,{S:()=>i});o(242343);var r=o(163643);const n={viewBox:"0 0 20 20",svg:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("path",{d:"M3.608 10.442a.625.625 0 0 1 0-.884l5.4-5.4a.625.625 0 0 1 .884.884L4.934 10l4.958 4.958a.625.625 0 1 1-.884.884z"}),(0,r.jsx)("path",{d:"m14.508 4.158-5.4 5.4a.625.625 0 0 0 0 .884l5.4 5.4a.625.625 0 1 0 .884-.884L10.434 10l4.958-4.958a.625.625 0 1 0-.884-.884"})]})},i=(0,o(680369).wt)("arrowChevronDoubleBackward",n)},870896:(e,t,o)=>{o.d(t,{d:()=>n});o(725707),o(491955);class r extends(()=>o(129044))().default{getInitialState(){return{flowId:void 0,type:"connected_properties_setup",collectionsProperties:{}}}createNewFlowId(){const e=(0,o(214144).JW)();return this.setState({...this.state,flowId:e}),e}getFlowId(){return this.state.flowId?this.state.flowId:this.createNewFlowId()}addCollectionProperties(e,t){const o=this.state.collectionsProperties[e],r=o?{...o,...t}:t;this.setState({...this.state,collectionsProperties:{...this.state.collectionsProperties,[e]:r}})}removeCollectionProperties(e,t){const o=this.state.collectionsProperties[e];if(!o)return;const r=Object.fromEntries(Object.entries(o).filter((e=>{let[o]=e;return!t.has(o)})));if(0===Object.keys(r).length){const{[e]:t,...o}=this.state.collectionsProperties;this.setState({...this.state,collectionsProperties:o})}else this.setState({...this.state,collectionsProperties:{...this.state.collectionsProperties,[e]:r}})}}const n=new r;(0,o(996094).exposeDebugValue)("ConnectedPropertiesSyncStore",n)},897080:(e,t,o)=>{o.d(t,{A:()=>r});const r={appCursorListener:{sidebar:1,secondarySidebar:2,editor:3,aiChat:3,marketplace:3,teamHome:3}}},915821:(e,t,o)=>{o.d(t,{ac:()=>w,jU:()=>I,qg:()=>C});var r=()=>o(778417),n=()=>o(762847),i=()=>o(76394),a=()=>o(711907),s=()=>o(596717),l=()=>o(314164),c=()=>o(486963),d=()=>o(377561),u=()=>o(486905),p=()=>o(444633),f=()=>o(873617),g=()=>o(836331),h=()=>o(332284),m=()=>o(182613);const v=s().Fh-2,S=2,b=4,y=15,x=24;function w(e){const{marginItemType:t,store:o,nodeRect:r,containerRect:a,environment:l}=e,c=function(e){const{store:t,marginItemType:o}=e,r=t.getType(),i=t.getNavigableAncestorFormat(),a=Boolean(i.page_small_text);return r===n().xd.divider?-6:r===n().xd.header?a?7:10:r===n().xd.subHeader?a?4:6:r===n().xd.collectionView?8:r===n().xd.table?"presence_avatars"===o?5.5:14:3}({store:o,marginItemType:t}),d=function(e){const{baseOffset:t,store:o,environment:r}=e;if(o.isTransclusionType())return t+5;if(P(o,r))return g().default.checkGate({gateName:"db_ux_chrome"})?(s().tt-x)/2:t+1;if("ai_block"===o.getType())return o.hasContent()?t+9:t+15;if(o.getType()===n().xd.button)return t+3;return t}({baseOffset:c,store:o,environment:l}),u=((null==r?void 0:r.top)??0)-((null==a?void 0:a.top)??0)+d,f=l.device.isMobile?16:22,h=(p().jK-f)/2;if("selectable_hover_menu_overlay_item"===t)return u;if("attribution_avatars"===t)return u-h;if("presence_avatars"===t){const{attributionsIncludeFoundBlock:t,avatarCount:o}=e;return u+h+(o+(t?1:0)-1)*y}(0,i().HB)(t)}function C(e){const{marginItemType:t,store:o,environment:r,nodeRect:n,containerRect:a,selectable:s}=e,l=r.device.isMobile?16:22,d=(0,u().zb)()+S,{maxLeft:p,isBoundedByParentContainer:f}=function(e){const{environment:t,selectable:o,nodeRect:r,store:n}=e,i=(null==r?void 0:r.left)??0;if(n.isCollectionView()||n.isInsideCollection()){const e=(0,c().U)(n);if(e&&"table"!==e.getViewType())return{maxLeft:i,isBoundedByParentContainer:!1}}const a=null==o?void 0:o.getScrollerContext();let s=0;if(a&&a.horizontalScroller){const e=a.horizontalScroller.getClientRect();s=(null==e?void 0:e.left)??0}const l=Math.max(s,i),d=P(n,t)&&R(n)?v:0,u=l-d<=s,p=u?s:l;return{maxLeft:p,isBoundedByParentContainer:u}}({environment:r,selectable:s,nodeRect:n,store:o}),g=A(r,d+x,o,f),h=p-((null==a?void 0:a.left)??0);if("drag_handle"===t)return h-A(r,d,o,f);if("plus_button"===t)return h-g;if("attribution_avatars"===t){return h-k({marginItemType:t,store:o,originalMenuOffset:g,environment:r,isBoundedByParentContainer:f})-b-l}if("presence_avatars"===t){return h-k({marginItemType:t,originalMenuOffset:g,environment:r,store:o,isBoundedByParentContainer:f})-b-l}(0,i().HB)(t)}function I(e){const{marginItemType:t,nodeRect:o,containerRect:r}=e;if("add_comment"===t)return((null==r?void 0:r.right)??0)-((null==o?void 0:o.right)??0);(0,i().HB)(t)}function k(e){var t;const{marginItemType:o,originalMenuOffset:r,environment:n,store:a,isBoundedByParentContainer:s}=e,l=h().default.state,c=l.isOpen&&(null===(t=l.currentStore)||void 0===t?void 0:t.id)===a.id;switch(o){case"attribution_avatars":return c?r:A(n,0,a,s);case"presence_avatars":return c&&l.currentStore&&!h().default.isRightMarginCommentHovered()?r:A(n,0,a,s);case"drag_handle":case"plus_button":return r;default:(0,i().HB)(o)}}function A(e,t,o,i){if(!i&&R(o)&&P(o,e))return t+v;if(o.isQuoteBlockChild()){return t+3+14+r().nE.paddingLeft}if(g().default.checkGate({gateName:"db_ux_chrome"})&&o.getType()===n().xd.collectionView)return t+6;if(o.isTransclusionType()||"ai_block"===o.getType())return t+4;if(o.isDirectChildOfAiBlock())return t+13;if(o.isInsideTransclusion())return t+5;if(o.getType()===n().xd.table){const r=f().Xe({simpleTableStore:o,environment:e,includeInline:!(0,d().dC)(e,o)}),n=o.isImmediateColumnChild();return 0!==r||n?t+8:t}const s=o.getNumberOfDuplicateBlocksAncestors();return s>0?t+a().t*s:t}function P(e,t){var o;if(e.getType()!==n().xd.page&&!e.isPersonProfile())return!1;const r=(0,c().U)(e);if(!r)return!1;return(e.isInsideCollection()||Boolean(null==r||null===(o=r.collectionStore())||void 0===o?void 0:o.isPageTreeCollection()))&&(0,l().f5)({environment:t,collectionContextStore:r})}function R(e){var t;const o=m().default.state.stores.includes(e);return h().default.state.isOpen&&(null===(t=h().default.state.currentStore)||void 0===t?void 0:t.id)===e.id||o}},934889:(e,t,o)=>{o.r(t),o.d(t,{clockIcon:()=>i,iconDefinition:()=>n});o(242343);var r=o(163643);const n={viewBox:"0 0 20 20",svg:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("path",{d:"M10.625 5.725a.625.625 0 1 0-1.25 0v3.65H6.4a.625.625 0 1 0 0 1.25H10c.345 0 .625-.28.625-.625z"}),(0,r.jsx)("path",{d:"M10 2.375a7.625 7.625 0 1 0 0 15.25 7.625 7.625 0 0 0 0-15.25M3.625 10a6.375 6.375 0 1 1 12.75 0 6.375 6.375 0 0 1-12.75 0"})]})},i=(0,o(680369).wt)("clock",n)},945335:(e,t,o)=>{o.d(t,{i:()=>r});const r=(0,o(680369).xh)("arrowUpRightSquare",{default:{loader:()=>o.e(43459).then(o.bind(o,694344))},small:{loader:()=>o.e(97517).then(o.bind(o,49846))},mini:{loader:()=>o.e(60475).then(o.bind(o,609856))},large:{loader:()=>o.e(3953).then(o.bind(o,901466))}})},948214:(e,t,o)=>{o.d(t,{hD:()=>i,lK:()=>s});var r=()=>o(129978);const n=new(r().O2)("MaybeMarketplaceReviewNudge",(()=>o.e(54215).then(o.bind(o,709742)))),i=(0,r()._h)(n,(e=>e.MaybeMarketplaceReviewNudge)),a=new(r().O2)("MarketplaceReviewNudge",(()=>Promise.all([o.e(39782),o.e(2501)]).then(o.bind(o,310722)))),s=(0,r()._h)(a,(e=>e.MarketplaceReviewNudge))},964968:(e,t,o)=>{o.d(t,{W:()=>h,w:()=>g});o(362833);var r=()=>o(935664),n=()=>o(891186),i=()=>o(66460),a=()=>o(896910),s=()=>o(23371),l=()=>o(927685),c=()=>o(170745),d=()=>o(449596),u=()=>o(802955),p=()=>o(836331),f=()=>o(273541);async function g(e){const{environment:t}=e;return(await s().lX(Object.keys(d().A.state.offlinePages||{}),100,(e=>async function(e){const{environment:t,pageId:o}=e,s={page:{id:o,spaceId:(0,i().e)(void 0)},baseUrl:l().A.domainBaseUrl,publicDomainName:l().A.publicDomainName,shouldTraverseToggleBlocks:!0,limit:1/0,cursor:{stack:[]},verticalColumns:!1},d=[];return await r().T(s,n().h.sideEffect((e=>((0,a().u)(e)&&d.push(e.id),Promise.resolve())),n().h.fromMonomorphicFunctionUnsafe((async e=>{const o=await c().h7({environment:t,pointer:e,useInMemoryCacheOnly:!1,skipAccessWrites:!0});return null==o?void 0:o.model})))),d}({environment:t,pageId:e})))).flat()}function h(e,t){return!u().A.state.online&&(e.device.isElectron||e.device.isMobileNative)&&p().default.checkGate({gateName:"download_for_offline"})&&!(0,f().Bd)(t)}},990910:(e,t,o)=>{o.d(t,{FB:()=>p,Ql:()=>f,SM:()=>g,Wv:()=>i,Yz:()=>s,ds:()=>n,e4:()=>r,eQ:()=>a,im:()=>c,jw:()=>l,k2:()=>u,uG:()=>d});const r=8,n=10,i=8,a=24,s=6,l=1.5,c=(a-l)/2,d=a+s,u=`calc(100% + ${i+(r-s)-d}px)`,p=a+8,f=-16;function g(e){return"margin_comments"===e?12:"comment_unfurl"===e?14:16}}}]);