"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[9647],{55998:(e,t,i)=>{i.d(t,{A:()=>o});class n extends(()=>i(129044))().default{getInitialState(){return{boardsResponse:{boards:[]},isFetchingBoards:!0,showLoader:!1}}}const o=new n},59279:(e,t,i)=>{i.d(t,{Ji:()=>C,bd:()=>T,f0:()=>I,mf:()=>k,s7:()=>j});i(362833),i(242343);var n=()=>i(803290),o=()=>i(174114),a=()=>i(711361),r=()=>i(653998),s=()=>i(975392),l=()=>i(76394),d=()=>i(640979),c=()=>i(907721),u=()=>i(962373),p=()=>i(535906),m=()=>i(273520),g=()=>i(356813),h=()=>i(517198),y=()=>i(935091),f=()=>i(858023),x=()=>i(443252),b=()=>i(88271),v=()=>i(103151),A=()=>i(35462),S=i(163643);const w=20,C=12;function j(e){let{title:t,byline:i,icon:n,iconSize:o,iconMargin:a,useThinTitle:r,useSecondaryColorTitle:s,containerStyles:l,summaryStyles:d,rightContent:c,badge:u}=e;const p=I({icon:n,iconSize:o,iconMargin:a,useThinTitle:r,containerStyles:l,summaryStyles:d});return(0,S.jsxs)("div",{style:p.container,children:[n?(0,S.jsx)("div",{style:p.iconContainer,children:n}):null,(0,S.jsxs)("div",{style:p.summaryContainer,children:[(0,S.jsxs)("div",{style:p.nameContainer,children:[(0,S.jsx)(A().A,{style:p.name,isSecondaryColor:s,showTooltipWhenTruncated:!0,children:t}),u?(0,S.jsx)("div",{style:p.badge,children:u}):null]}),i?(0,S.jsx)(A().A,{style:p.byline,children:i}):null]}),c]})}function I(e){const{icon:t,iconSize:i,iconMargin:n,useThinTitle:a,containerStyles:r,summaryStyles:s}=e,l=n??C,d=t?i??w:0;return(0,o().IS)((e=>({container:{position:"relative",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",padding:"8px 0",width:"100%",...r},summaryContainer:{width:`calc(100% - ${d}px)`,...s},iconContainer:{height:d,width:d,flexGrow:0,flexShrink:0,flexBasis:d,marginRight:l,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:6},badge:{marginRight:8},nameContainer:{display:"flex",alignItems:"center",gap:6},name:{fontSize:14,fontWeight:a?400:500},byline:{fontSize:12,lineHeight:1.3,opacity:.5}})),[d,l,a,r,s])}function k(e){let{titleStyles:t,includeByline:i,bylineStyles:n,includeIcon:a,iconStyles:r,containerStyles:s}=e;const l=(0,o().IS)((()=>({container:{height:53,display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",padding:"8px 0",width:"100%",gap:8,...s},icon:{borderRadius:4,height:24,width:24,marginLeft:-2,...r},textContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",width:"calc(100% - 32px)",gap:4},title:{borderRadius:4,height:14,width:"80%",...t},byline:{borderRadius:4,height:12,width:"60%",...n}})),[s,t,n,r]);return(0,S.jsxs)("div",{style:l.container,children:[a?(0,S.jsx)(h().A,{style:l.icon}):null,(0,S.jsxs)("div",{style:l.textContainer,children:[(0,S.jsx)(h().A,{style:l.title}),i?(0,S.jsx)(h().A,{style:l.byline}):null]})]})}function T(e){const t=(0,r().tz)(),i=(0,n().uB)(void 0,u().A),h=(0,o().IS)((()=>({popupMenu:{width:312}})),[]);let A=[];const w=[];for(const n of e.items)if("divider"===n.type){const t=w.length>0,i={key:`actions-${w.length}`,render:i=>(0,S.jsx)(b().A,{title:e.title,topBorder:t,...i}),items:A};w.push(i),A=[]}else if("action"===n.type){const e={key:n.key,render:e=>(0,S.jsx)(v().A,{textWrap:!0,render:t=>(0,S.jsx)(p().A,{...e,...t,isRedOnHover:n.isDestructive,shouldWrapCaption:!0,icon:n.icon,title:n.title,caption:n.caption,disabled:n.disabled,disabledFeedback:n.disabled}),renderTooltip:()=>n.tooltipTitle,disableTooltip:n.tooltipDisabled??!0,placement:c().W.Right}),action:()=>{n.action(),i.setState({...i.state,open:!1})}};A.push(e)}else(0,l().HB)(n);const C={key:`actions-${w.length}`,render:t=>(0,S.jsx)(b().A,{title:e.title,topBorder:w.length>0,...t}),items:A};return w.push(C),(0,S.jsx)(m().Ay,{stopClickPropagation:!0,popupType:x().nl.Popup,alignmentToOrigin:c().C.Start,placementToOrigin:c().W.Bottom,style:h.popupMenu,render:()=>(0,S.jsx)(y().A,{menuType:d().gu.Popup,width:312,children:(0,S.jsx)(f().Ay,{type:f().Oh.Vertical,initialFocus:void 0,sections:w})}),onClose:s().lQ,buttonPopupStore:i,renderOrigin:e=>(0,S.jsx)(g().A,{ariaLabel:t.formatMessage({id:"iconCellActionMenu.iconButton.ariaLabel",defaultMessage:"More actions"}),icon:a()._,...e})})}},61096:(e,t,i)=>{i.d(t,{A:()=>n});const n=new(i(962373).A)},90760:(e,t,i)=>{i.d(t,{A:()=>U,m:()=>W});i(362833),i(725707),i(500234),i(403517);var n=i(242343),o=()=>i(237385),a=()=>i(803290),r=()=>i(174114),s=()=>i(198654),l=()=>i(748267),d=()=>i(653998),c=()=>i(76394),u=()=>i(111066),p=()=>i(817181),m=()=>i(640979),g=()=>i(576957),h=()=>i(163216),y=()=>i(907721),f=()=>i(943066),x=()=>i(404042),b=()=>i(209684),v=()=>i(535906),A=()=>i(273520),S=()=>i(935091),w=()=>i(932322),C=()=>i(858023),j=()=>i(701270),I=()=>i(286404),k=()=>i(88271),T=()=>i(431551),M=()=>i(725599),P=()=>i(103151),_=()=>i(309461),N=()=>i(207573),B=i(163643);function U(e){const{isMobile:t,title:i,isCritical:s,disableTitle:l,caption:d,captionStyle:c,upsellOptions:b,type:v,shouldHighlight:A}=e,S=(0,o().v3)(),w=(0,m().Tf)(),{paddingLeftCSS:C,paddingRightCSS:I}=(0,a().K8)((()=>{const{paddingLeftCSS:e,paddingRightCSS:t}=S.WindowSizeStore.state;return{paddingLeftCSS:e,paddingRightCSS:t}}),[S]),[k,T]=(0,n.useState)(!1),M=(0,n.useCallback)((()=>T(!0)),[T]),N=(0,n.useCallback)((()=>T(!1)),[T]),U=(0,n.useContext)(p().R),R=(0,n.useRef)(null);(0,n.useEffect)((()=>{A&&R.current&&u().hT({element:R.current,environment:S,scrollerContext:U,vertical:{reveal:"closest"},horizontal:void 0,animate:!0})}),[S,A,R,U]);const L="toggleToButton"===e.type?e.isOn:void 0,W="custom"===e.type?e.useFlexboxStyle:void 0,O=(0,n.useMemo)((()=>{if(t){if("dropdown"===v)return{display:"flex",flexDirection:"column"};if(L||W)return{}}return{display:"flex",alignItems:"center",justifyContent:"space-between"}}),[t,v,L,W]),D=(0,r().IS)((i=>({container:{...O,paddingLeft:t?C:void 0,paddingRight:t?I:void 0,cursor:k&&!e.disabled?"pointer":e.disabled?"not-allowed":"default",...A?{backgroundColor:i.buttonHoveredBackground,marginLeft:-1*(0,_().AL)(t),marginRight:-1*(0,_().AL)(t),paddingLeft:(0,_().AL)(t),paddingRight:(0,_().AL)(t),marginTop:-1*(0,g().H)(t,w)/2,marginBottom:-1*(0,g().H)(t,w)/2,paddingTop:(0,g().H)(t,w)/2,paddingBottom:(0,g().H)(t,w)/2}:{}},description:{display:"flex",flexDirection:"column",marginRight:"5%",width:"75%",gap:6},captionStyle:{...c},title:{display:"flex",flexDirection:"row"}})),[t,w,C,I,A,k,c,e.disabled,O]),V="toggle"===e.type||"toggleToButton"===e.type||"custom"===e.type&&!e.disableSettingsItemClick,H=(0,h().B)(),E=(0,h().B)(),F=s?"uiRedPrimary":l?"secondary":"primary",q=(0,B.jsxs)("div",{ref:R,style:D.container,onClick:()=>{if(!(e.disabled||"custom"===e.type&&e.disableSettingsItemClick))return b&&b.shouldUpsell?f().K(S,{from:b.analyticsName,upsell:{type:"product",product:b.subscriptionTier,limit:{type:"none"},trialability:"none"}}):void("toggle"===e.type?e.onToggle():"toggleToButton"===e.type?e.onClick():"custom"===e.type&&e.customButton&&n.isValidElement(e.customButton)&&e.customButton.props.onClick&&"function"==typeof e.customButton.props.onClick&&e.customButton.props.onClick())},onMouseEnter:V?M:void 0,onMouseLeave:V?N:void 0,children:[(0,B.jsxs)("div",{style:D.description,children:[(0,B.jsx)(j().D,{styleName:w?"iOS/Subhead-15px/Regular":"UIRegular-14px/Regular",colorName:F,children:(0,B.jsxs)("div",{id:H,style:D.title,children:[i,e.badge,b&&b.shouldUpsell&&(0,B.jsx)(x().A,{subscriptionTier:b.subscriptionTier,analyticsName:b.analyticsName,onClick:()=>f().K(S,{from:b.analyticsName,upsell:{type:"product",product:b.subscriptionTier,limit:{type:"none"},trialability:"none"}}),desktopStyle:{display:"flex",marginLeft:8}})]})}),(0,B.jsx)(j().D,{id:E,styleName:w?"iOS/Footnote-13px/Regular":"UIMedium-13px/Regular",colorName:"secondary",customStyles:D.captionStyle,children:d})]}),(0,B.jsx)(z,{titleId:H,captionId:E,...e})]});return e.tooltipLabel?(0,B.jsx)(P().A,{placement:y().W.Bottom,alignment:y().C.Center,disableTooltip:e.disableTooltip,renderTooltip:()=>e.tooltipLabel,render:e=>(0,B.jsx)("div",{...e,children:q})}):q}function z(e){const{titleId:t,captionId:i}=e;if("toggle"===e.type)return(0,B.jsx)(T().A,{"aria-labelledby":t,"aria-describedby":i,on:e.isOn,disabled:e.disabled,isLocked:e.isLocked,lockedTooltip:e.lockedTooltip});if("dropdown"===e.type)return(0,B.jsx)(W,{...e});if("custom"===e.type)return(0,B.jsx)(B.Fragment,{children:e.customButton});if("toggleToButton"===e.type)return e.isOn?(0,B.jsx)("div",{style:{marginTop:12},children:(0,B.jsx)(I().A,{size:"lg",onClick:e.onClick,style:e.buttonStyle,disabled:e.disabled,children:e.buttonLabel})}):(0,B.jsx)(T().A,{"aria-labelledby":t,"aria-describedby":i,on:!1,onClick:e.onClick,disabled:e.disabled});if("timezonePicker"===e.type){const{currentTimeZone:t,...i}=e;return(0,B.jsx)(N().G,{...i,currentValue:t,enableRecents:!1})}(0,c().HB)(e)}const R=12,L=4;function W(e){var t;const{title:i,isMobile:n,upsellOptions:o,currentOption:a,options:c,info:u,switcherButtons:p,onSelectOption:g,menuStyle:h,buttonStyle:f,buttonHoverStyle:x,isLocked:j,lockedTooltip:I,placementToOrigin:T,alignmentToOrigin:_}=e,N=null===(t=c.find((e=>{let{key:t}=e;return t===a})))||void 0===t?void 0:t.label,U=(0,r().IS)((e=>({button:{marginTop:R,marginBottom:L,marginRight:n?"auto":void 0,paddingLeft:n?12:8,paddingRight:n?12:8,height:n?44:28,border:n?`1px solid ${e.outlineButtonBorder}`:void 0,...f},icon:{width:10,marginLeft:4,fill:e.lightIconColor},lockedContainer:{display:"flex",alignItems:"center",justifyContent:"center"},lockedIcon:{marginTop:R,marginBottom:L,height:16,width:16,color:e.grayButtonBackground}})),[n,f]),z=Boolean(o&&o.shouldUpsell)||e.disabled||j,W=(0,B.jsx)(A().Ay,{popupType:n?A().z7.SlideUp:A().z7.Popup,placementToOrigin:T??A().sx.Bottom,alignmentToOrigin:_,originGap:8,renderOrigin:e=>(0,B.jsxs)(b().p,{...e,size:"lg",style:{opacity:z?.4:1,...U.button},hoveredStyle:x,disabled:z,children:[N,(0,s().b)(U.icon)]}),render:e=>{let t;t=n?{menuType:m().gu.Modal,title:i,right:(0,B.jsx)(d().sA,{defaultMessage:"Done",id:"settingItem.buttonPopup.done.label"}),onClickRight:e.close}:{menuType:m().gu.Popup,width:250,maxHeight:400,...h};const o=[],a=c.map((t=>{let{key:i,label:n,caption:o}=t;return{key:i,action:()=>{g(i),e.close()},render:e=>(0,B.jsx)(v().A,{...e,title:n,caption:o,shouldWrapCaption:!0,isChecked:N===n})}}));if(o.push({key:"settings-item-section",render:e=>(0,B.jsx)(k().A,{...e}),items:a}),u){const e=u.map((e=>{let{key:t,label:i}=e;return{key:t,action:()=>{},render:e=>(0,B.jsx)(w().Ay,{...e,shouldWrapCaption:!0,caption:i})}}));o.push({key:"info-item-section",render:e=>(0,B.jsx)(k().A,{...e,topBorder:!0}),items:e})}if(p&&p.length){const e=p.map((e=>{let{key:t,props:i}=e;return{key:t,action:()=>{},render:()=>(0,B.jsx)(M().A,{...i})}}));o.push({key:"switcher-item-section",render:e=>(0,B.jsx)(k().A,{...e,topBorder:!0}),items:e})}return(0,B.jsx)(S().A,{...t,children:(0,B.jsx)(C().Ay,{type:C().Oh.Vertical,sections:o,initialFocus:void 0})})}});return j?(0,B.jsx)(P().A,{placement:y().W.Left,alignment:y().C.Start,disableTooltip:!I,renderTooltip:()=>I,render:e=>(0,B.jsxs)("div",{style:U.lockedContainer,...e,children:[(0,l().g)(U.lockedIcon),W]})}):W}},98809:(e,t,i)=>{i.d(t,{A:()=>s});i(242343);var n=()=>i(174114),o=()=>i(711361),a=()=>i(126451),r=i(163643);function s(e){let{onClick:t,className:i,isMobile:s,style:l,onFocus:d,onBlur:c,onMouseDown:u,onMouseEnter:p,onMouseLeave:m}=e;const{buttonStyle:g,iconStyle:h}=(0,n().IS)((e=>({buttonStyle:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,borderRadius:6,width:s?45:24,height:s?45:24,marginRight:s?-8:-6,...l},iconStyle:{width:s?18:14,height:s?18:14,fill:e.mediumIconColor}})),[s,l]);return(0,r.jsx)(a().A,{onClick:t,style:g,className:i,mobileFeedback:s,onFocus:d,onBlur:c,onMouseDown:u,onMouseEnter:p,onMouseLeave:m,children:(0,o()._)(h)})}},129243:(e,t,i)=>{i.d(t,{GO:()=>N,Ju:()=>_,KA:()=>P,L0:()=>R,L2:()=>W,dA:()=>B,gI:()=>M,iN:()=>L,oG:()=>z,sK:()=>U});i(725707),i(491955),i(771702);var n=()=>i(519423),o=()=>i(486540),a=()=>i(446588),r=()=>i(220574),s=()=>i(145017),l=()=>i(518797),d=()=>i(66460),c=()=>i(528762),u=()=>i(409211),p=()=>i(23371),m=()=>i(76394),g=()=>i(145046),h=()=>i(303298),y=()=>i(754697),f=()=>i(477784),x=()=>i(352723),b=()=>i(413871),v=()=>i(818369),A=()=>i(70989),S=()=>i(919536),w=()=>i(759625),C=()=>i(575015),j=()=>i(84543),I=()=>i(271674);const k=(0,i(653998).YK)({duplicatingTemplate:{id:"botActions.duplicatingTemplate.loadingMessage",defaultMessage:"Duplicating template..."},duplicatingTemplateError:{id:"botActions.duplicateTemplateAndShareWithBot.snackbar.failure",defaultMessage:"Failed to duplicate template for to your workspace"}});function T(e,t){const{environment:i,spaceStore:n,spaceRole:o}=t,a=function(e){const{name:t,spaceStore:i,userId:n,icon:o,type:a,environment:r}=e,s=Date.now(),d={name:t,created_at:s,created_by_table:u().oo,created_by_id:n,alive:!0,icon:o,space_id:i.id,last_edited_at:s,last_edited_by_id:n,last_edited_by_table:u().oo};switch(a){case"guest":return{...d,type:"guest",capabilities:e.capabilities,parent_table:c().NX,parent_id:i.id,integration_id:void 0};case"scim":return{...d,id:(0,y().Z1)({environment:r,table:l().GP,spaceId:i.id}),type:"scim",parent_table:u().oo,parent_id:n};default:(0,m().HB)(a)}}(t),r=w().eC({environment:i,table:l().GP,value:a,inMemoryRecordCache:i.defaultRecordCache.inMemoryRecordCache,transaction:e});return S().dy({environment:i,spaceStore:n,permissionItems:[{type:"bot_permission",role:o,bot_id:r.id}],transaction:e}),{botStore:r}}function M(e){const{environment:t}=e,{serverCommitResult:i,performResult:{botStore:n}}=j().createAndCommit({userAction:"botActions.createSpaceBot",environment:t,canUndo:!0,perform:t=>T(t,e)});return{botStore:n,transactionPromise:i}}async function P(e){const{environment:t,botId:i,onSuccess:n}=e,o=await v().callApi({eventName:"deleteBot",environment:t,data:{botId:i}});"failed"===o.type?g().Qg(o):"success"===o.type&&n&&(await I().oX({environment:t}),n())}async function _(e){const{environment:t,table:i,id:o,type:a}=e,r=await v().callApi({eventName:"getBots",environment:t,data:{table:i,id:o,type:a},headers:(0,n().WS)({spaceId:i===c().NX?o:void 0})});return"failed"===r.type?(g().Qg(r),{botIds:[],recordMap:{}}):{botIds:r.data.botIds,recordMap:r.data.recordMap}}async function N(e){const{environment:t,currentSpaceStore:i,botIds:n}=e;if(!i)return;const o=await v().callApi({eventName:"getBotSharedPageIds",environment:t,data:{spaceId:i.id,botIds:n}});if("failed"!==o.type)return o.data;g().Qg(o)}async function B(e){const{environment:t,botId:i}=e,n=await v().callApi({eventName:"getBotToken",environment:t,data:{botId:i}});if("failed"!==n.type)return n.data.token;g().Qg(n)}function U(e){const{botValue:t,store:i,environment:n}=e,{id:a,parent_id:r,parent_table:s,capabilities:l}=t,d={type:"bot_permission",bot_id:a,parent_id:r,parent_table:s,role:(0,o().MD)(l)};j().createAndCommit({userAction:"TopbarMoreButton.handleAddingConnection",environment:n,canUndo:!0,perform:e=>{S().zP({environment:n,store:i,permissionItems:[d],transaction:e})}})}function z(e){const{botId:t,store:i,environment:n}=e,o=i.getPermissionItems().filter((0,m().u0)((e=>(0,a().P3)(e)?{true:e}:{false:e})));for(const a of o)if(a.bot_id===t){const e={...a,role:"none"};j().createAndCommit({userAction:"TopbarMoreButton.handleRemovingConnection",environment:n,canUndo:!0,perform:t=>{S().zP({environment:n,store:i,permissionItems:[e],transaction:t})}})}}function R(e){const{currentSpaceStore:t,environment:i,pages:n,botStore:o,addPermission:a}=e;if(!t)return;const r=(0,x().Ws)({botStore:o,addPermission:a});n.forEach((e=>{const n=b().sk.createChildStore(t,{table:s().ev,id:e,spaceId:t.getSpaceId()});j().createAndCommit({userAction:"botActions.updateBlockPermissionsForBot",environment:i,canUndo:!0,perform:e=>{S().zP({environment:i,store:n,permissionItems:[r],transaction:e})}})}))}async function L(e){const{environment:t,spaceStore:i,botStore:n,pageIdAndOperations:o,concurrency:a=20}=e;0!==o.length&&await(0,p().lX)(o,a,(async e=>{const o=b().sk.createChildStore(i,{table:s().ev,id:e.pageId,spaceId:i.getSpaceId()}),a=(0,x().Ws)({botStore:n,addPermission:"add"===e.operationType}),{serverCommitResult:r}=j().createAndCommit({userAction:`botActions.updateBotPermissionsForPages.${e.operationType}`,environment:t,canUndo:!0,perform:e=>{S().zP({environment:t,store:o,permissionItems:[a],transaction:e})}});await r}))}async function W(e){const{environment:t,spaceStore:i,spaceViewStore:o,templatePageId:a,botValue:s,pages:c}=e;if(!i)return;const u=b().sk.createChildStore(i,{table:l().GP,id:s.id});if(a)return await async function(e){const{environment:t,spaceStore:i,spaceViewStore:o,templatePageId:a,botStore:s}=e;if(!i||!o)return;try{A().m({message:k.duplicatingTemplate});const e=await v().callApi({eventName:"loadBlockSubtree",environment:t,data:{block:{id:a,spaceId:(0,d().e)(void 0)},shallow:!1},headers:(0,n().WS)({recordId:a})});if("failed"===e.type)return;const l=r().RecordMapWithRole.create(e.data.subtreeRecordMap),{createAndDuplicatePageInSpace:c}=await(0,h().nd)(),{performResult:u}=j().createAndCommit({userAction:"botActions.duplicateTemplateAndShareWithBot",environment:t,canUndo:!0,perform:e=>{const n=c({environment:t,recordMap:l,copyPageId:a,isPrivate:!0,spaceStore:i,spaceViewStore:o,transaction:e,allowCopyExternalObjectInstances:!1}),r=o.getPrivatePageIds();r.length>0&&w().zv({store:o,data:{private_pages:[n.id,...r]},transaction:e});const d=(0,x().Ws)({botStore:s,addPermission:!0});return S().zP({environment:t,store:n,permissionItems:[d],transaction:e}),n}});return u}catch(l){C().D6({label:f().A.formatMessage(k.duplicatingTemplateError)})}finally{A().V()}}({environment:t,templatePageId:a,botStore:u,spaceStore:i,spaceViewStore:o});R({environment:t,currentSpaceStore:i,botStore:u,pages:c,addPermission:!0})}},163216:(e,t,i)=>{i.d(t,{B:()=>o});var n=i(242343);function o(e){const t=(0,n.useId)();return e??t}},188594:(e,t,i)=>{i.d(t,{A:()=>n});const n=new(i(962373).A)},207762:(e,t,i)=>{i.d(t,{Ay:()=>d,Jy:()=>l,vU:()=>s});i(403517);var n=i(242343),o=()=>i(640979),a=i(163643);function r(e){let{tabs:t,selectedIndex:r,onChange:d,separatorIndexes:c,right:u,style:p,rightStyle:m,tabStyle:g,tabTitleStyle:h,selectedTabTitleStyle:y,tabBorderStyle:f,selectedTabStyle:x,readOnly:b,hideTabBorder:v,idPrefix:A,hideTabIndexes:S}=e;const w=(0,n.useContext)(o().xu),{device:C,WindowSizeStore:j}=(0,i(237385).v3)(),{safePaddingLeft:I,safePaddingRight:k}=(0,i(803290).K8)((()=>({safePaddingLeft:j.getSafePaddingLeftCSS(16),safePaddingRight:j.getSafePaddingRightCSS(16)})),[j]),T=(0,i(174114).IS)((e=>{const t={paddingTop:6,paddingBottom:6,whiteSpace:"nowrap",minWidth:0,flexShrink:0,color:e.text.secondary,...g},i=`inset 0 -1px 0 ${e.regularDividerColor}`,n=w.menuType===o().gu.Popup,a={fontSize:16,paddingTop:2,paddingLeft:n?16:I,paddingRight:n?16:k,zIndex:2,height:44,background:e.popoverBackground};return{container:{overflowY:"visible",overflowX:"auto",display:"flex",width:"100%",position:"relative",boxShadow:v?void 0:i,...C.isMobile?a:{fontSize:14,paddingLeft:8,paddingRight:8,zIndex:1},...p},separator:{display:"inline-flex",alignItems:"center",margin:"0 4px",paddingBottom:4,whiteSpace:"nowrap",minWidth:0,flexShrink:0,color:e.regularDividerColor},tab:t,selectedTab:{...t,position:"relative",color:e.text.primary,...x},border:{borderBottom:`2px solid ${e.text.primary}`,position:"absolute",bottom:0,left:8,right:8,...f},rightContainer:{flexGrow:1,display:"flex",alignItems:"center",justifyContent:"flex-end",color:e.text.secondary,...m}}}),[w.menuType,C.isMobile,m,I,k,x,p,f,g,v]);return(0,a.jsxs)("div",{className:"hide-scrollbar",style:T.container,role:"tablist",children:[t.map(((e,t)=>{if(null!=S&&S.includes(t))return null;const o=t===r;return(0,a.jsxs)(n.Fragment,{children:[(0,a.jsxs)("div",{style:o?T.selectedTab:T.tab,children:[(0,a.jsx)(i(209684).p,{role:"tab",style:{...h,...o?y:{}},onClick:()=>d(t),disabled:b,mobileFeedback:C.isMobile,isLightGray:!Boolean(o),"aria-selected":o,id:s(A,t),"aria-controls":l(A,t),children:e}),o&&(0,a.jsx)("div",{style:T.border})]},`tabButton-${t}`),c&&c.includes(t)&&(0,a.jsx)("div",{style:T.separator,className:"notranslate",children:"|"},`${t}-separator`)]},t)})),u&&(0,a.jsx)("div",{style:T.rightContainer,children:u})]})}function s(e,t){if(e)return`${e}-tab-${t}`}function l(e,t){if(e)return`${e}-tabpanel-${t}`}const d=n.memo(r)},228138:(e,t,i)=>{i.d(t,{Ke:()=>x,RD:()=>y,Sw:()=>g,Vf:()=>p,_z:()=>c,cZ:()=>v,d7:()=>S,dL:()=>h,hx:()=>a,iC:()=>b,jx:()=>m,lA:()=>f,qG:()=>u,rL:()=>l,s8:()=>A,vW:()=>r});var n=()=>i(975392),o=()=>i(76394);const a=[{type:"search",scopeForNextSearch:{type:"everything"},searchSessionId:void 0},{type:"researcher",searchScope:{type:"everything"},useWebSearch:!0},{type:"setup-generator"},{type:"workflow"},{type:"markdown-chat"},{type:"fast-researcher"}],r={maxIterations:8,multiturnIterations:1,thinkingTokens:1024,filterToSpaceSharedResults:!1},s=["search","researcher","setup-generator"];function l(e){return!!(0,o().Xk)(s,e)}const d=["workflow","setup-generator","fast-researcher","tool-markdown-chat"],c=["markdown-chat","search","researcher","workflow","setup-generator"];function u(e){const{agentEnabled:t}=e,i=n().oE([...s,t?"workflow":void 0]);return a.filter((e=>i.includes(e.type)))}const p=[{type:"route-inference-transcript",configs:a.filter((e=>c.includes(e.type)))},...a.filter((e=>d.includes(e.type)))];function m(e){const{uploadedFileData:t,id:i}=e;if("application/pdf"===t.contentType){return{id:i,type:"attachment",fileUrl:t.originalFileUrl,fileName:t.fileName,contentType:t.contentType,base64EncodedFileUrl:t.base64EncodedFileUrl}}if("image/png"===t.contentType||"image/jpeg"===t.contentType||"image/gif"===t.contentType||"image/webp"===t.contentType){return{id:i,type:"attachment",fileUrl:t.originalFileUrl,fileName:t.fileName,contentType:t.contentType}}(0,o().HB)(t.contentType)}const g=["slack","google-drive","github","gmail","helpdocs","helpdoc-section","webpage","jira","microsoftTeams","notion","sharepoint","linear"],h="searchAgent",y="unifiedFindAgent",f="readingAgent",x="taskAgent",b="databaseAgent",v="databaseBulkReadContentAgent",A={originalOutput:[],feedback:"",inputSummary:"",promptFeedback:"",testInstructions:"",originalOutputPassesTest:!1,originalOutputTestResults:[],correctedOutputs:[],verified:!1},S=["Eval","Prompt"];"\n'Chat with AI':\n\nRouting Instructions:\n- If this mode is selected, the user will receive an AI response without a search being conducted.\n- Route to this mode when the user asks for general knowledge, chatting, or writing content that does not require additional information not already in the context.\n- Do NOT route to this mode when the query requires current statistics, facts, or up-to-date information.\n- Do NOT route to this mode when the query requires searching the user's workspace.\n- Do NOT route to this mode when the user wants to build a specific system or application in Notion.\n\nExamples:\n<example>\nINPUT: Tell me a bedtime story about a robot who learns to dream.\nOUTPUT: 0\n</example>\n<example>\nINPUT: What are some key ideas behind design thinking?\nOUTPUT: 0\n</example>\n<example>\nINPUT: largest mammal\nOUTPUT: 0\n</example>\n<example>\nINPUT: write a haiku about the first snowfall\nOUTPUT: 0\n</example>\n<example>\nINPUT: Who was Joan of Arc?\nOUTPUT: 0\n</example>\n<example>\nINPUT: create a plan for an 80th birthday party\nOUTPUT: 0\n</example>\n".trim(),"\n'Quick search':\n\nRouting Instructions:\n- If this mode is selected, a single search will be conducted and an AI response will be provided that takes the search results into consideration.\n- Route to this mode if you need to find information across the Notion workspace, Slack, Google Drive, Github, or Jira to handle the user's request.\n- Route to this mode when the query seeks a single, specific fact, definition, or data point, or when the user needs current or time-sensitive information.\n- Route to this mode if the user seems to be searching for a specific document in their workspace.\n- Route to this mode if the user needs support: e.g. if they are mentioning getting support, requesting help, asking for customer service, reporting a problem with the product, or requesting a feature - we may be able to find some relevant content in the Notion Help Center\n- Do NOT route to this mode when the request requires synthesizing multiple pieces of information or generating a detailed research report.\n- Do NOT route to this mode when the user wants to build a specific system or application in Notion.\n\nExamples:\n<example>\nINPUT: automated checkout PRD\nOUTPUT: 1\n</example>\n<example>\nINPUT: Who leads the podiatry dept?\nOUTPUT: 1\n</example>\n<example>\nINPUT: overnight parking policy\nOUTPUT: 1\n</example>\n<example>\nINPUT: When are we going to release our documentary about polar bears in the Arctic?\nOUTPUT: 1\n</example>\n<example>\nINPUT: Find my PR that enables dynamic builds.\nOUTPUT: 1\n</example>\n".trim(),"\n'Research Mode':\n\nRouting Instructions:\n- Route to this mode when the query explicitly requests research, analysis, or in-depth exploration.\n- Route to this mode when the query requires conducting multiple searches or synthesizing information from multiple sources or on multiple topics.\n- Do NOT route to this mode when the query can be answered with a single search.\n- Do NOT route to this mode when the user wants to build a specific system or application in Notion.\n\nExamples:\n<example>\nINPUT: Whose work is most UX focused between Amy, Paula, and Xochitl?\nOUTPUT: 2\n</example>\n<example>\nINPUT: Write profiles for 10 of our biggest north African customers.\nOUTPUT: 2\n</example>\n<example>\nINPUT: Can you put together some recommendations for how to move forward with the Lumi deal? Check our recent Slack discussions for context. Write your recommendations in a similar style to how I have written them in the past.\nOUTPUT: 2\n</example>\n<example>\nINPUT: detailed comparison of the healthcare systems of Canada, the UK, Germany, and Singapore in terms of efficiency and accessibility\nOUTPUT: 2\n</example>\n<example>\nINPUT: What are the trends and geopolitical implications of the global semiconductor supply chain?\nOUTPUT: 2\n</example>\n\n".trim(),"\n'App builder':\n\nRouting Instructions:\n- Route to this mode when the query explicitly asks to build an app or system, or when the request involves automating processes within Notion or external tools.\n- Do NOT route to this mode when the user is seeking information rather than building a system or when the request is for creative content or general conversation.\n\nExamples:\n<example>\nINPUT: Create a task management app with deadlines and team assignments.\nOUTPUT: 3\n</example>\n<example>\nINPUT: Develop a CRM that tracks client interactions and schedules follow-ups.\nOUTPUT: 3\n</example>\n<example>\nINPUT: design an invoice system that sends payment reminders\nOUTPUT: 3\n</example>\n<example>\nINPUT: could you build a knowledge base that categorizes notes by topic automatically?\nOUTPUT: 3\n</example>\n<example>\nINPUT: Set up a content calendar for social media posts\nOUTPUT: 3\n</example>\n<example>\nINPUT: Create a recruitment pipeline for interview stages.\nOUTPUT: 3\n</example>\n<example>\nINPUT: I want a dashboard for visualizing Notion database metrics\nOUTPUT: 3\n</example>\n<example>\nINPUT: a way to process and categorize customer feedback automatically\nOUTPUT: 3\n</example>\n".trim(),"\n<example>\nINPUT: Create a database to track my job applications\nOUTPUT: 3\n</example>\n<example>\nINPUT: I need a way to organize my project tasks and deadlines\nOUTPUT: 3\n</example>\n<example>\nINPUT: Help me keep track of my fitness progress over time\nOUTPUT: 3\n</example>\n<example>\nINPUT: I want to build a system for managing my inventory\nOUTPUT: 3\n</example>\n<example>\nINPUT: I need something to organize all my recipes and ingredients\nOUTPUT: 3\n</example>\n<example>\nINPUT: Can you help me set up a customer relationship management system?\nOUTPUT: 3\n</example>\n<example>\nINPUT: [pasted CSV or similar structured data]\nOUTPUT: 3\n</example>\n<example>\nINPUT: I need to organize my collection of books\nOUTPUT: 3\n</example>\n".trim()},242333:(e,t,i)=>{i.d(t,{A:()=>o});class n extends(()=>i(129044))().default{getInitialState(){return{flowId:void 0}}getOrCreateFlowId(){const e=this.state.flowId||i(214144).JW();return this.state.flowId&&this.setState({flowId:e}),e}}const o=new n},244180:(e,t,i)=>{i.d(t,{b:()=>o});i(242343);var n=i(163643);const o=(0,i(680369).wt)("taskList",{viewBox:"0 0 18 17",svg:(0,n.jsx)("path",{d:"M3.48438 7.29688C5.35938 7.29688 6.92188 5.73438 6.92188 3.85938C6.92188 1.96875 5.35938 0.40625 3.48438 0.40625C1.59375 0.40625 0.0390625 1.96875 0.0390625 3.85938C0.0390625 5.73438 1.60156 7.29688 3.48438 7.29688ZM3.07031 5.70312C2.89844 5.70312 2.77344 5.61719 2.65625 5.47656L1.78125 4.42969C1.69531 4.32812 1.66406 4.23438 1.66406 4.10156C1.66406 3.85938 1.85156 3.67188 2.08594 3.67188C2.24219 3.67188 2.35156 3.73438 2.45312 3.875L3.05469 4.625L4.44531 2.39062C4.54688 2.23438 4.67969 2.15625 4.83594 2.15625C5.07031 2.15625 5.26562 2.33594 5.26562 2.55469C5.26562 2.66406 5.24219 2.76562 5.16406 2.88281L3.5 5.46875C3.39844 5.61719 3.25 5.70312 3.07031 5.70312ZM9.39844 4.54688H17.2578C17.6406 4.54688 17.9531 4.24219 17.9531 3.85938C17.9531 3.47656 17.6406 3.17188 17.2578 3.17188H9.39844C9.01562 3.17188 8.71875 3.47656 8.71875 3.85938C8.71875 4.24219 9.01562 4.54688 9.39844 4.54688ZM3.48438 16.3281C5.35938 16.3281 6.92188 14.7656 6.92188 12.8828C6.92188 10.9922 5.35938 9.4375 3.48438 9.4375C1.59375 9.4375 0.0390625 11 0.0390625 12.8828C0.0390625 14.7656 1.60156 16.3281 3.48438 16.3281ZM3.48438 15C2.32812 15 1.36719 14.0312 1.36719 12.8828C1.36719 11.7344 2.33594 10.7578 3.48438 10.7578C4.625 10.7578 5.60156 11.7344 5.60156 12.8828C5.60156 14.0312 4.625 15 3.48438 15ZM9.39844 13.5859H17.2578C17.6406 13.5859 17.9531 13.2812 17.9531 12.8984C17.9531 12.5156 17.6406 12.2109 17.2578 12.2109H9.39844C9.01562 12.2109 8.71875 12.5156 8.71875 12.8984C8.71875 13.2812 9.01562 13.5859 9.39844 13.5859Z"})})},246151:(e,t,i)=>{i.d(t,{VT:()=>s,b0:()=>l,gz:()=>d});i(333225),i(494367),i(516262),i(573119),i(240480),i(950443),i(619601),i(725707),i(491955),i(403517);var n=()=>i(466003),o=()=>i(188658),a=()=>i(485966),r=()=>i(413871);function s(e,t){const i=t.getAlive(),o=(0,n().hu)(t),a=!l(t),r=l(t),s=Boolean(e.currentUser.id===t.getParentId());return i&&o&&(r&&s||a)}function l(e){if(!e.getAlive||!(0,n().hu)(e))return!1;const{currentUserRootStore:t}=a().default.state,i=e.getIntegrationId();if(!t||!i)return!1;const s=(0,r().Oo)(t,{id:i,table:o().Li}).getKeyStore("type").getValue();return!e.isInternalBot(s?{type:s}:void 0)}function d(e){const{externalIntegrationStoreState:t,integrationId:i}=e;if(!t.loaded)return;const o=t.externalAuthentications.map((e=>{let{parent_id:t}=e;return t})),a=new Set(o),r=t.bots.filter((e=>e.alive&&a.has(e.id)&&(0,n().Sd)(e)&&e.integration_id===i));return r.length?r[0]:void 0}},309461:(e,t,i)=>{i.d(t,{AL:()=>a,Ay:()=>s,J_:()=>r});i(242343);var n=()=>i(884373),o=i(163643);function a(e){return e?18:60}function r(){return(0,o.jsx)(n().A,{size:37})}const s=function(e){let{children:t,controlRow:n,bannerText:r,controlRowPaddingTopBottom:s,removeBoxShadow:l,contentPaddingLeftRight:d,controlRowPaddingLeftRight:c,getPaddingTopBottom:u,disableScroller:p,maxWidth:m,centerContent:g}=e;const h=(0,i(237385).v3)(),{device:y}=h,f=u?u():y.isMobile?18:36,x=(0,i(174114).IS)((e=>({containerWithScroller:{display:"flex",flexDirection:"column",width:"100%",height:"100%",maxWidth:m??void 0,backgroundColor:e.cardContentBackground},scroller:{flexGrow:1,WebkitOverflowScrolling:"touch",transform:"translateZ(0)",paddingLeft:d??a(y.isMobile),paddingRight:d??a(y.isMobile),paddingTop:r?15:f,paddingBottom:r?22:f,...g?{display:"flex",alignItems:"center",justifyContent:"center"}:null},controlRowWithScroller:{flexGrow:0,flexShrink:0,paddingLeft:c??a(y.isMobile),paddingRight:c??a(y.isMobile),paddingTop:s,paddingBottom:s,boxShadow:l?void 0:`0 -1px 0 ${e.regularDividerColor}`},containerWithoutScroller:{paddingLeft:a(y.isMobile),paddingRight:a(y.isMobile)},childrenWithoutScroller:{paddingTop:f,paddingBottom:f},controlRowWithoutScroller:{paddingTop:s,paddingBottom:s,boxShadow:`0 -1px 0 ${e.regularDividerColor}`}})),[m,d,y.isMobile,r,f,c,s,l,g]);return p?(0,o.jsxs)("div",{style:x.containerWithoutScroller,children:[(0,o.jsx)("div",{style:x.childrenWithoutScroller,children:t}),n&&(0,o.jsx)("div",{style:x.controlRowWithoutScroller,children:n})]}):(0,o.jsxs)("div",{style:x.containerWithScroller,children:[r&&(0,o.jsx)(i(473852).A,{styleKey:i(653147).q.Blue,isMobile:!1,children:r}),(0,o.jsx)(i(142708).H,{type:i(98508).A.All,style:x.scroller,children:t}),n&&(0,o.jsx)("div",{style:x.controlRowWithScroller,children:n})]})}},365721:(e,t,i)=>{i.d(t,{y:()=>o});i(242343);var n=i(163643);const o=(0,i(680369).wt)("jira",{viewBox:"0 0 20 20",svg:(0,n.jsx)("path",{d:"M16.8784 2.5H9.65698C9.65698 4.3 11.1141 5.75714 12.9141 5.75714H14.2427V7.04288C14.2427 8.84288 15.6998 10.3 17.4998 10.3V3.12143C17.4998 2.77857 17.2212 2.5 16.8784 2.5Z M13.3001 6.10001H6.07861C6.07861 7.9 7.53574 9.35713 9.33574 9.35713H10.6643V10.6429C10.6643 12.4429 12.1215 13.9 13.9215 13.9V6.72144C13.9215 6.37856 13.6429 6.10001 13.3001 6.10001Z M9.72144 9.70001H2.5C2.5 11.5 3.95714 12.9571 5.75714 12.9571H7.08569V14.2429C7.08569 16.0429 8.54287 17.5 10.3429 17.5V10.3214C10.3429 9.97857 10.0643 9.70001 9.72144 9.70001Z"})})},389324:(e,t,i)=>{i.r(t),i.d(t,{gearIcon:()=>a,iconDefinition:()=>o});i(242343);var n=i(163643);const o={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M7.29 10c0 1.5 1.22 2.71 2.71 2.71 1.5 0 2.71-1.21 2.71-2.71S11.5 7.29 10 7.29 7.29 8.5 7.29 10m1.25 0c0-.81.66-1.46 1.46-1.46.81 0 1.46.65 1.46 1.46s-.65 1.46-1.46 1.46-1.46-.65-1.46-1.46"}),(0,n.jsx)("path",{d:"M8.49 17.64q.75.15 1.53.15v-.01c.47 0 .94-.04 1.41-.13.26-.05.46-.25.5-.51l.26-1.53.15-.06 1.28.91c.21.14.49.14.71 0 .41-.28.8-.61 1.18-.98.33-.33.63-.7.9-1.09.15-.21.15-.5 0-.71l-.9-1.27.06-.15 1.55-.27c.26-.05.46-.25.51-.5a7.8 7.8 0 0 0 .02-2.94.62.62 0 0 0-.51-.5l-1.53-.26-.06-.15.91-1.28c.14-.21.14-.49 0-.71a7.9 7.9 0 0 0-2.07-2.08.62.62 0 0 0-.71 0l-1.27.9-.15-.06-.27-1.55a.64.64 0 0 0-.5-.51c-.5-.1-1-.15-1.53-.15-.47 0-.95.04-1.41.13-.26.05-.46.25-.5.51l-.26 1.53-.15.06-1.28-.91a.65.65 0 0 0-.71 0 7.9 7.9 0 0 0-2.08 2.07c-.15.21-.15.5 0 .71l.9 1.27-.06.15-1.55.27c-.26.05-.46.25-.51.5-.1.5-.15 1-.15 1.53 0 .47.04.95.13 1.41.05.26.25.46.51.5l1.53.26.06.15-.91 1.28c-.14.21-.15.49 0 .71.29.42.61.81.98 1.18.34.34.7.65 1.09.91.21.15.5.15.71 0l1.27-.9.15.06.27 1.55c.05.26.25.46.5.51m2.29-1.15c-.53.07-1.09.07-1.63 0l-.25-1.47a.62.62 0 0 0-.42-.49 6 6 0 0 1-.68-.28.63.63 0 0 0-.65.04l-1.2.85a6.8 6.8 0 0 1-1.14-1.16l.86-1.21c.13-.19.15-.43.05-.64-.11-.22-.21-.45-.28-.68a.62.62 0 0 0-.49-.43l-1.45-.25a6.7 6.7 0 0 1 0-1.63l1.47-.25c.23-.04.42-.2.49-.42.07-.23.17-.46.28-.68.11-.21.09-.46-.04-.65l-.85-1.2A6.8 6.8 0 0 1 6.01 4.8l1.21.86c.19.13.43.15.64.05.22-.11.45-.21.68-.28s.39-.26.43-.49l.25-1.45c.53-.07 1.09-.07 1.63 0l.25 1.47c.04.23.2.42.42.49.23.07.46.17.68.28.21.11.46.09.65-.04l1.2-.85A6.8 6.8 0 0 1 15.19 6l-.86 1.21c-.13.19-.15.43-.05.64.11.22.21.45.28.68s.26.39.49.43l1.45.25a6.7 6.7 0 0 1 0 1.63l-1.47.25c-.23.04-.42.2-.49.42-.07.23-.17.46-.28.68-.11.21-.09.46.04.65l.85 1.2a6.8 6.8 0 0 1-1.16 1.14l-1.21-.86a.64.64 0 0 0-.64-.05c-.22.11-.45.21-.68.28s-.39.26-.43.49z"})]})},a=(0,i(680369).wt)("gear",o)},396218:(e,t,i)=>{i.d(t,{J2:()=>C,NF:()=>j,gA:()=>w,hr:()=>T,jl:()=>k,p6:()=>M,rQ:()=>I});i(725707),i(500234),i(403517),i(242343);var n=()=>i(803290),o=()=>i(174114),a=()=>i(633427),r=()=>i(653998),s=()=>i(640979),l=()=>i(622163),d=()=>i(755769),c=()=>i(209684),u=()=>i(286270),p=()=>i(535906),m=()=>i(273520),g=()=>i(559637),h=()=>i(966789),y=()=>i(935091),f=()=>i(858023),x=()=>i(701270),b=()=>i(951540),v=()=>i(88271),A=()=>i(761800),S=i(163643);const w=20,C=440,j=C+40;function I(e){const{icon:t,title:i,byline:n,bylineWidthOverride:a}=e,r=(0,o().IS)((()=>({container:{margin:"0 auto",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",gap:8},title:{textAlign:"center"},byline:{textAlign:"center"}})),[]);return(0,S.jsxs)("div",{style:r.container,children:[t,(0,S.jsx)(x().D,{styleName:"Heading-17px/Semibold",customStyles:r.title,children:i}),(0,S.jsx)(x().D,{styleName:"UIRegular-14px/Regular",colorName:"secondary",customStyles:a?{...r.byline,width:a}:r.byline,children:n})]})}function k(e){const{primaryText:t,primaryAction:i,primaryDisabled:n,secondaryText:a,secondaryAction:r,isLightRed:s,isDarkRed:l,isLoading:d}=e,p=!(s||l),m=(0,o().IS)((e=>({container:{margin:"0 auto",display:"flex",flexDirection:p?"row-reverse":"column",alignItems:"center",justifyContent:p?"flex-start":"flex-end",gap:8,padding:"0 20px",marginLeft:-20,width:"calc(100% + 40px)"},fullWidth:p?{}:{width:"100%",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center"},cancelButton:{...A().W,height:32,color:e.text.secondary}})),[p]);return(0,S.jsxs)("div",{style:m.container,children:[s?(0,S.jsx)(u().E,{size:"lg",onClick:i,color:s?"uiRed":void 0,disabled:n,style:m.fullWidth,children:d?(0,S.jsx)(h().A,{}):t}):(0,S.jsx)(b().A,{size:"lg",onClick:i,disabled:n,style:m.fullWidth,isRed:l,children:d?(0,S.jsx)(h().A,{}):t}),(0,S.jsx)(c().p,{size:"lg",onClick:r,style:{...m.fullWidth,...m.cancelButton},children:a})]})}function T(e){const{selectedId:t,options:i,onChange:n}=e,l=(0,o().IS)((e=>({container:{display:"flex",flexDirection:"column",gap:8},chevron:{width:12,marginLeft:3,marginRight:3,fill:e.lightIconColor},selectedButton:{width:"100%",margin:0,paddingTop:4,paddingBottom:4,border:`1px solid ${e.outlineButtonBorder}`},icon:{alignSelf:"start",marginTop:0,fill:e.icon.secondary,height:18,width:18}})),[]);return(0,S.jsxs)("div",{style:l.container,children:[(0,S.jsx)(x().D,{styleName:"UISmall-12px/Medium",colorName:"secondary",children:(0,S.jsx)(r().sA,{id:"orgConsole.modal.dropdown.title",defaultMessage:"Select role"})}),(0,S.jsx)(m().Ay,{popupType:m().z7.Popup,renderOrigin:e=>{const n=i.find((e=>e.id===t));return n?(0,S.jsx)(p().A,{...e,title:n.title,caption:n.caption,icon:n.icon({fill:l.icon.fill}),desktopIconStyle:l.icon,disabled:!1,right:(0,a().arrowChevronSingleDownIcon)(l.chevron),shouldWrapCaption:!0,buttonStyle:l.selectedButton,focused:!1}):null},originGap:8,placementToOrigin:d().UV.Bottom,alignmentToOrigin:d().MY.Center,sameWidthAsOrigin:!0,render:e=>{const o=[{key:"options",render:e=>(0,S.jsx)(v().A,{...e,topBorder:0!==e.index}),items:i.map((i=>{const o=i.id===t;return{key:i.id,render:e=>(0,S.jsx)(p().A,{...e,title:i.title,caption:i.caption,icon:i.icon({fill:l.icon.fill}),desktopIconStyle:l.icon,isChecked:o,shouldWrapCaption:!0}),action:()=>{n(i.id),e.close()}}}))}];return(0,S.jsx)(y().A,{menuType:s().gu.Popup,children:(0,S.jsx)(f().Ay,{type:f().Oh.Vertical,initialFocus:void 0,sections:o})})}})]})}function M(e){const{items:t,selectedIds:i,disabledIds:a,onSelectHeader:r,onSelect:s,titleText:d,headerText:c,headerAction:u}=e,p=(0,o().IS)((e=>({container:{display:"flex",flexDirection:"column",gap:8,marginBottom:4},selectorContainer:{border:`1px solid ${e.stroke.secondary}`,boxShadow:"0px 2px 4px 0px #0000000a",borderRadius:8},checkbox:{display:"flex",justifyContent:"center",alignItems:"flex-start",flexDirection:"column"},headerText:{display:"flex",justifyContent:"center",alignItems:"flex-start",flexDirection:"column"},right:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end",flexDirection:"row"},workspace:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",gap:8},byline:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},bylineWithoutCheckboxes:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},iconContainer:{display:"flex",alignItems:"center",justifyContent:"center",height:28,width:28},textContainer:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center",gap:2},selectorHeader:{padding:"4px 12px",borderBottom:`1px solid ${e.stroke.secondary}`,display:"grid",gridTemplateColumns:"24px 1fr 1fr"},selectorHeaderWithAction:{padding:"4px 4px 4px 12px",borderBottom:`1px solid ${e.stroke.secondary}`,display:"grid",gridTemplateColumns:"24px 1fr 1fr"},selectorBody:{paddingInline:12,display:"flex",flexDirection:"column",alignItems:"center",justifyItems:"center",width:"100%",maxHeight:204,overflowX:"hidden",overflowY:"auto"},selectorBodyRow:{display:"grid",gridTemplateColumns:"24px minmax(auto, 50%) 1fr",width:"100%",paddingBlock:8,gap:8,borderTop:`1px solid ${e.stroke.secondary}`}})),[]),m=void 0!==i&&void 0!==a&&s&&r,h=void 0!==a?t.length-a.length:0,y=(0,n().K8)((()=>{if(void 0===i)return!1;let e=0;for(const n of t)i.includes(n.id)&&(e+=1);return 0!==e&&(e===h?0!==h:"partial")}),[t,i,h]);return(0,S.jsxs)("div",{style:p.container,children:[(0,S.jsx)(x().D,{styleName:"UISmall-12px/Medium",colorName:"secondary",children:d}),(0,S.jsxs)("div",{style:p.selectorContainer,children:[(0,S.jsxs)("div",{style:{...u?p.selectorHeaderWithAction:p.selectorHeader,gridTemplateColumns:m?"24px 1fr 1fr":"1fr 1fr"},children:[m?(0,S.jsx)("div",{style:p.checkbox,children:(0,S.jsx)(g().A,{checked:y,size:14,checkSize:10,onClick:r})}):null,(0,S.jsx)(x().D,{styleName:"UISmall-12px/Medium",colorName:"secondary",customStyles:p.headerText,children:c}),(0,S.jsx)("div",{style:p.right,children:u})]}),(0,S.jsx)("div",{style:p.selectorBody,children:t.map(((e,t)=>{let{id:n,icon:o,name:r,caption:d,byline:c}=e;return(0,S.jsxs)("div",{style:{...p.selectorBodyRow,borderTopWidth:0===t?0:1,gridTemplateColumns:m?"24px minmax(auto, 50%) 1fr":"minmax(auto, 50%) 1fr"},children:[m?(0,S.jsx)("div",{style:p.checkbox,children:(0,S.jsx)(g().A,{checked:i.includes(n)||a.includes(n),size:14,checkSize:10,onClick:()=>s(n),disabled:a.includes(n),style:{opacity:a.includes(n)?.3:1}})}):null,(0,S.jsxs)("div",{style:p.workspace,children:[(0,S.jsx)("div",{style:p.iconContainer,children:o}),(0,S.jsxs)("div",{style:p.textContainer,children:[(0,S.jsx)(x().D,{styleName:"UIRegular-14px/Medium",customStyles:{...(0,l().pA)(1),textOverflow:"ellipsis"},children:r}),d?(0,S.jsx)(x().D,{styleName:"UISmall-12px/Regular",colorName:"secondary",customStyles:{...(0,l().pA)(1),textOverflow:"ellipsis"},children:d}):null]})]}),(0,S.jsx)("div",{style:p.byline,children:c})]},n)}))})]})]})}},404042:(e,t,i)=>{i.d(t,{A:()=>u});i(242343);var n=()=>i(803290),o=()=>i(455831),a=()=>i(653998),r=()=>i(220413),s=()=>i(31448),l=()=>i(678523),d=()=>i(943066),c=i(163643);const u=function(e){let{subscriptionTier:t,mobileStyle:u,desktopStyle:p,analyticsName:m,onClick:g,disableTooltip:h,tooltipContent:y}=e;const f=(0,i(174114).DP)(),x=(0,i(237385).v3)(),{device:b}=x,v=(0,n().K8)((()=>{const{currentSpaceStore:e}=i(485966).default.state;return null==e?void 0:e.canAdmin()}),[]),A=(0,n().K8)((()=>function(e,t){switch(e){case"plus":case"business":case"enterprise":return{color:t.blueColor,background:"light"===t.mode?r().Ay.diffBackground:"rgba(35, 131, 226, 0.2)",fontWeight:s().Wy.medium};default:return{}}}(t,f)),[t,f]);if(b.isMobileNative)return null;let S;return"personal"===t?S=(0,c.jsx)(a().sA,{defaultMessage:"Personal Pro",id:"upgradeButton.personal.text"}):(0,o().$P)(t)?S=(0,c.jsx)(a().sA,{defaultMessage:"Plus ↗",id:"upgradeButton.plus.textWithArrow"}):(0,o().tL)(t)?S=(0,c.jsx)(a().sA,{defaultMessage:"Business ↗",id:"upgradeButton.business.textWithArrow"}):(0,o().OX)(t)?S=(0,c.jsx)(a().sA,{defaultMessage:"Enterprise ↗",id:"upgradeButton.enterprise.textWithArrow"}):(0,i(76394).HB)(t),b.isMobile||!v?(0,c.jsx)(l().A,{mobileStyle:u,children:S}):(0,c.jsx)(i(103151).A,{delayThreshold:120,disableTooltip:h,placement:i(907721).W.Bottom,renderTooltip:()=>(0,c.jsx)("div",{style:{maxWidth:500},children:y?(0,c.jsx)(a().sA,{defaultMessage:"{tooltipText}",id:"upgradeButton.upgrade.custom.tooltip",values:{tooltipText:y}}):(0,c.jsx)(a().sA,{defaultMessage:"Upgrade to use this feature.",id:"upgradeButton.upgrade.tooltip"})}),originGap:6,render:e=>(0,c.jsx)(l().A,{desktopStyle:p,innerStyle:A,onClick:e=>function(e,t,i,n,o){d().K(n,{from:t,upsell:{type:"product",product:i,limit:{type:"none"},trialability:"none"}}),o&&o(e)}(e,m,t,x,g),...e,children:S})})}},436452:(e,t,i)=>{i.d(t,{P:()=>f,_:()=>x});var n=()=>i(545250),o=()=>i(809811),a=()=>i(505381),r=()=>i(145046),s=()=>i(927685),l=()=>i(142548),d=()=>i(188594),c=()=>i(330358),u=()=>i(55998),p=()=>i(818369),m=()=>i(437071),g=()=>i(70989),h=()=>i(961987);const y=(0,i(653998).YK)({authenticatingWithTrello:{id:"trelloActions.authenticatingWithTrello.loadingMessage",defaultMessage:"Authenticating with Trello…"},titleMessage:{defaultMessage:"Trello login",id:"trelloActions.loginPopupModal.title"}});async function f(e){const{environment:t,requestStore:i}=e,u=(0,l().LX)(t);let f=(0,n().bQ)(s().A.domainBaseUrl,{authType:u,userId:t.currentUser.id,isElectronDevice:t.device.isElectron});if(f=u.redirectToAuth?f:await(0,l().YN)(t,f),t.device.isElectron)return void m().openExternalUrl(f);const b=await h().P(t,{width:580,height:700,url:f,titleMessage:y.titleMessage});if(!b)return;const v=o().qg(b),A=v.query.oauth_token,S=v.query.oauth_verifier;if(!A||!S)return;g().m({message:y.authenticatingWithTrello});const w=await p().callApi({eventName:"authWithTrello",environment:t,data:{requestToken:A,verifier:S}});"failed"===w.type?(a()._$(t,{import_source:"trello",data:{import_type:"api",status:"failure",error:w.error,userId:t.currentUser.id}}),console.error(w.error),r().Qg(w),g().V()):(a()._$(t,{import_source:"trello",data:{import_type:"api",status:"success",userId:t.currentUser.id}}),a().mu(t,{integration_name:"trello"}),await i.refresh(),d().A.setState({open:!0}),c().A.setState({...c().A.state,open:!0,currentTab:"imports",highlightedSetting:void 0,defaultSubtab:void 0}),await x(t,i),g().V())}async function x(e,t){u().A.setState({...u().A.state,isFetchingBoards:!0,showLoader:!0});const i=await p().callApi({eventName:"getTrelloBoards",environment:e,data:{}});return await t.refresh(),"success"===i.type?(u().A.setState({...u().A.state,boardsResponse:i.data,isFetchingBoards:!1,showLoader:!1}),i.data):(console.error(i.error),{boards:[]})}},442030:(e,t,i)=>{i.d(t,{_:()=>n});const n=(0,i(680369).xh)("notion",{default:{loader:()=>i.e(60858).then(i.bind(i,106804))},darkMode:{loader:()=>i.e(60858).then(i.bind(i,187130))}})},473852:(e,t,i)=>{i.d(t,{A:()=>l});var n=i(242343),o=()=>i(220413),a=()=>i(31448),r=()=>i(653147),s=i(163643);const l=function(e){const{children:t,isMobile:l,textSize:d,shouldUseDivider:c,style:u,styleKey:p}=e,{WindowSizeStore:m}=(0,i(237385).v3)(),[g,h,y]=(0,i(803290).K8)((()=>[m.getSafePaddingLeftCSS(10),m.getSafePaddingLeftCSS(14),m.getSafePaddingRightCSS(14)]),[m]),f=(0,n.useMemo)((()=>l?"small"!==d?a().J.UIRegular.mobile:a().J.UISmall.mobile:"small"!==d?a().J.UIRegular.desktop:a().J.UISmall.desktop),[l,d]),x=(0,n.useMemo)((()=>void 0===d?1.2:l?"small"!==d?a().K_.UIRegular.mobile:a().K_.UISmall.mobile:"small"!==d?a().K_.UIRegular.desktop:a().K_.UISmall.desktop),[l,d]),b=(0,i(174114).IS)((e=>({bannerStyle:{display:"flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",...!l&&{padding:"0px 12px"},...l&&{paddingLeft:h,paddingRight:y},fontSize:f,lineHeight:x,cursor:"default",...c?{minHeight:45,borderBottom:`1px solid ${o().Ay.halfWhite}`}:{minHeight:44}},[`colorStyle__${r().q.Red}`]:{color:o().Ay.white,background:o().Ay.red,...l&&{justifyContent:"flex-start"}},[`colorStyle__${r().q.Blue}`]:{color:o().Ay.white,fill:o().Ay.white,background:o().Ay.blue,...l&&{paddingLeft:g,paddingRight:14}},[`colorStyle__${r().q.Beige}`]:{background:e.beigeBannerBackground,paddingLeft:l?12:18,paddingRight:l?14:16},[`colorStyle__${r().q.White}`]:{background:e.contentBackground,color:e.text.tertiary,fill:e.lightIconColor,height:45,padding:0,borderTop:`1px solid ${e.regularDividerColor}`,boxShadow:`0 1px 0 ${e.regularDividerColor}`},[`colorStyle__${r().q.Purple}`]:{background:"#CA59FF",color:o().Ay.white,fill:o().Ay.white},[`colorStyle__${r().q.LightRed}`]:{background:e.accentColors.red[100],color:e.accentColors.red[500]},[`colorStyle__${r().q.Yellow}`]:{background:e.accentColors.yellow[100],color:e.accentColors.yellow[600]},[`colorStyle__${r().q.PageNotification}`]:{border:`0.5px solid ${e.regularDividerColor}`,borderRadius:12,boxShadow:"0px 8px 16px 0px rgba(0, 0, 0, 0.05)",padding:13,alignItems:"start",justifyContent:"flex-start"},[`colorStyle__${r().q.ImportNotification}`]:{color:e.accentColors.uiBlue[600],fill:e.lightIconColor,background:e.accentColors.blue[30],height:48},[`colorStyle__${r().q.LightBlue}`]:{color:o().Ay.blue,fill:o().Ay.blue,background:e.lightBlueBannerBackground},[`colorStyle__${r().q.LightGray}`]:{background:e.lightGrayBannerBackground},colorStyle__default:{color:e.text.contrastPrimary,background:e.tooltipBackground}})),[l,g,h,y,c,f,x]),v=p?`colorStyle__${p}`:"colorStyle__default";return(0,s.jsx)("div",{style:{...b.bannerStyle,...b[v],...u},children:t})}},474894:(e,t,i)=>{i.d(t,{z:()=>o});i(242343);var n=i(163643);const o=(0,i(680369).wt)("slackLogo",{viewBox:"0 0 16 16",svg:(0,n.jsxs)("g",{children:[(0,n.jsx)("path",{d:"M1.68078 11.7915C2.60586 11.7915 3.36156 11.0358 3.36156 10.1107V8.42993H1.68078C0.755701 8.42993 0 9.18563 0 10.1107C0 11.0358 0.755701 11.7915 1.68078 11.7915Z",fill:"#E01E5A"}),(0,n.jsx)("path",{d:"M5.88928 8.42993C4.9642 8.42993 4.2085 9.18563 4.2085 10.1107V14.3192C4.2085 15.2443 4.9642 16 5.88928 16C6.81436 16 7.57006 15.2443 7.57006 14.3192V10.1107C7.57006 9.18563 6.81436 8.42993 5.88928 8.42993Z",fill:"#E01E5A"}),(0,n.jsx)("path",{d:"M4.2085 1.68078C4.2085 2.60586 4.9642 3.36156 5.88928 3.36156H7.57006V1.68078C7.57006 0.755701 6.81436 0 5.88928 0C4.9642 0 4.2085 0.755701 4.2085 1.68078Z",fill:"#36C5F0"}),(0,n.jsx)("path",{d:"M7.57003 5.88928C7.57003 4.9642 6.81433 4.2085 5.88925 4.2085H1.68078C0.755701 4.2085 0 4.9642 0 5.88928C0 6.81436 0.755701 7.57006 1.68078 7.57006H5.88925C6.81433 7.57006 7.57003 6.81436 7.57003 5.88928Z",fill:"#36C5F0"}),(0,n.jsx)("path",{d:"M10.1107 7.57003C11.0358 7.57003 11.7915 6.81433 11.7915 5.88925V1.68078C11.7915 0.755701 11.0358 0 10.1107 0C9.18563 0 8.42993 0.755701 8.42993 1.68078V5.88925C8.42993 6.81433 9.18563 7.57003 10.1107 7.57003Z",fill:"#2EB67D"}),(0,n.jsx)("path",{d:"M14.3192 4.2085C13.3941 4.2085 12.6384 4.9642 12.6384 5.88928V7.57006H14.3192C15.2443 7.57006 16 6.81436 16 5.88928C16 4.9642 15.2443 4.2085 14.3192 4.2085Z",fill:"#2EB67D"}),(0,n.jsx)("path",{d:"M8.42993 10.1107C8.42993 11.0358 9.18563 11.7915 10.1107 11.7915H14.3192C15.2443 11.7915 16 11.0358 16 10.1107C16 9.18563 15.2443 8.42993 14.3192 8.42993H10.1107C9.18563 8.42993 8.42993 9.18563 8.42993 10.1107Z",fill:"#ECB22E"}),(0,n.jsx)("path",{d:"M11.7915 14.3192C11.7915 13.3941 11.0358 12.6384 10.1107 12.6384H8.42993V14.3192C8.42993 15.2443 9.18563 16 10.1107 16C11.0358 16 11.7915 15.2443 11.7915 14.3192Z",fill:"#ECB22E"})]})})},501578:(e,t,i)=>{i.d(t,{j:()=>c});var n=i(242343),o=()=>i(237385),a=()=>i(174114),r=()=>i(31448),s=()=>i(103151);var l=()=>i(907721),d=i(163643);function c(e){let{children:t,style:i,tooltipStyle:c,placement:u=l().W.Bottom}=e;const{isSafari:p}=(0,o().Y0)(),m=(0,n.useRef)(null),g=function(e){const[t,i]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{const{current:t}=e;if(!t)return void i(!1);const n="ResizeObserver"in window?new ResizeObserver((e=>{let[t]=e;i(t.target.scrollWidth>t.target.clientWidth)})):void 0;return null==n||n.observe(t),()=>null==n?void 0:n.unobserve(t)}),[]),t}(m),h=(0,a().IS)((()=>({overflowText:{...r().RC,...i}})),[i]);return(0,d.jsx)(s().A,{delayThreshold:500,placement:u,textWrap:!0,style:c,forceVisibleState:!(p||!g)&&void 0,renderTooltip:()=>g?t:void 0,render:e=>(0,d.jsx)("div",{ref:m,style:h.overflowText,...e,children:t})})}},547851:(e,t,i)=>{i.d(t,{C:()=>a});i(242343);var n=()=>i(653998),o=i(163643);function a(){return(0,o.jsx)(n().sA,{id:"organization.workspaceSettings.locked.tooltip",defaultMessage:"This setting is being managed by your organization."})}},573520:(e,t,i)=>{i.d(t,{h:()=>o});i(242343);var n=i(163643);const o=(0,i(680369).wt)("eye",{viewBox:"0 0 32 32",svg:(0,n.jsx)("path",{d:"M16.006 25.812c8.863 0 14.994-7.17 14.994-9.406C31 14.16 24.858 7 16.006 7 7.252 7 1 14.16 1 16.406c0 2.236 6.252 9.406 15.006 9.406zm0-3.242a6.194 6.194 0 01-6.197-6.164c-.012-3.452 2.744-6.164 6.197-6.164 3.419 0 6.185 2.711 6.185 6.164 0 3.364-2.766 6.164-6.185 6.164zm0-3.94c1.228 0 2.246-1.007 2.246-2.224 0-1.228-1.018-2.235-2.246-2.235-1.24 0-2.258 1.007-2.258 2.235 0 1.217 1.018 2.224 2.258 2.224z"})})},576957:(e,t,i)=>{i.d(t,{H:()=>r,l:()=>s});var n=()=>i(599932),o=()=>i(485966),a=()=>i(836331);function r(e,t){return t?48:e?32:18}function s(){var e;if(a().default.checkGate({gateName:"ks_dev_settings"}))return!1;const t=null===(e=o().default.state.currentUserStore)||void 0===e?void 0:e.getEmail();return"makenotion.com"===(0,n().zN)(t??"")}},602690:(e,t,i)=>{i.d(t,{hC:()=>c,kc:()=>d,vd:()=>u});i(403517);var n=i(242343),o=()=>i(174114),a=()=>i(76394),r=()=>i(194568),s=()=>i(206799),l=i(163643);const d={notion:i(442030)._,slack:r().GK.slack,google_drive:r().GK.google_drive,github:r().GK.github,gmail:r().GK.gmail,jira:r().GK.jira,microsoftTeams:r().GK.microsoftTeams,sharepoint:r().GK.sharepoint,linear:r().GK.linear};function c(e){const{connectors:t,maxBubbles:i,iconSize:a,bubbleStyles:r}=e,c=(0,n.useMemo)((()=>[...t.slice(0,i)].reverse()),[t,i]),u=Math.max(0,t.length-i),p=(0,o().IS)((e=>({bubbleWrapper:{display:"flex",alignItems:"center",flexDirection:"row-reverse",justifyContent:"flex-end"},bubble:{boxShadow:e.connectorBubbleShadow,borderRadius:"100%",width:20,height:20,backgroundColor:e.whiteButtonBackground,display:"flex",alignItems:"center",justifyContent:"center",marginLeft:-2,fontSize:9,color:e.text.tertiary,...r}})),[r]),m="dark"===(0,o().eP)(),g=(0,n.useCallback)((e=>"notion"===e?"default":m?"darkMode":"default"),[m]);return 0===t.length?null:(0,l.jsxs)("div",{style:p.bubbleWrapper,children:[u>0&&(0,l.jsx)("div",{style:p.bubble,children:(0,l.jsx)("div",{children:`+${u}`})}),c.map(((e,t)=>(0,l.jsx)("div",{style:p.bubble,children:(0,l.jsx)(s().Q,{iconGroup:d[e],overrideSize:()=>a,variantName:g(e)})},`${e}-${t}`)))]})}function u(e){return"notion"===e.type?"notion":"slack"===e.type?"slack":"google-drive"===e.type?"google_drive":"github"===e.type?"github":"gmail"===e.type?"gmail":"jira"===e.type?"jira":"sharepoint"===e.type?"sharepoint":"microsoftTeams"===e.type?"microsoftTeams":"linear"===e.type?"linear":"everything"===e.type||"universal-workspace"===e.type||"workspace"===e.type||"page"===e.type||"collection"===e.type||"teamspace"===e.type||"site"===e.type||"notion-none"===e.type||"ai-knowledge"===e.type||"helpdocs"===e.type||"web"===e.type||"universal-none"===e.type||"slackbot"===e.type||"labeler"===e.type?void 0:(0,a().HB)(e)}},623970:(e,t,i)=>{i.d(t,{A:()=>h});i(242343);var n=()=>i(237385),o=()=>i(803290),a=()=>i(174114),r=()=>i(744819),s=()=>i(653998),l=()=>i(220413),d=()=>i(31448),c=()=>i(303643),u=()=>i(485966),p=()=>i(874356),m=i(163643);const g={borderRadius:4,marginBottom:0};function h(e){const{onSpaceSwitch:t,disableAccountSwitcher:i,singleSpaceToSelect:h,useEmailAccount:y}=e,f=(0,s().tz)(),x=function(){const{isMobile:e}=(0,n().Y0)();return(0,a().IS)((()=>({container:{display:"flex",alignItems:"center",justifyContent:"space-between",height:60,paddingLeft:20,paddingRight:8,borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:l().Ay.contentBorder},notionLogo:{width:e?28:30,height:e?28:30,marginRight:10,flexShrink:0},notionTitle:{fontWeight:d().Wy.medium,fontSize:16},switcherButton:{borderRadius:4,marginBottom:0}})),[e])}(),{currentUserEmail:b,currentUserId:v}=(0,o().K8)((()=>{const{currentUserStore:e}=u().default.state;return{currentUserEmail:null==e?void 0:e.getEmail(),currentUserId:null==e?void 0:e.id}}),[]);return(0,m.jsxs)("div",{style:x.container,children:[(0,r().A)(x.notionLogo),(0,m.jsx)("div",{style:x.notionTitle,children:"Notion"}),(0,m.jsx)("div",{style:{flexGrow:1,flexShrink:1}}),(0,m.jsx)("div",{style:{flexShrink:0},children:y?b&&v?(0,m.jsx)(p().A,{prefix:f.formatMessage({id:"oauthAuthorizationTopBar.loggedInAs",defaultMessage:"Logged in as"}),emailAddress:b,userId:v,disabled:!0,accountActions:[]}):(0,m.jsx)(m.Fragment,{}):(0,m.jsx)(c().Ay,{format:c().z_.Regular,onSpaceClick:e=>{let{spaceViewStore:i}=e;return t(i)},shouldShowUnexpandButton:!1,shouldShowCreatePageButton:!1,disableLoginLink:!0,buttonStyle:g,disabled:i,singleSpaceToSelect:h})})]})}},629457:(e,t,i)=>{i.d(t,{A:()=>o});i(242343);var n=i(163643);const o=function(e){const{divider:t,large:o,block:a,children:r,hasMarginTop:s,small:l,style:d,smallMarginBottom:c,isCritical:u,fontSize:p,fontWeight:m}=e,g=(0,i(174114).DP)(),h="full"===t;return(0,i(640979).Tf)()?(0,n.jsx)(i(701270).D,{styleName:"iOS/Title-3/Semibold",colorName:e.isCritical?"uiRedPrimary":"primary",style:{marginTop:s?16:0,paddingBottom:h?12:0},children:r}):(0,n.jsx)("div",{style:{borderBottom:h?`1px solid ${g.regularDividerColor}`:0,marginBottom:h?16:c?2:8,marginTop:s?16:0,paddingBottom:h?12:0,fontSize:p??h?16:o?14:l?12:14,fontWeight:m??h?i(31448).Wy.medium:400,width:a?"100%":"auto",color:u?i(220413).Ay.red:g.text.primary,...d},children:r})}},661584:(e,t,i)=>{i.d(t,{A:()=>o});class n extends(()=>i(129044))().default{getInitialState(){return{notebooksResponse:{notebooks:[]},isFetchingNotebooks:!0,showLoader:!1,linkingAccount:!1}}}const o=new n},678523:(e,t,i)=>{i.d(t,{A:()=>s});i(242343);var n=()=>i(237385),o=()=>i(174114),a=()=>i(126451),r=i(163643);function s(e){const t=(0,n().Y0)(),i=(0,o().IS)((e=>({sharedStyle:{display:"flex",alignItems:"center",borderRadius:4},innerStyle:{padding:"2px 6px",borderRadius:4,color:e.text.secondary,background:e.defaultBadgeBackground,fontSize:t.isMobile?11:9,lineHeight:t.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em",whiteSpace:"nowrap"}})),[t.isAndroid,t.isMobile]);return t.isMobile?(0,r.jsx)(a().A,{style:{...i.sharedStyle,...e.mobileStyle},disabled:void 0===e.onClick,children:(0,r.jsx)("div",{style:{...i.innerStyle,...e.innerStyle},children:e.children})}):(0,r.jsx)(a().A,{style:{...i.sharedStyle,...e.desktopStyle},disabled:void 0===e.onClick,...e,children:(0,r.jsx)("div",{style:{...i.innerStyle,...e.innerStyle},children:e.children})})}},689421:(e,t,i)=>{i.d(t,{Q:()=>o});i(242343);var n=i(163643);const o=(0,i(680369).wt)("settingsMembersFilled",{viewBox:"0 0 20 13",svg:(0,n.jsx)("path",{d:"M13.582 6.00293C15.0723 6.00293 16.3369 4.67676 16.3369 2.96094C16.3369 1.28613 15.0654 0.0078125 13.582 0.0078125C12.0986 0.0078125 10.8203 1.30664 10.8271 2.97461C10.8271 4.67676 12.0918 6.00293 13.582 6.00293ZM5.67969 6.16016C6.97852 6.16016 8.0791 4.99805 8.0791 3.50781C8.0791 2.04492 6.97168 0.9375 5.67969 0.9375C4.3877 0.9375 3.27344 2.06543 3.28027 3.52148C3.28027 4.99805 4.38086 6.16016 5.67969 6.16016ZM1.91309 12.3604H7.0332C6.30859 11.3145 7.1084 9.25 8.64648 8.04688C7.89453 7.55469 6.91016 7.19922 5.67969 7.19922C2.62402 7.19922 0.648438 9.44824 0.648438 11.3076C0.648438 11.9775 0.990234 12.3604 1.91309 12.3604ZM9.31641 12.3604H17.8408C18.9619 12.3604 19.3516 12.0186 19.3516 11.3965C19.3516 9.63281 17.123 7.21289 13.5752 7.21289C10.0342 7.21289 7.80566 9.63281 7.80566 11.3965C7.80566 12.0186 8.19531 12.3604 9.31641 12.3604Z"})})},738674:(e,t,i)=>{i.d(t,{J:()=>x,p:()=>b});var n=()=>i(545250),o=()=>i(809811),a=()=>i(505381),r=()=>i(145046),s=()=>i(927685),l=()=>i(142548),d=()=>i(661584),c=()=>i(61096),u=()=>i(242333),p=()=>i(330358),m=()=>i(818369),g=()=>i(437071),h=()=>i(70989),y=()=>i(961987);const f=(0,i(653998).YK)({authenticatingWithEvernote:{id:"evernoteActions.authenticatingWithEvernote.loadingMessage",defaultMessage:"Authenticating with Evernote…"},titleMessage:{defaultMessage:"Evernote login",id:"evernoteActions.loginPopupModal.title"}});async function x(e){const{environment:t,requestStore:i}=e,x=(0,l().LX)(t);let v=(0,n().TD)(s().A.domainBaseUrl,{authType:x,userId:t.currentUser.id,isElectronDevice:t.device.isElectron});if(v=x.redirectToAuth?v:await(0,l().YN)(t,v),t.device.isElectron)return h().m({message:f.authenticatingWithEvernote}),d().A.setState({...d().A.state,linkingAccount:!0,showLoader:!0}),void g().openExternalUrl(v);const A=await y().P(t,{width:580,height:700,url:v,titleMessage:f.titleMessage});if(!A)return;const S=o().qg(A),w=S.query.oauth_token,C=S.query.oauth_verifier;if(!w||!C)return;h().m({message:f.authenticatingWithEvernote});const j=await m().callApi({eventName:"authWithEvernote",environment:t,data:{requestToken:w,verifier:C}}),I=u().A.getOrCreateFlowId();if("failed"===j.type)return a()._$(t,{import_source:"evernote",data:{import_type:"api",status:"failure",error:j.error,userId:t.currentUser.id},flowId:I}),console.error(j.error),r().Qg(j),void h().V();a()._$(t,{import_source:"evernote",data:{import_type:"api",status:"success",userId:t.currentUser.id},flowId:I}),a().mu(t,{integration_name:"evernote"}),await i.refresh(),c().A.setState({open:!0}),p().A.setState({...p().A.state,open:!0,currentTab:"imports",highlightedSetting:void 0,defaultSubtab:void 0}),await b({environment:t,requestStore:i}),h().V()}async function b(e){const{environment:t,requestStore:i}=e;try{d().A.setState({...d().A.state,isFetchingNotebooks:!0,showLoader:!0});const e=await m().callApi({eventName:"getEvernoteNotebooks",environment:t,data:{}});if(await i.refresh(),"success"===e.type){d().A.setState({...d().A.state,notebooksResponse:e.data,isFetchingNotebooks:!1,showLoader:!1});const{userInfo:t,notebooks:i}=e.data;return{userInfo:t,notebooks:i}}return console.error(e.error),{notebooks:[],userInfo:void 0}}catch(n){return console.error(n),{notebooks:[],userInfo:void 0}}}},761800:(e,t,i)=>{i.d(t,{M:()=>o,W:()=>n});const n={height:28,paddingLeft:8,paddingRight:8,paddingTop:4,paddingBottom:4,fontWeight:i(31448).Wy.medium},o={opacity:.4}},793613:(e,t,i)=>{i.d(t,{E:()=>g});i(242343);var n=()=>i(803290),o=()=>i(174114),a=()=>i(653998),r=()=>i(622286),s=()=>i(485966),l=()=>i(695951),d=i(163643);const c={define_variables_automation_action:{launchDateMs:17277408e5,expiryDateMs:1738368e6},passkey_setting:{launchDateMs:1729101727e3,expiryDateMs:1738432882e3},http_request_automation_action:{launchDateMs:173324302e4,expiryDateMs:1738368e6},publish_site_settings_embed_page:{launchDateMs:1736208e6,expiryDateMs:1743984e6},generalized_recurrence_automations:{launchDateMs:17365536e5,expiryDateMs:17460576e5},ai_page_translation_topbar_more_action:{launchDateMs:1740451280830,expiryDateMs:17434656e5},verification:{launchDateMs:1740096e6,expiryDateMs:174375e7},notion_ai_workspace_settings:{launchDateMs:17424288e5,expiryDateMs:17550432e5},notion_mail_launch_modal:{launchDateMs:17446752e5,expiryDateMs:17525376e5},notion_mail_launch_modal_2:{launchDateMs:17446752e5,expiryDateMs:17578944e5},ui_doc_example:{launchDateMs:19249056e5,expiryDateMs:19249056e5},show_integration_webhooks_callout:{launchDateMs:17428608e5,expiryDateMs:17506368e5},collection_property_permissions:{launchDateMs:17433792e5,expiryDateMs:17671392e5},salesforce_sync_unfurling_option:{launchDateMs:17443296e5,expiryDateMs:17538336e5}};function u(e){let{style:t}=e;const i=(0,o().IS)((e=>({badge:{letterSpacing:0,whiteSpace:"nowrap",width:"fit-content",...t}})),[t]);return(0,d.jsx)(l().A,{color:"blue",style:i.badge,content:(0,d.jsx)(a().sA,{id:"newBadgeComponent.label",defaultMessage:"New"})})}function p(e){let{style:t,newBadgeKey:i}=e;const{launchDateMs:o,expiryDateMs:a}=c[i];return(0,n().K8)((()=>{const{currentUserSettingsStore:e}=s().default.state;if(e&&e.isReady()){var t;const i=null===(t=e.getSettings())||void 0===t?void 0:t.signup_time;if(i&&i>o)return!1}return Date.now()<=a}),[a,o])?(0,d.jsx)(u,{style:t}):null}function m(e){let{style:t,newBadgeKey:i}=e;return(0,r().X)(i)?(0,d.jsx)(u,{style:t}):null}function g(e){return e.didUserEngage?null:"feature_gate"===e.keyType?(0,d.jsx)(m,{...e}):(0,d.jsx)(p,{...e})}},827086:(e,t,i)=>{i.r(t),i.d(t,{iconDefinition:()=>n,xMarkIcon:()=>o});i(242343);const n={viewBox:"0 0 20 20",svg:(0,i(163643).jsx)("path",{d:"M15.692 5.192a.625.625 0 1 0-.884-.884L10 9.116 5.192 4.308a.625.625 0 1 0-.884.884L9.116 10l-4.808 4.808a.625.625 0 1 0 .884.884L10 10.884l4.808 4.808a.625.625 0 1 0 .884-.884L10.884 10z"})},o=(0,i(680369).wt)("xMark",n)},842940:(e,t,i)=>{i.d(t,{J:()=>o});i(242343);const n={viewBox:"0 0 20 20",svg:(0,i(163643).jsx)("path",{d:"M8.875 2.625a6.25 6.25 0 1 0 3.955 11.09l3.983 3.982a.625.625 0 1 0 .884-.884l-3.983-3.982a6.25 6.25 0 0 0-4.84-10.205m-5 6.25a5 5 0 1 1 10 0 5 5 0 0 1-10 0"})},o=(0,i(680369).wt)("magnifyingGlass",n)},874356:(e,t,i)=>{i.d(t,{A:()=>s});i(242343);var n=()=>i(31448),o=()=>i(640979),a=()=>i(273520),r=i(163643);const s=function(e){let{emailAddress:t,disabled:s,accountActions:l,prefix:d}=e;const c=(0,i(237385).v3)(),{device:u}=c,p=(0,i(803290).uB)(void 0,i(962373).A);let m;m=u.isMobile?{menuType:o().gu.ActionSheet}:{menuType:o().gu.Popup};const g=(0,i(174114).IS)((e=>({container:{height:u.isMobile?24:20,marginTop:d?1:u.isMobile?20:8,marginLeft:12,marginRight:12,display:"flex",alignItems:"center",justifyContent:"space-between",color:e.text.secondary,transition:"opacity 150ms ease"},text:{fontSize:(0,i(622163).ny)(c,"UISmall"),lineHeight:n().K_.UISmall.desktop,fontWeight:n().Wy.medium,marginRight:6},button:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:u.isMobile?24:20,height:u.isMobile?24:20,borderRadius:4},buttonIcon:{width:u.isMobile?18:12,height:u.isMobile?18:12},prefix:{textAlign:"right",height:u.isMobile?16:18,marginTop:u.isMobile?8:4,marginLeft:12,marginRight:18,color:e.text.secondary,transition:"opacity 150ms ease"}})),[u.isMobile,c,d]);return(0,r.jsxs)(r.Fragment,{children:[d&&(0,r.jsx)("div",{style:g.prefix,children:d}),(0,r.jsxs)("div",{style:g.container,children:[(0,r.jsx)(i(501578).j,{style:g.text,children:t}),(0,r.jsx)(a().Ay,{popupType:u.isMobile?a().z7.SlideUp:a().z7.Popup,buttonPopupStore:p,renderOrigin:e=>{if(!s)return(0,r.jsx)(i(126451).A,{...e,style:g.button,children:(0,i(711361)._)(g.buttonIcon)})},render:()=>(0,r.jsx)(i(935091).A,{...m,children:(0,r.jsx)(i(518397).A,{sections:[{key:"option section",render:e=>(0,r.jsx)(i(88271).A,{...e}),actions:l}],context:{environment:c,blocks:[],publicEditMode:void 0}})})})]})]})}},905053:(e,t,i)=>{i.d(t,{HC:()=>d,Pz:()=>u,_s:()=>s,ml:()=>p,rA:()=>c,x_:()=>l});var n=()=>i(505381),o=()=>i(963768),a=()=>i(818369),r=()=>i(129243);async function s(e,t){const i=await a().callApi({eventName:"getConnectedAppsStatus",environment:e,data:{spaceId:t}});if("failed"===i.type){const e=i.error;return console.error(e),{drive:[],evernote:void 0,trello:void 0,asana:void 0,confluence:void 0}}return i.data}async function l(e,t){await a().callApi({eventName:"disconnectTrello",environment:e,data:{}}),await t.refresh(),n().kO(e,{integration_name:"trello"})}async function d(e,t){await a().callApi({eventName:"disconnectAsana",environment:e,data:{}}),await t.refresh(),n().kO(e,{integration_name:"asana"})}async function c(e,t){await a().callApi({eventName:"disconnectEvernote",environment:e,data:{}}),await t.refresh(),n().kO(e,{integration_name:"evernote"})}async function u(e,t,i){await a().callApi({eventName:"disconnectConfluence",environment:e,data:{spaceId:i}}),await t.refresh(),n().kO(e,{integration_name:"confluence"})}async function p(e){const{environment:t,requestStore:i,botId:a}=e;await r().KA({environment:t,botId:a,onSuccess:()=>{!async function(e){const{environment:t,requestStore:i}=e;await i.refresh();const a=o().Ay.getInitialState();o().Ay.setState(a),n().kO(t,{integration_name:"jira"})}({environment:t,requestStore:i})}})}},908589:(e,t,i)=>{i.d(t,{o:()=>a});var n=()=>i(548694),o=()=>i(836331);function a(e){return!!e&&Boolean((0,n().IL)(e)&&"external_pages_sidebar"===o().default.getEligibleGroup({experimentId:"sharing_collaboration_sidebar_guest_aggregation"}))}},959588:(e,t,i)=>{i.d(t,{N:()=>o});i(242343);var n=i(163643);const o=(0,i(680369).wt)("topbarComment",{viewBox:"0 0 20 20",svg:(0,n.jsx)("path",{d:"M5.9375 18.4844C6.38281 18.4844 6.71094 18.2656 7.25 17.7891L9.92969 15.4297H14.6328C16.9844 15.4297 18.3047 14.0703 18.3047 11.75V5.67969C18.3047 3.35938 16.9844 2 14.6328 2H4.67188C2.32812 2 1 3.35938 1 5.67969V11.75C1 14.0781 2.36719 15.4297 4.61719 15.4297H4.9375V17.3438C4.9375 18.0391 5.30469 18.4844 5.9375 18.4844ZM6.32812 16.7344V14.5078C6.32812 14.0469 6.125 13.8672 5.6875 13.8672H4.72656C3.25781 13.8672 2.55469 13.125 2.55469 11.7031V5.72656C2.55469 4.30469 3.25781 3.5625 4.72656 3.5625H14.5859C16.0469 3.5625 16.75 4.30469 16.75 5.72656V11.7031C16.75 13.125 16.0469 13.8672 14.5859 13.8672H9.84375C9.36719 13.8672 9.13281 13.9453 8.80469 14.2891L6.32812 16.7344Z"})})},964322:(e,t,i)=>{i.r(t),i.d(t,{default:()=>Ue});i(725707),i(491955),i(771702),i(403517);var n=i(242343),o=()=>i(237385),a=()=>i(803290),r=()=>i(174114),s=()=>i(890191),l=()=>i(129044),d=()=>i(466003),c=()=>i(162901),u=()=>i(661293),p=()=>i(518797),m=()=>i(188658),g=()=>i(409211),h=()=>i(514138),y=()=>i(405297),f=()=>i(220413),x=()=>i(3311),b=()=>i(76394),v=()=>i(31448),A=()=>i(809811),S=()=>i(129243),w=()=>i(110975),C=()=>i(783759),j=()=>i(142548),I=()=>i(548694),k=()=>i(976663),T=()=>i(485966),M=()=>i(413871),P=()=>i(473096),_=()=>i(222324),N=()=>i(994529),B=()=>i(653998),U=()=>i(514857),z=()=>i(286404),R=()=>i(951540),L=()=>i(611824),W=i(163643);function O(e){const{integrationValue:t,oauthParams:i}=e,n=(0,o().v3)(),{oauthErrorType:a,title:s,body:l,primaryAction:d}=function(e){const t=(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.error.genericError.title",defaultMessage:"Something went wrong"});if("invalidClientId"===e.type)return{oauthErrorType:N().l.invalid_request,title:t,body:(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.error.invalidClientId.body",defaultMessage:"Missing or incomplete Client ID. See <inlinetextlink>developer docs</inlinetextlink> for more help.",values:{inlinetextlink:e=>(0,W.jsx)(L().A,{href:"https://developers.notion.com/#handling-errors",children:e})}})};if("clientNotFound"===e.type)return{oauthErrorType:N().l.invalid_request,title:t,body:(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.error.clientNotFound.body",defaultMessage:"Missing or incomplete Client ID. See <inlinetextlink>developer docs</inlinetextlink> for more help.",values:{inlinetextlink:e=>(0,W.jsx)(L().A,{href:"https://developers.notion.com/#handling-errors",children:e})}})};if("invalidResponseType"===e.type)return{oauthErrorType:N().l.invalid_request,title:t,body:(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.error.invalidResponseType",defaultMessage:"Missing or invalid response_type. See <inlinetextlink>developer docs</inlinetextlink> for more help.",values:{inlinetextlink:e=>(0,W.jsx)(L().A,{href:"https://developers.notion.com/#handling-errors",children:e})}})};if("integrationAlreadyInstalled"===e.type)return{oauthErrorType:N().l.access_denied,title:(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.error.integrationAlreadyInstalled.title",defaultMessage:"This integration has already been added to {workspaceName}",values:{workspaceName:e.spaceName}}),body:(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.error.integrationAlreadyInstalled.body",defaultMessage:"You can review and remove added integrations in Settings."}),primaryAction:{onClick:e.primaryAction,title:(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.error.integrationAlreadyInstalled.openWorkspaceSettingsButton.label",defaultMessage:"Open Settings"})}};if("notAnAdmin"===e.type)return{oauthErrorType:N().l.access_denied,title:(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.error.notAnAdmin.title",defaultMessage:"As a guest, you can't install this integration to {workspaceName}.",values:{workspaceName:e.spaceName}}),body:(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.error.notAnAdmin.body",defaultMessage:"You can ask a workspace owner to install the integration, or ask to be upgraded as a member."}),primaryAction:{onClick:e.primaryAction,title:(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.error.notAnAdmin.switchWorkspaceButton.label",defaultMessage:"Switch workspace"})}};if("integrationNotApproved"===e.type)return{oauthErrorType:N().l.access_denied,title:(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.error.integrationNotApproved.title",defaultMessage:"As a member, you can't install this integration to {workspaceName}",values:{workspaceName:e.spaceName}}),body:(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.error.integrationNotApproved.body",defaultMessage:"You can ask a workspace owner to install the integration for you."}),primaryAction:{onClick:e.primaryAction,title:(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.error.notAnAdmin.switchWorkspaceButton.label",defaultMessage:"Switch workspace"})}};if("invalidRedirectUri"===e.type)return{oauthErrorType:N().l.invalid_request,title:t,body:(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.error.invalidRedirectUri.body",defaultMessage:"Missing or invalid redirect_uri. See <inlinetextlink>developer docs</inlinetextlink> for more help.",values:{inlinetextlink:e=>(0,W.jsx)(L().A,{href:"https://developers.notion.com/#handling-errors",children:e})}})};(0,b().HB)(e.type)}(e),c=function(){const{isMobile:e}=(0,o().Y0)(),t=e?25:48,i=e?18:20;return(0,r().IS)((()=>({container:{textAlign:"center",flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},icon:{fill:f().Ay.red,width:t,height:t,marginBottom:20,display:"inline-block"},title:{fontSize:i,margin:"0 50px 32px",textAlign:"center",fontWeight:v().Wy.medium,marginBottom:12},body:{marginTop:0,marginBottom:24,width:"80%"}})),[t,i])}();return(0,W.jsxs)("section",{style:c.container,children:[(0,_().f)(c.icon),(0,W.jsx)("header",{style:c.title,children:s}),(0,W.jsx)("p",{style:c.body,children:l}),d&&(0,W.jsx)("div",{style:c.body,children:(0,W.jsx)(R().A,{size:"lg",onClick:d.onClick,children:d.title})}),(0,W.jsx)(z().A,{size:"lg",onClick:()=>{U().D({environment:n,integration:t,errorType:a,params:i})},children:(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.error.cancelButton.label",defaultMessage:"Cancel"})})]})}var D=()=>i(712437),V=()=>i(769884),H=()=>i(486540),E=()=>i(23371),F=()=>i(505381),q=()=>i(145046),K=()=>i(423392),$=()=>i(70989),G=()=>i(191756),Z=()=>i(865226),Y=()=>i(246151),J=()=>i(477784),Q=()=>i(773082),X=()=>i(28210),ee=()=>i(680369);const te=(0,ee().wt)("pageAdd",{viewBox:"0 0 16 17",svg:(0,W.jsx)("path",{d:"M4.135 8.707c2.46 0 4.491 2.023 4.491 4.484 0 .828-.232 1.607-.636 2.277h5.647c1.463 0 2.221-.773 2.221-2.242V7.107h-5.113c-.854 0-1.265-.417-1.265-1.271V.668H6.356c-1.462 0-2.221.772-2.221 2.242v5.797zm6.733-2.598h4.915c-.04-.307-.266-.601-.615-.963l-3.74-3.794c-.334-.342-.642-.575-.956-.616V5.72c0 .26.136.39.396.39zM4.135 16.712c1.914 0 3.52-1.593 3.52-3.52 0-1.928-1.593-3.514-3.52-3.514-1.928 0-3.52 1.592-3.52 3.513a3.537 3.537 0 003.52 3.52zm0-1.285a.441.441 0 01-.465-.465v-1.299h-1.3a.441.441 0 01-.465-.465c0-.287.192-.471.465-.471h1.3v-1.292c0-.274.184-.465.465-.465.28 0 .465.184.465.465v1.292h1.298c.28 0 .465.184.465.471 0 .28-.184.465-.465.465H4.6v1.299a.441.441 0 01-.465.465z"})});var ie=()=>i(244180),ne=()=>i(352723),oe=()=>i(613160);function ae(e){const{integrationValue:t,validIntegrationTemplateId:i,botAccessOption:o,setBotAccessOption:a}=e,[{value:s}]=(0,c().Yb)((async()=>!!i&&await(0,ne().zQ)(i)),[i]);n.useEffect((()=>{a(s?"duplicate_template":"pick_pages")}),[s,a]);const l=(0,r().IS)((()=>({container:{display:"grid",gridTemplateRows:"1fr 1fr",gap:8,marginTop:8},icon:{fill:f().Ay.red,width:20,height:20,marginRight:12},errorContainer:{display:"flex",alignItems:"center"}})),[]);return(0,W.jsxs)("div",{style:l.container,children:[(0,W.jsx)(re,{disabled:!s,title:(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.botAccessOption.useTemplate.title",defaultMessage:"Use a template provided by the developer"}),subtitle:s?(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.botAccessOption.useTemplate.subtitle",defaultMessage:"{integrationName} will duplicate this template into the Private pages of your workspace. The integration will then be able to {capabilities} content in this new page.",values:{capabilities:(0,W.jsx)(B().dT,{value:(0,oe().s)(t.capabilities),type:"conjunction"}),integrationName:t.name}}):(0,W.jsx)("div",{style:l.errorContainer,children:(0,W.jsx)("div",{children:(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.error.invalidTemplate.body",defaultMessage:"The page template is no longer public. <inlinetextlink>Contact the developer</inlinetextlink> for more help.",values:{inlinetextlink:e=>(0,W.jsx)(L().A,{href:`mailto:${t.info.email}`,children:e})}})})}),icon:te,isSelected:"duplicate_template"===o,selectOption:()=>a("duplicate_template")}),(0,W.jsx)(re,{title:(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.botAccessOption.pickPages.title",defaultMessage:"Select pages to share with {integrationName}",values:{integrationName:t.name}}),subtitle:(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.botAccessOption.pickPages.subtitle",defaultMessage:"Select one or multiple pages to share with {integrationName}",values:{integrationName:t.name}}),icon:ie().b,isSelected:"pick_pages"===o,selectOption:()=>a("pick_pages")})]})}function re(e){const{title:t,subtitle:i,icon:n,isSelected:o,selectOption:a,disabled:s}=e,l=(0,r().IS)((e=>({button:{height:"none",padding:12,width:"100%",borderWidth:1,borderColor:e.outlineButtonBorder,borderRadius:4,cursor:s?"not-allowed":void 0},buttonSelected:{background:"white",borderWidth:2,borderColor:f().Ay.blue,padding:11,boxShadow:"0px 4px 8px rgba(66, 129, 219, 0.09), 0px 0px 2px rgba(0, 0, 0, 0.06), 0px 0px 1px rgba(0, 0, 0, 0.04)"},option:{width:"100%",whiteSpace:"normal",display:"grid",gridTemplateColumns:"min-content auto min-content",padding:6},text:{overflowWrap:"normal"},title:{fontSize:14,fontWeight:v().Wy.medium,color:f().Ay.frontTextMedium,marginBottom:6},subtitle:{fontSize:12,lineHeight:"140%",color:e.text.secondary},icon:{width:14,height:14,color:f().Ay.regularIconColor,marginRight:12}})),[s]);return(0,W.jsx)(z().A,{size:"lg",onClick:a,style:l.button,hovered:o,hoveredStyle:l.buttonSelected,pressedStyle:l.buttonSelected,disabled:s,children:(0,W.jsxs)("div",{style:l.option,children:[n(l.icon),(0,W.jsxs)("div",{style:l.text,children:[(0,W.jsx)("div",{style:l.title,children:t}),(0,W.jsx)("div",{style:l.subtitle,children:i})]})]})})}var se=()=>i(858270),le=()=>i(824646);function de(e){const{integrationValue:t,selectedBlockIdsStore:i}=e,n=(0,se().v_)(t),o=(0,r().IS)((e=>({subtitle:{fontSize:14,textAlign:"center",fontWeight:v().Wy.medium,marginBottom:16},linkPreviewSubtitle:{fontSize:14,textAlign:"left",marginBottom:16,color:e.text.tertiary}})),[]);return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)("div",{style:o.subtitle,children:(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.selectPagesStep.title",defaultMessage:'Allow "{integrationName}" to access these pages',values:{integrationName:t.name}})}),(0,W.jsx)("div",{style:o.linkPreviewSubtitle,children:n&&(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.selectPagesStep.linkPreviewSubtitle",defaultMessage:"Your selections here will not impact this integration's ability to unfurl links across your workspace"})}),(0,W.jsx)(le().A,{selectedBlockIdsStore:i})]})}i(610931);var ce=()=>i(938341),ue=()=>i(573520);const pe=(0,ee().wt)("notificationUnread",{viewBox:"0 0 20 20",svg:(0,W.jsx)("path",{d:"M3.622 12.683v-5.25c0-.62.05-1.172.15-1.655.105-.483.333-.9.684-1.25.351-.352.768-.58 1.251-.684a7.906 7.906 0 0 1 1.654-.157h4.69a2.893 2.893 0 0 0-.185 1.086 1.325 1.325 0 0 0-.007.13l.014.13H7.204c-.36 0-.697.032-1.012.096-.314.064-.567.189-.758.376a1.514 1.514 0 0 0-.376.759c-.06.31-.09.645-.09 1.005v5.605c0 .355.03.688.09.998.063.305.189.554.376.745.191.187.442.315.752.383.314.064.649.096 1.004.096h5.62c.35 0 .68-.032.99-.096.315-.064.566-.191.753-.383.191-.191.319-.44.382-.745.064-.31.096-.643.096-.998V8.191l.123.014c.046 0 .091-.002.137-.007.191.01.378-.002.56-.034.183-.036.356-.087.52-.15v4.669c0 .629-.052 1.184-.157 1.668-.1.483-.324.9-.67 1.25-.356.351-.777.58-1.265.684a7.944 7.944 0 0 1-1.66.157H7.374c-.624 0-1.18-.052-1.668-.157a2.478 2.478 0 0 1-1.25-.683 2.411 2.411 0 0 1-.685-1.251c-.1-.484-.15-1.04-.15-1.668Zm11.56-5.408a2.26 2.26 0 0 1-1.19-.32 2.455 2.455 0 0 1-.854-.862 2.27 2.27 0 0 1-.322-1.183c0-.433.107-.827.322-1.182.214-.36.499-.648.854-.862a2.26 2.26 0 0 1 1.19-.321c.423 0 .813.107 1.169.321.36.214.647.502.86.862.215.355.322.75.322 1.182 0 .429-.107.823-.321 1.183-.214.36-.501.647-.861.861a2.223 2.223 0 0 1-1.17.321Z"})}),me=(0,ee().wt)("scribble",{viewBox:"0 0 16 15",svg:(0,W.jsx)("path",{d:"M1.048 9.972c.424.41 1.237.505 1.866-.069.226-.198.67-.67 1.367-1.374 3.418-3.459 5.524-5.64 5.9-5.298.3.274-.862 1.921-2.024 3.535-2.126 2.946-3.917 5.1-2.57 6.446 1.053 1.053 2.652.096 5.216-2.153 1.374-1.21 2.33-2.106 2.57-1.873.15.15-.212.745-.677 1.544-.656 1.135-1.531 2.42-.676 3.275.594.595 1.729.335 3.048-.97.274-.267.335-.589.103-.814-.212-.212-.513-.178-.738.027-.855.82-1.49 1.176-1.593 1.06-.13-.123.232-.773.861-1.894.868-1.552 1.401-2.59.602-3.37-1.074-1.04-2.331.061-4.512 1.982-1.853 1.627-2.611 2.051-2.782 1.867-.246-.26.437-1.183 2.46-4.013 2.188-3.049 3.487-5.031 2.257-6.234-1.607-1.566-3.767-.41-9.12 4.887-.779.766-1.264 1.23-1.503 1.518-.623.718-.486 1.51-.055 1.92z"})});var ge=()=>i(689421),he=()=>i(959588);const ye=(0,ee().wt)("topbarCommentFilled",{viewBox:"0 0 20 20",svg:(0,W.jsx)("path",{d:"M6.27344 19.0703C5.96094 19.0703 5.71615 18.9688 5.53906 18.7656C5.36719 18.5625 5.28125 18.2865 5.28125 17.9375V16.0156H4.85938C4.10417 16.0156 3.45573 15.8698 2.91406 15.5781C2.3776 15.2865 1.96354 14.8698 1.67188 14.3281C1.38542 13.7812 1.24219 13.1198 1.24219 12.3438V6.28125C1.24219 5.50521 1.38542 4.84635 1.67188 4.30469C1.95833 3.75781 2.3724 3.33854 2.91406 3.04688C3.46094 2.75521 4.1276 2.60938 4.91406 2.60938H15.0781C15.8594 2.60938 16.5234 2.75521 17.0703 3.04688C17.6172 3.33854 18.0339 3.75781 18.3203 4.30469C18.6068 4.84635 18.75 5.50521 18.75 6.28125V12.3438C18.75 13.1198 18.6068 13.7812 18.3203 14.3281C18.0339 14.8698 17.6172 15.2865 17.0703 15.5781C16.5234 15.8698 15.8594 16.0156 15.0781 16.0156H10.25L7.57812 18.3828C7.3125 18.6172 7.08333 18.7891 6.89062 18.8984C6.69792 19.013 6.49219 19.0703 6.27344 19.0703ZM6.65625 17.3438L9.13281 14.8906C9.29948 14.724 9.45312 14.6146 9.59375 14.5625C9.73958 14.5052 9.93229 14.4766 10.1719 14.4766H15.0312C15.7708 14.4766 16.3177 14.2943 16.6719 13.9297C17.0312 13.5599 17.2109 13.013 17.2109 12.2891V6.32812C17.2109 5.60938 17.0312 5.06771 16.6719 4.70312C16.3177 4.33333 15.7708 4.14844 15.0312 4.14844H4.95312C4.21875 4.14844 3.67188 4.33333 3.3125 4.70312C2.95833 5.06771 2.78125 5.60938 2.78125 6.32812V12.2891C2.78125 13.013 2.95833 13.5599 3.3125 13.9297C3.67188 14.2943 4.21875 14.4766 4.95312 14.4766H6.02344C6.24219 14.4766 6.40104 14.526 6.5 14.625C6.60417 14.7188 6.65625 14.8828 6.65625 15.1172V17.3438ZM6.02344 7.25781C5.88802 7.25781 5.77344 7.21094 5.67969 7.11719C5.58594 7.01823 5.53906 6.90104 5.53906 6.76562C5.53906 6.63542 5.58333 6.52344 5.67188 6.42969C5.76562 6.33594 5.88281 6.28906 6.02344 6.28906H13.8828C14.0234 6.28906 14.1406 6.33594 14.2344 6.42969C14.3281 6.52344 14.375 6.63542 14.375 6.76562C14.375 6.90104 14.3281 7.01823 14.2344 7.11719C14.1406 7.21094 14.0234 7.25781 13.8828 7.25781H6.02344ZM6.02344 9.74219C5.88802 9.74219 5.77344 9.69531 5.67969 9.60156C5.58594 9.50781 5.53906 9.39062 5.53906 9.25C5.53906 9.125 5.58333 9.01302 5.67188 8.91406C5.76562 8.8151 5.88281 8.76562 6.02344 8.76562H13.8828C14.0234 8.76562 14.1406 8.8151 14.2344 8.91406C14.3281 9.01302 14.375 9.125 14.375 9.25C14.375 9.39062 14.3281 9.50781 14.2344 9.60156C14.1406 9.69531 14.0234 9.74219 13.8828 9.74219H6.02344ZM6.02344 12.2344C5.88802 12.2344 5.77344 12.1875 5.67969 12.0938C5.58594 12 5.53906 11.8854 5.53906 11.75C5.53906 11.6146 5.58333 11.5 5.67188 11.4062C5.76562 11.3073 5.88281 11.2578 6.02344 11.2578H11.1406C11.276 11.2578 11.3906 11.3073 11.4844 11.4062C11.5833 11.5 11.6328 11.6146 11.6328 11.75C11.6328 11.8854 11.5833 12 11.4844 12.0938C11.3906 12.1875 11.276 12.2344 11.1406 12.2344H6.02344Z"})});function fe(e){const{integrationValue:t,spaceName:i,existingBot:n}=e;if((0,m().SF)(t))throw new Error("Internal integrations should not be part of the Oauth authorization flow");const o=t.info.website_url,a=(0,H()._L)(t.capabilities),s=(0,y().IM)(t.id),l=e=>o?(0,W.jsx)(L().A,{href:o,style:c.inlineTextLink,children:e}):e,d=t.capabilities,c=(0,r().IS)((()=>({inlineTextLink:{color:"black",textDecoration:"none"}})),[]);if(n){const e={};return Object.keys(t.capabilities).forEach((i=>{const o=i;t.capabilities[o]&&!n.capabilities[o]&&(e[o]=!0)})),(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)("div",{children:(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.existingCapabilties",defaultMessage:"<inlinetextlink>{integrationName}</inlinetextlink> already has the following permissions",values:{integrationName:t.name,inlinetextlink:l}})}),(0,W.jsx)(xe,{spaceName:i,capabilities:n.capabilities,integrationName:t.name,integrationInheritsCreatorAccess:a,integrationHasAdminAccess:s}),Object.keys(e).length>0&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)("div",{style:{marginTop:24},children:(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.newCapabilties",defaultMessage:"<inlinetextlink>{integrationName}</inlinetextlink> will have the following additional permissions",values:{integrationName:t.name,inlinetextlink:l}})}),(0,W.jsx)(xe,{spaceName:i,capabilities:e,integrationName:t.name,integrationInheritsCreatorAccess:a,integrationHasAdminAccess:s})]})]})}return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)("div",{children:(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.intro",defaultMessage:"<inlinetextlink>{integrationName}</inlinetextlink> will have permission to",values:{integrationName:t.name,inlinetextlink:l}})}),(0,W.jsx)(xe,{spaceName:i,capabilities:d,integrationName:t.name,integrationInheritsCreatorAccess:a,integrationHasAdminAccess:s})]})}function xe(e){const{spaceName:t,capabilities:i,integrationName:n,integrationInheritsCreatorAccess:o,integrationHasAdminAccess:a}=e;return(0,W.jsxs)(W.Fragment,{children:[(null==i?void 0:i.read_content)&&(0,W.jsx)(be,{icon:ue().h,title:o?(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.readContentWithInheritedAccess",defaultMessage:"View pages you have access to"}):a?(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.readContentWithAdminAccess",defaultMessage:"View all pages"}):(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.readContent",defaultMessage:"View pages you select"}),children:o?(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.readContentWithInheritedAccess.description",defaultMessage:"{integrationName} will be able to view pages you can view.",values:{integrationName:n}}):a?(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.readContentWithAdminAccess.description",defaultMessage:"{integrationName} will be able to view all pages in your workspace",values:{integrationName:n}}):(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.readContent.description",defaultMessage:"{integrationName} will be able to view pages you select in the next step. You can also share pages later with {integrationName} in Notion",values:{integrationName:n}})}),(null==i?void 0:i.update_content)&&(0,W.jsx)(be,{icon:me,title:o?(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.updateContentWithInheritedAccess",defaultMessage:"Edit pages you have access to"}):a?(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.updateContentWithAdminAccess",defaultMessage:"Edit all pages"}):(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.updateContent",defaultMessage:"Edit pages you select"}),children:o?(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.updateContentWithInheritedAccess.description",defaultMessage:"{integrationName} will be able to edit pages you can edit",values:{integrationName:n}}):a?(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.updateContentWithAdminAccess.description",defaultMessage:"{integrationName} will be able to edit all pages",values:{integrationName:n}}):(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.updateContent.description",defaultMessage:"{integrationName} will be able to edit pages you select in the next step. You can also share pages later with {integrationName} in Notion",values:{integrationName:n}})}),(null==i?void 0:i.insert_content)&&(0,W.jsx)(be,{icon:te,title:o?(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.insertContentWithInheritedAccess",defaultMessage:"Create new content within pages you have access to"}):(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.insertContent",defaultMessage:"Create new content within pages you select"}),children:o?(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.insertContentWithInheritedAccess.description",defaultMessage:"{integrationName} will be able to add new content or sub-pages wherever you have permission to add new content or sub-pages",values:{integrationName:n,workspaceName:t}}):(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.insertContent.description",defaultMessage:"{integrationName} will be able to add new content or sub-pages to pages you select in the next step. You can also share pages later with {integrationName} in Notion",values:{integrationName:n,workspaceName:t}})}),(null==i?void 0:i.read_comment)&&(0,W.jsx)(be,{icon:he().N,title:o?(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.readCommentWithInheritedAccess",defaultMessage:"View comments within pages you have access to"}):a?(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.readCommentWithAdminAccess",defaultMessage:"View all comments"}):(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.readComment",defaultMessage:"View comments within pages you select"}),children:o?(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.readCommentWithInheritedAccess.description",defaultMessage:"{integrationName} will be able to view comments within pages you can access",values:{integrationName:n}}):a?(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.readCommentWithAdminAccess.description",defaultMessage:"{integrationName} will be able to view comments within all pages",values:{integrationName:n}}):(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.readComment.description",defaultMessage:"{integrationName} will be able to view comments within pages you select in the next step. You can also share pages later with {integrationName} in Notion",values:{integrationName:n}})}),(null==i?void 0:i.insert_comment)&&(0,W.jsx)(be,{icon:ye,title:o?(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.insertCommentWithInheritedAccess",defaultMessage:"Create comments within pages you have access to"}):(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.insertComment",defaultMessage:"Create comments within pages you select"}),children:o?(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.insertCommentWithInheritedAccess.description",defaultMessage:"{integrationName} will be able to create comments within pages you can access",values:{integrationName:n}}):(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.insertComment.description",defaultMessage:"{integrationName} will be able to create comments within pages you select in the next step. You can also share pages later with {integrationName} in Notion",values:{integrationName:n}})}),((null==i?void 0:i.read_user_without_email)||(null==i?void 0:i.read_user_with_email))&&(0,W.jsx)(be,{icon:ge().Q,title:null!=i&&i.read_user_with_email?(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.viewUsersAndEmail",defaultMessage:"View workspace users and their emails"}):(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.viewUsers",defaultMessage:"View workspace users"}),children:null!=i&&i.read_user_with_email?(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.viewUsersAndEmail.detail",defaultMessage:"{integrationName} will be able to see basic information about all workspace members and guest data, including their names, profile images, and email addresses",values:{integrationName:n}}):(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.viewUsers.detail",defaultMessage:"{integrationName} will be able to see basic information about all workspace members and guests, like their names and profile images, but not their email addresses",values:{integrationName:n}})}),(null==i?void 0:i.webhooks)&&(0,W.jsx)(be,{icon:pe,title:(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.sendWebhooks",defaultMessage:"Receive updates on workspace activity"}),children:(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.sendWebhooks.description",defaultMessage:"Changes to pages, permissions, or workspace settings will be shared with {integrationName}",values:{integrationName:n}})})]})}function be(e){const[t,i]=n.useState(!1),o=(0,r().IS)((e=>({permissionItem:{border:`1px ${f().XA.dark.gray[850]} solid`,borderRadius:4,marginTop:8},permissionItemTitle:{display:"flex",justifyContent:"space-between",padding:"6px 12px",cursor:"pointer",userSelect:"none"},permissionItemHeading:{display:"flex",alignItems:"center"},permissionItemDetails:{paddingLeft:38,paddingRight:24,transition:"all 0.2s ease",color:e.text.secondary},sharedIconStyle:{width:24,height:16,textAlign:"center"}})),[]);return(0,W.jsxs)("div",{style:o.permissionItem,children:[(0,W.jsxs)("div",{style:o.permissionItemTitle,onClick:()=>i(!t),children:[(0,W.jsxs)("div",{style:o.permissionItemHeading,children:[(0,W.jsx)("div",{style:o.sharedIconStyle,children:e.icon({width:16,height:16,color:f().Ay.regularIconColor})}),(0,W.jsx)("div",{children:e.title})]}),e.children&&(0,W.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,ce().e)({width:12,height:12,color:f().Ay.lightIconColor,transform:t?"rotate(180deg)":void 0,transition:"transform 0.2s ease"})})]}),(0,W.jsx)("div",{style:{...o.permissionItemDetails,opacity:t?1:0,flex:t?1:0,paddingBottom:t?8:0,transform:t?"translate3d(0,-4px,0)":"translate3d(0,-8px,0)"},children:t&&e.children})]})}const ve={permissions:{header:!0,warning:!0,footer:!0},bot_access_option:{header:!0,warning:!1,footer:!0},page_picker:{header:!1,warning:!1,footer:!1}},Ae=(0,B().YK)({loadingMessage:{id:"oauthAuthorization.loadingMessage",defaultMessage:"Authorizing…"},redirectToIntegrationTimeout:{id:"oauthAuthorization.redirectToIntegrationTimeout",defaultMessage:"Integration appears to have timed out. Please refresh and try again."}});function Se(e){const{showApprovalWarning:t}=e,[i,o]=n.useState("permissions"),[a,r]=n.useState("duplicate_template"),[s,l]=n.useState(void 0),d=ve[i].header,c=t&&ve[i].warning,u=ve[i].footer;return(0,W.jsxs)(W.Fragment,{children:[d&&(0,W.jsx)(Ie,{...e}),(0,W.jsx)(ke,{...e,currentStep:i,botAccessOption:a,setBotAccessOption:r}),(0,W.jsx)(Te,{...e,currentStep:i,setCurrentStep:o,acceptedIntegrationCapabilities:s,setAcceptedIntegrationCapabilities:l,botAccessOption:a}),c&&(0,W.jsx)("div",{style:{display:"flex",alignItems:"center",marginTop:20},children:(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.integrationApprovalNotice",defaultMessage:"Authorizing this integration will add it to your workspace's approval list. Other workspace members will be able to install this integration."})}),u&&(0,W.jsx)(Pe,{...e})]})}function we(){const{isMobile:e}=(0,o().Y0)();return(0,r().IS)((t=>({title:{fontSize:e?18:20,margin:"0 50px 32px",textAlign:"center",fontWeight:v().Wy.medium},inlineTextLink:{color:"black",textDecoration:"none"},buttonGroup:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:24},footer:{fontSize:v().J.UISmall.desktop,color:t.text.secondary,paddingTop:32,paddingBottom:16},innerFooterContainer:{color:t.text.primary,fontWeight:v().Wy.semibold,marginBottom:4}})),[e])}const Ce={cancel:(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.cancelButton.label",defaultMessage:"Cancel"}),back:(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.selectPagesStep.backButton.label",defaultMessage:"Back"})},je={bot_access_option:(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.nextButton.label",defaultMessage:"Next"}),page_picker:(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.continueButton.label",defaultMessage:"Select pages"}),authorize:(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.selectPagesStep.finishButton.label",defaultMessage:"Allow access"})};function Ie(e){const{integrationValue:t,spaceName:i}=e,n=t.info,o=n.website_url,a=n.icon?{pointer:{table:m().Li,id:t.id},icon:n.icon}:void 0,r=we();return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)("div",{style:{padding:15},children:(0,W.jsx)(X().B,{icon:a,disabled:!0,title:t.name,size:54,isEmptyPage:!1,style:{margin:"auto"}})}),(0,W.jsx)("div",{style:r.title,children:(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.title",defaultMessage:"<inlinetextlink>{integrationName}</inlinetextlink> is requesting access to {workspaceName}",values:{integrationName:t.name,workspaceName:i,inlinetextlink:e=>o?(0,W.jsx)(L().A,{style:r.inlineTextLink,href:o,children:e}):e}})})]})}function ke(e){const{currentStep:t,integrationValue:i,spaceName:n,existingBot:o}=e;return"permissions"===t?(0,W.jsx)(fe,{integrationValue:i,spaceName:n,existingBot:o}):"bot_access_option"===t?(0,W.jsx)(ae,{...e,integrationValue:i}):"page_picker"===t?(0,W.jsx)(de,{...e,integrationValue:i}):void(0,b().HB)(t)}function Te(e){const{currentStep:t,setCurrentStep:i,acceptedIntegrationCapabilities:r,setAcceptedIntegrationCapabilities:s,integrationValue:l,validIntegrationTemplateId:d,oauthParams:c,botAccessOption:u,spaceId:p,selectedBlockIdsStore:g}=e,h=(0,o().v3)(),[f,x]=n.useState(!1),v=(0,a().O$)(g),A=(0,a().K8)((()=>{const e=Q().A.state;return(0,Y().gz)({integrationId:l.id,externalIntegrationStoreState:e})}),[l]),w=function(e){const{integrationValue:t,validIntegrationTemplateId:i,botAccessOption:n}=e;if((0,H()._L)(t.capabilities))return["permissions"];if(i){if("duplicate_template"===n)return["permissions","bot_access_option"];if("pick_pages"===n)return["permissions","bot_access_option","page_picker"];if("admin"===n)return["permissions"];(0,b().HB)(n)}return["permissions","page_picker"]}({integrationValue:l,validIntegrationTemplateId:d,botAccessOption:u}),C=w.indexOf(t),j=(0,y().NV)(l.id),I=w[C-1],k=j?void 0:w[C+1],M=I?Ce.back:Ce.cancel,P=I?()=>{i(I)}:()=>{!function(e){const{environment:t,oauthParams:i,integrationValue:n,createdBotValue:o}=e;o?Z().Vl(t):U().D({environment:t,params:i,integration:n,errorType:N().l.access_denied})}({environment:h,oauthParams:c,integrationValue:l,createdBotValue:A})},_=k?je[k]:je.authorize,B=k?()=>{"permissions"===t&&s(l.capabilities),i(k)}:async()=>{j?(await K().NB({environment:h,spaceId:p,from:"workspace_connections_redirect",integration:V().Bj6.fromValue(m().Li,l)}),window.close()):async function(e){const{environment:t,botAccessOption:i,integrationValue:n,acceptedIntegrationCapabilities:o,setIsLoading:a,oauthParams:r,spaceId:s,selectedBlockIds:l,createdBotValue:d}=e;let c;"duplicate_template"===i&&(c=n.info.template_page_id),a(!0),$().m({message:Ae.loadingMessage});const u=c?[]:Object.keys(l).filter((e=>l[e])),{currentSpaceStore:p,currentSpaceViewStore:m}=T().default.state;if(d){const e=await S().L2({environment:t,templatePageId:c,botValue:d,spaceStore:p,spaceViewStore:m,pages:u});e?G().uK({environment:t,store:e,pageVisitSource:D().y8.Duplicate}):Z().Vl(t),$().V(),a(!1)}else await U().D({environment:t,params:r,integration:n,acceptedIntegrationCapabilities:o,spaceId:s,blockIdsForBot:u,templatePageId:c}),F().ry(t,{selection:i}),await(0,E().wR)(3e4),$().V(),a(!1),q().f1(J().A.formatMessage(Ae.redirectToIntegrationTimeout))}({environment:h,botAccessOption:u,integrationValue:l,setIsLoading:x,oauthParams:c,spaceId:p,selectedBlockIds:v,createdBotValue:A,acceptedIntegrationCapabilities:r})},L=we();return(0,W.jsxs)("div",{style:L.buttonGroup,children:[(0,W.jsx)(z().A,{size:"lg",onClick:P,children:M}),(0,W.jsx)(R().A,{size:"lg",onClick:B,disabled:f,children:_})]})}const Me="https://notion.notion.site/Integration-Gallery-Terms-of-Service-b74cada95062442d98c2abb1fe3efd9b";function Pe(e){const{integrationValue:t,oauthParams:i}=e,n=we();if((0,m().SF)(t))return null;const o=t.info.terms_of_use_url,a=t.info.privacy_policy_url,r=(i.redirectUri||t.redirect_uris[0]||"").replace("http://","").replace("https://","").split(/[/?#]/)[0],s=(0,y().NV)(t.id)?(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.warning.body.partnerIntegration",defaultMessage:"The third-party products or services to which this integration connects are non-Notion Applications. By enabling this integration, you agree to Notion's <notiontermslink>Integration Gallery Terms</notiontermslink>.",values:{notiontermslink:e=>(0,W.jsx)(L().A,{href:Me,children:e})}}):(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.warning.body",defaultMessage:'If you continue, you may be sharing sensitive information. Notion does not review third party integrations such as "{integrationName}". Learn how "{integrationName}" handles your data by reviewing their <privacypolicylink>Privacy Policy</privacypolicylink> and <termsofservicelink>Terms of Service</termsofservicelink>.',values:{integrationName:t.name,privacypolicylink:e=>a?(0,W.jsx)(L().A,{href:a,children:e}):e,termsofservicelink:e=>o?(0,W.jsx)(L().A,{href:o,children:e}):e}});return(0,W.jsxs)("footer",{style:n.footer,children:[(0,W.jsxs)("div",{style:n.innerFooterContainer,children:[" ",(0,W.jsx)(B().sA,{id:"oauthAuthorizationPage.permissionStep.warning.title",defaultMessage:"Make sure you trust {integrationName} ({redirectUriDomain})",values:{integrationName:t.name,redirectUriDomain:r}})]}),(0,W.jsx)("div",{children:s})]})}var _e=()=>i(623970);const Ne={"929cdebb-09e8-4c5c-bfe5-e8c3c3902987":"development","5dbd3ed0-1160-4532-b10a-1a6749748fc4":"staging"},Be=["makenotion.com","qasource.com"];function Ue(e){const t=e.userId,i=e.spaceId,n=(0,o().v3)(),s=(0,a().K8)((()=>T().default.state.currentUserRootStore),[]),l=(0,a().O$)(T().AppStoreCurrentSpaceStore),d=(0,a().O$)(T().AppStoreCurrentSpaceViewStore),c=(0,a().K8)((()=>{var e;return null===(e=T().default.state.currentUserStore)||void 0===e?void 0:e.getEmail()}),[]),u=(0,a().K8)((()=>!!(t&&i&&d)&&(d.getSpaceId()===i&&d.getUserRootParentId()===t)),[t,i,d]),p=function(e){const{WindowSizeStore:t}=e.environment,i=(0,a().K8)((()=>t.state.width>500),[t]),n=(0,a().K8)((()=>t.state.height<900),[t]);return(0,r().IS)((e=>({layoutContainer:{height:"100%",overflow:"auto",backgroundColor:i?f().Ay.frontCreamBackground:f().Ay.white},pageContainer:{display:"flex",justifyContent:"center"},contentBox:{width:"500px",minHeight:"600px",borderRadius:5,backgroundColor:f().Ay.white,boxShadow:i?e.shadowSM:"none",display:"flex",flexDirection:"column",fontSize:v().J.UIRegular.desktop,marginTop:n?16:i?"calc((100vh - 900px) / 2)":0,marginBottom:40,transition:"all 0.2s ease"},contentBody:{paddingLeft:40,paddingRight:40,paddingTop:25,paddingBottom:25,flex:1,display:"flex",flexDirection:"column"}})),[i,n])}({environment:n});return(0,W.jsx)("div",{style:p.layoutContainer,children:(0,W.jsx)("div",{style:p.pageContainer,children:(0,W.jsxs)("div",{style:p.contentBox,children:[(0,W.jsx)(_e().A,{disableAccountSwitcher:u,singleSpaceToSelect:i,onSpaceSwitch:async t=>{await C().yV({environment:n,spaceViewStore:t});const i=t.getSpaceId(),o=Be.find((e=>null==c?void 0:c.endsWith(e)));if(i&&o&&Ne[i]&&e.integrationId&&e.redirectUri){const t=(0,A().P0)({baseUrl:(0,j().sZ)(Ne[i]),clientId:e.integrationId,redirectUri:e.redirectUri,state:e.state});w().f({environment:n,url:t,targetSelf:!0})}}}),(0,W.jsx)("div",{style:p.contentBody,children:(0,W.jsx)(ze,{oauthParams:e,spaceStore:l,userRootStore:s})})]})})})}function ze(e){const{oauthParams:t,spaceStore:i,userRootStore:n}=e;return i&&n?(0,W.jsx)(Re,{oauthParams:t,spaceStore:i,userRootStore:n}):(0,W.jsx)(P().A,{})}function Re(e){const{oauthParams:t,spaceStore:i,userRootStore:r}=e,{integrationId:f,responseType:v}=t,A=(0,o().v3)(),w=(0,a().K8)((()=>I().GK(A,i)),[A,i]),[C,j]=n.useState(),T=(0,a().K8)((()=>{if(f){const e=(0,M().Oo)(r,{id:f,table:m().Li}).getValue();return e&&"internal"!==e.type?e:void 0}}),[f,r]),_=(0,s().L)({value:T,waitTimeInMs:1e3}),[{value:N}]=(0,c().Yb)((async()=>{if(!T)return;return(await S().Ju({environment:A,table:g().oo,id:r.id,type:T.type})).botIds}),[A,r,T]),B=(0,a().K8)((()=>{if(N&&N.length>0){return N.map((e=>{const t=(0,M().Oo)(r,{table:p().GP,id:e}).getValue();if(t&&t.alive&&(0,d().hu)(t)&&t.created_by_id===r.id&&t.created_by_table===g().oo&&t.integration_id===f)return{botValue:t}})).filter(b().O9)[0]}}),[r,f,N]),U=(0,s().L)({value:N,waitTimeInMs:1e3}),[{value:z}]=(0,c().Yb)((async()=>{if(B)return await S().GO({environment:A,currentSpaceStore:i,botIds:[null==B?void 0:B.botValue.id]})}),[A,B,i]),R=(0,a().K8)((()=>{const e=null==B?void 0:B.botValue.id,t={};if(!e||!z||!z.bots[e])return l().default.createValue(t);return(z.bots[e].pageIds??[]).forEach((e=>{t[e]=!0})),l().default.createValue(t)}),[z,B]),L=(0,a().K8)((()=>{if(!f)return!1;const e=i.getBotSettingsStore().getValue();if(!e)return!0;if((0,h().az)(e)){const t=e.integration_approval_statuses;return!(!t||!t[f])&&Boolean("approved"===t[f].status)}return!0}),[f,i]),D=(0,a().K8)((()=>{const e=_.value;if(e&&!(0,m().SF)(e))return e.info.template_page_id}),[_]),V=(0,a().K8)((()=>Boolean(f&&("datadog"===(0,y().Q2)(f)||(0,y().IM)(f)))),[f]),H=(0,a().K8)((()=>I().IL(i)),[i]),E=(0,a().K8)((()=>i.canAdmin()),[i]);n.useEffect((()=>{_.value&&!C&&j(T)}),[C,j,T,_]);const F=_.value??C;return"pending"===_.status||"pending"===U.status?(0,W.jsx)(P().A,{}):f&&(0,x().uj)(f)||V?F?"code"===v||V?H?(0,W.jsx)(O,{oauthParams:t,spaceName:w,type:"notAnAdmin",integrationValue:F,primaryAction:()=>{k().A.setState({...k().A.state,open:!0})}}):E||L?u().H(F,t.redirectUri)||V?(0,W.jsx)(Se,{integrationValue:F,existingBot:null==B?void 0:B.botValue,validIntegrationTemplateId:D,spaceName:w,spaceId:i.id,oauthParams:t,showApprovalWarning:E&&!L&&!V,selectedBlockIdsStore:R}):(0,W.jsx)(O,{oauthParams:t,spaceName:w,type:"invalidRedirectUri",integrationValue:F}):(0,W.jsx)(O,{oauthParams:t,spaceName:w,type:"integrationNotApproved",integrationValue:F,primaryAction:()=>{k().A.setState({...k().A.state,open:!0})}}):(0,W.jsx)(O,{type:"invalidResponseType",oauthParams:t,spaceName:w,integrationValue:F}):(0,W.jsx)(O,{type:"clientNotFound",oauthParams:t,spaceName:w}):(0,W.jsx)(O,{type:"invalidClientId",oauthParams:t,spaceName:w})}}}]);