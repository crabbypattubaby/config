"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[58596],{757357:(e,t,n)=>{function a(e){return!e||0===e.getMessages().length}n.d(t,{a:()=>a})},791601:(e,t,n)=>{n.r(t),n.d(t,{FullPageAIChatLoader:()=>v});var a=n(242343),s=()=>n(237385),r=()=>n(803290),i=()=>n(174114),d=()=>n(905184),l=()=>n(375589),o=()=>n(757357),u=()=>n(193302),c=()=>n(517198),h=()=>n(966789),g=()=>n(456143),f=()=>n(116485),x=()=>n(485966),p=()=>n(840024),y=()=>n(478730),I=()=>n(836331),m=()=>n(413871),C=n(163643);function v(e){const{route:t}=e,n=(0,s().v3)(),[v,b]=(0,a.useState)(!1),[j,w]=(0,a.useState)(!1);(0,a.useEffect)((()=>{const e=setTimeout((()=>{w(!0)}),1e4);return()=>{clearTimeout(e)}}),[]);const M=(0,r().K8)((()=>x().default.state.initialized),[]),K=(0,r().K8)((()=>I().default.isStatsigReady()),[]),{isFullPageChatInferenceTranscriptEnabled:S,isDeepFindOnInferenceTranscriptEnabled:T}=(0,g().w)(),k=t.threadId&&!S,A=(0,r().K8)((()=>{const e=x().default.state.currentSpaceStore;if(e&&t.threadId)return m().Ei.createChildStore(e,{table:d().To,spaceId:e.id,id:t.threadId})}),[t.threadId]),E=(0,r().K8)((()=>{var e;return null!=A&&A.isReady()?null==A||null===(e=A.getConfig())||void 0===e?void 0:e.type:void 0}),[A]),F=(0,r().K8)((()=>(0,o().a)(A)),[A]),P=(0,a.useMemo)((()=>void 0===t.threadId||!F),[t.threadId,F]),B=(0,a.useMemo)((()=>{const e=Boolean(E);return!!P&&(!k||e)}),[k,E,P]);(0,a.useEffect)((()=>{M&&K&&B&&b(!0)}),[M,K,B]);const D=(0,r().K8)((()=>{const e=y().P.state;return e.open&&"chat"===e.currentView}),[]),L=(0,r().K8)((()=>p().zD.isFullPageAssistantChatEnabled(n.device)),[n]),R=(0,i().IS)((e=>({pageLayout:{display:"flex",minHeight:"100vh",width:"100%",backgroundColor:e.contentBackground,order:2},layoutContent:{minWidth:0,flex:1,display:"flex",flexDirection:"column",height:"100vh",alignItems:"center",justifyContent:"center",gap:12},welcomeMessage:{height:50,borderRadius:15,width:"30%"},centerBox:{height:100,borderRadius:15,width:"80%"}})),[]),z=(0,C.jsx)(f().Mx,{type:"chat",style:R.pageLayout,children:(0,C.jsx)(f().vV,{style:R.layoutContent,children:B?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(c().A,{style:R.welcomeMessage}),(0,C.jsx)(c().A,{style:R.centerBox})]}):(0,C.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:8,padding:32},children:(0,C.jsx)(h().A,{})})})});return v||j?S&&!D||"search"===E&&T?(0,C.jsx)(l().J1,{threadId:t.threadId,defaultUserMessage:t.defaultUserMessage}):L?(0,C.jsx)(u().LazyAssistantFullPageChat,{}):z:z}}}]);