"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[15498,90871,99171],{44250:(e,t,n)=>{function o(e){return!(!e||"askUserToPick"in e)}function a(e){if(!e||!("askUserToPick"in e))return e}function r(e){return!(!e||!("askUserToPick"in e))&&e.askUserToPick}n.d(t,{DK:()=>a,K$:()=>o,j6:()=>r})},189170:(e,t,n)=>{n.r(t),n.d(t,{duplicateBlocks:()=>B,duplicateBlocksWithMaybeConfirmation:()=>I,insertBlockAbove:()=>F,insertBlockAndEdit:()=>P,insertBlockBelow:()=>C,insertTextAbove:()=>M,insertTextBelow:()=>x});n(358848),n(362833),n(91270);var o=()=>n(752597),a=()=>n(214144),r=()=>n(66460),i=()=>n(975392),s=()=>n(303298),c=()=>n(577701),l=()=>n(983048),d=()=>n(415029),u=()=>n(145046),m=()=>n(111066),p=()=>n(164186),g=()=>n(84543),v=()=>n(732491),k=()=>n(190717),y=()=>n(486963),f=()=>n(590057),b=()=>n(981810),S=()=>n(459742),h=()=>n(816763),w=()=>n(112892),T=()=>n(615661),N=()=>n(182613),A=()=>n(937968);async function I(e){const{environment:t,blocks:n,duplicateOnlyCollectionSchema:a,callback:r}=e;if(!(0,A().EF)(t))return;const i=await s().VI.duplicateActions.load();let c=n;if(1===n.length){const e=await k().rW({environment:t,block:n[0],action:"duplicate"});if("user_canceled"===e)return void(null==r||r());c=e}const d=c.at(0);if(!d)return;const u=(0,y().U)(d);if(u&&(0,b().ls)(d,u))await l().un({blocks:c,environment:t,analyticsFrom:"subitem_duplication",callback:r,collectionContextStore:u});else{const{serverCommitResult:e}=g().createAndCommit({userAction:"actionRegistry.duplicateToSelection",environment:t,canUndo:!0,perform:e=>{B({environment:t,blocks:c,transaction:e,preferDuplicateLocation:"local",duplicateOnlyCollectionSchema:a,duplicateActions:i})},transactionTooBigFallback:e=>{B({environment:t,blocks:c,transaction:e,preferDuplicateLocation:"server",duplicateOnlyCollectionSchema:a,duplicateActions:i})}});e.then(r)}o().default.afterNextFlush((()=>{m().BM({environment:t})}))}function B(e){const{environment:t,blocks:n,transaction:o,preferDuplicateLocation:a,lastTopLevelBlockStore:s,preventSetSelection:l,duplicateOnlyCollectionSchema:d,duplicateActions:m}=e,g=i().$z(n,(e=>e.getFormat().app_id??e.id)),v=[];return i().jJ(g,(e=>{const n=e[0],i=!n.isTransclusionType(),{blockStores:s,onComplete:l}=m.duplicateBlock({environment:t,stores:e,transaction:o,targetSpaceId:(0,r().e)(n.pointer.spaceId),preferDuplicateLocation:a,options:{addCopyName:(0,h().A)(n),deepCopyTransclusionContainers:i,resolveTemplateVariables:!(n.isInsideTemplate()||n.isInsideFactoryOrDuplicateBlocksAction()),duplicateOnlyCollectionSchema:d}});v.push(...s),l.then((e=>{if("error"===e.status){const n=e.error;c().Rk(n)?c().UK(t,{product:n.clientData.metadata.product}):u().f1(e.errorMessage)}}))})),p().LE({blocksToInsert:v,target:s?[s]:n,environment:t,transaction:o,replaceEmptyTextBlock:!1,preventSetSelection:l}),v}function C(e){const{environment:t,createBlockItem:n,selection:o,transaction:a,analyticsFrom:r,preventSetSelection:i}=e,s=N().default.getCurrentRecordCache(),c=new(v().UF)({environment:t,userFlow:"page"===(null==n?void 0:n.blockType)?"user_flow_create_page":"user_flow_create_block",succeedOnEnqueue:!0});let l;if((0,A().EF)(t)&&n&&s){const e=d().w({environment:t,createBlockItem:n,transaction:a,inMemoryRecordCache:s,from:r,selection:o});c.track(e.pointer,a),l=p().LE({environment:t,blocksToInsert:[e],target:o,transaction:a,replaceEmptyTextBlock:!1,preventSetSelection:i})[0]}else c.fail("invalid_state");return l}function F(e){const{environment:t,createBlockItem:n,selection:o,transaction:a,analyticsFrom:r,preventSetSelection:i}=e,s=N().default.getCurrentRecordCache();let c;if((0,A().EF)(t)&&n&&s){const e=d().w({environment:t,createBlockItem:n,transaction:a,inMemoryRecordCache:s,from:r,selection:o});c=p().t1({environment:t,blocks:[e],selection:o,transaction:a,preventSetSelection:i})[0]}return c}function P(e){const{environment:t,selection:n,transaction:o}=e,r=C({...e,preventSetSelection:!0});if(r){var i;p().x5({environment:t,insertedStores:[r],isCreated:!0});const e=T().Uv.getMode(r);if("suggest"===e){const e=f().RR(t,o,r);f().tM(o,r,{id:a().JW(),type:"insert",discussionId:e.id}),f().c3({environment:t,transaction:o,discussionStore:e,addModifiedBlockIdsAfter:[r.id]})}"suggest"===e&&null!==(i=r.getNavigableBlockStore({skipCurrent:!0}))&&void 0!==i&&i.isCommentOnly()||p().um({transaction:o,blocks:n})}return r}function x(e){const{blocks:t,transaction:n,environment:a,skipAnalytics:r}=e,i=r?void 0:"text_insert_below",s=C({environment:a,selection:t,createBlockItem:S().ry.text,analyticsFrom:i,transaction:n});return s&&o().default.afterNextFlush((()=>{w().zz({environment:a,blockStore:s,insertedTextBlockLocation:"below"})})),s}function M(e){const{blocks:t,transaction:n,environment:a,skipAnalytics:r}=e,i=r?void 0:"text_insert_below",s=F({environment:a,selection:t,createBlockItem:S().ry.text,analyticsFrom:i,transaction:n});return s&&o().default.afterNextFlush((()=>{w().zz({environment:a,blockStore:s,insertedTextBlockLocation:"above"})})),s}},533639:(e,t,n)=>{n.d(t,{p:()=>o});class o extends(()=>n(998969))().p3{constructor(e,t){super(e,t)}after(e,t){return super.after(e,t)}}},576957:(e,t,n)=>{n.d(t,{H:()=>i,l:()=>s});var o=()=>n(599932),a=()=>n(485966),r=()=>n(836331);function i(e,t){return t?48:e?32:18}function s(){var e;if(r().default.checkGate({gateName:"ks_dev_settings"}))return!1;const t=null===(e=a().default.state.currentUserStore)||void 0===e?void 0:e.getEmail();return"makenotion.com"===(0,o().zN)(t??"")}},617719:(e,t,n)=>{n.r(t),n.d(t,{appendTranscriptionBlockToPage:()=>h,createTranscriptionBlockInNewPage:()=>w});var o=()=>n(486826),a=()=>n(712437),r=()=>n(762847),i=()=>n(871002),s=()=>n(16456),c=()=>n(427091),l=()=>n(34662),d=()=>n(415029),u=()=>n(795394),m=()=>n(191756),p=()=>n(163875),g=()=>n(448316),v=()=>n(84543),k=()=>n(189170),y=()=>n(459742),f=()=>n(216143),b=()=>n(485966),S=()=>n(182613);function h(e){const{environment:t}=e;v().createAndCommit({userAction:"transcriptionNewPageActions.appendTranscriptionBlock",environment:t,canUndo:!0,perform:e=>{(0,k().insertBlockBelow)({environment:t,createBlockItem:y().ry[r().xd.transcription],analyticsFrom:"quick_templates",selection:[],transaction:e})}})}function w(e){const{environment:t,from:n}=e,k=b().default.state.currentSpaceStore,h=b().default.state.currentSpaceViewStore,w=S().default.getCurrentRecordCache();if(!w)return;if(!k||!h)return;const{performResult:{createdPage:T}}=v().createAndCommit({userAction:"transcriptionNewPageActions.createTranscriptionBlockInNewPage",environment:t,canUndo:!0,perform:e=>{const a=p().IT({environment:t,spaceStore:k,spaceViewStore:h,isPrivate:!0,transaction:e});if(a.isType(r().xd.page)){const n=a.getBlockTitleStore(),r=o().c9.now(),d=[l().wmz(l().Ww9({type:"datetime",start_date:r.toFormat(s().tr),start_time:r.toFormat(i().GE),time_zone:(0,c().P)(),date_format:"relative"}),[[l().BQP.Bold]])];g().yr({environment:t,store:n,tokens:d,transaction:e,index:0})}const m=y().ry[r().xd.transcription],v=d().w({environment:t,transaction:e,inMemoryRecordCache:w,from:n,selection:[],createBlockItem:m});return u().NI({childStore:v,parentStore:a,transaction:e}),{createdPage:a}}});m().uK({environment:t,store:T,visitType:f().ig.Link,pageVisitSource:a().y8.Create})}},898094:(e,t,n)=>{n.d(t,{lowPriActionsWithKeyboardShortcuts:()=>I});var o=n.n(n(406794)),a=()=>n(945792),r=()=>n(783759),i=()=>n(944498),s=()=>n(667801),c=()=>n(370557),l=()=>n(485966),d=()=>n(330358),u=()=>n(32901),m=()=>n(721778);const p=(0,n(653998).YK)({createEquationName:{id:"action.createEquation.name",defaultMessage:"Mark as equation"},openAllTogglesName:{id:"action.openAllToggles.name",defaultMessage:"Open all toggles"},toggleRecordingInputLatencyName:{id:"action.toggleRecordingInputLatency.name",defaultMessage:"Toggle recording input latency"}}),g=(0,u().Fw)({key:"toggle all teams",displayName:void 0,analyticsName:"toggleAllTeams",validators:[i().M3g,i().y2w],shortcuts:["toggleAllTeams"],closeParentMenu:!0,action:e=>{let{environment:t}=e;(0,n(610489).ZT)({environment:t,contentType:"teams"})}}),v=(0,u().Fw)({key:"toggle favorite",analyticsName:"Toggle favorite",displayName:void 0,validators:[i().M3g,i().AU6(i().Pnk),i().AU6(i().dUO)],shortcuts:["toggleFavorite"],closeParentMenu:!0,action:e=>{let{environment:t}=e;const{currentSpaceViewStore:o}=l().default.state,a=(0,m().dr)();if(!o||!a)return;const r=(0,n(997667).A)({spaceViewStore:o,pageId:a.id})?s().unbookmarkPage:s().bookmarkPage;n(84543).createAndCommit({userAction:"actionRegistry.toggleFavorite",environment:t,canUndo:!0,perform:e=>r({spaceViewStore:o,store:a,transaction:e})})}}),k=(0,u().Fw)({key:"open comments tab in update sidebar",analyticsName:"Open comments tab in update sidebar",displayName:void 0,validators:[],shortcuts:["openCommentsTabInUpdateSidebar"],closeParentMenu:!0,action:e=>{let{environment:t}=e;s().setUpdateExpand({environment:t,isExpanded:!0,from:"keyboard_comments",saveDetailsSidebarPreference:!0}),s().setUpdateSidebarTab(c().tF.Comments)}}),y=(0,u().Fw)({key:"open equation annotation menu",displayName:p.createEquationName,analyticsName:p.createEquationName.defaultMessage,validators:[i().c5w,i().AU6(i().or([i().JPf,i().wx,i().jc4,i().M7S]))],shortcuts:["openEquationMenu"],closeParentMenu:!0,action:e=>n(612848).Wx({environment:e.environment,analyticsFrom:"input_keyboard_shortcut"})}),f=(0,u().Fw)({key:"open updates tab in update sidebar",analyticsName:"Open updates tab in update sidebar",displayName:void 0,validators:[],shortcuts:["openUpdatesTabInUpdateSidebar"],closeParentMenu:!0,action:e=>{let{environment:t}=e;s().setUpdateExpand({environment:t,isExpanded:!0,from:"keyboard_updates",saveDetailsSidebarPreference:!0}),s().setUpdateSidebarTab(c().tF.Updates)}}),b=(0,u().Fw)({key:"open experiment settings",displayName:void 0,analyticsName:"openExperimentSettings",validators:[n(576957).l],shortcuts:["openExperimentSettings"],closeParentMenu:!0,action:()=>{d().A.setState({...d().A.state,open:!0,currentTab:"experiments",defaultSubtab:void 0})}}),S=(0,u().Fw)({key:"toggle all toggles",displayName:p.openAllTogglesName,analyticsName:p.openAllTogglesName.defaultMessage,validators:[],shortcuts:["toggleAllToggles"],closeParentMenu:!0,action:e=>{let{environment:t}=e;const o=n(782422).ao();o&&n(791362).In({environment:t,blockStore:o,includeSubitems:!0})}}),h=(0,u().Fw)({key:"toggle both sidebars",analyticsName:"Toggle both sidebars",displayName:void 0,validators:[],shortcuts:["toggleBothSidebars"],closeParentMenu:!0,action:e=>{let{environment:t}=e;s().toggleBothSidebars(t)}}),w=(0,u().Fw)({key:"toggle AI sidebar",displayName:void 0,analyticsName:"toggleAISidebar",validators:[],shortcuts:["toggleAISidebar"],closeParentMenu:!0,action:e=>{let{environment:t}=e;s().toggleAISidebar(t)}}),T=(0,u().Fw)({key:"create new AI sidebar chat thread",displayName:void 0,analyticsName:"createAIChatThread",validators:[],shortcuts:["createAIChatThread"],closeParentMenu:!0,action:e=>{let{environment:t}=e;n(895085).createNewChatThread(t)}}),N=(0,u().Fw)({key:"toggle recording input latency",displayName:p.toggleRecordingInputLatencyName,analyticsName:p.toggleRecordingInputLatencyName.defaultMessage,validators:[],shortcuts:["toggleRecordingInputLatency"],closeParentMenu:!0,action:()=>{n(177769).toggleRecordingInputLatency()}}),A=(0,u().Fw)({key:"switch spaces pre tabs",analyticsName:"Switch spaces pre tabs",displayName:void 0,validators:[i().b8R,i().AU6(i().ld1)],shortcuts:["switchSpacesPreTabs"],closeParentMenu:!0,action:(e,t)=>{let{environment:n}=e;if(!t||!(0,m().kx)(t))return;t.preventDefault();const i=parseInt(o()(t.keyCode)),{currentUserRootStore:s,currentUserSettingsStore:c}=l().default.state;s&&c&&(r().IO({environment:n,index:i-1,userRootStore:s,userSettingsStore:c}),a().Bw(n))}}),I=[T,k,b,y,f,(0,u().Fw)({key:"switch spaces post tabs",analyticsName:"Switch spaces post tabs",displayName:void 0,validators:[i().b8R,i().ld1],shortcuts:["switchSpacesPostTabs"],closeParentMenu:!0,action:(e,t)=>{let{environment:n}=e;if(!t||!(0,m().kx)(t))return;t.preventDefault();const i=parseInt(o()(t.keyCode)),{currentUserRootStore:s,currentUserSettingsStore:c}=l().default.state;s&&c&&(r().IO({environment:n,index:i-1,userRootStore:s,userSettingsStore:c}),a().Bw(n))}}),A,g,S,h,w,v,N,(0,u().Fw)({key:"start transcription",displayName:void 0,analyticsName:"Start transcription global shortcut",validators:[i().AU6(i().Zmr),i().xIn],shortcuts:["transcription"],closeParentMenu:!0,action:e=>{let{environment:t}=e;(0,n(617719).createTranscriptionBlockInNewPage)({environment:t,from:"transcription_shortcut"})}})]},994488:(e,t,n)=>{n.d(t,{o:()=>o});n(362833),n(403517);function o(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(0===n.length)return e.map((e=>[e]));const r=[];for(const i of e)r.push(...o(n[0],...n.slice(1)).map((e=>[i,...e])));return r}}}]);