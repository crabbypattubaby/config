"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[92821],{501518:(e,t,i)=>{i.r(t),i.d(t,{getCurrentWorkflowNavigationState:()=>S,getDefaultClosedNavigationState:()=>k,getDefaultOpenNavigationState:()=>v,getIsWorkflowEditorOpen:()=>O,getIsWorkflowEditorStateOpen:()=>b,getIsWorkflowNavigationStateCurrent:()=>V,getMergedWorkflowNavigationState:()=>m,routeArgsGivenNavigationState:()=>j,useIsWorkflowEditorOpen:()=>N,useWorkflowNavigationState:()=>I});var n=()=>i(237385),r=()=>i(803290),o=()=>i(975392),a=()=>i(3311),s=()=>i(76394),c=()=>i(44658),u=()=>i(627618),l=()=>i(485966),p=()=>i(308265);const w=u().object({required:{isOpen:u().literal(!0)},optional:{}}),f={configure:u().intersection([w,u().object({required:{type:u().literal("configure")},optional:{prompt:u().string()}})]),function:u().intersection([w,u().object({required:{type:u().literal("function"),key:u().string()},optional:{}})]),module:u().intersection([w,u().object({required:{type:u().literal("module"),key:u().string()},optional:{}})]),database:u().intersection([w,u().object({required:{type:u().literal("database"),id:u().string()},optional:{}})]),trigger:u().intersection([w,u().object({required:{type:u().literal("trigger"),key:u().string()},optional:{}})]),debug:u().intersection([w,u().object({required:{type:u().literal("debug")},optional:{}})]),preview:u().intersection([w,u().object({required:{type:u().literal("preview")},optional:{collectionViewId:u().string()}})]),runtime_actor:u().intersection([w,u().object({required:{type:u().literal("runtime_actor")},optional:{}})]),view_settings:u().intersection([w,u().object({required:{type:u().literal("view_settings"),key:u().string()},optional:{}})]),runs:u().intersection([w,u().object({required:{type:u().literal("runs")},optional:{runId:u().string()}})]),test:u().intersection([w,u().object({required:{type:u().literal("test"),name:u().string(),functionKey:u().string()},optional:{}})])},d=u().union(Object.values(f)),g=u().object({required:{isOpen:u().literal(!1)},optional:{}}),y=u().union([d,g]);function v(){return{isOpen:!0,type:"configure"}}function k(){return{isOpen:!1}}function b(e){return(null==e?void 0:e.isOpen)??!1}function O(e){return b(S(e))}function V(e){const{currentNavigationState:t,navigationState:i}=e,n=m({defaultNavigationState:{isOpen:!1},currentNavigationState:t,newNavigationState:i});return(0,o().n4)(t,n)}function S(e){const{RouterStore:t}=e;if("page"!==t.state.route.name)return;const i=l().default.state.mainEditorCurrentBlockStore;return i&&i.isCollectionView()&&i.canEdit()&&!i.isLocked()?function(e){const{workflowViewType:t,workflowViewKey:i,workflowPrompt:n,collectionViewId:r}=e;switch(t){case"debug":case"runtime_actor":return{isOpen:!0,type:t};case"function":case"module":case"trigger":case"view_settings":if(!i)return;return{isOpen:!0,type:t,key:i};case"database":if(!i)return;return{isOpen:!0,type:t,id:(0,a().ZA)(i)??i};case"preview":return{isOpen:!0,type:"preview",collectionViewId:r};case"configure":return{isOpen:!0,type:"configure",prompt:n?decodeURIComponent(n):void 0};case"runs":return{isOpen:!0,type:"runs",runId:(0,a().ZA)(i)};case"test":if(!i)return;const[e,o]=i.split(",");if(!e||!o)return;return{isOpen:!0,type:"test",name:o,functionKey:e};default:return}}(t.state.route):void 0}function m(e){const{defaultNavigationState:t,currentNavigationState:i,newNavigationState:n}=e;if(!(0,p().sx)())return{isOpen:!1};const r={...t};if(i)for(const[a,s]of Object.entries(i))r[a]=s;if(n)for(const[a,s]of Object.entries(n))r[a]=s;const o=(0,c().tf)(y,r);if(o)throw o;return r}function j(e){if(!e.isOpen)return{workflowViewType:void 0,workflowViewKey:void 0,collectionViewId:void 0};const t=e.type,i={};switch(t){case"configure":case"debug":case"runtime_actor":return{...i,workflowViewType:t,workflowViewKey:void 0};case"function":case"module":case"trigger":case"view_settings":return{...i,workflowViewType:t,workflowViewKey:e.key};case"database":return{...i,workflowViewType:t,workflowViewKey:e.id};case"runs":return{...i,workflowViewType:t,workflowViewKey:e.runId};case"test":return{...i,workflowViewType:t,workflowViewKey:`${e.functionKey},${e.name}`};case"preview":return{...i,workflowViewType:"preview",collectionViewId:e.collectionViewId};default:(0,s().HB)(t)}}function I(){const e=(0,n().v3)();return(0,r().K8)((()=>S(e)??{isOpen:!1}),[e])}function N(){const e=(0,n().v3)();return(0,r().K8)((()=>O(e)),[e])}}}]);