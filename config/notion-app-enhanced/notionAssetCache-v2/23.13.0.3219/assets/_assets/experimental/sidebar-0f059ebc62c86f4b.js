"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[31061,75104],{40642:(e,t,n)=>{n.d(t,{b:()=>i});n(242343);var o=n(163643);const i=(0,n(680369).wt)("templates",{viewBox:"0 0 20 20",svg:(0,o.jsxs)("g",{children:[(0,o.jsx)("path",{d:"M6.39733 5.67853C5.89764 5.50234 5.36002 5.40649 4.8 5.40649C2.14904 5.40649 0 7.55432 0 10.2038C0 12.8533 2.14904 15.0011 4.8 15.0011C6.52165 15.0011 8.0316 14.0952 8.87867 12.7343L5.26487 12.0975L6.39733 5.67853Z"}),(0,o.jsx)("path",{d:"M17.3126 3.66609L7.85843 2L6.19141 11.4489L10.6545 12.2354L14.3998 5.81854L16.3449 9.15116L17.3126 3.66609Z"}),(0,o.jsx)("path",{d:"M8.80078 17L14.4008 7.4054L20.0008 17H8.80078Z"})]})})},277328:(e,t,n)=>{n.d(t,{A:()=>i});class o extends(()=>n(129044))().default{getInitialState(){return{contacts:!1}}}const i=o},282135:(e,t,n)=>{n.d(t,{A:()=>v});var o=n(242343),i=()=>n(237385),s=()=>n(803290),r=()=>n(174114),a=()=>n(945335),l=()=>n(31448),d=()=>n(548694),c=()=>n(539581),u=()=>n(384536),p=()=>n(206799),g=()=>n(28210),h=()=>n(24071),m=n(163643);const f=function(e){const{showIcon:t}=e,o=(0,r().DP)(),i=(0,r().IS)((e=>{const n=Math.ceil(60),o=Math.floor(85),i=`${Math.floor(Math.random()*(o-n+1))+n}%`;return{placeholderPageStyle:{height:28,display:"flex",alignItems:"center",width:"100%",padding:t?"0 15px":"0 0px"},placeholderTextWrapStyle:{flexGrow:1,marginLeft:t?10:0,height:28,display:"flex",alignItems:"center"},placeholderTextStyle:{height:4,background:e.buttonHoveredBackground,width:i}}}),[t]);return(0,m.jsxs)("div",{style:i.placeholderPageStyle,children:[t&&(0,n(40642).b)({width:16,height:16,fill:o.buttonHoveredBackground}),(0,m.jsx)("div",{style:i.placeholderTextWrapStyle,children:(0,m.jsx)("div",{style:i.placeholderTextStyle})})]})},x={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"};const v=function(e){const t=(0,r().DP)(),a=(0,i().v3)(),{device:c}=a,u="name"===e.type?e.spaceName:void 0,p="store"===e.type?e.spaceStore:void 0,g=(0,n(887615).n)(p),f=(0,s().K8)((()=>"store"===e.type&&p?(0,d().GK)(a,p):u),[a,e.type,u,p]);return(0,o.useEffect)((()=>{"store"===e.type&&(null==p||p.getValue())}),[p,e.type]),g?(0,m.jsx)(h().A,{left:(0,m.jsx)(j,{}),children:(0,m.jsx)(n(653998).sA,{defaultMessage:"External Pages",id:"sidebarSwitcher.externalPagesButton.title"})}):(0,m.jsxs)(h().A,{style:{overflow:"hidden",paddingLeft:8,paddingRight:8,...e.isMobile&&{fontSize:14,padding:0,marginRight:12},...e.style},left:f?(0,m.jsx)(C,{title:f,icon:"store"===e.type?void 0:e.spaceIcon,isMobile:e.isMobile,spaceStore:"store"===e.type?e.spaceStore:void 0}):(0,m.jsx)(y,{}),disableMobileBorder:!0,children:[!f&&(0,m.jsx)(b,{}),f&&(0,m.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:e.activeUserEmailAddress?"space-between":"start"},className:"notranslate",children:[(0,m.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginRight:6,marginTop:c.isAndroid?3:0,...x},children:[(0,m.jsx)("div",{style:{color:t.text.primary,fontWeight:l().Wy.medium,...x,lineHeight:"20px"},children:f}),(0,m.jsx)("div",{style:{color:t.text.secondary,fontSize:11,lineHeight:"16px",fontWeight:l().Wy.regular,...x},children:e.activeUserEmailAddress})]}),e.showExpand&&(0,m.jsx)("div",{style:{flexGrow:0,flexShrink:0,width:10,height:10,marginLeft:2,fill:t.mediumIconColor},children:(0,n(575681)._)()})]})]})};function y(){return(0,m.jsx)("div",{style:{opacity:.25},children:(0,m.jsx)(u().A,{size:20,title:void 0})})}function b(){return(0,m.jsx)(f,{showIcon:!1})}function C(e){let{title:t,icon:n,isMobile:o,spaceStore:a}=e;const u=(0,r().DP)(),p=(0,i().v3)(),h=(0,s().K8)((()=>a?(0,d().c2)(p,a):n?{icon:n,pointer:{table:"space",id:"undefined"}}:void 0),[a,p,n]),f=(0,s().K8)((()=>a?(0,d().GK)(p,a):t),[a,p,t]),x=(0,s().K8)((()=>c().A.getUnreadMentionsCountForOtherSpaces()>0),[]);return(0,m.jsxs)("div",{style:{position:"relative"},children:[(0,m.jsx)(g().B,{disabled:!0,icon:h,isEmptyPage:!1,title:f,size:o?24:22,style:{marginTop:1,color:u.text.primary,fontWeight:l().Wy.medium}}),x&&(0,m.jsx)(S,{})]})}function S(){const e=(0,r().IS)((e=>({unreadBadge:{backgroundColor:e.redBadgeBackground,position:"absolute",top:0,right:-3,width:8,height:8,borderRadius:4,border:`1px solid ${e.surface.wash}`}})),[]);return(0,m.jsx)("div",{style:e.unreadBadge})}function j(){const e=(0,r().IS)((e=>({iconWrapper:{height:24,width:24,background:e.surface.wash,borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center"}})),[]);return(0,m.jsx)("div",{style:e.iconWrapper,children:(0,m.jsx)(p().Q,{colorName:"graySecondary",iconGroup:a().i,variantName:"default"})})}},303643:(e,t,n)=>{n.d(t,{QH:()=>E,z_:()=>z,Ay:()=>K});n(725707),n(771702);var o=n(242343),i=()=>n(237385),s=()=>n(803290),r=()=>n(174114),a=()=>n(129808),l=()=>n(653998),d=()=>n(945792),c=()=>n(70989),u=()=>n(737682),p=()=>n(273520),g=()=>n(622286),h=()=>n(485966),m=()=>n(723),f=()=>n(976663),x=()=>n(348965),v=(n(491955),n(403517),()=>n(162901)),y=()=>n(23371),b=()=>n(76394),C=()=>n(818369),S=()=>n(548694),j=()=>n(931371);var w=()=>n(81322),k=()=>n(413161),T=()=>n(220413),M=()=>n(31448),A=()=>n(356813),I=()=>n(286404),B=()=>n(443252),_=()=>n(376869),O=()=>n(907721),L=()=>n(466321),R=()=>n(802955),F=()=>n(330358),P=n(163643);const H=(0,l().YK)({offlineIcon:{id:"offlineIndicator.icon",defaultMessage:"No internet connection"},closeIcon:{id:"offlineIndicator.popup.closeIcon",defaultMessage:"Close"}});function V(){const[e,t]=(0,o.useState)(!1),n=(0,l().tz)(),{isElectron:a}=(0,i().Y0)(),d=(0,_().y)(),c=(0,s().K8)((()=>!R().A.state.online&&a&&d),[a,d]),u=(0,T().O4)({theme:"dark"}),p=(0,r().IS)((e=>({iconButton:{width:28,height:28},icon:{width:22,height:22,fill:e.text.primary},iconHover:{background:e.sidebarItemSelectedBackground},popup:{background:e.tooltipBackground,color:e.text.contrastPrimary,width:280,padding:12,fontSize:14},title:{fontWeight:M().Wy.medium},subtitle:{color:e.text.secondary},closeButton:{width:24,height:24,position:"absolute",right:8,top:8},closeIcon:{width:14,height:14,fill:u.accentColors.translucentGray[800]},closeHovered:{background:u.state.hover},closePressed:{background:u.state.pressed},settingsButtonContainer:{display:"flex",justifyContent:"end",paddingTop:10},settingsButton:{border:`1px solid ${u.outlineButtonBorder}`},settingsHover:{background:u.state.hover},settingsPressed:{background:u.state.pressed}})),[u]),g=(0,o.useCallback)((()=>t(!e)),[e]),h=(0,o.useCallback)((()=>t(!1)),[]),m=(0,s().K8)((()=>(0,P.jsx)(A().A,{icon:k().C,ariaLabel:n.formatMessage(H.offlineIcon),onClick:g,style:p.iconButton,iconStyle:p.icon,hoveredStyle:p.iconHover})),[n,g,p]);return c?(0,P.jsx)(B().Ay,{origin:m,originGap:2,open:e,onClosed:h,onDismiss:h,popupType:L().n.Popup,placementToOrigin:O().W.Bottom,alignmentToOrigin:O().C.Start,popupWrapStyle:p.popup,render:()=>(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{style:p.title,children:(0,P.jsx)(l().sA,{id:"offlineIndicator.popup.title",defaultMessage:"No internet connection"})}),(0,P.jsx)(A().A,{ariaLabel:n.formatMessage(H.closeIcon),icon:()=>(0,w().V)(p.closeIcon),style:p.closeButton,hoveredStyle:p.closeHovered,pressedStyle:p.closePressed,onClick:h}),(0,P.jsx)("div",{style:p.subtitle,children:(0,P.jsx)(l().sA,{id:"offlineIndicator.popup.subtitle",defaultMessage:"Return online for full access, or manage your offline settings."})}),(0,P.jsx)("div",{style:p.settingsButtonContainer,children:(0,P.jsx)(I().A,{style:p.settingsButton,hoveredStyle:p.settingsHover,pressedStyle:p.settingsPressed,size:"sm",onClick:()=>{F().A.setState({open:!0,openedFrom:"sidebar_offline_indicator",currentTab:"offline",defaultSubtab:void 0,highlightedSetting:void 0}),h()},children:(0,P.jsx)(l().sA,{id:"offlineIndicator.popup.manageOfflinePagesButton",defaultMessage:"Manage offline pages"})})})]}),trapFocus:!0}):null}let z=function(e){return e[e.Regular=0]="Regular",e[e.DesktopMac=1]="DesktopMac",e[e.Mobile=2]="Mobile",e}({});const E=300,N={[z.Regular]:a().$C-8,[z.DesktopMac]:a().Uu,[z.Mobile]:"auto"},W={display:"flex",alignItems:"center",minWidth:0,height:"100%",width:"100%"},U=n(129044).default.createClass(!1,{name:"SidebarSwitcherIsHoveredStore"});const K=function(e){let{shouldShowUnexpandButton:t,shouldShowCreatePageButton:a,disabled:w,format:k,buttonStyle:T,redirectURL:M,disableLoginLink:A,onSpaceClick:I,hideEmail:B,shouldShowCreateOrJoinWorkspaceButtonInFooter:_=!1}=e;const O=(0,i().v3)(),L=(0,s().uB)(void 0,U),R=(0,s().uB)(void 0,n(277328).A),F=(0,s().uB)(void 0,n(498706).A),{device:H}=O,{isTablet:z}=(0,i().Y0)(),{currentSpaceStore:K,currentUserStore:Z}=(0,s().K8)((()=>{const{currentSpaceStore:e,currentUserStore:t}=h().default.state;return{currentSpaceStore:e,currentUserStore:t}}),[]),G=(0,s().K8)((()=>{const{mainEditorCurrentBlockStore:e}=h().default.state;return null==e?void 0:e.getSpaceStore()}),[]),$=O.currentUser.loggedInUserIds,Q=(0,s().K8)((()=>{if(!B)return $.length>1?null==Z?void 0:Z.getEmail():void 0}),[$,Z,B]),J=(0,s().O$)(L),q=(0,s().K8)((()=>n(503984).default.isTutorialStepActive("create_page_sidebar")&&a),[a]),Y=(0,g().X)("organization_console_ga_enabled"),{organizationsInfo:X}=(0,n(709625).q)(),{spaceInfo:ee}=function(e){const{userId:t}=e,n=(0,i().v3)(),o=(0,s().K8)((()=>t?x().A.getSpaceViewStores(n,t):[]),[n,t]),r=(0,s().K8)((()=>o.map((e=>e.getSpaceStore())).filter(b().O9)),[o]),a=(0,s().K8)((()=>t?r.map((e=>{const n=(0,j().dp)(e,t).isWorkspaceOwner(),o="enterprise"===e.getSubscriptionTier();if(n&&o)return e})).filter(b().O9):[]),[r,t]),l=(0,g().X)("organization_console_ga_enabled"),[{value:d,status:c}]=(0,v().Yb)((async()=>{if(l)return(await(0,y().lX)(a,10,(e=>{const t=e.id;return C().callApi({eventName:"getOrganizationOnboardingInfo",environment:n,data:{spaceId:t}}).then((o=>{if("success"===o.type)return"ineligible"===o.data.result.onboardingStatus||"completed"===o.data.result.onboardingStatus?void 0:{spaceId:t,spaceName:(0,S().GK)(n,e)}}))}))).filter(b().O9)}),[n,l,a]);return{spaceInfo:d??[],isLoading:"resolved"!==c}}({userId:O.currentUser.id}),te=(0,o.useMemo)((()=>({organizationsInfo:X,spaceInfo:Y?ee:[]})),[Y,X,ee]),ne=(0,s().uB)(void 0,n(339838).A),oe=(0,s().K8)((()=>ne.state.modalOpen),[ne]),ie=(0,r().IS)((e=>({popup:{...H.isMobile?{}:{width:E,overflow:"hidden"}},button:{...W,height:N[k],marginLeft:4,marginRight:4,marginTop:H.isMobile?0:4,width:"calc(100% - 8px)",borderRadius:4,marginBottom:Q?H.isMobile?0:8:0,padding:0,...T},spaceName:{marginLeft:0},hoveredStyle:{background:e.sidebarItemSelectedBackground},unexpand:{borderRadius:4,width:28,height:28,marginRight:4},unexpandHover:{fill:e.text.primary,background:e.sidebarItemSelectedBackground},rightButtonsContainer:{display:"flex",alignItems:"center",height:"100%",marginLeft:"auto",marginRight:0},rightButtons:{alignItems:"center",display:"inline-flex",marginRight:2,gap:2}})),[Q,T,H.isMobile,k]),se=async()=>n(667801).quickAddPage({environment:O,from:"home_checklist"}),re=(0,o.useCallback)((()=>{const e=(0,l().YK)({invitingMembers:{id:"sidebarSwitcherMultiAccount.inviteMember.loadingMessage",defaultMessage:"Updating…"}});c().m({message:e.invitingMembers})}),[]),ae=(0,o.useCallback)(((e,t)=>{c().V();const o=e?(0,P.jsx)(l().sA,{id:"sidebarSwitcherMultiAccount.inviteMember.successToastMessage",defaultMessage:"Successfully sent"}):(0,P.jsx)(l().sA,{id:"sidebarSwitcherMultiAccount.inviteMember.failureToastMessage",defaultMessage:"Failed to send invites"});n(575015).D6({label:o})}),[]),le=K||G;if(!le||!Z)return null;const de=Boolean(w)||q;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(p().Ay,{popupType:H.isMobile?p().z7.SlideUp:p().z7.Popup,buttonPopupStore:f().A,renderOrigin:()=>(0,P.jsxs)(n(126451).A,{style:ie.button,mobileFeedback:H.isMobile,onClick:()=>function(e){f().A.setState({...f().A.state,open:!0}),d().PL(e),e.currentUser.loggedInUserIds.forEach((t=>{x().A.getSpaceViewStores(e,t).forEach((n=>{const o=n.getSpaceId();o&&(u().Z({environment:e,spaceId:o,userId:t}),m().J({environment:e,spaceId:o,userId:t}))}))}))}(O),disabled:de,className:n(983050).eGX,hovered:J,hoveredStyle:ie.hoveredStyle,ignoreLocalHoverState:!0,onMouseEnter:()=>L.setState(!0),onMouseLeave:()=>L.setState(!1),children:[(0,P.jsx)(n(282135).A,{isMobile:D(k),spaceStore:le,activeUserEmailAddress:Q,showExpand:!de,type:"store",style:ie.spaceName}),(0,P.jsx)("div",{style:ie.rightButtonsContainer,children:(0,P.jsxs)("div",{style:ie.rightButtons,children:[t&&(0,P.jsx)(n(569434).I,{style:ie.unexpand,hoveredStyle:ie.unexpandHover}),(0,P.jsx)(V,{}),!z&&a&&(0,P.jsx)(n(335142).n,{step:"create_page_sidebar",isFullWidth:!1,onNextButtonClick:se,wrapperStyle:{display:"flex"},children:(0,P.jsx)(n(949562).A,{from:"sidebar_new_page_button"})})]})})]}),originGap:0,disableMutationObserver:!0,forceInitialInbound:!0,style:ie.popup,render:e=>(0,P.jsx)(n(633990).UL,{permissionsInviteStore:ne,parent:e,redirectURL:M,disableLoginLink:A,onSpaceClick:I,loginStore:F,loginPermissionsStore:R,organizationEntryPointProps:te,shouldShowCreateOrJoinWorkspaceButtonInFooter:_})}),oe&&(0,P.jsx)(n(905977).H,{store:le,permissionsInviteStore:ne,origin:(0,P.jsx)(P.Fragment,{}),membersOnly:!0,shouldGrow:!1,disabled:!1,isSubscribed:!1,upgradeButtonName:"space_permission_settings",onInviteClick:re,onInviteComplete:ae,analyticsFrom:"space_switcher_invite_button"}),(0,P.jsx)(n(998865).cx,{store:le,origin:(0,P.jsx)(P.Fragment,{}),analyticsFrom:"space_switcher_add_members"})]})};function D(e){return e===z.Mobile}},309584:(e,t,n)=>{n.d(t,{b:()=>i});n(242343);var o=n(163643);const i=(0,n(680369).wt)("sidebarLeft",{viewBox:"0 0 18 14",svg:(0,o.jsx)("path",{d:"M3.1416 13.4561C2.40332 13.4561 1.84505 13.2669 1.4668 12.8887C1.08854 12.515 0.899414 11.9635 0.899414 11.2344V2.91504C0.899414 2.18132 1.08854 1.6276 1.4668 1.25391C1.84505 0.880208 2.40332 0.693359 3.1416 0.693359H14.8447C15.5876 0.693359 16.1481 0.880208 16.5264 1.25391C16.9046 1.6276 17.0938 2.18132 17.0938 2.91504V11.2344C17.0938 11.9635 16.9046 12.515 16.5264 12.8887C16.1481 13.2669 15.5876 13.4561 14.8447 13.4561H3.1416ZM3.22363 12.1094H14.7695C15.084 12.1094 15.3255 12.0273 15.4941 11.8633C15.6628 11.6992 15.7471 11.4508 15.7471 11.1182V3.02441C15.7471 2.69629 15.6628 2.4502 15.4941 2.28613C15.3255 2.12207 15.084 2.04004 14.7695 2.04004H3.22363C2.90462 2.04004 2.66081 2.12207 2.49219 2.28613C2.32812 2.4502 2.24609 2.69629 2.24609 3.02441V11.1182C2.24609 11.4508 2.32812 11.6992 2.49219 11.8633C2.66081 12.0273 2.90462 12.1094 3.22363 12.1094ZM6.33398 12.3281V1.80762H7.6123V12.3281H6.33398ZM4.99414 4.54199H3.59277C3.47428 4.54199 3.36947 4.49642 3.27832 4.40527C3.19173 4.31413 3.14844 4.21387 3.14844 4.10449C3.14844 3.986 3.19173 3.88346 3.27832 3.79688C3.36947 3.71029 3.47428 3.66699 3.59277 3.66699H4.99414C5.11719 3.66699 5.22201 3.71029 5.30859 3.79688C5.39974 3.88346 5.44531 3.986 5.44531 4.10449C5.44531 4.21387 5.39974 4.31413 5.30859 4.40527C5.22201 4.49642 5.11719 4.54199 4.99414 4.54199ZM4.99414 6.37402H3.59277C3.47428 6.37402 3.36947 6.33073 3.27832 6.24414C3.19173 6.15299 3.14844 6.04818 3.14844 5.92969C3.14844 5.81576 3.19173 5.71549 3.27832 5.62891C3.36947 5.54232 3.47428 5.49902 3.59277 5.49902H4.99414C5.11719 5.49902 5.22201 5.54232 5.30859 5.62891C5.39974 5.71549 5.44531 5.81576 5.44531 5.92969C5.44531 6.04818 5.39974 6.15299 5.30859 6.24414C5.22201 6.33073 5.11719 6.37402 4.99414 6.37402ZM4.99414 8.19922H3.59277C3.47428 8.19922 3.36947 8.15592 3.27832 8.06934C3.19173 7.98275 3.14844 7.88249 3.14844 7.76855C3.14844 7.65007 3.19173 7.54753 3.27832 7.46094C3.36947 7.37435 3.47428 7.33105 3.59277 7.33105H4.99414C5.11719 7.33105 5.22201 7.37435 5.30859 7.46094C5.39974 7.54753 5.44531 7.65007 5.44531 7.76855C5.44531 7.88249 5.39974 7.98275 5.30859 8.06934C5.22201 8.15592 5.11719 8.19922 4.99414 8.19922Z"})})},339838:(e,t,n)=>{n.d(t,{A:()=>i});class o extends(()=>n(129044))().default{getInitialState(){return{modalOpen:!1,tokenQuery:"",inviteTargets:[],inviteRole:"editor",isInviteTargetsEmpty:!0,table:n(145017).ev,flowId:void 0,inputFocus:"invitee",emailMessage:""}}}const i=o},355852:(e,t,n)=>{n.d(t,{U:()=>r});var o=()=>n(237385),i=()=>n(803290),s=()=>n(782422);function r(){var e;const t=(0,o().v3)();return(null===(e=(0,i().O$)((0,s().rp)(t)))||void 0===e?void 0:e.userJoinedTeamsStores)??[]}},472671:(e,t,n)=>{n.d(t,{I:()=>Z});var o=n(242343),i=()=>n(237385),s=()=>n(803290),r=()=>n(174114),a=()=>n(220413),l=()=>n(975392),d=()=>n(111066),c=()=>n(486826),u=()=>n(653998),p=()=>n(84543),g=()=>n(658388),h=()=>n(907721),m=()=>n(485966),f=()=>n(13990),x=()=>n(503984),v=n(163643);const y=function(e){let{type:t,step:s,trackingFrom:a,onDismiss:l,style:d,onNextButtonClick:c,onPrevButtonClick:u,...p}=e;const g=(0,r().IS)((e=>({tooltipStyle:{marginLeft:6,...d}})),[d]),h=(0,i().v3)(),m=o.useRef(!1),[y,b,C]=(0,n(285219).Jg)(t,s);o.useEffect((()=>{m.current||(m.current=!0,f().i(h,{from:a}))}),[h,a]);const S=o.useCallback((()=>{var e,n;(null==c||c(),null===C)?(null===(e=(n=x().default.state).onCompleteOrClose)||void 0===e||e.call(n),x().default.setState({type:"inactive"})):x().default.setState({...x().default.state,type:t,step:C})}),[t,C,c]),j=o.useCallback((()=>{b&&(x().default.setState({...x().default.state,type:t,step:b}),null==u||u())}),[t,b,u]),w=o.useCallback((()=>{var e,t;null==l||l(),null===(e=(t=x().default.state).onCompleteOrClose)||void 0===e||e.call(t),x().default.setState({type:"inactive"}),f().z(h,{from:a})}),[h,l,a]);return(0,v.jsx)(n(822493).k,{pointerDotSize:0,pointerLength:0,style:g.tooltipStyle,headerStyle:{display:"block"},onCloseClick:w,numSteps:y.length,currStepIndex:y.indexOf(s),onPrimaryButtonClick:S,onSkipButtonClick:w,onBackButtonClick:b?j:void 0,...p})};function b(e){let{type:t,contentRef:n}=e;const s=(0,i().v3)(),a=o.useCallback((()=>function(e){const{currentUserSettingsStore:t}=m().default.state;if(!t)return;x().default.setState({type:"inactive"}),p().createAndCommit({userAction:"PageVerificationTourTooltip.markPageVerificationTooltipAsSeen",environment:e,canUndo:!0,perform:e=>{g().mJ({userSettingsStore:t,transaction:e,data:{page_verification_tooltip_dismissed_at:c().c9.now().toMillis()}})}})}(s)),[s]),l=(0,r().IS)((()=>({tooltipStyle:{marginTop:4,width:280}})),[]);return(0,v.jsx)(y,{placementToOrigin:"bottom",alignmentToOrigin:h().C.Center,origin:n,style:l.tooltipStyle,header:(0,v.jsx)(u().sA,{id:"PageVerificationTourTooltip.header",defaultMessage:"Verified docs you can trust"}),content:(0,v.jsx)(u().sA,{id:"PageVerificationTourTooltip.content",defaultMessage:"Mark any Notion page as verified, so team members find up-to-date into. Hover above the page title to add this badge to any page."}),type:t,onDismiss:a,skipButtonContent:null,finalButtonContent:(0,v.jsx)(u().sA,{id:"PageVerificationTourTooltip.tryItNowButton",defaultMessage:"Try it now"}),onNextButtonClick:a,step:"verify_page",trackingFrom:"sidebar_tour_home"})}var C=()=>n(73876),S=()=>n(701320),j=()=>n(728118),w=()=>n(748267),k=()=>n(991888),T=()=>n(592578),M=()=>n(309584),A=()=>n(687459),I=()=>n(858316),B=()=>n(40642),_=()=>n(397791),O=()=>n(329979),L=()=>n(105373),R=()=>n(382329);function F(e){const{style:t}=e,n=(0,r().IS)((e=>({tooltipStyle:{marginLeft:6,...t}})),[t]);return(0,v.jsx)(y,{...e,style:n.tooltipStyle,placementToOrigin:"right",alignmentToOrigin:h().C.Start})}const P={width:20,height:20,marginBottom:8};function H(e){let{type:t,contentRef:n}=e;return(0,v.jsx)(F,{origin:n,header:(0,v.jsxs)(v.Fragment,{children:[(0,S().x)(P),(0,v.jsx)(u().sA,{id:"TeamCreatorWelcomeTooltip.header",defaultMessage:"Welcome to your workspace"})]}),content:(0,v.jsx)(u().sA,{id:"TeamCreatorWelcomeTooltip.content",defaultMessage:"A workspace is a virtual home to create, organize, and share content"}),skipButtonContent:(0,v.jsx)(u().sA,{id:"TeamCreatorWelcomeTooltip.skipButton",defaultMessage:"Skip"}),style:{width:300},type:t,step:"welcome",trackingFrom:"sidebar_tour_welcome"})}function V(e){let{type:t,contentRef:n}=e;return(0,v.jsx)(F,{origin:n,header:(0,v.jsxs)(v.Fragment,{children:[(0,M().b)(P),(0,v.jsx)(u().sA,{id:"TeamCreatorActionsTooltip.header",defaultMessage:"Get around with your sidebar"})]}),content:(0,v.jsx)(u().sA,{id:"TeamCreatorActionsTooltip.content",defaultMessage:"Jump to pages, keep track of work, and access workspace settings"}),style:{width:300,marginLeft:4},type:t,step:"actions",trackingFrom:"sidebar_tour_actions"})}function z(e){let{type:t,contentRef:n}=e;const o=(0,i().v3)(),r=(0,s().K8)((()=>(0,O().isWorkflowTemplatesEnabledForOnboarding)(o)),[o]);return(0,v.jsx)(F,{origin:n,header:(0,v.jsxs)(v.Fragment,{children:[(0,A().E)(P),r?(0,v.jsx)(u().sA,{id:"TeamCreatorTeamspacesTooltip.header.workflow_templates",defaultMessage:"Set up your team’s workflows"}):(0,v.jsx)(u().sA,{id:"TeamCreatorTeamspacesTooltip.header",defaultMessage:"Every team, side-by-side"})]}),content:r?(0,v.jsx)(u().sA,{id:"TeamCreatorTeamspacesTooltip.content.workflow_templates",defaultMessage:"Based on what you told us earlier, we’ve set up some templates to help you get started"}):(0,v.jsx)(u().sA,{id:"TeamCreatorTeamspacesTooltip.content",defaultMessage:"Teamspaces are dedicated spaces to help keep every team’s unique content and workflows organized"}),style:{width:300,marginLeft:12},type:t,step:"teamspaces",trackingFrom:"sidebar_tour_teamspaces",skipButtonContent:r?null:void 0})}function E(e){let{type:t,contentRef:n}=e;return(0,v.jsx)(F,{origin:n,header:(0,v.jsxs)(v.Fragment,{children:[(0,I().F)(P),(0,v.jsx)(u().sA,{id:"TeamCreatorPrebuiltTemplatesTooltip.header",defaultMessage:"Setups to get started"})]}),content:(0,v.jsx)(u().sA,{id:"TeamCreatorPrebuiltTemplatesTooltip.content",defaultMessage:"Get your team started with these ready-to-use, customizable templates"}),style:{width:300},type:t,step:"prebuilt_templates",trackingFrom:"sidebar_tour_prebuilt_templates"})}function N(e){let{type:t,contentRef:n}=e;return(0,v.jsx)(F,{origin:n,header:(0,v.jsxs)(v.Fragment,{children:[(0,w().g)({height:16,width:16,marginBottom:8}),(0,v.jsx)(u().sA,{id:"TeamCreatorPrivateTooltip.header",defaultMessage:"Draft in private"})]}),content:(0,v.jsx)(u().sA,{id:"TeamCreatorPrivateTooltip.content",defaultMessage:"A space for anything you want to work on individually before sharing with others, like notes or tasks"}),style:{width:300,marginLeft:12},type:t,step:"private",trackingFrom:"sidebar_tour_private"})}function W(e){let{type:t,contentRef:n}=e;return(0,v.jsx)(y,{origin:n,header:(0,v.jsxs)(v.Fragment,{children:[(0,k().x)({height:16,width:16,marginBottom:8}),(0,v.jsx)(u().sA,{id:"TeamCreatorAIAssistantTooltip.header",defaultMessage:"Knowledge, answers, ideas with AI"})]}),content:(0,v.jsx)(u().sA,{id:"TeamCreatorAIAssistantTooltip.content",defaultMessage:"More help is always just a click away"}),type:t,style:{width:300,marginRight:8},step:"ai_assistant",trackingFrom:"sidebar_tour_ai_assistant",placementToOrigin:"left",alignmentToOrigin:h().C.Center})}function U(e){let{type:t,contentRef:n}=e;const o=(0,i().v3)();return(0,v.jsx)(F,{origin:n,header:(0,v.jsxs)(v.Fragment,{children:[(0,B().b)(P),(0,v.jsx)(u().sA,{id:"TeamCreatorExploreTemplatesTooltip.header",defaultMessage:"Build anything with templates"})]}),content:(0,v.jsx)(u().sA,{id:"TeamCreatorExploreTemplatesTooltip.content",defaultMessage:"Explore thousands of templates handpicked by our editorial team"}),style:{width:300,marginLeft:12},type:t,step:"explore_templates",trackingFrom:"sidebar_tour_explore_templates",onNextButtonClick:()=>{"explore_community_templates"!==x().default.state.type&&"explore_template_marketplace"!==x().default.state.type||(0,L().P)({environment:o})}})}function K(e){let{type:t,contentRef:n}=e;const s=(0,i().v3)(),r=o.useCallback((()=>(0,R().tL)(s)),[s]);return(0,v.jsx)(F,{origin:n,style:{width:300,marginLeft:12},header:(0,v.jsxs)(v.Fragment,{children:[(0,T().J)(P),(0,v.jsx)(u().sA,{id:"HomeAvailableTooltip.header",defaultMessage:"Your work now has a Home!"})]}),content:(0,v.jsx)(u().sA,{id:"HomeAvailableTooltip.content",defaultMessage:"Jump back into recent projects, docs, and notes. It's all here"}),type:t,onDismiss:r,hideActions:!0,step:"home",trackingFrom:"sidebar_tour_home"})}function D(e){let{type:t,contentRef:n}=e;return(0,v.jsx)(F,{origin:n,header:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(_().I,{icon:j().S,color:"contrast",size:"sm"}),(0,v.jsx)("div",{style:{marginTop:"8px"}}),(0,v.jsx)(u().sA,{id:"InviteMembersTooltip.header",defaultMessage:"Supercharge your Notion"})]}),content:(0,v.jsx)(u().sA,{id:"InviteMembersTooltip.content",defaultMessage:"Invite anyone to work together in one place"}),style:{width:300,marginLeft:12},type:t,step:"invite_members",trackingFrom:"adoption_push_invite"})}function Z(e){let{contentRef:t,step:n,showSidebarOverlays:r,onNextButtonClick:a,onBackButtonClick:l,tutorialMetadata:c}=e;const u=(0,s().K8)((()=>x().default.state),[]),p=(0,i().v3)();if(o.useEffect((()=>{(0,x().tourIsActiveInSidebarStep)(x().default.state)&&t.current&&"inactive"!==u.type&&u.step===n&&d().hT({element:t.current,environment:p,scrollerContext:{verticalScroller:C().A.SidebarScroller,horizontalScroller:void 0},vertical:{reveal:"closest"},horizontal:void 0})}),[p,u,n,t]),"inactive"===u.type||u.step!==n)return null;const g={type:u.type,contentRef:t,onNextButtonClick:a,onBackButtonClick:l,tutorialMetadata:c};let h,m=!1;switch(n){case"welcome":h=(0,v.jsx)(H,{...g});break;case"actions":h=(0,v.jsx)(V,{...g});break;case"teamspaces":h=(0,v.jsx)(z,{...g});break;case"prebuilt_templates":h=(0,v.jsx)(E,{...g});break;case"private":h=(0,v.jsx)(N,{...g});break;case"explore_templates":h=(0,v.jsx)(U,{...g});break;case"home":h=(0,v.jsx)(K,{...g}),m=!0;break;case"ai_assistant":h=(0,v.jsx)(W,{...g});break;case"verify_page":h=(0,v.jsx)(b,{...g});break;case"invite_members":h=(0,v.jsx)(D,{...g});break;default:h=null}return(0,v.jsxs)(v.Fragment,{children:[r&&(0,v.jsx)(G,{contentRef:t,allowClickthrough:m}),h]})}function G(e){let{contentRef:t,allowClickthrough:n}=e;const[i,d]=o.useState(null);o.useEffect((()=>{var e;const n=l().sg((()=>{var e;d((null===(e=t.current)||void 0===e?void 0:e.getBoundingClientRect())||null)}),50,{leading:!0}),o=new ResizeObserver(n),i=null===(e=C().A.SidebarScroller)||void 0===e?void 0:e.getNode();return i&&o.observe(i),window.addEventListener("resize",n),()=>{o.disconnect(),window.removeEventListener("resize",n)}}),[t]);const c=(0,s().K8)((()=>n?"none":void 0),[n]),u=(0,r().IS)((e=>({highlight:{position:"absolute",top:i?i.top:0,left:4,height:i?i.height:0,width:"calc(100% - 8px)",background:"dark"===e.mode?a().Ay.whiteWithAlpha(.05):a().Ay.blackWithAlpha(.05),boxShadow:e.outlineBlueInputBoxShadow,borderRadius:4,pointerEvents:c},topOpacityLayer:{position:"absolute",top:0,height:i?i.top-2:0,width:"100%",zIndex:999,background:e.surface.wash,opacity:.6},bottomOpacityLayer:{position:"absolute",top:i?i.top+i.height+2:void 0,height:i?"100vh":0,width:"100%",zIndex:999,background:e.surface.wash,opacity:.6},interactionGuard:{position:"absolute",top:0,height:i?"100vh":0,width:"100%",zIndex:999,pointerEvents:c}})),[i,c]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{style:u.highlight}),(0,v.jsx)("div",{style:u.bottomOpacityLayer}),(0,v.jsx)("div",{style:u.topOpacityLayer}),(0,v.jsx)("div",{style:u.interactionGuard})]})}},496285:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var o=n(242343),i=()=>n(237385),s=()=>n(174114),r=()=>n(582099),a=()=>n(653998),l=()=>n(202884),d=()=>n(245313),c=()=>n(726910),u=n(163643);function p(e,t){const{title:i,sectionTitle:r,showSectionTitle:l}=e,d=(0,s().IS)((e=>({title:{marginRight:6},sectionTitle:{color:e.text.tertiary,marginRight:6}})),[]),c=(0,o.useCallback)((e=>{const o=l?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("span",{style:d.title,children:(0,u.jsx)(a().sA,{...i})}),(0,u.jsx)("span",{style:d.sectionTitle,children:"·"}),(0,u.jsx)("span",{style:d.sectionTitle,children:r})]}):(0,u.jsx)(a().sA,{...i});return(0,u.jsx)(n(535906).A,{...e,ref:t,title:o,icon:(0,u.jsx)(g,{}),itemMarginLeft:0,itemMarginRight:4})}),[t,i,r,l,d.title,d.sectionTitle]);return(0,u.jsx)(n(350208).A,{...e,title:(0,u.jsx)(a().sA,{...i}),disableDefaultClick:!0,renderOrigin:c,renderExtension:(t,n)=>(0,u.jsx)(h,{popupEvents:t,extensionParent:n,...e})})}function g(){const e=(0,s().IS)((e=>({iconContainer:{display:"flex",alignItems:"center",justifyContent:"center"},icon:{width:20,height:20,fill:e.mediumIconColor}})),[20]);return(0,u.jsx)("div",{style:e.iconContainer,children:(0,r().C)(e.icon)})}function h(e){const{popupEvents:t,extensionParent:n,blocksToTransform:s,onAccept:r,...a}=e,p=(0,i().v3)(),[g,h]=(0,o.useState)("");return(0,d().A)({shouldPreserveTextSelection:!0,shouldPreserveBlockSelection:!1,shouldRestoreSelection:!0}),(0,u.jsx)(c().Ay,{...a,targets:s,isAddTo:!0,isCreateIn:!0,isTurnIntoPage:!0,parentBlockId:void 0,onAccept:async e=>{r&&r(),n.close(),await l().zz(p,{createInValue:e,blocksToTransform:s})},onCancel:n.close,autocompleteQuery:g,onAutocompleteQueryChange:h,onMouseEnter:t.onMouseEnter,desktopWidth:400})}const m=o.forwardRef(p)},575681:(e,t,n)=>{n.d(t,{_:()=>i});n(242343);var o=n(163643);const i=(0,n(680369).wt)("chevronDownRounded",{viewBox:"0 0 15 9",svg:(0,o.jsx)("path",{d:"M7.92188 8.65625C8.19531 8.64844 8.44531 8.54688 8.64844 8.32812L14.5859 2.25C14.7578 2.07812 14.8516 1.85938 14.8516 1.60156C14.8516 1.08594 14.4453 0.671875 13.9297 0.671875C13.6797 0.671875 13.4375 0.773438 13.2578 0.953125L7.92969 6.42969L2.58594 0.953125C2.40625 0.78125 2.17188 0.671875 1.91406 0.671875C1.39844 0.671875 0.992188 1.08594 0.992188 1.60156C0.992188 1.85938 1.08594 2.07812 1.25781 2.25L7.20312 8.32812C7.41406 8.54688 7.64844 8.65625 7.92188 8.65625Z"})})},619262:(e,t,n)=>{n.d(t,{A:()=>i});class o extends(()=>n(129044))().default{getInitialState(){return!1}}const i=new o},621201:(e,t,n)=>{n.r(t),n.d(t,{SidebarCard:()=>Se,SidebarFooter:()=>E().A,SidebarSectionWithPopup:()=>xe,SidebarSwitcherMultiAccountPopup:()=>z().Ay,SidebarTeamBrowserContent:()=>H,TourTutorialContent:()=>ve().I});var o=n(242343),i=()=>n(237385),s=()=>n(803290),r=()=>n(174114),a=()=>n(653998),l=()=>n(539174),d=()=>n(360378),c=()=>n(441292),u=()=>n(59175),p=()=>n(485966),g=(n(403517),()=>n(951592)),h=()=>n(263873),m=()=>n(103949),f=()=>n(688986),x=()=>n(188877),v=()=>n(975392),y=()=>n(31448),b=()=>n(126451),C=()=>n(397791),S=()=>n(611824),j=()=>n(522913),w=()=>n(277112),k=()=>n(24071),T=()=>n(136239),M=()=>n(904697),A=()=>n(618946),I=()=>n(580257),B=()=>n(628854),_=()=>n(355852),O=()=>n(613822),L=()=>n(993652),R=()=>n(771596),F=n(163643);function P(e){let{searchQuery:t,onClearSearchQueryClicked:n}=e;const o=(0,A().p)(),l=(0,s().O$)(p().AppStoreCurrentSpaceStore),d=(0,s().O$)(p().AppStoreCurrentSpaceViewStore),c=(0,i().v3)(),u=(0,_().U)(),P=(0,O()._)(),H=(0,s().K8)((()=>{return l?(e=P,v().Ul(e,(e=>{var t;return-1*((null===(t=(0,M().getTeamMemberCountAndSampleUserIds)(e))||void 0===t?void 0:t.memberCount)??0)}))):[];var e}),[l,P]),V=(0,s().uB)(void 0,I().A),z=t.trim(),E=(0,g().lW)(z,200,((e,t)=>e===t)),N=(0,s().K8)((()=>{if(""!==E)return(0,x().Ay)(E,[...u,...H],(e=>e.getName()??""))}),[u,E,H]),W=(0,s().K8)((()=>(0,M().canCreateTeam)({environment:c,spaceStore:l})),[l,c]),U=(0,r().IS)((e=>({scroller:{height:"100%",paddingBottom:60,paddingLeft:8,paddingRight:8},noUnjoinedTeamsContainer:{marginLeft:15,...y().RC,fontSize:y().J.UIRegular.desktop},noFilterResultsContainer:{display:"flex",flexDirection:"column",padding:15,height:"100%",alignItems:"center",justifyContent:"center"},noFilterResultsTitle:{color:e.text.secondary,fontSize:y().J.UIRegular.desktop},noFilterResultsDescription:{color:e.text.secondary,fontSize:y().J.UIRegular.desktop,fontWeight:y().Wy.regular},noFilterResultsIcon:{width:30,height:30,marginBottom:10},sidebarItemButtonStyle:(0,T().sQ)({isMobile:!1}),nMoreText:{fontWeight:y().Wy.semibold}})),[]);if(!l||!d||!o)return null;if(""!==E&&""!==z&&0===(null==N?void 0:N.length))return(0,F.jsxs)("div",{style:U.noFilterResultsContainer,children:[(0,m().k)(U.noFilterResultsIcon),(0,F.jsx)("div",{style:U.noFilterResultsTitle,children:(0,F.jsx)(a().sA,{id:"teamBrowserOutliner.noFilterResults.title",defaultMessage:"No results"})}),(0,F.jsx)("div",{style:U.noFilterResultsDescription,children:(0,F.jsx)(a().sA,{id:"teamBrowserOutliner.noFilterResults.description",defaultMessage:"Try again or <linkbutton>clear search</linkbutton>",values:{linkbutton:e=>(0,F.jsx)(S().A,{onClick:n,children:e})}})})]});const K=""!==E&&""!==z,D={shouldPersistToggleState:!1,spaceStore:l,spaceViewStore:d,showAddButton:!1},Z=e=>{let{teams:t,teamOutlinerType:n}=e;return t.map((e=>(0,F.jsx)(L().Q,{initialToggleState:"hidden",teamStore:e,sidebarState:o,isLastTeam:!1,shouldPersistToggleState:!1,teamOutlinerType:n,from:"secondary_sidebar"},e.id)))};return(0,F.jsx)(j().d,{scrollerStore:V,scrollerStyle:U.scroller,children:K?(0,F.jsx)(w().Ay,{...D,type:f().GU,from:"main_sidebar",sectionLabel:(0,F.jsx)(a().sA,{defaultMessage:"Search results",id:"teamBrowserOutliner.searchResultsLabel"}),renderSidebar:()=>Z({teams:N??[],teamOutlinerType:f().GU})}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(w().Ay,{...D,type:f().zt,from:"main_sidebar",labelTooltip:(0,F.jsx)(a().sA,{defaultMessage:"Teamspaces you have joined",id:"teamBrowserOutliner.joinedTeamsSection.tooltip"}),sectionLabel:(0,F.jsx)(a().sA,{defaultMessage:"Your teamspaces",id:"teamBrowserOutliner.joinedTeamsLabel"}),renderSidebar:e=>{let{contentsAriaId:t}=e;return(0,F.jsx)(R().w,{teams:u,reorderable:!0,id:t,teamOutlinerType:f().zt,from:"secondary_sidebar"})}}),(0,F.jsx)(w().Ay,{...D,type:f().AX,from:"main_sidebar",labelTooltip:(0,F.jsx)(a().sA,{defaultMessage:"Teamspaces you can join",id:"teamBrowserOutliner.unjoinedTeamsSection.tooltip"}),sectionLabel:(0,F.jsx)(a().sA,{defaultMessage:"More teamspaces",id:"teamBrowserOutliner.unjoinedTeamsLabel"}),renderSidebar:()=>0===H.length?W?(0,F.jsx)(b().A,{onClick:()=>B().vn("browse_teams"),style:U.sidebarItemButtonStyle,children:(0,F.jsx)(k().A,{left:(0,F.jsx)(C().I,{icon:h().plusSmallIcon,size:"sm",color:"secondary"}),children:(0,F.jsx)(a().sA,{defaultMessage:"New teamspace",id:"teamBrowserOutliner.createTeamspaceButton"})})}):(0,F.jsx)("div",{style:U.noUnjoinedTeamsContainer,children:(0,F.jsx)(a().sA,{id:"teamBrowserOutliner.noUnjoinedTeams",defaultMessage:"No teamspaces to join"})}):Z({teams:H,teamOutlinerType:f().AX})})]})})}function H(){const e=(0,i().v3)(),t=(0,s().O$)(p().AppStoreCurrentSpaceStore),n=(0,s().O$)(p().AppStoreCurrentSpaceViewStore),[a,d]=(0,o.useState)(""),c=(0,o.useCallback)((e=>d(e)),[]),u=(0,o.useCallback)((()=>{l().ED(e,{from:"empty_results_reset_link"}),d("")}),[e]),g=(0,o.useCallback)((()=>{l().ED(e,{from:"search_input"}),d("")}),[e]),h=(0,r().IS)((()=>({container:{display:"flex",flexDirection:"column",height:"100%",width:"100%"},outlinerContainer:{overflow:"hidden",flexGrow:1}})),[]);return t&&n?(0,F.jsxs)("div",{style:h.container,children:[(0,F.jsx)(V,{onChange:c,searchQuery:a,onClearButtonClicked:g}),(0,F.jsx)("div",{style:h.outlinerContainer,children:(0,F.jsx)(P,{searchQuery:a,onClearSearchQueryClicked:u})})]}):null}function V(e){let{onChange:t,searchQuery:n,onClearButtonClicked:s}=e;const l=(0,i().v3)(),p=(0,a().tz)(),[g,h]=(0,o.useState)(!0),m=(0,r().IS)((e=>({input:{borderRadius:6,backgroundColor:e.whiteButtonBackground},inputWrapper:{paddingTop:4,paddingBottom:12,paddingLeft:16,paddingRight:16}})),[]),f=(0,o.useCallback)((e=>t(e.target.value)),[t]),x=(0,o.useCallback)((()=>h(!1)),[]),v=(0,o.useCallback)((()=>{d().IU({environment:l}),h(!0)}),[l]),y=p.formatMessage({defaultMessage:"Search teamspaces...",id:"sidebarTeamBrowserHeader.searchFilter.placeholderWithoutSpaceName"});return(0,F.jsx)(c().A,{debugName:"SidebarTeamBrowserHeader",capture:g,allowEsc:!0,children:(0,F.jsx)("div",{style:m.inputWrapper,children:(0,F.jsx)(u().A,{placeholder:y,focusInitial:!0,showClearButton:!0,style:m.input,value:n,onChange:f,onBlur:x,onFocus:v,onClearButtonClick:s})})})}var z=()=>n(855592),E=()=>n(418583),N=()=>n(461201),W=()=>n(482936),U=()=>n(335142),K=()=>n(712437),D=()=>n(66460),Z=(n(725707),n(500234),()=>n(412527));function G(e){const t=v().Bq(Object.values(Z().yG).map((e=>v().oE(Object.values(e.sources)))));return Boolean(t.find((t=>{let{rootId:n}=t;return n===e})))}var $=()=>n(818369),Q=()=>n(191756),J=()=>n(737682),q=()=>n(358920),Y=()=>n(138121);class X extends(()=>n(129044))().default{getInitialState(){return{isLoaded:!1,left:0,top:0,width:0,height:0}}}const ee=X,te=o.forwardRef((function(e,t){return(0,F.jsx)("div",{ref:t,className:"OnboardingHighlight",children:e.children})}));var ne=()=>n(951540),oe=()=>n(35462),ie=()=>n(983050),se=()=>n(907721),re=()=>n(466321);const ae=function(e){let{parentStore:t,verticalOffset:o,useFlatStyles:r,children:a,handleNext:l,buttonText:d,handleSkip:c,skipText:u}=e;const p=(0,i().v3)(),{device:g}=p,h=(0,s().O$)(W().default),{top:m,left:f,height:x,width:v}=(0,s().O$)(t);if(!h.isOnboarding)return null;const y={originRect:{top:m+o,bottom:m+x,left:f+v,right:f+v},placementToOrigin:se().W.Right,alignmentToOrigin:se().C.Start},b=!N().Qf(h);return(0,F.jsx)(n(611871).A,{capture:b,preventType:n(98508).A.All,children:(0,F.jsx)(n(443252).Ay,{popupType:g.isMobile?re().n.SlideUp:re().n.Popup,render:()=>(0,F.jsx)(ue,{useFlatStyles:r,children:a,handleNext:l,buttonText:d,handleSkip:c,skipText:u}),open:!0,originGap:0,preventBlockRenderQueueOnEnter:!0,preventScaleTransition:!0,disableMouseCapture:!0,useLightBoxShadow:r,...y})})};function le(e){let{handleSkip:t,skipText:n}=e;return(0,F.jsx)(oe().A,{style:{marginLeft:16},children:(0,F.jsx)(S().A,{onClick:t,disableUnderline:!0,children:n||(0,F.jsx)(a().sA,{defaultMessage:"Skip the Rest",id:"onboardingPopup.skip"})})})}function de(e){let{handleNext:t,buttonText:n,handleSkip:o,skipText:i}=e;return(0,F.jsxs)("div",{style:{...N().ZP,display:"flex",alignItems:"center"},children:[(0,F.jsx)(ne().A,{size:"lg",onClick:t,style:N().a3,children:n||(0,F.jsx)(a().sA,{defaultMessage:"Next",id:"onboardingPopup.next"})}),(0,F.jsx)(le,{handleSkip:o,skipText:i})]})}function ce(e,t){return{padding:"20px 24px 10px",borderRadius:4,fontSize:14,lineHeight:1.3,color:e.text.primary,backgroundColor:e.popoverBackground,width:360,minHeight:1,...t&&{boxShadow:void 0,backgroundColor:e.modalBackground}}}function ue(e){let{useFlatStyles:t,children:n,handleNext:o,buttonText:i,handleSkip:s,skipText:a}=e;const l=(0,r().DP)();return(0,F.jsxs)("div",{style:ce(l,t),className:ie().KVM,children:[n,(0,F.jsx)(de,{handleNext:o,buttonText:i,handleSkip:s,skipText:a})]})}const pe=function(e){let{show:t,highlight:r,hideOverlays:a,buttonText:l,skipText:d,useFlatStyles:c,verticalOffset:u,handleSkip:p,handleNext:g,renderContents:h}=e;const m=(0,i().v3)(),f=(0,s().uB)(void 0,ee),x=(0,o.useRef)(null);(0,o.useEffect)((()=>{const{device:e}=m,n=v().sg((()=>{me(t,f,x)}),10);if(!e.isMobile)return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}}),[m,t,f]),(0,o.useEffect)((()=>{const{device:e}=m;!e.isMobile&&t&&me(t,f,x)}),[m,t,f]);const{device:y}=m;return y.isMobile||!t?(0,F.jsx)(F.Fragment,{children:r()}):(0,F.jsxs)(o.Fragment,{children:[(0,F.jsx)(te,{ref:x,children:r()}),(0,F.jsxs)(n(762436).B,{shouldShow:!0,calloutId:"clear_templates_opt_out",children:[!a&&(0,F.jsx)(he,{store:f}),(0,F.jsx)(ae,{buttonText:l,skipText:d,parentStore:f,useFlatStyles:c,verticalOffset:u||0,handleSkip:p,handleNext:g,children:h})]})]})};function ge(e){const{top:t,left:n,height:o,width:i}=e;return{position:"absolute",top:t,left:n,height:o,width:i,zIndex:999}}function he(e){let{store:t}=e;const n=(0,r().DP)(),{top:o,left:i,width:a,height:l}=(0,s().K8)((()=>{const{top:e,left:n,width:o,height:i}=t.state;return{top:e,left:n,width:o,height:i}}),[t]),d=[{...ge({top:0,left:0,width:i,height:"100vh"}),backgroundColor:n.onboardingContentOverlay},{...ge({top:0,left:i+a,width:"100vw",height:"100vh"}),backgroundColor:n.onboardingContentOverlay},{...ge({top:0,left:i,width:a,height:o}),backgroundColor:n.onboardingSidebarOverlay},{...ge({top:o+l,left:i,width:a,height:"100vh"}),backgroundColor:n.onboardingSidebarOverlay},{...ge({top:o,left:i,width:a,height:l})}];return(0,F.jsx)("div",{children:d.map(((e,t)=>(0,F.jsx)("div",{style:e},`onboardingOverlay${t}`)))})}function me(e,t,n){if(e&&n&&n.current){const e=n.current.getBoundingClientRect();t.setState({...t.state,isLoaded:!0,top:e.top,left:e.left,width:e.width,height:e.height})}}function fe(e){const{content:t,pages:n,templateOptoutState:l}=e,d=(0,s().O$)(p().AppStoreCurrentSpaceStore),c=(0,i().v3)(),u=(0,r().IS)((e=>({onboardingSecondaryText:{...N().SY,...N().pk(e)}})),[]),g=(0,o.useCallback)((async()=>{const e=c.currentUser.id;if(!d||!e)return;Y().jy(c);const t=await(0,q().AF)(n,(e=>!G(e)));await $().callApi({eventName:"deleteBlocks",environment:c,data:{blocks:t.map((e=>({id:e.id,spaceId:(0,D().e)(e.pointer.spaceId)}))),permanentlyDelete:!0}}),await J().Z({environment:c,spaceId:d.id,userId:e});const o=(await(0,q().AF)(n,G))[0];o&&Q().uK({environment:c,store:o,pageVisitSource:K().y8.Onboarding})}),[d,c,n]);return(0,F.jsx)(pe,{buttonText:(0,F.jsx)(a().sA,{defaultMessage:"OK",id:"outlinerToggleButton.popup.buttonText"}),skipText:(0,F.jsx)(a().sA,{defaultMessage:"Clear templates",id:"outlinerToggleButton.popup.skipText"}),highlight:()=>t,show:!0,renderContents:(0,F.jsxs)("div",{children:[(0,F.jsx)("span",{style:N().JF,children:(0,F.jsx)(a().sA,{defaultMessage:"Here are some templates to help you get started",id:"sidebar.templateIntro.title"})}),(0,F.jsx)("br",{}),(0,F.jsx)("div",{style:u.onboardingSecondaryText,children:(0,F.jsx)(a().sA,{defaultMessage:"Use them out of the box, or customize them to your own workflows.",id:"sidebar.templateIntro.content"})})]}),handleNext:()=>{Y().K2(c,l)},handleSkip:g})}function xe(e){const{type:t,content:n,spacePlan:o}=e,i=(0,s().O$)(W().default);return"team"===o&&"teams"===t?(0,F.jsx)(U().n,{step:"teamspaces",children:n}):"team"===o&&"private"===t?(0,F.jsx)(U().n,{step:"private",children:n}):N().kv(i)&&o&&"personal"===o&&"private"===t?(0,F.jsx)(fe,{content:n,pages:e.pages,templateOptoutState:i}):n}var ve=()=>n(472671),ye=()=>n(997310),be=()=>n(159448),Ce=()=>n(965126);function Se(e){const t=(0,r().IS)((()=>({container:{position:"sticky",bottom:0,marginTop:"auto"}})),[]),n=(0,ye().r)(),o=(0,be().lh)({spaceId:null==n?void 0:n.id}),i=(0,Ce().F)(o);return(0,F.jsx)("div",{style:t.container,children:"card"===(null==i?void 0:i.type)?null==i?void 0:i.component():void 0})}},687459:(e,t,n)=>{n.d(t,{E:()=>i});n(242343);var o=n(163643);const i=(0,n(680369).wt)("sidebarTeamspaces",{viewBox:"0 0 20 20",svg:(0,o.jsx)("path",{d:"M12.2399 16.1387V14.8555H14.9378C15.0316 14.8555 15.1019 14.832 15.1488 14.7852C15.1957 14.7383 15.2191 14.668 15.2191 14.5742V7.93555C15.2191 7.83789 15.1957 7.76562 15.1488 7.71875C15.1019 7.67188 15.0316 7.64844 14.9378 7.64844H12.6559V6.36523H15.2718C15.6585 6.36523 15.9593 6.48438 16.1742 6.72266C16.3929 6.95703 16.5023 7.28125 16.5023 7.69531V14.8086C16.5023 15.2227 16.3929 15.5469 16.1742 15.7812C15.9593 16.0195 15.6585 16.1387 15.2718 16.1387H12.2399ZM3.49774 14.8086V4.74219C3.49774 4.32812 3.60712 4.00391 3.82587 3.76953C4.04462 3.53125 4.34735 3.41211 4.73407 3.41211H12.1345C12.5212 3.41211 12.822 3.53125 13.0368 3.76953C13.2556 4.00391 13.3649 4.32812 13.3649 4.74219V14.8086C13.3649 15.2227 13.2556 15.5469 13.0368 15.7812C12.822 16.0195 12.5212 16.1387 12.1345 16.1387H4.73407C4.34735 16.1387 4.04462 16.0195 3.82587 15.7812C3.60712 15.5469 3.49774 15.2227 3.49774 14.8086ZM4.78094 14.5742C4.78094 14.668 4.80438 14.7383 4.85126 14.7852C4.89813 14.832 4.96844 14.8555 5.06219 14.8555H11.8005C11.8942 14.8555 11.9645 14.832 12.0114 14.7852C12.0583 14.7383 12.0817 14.668 12.0817 14.5742V4.97656C12.0817 4.88281 12.0583 4.8125 12.0114 4.76562C11.9645 4.71875 11.8942 4.69531 11.8005 4.69531H5.06219C4.96844 4.69531 4.89813 4.71875 4.85126 4.76562C4.80438 4.8125 4.78094 4.88281 4.78094 4.97656V14.5742ZM6.30438 15.4766V13.1797C6.30438 12.9297 6.36493 12.7422 6.48602 12.6172C6.60712 12.4883 6.7829 12.4238 7.01337 12.4238H9.8493C10.0876 12.4238 10.2653 12.4883 10.3825 12.6172C10.5036 12.7422 10.5641 12.9297 10.5641 13.1797V15.4766H9.58563V13.543C9.58563 13.4219 9.52704 13.3613 9.40985 13.3613H7.45868C7.34149 13.3613 7.2829 13.4219 7.2829 13.543V15.4766H6.30438ZM6.5329 7.20312C6.38446 7.20312 6.31024 7.12695 6.31024 6.97461V5.90234C6.31024 5.74609 6.38446 5.66797 6.5329 5.66797H7.63446C7.79071 5.66797 7.86884 5.74609 7.86884 5.90234V6.97461C7.86884 7.12695 7.79071 7.20312 7.63446 7.20312H6.5329ZM9.23407 7.20312C9.08173 7.20312 9.00555 7.12695 9.00555 6.97461V5.90234C9.00555 5.74609 9.08173 5.66797 9.23407 5.66797H10.3298C10.4821 5.66797 10.5583 5.74609 10.5583 5.90234V6.97461C10.5583 7.12695 10.4821 7.20312 10.3298 7.20312H9.23407ZM6.5329 9.40039C6.38446 9.40039 6.31024 9.32227 6.31024 9.16602V8.09375C6.31024 7.9375 6.38446 7.85938 6.5329 7.85938H7.63446C7.79071 7.85938 7.86884 7.9375 7.86884 8.09375V9.16602C7.86884 9.32227 7.79071 9.40039 7.63446 9.40039H6.5329ZM9.23407 9.40039C9.08173 9.40039 9.00555 9.32227 9.00555 9.16602V8.09375C9.00555 7.9375 9.08173 7.85938 9.23407 7.85938H10.3298C10.4821 7.85938 10.5583 7.9375 10.5583 8.09375V9.16602C10.5583 9.32227 10.4821 9.40039 10.3298 9.40039H9.23407ZM6.5329 11.5918C6.38446 11.5918 6.31024 11.5137 6.31024 11.3574V10.2852C6.31024 10.1289 6.38446 10.0508 6.5329 10.0508H7.63446C7.79071 10.0508 7.86884 10.1289 7.86884 10.2852V11.3574C7.86884 11.5137 7.79071 11.5918 7.63446 11.5918H6.5329ZM9.23407 11.5918C9.08173 11.5918 9.00555 11.5137 9.00555 11.3574V10.2852C9.00555 10.1289 9.08173 10.0508 9.23407 10.0508H10.3298C10.4821 10.0508 10.5583 10.1289 10.5583 10.2852V11.3574C10.5583 11.5137 10.4821 11.5918 10.3298 11.5918H9.23407Z"})})},701320:(e,t,n)=>{n.d(t,{x:()=>i});n(242343);var o=n(163643);const i=(0,n(680369).wt)("cubeOutline",{viewBox:"0 0 14 16",svg:(0,o.jsx)("path",{d:"M1.01855 11.96C0.694987 11.7777 0.448893 11.568 0.280273 11.3311C0.116211 11.0895 0.0341797 10.7272 0.0341797 10.2441V4.7207C0.0341797 4.35612 0.104818 4.05306 0.246094 3.81152C0.38737 3.56543 0.610677 3.35579 0.916016 3.18262L5.72168 0.489258C6.14551 0.252279 6.57161 0.133789 7 0.133789C7.42839 0.133789 7.85221 0.252279 8.27148 0.489258L13.0771 3.18262C13.3825 3.35579 13.6058 3.56543 13.7471 3.81152C13.8883 4.05306 13.959 4.35612 13.959 4.7207V10.2441C13.959 10.7272 13.877 11.0895 13.7129 11.3311C13.5488 11.568 13.3027 11.7777 12.9746 11.96L7.68359 14.9268C7.22786 15.1774 6.76986 15.1774 6.30957 14.9268L1.01855 11.96ZM1.75684 10.9072L6.36426 13.5117V8.0293L1.25098 5.14453V10.1211C1.25098 10.2988 1.28743 10.4492 1.36035 10.5723C1.43783 10.6953 1.56999 10.807 1.75684 10.9072ZM12.2363 10.9072C12.4232 10.807 12.5531 10.6953 12.626 10.5723C12.7035 10.4492 12.7422 10.2988 12.7422 10.1211V5.14453L7.62891 8.0293V13.5117L12.2363 10.9072ZM7 6.9082L12.0518 4.07812L7.73145 1.64453C7.24837 1.36654 6.75846 1.36654 6.26172 1.64453L1.94824 4.07812L7 6.9082Z"})})},709625:(e,t,n)=>{n.d(t,{q:()=>a});var o=()=>n(237385),i=()=>n(162901),s=()=>n(76394),r=()=>n(818369);function a(){const e=(0,o().v3)(),[{status:t,error:n,value:a},l]=(0,i().Yb)((async()=>{const t=await r().callApi({eventName:"getUserOrganizations",environment:e,data:{}});if("success"===t.type)return t.data;if("failed"===t.type)throw t.error;return(0,s().HB)(t)}),[e]);return{organizationsInfo:(null==a?void 0:a.organizationsInfo)??[],loading:"pending"===t||"idle"===t,error:n,refresh:l}}},887615:(e,t,n)=>{n.d(t,{n:()=>s});var o=()=>n(803290),i=()=>n(908589);function s(e){return(0,o().K8)((()=>(0,i().o)(e)),[e])}},905977:(e,t,n)=>{n.d(t,{H:()=>s});var o=()=>n(129978);const i=new(o().O2)("permissionsInviteWithModal",(async()=>await Promise.all([n.e(96159),n.e(75134),n.e(43380),n.e(9304),n.e(96346),n.e(36192),n.e(55373),n.e(62475),n.e(3151),n.e(44711),n.e(98629),n.e(53321),n.e(58550),n.e(16471),n.e(90825),n.e(37353),n.e(29151),n.e(16908),n.e(22900),n.e(49889),n.e(97727),n.e(85128),n.e(83700),n.e(95555),n.e(58823),n.e(36209),n.e(92845),n.e(71718),n.e(48486),n.e(83324),n.e(63077),n.e(41870),n.e(90966),n.e(88552),n.e(90214),n.e(74562),n.e(8184),n.e(28271),n.e(17254),n.e(18895),n.e(78708),n.e(28721),n.e(4422),n.e(28866),n.e(67435),n.e(17989),n.e(48632),n.e(90625),n.e(76181),n.e(59794),n.e(72832),n.e(90280),n.e(26483),n.e(33813),n.e(81768),n.e(71104),n.e(2804),n.e(82850),n.e(84778),n.e(69914),n.e(11341),n.e(92011),n.e(19361),n.e(63327),n.e(26090),n.e(38482),n.e(12341),n.e(50984),n.e(47864),n.e(40828),n.e(76007),n.e(5023),n.e(90978),n.e(65554),n.e(53571),n.e(66885),n.e(21194),n.e(67780),n.e(96933),n.e(87598),n.e(23063),n.e(84341),n.e(3965),n.e(93052),n.e(67200),n.e(6463),n.e(98071),n.e(45620),n.e(96453),n.e(8081),n.e(25368),n.e(38546),n.e(80759),n.e(67183),n.e(45354),n.e(82720),n.e(83181),n.e(68455),n.e(28773),n.e(76074),n.e(78917),n.e(72883),n.e(1440),n.e(45986),n.e(67378),n.e(9353),n.e(91137),n.e(21864),n.e(52181),n.e(92924),n.e(66406),n.e(19167),n.e(55717),n.e(10152),n.e(40186),n.e(73738),n.e(70584),n.e(97074),n.e(48979),n.e(91957),n.e(76026),n.e(67262),n.e(29616),n.e(75681)]).then(n.bind(n,840380)))),s=(0,o()._h)(i,(e=>e.PermissionsInviteWithModal))},949562:(e,t,n)=>{n.d(t,{A:()=>w});n(242343);var o=()=>n(237385),i=()=>n(803290),s=()=>n(174114),r=()=>n(712437),a=()=>n(625491),l=()=>n(809226),d=()=>n(653998),c=()=>n(437071),u=()=>n(356813),p=()=>n(151835),g=()=>n(103151),h=()=>n(307542),m=()=>n(302376),f=()=>n(29869),x=()=>n(548694),v=()=>n(622286),y=()=>n(907721),b=()=>n(485966),C=()=>n(299581),S=()=>n(667801),j=n(163643);function w(e){let{from:t,onClick:n,iconStyle:w}=e;const k=(0,o().v3)(),{isTablet:T}=(0,o().Y0)(),M=(0,d().tz)(),A=(0,i().O$)(b().AppStoreCurrentSpaceStore),I=(0,i().K8)((()=>b().default.state.currentUserRootStore),[]),B=(0,i().K8)((()=>(0,x().IL)(A)),[A]),_=(0,i().K8)((()=>(0,h().i3)({environment:k,spaceStore:A,userRootStore:I})),[k,A,I]),O=(0,v().X)("sidebar_add_new_pages_to_bottom"),L=(0,s().IS)((e=>({shortcutLabel:{color:e.text.contrastSecondary},button:{width:28,height:28,marginTop:T?-15:void 0,marginRight:T?10:void 0,borderRadius:4},icon:{width:22,height:22,fill:e.text.primary,...w},iconDisabled:{opacity:.4},hovered:{background:e.sidebarItemSelectedBackground}})),[w,T]);return B?"sidebar_new_page_button"===t&&_?(0,j.jsx)(u().A,{icon:a().M,ariaLabel:M.formatMessage(S().newPageMessages.label),onClick:e=>{C().A.open()},style:L.button,iconStyle:{...L.icon,...L.iconDisabled}}):null:(0,j.jsx)(g().A,{renderTooltip:()=>(0,j.jsxs)(j.Fragment,{children:[M.formatMessage(S().newPageMessages.tooltip),k.device.isNative&&(0,j.jsx)("div",{children:(0,j.jsx)(p().A,{style:L.shortcutLabel,name:"newPage"})})]}),originGap:6,placement:y().W.Right,render:e=>(0,j.jsx)(u().A,{...e,icon:a().M,ariaLabel:M.formatMessage(S().newPageMessages.label),onClick:async e=>{if(A){const n=k.device.isElectron&&m().Vr(e),o=await S().quickAddPage({environment:k,from:t,event:e,navigateOnCreate:!n,prependPrivatePage:!O});if(n&&o){const e=(0,f().Ay)({store:o,pageVisitSource:r().y8.SidebarQuickAdd});c().openNotionUrl({makeTabActive:!0,url:e,position:"end",openInNew:n,isNewPage:!0,environment:k})}"sidebar_private_pane"===t&&l().u4({name:"page_created",args:{type:"private",from:"secondary_sidebar"}})}n&&n()},style:L.button,iconStyle:L.icon,hoveredStyle:L.hovered})})}},998865:(e,t,n)=>{n.d(t,{$c:()=>a,aI:()=>r,cx:()=>s,uf:()=>i});var o=()=>n(129978);const i={RequestMembersModal:new(o().O2)("RequestMembersModal",(()=>Promise.all([n.e(96159),n.e(75134),n.e(43380),n.e(96346),n.e(36192),n.e(55373),n.e(62475),n.e(3151),n.e(44711),n.e(98629),n.e(53321),n.e(58550),n.e(16471),n.e(90825),n.e(37353),n.e(29151),n.e(16908),n.e(36209),n.e(92845),n.e(71718),n.e(48486),n.e(83324),n.e(63077),n.e(41870),n.e(90966),n.e(88552),n.e(90214),n.e(74562),n.e(8184),n.e(28271),n.e(17254),n.e(18895),n.e(78708),n.e(28721),n.e(4422),n.e(28866),n.e(67435),n.e(17989),n.e(48632),n.e(90625),n.e(76181),n.e(59794),n.e(72832),n.e(90280),n.e(26483),n.e(33813),n.e(81768),n.e(71104),n.e(2804),n.e(82850),n.e(84778),n.e(69914),n.e(11341),n.e(92011),n.e(19361),n.e(63327),n.e(26090),n.e(38482),n.e(12341),n.e(50984),n.e(47864),n.e(40828),n.e(76007),n.e(5023),n.e(90978),n.e(65554),n.e(53571),n.e(66885),n.e(92674),n.e(77282)]).then(n.bind(n,945669)))),GoogleImportsInviteWithModal:new(o().O2)("GoogleImportsInviteWithModal",(()=>Promise.all([n.e(96159),n.e(96346),n.e(36209),n.e(92845),n.e(71718),n.e(48486),n.e(83324),n.e(18895),n.e(51195),n.e(51226)]).then(n.bind(n,373002)))),InviteDropdownMenuItemLabel:new(o().O2)("InviteDropdownMenuItemLabel",(()=>n.e(25171).then(n.bind(n,923812)))),personPropertyInviteActions:new(o().O2)("personPropertyInviteActions",(()=>Promise.all([n.e(96159),n.e(96346),n.e(36209),n.e(92845),n.e(71718),n.e(48486),n.e(83324),n.e(18895),n.e(57613)]).then(n.bind(n,598109))))},s=(0,o()._h)(i.RequestMembersModal,(e=>e.RequestMembersModal)),r=(0,o()._h)(i.GoogleImportsInviteWithModal,(e=>e.GoogleImportsInviteWithModal)),a=(0,o()._h)(i.InviteDropdownMenuItemLabel,(e=>e.InviteDropdownMenuItemLabel))}}]);