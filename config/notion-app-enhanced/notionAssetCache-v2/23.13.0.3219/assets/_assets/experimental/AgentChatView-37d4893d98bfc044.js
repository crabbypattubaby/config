"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[5053,22542,34983,46283,65213,78984,83728,89693],{18376:(e,t,o)=>{o.d(t,{W:()=>h});var n=()=>o(477784),r=()=>o(652039),i=()=>o(883249),a=()=>o(145046),s=()=>o(927999),l=()=>o(791497),c=()=>o(84543),d=()=>o(663539);const u=1500,p=(0,o(653998).YK)({pageCover:{defaultMessage:"Page cover",id:"pageCover.title"},fileTypeCaption:{defaultMessage:"Images wider than {idealImageWidth} pixels work best.",id:"pageCover.fileType.caption"},uploadFailed:{defaultMessage:"Upload failed",id:"pageCover.errorDialogMessage.uploadFailed"},preparing:{defaultMessage:"Preparing...",id:"pageCover.status.preparing"},downloading:{defaultMessage:"Downloading...",id:"pageCover.status.downloading"},embedTitle:{defaultMessage:"Link",id:"pageCover.embedType.title"},embedPlaceholder:{defaultMessage:"Paste an image linkâ€¦",id:"pageCover.embedType.placeholder"},embedCaption:{defaultMessage:"Works with any image from the web.",id:"pageCover.embedType.caption"},embedSubmit:{defaultMessage:"Submit",id:"pageCover.embedType.buttonText"}});function h(e){let{environment:t,intl:o,store:n,rect:r}=e;l().W(t,{originGap:3,originRect:r,isSmallWidth:!1,popupWidth:540,maxHeight:485,title:o.formatMessage(p.pageCover),onDelete:()=>{!function(e){let{environment:t,store:o}=e;l().I(),c().createAndCommit({userAction:"PageCover.handleDelete",environment:t,canUndo:!0,perform:e=>{s().PT({store:o,transaction:e})}})}({environment:t,store:n})},currentTab:"gallery",tabs:[{type:"gallery",onChange:e=>{let{url:o,position:r}=e;g({environment:t,store:n,url:{originUrl:o},position:r})}},{type:"file",fileUpload:!1,imageUpload:!0,videoUpload:!1,caption:o.formatMessage(p.fileTypeCaption,{idealImageWidth:u}),onUpload:e=>{var r;l().I(),d().QM({environment:t,file:e[0],bucket:"secure",record:(null===(r=n.getCoverStore())||void 0===r?void 0:r.pointer)??n.pointer,isFileBlock:!1,reportRichUploadMetrics:!0,onStart:f,onProgress:v,onComplete:e=>{var o;o={environment:t,store:n,url:{originUrl:e}},m({...o,position:.5})},onError:()=>{a().f1(o.formatMessage(p.uploadFailed))}})}},{type:"embed",title:o.formatMessage(p.embedTitle),inputPlaceholder:o.formatMessage(p.embedPlaceholder),caption:o.formatMessage(p.embedCaption),buttonText:o.formatMessage(p.embedSubmit),onChange:e=>{var o;o={environment:t,store:n,url:e},m({...o,position:.5}),l().I()}},{type:"unsplash",onChange:e=>{let{url:o,position:r}=e;g({environment:t,store:n,url:{originUrl:o},position:r})}}]})}async function m(e){const{environment:t,store:o,url:a,position:l}=e,{serverCommitResult:d}=c().createAndCommit({userAction:"PageCover.updatePageCover",environment:t,canUndo:!0,perform:e=>{s().fg({store:o,url:a,position:l||.5,transaction:e})}});await d,i().A.state.loadingMode===r().vS&&i().A.setState({loadingMode:r().Gi,dataURL:i().A.state.dataURL,uploadProgress:t.device.isMobileNative?void 0:100,progressText:n().A.formatMessage(p.downloading)})}function g(e){m(e),e.environment.device.isMobile&&l().I()}function f(e){const{file:t,name:o,size:a}=e;if(l().I(),i().A.setState({loadingMode:r().Wc,file:t,name:o,size:a}),t.type.indexOf("image")>=0)if(t instanceof File){const e=new FileReader;e.onload=e=>{i().A.state.loadingMode===r().Wc&&i().A.setState({...i().A.state,loadingMode:r().vS,uploadProgress:0,dataURL:e.target.result})},e.readAsDataURL(t)}else i().A.state.loadingMode===r().Wc&&i().A.setState({...i().A.state,loadingMode:r().vS,dataURL:t.dataURL,progressText:n().A.formatMessage(p.preparing)});else i().A.state.loadingMode===r().Wc&&i().A.setState({...i().A.state,loadingMode:r().vS,progressText:n().A.formatMessage(p.preparing)})}function v(e){const{progressPercent:t,progressText:o}=e;i().A.state.loadingMode===r().vS&&i().A.setState({...i().A.state,uploadProgress:t,progressText:o})}},24071:(e,t,o)=>{o.d(t,{A:()=>u});o(242343);var n=()=>o(237385),r=()=>o(803290),i=()=>o(174114),a=()=>o(333889),s=()=>o(136239),l=()=>o(48913),c=o(163643);function d(){const e=(0,i().IS)((e=>({icon:{position:"absolute",width:"50%",height:"50%",right:0,bottom:0,fill:"dark"===e.mode?e.text.primary:"#3E3C38",stroke:"dark"===e.mode?e.surface.wash:"white",strokeWidth:"dark"===e.mode?"1.85px":"1.5px"}})),[]);return(0,c.jsx)("div",{children:(0,a().G)(e.icon)})}function u(e){var t;const o=(0,n().v3)(),a=o.device.isMobile,{isTablet:u}=(0,n().Y0)(),p=(0,r().K8)((()=>{var t,n;if(a)return o.WindowSizeStore.getSafePaddingLeftCSS("number"==typeof(null===(t=e.style)||void 0===t?void 0:t.paddingLeft)?null===(n=e.style)||void 0===n?void 0:n.paddingLeft:10)}),[o.WindowSizeStore,a,null===(t=e.style)||void 0===t?void 0:t.paddingLeft]),h=(0,i().IS)((t=>({wrapper:{...a?{display:"flex",alignItems:"center",width:"100%",minHeight:26,fontSize:16,paddingTop:u?4:8,paddingBottom:u?4:8,paddingLeft:p,paddingRight:10,userSelect:"none",WebkitUserSelect:"none",boxShadow:void 0,marginBottom:e.shouldShowMobileMarginBottom?12:1}:{display:"flex",alignItems:"center",width:"100%",fontSize:14,minHeight:e.isBottomItem?24:27,height:l().Zr,paddingTop:4,paddingBottom:4,...(0,s().ic)()},...e.style},icon:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,width:a?28:22,height:a?24:18,marginRight:8,position:"relative"},right:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,height:"100%",...e.rightStyle},left:{flexShrink:0,flexGrow:0,borderRadius:4,color:t.text.secondary,width:a?24:l().ry,height:a?24:l().ry,display:"flex",alignItems:"center",justifyContent:"center",marginRight:e.icon?0:8},children:{flexGrow:1,flexShrink:1,flexBasis:"auto",whiteSpace:"nowrap",minWidth:0,overflow:"hidden",textOverflow:e.right&&!a?"clip":"ellipsis",...e.childrenStyle}})),[a,u,p,e.shouldShowMobileMarginBottom,e.isBottomItem,e.style,e.rightStyle,e.icon,e.right,e.childrenStyle]);return(0,c.jsxs)("div",{role:e.role,dir:"ltr","aria-current":e["aria-current"],"aria-expanded":e["aria-expanded"],"aria-owns":e["aria-owns"],"aria-labelledby":e["aria-labelledby"],style:h.wrapper,onFocus:e.onFocus,onBlur:e.onBlur,onMouseMove:e.onMouseMove,onMouseLeave:e.onMouseLeave,onClick:e.onClick,className:e.className,children:[e.left&&(0,c.jsx)("div",{style:h.left,children:e.left}),e.icon&&(0,c.jsxs)("div",{style:h.icon,children:[e.icon,e.isAlias&&(0,c.jsx)(d,{})]}),(0,c.jsx)("div",{style:h.children,children:e.children}),e.right&&(0,c.jsx)("div",{style:h.right,children:e.right})]})}},40642:(e,t,o)=>{o.d(t,{b:()=>r});o(242343);var n=o(163643);const r=(0,o(680369).wt)("templates",{viewBox:"0 0 20 20",svg:(0,n.jsxs)("g",{children:[(0,n.jsx)("path",{d:"M6.39733 5.67853C5.89764 5.50234 5.36002 5.40649 4.8 5.40649C2.14904 5.40649 0 7.55432 0 10.2038C0 12.8533 2.14904 15.0011 4.8 15.0011C6.52165 15.0011 8.0316 14.0952 8.87867 12.7343L5.26487 12.0975L6.39733 5.67853Z"}),(0,n.jsx)("path",{d:"M17.3126 3.66609L7.85843 2L6.19141 11.4489L10.6545 12.2354L14.3998 5.81854L16.3449 9.15116L17.3126 3.66609Z"}),(0,n.jsx)("path",{d:"M8.80078 17L14.4008 7.4054L20.0008 17H8.80078Z"})]})})},48768:(e,t,o)=>{o.d(t,{V:()=>a});var n=()=>o(803290),r=()=>o(485966),i=()=>o(622286);function a(){const e=(0,i().X)("lazier_dependencies"),t=(0,n().K8)((()=>r().default.state.renderPhase),[]);return e&&"rendered"!==t}},55813:(e,t,o)=>{o.r(t),o.d(t,{exclamationMarkTriangleFillIcon:()=>r,iconDefinition:()=>n});o(242343);const n={viewBox:"0 0 20 20",svg:(0,o(163643).jsx)("path",{d:"M11.84 3.563c-.817-1.417-2.862-1.417-3.68 0L2.314 13.688c-.818 1.416.205 3.187 1.84 3.187h11.692c1.636 0 2.658-1.77 1.84-3.187zM9.876 6.75c.345 0 .625.28.625.625v3.5a.625.625 0 1 1-1.25 0v-3.5c0-.345.28-.625.625-.625m0 7.375a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5"})},r=(0,o(680369).wt)("exclamationMarkTriangleFill",n)},63463:(e,t,o)=>{e.exports=o.p+"edfba4a6d1ff7acd.png"},67558:(e,t,o)=>{o.d(t,{VY:()=>s,ZJ:()=>i,u3:()=>a});var n=()=>o(496985);class r extends(()=>o(129044))().default{getInitialState(){return{popupRenderedInPage:!1,popupRenderedInPeekView:!1}}}const i=new r,a=new(n().default)((()=>!1!==i.state.popupRenderedInPage),{debugName:"AssistantWriterRenderedInPageStore"}),s=new(n().default)((()=>!1!==i.state.popupRenderedInPeekView),{debugName:"AssistantWriterRenderedInPeekViewStore"})},78245:(e,t,o)=>{o.d(t,{z:()=>a});o(242343);var n=()=>o(129978),r=o(163643);const i=new(n().O2)("CollectionItemCover",(async()=>{const{CollectionItemCover:e}=await o.e(79883).then(o.bind(o,824997));return{CollectionItemCover:e}})),a=(0,n()._h)(i,(e=>e.CollectionItemCover),{renderLoading:(e,t)=>{const{coverHeight:n,coverSizeFormat:i,emptyGalleryCoverStyle:a,showEmptyGalleryCover:s}=t;return s?(0,r.jsx)(o(803291).t,{coverHeight:n,coverSizeFormat:i,emptyGalleryCoverStyle:a}):null}})},82954:(e,t,o)=>{o.d(t,{A:()=>R});var n=o(242343),r=()=>o(803290),i=()=>o(502852),a=()=>o(752597),s=()=>o(384221),l=()=>o(755786),c=()=>o(126451),d=()=>o(709237),u=o(163643);function p(e){const{blockStore:t,titleStyle:o,shouldWrap:r,recordTitleRef:i,disableTooltip:p}=e,h=(0,n.useRef)({getNode:()=>i.current}),m=(0,n.useCallback)((e=>{a().default.afterNextFlush((()=>{const e=t.getBlockTitleStore();if(!e)return;const o=e.getValue(),n=o?o[0][0].length:0,r={start:{index:n,store:e},end:{index:n,store:e}};s().setMultiSelection({multiSelection:r})}))}),[t]);return(0,u.jsx)(c().A,{style:{height:l().d0+2,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:5,padding:"6px 8px 7px 8px",overflow:"hidden"},onClick:m,children:(0,u.jsx)(d().A,{store:t,underline:!0,shouldWrap:r,style:o,ref:h,disableTooltip:p})})}var h=()=>o(653998),m=()=>o(975392),g=()=>o(868199),f=()=>o(477784),v=()=>o(636045);const y=(0,h().YK)({typeTitle:{defaultMessage:"Type a title...",id:"relationToken.title.placeholder"}});function x(e){const{blockStore:t,clickTitleBehavior:o,onTitleEnter:n,onTitleEsc:i}=e,a="edit"===o,s=(0,r().K8)((()=>t.getBlockTitleStore()),[t]);return(0,u.jsx)(v().A,{store:s,disabled:!a,disableSlashCommands:!0,disableEmojiCommands:!0,disableStyleAnnotations:!0,disableInsertedDeletedAnnotations:!0,disableEmbedMenu:!0,onEnter:n,onEsc:i,onTab:m().D_,placeholder:f().A.formatMessage(y.typeTitle),style:{padding:"6px 8px 7px 8px",textOverflow:"none",overflow:"visible",whiteSpace:"pre"},disableSelectAllBlocks:!0,pasteBehavior:"inline",inPageFind:g().Os.none})}var b=()=>o(237385),S=()=>o(34662),w=()=>o(448316);const C=function(e){const{store:t,style:a,disableLinks:s,disableHover:l,isAndroid:c,externalIntegrations:d,canEdit:p,shouldWrap:m,tokenFormat:g}=e,f=(0,n.useRef)(null),v=(0,h().tz)(),y=(0,b().v3)(),x=(0,o(174114).DP)(),{isExternalIntegrationPageType:C,blockType:k,blockId:I,blockModel:A}=(0,r().K8)((()=>{const e=t.getModel();return{isExternalIntegrationPageType:Boolean(null==e?void 0:e.isType(o(762847).xd.externalObjectInstancePage)),blockType:t.getType(),blockId:t.id,blockModel:e}}),[t]),T=(0,r().K8)((()=>o(284320).A.getState()),[]),M=(0,n.useCallback)((()=>{if(!f||!f.current)return;const e=(0,S().bMp)(t.id),o=(0,S().wmz)(e);return{textValue:[o],tokenIndex:0,textToken:o,node:f.current}}),[f,t.id]),j=(0,n.useCallback)((e=>{if(l)return;const o=M(),n=t.getTitleStore();n&&o&&w().xE({environment:y,event:e,interactiveToken:o,store:n,canEdit:p})}),[l,M,t,y,p]),_=(0,n.useCallback)((e=>{const o=M(),n=t.getTitleStore();n&&o&&!l&&w().HH({environment:y,event:e,interactiveToken:o,store:n,canEdit:p})}),[M,t,l,y,p]),P=t.getRecordModel,E=I,B=(0,o(441165).FN)(y),R=o(927685).A.domainBaseUrl,W=y.currentUser.id,z=!s,F=(0,r().K8)((()=>{if(A)return(0,o(123047).gA)({blockModel:A,shouldWrap:m,index:0,style:a,disableHover:l,disableLinks:s,isAndroid:c,theme:x,getRecordModel:P,currentUserId:W,baseUrl:R,emojiType:B,externalIntegrations:d,classNames:[],intl:v,emojiData:T,stopLinkPropagation:z,tokenFormat:(0,o(250786).Ug)(g)})}),[A,m,a,l,s,c,x,P,W,R,B,d,v,T,z,g]);return E?"external_object_instance_page"!==k?null:C?(0,u.jsx)("span",{ref:f,onMouseOver:j,onMouseOut:_,onClick:z?i().kV:void 0,style:{width:"100%"},children:F}):null:null};function k(e){const{blockStore:t,shouldWrap:n,style:i,disableLinks:a,format:s}=e,l=(0,r().K8)((()=>(0,o(809811).q7)(t.getSyncedUri())),[t]),c=(0,r().O$)(o(773082).A.integrations),d=(0,b().v3)();return(0,u.jsx)(C,{shouldWrap:n,store:t,style:i,disableHover:a||!l,disableLinks:a||!l,isAndroid:d.device.isAndroid,externalIntegrations:c,canEdit:!0,tokenFormat:s})}var I=()=>o(219322);function A(e){const{format:t,showRemoveButton:n,onClickRemove:r}=e,{height:i,closeIconSize:a}=I().U[t];return n?(0,u.jsx)(c().A,{onClick:r,style:{display:"flex",alignItems:"center",justifyContent:"center",width:i,height:i,marginLeft:2,marginRight:2,flexGrow:0,flexShrink:0,borderRadius:4},children:(0,o(388732).l)({width:a,height:a,opacity:.5})}):null}var T=()=>o(712437),M=()=>o(314164),j=()=>o(749975),_=()=>o(29869),P=()=>o(485966);var E=()=>o(621641),B=()=>o(205670);const R=(0,n.forwardRef)((function(e,t){const{parentStore:i,blockId:a,shouldWrap:s,format:l,showRemoveButton:c,clickTitleBehavior:d,onClickRemove:p,titleStyle:h,onTitleEnter:m,onTitleEsc:g,index:f,noUnderline:v,disableTooltip:y,disableLinks:x}=e,b=o(413871).Bv.createChildStore(i,{table:o(145017).ev,id:a}),{style:S}=(0,I().t)(e),w=(0,n.useRef)(null),C=(0,n.useRef)(null),T="peek"===d;(0,n.useImperativeHandle)(t,(()=>b),[b]);const M=(0,r().K8)((()=>"external_object_instance_page"===b.getType()),[b]);if((0,o(731991).W)(b))return null;if(M)return(0,u.jsx)(k,{shouldWrap:s,blockStore:b,style:S,disableLinks:x,format:l});const j=(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o(957881).w,{format:l,blockStore:b,clickTitleBehavior:d,shouldWrap:s}),(0,u.jsx)(z,{blockStore:b,recordTitleRef:w,clickTitleBehavior:d,shouldWrap:s,titleStyle:h,noUnderline:v,onTitleEnter:m,onTitleEsc:g,index:f,disableTooltip:y})]});return(0,u.jsxs)("div",{style:S,ref:C,children:[T?(0,u.jsx)(W,{blockStore:b,relationTokenStyle:S,children:j}):j,(0,u.jsx)(A,{showRemoveButton:c,onClickRemove:p,format:l})]})}));function W(e){let{blockStore:t,relationTokenStyle:a,children:s}=e;const{blockUrlPage:l,blockUrlPeek:c}=function(e){const t=(0,b().v3)(),o=(0,j().Ks)(),n=(0,r().K8)((()=>(0,_().Ay)({store:e,fullyQualified:!1,pageVisitSource:T().y8.LinkInPage})),[e]);return{blockUrlPeek:(0,r().K8)((()=>{const{mainEditorCurrentBlockStore:n}=P().default.state;return M().wy({environment:t,store:e,mainEditorCurrentBlockStore:n,collectionContextStore:o,fullyQualified:!1})}),[t,e,o]),blockUrlPage:n}}(t),d=(0,n.useMemo)((()=>({display:a.display,height:a.height,alignItems:a.alignItems})),[a]);return(0,u.jsx)(o(579494).A,{href:l,metaHref:c,onClick:i().kV,style:d,children:s})}function z(e){const{blockStore:t,clickTitleBehavior:n,onTitleEnter:i,onTitleEsc:a,index:s,recordTitleRef:l,titleStyle:c,shouldWrap:d,noUnderline:h,disableTooltip:m}=e,g=(0,o(248584).Sm)(t),f="edit"===n&&!g,v=function(e){return(0,r().K8)((()=>{var t;const o=B().default.state;return"editing"===o.mode&&(null===(t=(0,E().H7)(o.multiSelection))||void 0===t?void 0:t.store)===e.getBlockTitleStore()}),[e])}(t);return f?v&&i&&s?(0,u.jsx)(x,{blockStore:t,clickTitleBehavior:n,onTitleEnter:i,onTitleEsc:a}):(0,u.jsx)(p,{blockStore:t,recordTitleRef:l,titleStyle:c,shouldWrap:d,disableTooltip:m}):(0,u.jsx)(o(399631).Y,{blockStore:t,recordTitleRef:l,titleStyle:c,shouldWrap:d,noUnderline:h,disableTooltip:m})}},89969:(e,t,o)=>{o.d(t,{D:()=>n});function n(e,t){t.route.name;return!1}},96144:(e,t,o)=>{o.d(t,{R:()=>r});o(242343);var n=o(163643);const r=(0,o(680369).wt)("verificationCheck",{viewBox:"0 0 6 7",svg:(0,n.jsx)("path",{d:"M2.84245 6.11619C2.71116 6.30644 2.53392 6.40156 2.31072 6.40156C2.20131 6.40156 2.10066 6.37881 2.00875 6.33332C1.92123 6.28782 1.83589 6.21545 1.75274 6.11619L0.150985 4.25515C0.0503282 4.12694 0 3.99874 0 3.87053C0 3.73406 0.04814 3.61826 0.14442 3.52314C0.245077 3.42388 0.365427 3.37425 0.50547 3.37425C0.597374 3.37425 0.680525 3.39286 0.754923 3.43008C0.833698 3.46317 0.912473 3.52934 0.991247 3.6286L2.28446 5.21049L5.00875 1.07896C5.13129 0.892857 5.28446 0.799805 5.46827 0.799805C5.60394 0.799805 5.72648 0.841161 5.83589 0.923874C5.9453 1.00659 6 1.11618 6 1.25266C6 1.32297 5.98249 1.39327 5.94748 1.46358C5.91685 1.52975 5.88184 1.59178 5.84245 1.64968L2.84245 6.11619Z"})})},101558:(e,t,o)=>{o.d(t,{r:()=>i});var n=()=>o(803290),r=()=>o(836331);function i(e){return(0,n().K8)((()=>r().default.getGroup(e)),[e])}},105429:(e,t,o)=>{o.d(t,{m:()=>r});class n extends(()=>o(129044))().default{getInitialState(){return{type:"uninitialized"}}isWriting(){return"filling"===this.state.type&&!this.state.haveAllBlocksCompletedAutofill&&!this.state.didInterruptStreaming}setIsWriting(e){var t;const{propertySchema:n,stores:r,sessionIdForAnalytics:i}=e,a=r[0].getAssociatedCollectionId()??(null===(t=r[0].getCollectionStore())||void 0===t?void 0:t.id),s=i||o(214144).JW();return this.setState({type:"filling",propertySchema:n,collectionId:a,numBlocksToAutofill:r.length,numBlocksAutofilled:0,sessionId:s,didInterruptStreaming:!1,haveAllBlocksCompletedAutofill:!1}),s}}const r=new n},130081:(e,t,o)=>{o.d(t,{UQ:()=>h,gL:()=>g});o(610931),o(725707),o(500234),o(771702);var n=()=>o(810111),r=()=>o(769884),i=()=>o(33715),a=()=>o(220865),s=()=>o(846287),l=()=>o(996151),c=()=>o(946854),d=()=>o(293665),u=()=>o(927999),p=()=>o(84543);function h(e){let{environment:t,transaction:o,layoutStore:n,position:l,updatedModule:c,sessionId:d}=e;const u=i().Zm[l.area],h=n.getRawModules();if("form_conditional_modules"===u){const e=null==h?void 0:h[u];if(!(null==e?void 0:e[l.moduleId]))throw new Error("Unable to find module being updated.");return void p().createAndCommitOrAppend({environment:t,transaction:o,canUndo:!0,perform(e){p().applyOperation({transaction:e,store:n,operation:r().N4X.updateModuleInArea({pointer:n.pointer,area:u,module:(0,a().Lv)(c)})})},userAction:"BuilderLayoutModules.updateModule"})}if(!h)throw new Error("Unable to find modules");const m=(0,s().LC)(h,(e=>e.id===l.moduleId));if(!m||m.area!==u)throw new Error("Unable to find module being updated.");p().createAndCommitOrAppend({environment:t,transaction:o,canUndo:!0,perform(e){p().applyOperation({transaction:e,store:n,operation:r().N4X.updateModuleInArea({pointer:n.pointer,module:(0,a().Lv)(c),..."views_main_tab_modules"===m.area?{area:m.area,viewId:m.viewId}:{area:m.area}})})},userAction:"BuilderLayoutModules.updateModule"})}function m(e){var t,o,n;let{collectionStore:r,layoutStore:i}=e;const a=new Map,s=r.getFormat(),l=[...null===(t=i.getModules())||void 0===t?void 0:t.page_main,...null===(o=i.getModules())||void 0===o?void 0:o.page_details],d=new Map;null===(n=s.property_visibility)||void 0===n||n.forEach((e=>{d.set(e.property,e)})),l.forEach((e=>{if(!(0,c()._Q)(e))return(0,c().gx)(e)?(a.set(e.propertyId,{property:e.propertyId}),void d.set(e.propertyId,{property:e.propertyId,visibility:"show"})):void 0;e.propertyIds.forEach((e=>{a.set(e,{property:e}),d.set(e,{property:e,visibility:"show"})}))}));const u=r.getNormalizedPropertyGroups();var p;u?u.forEach((e=>{var t;null===(t=e.propertyIds)||void 0===t||t.forEach((e=>{a.has(e)||a.set(e,{property:e})}))})):null===(p=s.collection_page_properties)||void 0===p||p.forEach((e=>{a.has(e.property)||a.set(e.property,e)}));return{propertiesFormat:Array.from(a.values()),propertyVisibility:Array.from(d.values())}}function g(e){let{environment:t,transaction:o,collectionStore:i,layoutStore:a}=e;const{propertiesFormat:s,propertyVisibility:h}=m({collectionStore:i,layoutStore:a});p().createAndCommitOrAppend({environment:t,transaction:o,canUndo:!0,perform(e){const t=a.getBlockChildrenPointers(),o=a.getFormat(),m=a.firstModuleOfType("viewsMain");m&&(0,c().y6)(m)&&t.find((e=>d().L3.isEqual(e,m.collection_view_block_pointer)))&&p().applyOperation({transaction:e,store:a,operation:r().N4X.removeBlockChild(a.pointer,m.collection_view_block_pointer.id)});const g=null==o?void 0:o.previousViewsMainCollectionViewBlockPointer,f=g&&t.find((e=>d().L3.isEqual(e,g)));f&&p().applyOperation({transaction:e,store:a,operation:r().N4X.removeBlockChild(a.pointer,f.id)}),p().applyOperation({transaction:e,store:a,operation:r().N4X.setModulesByAreas(a.pointer,(0,l().K5)())}),p().applyOperation({transaction:e,store:a,operation:r().N4X.deleteFormat(a.pointer)});const v=i.getFormat(),{page_section_visibility:y}=v;u().zA({stores:[i],update:{property_groups:void 0,collection_page_properties:s,property_visibility:h,...y?{page_section_visibility:n().Zi}:void 0},transaction:e})},userAction:"BuilderLayoutModules.resetLayoutToDefault"})}},143920:(e,t,o)=>{o.d(t,{y:()=>d});var n=()=>o(763555),r=()=>o(284320);const i={ko:()=>o.e(2268).then(o.bind(o,662161)),es:()=>o.e(95264).then(o.bind(o,894994)),de:()=>o.e(35390).then(o.bind(o,133788)),fr:()=>o.e(3272).then(o.bind(o,447454)),pt:()=>o.e(27315).then(o.bind(o,193182)),zh:()=>o.e(69945).then(o.bind(o,316605)),ja:()=>o.e(77757).then(o.bind(o,108299)),da:()=>o.e(9423).then(o.bind(o,965826)),fi:()=>o.e(59337).then(o.bind(o,122956)),nb:()=>o.e(2040).then(o.bind(o,763585)),nl:()=>o.e(51106).then(o.bind(o,696090)),sv:()=>o.e(53631).then(o.bind(o,485349))};let a=!1,s=!1;async function l(e){for(const[o,r]of Object.entries(e.emojiLocaleKeywords)){var t;n().fB[o]={...n().fB[o],keywords:[...r,...(null===(t=n().fB[o])||void 0===t?void 0:t.keywords)||[]]}}await r().A.waitUntilLoaded(),r().A.update((t=>{let{emojiByName:o,...n}=t;return{...n,emojiByName:{...o,...e.emojiByName}}}))}async function c(){if(a)return;const[e]=o(16791).locale.split("-");e in i&&(await l(await i[e]()),a=!0)}const d=(0,o(531367).A)((async()=>{await async function(){s||(await l(await o.e(51872).then(o.bind(o,531983))),s=!0)}(),await c()}))},144615:(e,t,o)=>{o.d(t,{TK:()=>s,YC:()=>a,ui:()=>i});var n=()=>o(129978);const r={pageVerification:new(n().O2)("pageVerification",(()=>Promise.all([o.e(43380),o.e(94891)]).then(o.bind(o,843097)))),pageVerificationBadge:new(n().O2)("pageVerificationBadge",(()=>Promise.all([o.e(96159),o.e(75134),o.e(43380),o.e(96346),o.e(36209),o.e(92845),o.e(71718),o.e(48486),o.e(83324),o.e(74562),o.e(18895),o.e(28866),o.e(59794),o.e(6463),o.e(96453),o.e(9353),o.e(84350),o.e(41412)]).then(o.bind(o,234102)))),pageVerificationMenuRenderer:new(n().O2)("pageVerificationMenuRenderer",(()=>Promise.all([o.e(96159),o.e(75134),o.e(43380),o.e(96346),o.e(36209),o.e(92845),o.e(71718),o.e(48486),o.e(83324),o.e(74562),o.e(18895),o.e(28866),o.e(59794),o.e(6463),o.e(96453),o.e(9353),o.e(84350),o.e(26207)]).then(o.bind(o,519873))))},i=(0,n()._h)(r.pageVerification,(e=>e.PageAddVerificationButton)),a=(0,n()._h)(r.pageVerificationBadge,(e=>e.PageVerificationBadge)),s=(0,n()._h)(r.pageVerificationMenuRenderer,(e=>e.PageVerificationMenuRenderer))},150936:(e,t,o)=>{o.d(t,{b:()=>r});o(242343);var n=o(163643);const r=(0,o(680369).wt)("thinCheck",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M6.385 14.162c.362 0 .642-.15.84-.444L13.652 3.71c.144-.226.205-.417.205-.602 0-.485-.341-.82-.833-.82-.335 0-.54.123-.746.444l-5.926 9.4-3.042-3.903c-.205-.267-.417-.376-.718-.376-.492 0-.848.348-.848.827 0 .212.075.417.253.629l3.541 4.416c.24.3.492.437.848.437z"})})},151258:(e,t,o)=>{o.d(t,{Ay:()=>h,mI:()=>u,vb:()=>p});o(242343);var n=()=>o(174114),r=()=>o(752903),i=()=>o(388732),a=()=>o(653998),s=()=>o(31448),l=()=>o(126451),c=o(163643);const d=(0,a().YK)({removeTokenLabel:{defaultMessage:"Remove {title}",id:"uiGenericToken.removeTokenLabel"},removeTokenLabelGeneric:{defaultMessage:"Remove Item",id:"uiGenericToken.removeTokenLabelGeneric"}}),u=r().NY,p={[r().NY.ExtremeSmall]:{height:12,fontSize:10,margin:"0 4px 0 0",marginEditState:"0 6px 0 0",closeIconSize:8,avatarSize:14},[r().NY.ExtraSmall]:{height:14,fontSize:12,margin:"0 6px 0 0",marginEditState:"0 6px 0 0",closeIconSize:8,avatarSize:14},[r().NY.Small]:{height:18,fontSize:12,margin:"0 6px 6px 0",marginEditState:"0 6px 6px 0",closeIconSize:8,avatarSize:16},[r().NY.CompactEssential]:{height:20,fontSize:14,margin:"0 10px 6px 0",marginEditState:"0 6px 6px 0",closeIconSize:8,avatarSize:20},[r().NY.Medium]:{height:20,fontSize:14,margin:"0 10px 6px 0",marginEditState:"0 6px 6px 0",closeIconSize:8,avatarSize:20},[r().NY.Inline]:{height:20,fontSize:14,closeIconSize:8,avatarSize:20,margin:"0 -5px 0 0",marginEditState:"0 6px 0 0"},[r().NY.Large]:{height:24,fontSize:16,margin:"0 8px 8px 0",marginEditState:"0 8px 8px 0",closeIconSize:10,avatarSize:20}};function h(e){let{avatarSize:t,format:o,isSingle:r,onClickRemove:u,renderAvatar:h,showRemoveButton:m,shouldShrink:g,style:f,title:v}=e;const y=(0,a().tz)(),{height:x,fontSize:b,margin:S,marginEditState:w,closeIconSize:C,avatarSize:k}=p[o],I=t??k,A=(0,n().IS)((()=>({root:{display:"flex",alignItems:"center",flexShrink:g?1:0,minWidth:0,height:x,borderRadius:6,fontSize:b,lineHeight:"120%",margin:r?0:m?w:S,...f}})),[b,x,r,S,w,g,m,f]);return(0,c.jsxs)("div",{style:A.root,children:[null==h?void 0:h(I),(0,c.jsx)("div",{className:"notranslate",style:{...s().RC},children:v}),m?(0,c.jsx)(l().A,{ariaLabel:void 0!==v?y.formatMessage(d.removeTokenLabel,{title:v}):y.formatMessage(d.removeTokenLabelGeneric),onClick:u,style:{display:"flex",alignItems:"center",justifyContent:"center",width:x,height:x,marginLeft:2,marginRight:2,flexGrow:0,flexShrink:0,borderRadius:6},children:(0,i().l)({width:C,height:C,opacity:.5})}):null]})}},151602:(e,t,o)=>{o.d(t,{A:()=>i});class n extends(()=>o(129044))().default{getInitialState(){return{}}}const r=new n;o(996094).exposeDebugValue("SpaceWorkflowTemplateInstanceMapStore",r);const i=r},155342:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>r,questionMarkCircleIcon:()=>i});o(242343);var n=o(163643);const r={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M9.978 7.154c-.804 0-1.333.456-1.438.874a.625.625 0 0 1-1.213-.303c.28-1.121 1.44-1.82 2.65-1.82 1.365 0 2.714.905 2.714 2.298 0 .812-.49 1.477-1.13 1.872l-.755.516a.84.84 0 0 0-.381.677.625.625 0 1 1-1.25 0c0-.688.36-1.318.921-1.706l.003-.002.784-.535.014-.008c.374-.228.544-.537.544-.814 0-.459-.517-1.049-1.463-1.049m.662 6.336a.8.8 0 1 1-1.6 0 .8.8 0 0 1 1.6 0"}),(0,n.jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 15.25 0 7.625 7.625 0 0 1-15.25 0M10 3.625a6.375 6.375 0 1 0 0 12.75 6.375 6.375 0 0 0 0-12.75"})]})},i=(0,o(680369).wt)("questionMarkCircle",r)},158195:(e,t,o)=>{o.d(t,{q:()=>p});var n=o(242343),r=()=>o(470637),i=()=>o(237385),a=()=>o(803290),s=()=>o(84543),l=()=>o(153100),c=()=>o(485966),d=()=>o(165786),u=()=>o(339496);function p(e){const t=(0,a().O$)(c().AppStoreCurrentSpaceStore),o=(0,a().K8)((()=>c().default.state.currentUserStore),[]),p=(0,a().O$)(c().AppStoreCurrentSpaceViewStore),h=(0,i().v3)(),{threadStore:m,clientAiChatStore:g,setThreadStore:f,aiChatFeatureController:v,config:y}=e,x=(0,n.useCallback)((e=>{f(e),r().A.withListenerIgnored((()=>{g.getOrCreateClientAIChatThreadStore(e.id)}))}),[g,f]),b=(0,a().K8)((()=>{const e=y??g.state.configForNewTranscripts;return v.shouldSupportAttachments(e.type)}),[v,g,y]),S=Boolean(m),w=(0,n.useMemo)((()=>{if(t&&o&&p&&b&&!S){const e=s().createAndCommit({userAction:"AIChatInput.useUploadAttachments",environment:h,canUndo:!1,perform:e=>(0,d().aP)({environment:h,spaceStore:t,userStore:o,transaction:e})}).performResult;return x(e),e}}),[S,h,x,b,t,p,o]),C=m??w,k=(0,a().K8)((()=>{if(C)return g.getOrCreateClientAIChatThreadStore(null==C?void 0:C.id)}),[g,C]),I=(0,l().z)({threadClientStore:k,aiChatFeatureController:v,config:y,clientChatStore:g}),{onPasteFiles:A,uploadAttachment:T}=(0,u().PF)({threadStore:C,spaceStore:t,config:y,clientAiChatStore:g,aiChatFeatureController:v}),M=(0,n.useCallback)((async()=>await T()),[T]);if(t&&o&&p&&b&&I&&C)return{onPasteFiles:A,uploadFile:M,threadStore:C,spaceStore:t,userStore:o,spaceViewStore:p}}},170582:(e,t,o)=>{o.d(t,{r:()=>r});o(242343);const n={viewBox:"0 0 20 20",svg:(0,o(163643).jsx)("path",{d:"M10 2.355a2.35 2.35 0 0 0-2.253 1.686 5.06 5.06 0 0 0-2.803 4.527v1.189c0 .919-.334 1.806-.939 2.498l-.818.935c-.881 1.007-.166 2.583 1.173 2.583h3.02a2.65 2.65 0 0 0 5.24 0h3.02c1.339 0 2.054-1.576 1.173-2.583l-.818-.935a3.8 3.8 0 0 1-.939-2.498v-1.19a5.06 5.06 0 0 0-2.803-4.526A2.35 2.35 0 0 0 10 2.355m1.5 13.418a1.55 1.55 0 0 1-2.998 0zM8.909 4.564A1.104 1.104 0 0 1 10 3.605c.556 0 1.017.415 1.091.96l.049.353.329.138a3.81 3.81 0 0 1 2.337 3.512v1.189c0 1.221.444 2.401 1.248 3.32l.818.936a.307.307 0 0 1-.232.51H4.36a.308.308 0 0 1-.232-.51l.818-.935a5.04 5.04 0 0 0 1.248-3.321v-1.19c0-1.58.963-2.936 2.337-3.511l.33-.138z"})},r=(0,o(680369).wt)("bell",n)},180365:(e,t,o)=>{o.d(t,{A:()=>k});var n=o(242343),r=()=>o(237385),i=()=>o(803290),a=()=>o(653998),s=()=>o(927999),l=()=>o(18376),c=()=>o(84543),d=()=>o(481148),u=()=>o(400885),p=()=>o(802955),h=()=>o(652039),m=()=>o(883249),g=()=>o(470414),f=()=>o(615917),v=()=>o(126451),y=()=>o(392968),x=()=>o(174114),b=()=>o(76394),S=o(163643);function w(e){let{src:t,placeholderSrc:o,placeholderBehavior:r,imageStyle:i,containerStyle:a,onLoadComplete:s,testId:l}=e;const[c,d]=(0,n.useState)(!0);let u;switch(r){case"force-show-placeholder":u=!0;break;case"force-show-src":u=!1;break;case"show-placeholder-if-loading-src":u=!!o&&(c||void 0===t);break;default:(0,b().HB)(r)}const p=(0,x().IS)((()=>{const e={gridColumn:1,gridRow:1};return{container:{display:"grid",...a},srcWrapper:{...u&&{display:"none"},...e},placeholderWrapper:{pointerEvents:"none",...e}}}),[a,u]);(0,n.useEffect)((()=>{void 0!==t&&d(!0)}),[t]);const h=(0,n.useCallback)((e=>{d(!1),null==s||s()}),[s]);return(0,S.jsxs)("div",{style:p.container,children:[(0,S.jsx)(y().Ay,{src:t,onLoad:h,style:i,placeholderStyle:p.srcWrapper,placeholderLoadedStyle:p.srcWrapper,testId:l}),o&&(0,S.jsx)(y().Ay,{src:o,style:i,placeholderStyle:p.placeholderWrapper,placeholderLoadedStyle:p.placeholderWrapper})]})}var C=()=>o(410090);const k=function(e){let{store:t,disabled:a,paddingRight:l,paddingLeft:d,height:u,proxyWidth:p}=e;const g=(0,r().v3)(),f=(0,i().uB)(void 0,o(116586).A),v=(0,i().K8)((()=>a||"suggest"===o(615661).Uv.getMode(t)),[a,t]),x=(0,i().K8)((()=>t.getCover()),[t]),b=(0,i().O$)(m().A),[C,k]=(0,n.useState)(void 0);if(!x)return null;const T=b.loadingMode!==h().pF&&b.loadingMode!==h().Wc;return(0,S.jsx)(o(982717).A,{mouseStore:f,onFlushTemporaryPosition:e=>function(e,t,o){const{imagePosition:n,reset:r}=e;c().createAndCommit({userAction:"PageCover.handleFlushTemporaryPosition",environment:o,canUndo:!0,perform:e=>{s().yY({store:t,coverPosition:n,transaction:e}),r()}})}(e,t,g),renderControl:e=>{let{handleRepositionClick:o,handleSavePositionClick:n,handleCancelClick:r,isVisible:i,isRepositioning:a}=e;return(0,S.jsx)(A,{handleRepositionClick:o,handleSavePositionClick:n,handleCancelClick:r,isVisible:i,isRepositioning:a,lastProxiedUrl:C,store:t,disabled:v,paddingRight:l,paddingLeft:d,mouseStore:f})},source:"page",store:t,style:{display:"flex",flexDirection:"column",alignItems:"center",height:u,maxHeight:280,cursor:"default"},render:e=>(0,S.jsxs)(n.Fragment,{children:[(0,S.jsx)(o(283992).A,{url:x.cover,isAuthenticated:!0,permissionRecord:x.pointer,width:p,onFinishedLoadingProxyUrl:k,render:(t,o)=>{const n={width:"100%",height:u,maxHeight:280,objectFit:"cover",opacity:T?.5:1,objectPosition:`center ${100*(1-(e.imagePosition||0))}%`,borderRadius:0},r={width:"100%",height:u,maxHeight:280};return(0,S.jsx)(w,{src:o,placeholderSrc:T?b.dataURL:void 0,placeholderBehavior:T?"force-show-placeholder":"show-placeholder-if-loading-src",containerStyle:r,imageStyle:n,onLoadComplete:I,testId:"pageCover"})}}),T&&(0,S.jsxs)("div",{style:y().fd,children:[(0,S.jsx)(o(966789).A,{size:"md",style:{marginRight:4}}),(0,S.jsx)("div",{style:{minWidth:30,textAlign:"right"},children:void 0!==b.uploadProgress?(0,S.jsx)(o(335157).A,{percentage:b.uploadProgress}):b.progressText?(0,S.jsx)("span",{children:b.progressText}):null})]})]})})};function I(){m().A.reset()}function A(e){let{isVisible:t,isRepositioning:o,handleCancelClick:s,handleRepositionClick:c,handleSavePositionClick:y,lastProxiedUrl:x,store:b,disabled:w,paddingRight:k,paddingLeft:I,mouseStore:A}=e;const T=(0,r().v3)(),M=(0,a().tz)(),j=(0,n.useCallback)((e=>function(e,t,o,n,r){r.reset();const i=e.target.getBoundingClientRect();l().W({environment:t,intl:o,store:n,rect:i})}(e,T,M,b,A)),[T,M,b,A]),_=(0,i().K8)((()=>m().A.state.loadingMode),[]),P=(0,i().K8)((()=>function(e){let t;return t=Boolean(e.isFullWidth())?"100%":u().x6,t}(b)),[b]),{device:E}=T,B=(0,i().K8)((()=>!o&&!(0,d().LX)({device:E})),[o,E]),R=(0,i().O$)(p().e);if(w||_!==h().pF||!R)return null;const{isMobile:W}=E;return(0,S.jsx)(f().A,{animate:{width:P,opacity:t?1:0},style:{position:"absolute",pointerEvents:t?"auto":"none",maxWidth:"100%",top:48},children:(0,S.jsxs)(g().A,{isVisible:t,position:"bottom",style:{marginRight:k,marginLeft:I},children:[B&&(0,S.jsx)(v().A,{style:{borderRight:W?"none":void 0,...C().k},onClick:j,children:(0,S.jsx)(a().sA,{defaultMessage:"Change cover",id:"pageCover.changeCover.text"})}),!o&&!W&&(0,S.jsx)(v().A,{style:{...C().k,borderRight:"none"},onClick:e=>c(e,x),children:(0,S.jsx)(a().sA,{defaultMessage:"Reposition",id:"pageCover.reposition.text"})}),o&&!W&&(0,S.jsx)(v().A,{style:C().k,onClick:y,children:(0,S.jsx)(a().sA,{defaultMessage:"Save position",id:"pageCover.savePosition.text"})}),o&&!W&&(0,S.jsx)(v().A,{style:{...C().k,borderRight:"none"},onClick:s,children:(0,S.jsx)(a().sA,{defaultMessage:"Cancel",id:"pageCover.reposition.cancelText"})})]})})}},201147:(e,t,o)=>{o.d(t,{Fe:()=>i,wm:()=>a});const n={property_number:!0,property_title:!0,property_person:!0,property_file:!0,property_text:!0,property_checkbox:!0,property_url:!0,property_email:!0,property_phone_number:!0,property_created_by:!0,property_last_edited_by:!0,property_button:!0,property_select:!0,property_multi_select:!0,property_status:!0,property_date:!0,property_created_time:!0,property_last_edited_time:!0,property_last_visited_time:!0,property_relation:!0,property_rollup:!0,property_formula:!0,property_auto_increment_id:!0,property_location:!0,property_verification:!0,property_geo_point:!0,deleted_property:!1,relationsGroup:!0,formSubmit:!0,formQuestion:!0,formTitle:!0,placeholder:!0,transcript:!0,cover:!1,normalizedTitleWithIcon:!1,properties:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,views:!0,viewsMain:!1,recentActivity:!1,collaborators:!1,teamspaces:!1},r={property_number:!0,property_title:!0,property_person:!0,property_file:!0,property_text:!0,property_checkbox:!0,property_url:!0,property_email:!0,property_phone_number:!0,property_created_by:!0,property_last_edited_by:!0,property_button:!0,property_select:!0,property_multi_select:!0,property_status:!0,property_date:!0,property_created_time:!0,property_last_edited_time:!0,property_last_visited_time:!0,property_relation:!0,property_rollup:!0,property_formula:!0,property_auto_increment_id:!0,property_location:!0,property_verification:!0,property_geo_point:!0,deleted_property:!1,formSubmit:!1,formQuestion:!1,formTitle:!1,placeholder:!1,transcript:!1,cover:!1,normalizedTitleWithIcon:!1,properties:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,relationsGroup:!0,editor:!1,views:!1,viewsMain:!1,recentActivity:!1,collaborators:!1,teamspaces:!1};function i(e){return n[e.type]}function a(e){return r[e.type]}},219322:(e,t,o)=>{o.d(t,{U:()=>s,t:()=>l});var n=()=>o(174114),r=()=>o(752903),i=()=>o(31448),a=()=>o(755786);const s={[r().NY.ExtremeSmall]:{height:16,fontSize:12,margin:"0 4px 0 0",recordIconMarginRight:3,pageIconSize:13,closeIconSize:8},[r().NY.ExtraSmall]:{height:16,fontSize:12,margin:"0 4px 0 0",recordIconMarginRight:3,pageIconSize:13,closeIconSize:8},[r().NY.Small]:{height:18,fontSize:12,margin:"0 6px 6px 0",recordIconMarginRight:3,pageIconSize:16,closeIconSize:8},[r().NY.CompactEssential]:{height:20,fontSize:14,margin:"0 12px 6px 0",recordIconMarginRight:4,pageIconSize:20,closeIconSize:8},[r().NY.Medium]:{height:20,fontSize:14,margin:"0 12px 6px 0",recordIconMarginRight:4,pageIconSize:20,closeIconSize:8},[r().NY.Inline]:{height:20,fontSize:14,margin:"0 12px 0 0",recordIconMarginRight:4,pageIconSize:20,closeIconSize:8},[r().NY.Large]:{height:24,fontSize:16,margin:"0 8px 8px 0",recordIconMarginRight:4,pageIconSize:24,closeIconSize:10}};function l(e){let{format:t,shouldShrink:o,shouldWrap:l,isSingle:d,style:u,clickTitleBehavior:p}=e;const h="edit"===p;return(0,n().IS)((()=>{const{fontSize:e,margin:n}=s[t],p=h?a().d0:s[t].height;return{style:{...l?{display:"inline",lineHeight:1.5,borderRadius:4}:c({height:p}),fontSize:e,fontWeight:i().Wy.medium,minWidth:o?0:"auto",margin:d?0:n,...t===r().NY.Inline&&{overflow:"hidden"},...u}}}),[t,o,l,d,h,u])}function c(e){let{height:t}=e;return{display:"flex",alignItems:"center",lineHeight:1.2,height:t}}},224281:(e,t,o)=>{o.d(t,{Jv:()=>y,Zr:()=>x,Rl:()=>b,mA:()=>v});var n=o(242343),r=()=>o(237385),i=()=>o(803290),a=()=>o(174114),s=()=>o(564134),l=()=>o(916963),c=()=>o(88442),d=()=>o(136239),u=()=>o(622286),p=()=>o(966789),h=o(163643);function m(){const e=(0,a().DP)();return(0,h.jsx)("span",{style:{marginLeft:6,fontSize:11,padding:"1px 4px",borderRadius:4,display:"inline-flex",flexDirection:"row",alignItems:"center",gap:4,marginTop:1,color:"light"===e.mode?e.accentColors.blue[500]:e.accentColors.blue[600]},children:(0,h.jsx)(p().A,{legacySize:14})})}var g=()=>o(870896);const f=function(){return(0,h.jsx)(o(695951).A,{color:"purple",style:{marginLeft:6,padding:"1px 4px",display:"inline-flex",flexDirection:"row",alignItems:"center",gap:4,marginTop:1},content:(0,h.jsx)(o(653998).sA,{defaultMessage:"AI",id:"database.property.aiAutofillEnabledIndicator"})})};const v=n.memo((function(e){const{propertySchema:t,showIcon:n,showDragIcon:i,hideName:s,badge:l,style:c,iconStyle:u,iconSize:p,dragHandleStyle:m,className:g,labelSizeVariant:f}=e,v=(0,r().v3)(),{device:y}=v,x=y.isMobile?16:14,S=(0,a().IS)((e=>({container:{display:"flex",alignItems:"center",lineHeight:"120%",minWidth:0,fontSize:x,...c},iconWrapper:{display:"grid",justifyContent:"center",alignItems:"center",marginRight:s?void 0:"small"===f||i?4:6,...u},dragHandle:{gridColumn:1,gridRow:1,opacity:i?1:0,transition:`opacity ${d().bM}`},itemIcon:{gridColumn:1,gridRow:1,opacity:i?0:1,transition:`opacity ${d().bM}`},dragIcon:{fill:e.icon.secondary}})),[x,s,u,f,i,c]);return(0,h.jsxs)("div",{className:g,style:S.container,children:[n&&(0,h.jsxs)("div",{style:S.iconWrapper,children:[(0,h.jsx)("div",{style:S.itemIcon,children:(0,h.jsx)(b,{propertySchema:t,iconSize:p,iconStyle:u})}),(0,h.jsx)("div",{style:S.dragHandle,children:(0,h.jsx)(o(369515).A,{style:m,iconSize:12,iconStyle:S.dragIcon})})]}),!s&&(0,h.jsx)("div",{style:{...o(31448).RC},children:t.name}),l]})}));function y(e){const{propertySchema:t}=e,o=(0,r().v3)();return(0,i().K8)((()=>(0,c().O0)(o)&&s().$M(t)&&s().om(t)),[o,t])?(0,h.jsx)(f,{}):null}function x(e){let{propertyId:t,collectionContextStore:o}=e;return(0,i().K8)((()=>{var e;const n=null===(e=o.collectionStore())||void 0===e?void 0:e.id;if(!n)return!1;const r=g().d.state.collectionsProperties[n];return!!r&&"Loading"===r[t]}),[o,t])?(0,h.jsx)(m,{}):null}function b(e){const{propertySchema:t,iconSize:o,iconStyle:n}=e,{isMobile:i}=(0,r().Y0)(),s=(0,a().DP)(),c=(0,u().X)("nds_default_property_noticon"),d=i?18:16;return(0,h.jsx)(l().zB,{type:t.type,icon:t.icon,size:o||d,theme:s,style:n,isDefaultNoticonEnabled:c})}},263873:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>n,plusSmallIcon:()=>r});o(242343);const n={viewBox:"0 0 16 16",svg:(0,o(163643).jsx)("path",{d:"M8 2.74a.66.66 0 0 1 .66.66v3.94h3.94a.66.66 0 0 1 0 1.32H8.66v3.94a.66.66 0 0 1-1.32 0V8.66H3.4a.66.66 0 0 1 0-1.32h3.94V3.4A.66.66 0 0 1 8 2.74"})},r=(0,o(680369).wt)("plusSmall",n)},277013:(e,t,o)=>{o.d(t,{$:()=>c,S:()=>d});var n=()=>o(803290),r=()=>o(174114),i=()=>o(782422),a=()=>o(48913),s=()=>o(755648),l=()=>o(566255);function c(e){const{environment:t,rightEdgeDistance:o,isInPeekRenderer:c}=e,u=e.width??36,p=(0,n().K8)((()=>(0,a().zo)(t,c)-(0,a().Ql)(t)),[t,c]),h=(0,n().K8)((()=>d(t,16+s().A.state)),[t]),m=(0,n().K8)((()=>o+s().A.state),[o]),g=(0,n().K8)((()=>i().$o.state?0:1),[]);return(0,r().IS)((e=>({buttonPositionStyle:{display:"flex",position:"absolute",bottom:h,right:m,opacity:g,transform:`translateX(-${p}px) translateZ(0)`,transition:`\n\t\t\t\t\topacity ${l().L}ms,\n\t\t\t\t\tcolor ${l().L}ms,\n\t\t\t\t\ttransform 200ms\n\t\t\t\t`,alignItems:"center",gap:10},roundButtonStyle:{display:"flex",alignItems:"center",justifyContent:"center",background:e.whiteButtonBackground,width:u,height:u,borderRadius:"100%",fontSize:20,boxShadow:e.shadowSM}})),[p,h,m,u,g])}function d(e,t){return e.WindowSizeStore.getSafePaddingBottomCSS(t+(e.device.isTablet?-12:0))}},286270:(e,t,o)=>{o.d(t,{E:()=>a});var n=o(242343),r=()=>o(81e4),i=o(163643);const a=n.forwardRef(((e,t)=>{let{children:n,color:a,disabled:s,icon:l,iconStyle:c,isLoading:d,shape:u="default",size:p="md",style:h,...m}=e;const g=(0,o(174114).IS)((e=>{const t=a?`${a}Primary`:"primary",i=a||"regular",m=a?`${a}Hover`:"primaryHover",g=a?`${a}Pressed`:"primaryPressed";return{button:{...(0,r().qq)({shape:u,size:p,hasIconOnly:Boolean(l)&&!n}),justifyContent:"center",color:e.text[t],background:e.tint[i],opacity:s||d?.3:1,fontWeight:o(31448).Wy.medium,...h},hovered:{background:s?e.tint[i]:e.tint[m]},pressed:{background:s?e.tint[i]:e.tint[g]},icon:{...(0,r().D3)({size:p,hasIconOnly:!n}),...c}}}),[n,a,s,l,c,d,u,p,h]);return(0,i.jsxs)(o(417653).A,{ref:t,style:g.button,hoveredStyle:g.hovered,pressedStyle:g.pressed,disabled:s,isLoading:d,...m,children:[l?l(g.icon):null,n]})}));a.displayName="TintButton"},305168:(e,t,o)=>{o.d(t,{A:()=>i});var n=()=>o(437071);class r extends(()=>o(129044))().default{getInitialState(){return{isFullScreen:window.outerWidth===window.screen.width&&window.outerHeight===window.screen.height}}constructor(){super(),this.updateFromElectronState=async()=>{const e=await n().fullscreen.get();void 0!==e&&this.setState({isFullScreen:e})},n().fullscreen.addListener(this.updateFromElectronState),this.updateFromElectronState()}}const i=new r},305948:(e,t,o)=>{o.d(t,{eJ:()=>g,ew:()=>m,ml:()=>d,rA:()=>p,yI:()=>h,zf:()=>u});o(403517);var n=()=>o(975392),r=()=>o(76394),i=()=>o(61014),a=()=>o(86335),s=()=>o(479056),l=()=>o(465546);function c(e){switch(e){case"checkbox":return"boolean";case"number":return"number";case"text":return"text";case"date":return"date";case"array":return"array";case"block":return"block";case"person":return"person";case"select":return"select";case"function":return"function";case"unknown":return"unknown";case"undefined":return"undefined";default:(0,r().HB)(e)}}function d(e){switch(e.type){case s().M9.InvalidCharacter:return{...a().x0.InvalidCharacter,values:{errorCharacter:e.character}};case s().M9.UnclosedStringLiteral:return a().x0.UnclosedStringLiteral;case s().M9.UnclosedComment:return a().x0.UnclosedComment;case s().M9.TokenExpected:return{...a().x0.TokenExpected,values:{expectedToken:e.token}};case s().M9.StringLiteralContainsToken:return a().x0.StringLiteralContainsToken;case s().M9.ExpressionExpected:return a().x0.ExpressionExpected;case s().M9.PropertyTokenOrFunctionExpected:return a().x0.PropertyTokenOrFunctionExpected;case s().M9.EndOfInputExpected:return a().x0.EndOfInputExpected;case s().M9.UnexpectedError:return a().x0.UnexpectedError;case s().M9.TooDeeplyNested:return a().x0.TooDeeplyNested;default:(0,r().HB)(e)}}function u(e){switch(e.type){case s().IA.FunctionCallArgumentWrongType:case s().IA.FunctionCallUnexpectedArgument:return e.argument;default:return e.node}}function p(e,t){let o;switch(t.type){case s().IA.ThisRowTypeNotFound:o=a().Xz.ThisRowTypeNotFound;break;case s().IA.ThisRowNotBlockWithCollection:o=a().Xz.ThisRowNotBlockWithCollection;break;case s().IA.MissingPropertyOnThisRow:o={...a().Xz.MissingPropertyOnThisRow,values:{propertyName:t.property}};break;case s().IA.MissingContextVariable:{const e=(0,l().ix)(t.token)?t.token.contextValueId:t.token.valueId;o={...a().Xz.MissingContextVariable,values:{valueId:e}}}break;case s().IA.MissingBlock:o={...a().Xz.MissingBlock,values:{blockId:t.token.blockId}};break;case s().IA.CallingNotFunction:o={...a().Xz.CallingNotFunction,values:{expressionType:c(t.callee.type.type)}};break;case s().IA.FunctionCallTooFewArguments:o={...a().Xz.FunctionCallTooFewArguments,values:{minNumParameters:t.minNumParameters,functionName:t.libraryFunction.name,numArguments:t.numArguments}};break;case s().IA.FunctionCallUnexpectedArgument:o={...a().Xz.FunctionCallUnexpectedArgument,values:{functionName:t.libraryFunction.name}};break;case s().IA.FunctionCallArgumentWrongType:o={...a().Xz.FunctionCallArgumentWrongType,values:{argumentType:c(t.argument.type.type),functionName:t.libraryFunction.name}};break;case s().IA.MemberPropertyMismatchCollection:o={...a().Xz.MemberPropertyMismatchCollection,values:{propertyName:t.token.property}};break;case s().IA.MemberPropertyMissing:o={...a().Xz.MemberPropertyMissing,values:{propertyName:t.property}};break;case s().IA.MemberPropertyTargetNotBlock:o=a().Xz.MemberPropertyTargetNotBlock;break;case s().IA.MemberPropertyTypeInvalid:o={...a().Xz.MemberPropertyTypeInvalid,values:{propertyName:t.propertyName,propertyType:t.propertyType}};break;case s().IA.UndefinedIdentifier:o={...a().Xz.UndefinedIdentifier,values:{identifier:t.node.text}};break;case s().IA.UnifiedFunctionCannotFindFunction:o={...a().Xz.UnifiedFunctionCannotFindFunction,values:{functionName:t.name}};break;case s().IA.UnifiedFunctionNoArguments:o={...a().Xz.UnifiedFunctionNoArguments,values:{functionName:t.libraryFunction.name}};break;case s().IA.UnifiedFunctionTargetWrongType:o={...a().Xz.UnifiedFunctionTargetWrongType,values:{functionName:t.libraryFunction.name,targetType:c(t.expression.type.type)}};break;case s().IA.CannotRelativelyCompareTypes:o={...a().Xz.CannotRelativelyCompareTypes,values:{lhsType:c(t.lhsType.type),rhsType:c(t.rhsType.type)}};break;case s().IA.CannotDoMathOnType:o={...a().Xz.CannotDoMathOnType,values:{lhsType:c(t.lhsType.type),rhsType:c(t.rhsType.type)}};break;case s().IA.UnaryMinusOnNonNumber:o={...a().Xz.UnaryMinusOnNonNumber,values:{type:c(t.expression.type.type)}};break;case s().IA.IdentifierExpected:o=a().Xz.IdentifierExpected;break;case s().IA.FunctionCallExpected:o={...a().Xz.FunctionCallExpected,values:{functionName:t.functionName}};break;case s().IA.RenamedIdentifier:o={...a().Xz.RenamedIdentifier,values:{identifier:t.identifier,renamedTo:t.renamedTo}};break;case s().IA.RemovedFunction:o={...a().Xz.RemovedFunction,values:{functionName:t.functionName,alternative:t.alternative}};break;case s().IA.ContextVariableNotBlockWithCollection:o={...a().Xz.ContextVariableNotBlockWithCollection,values:{valueId:t.token.contextValueId}};break;case s().IA.MissingPropertyOnContextVariable:o={...a().Xz.MissingPropertyOnContextVariable,values:{propertyName:t.property,valueId:t.token.contextValueId}};break;case s().IA.BlockPropertyTypeInvalid:o={...a().Xz.BlockPropertyTypeInvalid,values:{propertyName:t.propertyName}};break;case s().IA.DisallowedReturnType:{const n=t.allowedReturnTypes.map((t=>e.formatMessage((0,i().getHumanReadableType)(t)).toLocaleLowerCase()));o={...a().Xz.DisallowedReturnType,values:{allowedReturnType:e.formatList(n,{style:"long",type:"conjunction"}),allowedReturnTypeCount:t.allowedReturnTypes.length,returnType:e.formatMessage((0,i().getHumanReadableType)(t.returnType)).toLocaleLowerCase()}};break}case s().IA.CrossSpacePropertyNotSupported:o={...a().Xz.CrossSpacePropertyNotSupported};break;default:(0,r().HB)(t)}return{...o,values:{...o.values,startOffset:t.node.startOffset,endOffset:t.node.endOffset+1}}}function h(e,t){let o;switch(t.type){case s().uW.MissingThisRow:o=a().X8.MissingThisRow;break;case s().uW.MissingSchemaPropertyOnThisRow:o={...a().X8.MissingSchemaPropertyOnThisRow,values:{propertyName:t.property}};break;case s().uW.ThisRowBlockPropertyMismatchCollection:o=a().X8.ThisRowBlockPropertyMismatchCollection;break;case s().uW.MissingContextVariable:o={...a().X8.MissingContextVariable,values:{valueId:t.valueId}};break;case s().uW.IdentifierNotFound:o={...a().X8.IdentifierNotFound,values:{identifier:t.node.text}};break;case s().uW.CannotRelativelyCompareTypes:o={...a().X8.CannotRelativelyCompareTypes,values:{lhsType:c(t.lhsType),rhsType:c(t.rhsType)}};break;case s().uW.CannotDoMathOnType:o={...a().X8.CannotDoMathOnType,values:{valueType:c(t.valueType)}};break;case s().uW.CannotCallNonFunction:o={...a().X8.CannotCallNonFunction,values:{calleeType:c(t.calleeType)}};break;case s().uW.UnifiedFunctionPropertyNotFound:o={...a().X8.UnifiedFunctionPropertyNotFound,values:{functionName:t.node.name}};break;case s().uW.LibraryFunctionExecutionError:const n=t.error instanceof s().x4?t.error:void 0;o=(null==n?void 0:n.info.type)===s().v3.DateInvalidDurationUnit?{...a().gW.DateInvalidDurationUnit,values:{functionName:t.libraryFunction.name,invalidUnit:n.info.invalidUnit}}:(null==n?void 0:n.info.type)===s().v3.CannotUseToNumberOnList?{...a().gW.CannotUseToNumberOnList}:(null==n?void 0:n.info.type)===s().v3.CannotRoundToNonInteger?{...a().gW.CannotRoundToNonInteger,values:{precision:n.info.precision}}:(null==n?void 0:n.info.type)===s().v3.CannotRoundToTooManyDecimalPlaces?{...a().gW.CannotRoundToTooManyDecimalPlaces,values:{precision:n.info.precision}}:{...a().X8.LibraryFunctionExecutionError,values:{functionName:t.libraryFunction.name}};break;case s().uW.FunctionCallTooFewArguments:o={...a().X8.FunctionCallTooFewArguments,values:{functionName:t.libraryFunction.name}};break;case s().uW.FunctionCallUnexpectedArgument:o={...a().X8.FunctionCallUnexpectedArgument,values:{functionName:t.libraryFunction.name}};break;case s().uW.FunctionCallArgumentWrongType:o={...a().X8.FunctionCallArgumentWrongType,values:{functionName:t.libraryFunction.name,argumentType:c(t.argumentType)}};break;case s().uW.AccessingPropertyOnNonBlock:o=a().X8.AccessingPropertyOnNonBlock;break;case s().uW.MissingDataDependencyBlock:o={...a().X8.MissingDataDependencyBlock,values:{blockId:t.blockPointer.id}};break;case s().uW.MissingDataDependencyPerson:o={...a().X8.MissingDataDependencyPerson,values:{personId:t.personPointer.id}};break;case s().uW.MemberPropertyMismatchCollection:o=a().X8.MemberPropertyMismatchCollection;break;case s().uW.MissingPropertyOnSchemaForMemberProperty:o=a().X8.MissingPropertyOnSchemaForMemberProperty;break;case s().uW.UnaryMinusOnNonNumber:o={...a().X8.UnaryMinusOnNonNumber,values:{expressionType:c(t.expressionType)}};break;case s().uW.UnexpectedRecoveryNode:o=a().X8.UnexpectedRecoveryNode;break;case s().uW.UnexpectedError:o=a().X8.UnexpectedError;break;case s().uW.DepthExceeded:o=a().X8.DepthExceeded;break;case s().uW.CycleDetected:o=a().X8.CycleDetected;break;case s().uW.DownstreamParseFailure:o=a().X8.DownstreamParseFailure;break;case s().uW.MaxEvaluationTimeExceeded:o=a().X8.MaxEvaluationTimeExceeded;break;case s().uW.MissingSchemaPropertyOnCollection:o={...a().X8.MissingSchemaPropertyOnCollection,values:{collectionId:t.collectionId,propertyName:t.property}};break;case s().uW.ContextVariableWrongType:o={...a().X8.ContextVariableWrongType,values:{expectedType:t.expectedType,propertyType:t.resultType,valueId:t.valueId}};break;case s().uW.DisallowedValueType:{const n=t.allowedValueTypes.map((t=>e.formatMessage((0,i().getHumanReadableType)(t)).toLocaleLowerCase()));o={...a().Xz.DisallowedReturnType,values:{allowedValueType:e.formatList(n,{style:"long",type:"conjunction"}),allowedValueTypeCount:t.allowedValueTypes.length,valueType:e.formatMessage((0,i().getHumanReadableValueType)(t.expressionValue)).toLocaleLowerCase()}};break}default:(0,r().HB)(t)}return(0,l().li)(t)?{...o,values:{...o.values,startOffset:t.node.startOffset,endOffset:t.node.endOffset+1}}:o}function m(e){const t=null==e?void 0:e.values;return[n().cJ(e,"values"),t]}function g(e){return e.type===s().uW.DepthExceeded||e.type===s().uW.CycleDetected||e.type===s().uW.MaxEvaluationTimeExceeded||e.type===s().uW.LibraryFunctionExecutionError}},309968:(e,t,o)=>{o.d(t,{A:()=>r});class n extends(()=>o(129044))().default{}const r=new n},326259:(e,t,o)=>{o.d(t,{OH:()=>s,T2:()=>l,do:()=>c});var n=()=>o(871002),r=()=>o(846581),i=()=>o(16456),a=()=>o(427091);function s(e){const{dateTime:t,intl:o,shortenDateAndRange:n}=e,a=i().C6.toPersistedDate(t.valueOf());return r().ZF({value:a,allowRelativeDates:!0,intl:o,shortenDateAndRange:n,displayInUserTimezone:!0})}function l(e){const{dateTime:t,intl:o,userTimeZone:n,displayInUserTimezone:a,alwaysIncludeTimezone:s}=e,l=i().C6.toPersistedDateTime(t.valueOf(),t.zoneName);return r().ZF({value:l,allowRelativeDates:!0,intl:o,userTimeZone:n,displayInUserTimezone:a,alwaysIncludeTimezone:s})}function c(e){const{luxonRange:t,intl:o}=e,s=i().C6.toPersistedDateRange(t),l=r().ZF({value:s,allowRelativeDates:!1,shortenDateAndRange:!0,intl:o,displayInUserTimezone:!0}),c=t.end.setZone((0,a().P)()),d=r().fU({start_time:c.toFormat(n().GE),humanReadable:!1,intl:o});return o.formatMessage({id:"verification.timeRange",defaultMessage:"{formattedDateRange} at {formattedEndTime}"},{formattedDateRange:l,formattedEndTime:d})}},333212:(e,t,o)=>{o.d(t,{Lq:()=>n,WK:()=>i,nh:()=>r});const n=40,r=48,i=60},339496:(e,t,o)=>{o.d(t,{PF:()=>A,Wn:()=>k,Yo:()=>I});o(403517);var n=o(242343),r=()=>o(237385),i=()=>o(803290),a=()=>o(174114),s=()=>o(228138),l=()=>o(219530),c=()=>o(905184),d=()=>o(939499),u=()=>o(653998),p=()=>o(575015),h=()=>o(11639),m=()=>o(195095),g=()=>o(823829),f=()=>o(740180),v=()=>o(918135),y=()=>o(153100),x=()=>o(356813),b=()=>o(103151),S=()=>o(754697),w=()=>o(955885),C=o(163643);function k(e){const{loadAttachmentsData:{uploadFile:t}}=e,{isMobile:o}=(0,r().Y0)(),n=(0,u().tz)(),i=(0,w().A)(!0),a=n.formatMessage({id:"assistantRichTextInput.insertAttachment.button.tooltip",defaultMessage:"Attach file"});return(0,C.jsx)(b().A,{renderTooltip:()=>a,render:e=>(0,C.jsx)(x().A,{ariaLabel:a,icon:l().j,iconStyle:{width:o?19:16,height:o?19:16},style:{marginLeft:0,marginRight:0,width:(0,v().h6)(o),height:(0,v().h6)(o)},onClick:t,...e,...i})})}function I(e){const{loadAttachmentsData:{threadStore:t},clientStore:o}=e,r=(0,a().IS)((e=>({filePreviewWrapper:{width:"100%",paddingTop:4,paddingBottom:4,marginLeft:4}})),[]),s=(0,i().K8)((()=>o.getOrCreateClientAIChatThreadStore(t.id)),[o,t.id]),l=(0,i().K8)((()=>s.getStagedAttachmentUploadStoreIfExists()),[s]),c=(0,g().Jp)(l),d=(0,n.useCallback)((e=>{l&&(l.onDeleteFileUpload(e),s.unstageAttachmentInferenceTranscriptStep({fileId:e}))}),[l,s]);return c&&0!==c.length?(0,C.jsx)("div",{style:r.filePreviewWrapper,children:c.map((e=>{const{fileName:o}=e;return(0,C.jsx)(g().kp,{uploadProgress:e,permissionRecordOverride:t.pointer,onDeleteFile:"complete"===e.status?()=>d(e.fileUrl):void 0},o)}))}):null}function A(e){const{clientAiChatStore:t,threadStore:o,spaceStore:a,config:l,aiChatFeatureController:g}=e,v=(0,r().v3)(),x=(0,i().K8)((()=>{if(o&&t)return t.getOrCreateClientAIChatThreadStore(o.id)}),[t,o]),b=(0,i().K8)((()=>null==x?void 0:x.getTemporaryAttachmentStagedDataOrInstantiate().stagedAttachmentUploadStore),[x]),w=(0,n.useCallback)((e=>{if(!x||!a)return;const t=x.getTemporaryAttachmentStagedDataOrInstantiate(),o=(0,S().Z1)({environment:v,table:d().mS,spaceId:a.id}),n=(0,s().jx)({uploadedFileData:e,id:o});x.stageAttachmentInferenceTranscriptStep({step:n}),t.stagedAttachmentUploadStore.onFileUploadCompleted(e.uploadIdentifier,e),(0,h().u)({environment:v,event:{eventName:"assistant_attachment_upload_successful",eventProperties:{content_type:n.contentType,source:"custom_upload",framework:"inference_transcript"}}})}),[x,v,a]),C=(0,m().X)({currentSpaceId:null==a?void 0:a.id,progressOverrides:{threadPointer:o&&a?{spaceId:a.id,table:c().To,id:null==o?void 0:o.id}:void 0,onSuccess:w,progressStore:b}}),k=(0,y().z)({threadClientStore:x,config:l,clientChatStore:t,aiChatFeatureController:g}),I=(0,u().tz)(),A=(0,n.useCallback)((e=>{0!==e.files.length&&(k.canUpload?C(e.files[0]):p().D6({label:I.formatMessage(f().E[k.reason])}))}),[k,I,C]);return{uploadAttachment:C,onPasteFiles:A}}},357307:(e,t,o)=>{o.d(t,{X:()=>I});o(362833),o(725707),o(771702),o(403517),o(244387);var n=o(242343),r=()=>o(803290),i=()=>o(174114),a=()=>o(633427),s=()=>o(726646),l=()=>o(934889),c=()=>o(905184),d=()=>o(653998),u=()=>o(77551),p=()=>o(209684),h=()=>o(535906),m=()=>o(273520),g=()=>o(966789),f=()=>o(935091),v=()=>o(858023),y=()=>o(701270),x=()=>o(88271),b=()=>o(640979),S=()=>o(485966),w=()=>o(413871),C=o(163643);const k=(0,d().YK)({untitled_search:{id:"WorkflowEditorTranscript.historyDropdown.untitledSearchTitle",defaultMessage:"Untitled Search"},new_chat_title:{id:"WorkflowEditorTranscript.historyDropdown.newChatTitle",defaultMessage:"New chat"}});function I(e){const{threadStore:t,onThreadChange:o,parentStore:I}=e,A=(0,d().tz)(),T=(0,r().K8)((()=>{var e;const o=null==t||null===(e=t.getData())||void 0===e?void 0:e.title;return o||A.formatMessage(k.untitled_search)}),[A,t]),M=Boolean(t),j=(0,i().IS)((e=>({checkIcon:{width:14},chevronDownIcon:{width:16,marginLeft:6,fill:e.mediumIconColor,flexShrink:0},loadingStateContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",gap:8,padding:32},clockIcon:{width:24,opacity:.2},threadTitleButton:{flexShrink:1,paddingRight:6},threadTitleInDropdown:{maxWidth:"250px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",flexShrink:1}})),[]),{status:_,value:P}=(0,u().s)({parentStore:I,threadStore:t}),E=(0,n.useCallback)((()=>(0,C.jsx)("div",{style:j.loadingStateContainer,children:(0,C.jsx)(g().A,{})})),[j.loadingStateContainer]),B=(0,n.useCallback)((()=>(0,C.jsx)("div",{style:j.loadingStateContainer,children:(0,l().clockIcon)(j.clockIcon)})),[j.loadingStateContainer,j.clockIcon]),R=(0,n.useCallback)((e=>{if("pending"===_)return[{key:"loading",render:e=>(0,C.jsx)(x().A,{...e,title:"Previous chats",shouldShowBottomDivider:!1}),items:[{key:"loading-item",action:()=>{},render:()=>(0,C.jsx)(E,{})}]}];if(!P||0===P.length)return[{key:"empty",render:e=>(0,C.jsx)(x().A,{...e,title:"Previous chats"}),items:[{key:"empty-item",action:()=>{},render:()=>(0,C.jsx)(B,{})}]}];const n=[];let r=!1;null!=t&&t.id&&(r=!0,n.push({key:"new",render:e=>(0,C.jsx)(x().A,{...e,shouldShowBottomDivider:!1}),items:[{key:"new-item",action:()=>{o(void 0),e.close()},render:e=>(0,C.jsx)(h().A,{...e,title:"New chat"})}]}));const i=P.reduce(((e,t)=>{const o=new Date(t.created_at),n=new Date;n.setHours(0,0,0,0);const r=new Date(n);r.setDate(r.getDate()-1);const i=new Date(n);i.setDate(i.getDate()-7);const a=new Date(n);let s;return a.setDate(a.getDate()-30),s=o>=n?"today":o>=r?"yesterday":o>=i?"previous7days":o>=a?"previous30days":"older",e[s]||(e[s]=[]),e[s].push(t),e}),{});return[{key:"today",label:A.formatMessage({id:"aiInferenceTranscript.today",defaultMessage:"Today"})},{key:"yesterday",label:A.formatMessage({id:"aiInferenceTranscript.yesterday",defaultMessage:"Yesterday"})},{key:"previous7days",label:A.formatMessage({id:"aiInferenceTranscript.previous7days",defaultMessage:"Previous 7 days"})},{key:"previous30days",label:A.formatMessage({id:"aiInferenceTranscript.previous30days",defaultMessage:"Previous 30 days"})},{key:"older",label:A.formatMessage({id:"aiInferenceTranscript.older",defaultMessage:"Older"})}].forEach((a=>{let{key:l,label:d}=a;const u=i[l];if(null==u||!u.length)return;const p=r;r=!1,n.push({key:`history-${l}`,render:e=>(0,C.jsx)(x().A,{...e,title:d,topBorder:p}),items:u.map((n=>({key:n.id,action:()=>{const t=S().default.state.currentSpaceStore;if(!t)return;const r=w().Ei.createChildStore(t,{table:c().To,id:n.id,spaceId:t.id});o(r),e.close()},render:e=>(0,C.jsx)(h().A,{...e,title:n.title||A.formatMessage(k.untitled_search),right:(null==t?void 0:t.id)===n.id?(0,s().checkmarkFillIcon)(j.checkIcon):void 0})})))})})),n}),[_,P,t,E,B,j.checkIcon,o,A]);return(0,C.jsx)(m().Ay,{popupType:m().z7.Popup,placementToOrigin:m().sx.Bottom,alignmentToOrigin:m().yP.Start,renderOrigin:e=>(0,C.jsxs)(p().p,{"aria-label":"history",...e,size:"md",style:j.threadTitleButton,children:[(0,C.jsx)(y().D,{styleName:"UIRegular-14px/Medium",style:j.threadTitleInDropdown,children:M?T:A.formatMessage(k.new_chat_title)}),(0,C.jsx)(C.Fragment,{children:(0,a().arrowChevronSingleDownIcon)(j.chevronDownIcon)})]}),render:e=>(0,C.jsx)(f().A,{menuType:b().gu.Popup,width:300,children:(0,C.jsx)(v().Ay,{type:v().Oh.Vertical,initialFocus:0,sections:R(e)})})})}},367950:(e,t,o)=>{function n(e){return`${e.table}:${e.id}`}o.d(t,{_:()=>n})},373023:(e,t,o)=>{o.d(t,{$y:()=>x,jc:()=>y,x9:()=>v});o(242343);var n=()=>o(237385),r=()=>o(803290),i=()=>o(945335),a=()=>o(808263),s=()=>o(653998),l=()=>o(336519),c=()=>o(206799),d=()=>o(137476),u=()=>o(548694),p=()=>o(309968),h=()=>o(837141),m=()=>o(613313),g=()=>o(525263),f=o(163643);function v(){const e=(0,r().K8)((()=>{const{editsBlocked:e}=h().A.state;return e??!1}),[]),t=(0,n().v3)();return(0,r().K8)((()=>(0,m().Jq)(t)),[t])&&e}function y(){return(0,r().K8)((()=>{var e;const t=p().A.state;return null==t||null===(e=t.data)||void 0===e?void 0:e.invoiceHostedUrl}),[])}function x(){const e=(0,n().v3)(),t=y(),o=(0,r().K8)((()=>{var e;const t=p().A.state;return(null==t||null===(e=t.data)||void 0===e?void 0:e.overdueInvoiceCount)??0}),[]),d=(0,r().K8)((()=>(0,u().s7)(e)),[e]),h=function(e,t){if(e)return t>1?(0,f.jsx)(s().sA,{defaultMessage:"Access to Notion is limited because we couldnâ€™t process {overdueInvoiceCount, plural, one {your last payment} other {{overdueInvoiceCount} payments}}.",id:"uncollectibleExperience.uncollectibleExperienceOverlay.multipleInvoicesMessageContent",values:{overdueInvoiceCount:t}}):(0,f.jsx)(s().sA,{defaultMessage:"Access to Notion is limited because we couldnâ€™t process your last payment",id:"uncollectibleExperience.uncollectibleExperienceOverlay.messageContent"});return(0,f.jsx)(s().sA,{id:"uncollectibleExperience.uncollectibleExperienceOverlay.memberMessageContent",defaultMessage:"Access to Notion is limited"})}(d,o),m=function(e){if(e)return;return(0,f.jsx)(s().sA,{id:"uncollectibleExperience.uncollectibleExperienceOverlay.memberSecondaryLabel",defaultMessage:"Contact a workspace owner to update your workspaceâ€™s payment method"})}(d),v=function(e,t,o){if(t){const n=(0,g().a)(o);return o=>{n&&(b(t,e),n(o))}}return o=>{b(t,e),l().Ow()}}(e,d,t),x=function(e){if(e)return(0,f.jsx)(s().sA,{defaultMessage:"View unpaid invoice",id:"uncollectibleExperience.uncollectibleExperienceOverlay.buttonLabel"});return(0,f.jsx)(s().sA,{id:"uncollectibleExperience.uncollectibleExperienceOverlay.memberButtonLabel",defaultMessage:"View workspace owner"})}(d),S=function(e){if(e)return(0,f.jsx)(c().Q,{iconGroup:i().i,variantName:"default",colorName:"primary"});return(0,f.jsx)(c().Q,{iconGroup:a()._,variantName:"default",colorName:"primary"})}(d);return{clickAction:v,ctaMessage:x,primaryMessage:h,secondaryMessage:m,ctaIcon:S,tooltipBodyMessage:d?x:m,isWorkspaceOwner:d,overdueInvoiceCount:o}}function b(e,t){(0,d().u4)({environment:t,event:{eventName:"subscription_uncollectible_blurred_experience_cta_clicked",eventProperties:{is_workspace_owner:e}}})}},382640:(e,t,o)=>{o.d(t,{$E:()=>T,$L:()=>s,BZ:()=>d,EC:()=>m,EI:()=>b,E_:()=>A,Ed:()=>p,Fq:()=>v,Lu:()=>w,Mk:()=>h,O0:()=>I,UO:()=>M,V$:()=>k,VQ:()=>g,Xx:()=>S,Xy:()=>c,YS:()=>f,_g:()=>x,dd:()=>u,pW:()=>l,q3:()=>a,wH:()=>i});var n=()=>o(975392),r=()=>o(76394);const i=160,a=40,s=24,l=20,c=600,d=270,u=405,p=480,h=500,m=void 0,g=16,f=10,v=8,y=(o(333212).nh,{backdropFilter:"blur(48px)",WebkitBackdropFilter:"blur(48px)"}),x=4;function b(e){return{icon:e.mediumIconColor,text:e.text.secondary}}function S(e){return{width:48,height:48,fill:e.lightIconColor}}function w(e){let{theme:t,isPhone:o}=e;return o?t.personalHomeBackgroundPhone:t.surface.page}const C=1;function k(e){let{isPhone:t,theme:o}=e;return{zIndex:1,position:"relative",display:"flex",flexDirection:"column",borderRadius:12,background:o.home.tile.background,boxShadow:A({isPhone:t,theme:o}),...y}}function I(e){let{mode:t}=e;switch(t){case"dark":return 0;case"light":return C;default:return(0,r().ub)(t),0}}function A(e){let{isPhone:t,theme:o,borderOnly:r}=e;if("dark"===o.mode)return"unset";o.mode;const i=I({mode:o.mode});return(0,n().oE)([r||t?void 0:"0 12px 32px rgba(0, 0, 0, 0.02)",`0 0 0 ${i}px rgba(0, 0, 0, 0.05)`]).join(", ")}function T(e){return{display:"flex",flexDirection:"column",width:"100%",gap:24}}function M(e){const{isPhone:t,theme:o,borderOnly:n}=e;return{unhoveredBoxShadow:A({isPhone:t,theme:o,borderOnly:n}),hoveredBoxShadow:"light"===o.mode?["0 12px 32px rgba(0, 0, 0, 0.03)","0 0 0 1px rgba(0, 0, 0, 0.085)"].join(", "):o.homeShadow.card.hovered}}},388732:(e,t,o)=>{o.d(t,{l:()=>r});o(242343);var n=o(163643);const r=(0,o(680369).wt)("closeThick",{viewBox:"0 0 8 8",svg:(0,n.jsx)("polygon",{points:"8 1.01818182 6.98181818 0 4 2.98181818 1.01818182 0 0 1.01818182 2.98181818 4 0 6.98181818 1.01818182 8 4 5.01818182 6.98181818 8 8 6.98181818 5.01818182 4"})})},399631:(e,t,o)=>{o.d(t,{Y:()=>a});var n=o(242343),r=()=>o(709237),i=o(163643);function a(e){const{blockStore:t,shouldWrap:o,titleStyle:a,recordTitleRef:s,noUnderline:l,disableTooltip:c}=e,d=(0,n.useRef)({getNode:()=>s.current});return(0,i.jsx)(r().A,{store:t,underline:!l,shouldWrap:o,style:a,ref:d,enableHover:!0,showTooltipWhenTruncated:!0,disableTooltip:c})}},403328:(e,t,o)=>{o.d(t,{f:()=>n});const n=new(o(129978).O2)("pageCovers",(async()=>{const{pageCovers:e}=await o.e(40198).then(o.bind(o,698434));return e}))},415806:(e,t,o)=>{o.d(t,{Ay:()=>v,t_:()=>y,v7:()=>x});o(242343);var n=()=>o(237385),r=()=>o(803290),i=()=>o(950635),a=()=>o(752903),s=()=>o(76394),l=()=>o(413871),c=()=>o(888575),d=()=>o(951156),u=()=>o(151258),p=()=>o(732165),h=()=>o(482570),m=o(163643);function g(e){const t=(0,n().v3)(),{actor:o,format:i,hasTooltip:g,tooltipHeader:v}=e,y=(0,r().K8)((()=>{const e=o.asActor;return e&&l().sk.createUniqueRootStore(t,e.pointer)}),[o,t]);return(0,m.jsx)(u().Ay,{...e,renderAvatar:e=>{if(y)return y instanceof l().vK?i===a().NY.Inline?(0,m.jsx)(d().A,{botStore:y,size:e,style:f}):(0,m.jsx)(c().A,{botStore:y,avatarSize:e,inline:!0,style:f}):y instanceof l().LU?i===a().NY.Inline?(0,m.jsx)(h().A,{userStore:y,size:e,avatarShouldShowShadow:!0,hasTooltip:g??!0,style:f,tooltipHeader:v}):(0,m.jsx)(p().A,{userStore:y,avatarSize:e,inline:!0,hasTooltip:g,style:f,tooltipHeader:v}):void(y instanceof l().pH||(0,s().HB)(y))}})}const f={minWidth:0};g.Format=a().NY;const v=g;function y(e){const{userValue:t,...o}=e;return(0,m.jsx)(g,{actor:(0,i().MR)(t),...o})}function x(e){const{botValue:t,...o}=e;return(0,m.jsx)(g,{actor:(0,i().oC)(t),...o})}y.Format=u().mI,x.Format=u().mI},418699:(e,t,o)=>{o.d(t,{E:()=>r});o(242343);var n=o(163643);const r=(0,o(680369).wt)("bug",{viewBox:"0 0 64 64",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"m32,8c-5.55,0-9,3.83-9,10h18c0-6.17-3.45-10-9-10Z"}),(0,n.jsx)("path",{d:"m48,36h12v-4h-12v-6.01c2.74-.06,4.78-.94,6.76-2.92l4.24-4.24-2.83-2.83-4.24,4.24c-1.3,1.3-2.41,1.76-4.24,1.76h-13.69v32c6.15,0,10.63-3.12,12.7-8.47l1.54,1.54c1.3,1.3,1.76,2.41,1.76,4.24v2.69h4v-2.69c0-2.9-.88-5.02-2.93-7.07l-3.26-3.26c.12-.95.19-1.94.19-2.98v-2Z"}),(0,n.jsx)("path",{d:"m12.07,20.24l-4.24-4.24-2.83,2.83,4.24,4.24c1.98,1.98,4.02,2.85,6.76,2.92v6.01H4v4h12v2c0,1.04.07,2.03.19,2.98l-3.26,3.26c-2.05,2.05-2.93,4.17-2.93,7.07v2.69h4v-2.69c0-1.83.46-2.95,1.76-4.24l1.54-1.54c2.08,5.35,6.55,8.47,12.7,8.47V22h-13.69c-1.83,0-2.95-.46-4.24-1.76Z"})]})})},433364:(e,t,o)=>{o.d(t,{KD:()=>c,gt:()=>d,i9:()=>l,ll:()=>a,tb:()=>s,x$:()=>i});var n=()=>o(612408),r=()=>o(975392);function i(e,t){return a(d(e,t))}function a(e){return void 0!==e&&(e===n().q_||e===n().YD)}function s(e,t){if(a(t))return;const o=n().c$[e],r=o.steps.findIndex((e=>e.id===t));return-1===r?o.steps[0].id:r===o.steps.length-1?n().q_:o.steps[r+1].id}function l(e,t){const o=d(e,t);if(o&&!a(o))return s(t,o)}function c(e,t){const o=d(e,t);if(o)return function(e,t){const o=n().c$[e];var i;if(a(t))return null===(i=(0,r().HV)(o.steps))||void 0===i?void 0:i.id;const s=o.steps.findIndex((e=>e.id===t));return-1!==s&&0!==s?o.steps[s-1].id:void 0}(t,o)}function d(e,t){var o;if(!e)return;const r=((null===(o=e.getSettings())||void 0===o?void 0:o.tutorials)||{})[t];return void 0===r?n().c$[t].steps[0].id:r}},470414:(e,t,o)=>{o.d(t,{A:()=>d});o(725707),o(491955),o(403517),o(229032);var n=o(242343),r=()=>o(174114),i=()=>o(755002),a=()=>o(31448),s=()=>o(551116),l=o(163643);function c(e){const{button:t,isLast:o}=e,s=(0,r().IS)((e=>({button:{display:"flex",alignItems:"center",padding:"4px 6px",fontWeight:a().Wy.medium,borderRight:`1px solid ${e.regularDividerColor}`,color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor},buttonLast:{borderRight:"none"},buttonHovered:{background:e.whiteButtonHoveredBackground},buttonPressed:{background:e.whiteButtonPressedBackground}})),[]);return n.cloneElement(t,{...(0,i().AH)(t.props.style,s.button,o&&s.buttonLast),hoveredStyle:(0,i().AH)(s.buttonHovered,o&&s.buttonLast).style,pressedStyle:s.buttonPressed})}const d=function(e){let{children:t,isVisible:d,position:u,style:p}=e;const h=(0,o(237385).v3)(),m=(0,r().IS)((e=>({container:{color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor,fontSize:12,background:e.whiteButtonBackground,boxShadow:e.shadowSM,display:"flex",whiteSpace:"nowrap",borderRadius:s().A.borderRadius,maxWidth:"calc(100% - 16px)",minHeight:24,overflow:"hidden",pointerEvents:h.device.isMobile?"auto":"none",opacity:h.device.isMobile?1:0,fontFamily:a().vc(o(16791).locale).sans,position:"absolute",right:s().A.horizontal.small,bottom:s().A.vertical.small,zIndex:2},containerHover:{pointerEvents:"auto",opacity:1},containerTop:{top:s().A.vertical.small,bottom:void 0}})),[h]),g=n.Children.toArray(t).filter(o(76394).O9),f=g.length;return(0,l.jsx)(o(615917).A,{animate:{opacity:d?1:0},...(0,i().AH)(m.container,p,d&&m.containerHover,"top"===u&&m.containerTop),children:g.map(((e,t)=>{const r=t===f-1;if(e&&"object"==typeof e&&"type"in e){if(e.type===o(103151).A&&n.isValidElement(e))return n.cloneElement(e,{render:(t,o)=>{const n=e.props.render(t,o);return(0,l.jsx)(c,{isLast:r,button:n},e.key)}});if(e.type===o(126451).A&&n.isValidElement(e))return(0,l.jsx)(c,{isLast:r,button:e},e.key)}}))})}},472951:(e,t,o)=>{o.d(t,{k:()=>r});o(403517);class n extends(()=>o(129044))().default{getInitialState(){}waitUntilLoaded(){return this.waitUntil((()=>Boolean(this.state)))}getSortedUserIds(){return Object.entries(this.state||{}).sort(((e,t)=>{let[o,n]=e,[r,i]=t;return i-n})).map((e=>{let[t,o]=e;return t}))}}const r=new n;(0,o(996094).exposeDebugValue)("UserSimilarityStore",r)},473096:(e,t,o)=>{o.d(t,{A:()=>l});var n=o(242343),r=()=>o(174114),i=()=>o(162339),a=()=>o(966789),s=o(163643);function l(e){let{loadingMessage:t}=e;const o=(0,r().DP)(),l=(0,i().A)(!0,400);return(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:l&&(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(a().A,{}),t&&(0,s.jsx)("div",{style:{marginLeft:8,color:o.text.secondary},children:t})]})})}},475426:(e,t,o)=>{o.d(t,{i:()=>i});var n=o(242343),r=()=>o(384221);function i(e){const{textStore:t,initialFocus:o}=e,i=(0,n.useCallback)((()=>{r().setSelectionAtEnd({store:t})}),[t]);return(0,n.useEffect)((()=>{o&&i()}),[o,i]),i}},477267:(e,t,o)=>{o.r(t),o.d(t,{deleteViewsModuleDependencies:()=>a});var n=()=>o(496580),r=()=>o(795394),i=()=>o(413871);function a(e){const{layoutStore:t,viewsModule:o,transaction:a}=e,s=(0,n().o9)(i().Bv.createChildStore(t,o.collection_view_block_pointer));r().zz({childStore:s,parentStore:t,transaction:a})}},501578:(e,t,o)=>{o.d(t,{j:()=>d});var n=o(242343),r=()=>o(237385),i=()=>o(174114),a=()=>o(31448),s=()=>o(103151);var l=()=>o(907721),c=o(163643);function d(e){let{children:t,style:o,tooltipStyle:d,placement:u=l().W.Bottom}=e;const{isSafari:p}=(0,r().Y0)(),h=(0,n.useRef)(null),m=function(e){const[t,o]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{const{current:t}=e;if(!t)return void o(!1);const n="ResizeObserver"in window?new ResizeObserver((e=>{let[t]=e;o(t.target.scrollWidth>t.target.clientWidth)})):void 0;return null==n||n.observe(t),()=>null==n?void 0:n.unobserve(t)}),[]),t}(h),g=(0,i().IS)((()=>({overflowText:{...a().RC,...o}})),[o]);return(0,c.jsx)(s().A,{delayThreshold:500,placement:u,textWrap:!0,style:d,forceVisibleState:!(p||!m)&&void 0,renderTooltip:()=>m?t:void 0,render:e=>(0,c.jsx)("div",{ref:h,style:g.overflowText,...e,children:t})})}},531367:(e,t,o)=>{function n(e){let t,o,n;return async function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t?(n=i,o||(o=t.then((()=>(o=void 0,t=e(...n),t))),o)):(t=e(...i),t)}}o.d(t,{A:()=>n})},533666:(e,t,o)=>{o.d(t,{Y:()=>r});o(242343);const n={viewBox:"0 0 16 16",svg:(0,o(163643).jsx)("path",{d:"M3.2 6.725a1.275 1.275 0 1 0 0 2.55 1.275 1.275 0 0 0 0-2.55m4.8 0a1.275 1.275 0 1 0 0 2.55 1.275 1.275 0 0 0 0-2.55m4.8 0a1.275 1.275 0 1 0 0 2.55 1.275 1.275 0 0 0 0-2.55"})},r=(0,o(680369).wt)("ellipsisSmall",n)},534891:(e,t,o)=>{o.d(t,{a:()=>r});o(242343);var n=o(163643);const r=(0,o(680369).wt)("doubleChevronRight",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M2.25781 14.1211C2.47656 14.1211 2.66797 14.0391 2.81836 13.8887L8.14355 8.67969C8.32812 8.49512 8.41699 8.29688 8.41699 8.06445C8.41699 7.8252 8.32812 7.62012 8.14355 7.44922L2.81836 2.24023C2.66797 2.08984 2.4834 2.00781 2.25781 2.00781C1.81348 2.00781 1.46484 2.35645 1.46484 2.80078C1.46484 3.0127 1.55371 3.21777 1.7041 3.375L6.50977 8.05762L1.7041 12.7539C1.55371 12.9043 1.46484 13.1094 1.46484 13.3281C1.46484 13.7725 1.81348 14.1211 2.25781 14.1211ZM8.36914 14.1211C8.58789 14.1211 8.77246 14.0391 8.92285 13.8887L14.2549 8.67969C14.4395 8.49512 14.5283 8.29688 14.5283 8.06445C14.5283 7.8252 14.4326 7.62012 14.2549 7.44922L8.92285 2.24023C8.77246 2.08984 8.58789 2.00781 8.36914 2.00781C7.9248 2.00781 7.56934 2.35645 7.56934 2.80078C7.56934 3.0127 7.66504 3.21777 7.81543 3.375L12.6211 8.05762L7.81543 12.7539C7.66504 12.9043 7.56934 13.1094 7.56934 13.3281C7.56934 13.7725 7.9248 14.1211 8.36914 14.1211Z"})})},547124:(e,t,o)=>{o.d(t,{$b:()=>d,Nz:()=>l,Q1:()=>a,Vh:()=>u,ZO:()=>c,bl:()=>s,eN:()=>i,oQ:()=>r});var n=()=>o(129978);const r={WorkflowPageBlock:new(n().O2)("WorkflowPageBlock",(async()=>await o.e(87700).then(o.bind(o,600742)))),WorkflowEditorTopbar:new(n().O2)("WorkflowEditorTopbar",(async()=>await o.e(92143).then(o.bind(o,944669)))),WorkflowInPlaceEditor:new(n().O2)("WorkflowInPlaceEditor",(async()=>await Promise.all([o.e(96159),o.e(75134),o.e(43380),o.e(9304),o.e(96346),o.e(36192),o.e(55373),o.e(62475),o.e(3151),o.e(44711),o.e(98629),o.e(53321),o.e(58550),o.e(16471),o.e(90825),o.e(37353),o.e(29151),o.e(16908),o.e(36209),o.e(92845),o.e(71718),o.e(48486),o.e(83324),o.e(63077),o.e(41870),o.e(90966),o.e(88552),o.e(90214),o.e(74562),o.e(8184),o.e(28271),o.e(17254),o.e(18895),o.e(78708),o.e(28721),o.e(4422),o.e(28866),o.e(67435),o.e(17989),o.e(48632),o.e(90625),o.e(76181),o.e(59794),o.e(72832),o.e(90280),o.e(26483),o.e(33813),o.e(81768),o.e(71104),o.e(2804),o.e(82850),o.e(84778),o.e(69914),o.e(11341),o.e(92011),o.e(19361),o.e(63327),o.e(26090),o.e(38482),o.e(12341),o.e(50984),o.e(47864),o.e(40828),o.e(76007),o.e(5023),o.e(90978),o.e(65554),o.e(53571),o.e(66885),o.e(67780),o.e(96933),o.e(83181),o.e(36141),o.e(9150),o.e(50437)]).then(o.bind(o,27311)))),ChatCollectionView:new(n().O2)("ChatCollectionView",(async()=>await o.e(45666).then(o.bind(o,685332)))),CustomCollectionView:new(n().O2)("CustomCollectionView",(async()=>await Promise.all([o.e(96159),o.e(96346),o.e(36192),o.e(55373),o.e(36209),o.e(92845),o.e(71718),o.e(48486),o.e(83324),o.e(63077),o.e(41870),o.e(90966),o.e(88552),o.e(90214),o.e(8184),o.e(89693),o.e(64165)]).then(o.bind(o,594329)))),WorkflowEditorCollectionViewPage:new(n().O2)("WorkflowEditorCollectionViewPage",(async()=>await Promise.all([o.e(96159),o.e(75134),o.e(92011),o.e(38482),o.e(67780),o.e(16697)]).then(o.bind(o,727463)))),WorkflowContainerEmptyState:new(n().O2)("WorkflowContainerEmptyState",(async()=>await o.e(97891).then(o.bind(o,569963)))),workflowActions:new(n().O2)("workflowActions",(async()=>await Promise.all([o.e(96159),o.e(96346),o.e(36192),o.e(55373),o.e(36209),o.e(92845),o.e(71718),o.e(48486),o.e(83324),o.e(63077),o.e(41870),o.e(90966),o.e(88552),o.e(90214),o.e(8184),o.e(89693),o.e(11097)]).then(o.bind(o,503780)))),workflowNavigationActions:new(n().O2)("workflowNavigationActions",(async()=>await o.e(93139).then(o.bind(o,993054)))),workflowNavigationHelpers:new(n().O2)("workflowNavigationHelpers",(async()=>await o.e(92821).then(o.bind(o,501518)))),workflowAdvanced:new(n().O2)("workflowAdvanced",(async()=>await Promise.all([o.e(96159),o.e(75134),o.e(43380),o.e(9304),o.e(96346),o.e(36192),o.e(55373),o.e(62475),o.e(3151),o.e(44711),o.e(98629),o.e(53321),o.e(58550),o.e(16471),o.e(90825),o.e(37353),o.e(29151),o.e(16908),o.e(36209),o.e(92845),o.e(71718),o.e(48486),o.e(83324),o.e(63077),o.e(41870),o.e(90966),o.e(88552),o.e(90214),o.e(74562),o.e(8184),o.e(28271),o.e(17254),o.e(18895),o.e(78708),o.e(28721),o.e(4422),o.e(28866),o.e(67435),o.e(17989),o.e(48632),o.e(90625),o.e(76181),o.e(59794),o.e(72832),o.e(90280),o.e(26483),o.e(33813),o.e(81768),o.e(71104),o.e(2804),o.e(82850),o.e(84778),o.e(69914),o.e(11341),o.e(92011),o.e(19361),o.e(63327),o.e(26090),o.e(38482),o.e(12341),o.e(50984),o.e(47864),o.e(40828),o.e(76007),o.e(5023),o.e(90978),o.e(65554),o.e(53571),o.e(66885),o.e(67780),o.e(96933),o.e(83181),o.e(36141),o.e(9150)]).then(o.bind(o,59529))))},i=(0,n()._h)(r.WorkflowPageBlock,(e=>e.default)),a=(0,n()._h)(r.ChatCollectionView,(e=>e.ChatCollectionView)),s=(0,n()._h)(r.CustomCollectionView,(e=>e.CustomCollectionView)),l=(0,n()._h)(r.WorkflowEditorTopbar,(e=>e.WorkflowEditorTopbar)),c=(0,n()._h)(r.WorkflowInPlaceEditor,(e=>e.WorkflowInPlaceEditor)),d=(0,n()._h)(r.WorkflowEditorCollectionViewPage,(e=>e.WorkflowEditorCollectionViewPage)),u=(0,n()._h)(r.WorkflowContainerEmptyState,(e=>e.WorkflowContainerEmptyState))},569434:(e,t,o)=>{o.d(t,{I:()=>S,i:()=>C});var n=o(242343),r=()=>o(237385),i=()=>o(803290),a=()=>o(174114),s=()=>o(862279),l=()=>o(680369),c=()=>o(653998),d=()=>o(782422),u=()=>o(983050),p=()=>o(667801),h=()=>o(440588),m=()=>o(907721),g=()=>o(216273),f=()=>o(615917),v=()=>o(356813),y=()=>o(151835),x=()=>o(103151),b=o(163643);function S(e){const t=(0,r().v3)(),o=(0,r().Y0)(),n=(0,c().tz)(),a=(0,i().O$)(h().sidebarMouseEnteredStore),l=(0,i().O$)(g().b),u=(0,i().O$)(d().$o),m=n.formatMessage({defaultMessage:"Close sidebar",id:"sidebarUnexpandButton.closeSidebar.tooltip"}),f=(!o.isElectronMac||!u)&&!l&&a;return(0,b.jsx)(C,{isVisible:f,icon:s().S,caption:m,onClick:()=>{p().closeSidebarFromTopbarUnexpandButton(t)},keyboardShortcutName:"toggleSidebar",style:e.style,hoveredStyle:e.hoveredStyle})}const w={width:l().Ev.lg,height:l().Ev.lg,fill:"inherit"};function C(e){const t=(0,r().Y0)(),o=(0,a().IS)((e=>({keyboardShortcut:{color:e.text.contrastSecondary},button:{fill:e.mediumIconColor}})),[]),i=(0,n.useMemo)((()=>({position:"relative",marginLeft:10,...t.isMobile&&{height:"100%"},...o.button,...e.style})),[e.style,o.button,t.isMobile]);return(0,b.jsx)(x().A,{renderTooltip:()=>(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{children:e.caption}),e.keyboardShortcutName&&(0,b.jsx)(y().A,{style:o.keyboardShortcut,name:e.keyboardShortcutName})]}),originGap:6,placement:t.isElectron?m().W.Right:m().W.Bottom,render:o=>(0,b.jsx)(f().A,{tag:v().A,animate:{opacity:e.isVisible?1:0},ariaLabel:e.caption,disabled:!e.isVisible,icon:e.icon,style:i,hoveredStyle:e.hoveredStyle,iconStyle:w,mobileFeedback:t.isMobile,onClick:e.onClick,className:u().P7S,...o})})}},575681:(e,t,o)=>{o.d(t,{_:()=>r});o(242343);var n=o(163643);const r=(0,o(680369).wt)("chevronDownRounded",{viewBox:"0 0 15 9",svg:(0,n.jsx)("path",{d:"M7.92188 8.65625C8.19531 8.64844 8.44531 8.54688 8.64844 8.32812L14.5859 2.25C14.7578 2.07812 14.8516 1.85938 14.8516 1.60156C14.8516 1.08594 14.4453 0.671875 13.9297 0.671875C13.6797 0.671875 13.4375 0.773438 13.2578 0.953125L7.92969 6.42969L2.58594 0.953125C2.40625 0.78125 2.17188 0.671875 1.91406 0.671875C1.39844 0.671875 0.992188 1.08594 0.992188 1.60156C0.992188 1.85938 1.08594 2.07812 1.25781 2.25L7.20312 8.32812C7.41406 8.54688 7.64844 8.65625 7.92188 8.65625Z"})})},586588:(e,t,o)=>{o.r(t),o.d(t,{dismissTutorial:()=>d,resetTutorials:()=>u,tutorialAdvanceToStep:()=>p,tutorialAdvanceToStepAfter:()=>h,tutorialGoToNextStep:()=>l,tutorialGoToPrevStep:()=>c});var n=()=>o(612408),r=()=>o(84543),i=()=>o(658388),a=()=>o(433364),s=()=>o(485966);function l(e,t){var o;const{currentUserSettingsStore:n}=s().default.state;if(!n)return;const r=null===(o=n.getSettings())||void 0===o?void 0:o.tutorials;m({userAction:"TutorialActions.nextStep",environment:e,perform:e=>{i().mJ({userSettingsStore:n,transaction:e,data:{tutorials:{...r,[t]:(0,a().i9)(n,t)}}})},userId:n.id})}function c(e,t){var o;const{currentUserSettingsStore:n}=s().default.state;if(!n)return;const r=null===(o=n.getSettings())||void 0===o?void 0:o.tutorials;m({userAction:"TutorialActions.prevStep",environment:e,perform:e=>{i().mJ({userSettingsStore:n,transaction:e,data:{tutorials:{...r,[t]:(0,a().KD)(n,t)}}})},userId:n.id})}function d(e,t){var o;const{currentUserSettingsStore:r}=s().default.state;if(!r)return;const a=null===(o=r.getSettings())||void 0===o?void 0:o.tutorials;(null==a?void 0:a[t])!==n().YD&&m({userAction:"TutorialActions.dismissTutorial",environment:e,perform:e=>{i().mJ({userSettingsStore:r,transaction:e,data:{tutorials:{...a,[t]:n().YD}}})},userId:r.id})}function u(e){const{currentUserSettingsStore:t}=s().default.state;t&&m({userAction:"TutorialActions.resetTutorialsDebug",environment:e,perform:e=>{i().mJ({userSettingsStore:t,transaction:e,data:{tutorials:{}}})},userId:t.id})}function p(e,t,o){var r;const{currentUserSettingsStore:l}=s().default.state;if(!l||(0,a().x$)(l,t))return;const c=(0,a().gt)(l,t);n().c$[t].steps.findIndex((e=>e.id===c))>=n().c$[t].steps.findIndex((e=>e.id===o))||i().mJ({userSettingsStore:l,transaction:e,data:{tutorials:{...null===(r=l.getSettings())||void 0===r?void 0:r.tutorials,[t]:o}}})}function h(e,t,o){if((0,a().ll)(o))return;const n=(0,a().tb)(t,o);n&&p(e,t,n)}function m(e){return r().createAndCommit({...e,canUndo:!1})}},601178:(e,t,o)=>{o.d(t,{EG:()=>a,K5:()=>i,RH:()=>r,Yi:()=>s,ls:()=>n});const n=32,r=202,i=1e3,a="Want to add a metric? Look for 'src/client/performanceToolbar/config.ts' in notion-next.",s="To disable the toolbar entirely, go to the 'Experiments' panel and look for the 'performance_debugging_toolbar' flag."},612408:(e,t,o)=>{o.d(t,{YD:()=>i,c$:()=>n,q_:()=>r});const n={"sprints-onboarding":{steps:[{id:"current-sprint-view-tooltip"},{id:"sprint-task-tooltip"},{id:"complete-sprint-button-tooltip"}]},"enhanced-qna-onboarding":{steps:[{id:"find-in-tooltip"},{id:"mention-tooltip"}]},"jira-sync-onboarding":{steps:[{id:"all-projects-tooltip"},{id:"all-issues-tooltip"},{id:"database-views-and-filters-tooltip"},{id:"settings-to-setup-projects-and-issues"}]},"project-management-import-onboarding":{steps:[{id:"your-teamspace-tooltip"},{id:"all-projects-tooltip"},{id:"navigate-to-project-tasks-tooltip"},{id:"project-customization-tooltip"},{id:"related-tasks-database-views-tooltip"}]},"ai-comment-onboarding":{steps:[{id:"ai-comment-onboarding-tooltip"}]}},r="completed",i="dismissed"},620408:(e,t,o)=>{o.d(t,{P:()=>r});o(242343);const n={viewBox:"0 0 20 20",svg:(0,o(163643).jsx)("path",{d:"M9.08 3.341a1.625 1.625 0 0 1 1.84 0l5.875 4.035c.441.304.705.805.705 1.34v6.034a2.125 2.125 0 0 1-2.125 2.125h-2.716a1.625 1.625 0 0 1-1.625-1.625v-4.065H8.967v4.065c0 .898-.728 1.625-1.625 1.625H4.625A2.125 2.125 0 0 1 2.5 14.75V8.716c0-.535.264-1.036.705-1.34zm1.132 1.03a.375.375 0 0 0-.424 0L3.913 8.407a.38.38 0 0 0-.163.309v6.034c0 .483.392.875.875.875h2.716a.375.375 0 0 0 .375-.375v-4.19c0-.621.503-1.125 1.125-1.125h2.319c.62 0 1.124.504 1.124 1.125v4.19c0 .207.168.375.375.375h2.716a.875.875 0 0 0 .875-.875V8.716c0-.124-.06-.24-.163-.31z"})},r=(0,o(680369).wt)("home",n)},625952:(e,t,o)=>{o.d(t,{Qd:()=>I});o(362833),o(725707),o(491955),o(500234);var n=o(242343),r=()=>o(237385),i=()=>o(803290),a=()=>o(174114),s=()=>o(951592),l=()=>o(905184),c=()=>o(963002),d=()=>o(934487),u=()=>o(403508),p=()=>o(271925),h=()=>o(975392),m=()=>o(84543),g=()=>o(485966),f=()=>o(503780),v=()=>o(681814),y=()=>o(320978),x=()=>o(165786),b=()=>o(442888),S=()=>o(554840),w=o(163643);function C(e){var t;const{clientStore:o,threadStore:n}=e,r=null==n?void 0:n.getSpaceId();if(!n||!r)return;const i=(0,b().A3)({clientStore:o,threadStore:n}),a=null===(t=i.find((e=>"context"===e.type)))||void 0===t||null===(t=t.value)||void 0===t?void 0:t.collectionViewBlockId;if(!a)return;const{currentSpaceStore:s}=g().default.state;if(!s)return;const l=(0,d().rE)({transcript:i,appId:a,spaceId:r});return l?{pointer:l.workflowModel.pointer,value:l.workflow}:void 0}function k(e){var t;const{clientStore:o,threadStore:n}=e;if(!n)return;const r=null===(t=C({clientStore:o,threadStore:n}))||void 0===t?void 0:t.value;if(!r)return;return{triggers:(r.triggers??[]).filter((e=>!(0,u().VB)(e,r))),modules:(r.modules??[]).filter((e=>{const t=c().Nh[e.type].getModuleConfigurationStatus(e,r);return"database"===e.type?"invalidAndRequiredToWriteCode"===t:"ready"!==t})).sort(((e,t)=>"config"===e.type?1:"config"===t.type?-1:e.type.localeCompare(t.type)))}}function I(e){const{clientStore:t,threadStore:o}=e,a=(0,r().v3)(),l=(0,i().K8)((()=>{if(!o)return;const e=C({clientStore:t,threadStore:o});return(0,c().Eu)(null==e?void 0:e.value)}),[t,o]),d=(0,s().ZC)(l);(0,n.useEffect)((()=>{if(!l&&d&&o){const{serverCommitResult:e}=m().createAndCommit({userAction:"AIChatTranscript.StopInferenceButton.handleClick",environment:a,canUndo:!0,perform:e=>{(0,x().GS)({threadStore:o,transaction:e,clientStore:t})}});(async()=>{await e,await(0,x().WE)({environment:a,threadStore:o,clientStore:t})})()}}),[l,d,a,o,t]);return(0,i().K8)((()=>function(e){const t=k(e);return!!t&&(t.triggers.length>0||t.modules.length>0)}({clientStore:t,threadStore:o})),[t,o])?(0,w.jsx)(A,{...e}):null}function A(e){const{clientStore:t,threadStore:o}=e,s=(0,a().IS)((()=>({setupInstructionsContainer:{paddingBottom:12}})),[]),c=(0,i().K8)((()=>k({clientStore:t,threadStore:o})),[t,o]),d=(0,i().K8)((()=>{const e=null==o?void 0:o.getSpaceId();if(o&&e)return{table:l().To,id:o.id,spaceId:e}}),[o]),u=(0,i().K8)((()=>C({clientStore:t,threadStore:o})),[t,o]),g=(0,r().v3)(),x=(0,n.useCallback)((e=>{o&&null!=u&&u.pointer&&m().createAndCommit({userAction:"WorkflowSetupInstructions.saveTrigger",environment:g,canUndo:!0,perform:t=>{(0,f().appendWorkflowSetupUpdate)({environment:g,threadStore:o,operations:[p().NW({pointer:u.pointer,trigger:e})],transaction:t})}})}),[o,null==u?void 0:u.pointer,g]),b=(0,n.useCallback)((e=>{o&&null!=u&&u.pointer&&m().createAndCommit({userAction:"WorkflowSetupInstructions.saveModule",environment:g,canUndo:!0,perform:t=>{(0,f().appendWorkflowSetupUpdate)({environment:g,threadStore:o,operations:[p().xb({pointer:u.pointer,module:e})],transaction:t})}})}),[o,g,null==u?void 0:u.pointer]),I=(0,n.useCallback)((e=>{o&&null!=u&&u.pointer&&m().createAndCommit({userAction:"WorkflowSetupInstructions.saveConfigVariable",environment:g,canUndo:!0,perform:t=>{(0,f().appendWorkflowSetupUpdate)({environment:g,threadStore:o,operations:[p().bE({pointer:u.pointer,configVariable:e})],transaction:t})}})}),[o,g,null==u?void 0:u.pointer]),A=(0,n.useMemo)((()=>{if(!(c&&null!=u&&u.value&&o&&d))return[];const{modules:e,triggers:t}=c,n=[];for(const r of e)n.push((0,w.jsx)(v().A,{workflowValue:u.value,module:r,workflowDefinitionPointer:d,isInTranscript:!0,saveModule:b,saveConfigVariable:I,store:o},r.key));for(const o of t)n.push((0,w.jsx)(y().m,{workflowValue:u.value,trigger:o,workflowDefinitionPointer:d,isInTranscript:!0,saveTrigger:x},o.key));return h().oE(n)}),[c,u,o,b,I,x,d]),T=(0,S().Q)(A);return T?(0,w.jsx)("div",{style:s.setupInstructionsContainer,children:T}):null}},652039:(e,t,o)=>{o.d(t,{Ay:()=>l,Gi:()=>i,Wc:()=>n,pF:()=>a,vS:()=>r});const n="loadingLocalImage",r="uploading",i="downloading",a="loaded";class s extends(()=>o(129044))().default{getInitialState(){return{loadingMode:a}}}const l=s},668657:(e,t,o)=>{o.d(t,{q:()=>r});o(242343);var n=o(163643);const r=(0,o(680369).wt)("search",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M.281 6.438c0-.875.164-1.696.492-2.461a6.484 6.484 0 011.375-2.032A6.237 6.237 0 016.64.078 6.2 6.2 0 019.11.57c.77.328 1.447.787 2.03 1.375a6.374 6.374 0 011.368 2.032c.333.765.5 1.586.5 2.46 0 .688-.107 1.342-.32 1.961a6.28 6.28 0 01-.868 1.696l3.563 3.578c.11.104.19.226.242.367.057.14.086.29.086.445 0 .22-.05.417-.149.594a1.122 1.122 0 01-1 .57c-.156 0-.307-.028-.453-.086a1.058 1.058 0 01-.382-.25l-3.586-3.585c-.5.333-1.047.596-1.641.789a6.089 6.089 0 01-1.86.28 6.237 6.237 0 01-2.468-.491 6.4 6.4 0 01-2.024-1.367A6.509 6.509 0 01.773 8.913a6.256 6.256 0 01-.492-2.476zm1.664 0c0 .65.12 1.26.36 1.828a4.775 4.775 0 001.015 1.5c.433.427.933.763 1.5 1.007a4.548 4.548 0 001.82.368c.652 0 1.261-.123 1.829-.368a4.747 4.747 0 002.508-2.507 4.567 4.567 0 00.367-1.829c0-.645-.123-1.252-.367-1.82a4.776 4.776 0 00-1.016-1.5A4.578 4.578 0 008.469 2.11a4.567 4.567 0 00-1.828-.367c-.646 0-1.253.123-1.82.367a4.667 4.667 0 00-1.5 1.008c-.433.432-.772.932-1.016 1.5a4.633 4.633 0 00-.36 1.82z"})})},678523:(e,t,o)=>{o.d(t,{A:()=>s});o(242343);var n=()=>o(237385),r=()=>o(174114),i=()=>o(126451),a=o(163643);function s(e){const t=(0,n().Y0)(),o=(0,r().IS)((e=>({sharedStyle:{display:"flex",alignItems:"center",borderRadius:4},innerStyle:{padding:"2px 6px",borderRadius:4,color:e.text.secondary,background:e.defaultBadgeBackground,fontSize:t.isMobile?11:9,lineHeight:t.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em",whiteSpace:"nowrap"}})),[t.isAndroid,t.isMobile]);return t.isMobile?(0,a.jsx)(i().A,{style:{...o.sharedStyle,...e.mobileStyle},disabled:void 0===e.onClick,children:(0,a.jsx)("div",{style:{...o.innerStyle,...e.innerStyle},children:e.children})}):(0,a.jsx)(i().A,{style:{...o.sharedStyle,...e.desktopStyle},disabled:void 0===e.onClick,...e,children:(0,a.jsx)("div",{style:{...o.innerStyle,...e.innerStyle},children:e.children})})}},686449:(e,t,o)=>{o.d(t,{r:()=>n});const n=(0,o(851552).Dv)("importEvernote")},686752:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>n,pencilLineIcon:()=>r});o(242343);const n={viewBox:"0 0 20 20",svg:(0,o(163643).jsx)("path",{d:"m13.987 5.682-.684.684-1.288-1.288.692-.691a.91.91 0 0 1 1.28 0c.35.35.35.93 0 1.28zm-9.433 9.433 7.914-7.914-1.289-1.289-7.92 7.908c-.122.122-.214.29-.274.457l-.336 1.082c-.06.229.153.442.366.366l1.082-.335q.252-.07.457-.275m12.446.76H5.61l1.25-1.25H17a.625.625 0 1 1 0 1.25"})},r=(0,o(680369).wt)("pencilLine",n)},699773:(e,t,o)=>{o.d(t,{A:()=>l});var n=o(242343),r=()=>o(846581),i=()=>o(16456),a=()=>o(427091),s=o(163643);const l=function(e){const t=(0,o(653998).tz)(),l=(0,o(174114).DP)(),u=(0,o(221573).I)(),p=(0,n.useRef)(),h=(0,n.useCallback)((()=>{const t=e.value;if(!t)return;const n=i().q8(t,(0,a().P)());if(!n)return;const r=n.valueOf(),s=r-Date.now();s<0||s>o(141666).nD||p.current&&p.current.timestamp===r||(p.current&&clearTimeout(p.current.timer),p.current={timestamp:r,timer:setTimeout((()=>u("DateBox","DateBox/createReminderTimer")),s)})}),[u,e.value]),m=(0,n.useCallback)((()=>{p.current&&(clearTimeout(p.current.timer),p.current=void 0)}),[]);(0,n.useEffect)((()=>{h()}),[h]),(0,n.useEffect)((()=>()=>{m()}),[m]);const{value:g,withComma:f}=e,v=(0,o(803290).K8)((()=>g?(0,r().ZF)({value:g,date_format:e.dateFormat,time_format:e.timeFormat,userTimeZone:(0,a().P)(),allowRelativeDates:!0,intl:t,shortenDateAndRange:e.shortenDateAndRange,displayInUserTimezone:e.displayInUserTimezone,getToday:o(533975).x1}):void 0),[t,e.dateFormat,e.displayInUserTimezone,e.shortenDateAndRange,e.timeFormat,g]);if(!g)return null;const y=i().AA(g,(0,a().P)(),o(16791).locale);let x;if(g.reminder){const e=i().Zs(g,(0,a().P)());x=e?{color:l.errorText}:{color:o(220413).Ay.blue}}const b=(0,s.jsxs)(s.Fragment,{children:[v,g.reminder&&(0,o(508024).P)({display:"inline-block",width:"1em",marginLeft:6,marginRight:2,paddingBottom:4,verticalAlign:"middle"}),f?", ":null]});return e.disableTooltip?(0,s.jsx)("div",{className:e.className,style:{...e.style,...x},children:b}):(0,s.jsx)(o(103151).A,{renderTooltip:()=>(0,s.jsxs)(s.Fragment,{children:[e.tooltipHeader,(0,s.jsxs)("div",{style:d(l,e.tooltipHeader),children:[c(y.start),y.end?` â†’ ${c(y.end)}`:""]})]}),render:t=>(0,s.jsx)("div",{className:e.className,style:{...e.style,...x},...t,children:b}),placement:e.tooltipPlacement})};function c(e){return(0,r().eV)({value:e,preset:"medium"})}function d(e,t){return t?{color:e.text.contrastSecondary}:{}}},731991:(e,t,o)=>{o.d(t,{W:()=>i,X:()=>r});var n=()=>o(803290);function r(e){return e.isReady()&&!e.isDefined()&&"none"!==e.getRole()}function i(e){return(0,n().K8)((()=>r(e)),[e])}},734225:(e,t,o)=>{o.d(t,{A:()=>r});class n extends(()=>o(129044))().default{getInitialState(){return{modalOpen:!1,tokenQuery:"",inviteTargets:[],inviteRole:"member",isInviteTargetsEmpty:!0,table:o(218357).yK,isFocused:!0,flowId:void 0,inputFocus:"invitee",emailMessage:""}}}const r=n},749975:(e,t,o)=>{o.d(t,{ET:()=>l,Ks:()=>c,RI:()=>s,p2:()=>a});o(610931);var n=o(242343);const r="collectionContextStore",i=(0,o(372660).C)({displayName:r,legacyContextKey:r,modernContextDefaultValue:void 0}),a=i.context,s=i.Provider;function l(){const e=n.useContext(a);if(void 0===e)throw new Error(`No context provided: ${r}`);return e}function c(){return n.useContext(a)}},757357:(e,t,o)=>{function n(e){return!e||0===e.getMessages().length}o.d(t,{a:()=>n})},783063:(e,t,o)=>{o.r(t),o.d(t,{AgentChatView:()=>pe,NewChatButton:()=>fe});o(610931),o(754309),o(362833),o(725707),o(107652),o(500234),o(113085);var n=o(242343),r=()=>o(237385),i=()=>o(803290),a=()=>o(174114),s=()=>o(83043),l=()=>o(994966),c=()=>o(633427),d=()=>o(267521),u=()=>o(418699),p=()=>o(534891),h=()=>o(339189),m=()=>o(680369),g=o(163643);const f={viewBox:"0 0 16 16",svg:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("path",{d:"M8.37.461a.55.55 0 0 0-.779 0l-2 2a.55.55 0 0 0 .778.778l1.081-1.08V8.8a.55.55 0 0 0 1.1 0V2.198l1.041 1.041a.55.55 0 0 0 .778-.778z"}),(0,g.jsx)("path",{d:"M6.4 4.05h-2A1.75 1.75 0 0 0 2.65 5.8v6c0 .966.783 1.75 1.75 1.75h7.2a1.75 1.75 0 0 0 1.75-1.75v-6a1.75 1.75 0 0 0-1.75-1.75h-2V8.8a1.6 1.6 0 0 1-3.2 0z"})]})},v=(0,m().wt)("squareAndArrowUpFillSmall",f),y={viewBox:"0 0 16 16",svg:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("path",{d:"M8.422.408a.625.625 0 0 0-.884 0l-2 2a.625.625 0 1 0 .884.884l.953-.953V8.8a.625.625 0 1 0 1.25 0V2.379l.913.913a.625.625 0 0 0 .884-.884z"}),(0,g.jsx)("path",{d:"M4.4 3.975A1.825 1.825 0 0 0 2.575 5.8v6c0 1.008.817 1.825 1.825 1.825h7.2a1.825 1.825 0 0 0 1.825-1.825v-6A1.825 1.825 0 0 0 11.6 3.975H9.525v1.25H11.6c.318 0 .575.257.575.575v6a.575.575 0 0 1-.575.575H4.4a.575.575 0 0 1-.575-.575v-6c0-.318.257-.575.575-.575h2.075v-1.25z"})]})},x=(0,m().wt)("squareAndArrowUpSmall",y);var b=()=>o(34662),S=()=>o(653998),w=()=>o(375589),C=()=>o(84543),k=()=>o(476026),I=()=>o(752401),A=()=>o(421338),T=()=>o(209684),M=()=>o(356813),j=()=>o(701270),_=()=>o(103151),P=()=>o(790837),E=()=>o(245388),B=()=>o(254225),R=()=>o(983050),W=()=>o(126996),z=()=>o(96297),F=()=>o(753004),D=()=>o(610489),N=()=>o(475426),L=()=>o(48913),V=()=>o(485966),U=()=>o(216273),O=()=>o(503780),H=()=>o(357307),K=()=>o(615705),X=()=>o(308265),Y=()=>o(670298),$=()=>o(518022),G=()=>o(165786),q=()=>o(275963),Z=()=>o(609425),Q=()=>o(662861),J=()=>o(9196),ee=()=>o(76394),te=()=>o(384221),oe=()=>o(636045),ne=()=>o(868199),re=()=>o(477557),ie=()=>o(442888);function ae(e){const{clientStore:t,threadStore:o,handleNewSearch:s,setInitialQuery:l,aiChatFeatureController:c}=e,[d,u]=(0,n.useState)(!1),p=(0,S().tz)(),h=(0,a().IS)((e=>({text:{width:"100%",transition:"box-shadow .125s ease",padding:4,borderRadius:6,...d&&{boxShadow:"0 0 0 2px #E3E2E080"}},placeholder:{color:e.pageTitlePlaceholderTextColor}})),[d]),m=(0,n.useRef)(!0),f=(0,r().v3)(),v=(0,i().K8)((()=>{var e;const n=(0,ie().A3)({clientStore:t,threadStore:o}),r=null===(e=n.find((e=>"config"===e.type)))||void 0===e?void 0:e.value;if(r){if("search"===r.type){const e=n.find((e=>"user"===e.type));if(!e)return;return e.value}"autocorrect"!==r.type&&"debug-inference"!==r.type&&"markdown-chat"!==r.type&&"memory-agent"!==r.type&&"summarize-transcript"!==r.type&&"fast-researcher"!==r.type&&"setup-generator"!==r.type&&"researcher"!==r.type&&"tool-markdown-chat"!==r.type&&"route-inference-transcript"!==r.type&&"workflow"!==r.type&&(0,ee().HB)(r)}}),[t,o]);(0,n.useEffect)((()=>{m.current=!0}),[null==o?void 0:o.id]);const{store:y,setValue:x}=(0,W().AI)({initialValue:v});return(0,n.useEffect)((()=>{m.current&&v&&(x(v),null==l||l(v),m.current=!1)}),[v,x,l]),o&&v?(0,g.jsx)("div",{style:{width:"100%",marginBottom:20,marginTop:0},children:(0,g.jsx)("div",{style:{width:"100%",margin:"auto",display:"flex",justifyContent:"space-between",gap:6,alignItems:"center"},children:(0,g.jsx)("div",{onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),style:{width:"100%"},children:(0,g.jsx)(oe().A,{disabled:!1,onFocus:()=>{te().selectAllText({environment:f,store:y,canSelectAllBlocks:!1})},onBlur:()=>{x(v)},onEnter:()=>s(y.getValue()),store:y,pasteBehavior:"inline",disableBrowserSpellcheck:!0,disableSlashCommands:!0,disableEmbedMenu:!0,disableEmojiCommands:!1,disableComment:!0,disableSelectAllBlocks:!0,disableSelectionDrag:!0,disableMobileActionBar:!0,disableStyleAnnotations:!0,disableInsertedDeletedAnnotations:!0,disableSuggestEdit:!0,usePopupForMentionOnMobile:!0,placeholder:p.formatMessage({defaultMessage:"Search or ask anything",id:"assistant.deepFind.inputPlaceholder"}),placeholderStyle:h.placeholder,inPageFind:ne().Os.none,style:h.text,className:"tx-uititle-30-semibold",disableMentions:!c.shouldAllowMentions,disabledMentionTypes:re().md})})})}):null}var se=()=>o(943172),le=()=>o(757357),ce=()=>o(158195),de=()=>o(625952);const ue=(0,S().YK)({untitled_search:{id:"aiChatView.historyDropdown.untitledSearchTitle",defaultMessage:"Untitled Search"},new_chat_title:{id:"aiChatView.historyDropdown.newChatTitle",defaultMessage:"New chat"}});function pe(e){const{aiChatFeature:t,threadStore:o,config:c,onThreadChange:u,defaultUserMessage:p,clientStore:h,parentStore:m}=e,[f,v]=(0,n.useState)();(0,n.useEffect)((()=>{v(o)}),[o]);const y=(0,Z().K)(t),[x,C]=(0,n.useState)(void 0),T=(0,r().v3)(),M=(0,i().K8)((()=>h.state.showDebug),[h]),{store:_,setValue:P}=(0,W().AI)({initialValue:(0,b().x9d)(p)});(0,N().i)({textStore:_,initialFocus:y.shouldHaveInitialFocusOnInput});const E=(0,n.useRef)(null),B=(0,n.useRef)(0),[R,D]=(0,n.useState)(!0),[L,U]=(0,n.useState)(!0),H=y.isInSidebarMode||Boolean(f),ee=y.showWelcomeMessage&&!f,te=(0,i().K8)((()=>{if(!f)return;const e=f.getTranscript().reverse().find((e=>"config"===e.type));return null==e?void 0:e.value.type}),[f]),oe=(0,i().K8)((()=>(0,X().aj)()),[]),ne=(0,i().K8)((()=>((null==f?void 0:f.getTranscript())??[]).some((e=>"workflow-inference"===e.type))),[f]),re=(0,a().IS)((e=>({columnContainer:{minHeight:0,...!H&&{minHeight:void 0}},chatColumn:{flex:1,display:"flex",flexDirection:"column",minHeight:0,maxWidth:"100%",...!H&&{justifyContent:"center",minHeight:void 0}},contentWrapper:{flex:1,scrollbarGutter:"stable",overflowY:"auto",position:"relative",...!H&&{flex:"0 1 auto"}},contentContainer:{margin:"0 auto",width:"100%",maxWidth:800,padding:12,marginLeft:"auto"},inputWrapper:{flex:"0 0 auto",position:"relative",backgroundColor:e.surface.wash,padding:"0 0 12px",...!H&&{marginTop:24}},fullPageWelcomeContainer:{textAlign:"center",marginBottom:24,display:"flex",flexDirection:"column",alignItems:"center"},fullPageWelcomeTitle:{fontSize:30,fontWeight:600,color:e.text.primary,marginBottom:8,marginTop:26},scrollToBottomButton:{position:"absolute",left:"50%",bottom:"100%",transform:"translate(-50%, -8px)",zIndex:2,padding:6,borderRadius:20,backgroundColor:"dark"===e.mode?"#fff":"#000",border:"none",cursor:"pointer",fontWeight:500,boxShadow:"dark"===e.mode?`0px 0px 0px 0.5px ${e.stroke.primary}, 0px 1px 2px 0px rgba(0, 0, 0, 0.12), 0px 4px 16px -2px rgba(0, 0, 0, 0.6)`:`0px 0px 0px 0.5px ${e.stroke.primary}, 0px 1px 2px 0px rgba(0, 0, 0, 0.02), 0px 4px 16px -2px rgba(0, 0, 0, 0.1)`,transition:"opacity 150ms ease-out, transform 150ms ease-out",opacity:0,pointerEvents:"none"},scrollToBottomButtonVisible:{opacity:1,transform:"translate(-50%, -16px)",pointerEvents:"auto"},inputContainer:{margin:"0 auto",width:"100%",maxWidth:y.chatInputWidth,padding:y.chatInputPadding,marginLeft:"auto"},gradientMask:{width:"100%",height:y.isInWorkflowEditor?32:44,pointerEvents:"none",position:"absolute",bottom:"100%",background:`linear-gradient(to bottom, rgba(248, 248, 247, 0), ${e.surface.wash})`},chevronDownIcon:{width:20,height:20,fill:"dark"===e.mode?"#000":e.white,transform:"translateY(1px)"},overflowContainer:{overflowY:"auto",...!H&&{overflowY:void 0}},lockedChatMessage:{padding:12,textAlign:"center"}})),[H,y]),ie=(0,n.useCallback)((()=>{const e=E.current;if(!e)return;const t=e.scrollTop,o=t-B.current<0,n=e.scrollHeight-e.scrollTop-e.clientHeight<50;B.current=t,D(n),o&&!n&&L&&U(!1),"search"!==te&&n&&!L&&U(!0)}),[L,te]);(0,n.useEffect)((()=>{const e=E.current;if(!e)return;e.addEventListener("scroll",ie);const t=new MutationObserver((()=>{L&&(e.scrollTop=e.scrollHeight),setTimeout(ie,100)}));return t.observe(e,{childList:!0,subtree:!0,characterData:!0}),setTimeout(ie,100),()=>{e.removeEventListener("scroll",ie),t.disconnect()}}),[ie,L]),(0,n.useEffect)((()=>{const e=E.current;if(!e)return;if("search"===te)return void U(!1);const t=setTimeout((()=>{e.scrollTop=e.scrollHeight,U(!0)}),100);return()=>clearTimeout(t)}),[te]);const ue=(0,n.useCallback)((()=>{const e=E.current;e&&z().VG({element:e,environment:T,options:{top:e.scrollHeight,behavior:"smooth"}})}),[T]),pe=(0,n.useCallback)((()=>{ue(),U(!0)}),[ue]),me=(0,i().O$)(V().AppStoreMainEditorCurrentBlockStore),ge=(0,ce().q)({threadStore:f,clientAiChatStore:h,setThreadStore:v,aiChatFeatureController:y,config:c}),fe=(0,n.useCallback)((e=>{if(h.setState({...h.state,userSelectedConfig:!0}),!e||0===e.length)return;if(!m)throw new Error("No parent store");const t=V().default.state.currentSpaceStore;if(!t)throw new Error("No current space");const o=V().default.state.currentSpaceViewStore;if(!o)throw new Error("No current space view");const n=V().default.state.currentUserStore;if(!n)throw new Error("No current user");P(void 0);const r=((null==f?void 0:f.getTranscript())||[]).find((e=>"search"===e.type));f&&r&&void 0===r.showResults&&(0,q().V)({environment:T,threadStore:f,stepId:r.id,showResults:!1,traceId:r.traceId});const i=(0,Q().Kf)({environment:T,spaceStore:t,userStore:n,value:e}),a=null==f?void 0:f.getTranscript().findLast((e=>"context"===e.type));if(f){var s;const e=[],r=null===(s=h.getOrCreateClientAIChatThreadStore(f.id))||void 0===s?void 0:s.getAndClearStagedAssistantAttachmentSteps();if(r&&e.push(...r),(0,le().a)(f)){const r=(0,Q().Xd)({environment:T,spaceStore:t,userStore:n,config:c??h.state.configForNewTranscripts,addSteps:[...e,i],blockStore:V().default.state.mainEditorCurrentBlockStore,spaceViewStore:o,surface:y.contextStepSurface});return(0,O().addStepsToExistingThreadAndRun)({environment:T,spaceStore:t,userStore:n,threadStore:f,addSteps:r,waitForServerCommit:!0}),void u(f)}const l=[];((null==a?void 0:a.value.collectionViewBlockId)??(null==a?void 0:a.value.blockId))!==(null==me?void 0:me.id)&&l.push((0,Q().WM)({environment:T,userStore:n,spaceStore:t,spaceViewStore:o,blockStore:me,surface:y.contextStepSurface})),r&&l.push(...r),l.push(i),(0,O().addStepsToExistingThreadAndRun)({environment:T,spaceStore:t,userStore:n,threadStore:f,addSteps:l,waitForServerCommit:!0}),ue()}else{const r=c??h.state.configForNewTranscripts;if("workflow"===r.type&&null!=me&&me.isCollectionView()){if(me.getWorkflowStore()){const e=(0,Y().Y$)({environment:T,spaceStore:t,userStore:n,store:me,addSteps:[i],spaceViewStore:o}),r=(0,O().addTranscriptToNewThreadAndRun)({environment:T,spaceStore:t,transcript:e});u(r)}else(0,O().createEmptyWorkflowContainerAndBuild)({environment:T,parentStore:m,userStep:i,onThreadChange:u})}else if("setup-generator"===r.type)(0,$().openSelectedTemplateOnboardingModalForInAppFlows)({parentStore:t,template:l().XK,environment:T,aiPrompt:e,origin:"ai_chat",version:"build_with_ai",autoSubmit:!0});else{const e=(0,Q().Xd)({environment:T,spaceStore:t,userStore:n,config:r,addSteps:[i],blockStore:V().default.state.mainEditorCurrentBlockStore,spaceViewStore:o,surface:y.contextStepSurface}),a=(0,O().addTranscriptToNewThreadAndRun)({environment:T,spaceStore:t,transcript:e});u(a)}}}),[m,P,f,T,h,c,u,ue,me,y]),ve=(0,n.useCallback)((e=>{if(!e||0===e.length)return;const t=V().default.state.currentSpaceStore;if(!t)throw new Error("No current space");const o=V().default.state.currentUserStore;if(!o)throw new Error("No current user");const n=V().default.state.currentSpaceViewStore;if(!n)throw new Error("No current space view");if(!m)throw new Error("No parent store");const r=(0,Q().Kf)({environment:T,spaceStore:t,userStore:o,value:e});(0,G().Wq)({clientStore:h,environment:T});const i=(0,Q().Xd)({environment:T,spaceStore:t,userStore:o,config:{type:"search",scopeForNextSearch:{type:"everything"}},addSteps:[r],blockStore:V().default.state.mainEditorCurrentBlockStore,spaceViewStore:n,surface:y.contextStepSurface}),a=(0,O().addTranscriptToNewThreadAndRun)({environment:T,spaceStore:t,transcript:i});u(a)}),[m,T,h,u,y]),ye=(0,i().K8)((()=>!e.config&&!f),[e.config,f]),xe=(0,n.useCallback)((e=>{const{transcript:t,threadId:o}=e;return(0,F().dC)(t)?M?(0,F().BI)({transcript:t,threadId:o}):(0,F().an)({transcript:t,threadId:o,preserveNonResearcherSteps:!0}):(0,s().q1)(t)&&!M?(0,K().SU)(t):t}),[M]),be=(0,i().K8)((()=>(0,X().Ke)()),[]);return(0,g.jsxs)(g.Fragment,{children:[y.supportsChatHeader&&(0,g.jsx)(he,{aiChatFeatureController:y,threadStore:f,clientStore:h,onThreadChange:u,initialQuery:x,parentStore:m}),(0,g.jsx)(A().Y1,{height:"fill",direction:"vertical",children:(0,g.jsxs)(A().Y1,{height:"fill",direction:"horizontal",style:re.columnContainer,children:[y.supportsCollapsiblePanel&&be?(0,g.jsx)(I().z,{isOpen:M,width:{size:515,speed:"animate"},isResizable:!0,anchorToSide:"left",minSize:300,maxSize:900,children:(0,g.jsx)(se().m,{clientStore:h,threadStore:f})}):null,(0,g.jsx)(A().Y1,{height:"fill",direction:"vertical",style:re.overflowContainer,children:(0,g.jsx)("div",{style:re.chatColumn,children:H?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{style:re.contentWrapper,ref:E,children:(0,g.jsxs)("div",{style:re.contentContainer,children:[(0,g.jsx)(ae,{handleNewSearch:ve,clientStore:h,threadStore:f,setInitialQuery:C,aiChatFeatureController:y}),(0,g.jsx)(J().Lm,{clientStore:h,config:c,threadStore:f,preprocessTranscript:xe,aiChatFeatureController:y}),(0,g.jsx)(de().Qd,{clientStore:h,threadStore:f})]})}),(0,g.jsxs)("div",{style:re.inputWrapper,children:[(0,g.jsx)("button",{onClick:pe,style:{...re.scrollToBottomButton,...!R&&re.scrollToBottomButtonVisible},children:(0,d().arrowChevronSingleDownFillIcon)(re.chevronDownIcon)}),(0,g.jsx)("div",{style:re.gradientMask}),(0,g.jsx)("div",{style:re.inputContainer,children:oe?(0,g.jsx)("div",{children:ne?(0,g.jsx)(j().D,{styleName:"UIRegular-14px/Regular",colorName:"secondary",customStyles:re.lockedChatMessage,children:(0,g.jsx)(S().sA,{id:"agentChatView.lockedChatMessage",defaultMessage:"This thread was created using an older version of Notion AI. Please create a new thread to continue."})}):(0,g.jsx)(w().ev,{store:_,onSubmit:fe,clientStore:h,threadStore:f,showInitialModePicker:ye,aiChatFeatureController:y,config:c,loadAttachmentData:ge})}):(0,g.jsx)(w().ev,{store:_,onSubmit:fe,clientStore:h,threadStore:f,showInitialModePicker:ye,aiChatFeatureController:y,config:c,loadAttachmentData:ge})})]})]}):(0,g.jsxs)("div",{style:re.inputWrapper,children:[ee&&(0,g.jsxs)("div",{style:re.fullPageWelcomeContainer,children:[(0,g.jsx)(k().o,{variant:"large"}),(0,g.jsx)("div",{style:re.fullPageWelcomeTitle,children:(0,g.jsx)(S().sA,{id:"aiInferenceTranscript.fullPageWelcomeTitle",defaultMessage:"How can I help you today?"})})]}),(0,g.jsx)("div",{style:re.inputContainer,children:(0,g.jsx)(w().ev,{store:_,onSubmit:fe,clientStore:h,threadStore:f,showInitialModePicker:ye,aiChatFeatureController:y,config:c,loadAttachmentData:ge})})]})})})]})})]})}function he(e){const{aiChatFeatureController:t,onThreadChange:o,clientStore:a,initialQuery:s,threadStore:l,parentStore:c}=e,d=(0,r().v3)(),u=(0,n.useContext)(E().eh),{isElectronWindows:p}=(0,r().Y0)(),h=(0,i().O$)(U().b),m=(0,n.useCallback)((e=>{(0,G().Wq)({environment:d,clientStore:a}),o(e)}),[a,o,d]),f=(0,i().K8)((()=>!(0,L().KB)(d)),[d]),v=d.device.isElectron&&!h,y=t.supportsThreadHistoryPicker?(0,g.jsx)(H().X,{threadStore:l,onThreadChange:m,parentStore:c}):(0,g.jsx)(ye,{threadStore:l,initialQuery:s});return(0,g.jsx)(A().Y1,{direction:"vertical",width:"fill",children:(0,g.jsx)(A().Y1,{className:v?R().sbV:void 0,direction:"vertical",padding:"6px 12px 8px 8px",width:"fill",gap:4,children:(0,g.jsxs)(A().Y1,{direction:"horizontal",align:"center",gap:"auto",children:[f&&t.supportsNotionSidebarButton?(0,g.jsx)("div",{style:{margin:4},children:(0,g.jsx)(B().z,{})}):null,y,(0,g.jsxs)(A().Y1,{direction:"horizontal",align:"center-right",gap:2,style:{flexShrink:0},children:[(0,g.jsx)(me,{threadStore:l}),(0,g.jsx)(ge,{clientStore:a}),(0,g.jsx)(fe,{onNewChat:()=>m(void 0)}),u?(0,g.jsx)(ve,{onClick:u}):null]}),p&&(0,g.jsx)(P().K,{})]})})})}function me(e){const{threadStore:t}=e,o=(0,r().v3)(),l=(0,S().tz)(),c=(0,i().K8)((()=>{var e;return(null==t||null===(e=t.getData())||void 0===e?void 0:e.shared_with_space)??!1}),[t]),d=(0,n.useCallback)((()=>{t&&C().createAndCommit({userAction:"AIChatHeader.toggleShareWithSpace",environment:o,canUndo:!0,perform:e=>{(0,G().g6)({threadStore:t,transaction:e})}})}),[t,o]),u=(0,a().IS)((e=>({iconButton:{width:28,height:28},iconButtonIcon:{width:16,height:16,fill:c?e.icon.uiBluePrimary:e.icon.primary}})),[c]),p=(0,i().K8)((()=>t&&!t.canEdit()),[t]);return(0,i().K8)((()=>(0,s().q1)((null==t?void 0:t.getTranscript())??[])),[t])?(0,g.jsx)(_().A,{renderTooltip:()=>(0,g.jsx)(S().sA,{id:"aiChatView.shareWithSpaceTooltip",defaultMessage:"Share with workspace"}),render:e=>(0,g.jsx)(M().A,{...e,icon:c?v:x,iconStyle:u.iconButtonIcon,style:u.iconButton,onClick:d,disabled:p,ariaLabel:l.formatMessage({id:"aiChatView.shareWithSpace",defaultMessage:"Share with workspace"})})}):null}function ge(e){const t=(0,S().tz)(),{clientStore:o}=e,r=xe({active:(0,i().K8)((()=>o.state.showDebug),[o])}),a=(0,n.useCallback)((()=>{o.setState({...o.state,showDebug:!o.state.showDebug})}),[o]);return(0,i().K8)((()=>(0,X().Ke)()),[])?(0,g.jsx)(_().A,{renderTooltip:()=>(0,g.jsx)(S().sA,{id:"aiChatView.debugTooltip",defaultMessage:"Debug"}),render:e=>(0,g.jsx)(M().A,{...e,icon:u().E,iconStyle:r.iconButtonIcon,style:r.iconButton,ariaLabel:t.formatMessage({id:"aiInferenceTranscript.debug",defaultMessage:"Debug"}),onClick:a})}):null}function fe(e){let{onNewChat:t}=e;const o=(0,S().tz)(),n=xe();return(0,g.jsx)(_().A,{renderTooltip:()=>(0,g.jsx)(S().sA,{id:"aiChatView.newChatTooltip",defaultMessage:"New chat"}),render:e=>(0,g.jsx)(M().A,{...e,icon:h().W,iconStyle:n.iconButtonIcon,style:n.iconButton,ariaLabel:o.formatMessage({id:"aiInferenceTranscript.newChat",defaultMessage:"New chat"}),onClick:t})})}function ve(e){const t=(0,S().tz)(),o=xe();return(0,g.jsx)(_().A,{renderTooltip:()=>(0,g.jsx)(S().sA,{id:"chatSidebar.close",defaultMessage:"Close"}),render:n=>(0,g.jsx)(M().A,{...n,icon:p().a,iconStyle:o.iconButtonIcon,style:o.iconButton,ariaLabel:t.formatMessage({id:"chatSidebar.close",defaultMessage:"Close"}),onClick:e.onClick})})}function ye(e){const{threadStore:t,initialQuery:o}=e,s=(0,S().tz)(),l=(0,r().v3)(),d=(0,i().K8)((()=>{var e;const n=null==t||null===(e=t.getData())||void 0===e?void 0:e.title;if(n)return n;if(o){if(o.every((e=>(0,b().bHQ)(e))))return(0,b().q4_)(o)}return s.formatMessage(ue.untitled_search)}),[s,t,o]),u=Boolean(t),p=(0,n.useCallback)((()=>{(0,D().ZT)({environment:l,contentType:"assistant"})}),[l]),h=(0,a().IS)((e=>({chevronDownIcon:{width:16,marginLeft:6,fill:e.mediumIconColor,flexShrink:0},threadTitleInDropdown:{maxWidth:"250px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}})),[]);return(0,g.jsxs)(T().p,{"aria-label":"history",size:"lg",onClick:p,children:[(0,g.jsx)(j().D,{styleName:"UIRegular-14px/Medium",style:h.threadTitleInDropdown,children:u?d:s.formatMessage(ue.new_chat_title)}),(0,g.jsx)(g.Fragment,{children:(0,c().arrowChevronSingleDownIcon)(h.chevronDownIcon)})]})}function xe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a().IS)((t=>({iconButton:{width:28,height:28},iconButtonIcon:{width:16,height:16,fill:e.active?t.icon.uiBluePrimary:t.icon.primary}})),[e.active])}},793359:(e,t,o)=>{o.d(t,{w:()=>l});o(242343);var n=()=>o(950635),r=()=>o(76394),i=()=>o(951156),a=()=>o(482570),s=o(163643);function l(e){const{actor:t}=e,o={size:e.size??14,style:{marginRight:2,...e.style}};return(0,n().H3)(t)?(0,s.jsx)(i().A,{botValue:t.asActor,...o}):(0,n().ps)(t)?(0,s.jsx)(a().A,{userValue:t.asActor,...o}):(0,n().h2)(t)?(0,s.jsx)(a().A,{userValue:void 0,...o}):void(0,r().HB)(t)}},803291:(e,t,o)=>{o.d(t,{t:()=>i});var n=o(242343),r=o(163643);const i=n.memo((function(e){const{coverHeight:t,coverSizeFormat:n,emptyGalleryCoverStyle:i}=e,a=(0,o(174114).IS)((()=>({container:{height:(0,o(869596).F)(t,n),...i}})),[t,n,i]);return(0,r.jsx)("div",{style:a.container})}))},808263:(e,t,o)=>{o.d(t,{_:()=>n});const n=(0,o(680369).xh)("personCircle",{default:{loader:()=>o.e(89491).then(o.bind(o,895800))},small:{loader:()=>o.e(95357).then(o.bind(o,287110))},mini:{loader:()=>o.e(70891).then(o.bind(o,626640))},large:{loader:()=>o.e(49761).then(o.bind(o,642922))}})},810813:(e,t,o)=>{o.d(t,{p:()=>i});var n=()=>o(84543),r=()=>o(702851);function i(e){const{environment:t,collectionStore:o,performTransaction:i}=e;return n().createAndCommit({userAction:"collectionViewActions.createSchemaUpdateTransaction",environment:t,canUndo:!0,perform:e=>{const n=o.getSchema(),a=i(e),s=o.getSchema();return(0,r().H)({environment:t,collectionStore:o,oldSchema:n,newSchema:s,transaction:e}),a}}).performResult}},823519:(e,t,o)=>{o.d(t,{a:()=>h});var n=o(242343),r=()=>o(174114),i=()=>o(76394),a=()=>o(31448),s=()=>o(421338),l=()=>o(152058),c=()=>o(755002),d=o(163643);function u(e){const{disabled:t,checked:o,selectorSize:n}=e,[i,a]=(0,l().A)(),s=function(e){const{checked:t,disabled:o,isFocusVisible:n,selectorSize:i}=e;return(0,r().IS)((e=>({root:{position:"absolute",display:"flex",width:15,height:15,padding:5,margin:1.5,justifyContent:"center",alignItems:"center",gap:8,flexShrink:0,borderRadius:"50%",transition:"background 100ms ease-out",...t?{boxShadow:`0 0 0 1.5px ${o?e.tint.regular:e.blueColor}`,background:o?e.tint.regular:e.blueColor}:{boxShadow:`0 0 0 1.5px ${o?e.icon.quaternary:e.stroke.input}`,background:e.surface.page},...n&&{boxShadow:e.outlineBlueInputBoxShadow}},active:{background:t?e.blueButtonPressedBackground:e.buttonHoveredBackground},input:{opacity:0,width:"small"===i?14:18,height:"small"===i?14:18,...o?{pointerEvents:"none"}:{cursor:"pointer"}}})),[t,o,n,i])}({checked:o,disabled:t,isFocusVisible:a,selectorSize:n});return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("input",{ref:i,type:"radio",style:s.input,className:"radio-button",...e}),(0,d.jsx)("span",{...(0,c().AH)("custom-radio-button",s.root,t?{}:{pseudoActive:s.active})})]})}var p=()=>o(701270);const h=n.forwardRef((function(e,t){let{additionalContent:o,description:i,isDisabled:l,isSelected:c,label:u,name:p,onChange:h,width:f="fill",selectorSize:v="normal",selectAlignXAxis:y="left",selectAlignYAxis:x="center",selectType:b="checkbox",style:S,supportText:w,value:C,colorName:k,alignAdditionalContent:I,...A}=e;const T=(0,n.useId)(),M=function(e){const{isSelected:t,isDisabled:o,selectAlignYAxis:n,alignAdditionalContent:i}=e;return(0,r().IS)((e=>{const r=t&&!o?e.blueColor:e.selectorBorderUnselected;return{container:{display:"flex",alignItems:i??"center",gap:12,userSelect:"none",padding:"9px 16px 10px 10px",borderRadius:6,border:`1px solid ${r}`,...!o&&{cursor:"pointer"}},title:{fontWeight:a().Wy.medium,fontSize:14,userSelect:"none",lineHeight:18},additionalContentWrapper:{flexShrink:0},selectorWrapper:{display:"flex",..."top"===n?{marginTop:2}:{}},rightAlignSelectorWrapper:{display:"flex"}}}),[t,o,n,i])}({isSelected:c,isDisabled:l,selectAlignYAxis:x,alignAdditionalContent:I}),j=(0,d.jsxs)(s().Y1,{direction:"horizontal",align:"top"===x?"top-left":"center-left",gap:12,width:f,children:[(0,d.jsx)("div",{style:M.selectorWrapper,children:(0,d.jsx)(g,{id:T,selectType:b,name:p,value:C,onChange:h,isSelected:c,selectorSize:v,isDisabled:l,...A})}),(0,d.jsx)(m,{colorName:k,description:i,label:u,selectorSize:v,supportText:w,isDisabled:l})]}),_=(0,d.jsxs)(s().Y1,{direction:"horizontal",align:"top"===x?"top-center":"center",gap:12,children:[(0,d.jsx)(m,{colorName:k,description:i,label:u,selectorSize:v,supportText:w,isDisabled:l}),(0,d.jsx)("div",{style:{...M.selectorWrapper,...M.rightAlignSelectorWrapper},children:(0,d.jsx)(g,{id:T,selectType:b,name:p,value:C,onChange:h,selectorSize:v,isSelected:c,isDisabled:l,...A})})]}),P=o?(0,d.jsx)("div",{style:M.additionalContentWrapper,children:o}):null;return(0,d.jsx)("label",{ref:t,style:{...M.container,...S},htmlFor:T,children:"left"===y?(0,d.jsxs)(d.Fragment,{children:[j,P]}):(0,d.jsxs)(d.Fragment,{children:[P,_]})})}));function m(e){const{description:t,label:o,supportText:n,selectorSize:r,isDisabled:a,colorName:l}=e;let c;return"large"===r?c="Page-Content/Text-Block":"normal"===r||void 0===r?c="Body-13px/Medium":"small"===r?c="Body-12px/Regular":(0,i().HB)(r),(0,d.jsxs)(s().Y1,{gap:4,children:[(0,d.jsxs)(s().Y1,{gap:2,children:[(0,d.jsx)(p().D,{styleName:c,colorName:l||(a?"quaternary":"primary"),children:o}),t?(0,d.jsx)(p().D,{styleName:"Caption-12px/Regular",colorName:a?"quaternary":"secondary",children:t}):null]}),n?(0,d.jsx)(p().D,{styleName:"Caption-12px/Medium",colorName:"tertiary",children:n}):null]})}function g(e){const{selectType:t,selectorSize:n="normal",id:a,name:s,value:l,onChange:c,isSelected:p,isDisabled:h,...m}=e,g=(0,r().IS)((()=>({checkboxWrapper:{minWidth:18,display:"flex",justifyContent:"center"}})),[]);switch(t){case"radio":return(0,d.jsx)(u,{id:a,name:s,value:l,onChange:c,checked:p,disabled:h,selectorSize:n,...m});case"checkbox":return(0,d.jsx)("div",{style:g.checkboxWrapper,children:(0,d.jsx)(o(830025).W,{id:a,name:s,value:l,onChange:c,checked:p,disabled:h,selectorSize:n,...m})});default:(0,i().HB)(t)}}},823792:(e,t,o)=>{o.d(t,{p:()=>r});o(242343);var n=o(163643);const r=(0,o(680369).wt)("collectionDescriptionSmall",{viewBox:"0 0 14 14",svg:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 4.667C6.69049 4.667 6.39366 4.54405 6.17481 4.32519C5.95595 4.10634 5.833 3.80951 5.833 3.5C5.833 3.19049 5.95595 2.89366 6.17481 2.67481C6.39366 2.45595 6.69049 2.333 7 2.333C7.30951 2.333 7.60634 2.45595 7.82519 2.67481C8.04405 2.89366 8.167 3.19049 8.167 3.5C8.167 3.80951 8.04405 4.10634 7.82519 4.32519C7.60634 4.54405 7.30951 4.667 7 4.667V4.667ZM8 11C8 11.2652 7.89464 11.5196 7.70711 11.7071C7.51957 11.8946 7.26522 12 7 12C6.73478 12 6.48043 11.8946 6.29289 11.7071C6.10536 11.5196 6 11.2652 6 11V7C6 6.73478 6.10536 6.48043 6.29289 6.29289C6.48043 6.10536 6.73478 6 7 6C7.26522 6 7.51957 6.10536 7.70711 6.29289C7.89464 6.48043 8 6.73478 8 7V11ZM7 0C5.14348 0 3.36301 0.737498 2.05025 2.05025C0.737498 3.36301 0 5.14348 0 7C0 8.85652 0.737498 10.637 2.05025 11.9497C3.36301 13.2625 5.14348 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.14348 13.2625 3.36301 11.9497 2.05025C10.637 0.737498 8.85652 0 7 0V0Z"})})},827744:(e,t,o)=>{o.d(t,{r:()=>r});o(242343);var n=o(163643);const r=(0,o(680369).wt)("pencil",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M3.926 13.307H14.11c.183 0 .34-.066.472-.199a.644.644 0 00.198-.471.652.652 0 00-.198-.479.644.644 0 00-.472-.198H5.272l-1.346 1.347zm-.704-.636l7.683-7.684-1.312-1.319-7.69 7.684-.67 1.606c-.037.1-.017.191.06.273.083.082.174.105.274.069l1.655-.63zm8.34-8.326l.738-.732c.182-.187.278-.376.287-.567.009-.192-.068-.374-.232-.547l-.267-.267c-.169-.168-.351-.246-.547-.232-.196.014-.385.11-.567.287l-.739.732 1.327 1.326z"})})},830025:(e,t,o)=>{o.d(t,{W:()=>l});o(242343);var n=()=>o(152058),r=()=>o(174114),i=()=>o(755002),a=()=>o(96144),s=o(163643);function l(e){const{selectorSize:t="normal",...o}=e,{disabled:l,checked:c}=o,[d,u]=(0,n().A)(),p=function(e){const{checked:t,disabled:o,isFocusVisible:n,selectorSize:i}=e;return(0,r().IS)((e=>({root:{position:"absolute",display:"flex",width:"large"===i?15:11,height:"large"===i?15:11,margin:1.5,justifyContent:"center",alignItems:"center",flexShrink:0,borderRadius:"large"===i?2:1,transition:"background 100ms ease-out",...t?{boxShadow:`0 0 0 1.5px ${o?e.tint.regular:e.blueColor}`,background:o?e.tint.regular:e.blueColor}:{boxShadow:`0 0 0 1.5px ${o?e.icon.quaternary:e.stroke.input}`,background:e.surface.page},...n&&{boxShadow:e.outlineBlueInputBoxShadow}},active:{background:t?e.blueButtonPressedBackground:e.buttonHoveredBackground},input:{opacity:0,width:"large"===i?18:void 0,height:"large"===i?18:void 0,...o?{pointerEvents:"none"}:{cursor:"pointer"}},icon:{color:e.text.contrastPrimary,width:"large"===i?12:10,height:"large"===i?12:10,ariaHidden:!0}})),[i,t,o,n])}({checked:c,disabled:l,selectorSize:t,isFocusVisible:u});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("input",{ref:d,type:"checkbox",style:p.input,...o}),(0,s.jsx)("span",{...(0,i().AH)(p.root,l?{}:{pseudoActive:p.active}),children:c&&(0,a().R)(p.icon)})]})}},842617:(e,t,o)=>{o.d(t,{MG:()=>m,T1:()=>h,a1:()=>x,dt:()=>g,kg:()=>f,lC:()=>y,n_:()=>v});var n=o(242343),r=()=>o(237385),i=()=>o(803290),a=()=>o(162901),s=()=>o(129978),l=()=>o(514860),c=()=>o(271748),d=()=>o(440588),u=()=>o(370557),p=()=>o(89969);const h=new(s().O2)("PerformanceToolbar",(()=>Promise.all([o.e(96159),o.e(96346),o.e(16471),o.e(36209),o.e(92845),o.e(71718),o.e(17989),o.e(48632),o.e(90625),o.e(21194),o.e(5910),o.e(62427),o.e(45624)]).then(o.bind(o,524636)))),m=(0,s()._h)(h,(e=>e.PerformanceToolbar)),g=(0,s()._h)(h,(e=>e.PerformanceToolbarSettings));function f(){const e=(0,r().v3)();return(0,i().K8)((()=>(0,p().D)(e,e.RouterStore.state)),[e])}function v(){const e=(0,r().v3)(),t=b("PerformanceToolbarStore"),o=b("isPerformanceToolbarVisible");return(0,i().K8)((()=>!(!t||!o)&&o(e,e.RouterStore.state,t.state)),[o,e,t])}function y(){const e=b("PerformanceToolbarStore");return(0,i().K8)((()=>!!e&&e.state.isPerformanceToolbarMounted),[e])}function x(){const e=(0,r().v3)(),t=b("createPerformanceToolbarMouseListeners"),o=b("PerformanceToolbarStore"),{sidebarExpanded:a,sidebarWidth:s,secondarySidebarExpanded:p,secondarySidebarWidth:h,updateSidebarExpanded:m,updateSidebarWidth:g}=(0,i().K8)((()=>({sidebarExpanded:d().sidebarExpandedStore.state,sidebarWidth:d().sidebarWidthStore.state,secondarySidebarExpanded:c().default.isOpen(),secondarySidebarWidth:l().Ay.getWidth(),updateSidebarExpanded:u().Ay.state.expanded,updateSidebarWidth:u().Ay.state.width})),[]);return(0,n.useEffect)((()=>{if(o&&t)return t(e,(e=>o.update((t=>({...t,isMouseNearPerformanceToolbar:e})))),a,s,p,h,m,g)}),[t,e,o,a,s,p,h,m,g])}function b(e){const t=f(),[{value:o}]=(0,a().Yb)((()=>t?h.load().then((t=>t[e])):Promise.resolve(void 0)),[e,t]);return o}},842940:(e,t,o)=>{o.d(t,{J:()=>r});o(242343);const n={viewBox:"0 0 20 20",svg:(0,o(163643).jsx)("path",{d:"M8.875 2.625a6.25 6.25 0 1 0 3.955 11.09l3.983 3.982a.625.625 0 1 0 .884-.884l-3.983-3.982a6.25 6.25 0 0 0-4.84-10.205m-5 6.25a5 5 0 1 1 10 0 5 5 0 0 1-10 0"})},r=(0,o(680369).wt)("magnifyingGlass",n)},862279:(e,t,o)=>{o.d(t,{S:()=>i});o(242343);var n=o(163643);const r={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M3.608 10.442a.625.625 0 0 1 0-.884l5.4-5.4a.625.625 0 0 1 .884.884L4.934 10l4.958 4.958a.625.625 0 1 1-.884.884z"}),(0,n.jsx)("path",{d:"m14.508 4.158-5.4 5.4a.625.625 0 0 0 0 .884l5.4 5.4a.625.625 0 1 0 .884-.884L10.434 10l4.958-4.958a.625.625 0 1 0-.884-.884"})]})},i=(0,o(680369).wt)("arrowChevronDoubleBackward",r)},869596:(e,t,o)=>{o.d(t,{F:()=>r});var n=()=>o(551116);function r(e,t){if(e)return e;switch(t){case"large":return n().A.card.desktop.large.height;case"small":return n().A.card.desktop.small.height;default:return n().A.card.desktop.medium.height}}},870896:(e,t,o)=>{o.d(t,{d:()=>r});o(725707),o(491955);class n extends(()=>o(129044))().default{getInitialState(){return{flowId:void 0,type:"connected_properties_setup",collectionsProperties:{}}}createNewFlowId(){const e=(0,o(214144).JW)();return this.setState({...this.state,flowId:e}),e}getFlowId(){return this.state.flowId?this.state.flowId:this.createNewFlowId()}addCollectionProperties(e,t){const o=this.state.collectionsProperties[e],n=o?{...o,...t}:t;this.setState({...this.state,collectionsProperties:{...this.state.collectionsProperties,[e]:n}})}removeCollectionProperties(e,t){const o=this.state.collectionsProperties[e];if(!o)return;const n=Object.fromEntries(Object.entries(o).filter((e=>{let[o]=e;return!t.has(o)})));if(0===Object.keys(n).length){const{[e]:t,...o}=this.state.collectionsProperties;this.setState({...this.state,collectionsProperties:o})}else this.setState({...this.state,collectionsProperties:{...this.state.collectionsProperties,[e]:n}})}}const r=new n;(0,o(996094).exposeDebugValue)("ConnectedPropertiesSyncStore",r)},883249:(e,t,o)=>{o.d(t,{A:()=>n});const n=new(o(652039).Ay)},888575:(e,t,o)=>{o.d(t,{A:()=>r});o(242343);var n=o(163643);const r=function(e){const{botStore:t,avatarSize:r,shouldShowBadge:i,style:a,inline:s}=e,l=(0,o(653998).tz)(),c=(0,o(237385).Y0)(),d=(0,o(803290).K8)((()=>null==t?void 0:t.getDisplayName(l)),[t,l]),{outerStyle:u,avatarWrapStyle:p,badgeStyle:h}=(0,o(174114).IS)((e=>({outerStyle:{display:"flex",alignItems:"center",minWidth:0,...a},avatarWrapStyle:s?{width:"none",minHeight:"none",marginRight:6}:{marginRight:6},badgeStyle:{padding:"2px 6px",borderRadius:4,color:e.text.secondary,background:e.legacyDefaultSelectColor,fontSize:c.isMobile?11:9,lineHeight:c.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em",marginLeft:8,marginTop:1}})),[a,s,c]);return(0,n.jsxs)("div",{style:u,children:[(0,n.jsx)("div",{style:p,children:(0,n.jsx)(o(951156).A,{botStore:t,size:r})}),(0,n.jsx)("div",{style:{...o(31448).RC},children:d}),i&&(0,n.jsx)("div",{style:h,children:"Bot"})]})}},897080:(e,t,o)=>{o.d(t,{A:()=>n});const n={appCursorListener:{sidebar:1,secondarySidebar:2,editor:3,aiChat:3,marketplace:3,teamHome:3}}},933871:(e,t,o)=>{o.d(t,{U:()=>p});o(610931);var n=()=>o(543396),r=()=>o(827875),i=()=>o(33715),a=()=>o(846287),s=()=>o(201147),l=()=>o(946854),c=()=>o(84543),d=()=>o(272690),u=()=>o(477267);function p(e){let{environment:t,transaction:o,layoutStore:p,position:h,sessionId:m,beforePerformDeleteModule:g}=e;const f=p.getModules();if(!f)throw new Error("[deleteModuleAtPosition] modules by area not found for layout store");const v=(0,a().EX)(f,(e=>e.id===h.moduleId)),y=(0,n().Cg)({moduleId:null==v?void 0:v.module.id,modulesByArea:p.getModules()}).length;if(!v)return;const{module:x,position:b}=v;if(!(0,s().Fe)(x))throw new Error("[deleteModuleAtPosition] module to delete is not removeable");var S;(c().createAndCommitOrAppend({environment:t,transaction:o,canUndo:!0,perform(e){!function(e){const{transaction:t,layoutStore:o,moduleLocation:n,moduleToDelete:a,beforePerformDeleteModule:s}=e;s&&s(t);(0,l().V6)(a)&&(0,u().deleteViewsModuleDependencies)({layoutStore:o,viewsModule:a,transaction:t});if("form_conditional_modules"===n.area){const e=r().N4.removeChildModule({pointer:o.pointer,modulesByArea:o.getModules(),module:a});for(const n of e)c().applyOperation({transaction:t,store:o,operation:n})}else{const e="views_main_tab_modules"===n.area?{area:n.area,viewId:n.viewId}:{area:i().Zm[n.area]};c().applyOperation({transaction:t,store:o,operation:r().N4.deleteModuleInArea({...e,pointer:o.pointer,moduleId:a.id})})}}({environment:t,transaction:e,layoutStore:p,moduleLocation:b,moduleToDelete:x,beforePerformDeleteModule:g})},userAction:"pageLayout.deleteActions.deleteModuleAtPosition"}),m)&&d().PS({environment:t,module:x,sessionId:m,collectionId:null===(S=p.getCollectionModel())||void 0===S?void 0:S.id,layoutId:p.id,context:(0,i().We)(h.area),area:h.area,depth:y})}},934889:(e,t,o)=>{o.r(t),o.d(t,{clockIcon:()=>i,iconDefinition:()=>r});o(242343);var n=o(163643);const r={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M10.625 5.725a.625.625 0 1 0-1.25 0v3.65H6.4a.625.625 0 1 0 0 1.25H10c.345 0 .625-.28.625-.625z"}),(0,n.jsx)("path",{d:"M10 2.375a7.625 7.625 0 1 0 0 15.25 7.625 7.625 0 0 0 0-15.25M3.625 10a6.375 6.375 0 1 1 12.75 0 6.375 6.375 0 0 1-12.75 0"})]})},i=(0,o(680369).wt)("clock",r)},942260:(e,t,o)=>{o.r(t),o.d(t,{default:()=>r});class n extends(()=>o(129044))().default{getInitialState(){return{discussionIdToExpansionStartPointMap:{}}}}const r=new n},945335:(e,t,o)=>{o.d(t,{i:()=>n});const n=(0,o(680369).xh)("arrowUpRightSquare",{default:{loader:()=>o.e(43459).then(o.bind(o,694344))},small:{loader:()=>o.e(97517).then(o.bind(o,49846))},mini:{loader:()=>o.e(60475).then(o.bind(o,609856))},large:{loader:()=>o.e(3953).then(o.bind(o,901466))}})},951156:(e,t,o)=>{o.d(t,{A:()=>a});o(242343);var n=()=>o(803290),r=()=>o(518797),i=o(163643);const a=function(e){const{botValue:t,botStore:a,showActiveDot:s,style:l,size:c}=e,d=(0,o(653998).tz)(),u=(0,n().K8)((()=>{if(a){const e=a.getIcon();if(e)return{pointer:{table:r().GP,id:a.id,spaceId:a.getSpaceId()},icon:e}}else if(null!=t&&t.icon)return{pointer:{table:r().GP,id:t.id,spaceId:t.space_id},icon:t.icon}}),[a,t]),p=(0,n().K8)((()=>(null==a?void 0:a.getDisplayName(d))??(0,o(466003).Hg)(t)),[a,t,d]),{activeDotStyle:h}=(0,o(174114).IS)((e=>({activeDotStyle:{height:10,width:10,backgroundColor:e.accentColors.green[400],border:"2px solid white",borderRadius:"50%",position:"absolute",left:11,top:11}})),[]);return(0,i.jsxs)("div",{style:l,children:[(0,i.jsx)(o(28210).B,{icon:u,title:p,size:c||18,disabled:!0,isEmptyPage:!1,useInvertedColors:!0}),s?(0,i.jsx)("div",{style:h}):void 0]})}},957881:(e,t,o)=>{o.d(t,{w:()=>h});var n=o(242343),r=()=>o(237385),i=()=>o(803290),a=()=>o(174114),s=()=>o(791976),l=()=>o(759625),c=()=>o(84543),d=()=>o(28210),u=()=>o(219322),p=o(163643);function h(e){const{clickTitleBehavior:t,blockStore:o,format:s,shouldWrap:h}=e,g="edit"===t,f=(0,r().v3)(),[v,y,x]=(0,i().K8)((()=>[o.getIcon(),o.isEmptyPage(),o.isReady()&&"none"===o.getRole()]),[o]),{style:b}=(0,a().IS)((()=>({style:{flexShrink:0,marginRight:g?0:u().U[s].recordIconMarginRight,justifyContent:"flex-start",...h&&{display:"inline-block",verticalAlign:"text-top",marginBottom:-1}}})),[g,s,h]),S=(0,n.useCallback)((e=>{const t=o.getIconStore();t&&c().createAndCommit({userAction:"RelationToken.handleRecordIconChange",environment:f,canUndo:!0,perform:o=>{l().KY({store:t,value:e,transaction:o})}})}),[o,f]),w={icon:v,size:u().U[s].pageIconSize,isEmptyPage:y,style:b};return x?(0,p.jsx)(m,{...w}):g?(0,p.jsx)(d().B,{...w,disabled:!1,onChange:S,bucket:"public"}):(0,p.jsx)(d().B,{...w,disabled:!0})}function m(e){const t=(0,a().DP)();return(0,s().T)({...e.style,width:e.size,height:e.size,fill:t.icon.secondary,verticalAlign:"top",marginTop:1})}},982717:(e,t,o)=>{o.d(t,{A:()=>f});var n=o(242343),r=()=>o(16791),i=()=>o(237385),a=()=>o(803290),s=()=>o(755002),l=()=>o(653998),c=()=>o(220413),d=()=>o(975392),u=()=>o(31448),p=()=>o(141666),h=()=>o(615917),m=o(163643);const g={isRepositioning:!1};const f=function(e){const t=(0,n.useRef)(null),r=(0,i().v3)(),{isMobile:l}=(0,i().Y0)(),[c,u]=(0,n.useState)(g),h=(0,n.useCallback)((()=>{u(g)}),[]),{renderControl:f,onFlushTemporaryPosition:y,style:x,source:b,store:S}=e,{isRepositioning:w,image:C,startDragRenderedPosition:k,startDragImageScreenHeight:I}=c,A=(0,a().K8)((()=>0===o(182613).default.state.stores.length),[]),[T,M]=(0,n.useState)(!1),j=(0,a().uB)(e.mouseStore,o(116586).A),_=(0,a().K8)((()=>j.state.mouseEntered),[j]),P=(0,o(174114).IS)((()=>({dragContainer:{width:"100%",cursor:w?"move":"inherit"},container:{position:"relative",width:"100%",zIndex:1}})),[w]),E=(0,a().K8)((()=>function(e,t,o){return(0,d().Et)(o)?o:function(e,t){if("gallery"===e||"board"===e){const e=t.getFormat().card_cover_position;if((0,d().Et)(e))return e}const o=.5;if(t.isCollectionView()){const e=t.getCollectionStore();if(e){const t=e.getFormat().collection_cover_position;return(0,p().pN)(t)?o:t}}const n=t.getFormat(),r=n.page_cover_position;if((0,d().Et)(r))return r;return o}(e,t)}(b,S,c.temporaryPosition)),[c.temporaryPosition,b,S]);(0,n.useEffect)((()=>{const e=e=>{const o=t.current;o&&!o.contains(e.target)&&w&&y({imagePosition:E,reset:()=>{j.reset(),h()}})};return window.addEventListener("mousedown",e),()=>window.removeEventListener("mousedown",e)}),[E,w,j,y,h]),w&&!A&&h();const B=(0,n.useMemo)((()=>(0,d().nF)((e=>{j.setState({...j.state,mouseEntered:!0})}),100)),[j]),R=(0,n.useMemo)((()=>(0,d().sg)((e=>{j.setState({...j.state,mouseEntered:!1})}),100)),[j]),W=(0,n.useCallback)(((e,t)=>{o(360378).IU({environment:r});const n=new Image;n.onload=()=>{u((e=>({...e,isRepositioning:!0,image:n})))},t&&(n.src=t)}),[r]),z=(0,n.useCallback)((e=>{y({imagePosition:E,reset:()=>{h()}})}),[E,y,h]),F=(0,n.useCallback)((e=>{const t=e.target;void 0!==t&&t instanceof HTMLElement&&(0,o(152058).p)(t)&&M(!0)}),[]),D=(0,n.useCallback)((()=>{M(!0)}),[]),N=(0,n.useCallback)((e=>{if(C&&w){const e=t.current;if(e&&e instanceof Element){const t=e.getBoundingClientRect().width/C.width*C.height;u((e=>({...e,startDragImageScreenHeight:t,startDragRenderedPosition:E})))}}}),[C,E,w]),L=(0,n.useCallback)((e=>{if(w){const t=e.diffY/(I||0)+(k||0);u((e=>({...e,temporaryPosition:(0,d().LI)((0,o(944342).A)(t,0,1),4)})))}}),[w,I,k]),V=(0,n.useCallback)((()=>{u((e=>({...e,startDragImageScreenHeight:void 0,startDragRenderedPosition:void 0})))}),[]),U=(0,a().K8)((()=>f({handleRepositionClick:W,handleSavePositionClick:z,handleCancelClick:h,isVisible:l||_||T||w,isRepositioning:w})),[W,z,T,l,w,_,f,h]);return(0,m.jsxs)("div",{ref:t,onFocus:F,onBlur:D,onMouseEnter:B,onMouseMove:B,onMouseLeave:R,...(0,s().AH)(P.container,x),children:[(0,m.jsx)(o(928567).A,{onDraggableDragStart:N,onDraggableDragMove:L,onDraggableDragEnd:V,onDraggableDragCancel:V,disabled:!w,render:t=>(0,m.jsx)("div",{...(0,s().AH)(P.dragContainer),...t,children:e.render({imagePosition:E,isRepositioning:w})})}),(0,m.jsx)(v,{small:e.small,isRepositioning:w}),U]})};function v(e){let{small:t,isRepositioning:o}=e;if(t)return null;const n={background:c().Ay.blackWithAlpha(.4),borderRadius:4,color:c().Ay.white,fontSize:12,fontFamily:u().vc(r().locale).sans,width:180,left:"calc(50% - 90px)",padding:"0.3em 1.5em 0.3em",pointerEvents:"none",position:"absolute",top:"calc(50% - 10px)",textAlign:"center"};return(0,m.jsx)(h().A,{visible:o,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:n,children:(0,m.jsx)(l().sA,{defaultMessage:"Drag image to reposition",id:"withImageRepositioning.dragImage.text"})})}},984826:(e,t,o)=>{o.d(t,{I:()=>a,_:()=>i});const n={normalizedTitleWithIcon:!0,properties:!0,property_number:!0,property_title:!0,property_person:!0,property_file:!0,property_text:!0,property_checkbox:!0,property_url:!0,property_email:!0,property_phone_number:!0,property_created_by:!0,property_last_edited_by:!0,property_button:!0,property_select:!0,property_multi_select:!0,property_status:!0,property_date:!0,property_created_time:!0,property_last_edited_time:!0,property_last_visited_time:!0,property_relation:!0,property_rollup:!0,property_formula:!0,property_auto_increment_id:!0,property_location:!0,property_verification:!0,property_geo_point:!0,views:!0,viewsMain:!0,relationsGroup:!0,formQuestion:!0,placeholder:!0,deleted_property:!1,cover:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,transcript:!1,formTitle:!1,formSubmit:!1,recentActivity:!1,collaborators:!1,teamspaces:!1},r={properties:!0,property:!0,relationsGroup:!0,formQuestion:!0,placeholder:!0,titleWithIcon:!0,cover:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,transcript:!1,formTitle:!1,formSubmit:!1,views:!0,viewsMain:!0,collectionView:!0,collectionViewV2:!0,recentActivity:!1,collaborators:!1,teamspaces:!1};function i(e){return n[e.type]}function a(e){return r[e.type]}},992849:(e,t,o)=>{o.d(t,{p:()=>i});var n=()=>o(129978);const r=new(n().O2)("HelpButtonContent",(async()=>await o.e(42481).then(o.bind(o,718356)))),i=(0,n()._h)(r,(e=>e.HelpButtonContent))},996151:(e,t,o)=>{o.d(t,{K5:()=>p,Vp:()=>d,_u:()=>c,oP:()=>h,wC:()=>l,xN:()=>u});o(725707),o(491955),o(403517);var n=()=>o(728373),r=()=>o(984826),i=()=>o(946854),a=()=>o(220865);const s={page_main:[{id:"cover",type:"cover"},{id:"title_with_icon",type:"normalizedTitleWithIcon",propertyIds:[]},{id:"properties",type:"properties"},{id:"discussions",type:"discussions"},{id:"editor",type:"editor"}],page_details:[],form_layout_schema:[],person_profile_page_main:[],person_profile_page_details:[]},l={page_main:[{id:"title_with_icon",type:"normalizedTitleWithIcon",propertyIds:[]},{id:"editor",type:"editor"}],page_details:[],form_layout_schema:[],person_profile_page_main:[],person_profile_page_details:[]},c={page_main:[{id:"title_with_icon",type:"normalizedTitleWithIcon",propertyLabels:"hide",propertyIds:[]},{id:"editor",type:"editor"},{id:"discussions",type:"discussions"}],page_details:[],form_layout_schema:[],person_profile_page_main:[],person_profile_page_details:[]},d={page_main:[],page_details:[],form_layout_schema:[],person_profile_page_main:[{id:"cover",type:"cover"},{id:"title_with_icon",type:"normalizedTitleWithIcon",propertyIds:[]},{id:"recent_activity",type:"recentActivity"}],person_profile_page_details:[{id:"collaborators",type:"collaborators"},{id:"teamspaces",type:"teamspaces"}]};function u(e){return(0,a().jr)({modulesByArea:s,collectionSchema:null==e?void 0:e.collectionSchema,collectionFormat:null==e?void 0:e.collectionFormat})}function p(){return{page_layout_schema:(0,a().ke)(s.page_main).map((e=>{if(!(0,i().cn)(e))return(0,r().I)(e)?{...e,id:(0,n().Ay)()}:e})).filter((e=>void 0!==e)),page_info_layout_schema:(0,a().ke)(s.page_details).map((e=>{if(!(0,i().cn)(e))return(0,r().I)(e)?{...e,id:(0,n().Ay)()}:e})).filter((e=>void 0!==e)),form_layout_schema:void 0,person_profile_page_main:void 0,person_profile_page_details:void 0}}function h(e,t){const o=void 0===t?[{id:(0,n().Ay)(),type:"formQuestion",formQuestionId:e}]:[{id:(0,n().Ay)(),type:"formQuestion",formQuestionId:e},{id:(0,n().Ay)(),type:"formQuestion",formQuestionId:t}];return{page_layout_schema:void 0,page_info_layout_schema:void 0,person_profile_page_main:void 0,person_profile_page_details:void 0,form_layout_schema:[{id:(0,n().Ay)(),type:"cover"},{id:(0,n().Ay)(),type:"formTitle"},...o,{id:(0,n().Ay)(),type:"formSubmit"}]}}}}]);