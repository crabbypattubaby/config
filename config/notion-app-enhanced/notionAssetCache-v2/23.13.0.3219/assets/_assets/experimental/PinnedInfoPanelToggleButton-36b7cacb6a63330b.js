"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[7989],{318942:(e,o,t)=>{t.r(o),t.d(o,{default:()=>f});var l=t(242343),n=()=>t(174114),a=()=>t(711361),i=()=>t(653998),s=()=>t(388615),r=()=>t(209684),u=()=>t(356813),c=()=>t(103151),p=()=>t(907721),g=()=>t(971637),d=t(163643);const P=(0,i().YK)({ariaLabel:{id:"Layouts.InfoPanelToggleButton.ariaLabel",defaultMessage:"Show/close details panel"},buttonLabel:{id:"Layouts.InfoPanelToggleButton.show",defaultMessage:"Hide details"},buttonLabelNoProperties:{id:"Layouts.InfoPanelToggleButton.showNoProperties",defaultMessage:"View details"},buttonLabelClose:{id:"Layouts.InfoPanelToggleButton.close",defaultMessage:"Hide details"},tooltipShow:{id:"Layouts.InfoPanelToggleButton.tooltip.show",defaultMessage:"View details"},tooltipShowNoProperties:{id:"Layouts.InfoPanelToggleButton.tooltip.showNoProperties",defaultMessage:"Open details panel"},tooltipClose:{id:"Layouts.InfoPanelToggleButton.tooltip.close",defaultMessage:"Hide details"}});function f(e){const{collectionStore:o,variant:t,pageViewBlockContext:f}=e,h=(0,i().tz)(),S=(0,n().IS)((e=>({icon:{fill:e.icon.secondary}})),[]),{toggleDetailsPanel:b,isDetailsPanelOpen:w,pageDetailsPropertiesCount:C,canShowButton:L}=(0,g().q)({collectionStore:o,from:"more_properties",forceShowButtonIfNoProperties:!0,pageViewBlockContext:f});let k=P.buttonLabelClose;w||(k=C?P.buttonLabel:P.buttonLabelNoProperties);const B=l.useCallback((e=>"compact"===t?(0,d.jsx)(u().A,{icon:a()._,iconStyle:S.icon,ariaLabel:h.formatMessage(P.ariaLabel),onClick:b,style:{width:30,height:30},...e}):(0,d.jsx)(r().p,{icon:a()._,iconStyle:S.icon,isGray:!0,onClick:b,...e,children:(0,d.jsx)(i().sA,{...k,values:{propertiesCount:C}})})),[t,S.icon,h,b,k,C]);if(!L)return null;let I=P.tooltipClose;return w||(I=C?P.tooltipShow:P.tooltipShowNoProperties),(0,d.jsx)(c().A,{render:e=>(0,d.jsx)(s().s,{allowSelectionWithin:!1,children:(0,d.jsx)(B,{...e})}),alignment:p().C.Center,placement:p().W.Right,disableTooltip:"full"===t,renderTooltip:()=>(0,d.jsx)(i().sA,{...I,values:{propertiesCount:C}})})}},971637:(e,o,t)=>{t.d(o,{q:()=>p});var l=t(242343),n=()=>t(237385),a=()=>t(803290),i=()=>t(520852),s=()=>t(797470),r=()=>t(338484),u=()=>t(604284),c=()=>t(656473);function p(e){const{collectionStore:o,from:t,forceShowButtonIfNoProperties:p,pageViewBlockContext:g}=e,d=(0,a().K8)((()=>null==o?void 0:o.getLayoutStore()),[o]),P=(0,n().v3)(),f=g===s().Rr.PeekView,h=(0,a().K8)((()=>c().A.getPanelState(f?"peek":"mainPage").isOpen),[f]),S=(0,a().K8)((()=>!!o&&(0,i().v)({collectionStore:o,collectionViewBlockStore:o.getParentBlockStore(),checkNavigableAncestorLocked:!1})),[o]),b=(0,a().K8)((()=>!!d&&d.getModules().page_details.length>0),[d]),{count:w,isPropertiesModuleInPageDetails:C}=(0,a().K8)((()=>b&&o?(0,u().pm)({collectionStore:o}):{count:0,isPropertiesModuleInPageDetails:!1}),[b,o]),L=l.useCallback((()=>{if(!d)return;const e={environment:P,layoutStore:d,from:t,panelLocation:f?"peek":"mainPage"};h?(0,r().F)(e):(0,r().j)(e)}),[P,t,h,f,d]),k=l.useMemo((()=>g!==s().Rr.InPageSnapShot&&(g!==s().Rr.DraftPostInInlineComposer&&(w>0||!!p&&(C&&S)))),[g,w,p,C,S]);return{pageDetailsPropertiesCount:w,toggleDetailsPanel:L,isDetailsPanelOpen:h,pageDetailsHasModules:b,canShowButton:k}}}}]);