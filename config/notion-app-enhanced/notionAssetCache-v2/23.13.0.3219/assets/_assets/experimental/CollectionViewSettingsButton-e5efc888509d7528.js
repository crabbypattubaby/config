"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[21871],{137696:(e,t,o)=>{o.d(t,{$X:()=>r,H8:()=>a,x2:()=>i});var n=()=>o(76394);function i(e){return"event"===e||"recurrence"===e}function r(e){const t=e.getTrigger();return(0,n().O9)(t)&&i(t.type)}function a(e){return"event"===e?"event":"recurrence"===e?"recurrence":void(0,n().HB)(e)}},148071:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>n,slidersSmallIcon:()=>i});o(242343);const n={viewBox:"0 0 16 16",svg:(0,o(163643).jsx)("path",{d:"M2.25 5.531h5.692a2.126 2.126 0 0 0 4.116 0h1.692a.625.625 0 1 0 0-1.25H12a2.126 2.126 0 0 0-4 0H2.25a.625.625 0 1 0 0 1.25M10 4.125a.875.875 0 1 1 0 1.75.875.875 0 0 1 0-1.75m-4 9c.921 0 1.706-.586 2-1.406h5.75a.625.625 0 0 0 0-1.25H8.058a2.126 2.126 0 0 0-4.116 0H2.25a.625.625 0 1 0 0 1.25H4a2.13 2.13 0 0 0 2 1.406m0-1.25a.875.875 0 1 1 0-1.75.875.875 0 0 1 0 1.75"})},i=(0,o(680369).wt)("slidersSmall",n)},229419:(e,t,o)=>{o.d(t,{C8:()=>d,Dz:()=>s,GC:()=>m,GL:()=>f,YY:()=>y,dM:()=>u,h9:()=>c,jX:()=>l,oF:()=>p,uj:()=>a});var n=()=>o(129978);const i={JiraSyncInfoPopup:new(n().O2)("JiraSyncInfoPopup",(async()=>await Promise.all([o.e(75134),o.e(68744)]).then(o.bind(o,917262)))),ImproveJiraSyncPopup:new(n().O2)("ImproveJiraSyncPopup",(async()=>await Promise.all([o.e(75134),o.e(2686)]).then(o.bind(o,800444)))),JiraDCAuthModal:new(n().O2)("JiraDCAuthModal",(async()=>await o.e(28763).then(o.bind(o,114124)))),ExternalImportAndSyncIndicator:new(n().O2)("ExternalImportAndSyncIndicator",(async()=>await o.e(98288).then(o.bind(o,988714)))),JiraSyncedAllProjectsTooltip:new(n().O2)("JiraSyncedAllProjectsTooltip",(async()=>await o.e(21446).then(o.bind(o,374415)))),JiraSyncedAllIssuesTooltip:new(n().O2)("JiraSyncedAllIssuesTooltip",(async()=>await o.e(21446).then(o.bind(o,374415)))),JiraSyncedDatabaseViewsAndFiltersTooltip:new(n().O2)("JiraSyncedDatabaseViewsAndFiltersTooltip",(async()=>await o.e(21446).then(o.bind(o,374415)))),JiraSyncSourceTooltip:new(n().O2)("JiraSyncSourceTooltip",(async()=>await o.e(21446).then(o.bind(o,374415)))),JiraSyncedSettingsToSetupProjectsAndIssuesTooltip:new(n().O2)("JiraSyncedSettingsToSetupProjectsAndIssuesTooltip",(async()=>await o.e(21446).then(o.bind(o,374415))))},r={JiraSyncTeamSpaceModal:new(n().O2)("JiraSyncTeamSpaceModal",(async()=>Promise.all([o.e(96159),o.e(56188)]).then(o.bind(o,35705))))},a=(0,n()._h)(r.JiraSyncTeamSpaceModal,(e=>e.default)),l=(0,n()._h)(i.JiraSyncedAllProjectsTooltip,(e=>e.JiraSyncedAllProjectsTooltip)),s=(0,n()._h)(i.JiraDCAuthModal,(e=>e.default)),c=(0,n()._h)(i.JiraSyncedAllIssuesTooltip,(e=>e.JiraSyncedAllIssuesTooltip)),u=(0,n()._h)(i.JiraSyncedDatabaseViewsAndFiltersTooltip,(e=>e.JiraSyncedDatabaseViewsAndFiltersTooltip)),p=(0,n()._h)(i.JiraSyncedSettingsToSetupProjectsAndIssuesTooltip,(e=>e.JiraSyncedSettingsToSetupProjectsAndIssuesTooltip)),d=(0,n()._h)(i.JiraSyncSourceTooltip,(e=>e.JiraSyncSourceTooltip)),y=(0,n()._h)(i.JiraSyncInfoPopup,(e=>e.JiraSyncInfoPopup)),m=(0,n()._h)(i.ImproveJiraSyncPopup,(e=>e.ImproveJiraSyncPopup)),f=(0,n()._h)(i.ExternalImportAndSyncIndicator,(e=>e.ExternalImportAndSyncIndicator));(0,o(680369).xh)("jira",{default:{loader:()=>o.e(60677).then(o.bind(o,832398)),size:20},small:{loader:()=>o.e(60677).then(o.bind(o,832398)),size:16},mini:{loader:()=>o.e(60677).then(o.bind(o,832398)),size:14},large:{loader:()=>o.e(60677).then(o.bind(o,832398)),size:24}})},271142:(e,t,o)=>{o.d(t,{EC:()=>T,To:()=>_,YC:()=>w,or:()=>v,u:()=>h});o(610931);var n=o(242343),i=()=>o(237385),r=()=>o(803290),a=()=>o(496985),l=()=>o(232312),s=()=>o(653998),c=()=>o(76394),u=()=>o(337658),p=()=>o(73631),d=()=>o(137696),y=()=>o(129978),m=()=>o(113800),f=()=>o(830925),b=o(163643);const S=new WeakMap,g=(0,n.createContext)({automationStore:void 0,contextType:void 0,defined:!1,typecheckResult:void 0});g.displayName="AutomationContext";function h(e){const{automationStore:t,children:o,contextType:n}=e,h=(0,i().v3)(),v=(0,s().tz)(),{value:_}=(0,y().fJ)(p().T.formulas),{value:T}=(0,y().fJ)(u().QV.automationTypecheck),w=(0,f().n)(t),x=(0,r().K8)((()=>{if(!_)return{error:new(l().N9)("Missing formulas dependency")};if(!T)return{error:new(l().N9)("Missing automation dependency")};const e=function(e){const{environment:t,automationStore:o,automationTypecheckModule:n,contextType:i,formulasModule:r,intl:l,isSubscribed:s}=e,u=S.get(o);if(u)return u;{const e=new(a().default)((()=>{const e=o.getTriggerType();let a=i;return(0,c().O9)(e)&&(0,d().x2)(e)&&(a=(0,d().H8)(e)),(0,m().Z)({environment:t,automationStore:o,automationTypecheckModule:n,contextType:a,formulasModule:r,intl:l,isSubscribed:s})}),{debugName:"automationContextTypecheckResultCachedStore"});return S.set(o,e),e}}({environment:h,automationStore:t,automationTypecheckModule:T,contextType:n,formulasModule:_,intl:v,isSubscribed:w});return e.state}),[h,t,T,n,_,v,w]);return(0,b.jsx)(g.Provider,{value:{automationStore:t,typecheckResult:x,contextType:n,defined:!0},children:o})}function v(e){const{automationStore:t,children:o}=e,n=(0,r().K8)((()=>{var e;return null===(e=t.getTrigger())||void 0===e?void 0:e.type}),[t]);return(0,b.jsx)(h,{automationStore:t,contextType:(0,d().H8)(n??"event"),children:o})}function _(e){var t;return null===(t=S.get(e))||void 0===t?void 0:t.state}function T(){const e=n.useContext(g);if(!1===e.defined)throw new Error("No automation context found!");return e}function w(){return n.useContext(g)}},433364:(e,t,o)=>{o.d(t,{KD:()=>c,gt:()=>u,i9:()=>s,ll:()=>a,tb:()=>l,x$:()=>r});var n=()=>o(612408),i=()=>o(975392);function r(e,t){return a(u(e,t))}function a(e){return void 0!==e&&(e===n().q_||e===n().YD)}function l(e,t){if(a(t))return;const o=n().c$[e],i=o.steps.findIndex((e=>e.id===t));return-1===i?o.steps[0].id:i===o.steps.length-1?n().q_:o.steps[i+1].id}function s(e,t){const o=u(e,t);if(o&&!a(o))return l(t,o)}function c(e,t){const o=u(e,t);if(o)return function(e,t){const o=n().c$[e];var r;if(a(t))return null===(r=(0,i().HV)(o.steps))||void 0===r?void 0:r.id;const l=o.steps.findIndex((e=>e.id===t));return-1!==l&&0!==l?o.steps[l-1].id:void 0}(t,o)}function u(e,t){var o;if(!e)return;const i=((null===(o=e.getSettings())||void 0===o?void 0:o.tutorials)||{})[t];return void 0===i?n().c$[t].steps[0].id:i}},475923:(e,t,o)=>{o.d(t,{Bd:()=>l,DN:()=>m,II:()=>h,R8:()=>g,U9:()=>S,VM:()=>b,ZF:()=>d,ZI:()=>u,bf:()=>c,jx:()=>p,wW:()=>f,xO:()=>s});o(610931),o(242343);var n=()=>o(810111),i=()=>o(653998),r=()=>o(141122),a=o(163643);let l=function(e){return e[e.ViewSettings=0]="ViewSettings",e[e.FilterBar=1]="FilterBar",e[e.TopbarFilterPopup=2]="TopbarFilterPopup",e[e.TopbarSortPopup=3]="TopbarSortPopup",e[e.TopbarFollowPopup=4]="TopbarFollowPopup",e}({});const s=480,c=320;function u(e){const{timelineViewTab:t,collectionContextStore:o}=e,i=p({collectionContextStore:o}),r=d({collectionContextStore:o});return"timeline"===i?"timeline"===t?"timeline_properties":r?"timeline_table_properties":void 0:(0,n().u9)(p({collectionContextStore:o}))}function p(e){var t;const{collectionContextStore:o}=e,n=null===(t=o.collectionViewStore())||void 0===t?void 0:t.getType();if(!n)throw new Error("View type was not defined.");return n}function d(e){const{collectionContextStore:t}=e,o=t.normalizedFormatStore.state;return Boolean(o.timeline_show_table)}const y=600;function m(e,t,o){const n=o||0,i=e.settingsStore.state;if(i.open&&!0!==i.hideSettingsPopup)return f(e,t,n)}function f(e,t,o){const n=o||0,i=e.settingsStore.state,a=p({collectionContextStore:e});return i.open&&"form_editor"===a||t||r().default.isSidePeekOpen()||e.isInHomeWidgetStore.state||e.isInlineViewStore.state||n<=y?"popup":"sidebar"}function b(e){let{sourceCollectionCount:t,linkedCollectionCount:o,isCollectionViewPageWithContent:n,locked:r}=e;return n?r?(0,a.jsx)(i().sA,{defaultMessage:"Unlock wiki",id:"action.unlockWikiName.name"}):(0,a.jsx)(i().sA,{defaultMessage:"Lock wiki",id:"action.lockWikiName.name"}):0===t?r?(0,a.jsx)(i().sA,{defaultMessage:"Unlock views",id:"database.viewSettings.mainTab.unlockViews.title"}):(0,a.jsx)(i().sA,{defaultMessage:"Lock views",id:"database.viewSettings.mainTab.lockViews.title"}):1===t&&0===o?r?(0,a.jsx)(i().sA,{defaultMessage:"Unlock database",id:"database.viewSettings.mainTab.unlockDatabase.title"}):(0,a.jsx)(i().sA,{defaultMessage:"Lock database",id:"database.viewSettings.mainTab.lockDatabase.title"}):r?(0,a.jsx)(i().sA,{defaultMessage:"Unlock databases",id:"database.viewSettings.mainTab.unlockDatabases.title"}):(0,a.jsx)(i().sA,{defaultMessage:"Lock databases",id:"database.viewSettings.mainTab.lockDatabases.title"})}let S=function(e){return e[e.Source=0]="Source",e[e.Relation=1]="Relation",e[e.Automation=2]="Automation",e}({});const g=6;function h(e){let{currentViewType:t,isPlaceholderExternalCollection:o,collectionContextStore:n,allowedActions:i,settingsHeaderSizeObserver:r}=e;return"page"!==t&&"form_editor"!==t&&(!o&&(!!n.shouldAllowNewItemCreation()&&(!(i&&!i.includes("addItem"))&&!(r&&r.rect.state.width>c))))}},496451:(e,t,o)=>{o.r(t),o.d(t,{default:()=>J});var n=o(242343),i=()=>o(237385),r=()=>o(803290),a=()=>o(174114),l=()=>o(533666),s=()=>o(148071),c=()=>o(680369),u=()=>o(730950),p=()=>o(32901),d=()=>o(236339),y=()=>o(521325),m=()=>o(983050),f=()=>o(475923),b=()=>o(950808),S=()=>o(502852),g=()=>o(477784),h=()=>o(433364),v=()=>o(622286),_=()=>o(266963),T=()=>o(485966),w=()=>o(155352),x=()=>o(802955),k=()=>o(963768),I=()=>o(970709),C=()=>o(356813),P=()=>o(103151),A=()=>o(229419),j=o(163643);const M=(0,o(653998).YK)({tooltipLabel:{defaultMessage:"Edit view layout, grouping and more...",id:"database.collectionViewSettingsButton.openViewSettingsButton.tooltip"},formTooltipLabel:{defaultMessage:"Edit form, add questions and more...",id:"database.collectionViewSettingsButton.openFormSettingsButton.tooltip"}});function J(e){const t=(0,i().Y0)(),{collectionContextStore:o,hideTooltip:J,settingsHeaderSizeObserver:O}=e,F=(0,i().v3)(),V=(0,v().X)("db_ux_chrome"),D=!(0,r().O$)(x().e),W=(0,r().K8)((()=>o.collectionViewStore()),[o]),E=(0,r().K8)((()=>null==W?void 0:W.getType()),[W]),B=(0,r().K8)((()=>o.settingsStore),[o]),K=(0,r().K8)((()=>B.state.open),[B]),H=(0,r().K8)((()=>(0,w().S)(B)),[B]),L=(0,r().K8)((()=>T().default.state.currentUserSettingsStore),[]),{jiraSyncOnboardingTourState:R,currentTutorialStep:Y}=(0,r().K8)((()=>{var e;return{jiraSyncOnboardingTourState:null==L||null===(e=L.getSettings())||void 0===e?void 0:e.jira_sync_onboarding_tour_state,currentTutorialStep:(0,h().gt)(L,"jira-sync-onboarding")}}),[L]),z=(0,r().K8)((()=>{var e;return null===(e=T().default.state.mainEditorCurrentBlockStore)||void 0===e?void 0:e.canEdit()}),[]),N=(0,r().K8)((()=>k().Ay.state.showOnboardingTour),[]),U=(0,r().K8)((()=>_().default.isVisible("workflow_template_installation")),[]),$=!(0,b()._T)({tab:H}),q=(0,r().O$)(o.collectionActionsMinimizedStore),G=(0,r().K8)((()=>O&&O.rect.state.width<f().bf),[O]),X=(0,n.useMemo)((()=>V?q||G?l().Y:s().slidersSmallIcon:l().Y),[V,q,G]),Q=(0,n.useCallback)((e=>{(0,S().SQ)({event:e,context:S().y$.CollectionSettingsClick,callback:()=>{const e=o.settingsStore;e.state.open?y().os({collectionSettingsStore:e}):y().Ow({collectionContextStore:o,collectionSettingsStore:e})}}),(0,d().X)({environment:F,collectionContextStore:o,action:"click_topbar_view_settings"})}),[o,F]),Z=(0,a().IS)((e=>({iconStyle:{width:c().Ev.sm,height:c().Ev.sm,fill:e.mediumIconColor}})),[]),ee=(0,n.useRef)(null);if("page"===E||"form_editor"===E&&t.isMobile)return null;const te=D&&("form_editor"===E||"chart"===E),oe=function(e){let{hideTooltip:t,showJiraSyncOnboardingTourCallout:o,showingWorkflowTemplateTour:n,unavailableOffline:i}=e;if(i)return"offline";if(o)return"jira-onboarding";if(n)return"workflow-template-tour";return t?"none":"default"}({hideTooltip:J??!1,showJiraSyncOnboardingTourCallout:(N||"notSeenSettingsTooltip"===R)&&"settings-to-setup-projects-and-issues"===Y,showingWorkflowTemplateTour:U,unavailableOffline:te});let ne=g().A.formatMessage(M.tooltipLabel);te?ne=g().A.formatMessage(p().AY.unavailableOfflineTooltip):"form_editor"===E&&(ne=g().A.formatMessage(M.formTooltipLabel));const ie=(0,j.jsx)(C().A,{ref:ee,ariaLabel:ne,className:m().Ex9,icon:X,style:"jira-onboarding"===oe&&z?{...e.style,boxShadow:u().p.outlineBlueInputBoxShadow.light,borderRadius:6}:e.style,iconStyle:Z.iconStyle,hovered:K&&$,onClick:Q,disabled:te}),re="offline"===oe||"default"===oe;return(0,j.jsx)(P().A,{disableTooltip:!re,renderTooltip:()=>ne,render:e=>(0,j.jsxs)("div",{...e,children:["workflow-template-tour"===oe?(0,j.jsx)(I().lC,{collectionContextStore:o,step:"customize",containerRef:ee,children:ie}):ie,"jira-onboarding"===oe?(0,j.jsx)(A().oF,{origin:ee,hasEditPermissions:z??!0}):null]})})}},533666:(e,t,o)=>{o.d(t,{Y:()=>i});o(242343);const n={viewBox:"0 0 16 16",svg:(0,o(163643).jsx)("path",{d:"M3.2 6.725a1.275 1.275 0 1 0 0 2.55 1.275 1.275 0 0 0 0-2.55m4.8 0a1.275 1.275 0 1 0 0 2.55 1.275 1.275 0 0 0 0-2.55m4.8 0a1.275 1.275 0 1 0 0 2.55 1.275 1.275 0 0 0 0-2.55"})},i=(0,o(680369).wt)("ellipsisSmall",n)},612408:(e,t,o)=>{o.d(t,{YD:()=>r,c$:()=>n,q_:()=>i});const n={"sprints-onboarding":{steps:[{id:"current-sprint-view-tooltip"},{id:"sprint-task-tooltip"},{id:"complete-sprint-button-tooltip"}]},"enhanced-qna-onboarding":{steps:[{id:"find-in-tooltip"},{id:"mention-tooltip"}]},"jira-sync-onboarding":{steps:[{id:"all-projects-tooltip"},{id:"all-issues-tooltip"},{id:"database-views-and-filters-tooltip"},{id:"settings-to-setup-projects-and-issues"}]},"project-management-import-onboarding":{steps:[{id:"your-teamspace-tooltip"},{id:"all-projects-tooltip"},{id:"navigate-to-project-tasks-tooltip"},{id:"project-customization-tooltip"},{id:"related-tasks-database-views-tooltip"}]},"ai-comment-onboarding":{steps:[{id:"ai-comment-onboarding-tooltip"}]}},i="completed",r="dismissed"},911575:(e,t,o)=>{o.d(t,{$0:()=>b,Fx:()=>w,Ge:()=>y,I3:()=>p,Kj:()=>_,PP:()=>x,TK:()=>k,Yy:()=>u,aE:()=>I,cQ:()=>T,kH:()=>m,m7:()=>d,nq:()=>h,nv:()=>S,tj:()=>f});o(725707),o(491955),o(113085);var n=()=>o(975392),i=()=>o(76394),r=()=>o(564134),a=()=>o(810111),l=()=>o(479056),s=()=>o(875089);(0,i().u0)((e=>(0,i().O9)(e)&&(0,i().O9)(e.target)&&(0,i().O9)(e.external_bot_id)?{true:{external_bot_id:e.external_bot_id,target:e.target,custom_message:e.custom_message}}:{false:e}));const c={checkbox:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,auto_increment_id:!1,button:!1,created_by:!1,created_time:!1,file:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1,geo_point:!1},u={checkbox:[{type:"checkbox"}],date:[{type:"date"}],email:[{type:"text"}],multi_select:[{type:"text"},{of:{type:"text"},type:"array"}],number:[{type:"number"}],person:[{type:"person"},{of:{type:"person"},type:"array"}],phone_number:[{type:"text"}],relation:[{type:"block"},{of:{type:"block"},type:"array"}],select:[{type:"text"},{of:{type:"text"},type:"array"}],status:[{type:"text"},{of:{type:"text"},type:"array"}],text:void 0,title:void 0,url:[{type:"text"}]};function p(e){return Boolean(c[e.type]&&!(0,r().UU)(e)&&(!(0,r().$M)(e)||void 0===(0,r().om)(e)))}function d(e){const{collectionFormat:t,collectionSchema:o,filter:l,sort:c,sourcePropertyIds:u}=e,d=(u??(0,i().uv)(o)).filter(((t,n,i)=>{const a=o[t];return!(!a||!p(a))&&(("relation"!==a.type||!e.restrictCrossSpace||!(0,r().o2)(e.spaceId,a))&&(!l||l([t,a],n,o)))}));if(0===d.length)return[];if(!t||!1===c)return d;const y=(0,s().L)(t,o,void 0,a().jf.Page).collection_page_properties||[];return n().Ul(d,(e=>y.findIndex((t=>t.property===e))))}function y(e){const{collectionFormat:t,collectionSchema:o,sort:l}=e,c=(0,i().uv)(o).filter(((e,t,n)=>{const i=o[e];return!(!i||!(0,r().JY)(i))}));if(0===c.length)return[];if(!t||!1===l)return c;const u=(0,s().L)(t,o,void 0,a().jf.Page).collection_page_properties||[];return n().Ul(c,(e=>u.findIndex((t=>t.property===e))))}function m(e){return e.type===l().M9.InvalidCharacter?{type:e.type,character:e.character}:e.type===l().M9.TokenExpected?{type:e.type,token:e.token}:e.type===l().uW.MissingSchemaPropertyOnThisRow||e.type===l().uW.MissingSchemaPropertyOnCollection?{type:e.type,collectionId:e.collectionId,property:e.property}:e.type===l().uW.ThisRowBlockPropertyMismatchCollection?{type:e.type,thisRowCollection:e.thisRowCollection}:e.type===l().uW.MissingContextVariable?{type:e.type,valueId:e.valueId}:e.type===l().uW.FunctionCallTooFewArguments?{type:e.type,numArguments:e.numArguments}:e.type===l().uW.FunctionCallUnexpectedArgument?{type:e.type,parameterIndex:e.parameterIndex}:e.type===l().uW.FunctionCallArgumentWrongType?{type:e.type,argumentType:e.argumentType,libraryFunctionName:e.libraryFunction.name,parameterIndex:e.parameterIndex}:e.type===l().uW.MissingDataDependencyBlock?{type:e.type,blockPointer:e.blockPointer,node:e.node}:e.type===l().uW.MissingDataDependencyPerson?{type:e.type,personPointer:e.personPointer}:e.type===l().uW.MemberPropertyMismatchCollection?{type:e.type,blockCollection:e.blockCollection}:e.type===l().uW.DownstreamParseFailure?{type:e.type,collectionId:e.collectionId,property:e.property}:e.type===l().uW.ContextVariableWrongType?{type:e.type,valueId:e.valueId,expectedType:e.expectedType,resultType:e.resultType}:e.type===l().uW.DisallowedValueType?{type:e.type,expressionValue:e.expressionValue,allowedValueTypes:e.allowedValueTypes}:e.type===l().uW.LibraryFunctionExecutionError?{type:e.type,error:e.error,libraryFunctionName:e.libraryFunction.name}:{type:e.type}}const f={checkbox:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,button:!1,file:!1,verification:!1,auto_increment_id:!1,created_by:!1,created_time:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,geo_point:!1};function b(e){return Boolean(f[e.type])}function S(e){const{collectionFormat:t,collectionSchema:o,filter:l,sort:c}=e,u=(0,i().uv)(o).filter(((e,t,n)=>{var i;const a=o[e];return!(!a||!f[a.type])&&((!(0,r().$M)(a)||null===(i=(0,r().om)(a))||void 0===i||!i.auto_update_on_edit)&&(!l||l([e,a],t,o)))}));if(0===u.length)return[];if(!t||!1===c)return u;const p=(0,s().L)(t,o,void 0,a().jf.Page).collection_page_properties||[];return n().Ul(u,(e=>p.findIndex((t=>t.property===e))))}const g={checkbox:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,auto_increment_id:!1,button:!1,created_by:!1,created_time:!1,date:!1,file:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1,geo_point:!1};function h(e){return g[e.type]}const v={checkbox:!0,created_by:!0,created_time:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,last_edited_by:!0,last_edited_time:!0,auto_increment_id:!1,button:!1,file:!1,formula:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1,geo_point:!1};function _(e){return v[e.type]}function T(e){return 0===e}function w(e){return function(e){return"button_block"===e||"button_property"===e}(e)}function x(e){const{property:t,collectionSchema:o}=e;return!!o&&!o[t]}function k(e){const{collectionSchema:t,property:o,type:n}=e,i=null==t?void 0:t[o];return!i||("action"===n?!p(i):!f[i.type])}function I(e){let{automationTrigger:t,collectionSchema:o}=e;if("event"===(null==t?void 0:t.type)){const{pagesAdded:e,pagePropertiesEdited:n,source:r,relativeDate:a}=t.event;if(void 0===r)return!1;const l="some"===n.type&&n.some,s="all"===n.type&&n.all;if((l||s||[]).some((e=>x({collectionSchema:o,property:e.property})||k({collectionSchema:o,property:e.property,type:"trigger"}))))return!1;const c="some"===n.type&&(!(0,i().O9)(n.some)||0===n.some.length),u="all"===n.type&&(!(0,i().O9)(n.all)||0===n.all.length);if(!e&&("none"===n.type||c||u)&&!a)return!1}else{if("recurrence"!==(null==t?void 0:t.type))return!1;if(!t.recurrence)return!1}return!0}},970709:(e,t,o)=>{o.d(t,{DG:()=>a,lC:()=>r});var n=()=>o(129978);const i={postInstallTourTooltip:new(n().O2)("workflowTemplateTourTooltip",(()=>o.e(99013).then(o.bind(o,141772)))),onboardingPills:new(n().O2)("onboardingPills",(()=>o.e(96431).then(o.bind(o,379636))))},r=(0,n()._h)(i.postInstallTourTooltip,(e=>e.WorkflowTemplateTourTooltip)),a=(0,n()._h)(i.onboardingPills,(e=>e.PostInstallPills))}}]);