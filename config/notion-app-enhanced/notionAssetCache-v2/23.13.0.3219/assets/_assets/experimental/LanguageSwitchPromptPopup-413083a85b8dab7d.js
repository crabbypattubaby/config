"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[45915],{518711:(t,e,a)=>{a.r(e),a.d(e,{LanguageSwitchPromptPopup:()=>v});var i=a(242343),n=()=>a(237385),o=()=>a(803290),s=()=>a(682369),l=()=>a(994682),r=()=>a(707781),u=()=>a(653998),g=()=>a(336519),p=()=>a(773253),c=()=>a(84543),_=()=>a(658388),m=()=>a(689248),d=()=>a(148732),h=()=>a(266963),S=()=>a(485966),w=()=>a(330358),f=a(163643);function v(){const t=(0,n().v3)(),e=(0,u().tz)(),{currentUserSettingsStore:a,inAppCalloutStore:v}=(0,o().K8)((()=>({currentUserSettingsStore:S().default.state.currentUserSettingsStore,inAppCalloutStore:S().default.state.inAppCalloutStore})),[]),[y,T,k]=(0,o().K8)((()=>{const t=h().default.isVisible("language_switch_prompt"),e=null==a?void 0:a.getSettings(),i=(null==e?void 0:e.language_switching_prompt_dismissals)||[],n=(null==e?void 0:e.preferred_locale)||r().q,o=(0,r().A_)(n,i),s=void 0!==o&&(null==i?void 0:i.includes(o));return[t&&!s,i,o]}),[a]),b=(0,i.useMemo)((()=>{if(!k)return;return function(t,e,a,i){const n=(0,l().V)(a)[e].label;return{presentationType:"persistent",id:"language_switch_prompt_toast",title:a.formatMessage({id:"languageSwitchPromptToast.title",defaultMessage:"Use Notion in your preferred language"}),jsxMessage:(0,f.jsx)(u().sA,{id:"languageSwitchPromptToast.description",defaultMessage:"Find the language you love. Try {languageName} now",values:{languageName:n}}),actions:{primary:{title:a.formatMessage({id:"languageSwitchPromptToast.clickThrough",defaultMessage:"Go to Settings"}),onAction:()=>{g().Ow({currentTab:"language_and_region",isMobile:!1,highlightedSetting:w().r.LanguageSetting}),i(),(0,d().Y5)(t,{callout_key:"language_switch_prompt",variant:e,click_type:"primary_cta",placement_key:"Tooltip"}),p().UW("language_switch_prompt_toast")}}},onDismiss:()=>{i()},onUserDismiss:()=>{(0,d().Sq)(t,{callout_key:"language_switch_prompt",variant:e,dismiss_type:"tooltip_dismiss",placement_key:"Tooltip"})}}}(t,k,e,(()=>{a&&(c().createAndCommit({userAction:"languageSwitchPromptToast.action",environment:t,canUndo:!0,perform(t){_().mJ({userSettingsStore:a,data:{language_switching_prompt_dismissals:T.concat(k)},transaction:t})}}),m().a(t,"language_switch_prompt"))}))}),[a,t,e,k,T]);return(0,s().A)((()=>{b&&p().HK(b),v.updateCalloutStatus({calloutId:"language_switch_prompt",visible:!0}),(0,d().DL)(t,{callout_key:"language_switch_prompt",variant:k,placement_key:"Tooltip"})}),y),null}}}]);