"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[15529,15961,34420,77970,89693,98942],{5724:(e,t,o)=>{o.d(t,{H:()=>j,Mq:()=>P,oA:()=>T});o(403517);var n=o(242343),r=()=>o(237385),i=()=>o(803290),a=()=>o(174114),s=()=>o(994966),l=()=>o(22599),d=()=>o(709330),c=()=>o(120844),u=()=>o(680369),p=()=>o(34662),m=()=>o(653998),g=()=>o(188877),h=()=>o(975392),f=()=>o(858023),y=()=>o(701270),v=()=>o(88271),b=()=>o(194585),x=()=>o(940445),S=()=>o(518022),w=()=>o(197562),k=()=>o(421338),C=()=>o(622163),_=o(163643);const I=n.forwardRef(((e,t)=>{const{icon:n,label:i,description:s,...l}=e,{isPhone:d}=(0,r().Y0)(),c=(0,a().IS)((e=>({button:{width:"100%",borderRadius:12,margin:0,...(0,C().nl)({width:1,color:e.stroke.input})},hovered:d?{}:{background:e.modalBackground,...(0,C().nl)({width:2,color:e.stroke.uiBlueSecondary})},pressed:{background:e.modalBackground,...(0,C().nl)({width:2,color:e.stroke.uiBluePrimary})},templateIcon:{marginTop:s?2:0},enterIcon:{width:16,justifySelf:"end",color:e.icon.tertiary}})),[s,d]);return(0,_.jsx)(o(535906).A,{...l,buttonStyle:c.button,hoveredStyle:c.hovered,pressedStyle:c.pressed,itemMarginLeft:0,itemMarginRight:0,ref:t,title:(0,_.jsxs)(k().Y1,{direction:"horizontal",align:s?"top-left":"center-left",gap:12,padding:"12px 14px",children:[(0,_.jsx)("div",{style:c.templateIcon,children:n}),(0,_.jsxs)(k().Y1,{gap:4,children:[(0,_.jsx)(y().D,{styleName:"UIRegular-14px/Medium",children:i}),s&&(0,_.jsx)(y().D,{styleName:"UIRegular-14px/Regular",colorName:"secondary",children:s})]}),l.focused&&(0,o(52223).K)(c.enterIcon)]})})}));I.displayName="SearchResultButton";var M=()=>o(759954);function A(e){const{template:t,label:o,description:n}=e;return(0,_.jsx)(I,{icon:(0,_.jsx)(b().z,{template:t,size:18}),label:o??t.value.targetCollection.name,description:n??t.description,...e})}function j(e){let{query:t,onSelectTemplate:o,onAddEmptyPage:g,onAddEmptyDatabase:b,onMarketplaceClick:k,showEmptyPageButton:C}=e;const j=(0,i().K8)((()=>(0,x().getIsSetupGeneratorEnabled)()),[]),{isPhone:B}=(0,r().Y0)(),R=(0,a().IS)((e=>({optionIcon:{height:u().Ev.default,width:"auto",color:e.icon.secondary},section:{gap:8,padding:"0 0 8px 0"},sectionTitle:{padding:"16px 0 0 0",marginTop:0,marginBottom:4}})),[]),L=function(e){const t=(0,i().K8)((()=>T()),[]);return(0,n.useMemo)((()=>P(e,t)),[e,t])}(t),D=(0,i().K8)((()=>x().globalWorkflowTemplates.fromIdOfType({templateId:s().MH,type:"collection"})),[]),E=L.map((e=>({key:e.templateId,render:t=>{let{ref:o,...n}=t;return(0,_.jsx)(A,{template:e,...n})},action:()=>o(e,{type:"suggested_template",allOrderedTemplateIds:L.map((e=>e.templateId))})}))),W=(0,n.useMemo)((()=>j?{key:s().MH,render:e=>{let{ref:o,...n}=e;return(0,_.jsx)(A,{template:D,label:(0,_.jsx)(m().sA,{id:"workflowTemplatesOnboardingModal.searchResults.buildWithAiLabel",defaultMessage:"Build “{searchQuery}” with AI",values:{searchQuery:t}}),description:(0,_.jsx)(m().sA,{id:"workflowTemplatesOnboardingModal.searchResults.buildWithAiDescription",defaultMessage:"Use AI to generate a tailored setup"}),...n})},action:async()=>{o(D,{type:"ai_generated_template"});const e=w().A.state;if(!e.open||!e.setupGenerator)return;e.setupGenerator.store.setState({...e.setupGenerator.store.state,prompt:(0,p().x9d)(t)}),(0,S().moveToNextOnboardingStep)(B);await e.setupGenerator.submitPrompt({from:"initial-input"})&&(0,S().moveToNextOnboardingStep)(B)}}:void 0),[j,D,t,o,B]),N=(0,n.useMemo)((()=>(0,h().oE)([C?{key:"new-page",render:e=>(0,_.jsx)(I,{icon:(0,l().Y)(R.optionIcon),label:(0,_.jsx)(m().sA,{id:"workflowTemplatesOnboardingModal.searchResults.newPage",defaultMessage:"New “{searchQuery}” page",values:{searchQuery:t}}),...e}),action:()=>g({title:t})}:void 0,{key:"new-database",render:e=>(0,_.jsx)(I,{icon:(0,c().T)(R.optionIcon),label:(0,_.jsx)(m().sA,{id:"workflowTemplatesOnboardingModal.searchResults.newDatabase",defaultMessage:"New “{searchQuery}” database",values:{searchQuery:t}}),...e}),action:()=>b({title:t})},{key:"marketplace",render:e=>(0,_.jsx)(I,{icon:(0,d().J)(R.optionIcon),label:M().Ac,...e}),action:e=>k(e.event)}])),[C,R.optionIcon,t,g,b,k]),F=(0,n.useMemo)((()=>[{key:"collection-templates",items:(0,h().oE)([...E,W]),render:e=>(0,_.jsx)(v().A,{title:(0,_.jsx)(y().D,{styleName:"UIRegular-14px/Medium",colorName:"secondary",children:(0,_.jsx)(m().sA,{id:"workflowTemplatesOnboardingModal.searchResults.topResults",defaultMessage:"Top results"})}),style:R.section,desktopTitleStyle:R.sectionTitle,mobileTitleStyle:R.sectionTitle,...e})},{key:"more-options",items:N,render:e=>(0,_.jsx)(v().A,{title:(0,_.jsx)(y().D,{styleName:"UIRegular-14px/Medium",colorName:"secondary",children:(0,_.jsx)(m().sA,{id:"workflowTemplatesOnboardingModal.searchResults.moreOptions",defaultMessage:"More options"})}),style:R.section,desktopTitleStyle:R.sectionTitle,mobileTitleStyle:R.sectionTitle,...e})}]),[E,W,N,R]);return(0,_.jsx)(f().Ay,{initialFocus:0,type:f().Oh.Vertical,sections:F})}function T(){const e=h().sb([...(0,s().dj)(),...(0,s().Lh)()]);return x().globalWorkflowTemplates.allOfType({templateIds:e,type:"collection"})}function P(e,t){return(0,g().Ay)(e,t,(e=>`${e.value.targetCollection.name} ${e.description}`),{minThreshold:g().qR,normalizeFuzzyScore:!0})}},22599:(e,t,o)=>{o.d(t,{Y:()=>r});o(242343);const n={viewBox:"0 0 20 20",svg:(0,o(163643).jsx)("path",{d:"M6.25 2.375A2.125 2.125 0 0 0 4.125 4.5v11c0 1.174.951 2.125 2.125 2.125h7.5a2.125 2.125 0 0 0 2.125-2.125V8.121c0-.563-.224-1.104-.622-1.502L11.63 2.997a2.13 2.13 0 0 0-1.502-.622zM5.375 4.5c0-.483.392-.875.875-.875h3.7V6.25A2.05 2.05 0 0 0 12 8.3h2.625v7.2a.875.875 0 0 1-.875.875h-7.5a.875.875 0 0 1-.875-.875zm8.691 2.7H12a.95.95 0 0 1-.95-.95V4.184z"})},r=(0,o(680369).wt)("pageEmpty",n)},25683:(e,t,o)=>{o.d(t,{e:()=>n});const n=(0,o(680369).xh)("arrowCounterClockwise",{default:{loader:()=>o.e(79311).then(o.bind(o,591108))},small:{loader:()=>o.e(49121).then(o.bind(o,248746))},mini:{loader:()=>o.e(48591).then(o.bind(o,386276))},large:{loader:()=>o.e(95490).then(o.bind(o,223518))}})},35294:(e,t,o)=>{o.r(t),o.d(t,{applyMultiplayerReverseTrialIfEligible:()=>d().V_,applyReverseBusinessTrial:()=>d().xX,applyReversePlusTrial:()=>d().xE,handleTrialUpgradeFromOnboarding:()=>d().WR,handleTrialUpgradeFromOnboardingImpl:()=>d().eu,isEligibleForBlockLimitTimedTrial:()=>l});var n=()=>o(732541),r=()=>o(647242),i=()=>o(436622),a=()=>o(397138),s=()=>o(384055);async function l(e,t){const o=await i().A.awaitData(e,{spaceId:null==t?void 0:t.id});if("free"!==(0,r().AI)(o))return!1;const l=null==t?void 0:t.getSetting("reach_block_limit_time");if(!l||(0,n().Mn)(l)<3)return!1;if(await(0,a().G)(e))return!1;const d=t.getSpaceId();return!!(await(0,s().L6)({environment:e,spaceId:d,offerCampaign:"default"}))}var d=()=>o(308839)},40642:(e,t,o)=>{o.d(t,{b:()=>r});o(242343);var n=o(163643);const r=(0,o(680369).wt)("templates",{viewBox:"0 0 20 20",svg:(0,n.jsxs)("g",{children:[(0,n.jsx)("path",{d:"M6.39733 5.67853C5.89764 5.50234 5.36002 5.40649 4.8 5.40649C2.14904 5.40649 0 7.55432 0 10.2038C0 12.8533 2.14904 15.0011 4.8 15.0011C6.52165 15.0011 8.0316 14.0952 8.87867 12.7343L5.26487 12.0975L6.39733 5.67853Z"}),(0,n.jsx)("path",{d:"M17.3126 3.66609L7.85843 2L6.19141 11.4489L10.6545 12.2354L14.3998 5.81854L16.3449 9.15116L17.3126 3.66609Z"}),(0,n.jsx)("path",{d:"M8.80078 17L14.4008 7.4054L20.0008 17H8.80078Z"})]})})},72970:(e,t,o)=>{o.d(t,{u:()=>n});const n=(0,o(680369).xh)("pencilLine",{default:{loader:()=>o.e(92668).then(o.bind(o,686752))},small:{loader:()=>o.e(92668).then(o.bind(o,89414))},fill:{loader:()=>o.e(92668).then(o.bind(o,447116))},fillSmall:{loader:()=>o.e(92668).then(o.bind(o,600413))}},["compose","edit","write","create"])},85208:(e,t,o)=>{o.d(t,{g:()=>s});o(242343);var n=()=>o(403026),r=()=>o(281030),i=o(163643);const a=16/(0,r().N)("small");function s(e){const{variant:t}=e,o=function(e){return(0,r().N)(e)*a}(t);return(0,i.jsx)(i.Fragment,{children:(0,n().X)({width:o,pointerEvents:"none"})})}},88638:(e,t,o)=>{o.r(t),o.d(t,{WorkflowTemplatesOnboardingModalWithErrorBoundary:()=>_o});var n=o(242343),r=()=>o(237385),i=()=>o(803290),a=()=>o(76394),s=()=>o(64713),l=()=>o(421338),d=()=>o(539048),c=()=>o(711856),u=()=>o(929421),p=()=>o(387485),m=()=>o(173736),g=()=>o(137476),h=()=>o(622286),f=()=>o(245313),y=()=>o(961397),v=()=>o(197562),b=(o(725707),o(491955),o(403517),()=>o(383641)),x=()=>o(561074),S=()=>o(174114),w=()=>o(505966),k=()=>o(34662),C=()=>o(653998),_=o(163643);function I(){const e=(0,S().IS)((()=>({badge:{marginLeft:6,display:"inline"}})),[]);return(0,_.jsx)(o(695951).A,{style:e.badge,content:(0,_.jsx)(C().sA,{defaultMessage:"AI",id:"database.property.aiAutofillEnabledIndicator"})})}var M=()=>o(517198),A=()=>o(520958),j=()=>o(997310),T=()=>o(404354),P=()=>o(651806),B=()=>o(384221),R=()=>o(356813),L=()=>o(655830),D=()=>o(636045),E=()=>o(983050),W=()=>o(126996),N=()=>o(339190),F=(o(610931),o(500234),o.n(o(485359))),z=()=>o(818369),G=()=>o(72970),H=()=>o(575015),O=()=>o(59175),K=()=>o(529305),V=()=>o(340230);const $=(0,C().YK)({sendFeedbackButton:{id:"setupGenerator.sendFeedbackButton",defaultMessage:"Send feedback"},feedbackPlaceholder:{id:"setupGenerator.feedbackPlaceholder",defaultMessage:"Share your feedback"},submitSuccess:{id:"setupGenerator.submitSuccess",defaultMessage:"Your feedback has been submitted, thanks!"}});function U(e){const{onSubmit:t}=e,o=(0,C().tz)(),[r,i]=(0,n.useState)(""),a=(0,n.useCallback)((()=>{t(r),H().D6({label:o.formatMessage($.submitSuccess)})}),[r,o,t]);return(0,_.jsx)(K().tf,{header:(0,_.jsx)(K().YA,{iconAndTitle:(0,_.jsx)("div",{style:{padding:"0 24px"},children:(0,_.jsx)(K().ZQ,{iconGroup:G().u,title:(0,_.jsx)(C().sA,{id:"setupGenerator.feedbackModal.title",defaultMessage:"How can we improve this result?"})})}),description:(0,_.jsx)(C().sA,{id:"setupGenerator.feedbacModal.description",defaultMessage:"Your feedback helps Notion AI improve. The messages from your chat, the search results, and your feedback will be sent to Notion to help improve Notion AI."})}),footer:(0,_.jsx)(K().aO,{layout:"vertical",primaryButtons:[{label:o.formatMessage($.sendFeedbackButton),onClick:a,isDisabled:0===r.length}]}),children:(0,_.jsx)(l().Y1,{padding:2,children:(0,_.jsx)(O().A,{placeholder:o.formatMessage($.feedbackPlaceholder),textarea:!0,focusInitial:!0,value:r,onChange:e=>i(e.target.value)})})})}function Y(e){const{traceId:t,spaceId:o,transcript:a}=e??{},[s,l]=(0,n.useState)(void 0),c=(0,i().O$)(v().A),u=(0,r().v3)(),p=a.find((e=>"config"===e.type));if(!p)throw new Error("No config step found");return[s,(0,n.useCallback)((async e=>{if(l(e),void 0!==e&&(F()(c.open,"Trying to submit feedback while modal is not open"),(0,g().u4)({environment:u,event:{eventName:"workflow_template_onboarding_feedback",eventProperties:{feedback_type:e,...(0,y().gM)(c)}}})),o&&(z().callApi({eventName:"saveInferenceTranscriptFeedback",environment:u,data:{spaceId:o,type:p.value.type,traceId:t,feedbackType:e,userComment:void 0}}),"thumbs_down"===e)){const e=await async function(){return await(0,V().showAsyncModal)((e=>(0,_.jsx)(d().s,{isOpen:e.isOpen,onDismiss:e.onDismiss,onClosed:e.onClosed,areaConstraint:{width:{type:"fixed",length:400}},render:()=>(0,_.jsx)(U,{onSubmit:e.resolve})})))}();e&&z().callApi({eventName:"saveInferenceTranscriptFeedback",environment:u,data:{spaceId:o,type:p.value.type,traceId:t,feedbackType:"thumbs_down",userComment:e}})}}),[u,o,t,p,c])]}var q=()=>o(25683),Z=()=>o(680369);const Q=(0,Z().xh)("handThumbsDown",{default:{loader:()=>o.e(65728).then(o.bind(o,163899))},small:{loader:()=>o.e(66230).then(o.bind(o,512101))},mini:{loader:()=>o.e(34526).then(o.bind(o,558317))},large:{loader:()=>o.e(28366).then(o.bind(o,658589))}}),X=(0,Z().xh)("handThumbsDownFill",{default:{loader:()=>o.e(56051).then(o.bind(o,874136))},small:{loader:()=>o.e(64477).then(o.bind(o,117158))},mini:{loader:()=>o.e(3723).then(o.bind(o,695984))},large:{loader:()=>o.e(78113).then(o.bind(o,501962))}}),J=(0,Z().xh)("handThumbsUp",{default:{loader:()=>o.e(68563).then(o.bind(o,10104))},small:{loader:()=>o.e(48861).then(o.bind(o,31558))},mini:{loader:()=>o.e(60747).then(o.bind(o,554960))},large:{loader:()=>o.e(19617).then(o.bind(o,871018))}}),ee=(0,Z().xh)("handThumbsUpFill",{default:{loader:()=>o.e(68748).then(o.bind(o,453911))},small:{loader:()=>o.e(13450).then(o.bind(o,739657))},mini:{loader:()=>o.e(58034).then(o.bind(o,608529))},large:{loader:()=>o.e(32594).then(o.bind(o,257617))}});var te=()=>o(206799),oe=()=>o(103151),ne=()=>o(907721);const re=(0,C().YK)({negativeFeedbackTooltip:{defaultMessage:"Share negative feedback with Notion",id:"setupGenerator.negativeFeedbackTooltip"},positiveFeedbackTooltip:{defaultMessage:"Share positive feedback with Notion",id:"setupGenerator.positiveFeedbackTooltip"},retry:{defaultMessage:"Revert",id:"setupGenerator.retry"}});function ie(e){const{value:t,onChange:o,canRetry:n,onClickRetry:r,variantName:i}=e,a=(0,C().tz)();return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(ae,{type:"thumbs_up",isSelected:"thumbs_up"===t,variantName:i,iconGroup:"thumbs_up"===t?ee:J,onClick:o}),(0,_.jsx)(ae,{type:"thumbs_down",isSelected:"thumbs_down"===t,variantName:i,iconGroup:"thumbs_down"===t?X:Q,onClick:o}),n?(0,_.jsx)(oe().A,{renderTooltip:()=>(0,_.jsx)("div",{children:(0,_.jsx)(C().sA,{...re.retry})}),placement:ne().W.Bottom,render:e=>(0,_.jsx)(R().A,{onClick:r,icon:()=>(0,_.jsx)(te().Q,{iconGroup:q().e,variantName:i,colorName:"secondary"}),ariaLabel:a.formatMessage(re.retry),...e})}):null]})}function ae(e){const{type:t,onClick:o,isSelected:r,iconGroup:i,variantName:s}=e,l=(0,C().tz)(),d=(0,n.useCallback)((()=>{o(r?void 0:t)}),[o,r,t]),c=(0,n.useMemo)((()=>l.formatMessage(function(e){switch(e){case"thumbs_up":return re.positiveFeedbackTooltip;case"thumbs_down":return re.negativeFeedbackTooltip;default:(0,a().HB)(e)}}(t))),[l,t]);return(0,_.jsx)(oe().A,{renderTooltip:()=>(0,_.jsx)("div",{children:c}),placement:ne().W.Bottom,render:e=>(0,_.jsx)(R().A,{onClick:d,icon:()=>(0,_.jsx)(te().Q,{iconGroup:i,variantName:s,colorName:r?"uiBluePrimary":"secondary"}),ariaLabel:c,...e})})}const se={page:!0,bot:!0,team:!0,reminder:!0,date:!0,user:!0,group:!0,heading:!0,templateVariable:!0,formulaContextVariable:!0},le={type:"none"};function de(e){const{onSubmit:t,value:o,onChange:i,canPressEnter:a,canRetry:s,feedbackArgs:l,onClickRetry:d,onFocus:c,onBlur:u,onClickStop:p,isBusy:m,hideChatFeedback:g}=e,h=(0,r().v3)(),f=(0,C().tz)(),y=function(){const e=20,t=24;return(0,S().IS)((o=>{const n={boxShadow:o.inputBoxShadow,backgroundColor:o.surface.elevated,borderRadius:16,padding:"8px 8px 8px 12px",gap:"4px 8px",display:"flex",flexShrink:0,overflow:"hidden",height:"100%"};return{oneLineInput:{...n,flexDirection:"row",alignItems:"center",borderRadius:50},multiLineInput:{...n,display:"grid",gridTemplate:"1fr auto"},textWrapper:{paddingRight:4,flexGrow:1,display:"flex",fontSize:14,minWidth:0,overflow:"auto"},textContainer:{maxWidth:"100%",width:"100%",flexGrow:1,minWidth:0,height:"100%"},buttonWrapper:{minHeight:22,display:"flex",justifyContent:"flex-end",alignItems:"center",flexShrink:0,marginLeft:"auto"},icon:{height:e,width:e},stopIcon:{height:e,width:e,fill:o.icon.primary},button:{pointerEvents:"auto",height:Math.max(e,t),width:Math.max(e,t),borderRadius:"100%"}}}),[])}(),{store:v,setValue:b}=(0,W().AI)({initialValue:o,onChange:i});(0,n.useEffect)((()=>{const e=v.getValue();o!==e&&b(o)}),[o,b,v]);const x=(0,k().q4_)(o).length,w=!(0,k().w9s)(o),[I,M]=Y(l),A=(0,n.useCallback)((()=>{B().clear({environment:h}),null==u||u()}),[h,u]),j=(0,n.useMemo)((()=>f.formatMessage({id:"setupGenerator.followUp.placeholder",defaultMessage:"Add or make changes..."})),[f]),F=(0,n.useCallback)((e=>{if(e.target===e.currentTarget){const t=N().n.findEditableWithStore(v);t&&t.handleClick(e)}}),[v]),z=x>=35;return(0,_.jsx)(L().A,{debugName:"AiFollowUpInput",capture:!0,children:(0,_.jsxs)("div",{className:E().CCX,style:z?y.multiLineInput:y.oneLineInput,onClick:F,children:[(0,_.jsx)("div",{style:y.textWrapper,children:(0,_.jsx)(D().A,{inPageFind:le,style:y.textContainer,store:v,disabled:m,disabledMentionTypes:se,placeholder:j,disableSlashCommands:!0,disableEmbedMenu:!0,disableEmojiCommands:!0,disableComment:!0,disableSelectAllBlocks:!0,disableSelectionDrag:!0,disableStyleAnnotations:!0,disableInsertedDeletedAnnotations:!0,disableSuggestEdit:!0,disableUpDownArrows:!0,disableEnter:!w||!a||m,onEnter:t,pasteBehavior:"inline",onFocus:c,onBlur:A})}),(0,_.jsxs)("div",{style:y.buttonWrapper,children:[w||m||g?null:(0,_.jsx)(ie,{value:I,onChange:M,onClickRetry:d,canRetry:s,variantName:"small"}),w&&!m?(0,_.jsx)(R().A,{icon:T().b,onClick:t,isBlue:w,disabled:!w,ariaLabel:f.formatMessage({id:"aiFollowUpInput.submit",defaultMessage:"Submit"}),style:y.button,iconStyle:y.icon}):null,m?(0,_.jsx)(R().A,{icon:P().L,onClick:p,iconStyle:y.stopIcon,ariaLabel:f.formatMessage({id:"aiFollowUpInput.stop",defaultMessage:"Stop"}),style:y.button}):null]})]})})}var ce=()=>o(350893);const ue=(0,C().YK)({default:{id:"setupGenerator.loading.default",defaultMessage:"Designing database"},addingProperty:{id:"setupGenerator.loading.addingProperty",defaultMessage:"Adding {propertyName}"},addingView:{id:"setupGenerator.loading.addingView",defaultMessage:"Adding {viewName}"},addingPages:{id:"setupGenerator.loading.addingPages",defaultMessage:"Adding pages"}});function pe(e){const{statusLabel:t}=e,o=(0,C().tz)();let n;switch(null==t?void 0:t.type){case"default":n=o.formatMessage(ue.default);break;case"addingProperty":n=o.formatMessage(ue.addingProperty,{propertyName:t.propertyName});break;case"addingView":n=o.formatMessage(ue.addingView,{viewName:t.viewName});break;case"addingPages":n=o.formatMessage(ue.addingPages);break;default:return null}return(0,_.jsx)(ce().N,{styleName:"UITitle-22px/Semibold",text:n,animate:!0})}var me=()=>o(501578),ge=()=>o(477784);const he=(0,C().YK)({featureTemplateRequired:{id:"featureTemplateRequired",defaultMessage:"This is required"}});function fe(e){let{template:t,isRequired:o,...n}=e;const r=o?ge().A.formatMessage(he.featureTemplateRequired):void 0;return(0,_.jsx)(oe().A,{...n,disableTooltip:void 0===r,renderTooltip:()=>r})}var ye=()=>o(940445),ve=()=>o(518022),be=()=>o(209684);function xe(e){let{children:t,isSelected:o,disabled:n,onClick:r,tooltipEvents:i,style:a}=e;const s=(0,S().IS)((e=>({button:{fontSize:14,paddingLeft:12,paddingRight:12,borderRadius:24,color:e.text.primary,boxShadow:`0 0 0 1px ${e.stroke.primary}`,...o&&{boxShadow:`0 0 0 1.5px ${e.stroke.uiBluePrimary}`,background:e.buttonBackground},...a},buttonHovered:{...o?{boxShadow:`0 0 0 1.5px ${e.stroke.uiBluePrimary}`,background:e.outlineBlueButtonHoveredBackground}:{boxShadow:`0 0 0 1px ${e.stroke.input}`,background:e.buttonHoveredBackground}}})),[o,a]);return(0,_.jsx)(be().p,{...i,style:s.button,disabled:n,disabledFeedback:!0,onClick:r,hoveredStyle:s.buttonHovered,children:t})}var Se=()=>o(363998);function we(e){const t=(0,r().v3)(),{isPhone:o}=(0,r().Y0)(),a=(0,i().O$)(v().A),s=(0,j().r)(),d=null==s?void 0:s.id,{hideChatFeedback:c}=e.overrides??{},u=(0,S().IS)((()=>({grid:{flex:"1 0 0",display:"grid",gridTemplateRows:"1fr auto",position:"relative",maxHeight:"100%",overflowY:"auto"},features:{},feedbackInput:{display:"flex",flexDirection:"column",minHeight:30,maxHeight:120,flexShrink:0,paddingTop:o?4:void 0}})),[o]),p=(0,i().K8)((()=>{if(a.open)return a.setupGenerator}),[a]),m=(0,n.useCallback)((e=>{!(0,k().w9s)(e)?(0,ve().setFollowUpInputFocused)(!0):(0,ve().setFollowUpInputFocused)(!1),null==p||p.setPrompt(e)}),[p]),h=(0,i().K8)((()=>{var e;return null==p||null===(e=p.store)||void 0===e||null===(e=e.state)||void 0===e?void 0:e.feedbackArgs}),[p]),f=(0,i().K8)((()=>{if(a.open)return p&&h&&a.collectionTemplate&&a.collectionTemplate.isAiGenerated}),[h,a,p]),b=(0,i().K8)((()=>(null==p?void 0:p.store.state.isBusy)??!1),[p]),x=(0,i().K8)((()=>{var e;return b?null==p||null===(e=p.store.state)||void 0===e?void 0:e.progress:void 0}),[p,b]),w=(0,n.useCallback)((()=>{(0,ve().retryAiSetup)(o)}),[o]),C=(0,n.useCallback)((()=>{a.open&&((0,g().u4)({environment:t,event:{eventName:"workflow_template_onboarding_follow_up",eventProperties:{...(0,y().gM)(a)}}}),null==p||p.submitPrompt({from:"follow-up"}))}),[t,a,p]),I=(0,i().K8)((()=>null==p?void 0:p.store.state.prompt),[p]),M=(0,n.useCallback)((()=>{null==p||p.stopGenerating()}),[p]),A=(0,i().K8)((()=>{var e;return p?(null===(e=p.store.state.transcriptTree)||void 0===e||null===(e=e.toNodes())||void 0===e?void 0:e.filter((e=>"setup"===e.value.type)))??[]:[]}),[p]),T=(0,i().K8)((()=>A.length<5),[A]),P=(0,i().K8)((()=>A.length>=2),[A]);return a.open&&d&&a.collectionTemplate?(0,_.jsxs)(l().Y1,{direction:"vertical",height:"fill",gap:10,children:[(0,_.jsx)(ke,{setupGeneratorProgress:x}),(0,_.jsx)("div",{style:u.grid,children:(0,_.jsx)(Te,{contentStyle:{padding:"5px 2px"},children:(0,_.jsx)("div",{style:u.features,children:(0,_.jsx)(Ce,{featureTemplateSelections:a.userCustomizations.featureTemplateSelections,isSetupGeneratorBusy:b,...(0,y().OX)(a)})})})}),f&&h?(0,_.jsx)("div",{style:u.feedbackInput,children:T?(0,_.jsx)(de,{canPressEnter:!0,canRetry:P,onClickRetry:w,onSubmit:C,onClickStop:M,value:I,onChange:m,feedbackArgs:h,isBusy:b,hideChatFeedback:c}):null}):null]}):null}function ke(e){const{setupGeneratorProgress:t}=e;return t?(0,_.jsx)(pe,{statusLabel:t.statusLabel}):(0,_.jsx)(Se().aZ,{caption:(0,_.jsx)(C().sA,{id:"workflowTemplatesOnboardingModal.selectFeatures",defaultMessage:"Select features to turn on or off"})})}function Ce(e){let{featureTemplateSelections:t,isSetupGeneratorBusy:o,...r}=e;const{collectionTemplate:a}=r,s=(0,i().K8)((()=>(0,w().A6)(a,ye().globalWorkflowTemplates)),[a]),l=(0,n.useMemo)((()=>(0,y().UA)({collectionViewTemplates:s,featureTemplateSelections:t})),[s,t]);return(0,_.jsx)(_e,{featureTemplateSelections:l,templateOnboardingState:r,isLoading:o})}function _e(e){const t=(0,r().v3)(),{isLoading:o,featureTemplateSelections:n,templateOnboardingState:i}=e,a=(0,S().IS)((()=>({pillsSection:{display:"flex",flexWrap:"wrap",gap:12,isolation:"isolate"}})),[]),s=(0,A().j)(1e3);return(0,_.jsx)("div",{style:a.pillsSection,children:(0,_.jsx)(b().N,{mode:"popLayout",children:n.map(((e,r)=>(0,_.jsx)(Ie,{index:r,featureTemplateSelectionsToShow:n,featureSelection:e,isRequired:!1,isLoading:o,shouldAnimate:s,toggleFeatureTemplateSelection:e=>(0,ve().toggleFeatureSelectionInPreview)({template:e,environment:t}),...i},r)))})})}const Ie=(0,n.forwardRef)((function(e,t){const{featureTemplateSelectionsToShow:o,featureSelection:n,isRequired:i,isLoading:a,toggleFeatureTemplateSelection:s,index:l,shouldAnimate:d,...c}=e,u=(0,r().v3)(),p=n.template;return(0,_.jsx)(fe,{template:p,alignment:ne().C.Start,isRequired:i,render:e=>(0,_.jsx)(je,{ref:t,template:p,index:l,isSelected:n.selected,tooltipEvents:e,disabled:i,isLoading:a,shouldAnimate:d,onClick:()=>{(0,g().u4)({environment:u,event:{eventName:"workflow_template_onboarding_feature_select",eventProperties:{selecting:n.selected?"deselecting":"selecting",feature_template_id:p.templateId,feature_template_type:p.type,previously_selected_feature_template_ids:o.filter((e=>e.selected)).map((e=>e.template.templateId)),step:"features",...(0,y().gM)(c)}}}),s(p)}})})})),Me={type:"spring",damping:25,stiffness:250},Ae={...Me,delay:.1},je=(0,n.forwardRef)((function(e,t){const{template:n,isSelected:r,isLoading:i,disabled:a,onClick:s,tooltipEvents:l,index:d,shouldAnimate:c}=e,u=(0,S().IS)((e=>({icon:{marginRight:6,fill:r?e.text.uiBluePrimary:e.mediumIconColor},overflowTooltip:{maxWidth:250},selectButton:{maxWidth:"100%"},wrapper:{background:e.surface.wash,borderRadius:24,position:"relative",maxWidth:"100%",willChange:"transform",zIndex:void 0!==d?100-d:void 0},shimmerArea:{pointerEvents:"none"},shimmer:{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:24,boxShadow:`0 0 0 1px ${e.stroke.secondary}`}})),[r,d]);return(0,_.jsxs)(x().P.div,{ref:t,style:u.wrapper,layout:!0,transition:Me,initial:!!c&&{x:-50,opacity:.5},animate:{x:0,opacity:1},exit:{scale:.5,opacity:0},children:[(0,_.jsx)(x().P.div,{initial:!!c&&{opacity:0},animate:{opacity:i?0:1},transition:Ae,children:(0,_.jsxs)(xe,{tooltipEvents:l,disabled:a,isSelected:r,onClick:s,style:u.selectButton,children:[(0,_.jsx)(o(194585).z,{iconStyle:u.icon,template:n}),(0,_.jsx)(me().j,{tooltipStyle:u.overflowTooltip,placement:ne().W.Right,children:(0,ye().getWorkflowTemplateName)(n)}),"ai_inference"in n.value&&(0,_.jsx)(I,{})]})}),(0,_.jsx)(x().P.div,{initial:!1,animate:{opacity:i?1:0},transition:Ae,style:i?{}:u.shimmerArea,children:(0,_.jsx)(M().A,{style:u.shimmer})})]})}));function Te(e){let{children:t,fadeHeight:o=30,contentStyle:r={}}=e;const i=(0,n.useRef)(null),[a,s]=(0,n.useState)(!1),[l,d]=(0,n.useState)(!1),c=(0,S().IS)((e=>({content:{height:"100%",overflowY:"auto",...r},fadeTop:{position:"absolute",top:0,left:0,right:0,height:o,background:`linear-gradient(to bottom, ${e.surface.wash}, transparent)`,pointerEvents:"none",opacity:a?1:0,willChange:"opacity",transition:"opacity 0.3s"},fadeBottom:{position:"absolute",bottom:0,left:0,right:0,height:o,background:`linear-gradient(to top, ${e.surface.wash}, transparent)`,pointerEvents:"none",opacity:l?1:0,willChange:"opacity",transition:"opacity 0.3s"}})),[r,o,a,l]),u=(0,n.useCallback)((()=>{if(!i.current)return;const{scrollTop:e,scrollHeight:t,clientHeight:o}=i.current;s(e>0),d(e<t-o-1)}),[i]);return(0,n.useEffect)((()=>{const e=i.current;if(e)return e.addEventListener("scroll",u),window.addEventListener("resize",u),u(),()=>{e.removeEventListener("scroll",u),window.removeEventListener("resize",u)}}),[u,i]),(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{ref:i,style:c.content,children:t}),(0,_.jsx)("div",{style:c.fadeTop}),(0,_.jsx)("div",{style:c.fadeBottom})]})}o(358848),o(91270),o(113085);var Pe=()=>o(711723),Be=()=>o(269280),Re=()=>o(141479),Le=()=>o(83544),De=()=>o(73658),Ee=()=>o(538433);const We=(0,Z().xh)("circle",{default:{loader:()=>o.e(56780).then(o.bind(o,834903))},small:{loader:()=>o.e(63882).then(o.bind(o,477449))},mini:{loader:()=>o.e(21042).then(o.bind(o,61585))},large:{loader:()=>o.e(55570).then(o.bind(o,971153))}});var Ne=()=>o(169201),Fe=()=>o(213255),ze=()=>o(31448),Ge=()=>o(767717),He=()=>o(126451),Oe=()=>o(535906),Ke=()=>o(204435),Ve=()=>o(345022),$e=()=>o(858023),Ue=()=>o(701270),Ye=()=>o(88271),qe=()=>o(672154),Ze=()=>o(245388),Qe=()=>o(548694),Xe=()=>o(922563);const Je=n.forwardRef((function(e,t){const{placeholder:o,value:r,onChange:i,onSubmit:a,canPressEnter:s}=e,l=(0,C().tz)(),d=function(){const e=20,t=24;return(0,S().IS)((o=>({input:{display:"flex",maxWidth:"100%",flexFlow:"column",boxShadow:o.inputBoxShadow,backgroundColor:o.surface.elevated,borderRadius:16,overflow:"inherit",padding:12,gap:"4px 0"},buttonWrapper:{position:"absolute",right:8,bottom:8},stopIcon:{fill:o.icon.primary},icon:{height:e,width:e},button:{pointerEvents:"auto",height:Math.max(e,t),width:Math.max(e,t),borderRadius:"100%"}})),[])}(),c=(0,n.useContext)(Ze().eh),u=!(0,k().w9s)(r),p=null==r?void 0:r.map((e=>(0,k().N8A)(e))).join("");return(0,_.jsx)("div",{style:{position:"relative"},children:(0,_.jsxs)(L().A,{debugName:"AiPromptInput",capture:!0,onEsc:c,priority:1,children:[(0,_.jsx)(O().A,{ref:t,textarea:!0,textareaSubmitOnEnter:!0,autosize:!0,autosizeMinHeight:75,autosizeMaxHeight:240,style:d.input,onChange:e=>{i((0,k().x9d)(e.target.value))},onSubmit:()=>{u&&s&&a()},value:p,placeholder:l.formatMessage(o)}),(0,_.jsx)("div",{style:d.buttonWrapper,children:(0,_.jsx)(R().A,{icon:T().b,onClick:()=>{},isBlue:u,disabled:!u,ariaLabel:l.formatMessage({id:"aiPromptInput.submit",defaultMessage:"Submit"}),onMouseDown:e=>{e.preventDefault(),a()},style:d.button,iconStyle:d.icon})})]})})}));var et=()=>o(485966),tt=()=>o(328653);const ot=(0,C().YK)({workPromptPlaceholder:{id:"setupGenerator.workPromptPlaceholder",defaultMessage:"Make a customer feedback tracker with priority levels, status, and assignee..."},personalSchoolPromptPlaceholder:{id:"setupGenerator.personalSchoolPromptPlaceholder",defaultMessage:"Make a subscription tracker with cost, subscription type, and renewal date... "}});function nt(e,t){if("new_user_onboarding"===e)switch(t){case"personal":case"school":return ot.personalSchoolPromptPlaceholder;default:return ot.workPromptPlaceholder}return ot.workPromptPlaceholder}const rt={duration:0},it={duration:.7,ease:"anticipate"},at={type:"spring",stiffness:150,damping:20,delay:1};function st(e){const t=(0,n.useContext)(Ze().eh),o=(0,i().K8)((()=>v().A.state),[]),r=(0,i().K8)((()=>o.open?o.version:void 0),[o]),s=(0,i().K8)((()=>(0,ye().getIsSetupGeneratorEnabled)()||r&&(0,a().Xk)(Re().N,r)),[r]);return(0,i().K8)((()=>o.open?o.setupGenerator:void 0),[o])&&s?o.open?(0,_.jsx)(dt,{overrides:e.overrides}):null:(0,_.jsx)(yt,{onClickClose:t})}function lt(e){const t=(0,i().K8)((()=>(0,ye().getIsSetupGeneratorEnabled)()),[]),o=(0,n.useContext)(Ze().eh),r=(0,i().K8)((()=>v().A.state),[]),a=(0,i().K8)((()=>r.open?r.setupGenerator:void 0),[r]),s=(0,i().K8)((()=>{var e;return(null==a||null===(e=a.store.state)||void 0===e?void 0:e.progress)??{databases:{},statusLabel:{type:"default"},steps:[]}}),[a]),l=Object.values(s.databases).at(0),d=(null==l?void 0:l.databaseName)??"",c=(null==l?void 0:l.iconName)??"pencil";return a&&t?r.open?(0,_.jsx)(pt,{collectionName:d,collectionIcon:`/icons/${c}_gray.svg`,progress:s,overrides:e.overrides}):null:(0,_.jsx)(yt,{onClickClose:o})}function dt(e){const t=(0,C().tz)(),o=(0,r().v3)(),{hideCornerButton:a=!1,...s}=e.overrides??{},{isPhone:d}=(0,r().Y0)(),c=(0,i().K8)((()=>v().A.state),[]),u=(0,i().K8)((()=>{if(c.open)return c.setupGenerator}),[c]),p=(0,i().K8)((()=>null==u?void 0:u.store.state.prompt),[u]),m=(0,n.useCallback)((async()=>{u&&c.open&&await(0,Xe().z)({setupGenerator:u,environment:o,parentStore:c.parentStore,allowNavigateToAppBuilder:"land_on_app_from_new_user_onboarding"!==c.origin&&void 0,isPhone:d})}),[u,o,c,d]),g=(0,i().K8)((()=>{var e;return null===(e=et().default.state.currentUserStore)||void 0===e?void 0:e.getDisplayName(t)}),[t]);return c.open&&u?(0,_.jsxs)(_.Fragment,{children:[a?null:(0,_.jsx)(Se().Dr,{modalState:c}),(0,_.jsx)(l().Y1,{width:"fill",height:"fill",align:"top-center",padding:d?"96px 32px 32px":"32px",style:d?{minHeight:"100vh"}:void 0,children:(0,_.jsx)(ct,{currentUserName:g,prompt:p,onChange:u.setPrompt,onSubmit:m,overrides:s})})]}):null}function ct(e){const{currentUserName:t,prompt:o,onChange:a,onSubmit:s,overrides:d}=e,{isPhone:c}=(0,r().Y0)(),[u,p]=(0,n.useState)({type:"pills"}),m=(0,S().IS)((e=>({text:{textAlign:"center",textWrap:"balance"},subtitle:{color:e.text.tertiary,textWrap:void 0,marginTop:-6}})),[]),g=(0,i().K8)((()=>v().A.state),[]),h=(0,i().K8)((()=>{if(g.open)return g.setupGenerator}),[g]),f=(0,i().K8)((()=>{var e;return null===(e=qe().A.state.planTypeAndSurveyInfo)||void 0===e?void 0:e.planType}),[]),y=(0,n.useCallback)((e=>{var t;a(e),(0,k().w9s)(e)?p({type:"pills"}):("pills"!==u.type||(0,k().w9s)(e))&&("subprompts"!==u.type||!e||(0,k().w9s)(e)||(t=e,u.selectedPill.subprompts.some((e=>St(t,e)))))||p({type:"pills"})}),[a,u]),b=(0,n.useRef)(null);(0,Be().w)((()=>{var e;null==h||h.trackSessionStarted(),null===(e=b.current)||void 0===e||e.focus()})),(0,Pe().L)({active:!0,closeHandler:()=>{p({type:"pills"})},ref:b,excludedSelectors:["[role='button']"]});const w=(0,n.useCallback)((e=>{var t;let{pill:o,prompt:n}=e;null===(t=b.current)||void 0===t||t.focus(),p({type:"subprompts",selectedPill:o}),a(n)}),[a]),I=(0,n.useMemo)((()=>(0,_.jsxs)("div",{style:{position:"relative"},children:[(0,_.jsx)(vt,{onClick:w,hidden:"pills"!==u.type}),"subprompts"===u.type?(0,_.jsx)(xt,{userPrompt:o,subprompts:u.selectedPill.subprompts,onSelection:e=>{a(e),s()}}):null]})),[w,a,s,o,u]);return g.open?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(l().Y1,{height:"fill",align:c?"top-center":"center",gap:32,children:[(0,_.jsxs)(l().Y1,{gap:12,align:"top-center",width:c?350:"new_user_onboarding"===g.origin?500:400,style:m.text,children:[(0,_.jsx)(x().P.div,{layoutId:"assistant-face",transition:rt,layout:"position",children:(0,_.jsx)(Ge().AssistantAnimatedFaceInner,{sizeVariant:"large",highLevelState:"idle",includeBoxShadow:!0})}),(0,_.jsx)(Ue().D,{styleName:"UITitle-22px/Semibold",children:"land_on_app_from_new_user_onboarding"===g.origin?(0,_.jsx)(C().sA,{id:"setupGenerator.greetingForNewSpaces",defaultMessage:"Hey there! Welcome to Notion. What do you want to build today?"}):"new_user_onboarding"===g.origin?(0,_.jsx)(C().sA,{id:"setupGenerator.greetingWithinOnboardingNewUser",defaultMessage:"What can Notion build for you?"}):(0,_.jsx)(C().sA,{id:"setupGenerator.greeting",defaultMessage:"What do you want to build today?",values:{currentUserName:t}})}),"new_user_onboarding"===g.origin&&(0,_.jsx)(Ue().D,{styleName:"UITitle-22px/Semibold",style:m.subtitle,children:(0,_.jsx)(C().sA,{id:"setupGenerator.greetingWithinOnboardingNewUser.subtitle",defaultMessage:"Describe your idea or start with a template"})})]}),(0,_.jsxs)(l().Y1,{direction:"vertical",gap:4,width:c?350:450,children:[(0,_.jsx)(Je,{ref:b,placeholder:nt(g.origin,f),value:o,onChange:y,onSubmit:s,canPressEnter:!0}),(0,_.jsx)("div",{children:I})]})]}),null!=d&&d.hideLearnMore?null:(0,_.jsx)(ut,{})]}):null}function ut(){const e=(0,C().tz)(),{isPhone:t}=(0,r().Y0)(),o=(0,S().IS)((e=>({button:{position:"absolute",top:t?56:20,right:20,zIndex:1,height:26,paddingLeft:5,paddingRight:5},icon:{width:t?20:18,height:t?20:18,fill:e.icon.secondary}})),[t]);return(0,_.jsx)(oe().A,{placement:ne().W.Left,renderTooltip:()=>(0,_.jsx)("span",{children:e.formatMessage(ht.help)}),render:t=>(0,_.jsx)(R().A,{...t,ariaLabel:e.formatMessage(ht.help),icon:Fe().A,style:o.button,iconStyle:o.icon,href:"https://www.notion.com/help/autofill#create-a-database-with-notion-ai",external:!0})})}function pt(e){const{collectionName:t,collectionIcon:o,progress:n}=e,{hideCornerButton:a=!1}=e.overrides??{},s=(0,i().K8)((()=>v().A.state),[]),d=null==n?void 0:n.statusLabel,{isPhone:c}=(0,r().Y0)(),u=(0,S().IS)((e=>({container:{borderRadius:12,border:`1px solid ${e.stroke.secondary}`,backgroundColor:"dark"===e.mode?e.popoverWaxPaperBackground:void 0,backgroundImage:`url(${Le().A.images.workflowTemplates.bgDotsPng})`,backgroundRepeat:"repeat",backgroundSize:"70px 70px",backgroundPosition:"0% 0%",backgroundBlendMode:"multiply",position:"absolute",userSelect:"none",inset:0,zIndex:10},header:{opacity:.6,paddingBottom:20,borderBottom:`1px solid ${e.stroke.primary}`},columns:{display:"grid",gridTemplateColumns:"3fr 2fr 2fr",gap:45},shimmer:{width:"50%",height:9,borderRadius:5},shimmerWide:{width:"100%",height:9,borderRadius:5}})),[]),p=(0,S().DP)();return s.open?(0,_.jsxs)(_.Fragment,{children:[a||"ai_chat"===s.origin?null:(0,_.jsx)(Se().Dr,{modalState:s}),(0,_.jsx)(Se().Cx,{sidebar:(0,_.jsxs)(l().Y1,{direction:"vertical",gap:c?18:36,children:[(0,_.jsxs)(l().Y1,{direction:"vertical",gap:c?18:12,children:[(0,_.jsx)(x().P.div,{layoutId:"assistant-face",layout:"position",transition:it,children:(0,_.jsx)(Ge().AssistantAnimatedFaceInner,{sizeVariant:"large",highLevelState:"writing",includeBoxShadow:!0})}),(0,_.jsx)(x().P.div,{initial:{opacity:0},animate:{opacity:1},transition:it,children:(0,_.jsx)(pe,{statusLabel:d})})]}),(0,_.jsx)(x().P.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:at,children:(0,_.jsx)(gt,{steps:(null==n?void 0:n.steps)??[]})})]}),preview:(0,_.jsx)(x().P.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:at,style:{width:"100%",height:"100%",position:"relative"},children:(0,_.jsxs)(l().Y1,{direction:"vertical",height:"fill",width:"fill",padding:"36px 38px",style:u.container,gap:30,children:[(0,_.jsxs)(l().Y1,{direction:"horizontal",align:"center-left",gap:12,height:50,style:u.header,children:[(0,_.jsx)(De().p,{icon:o,size:20,theme:p}),(0,_.jsx)(Ue().D,{styleName:"UITitle-22px/Semibold",children:t})]}),(0,_.jsx)("div",{style:u.columns,children:Array.from({length:3}).map(((e,t)=>(0,_.jsxs)(l().Y1,{direction:"vertical",gap:25,children:[(0,_.jsx)(M().A,{style:u.shimmer}),Array.from({length:5}).map(((e,t)=>(0,_.jsx)(M().A,{style:u.shimmerWide},t)))]},t)))})]})})})]}):null}function mt(e){const{status:t}=e,o=(0,S().IS)((()=>({loadingDotsContainer:{width:24,height:24,gap:3},loadingDot:{width:5,height:5}})),[]);switch(t){case"idle":return(0,_.jsx)(te().Q,{iconGroup:We,variantName:"large",colorName:"tertiary"});case"in_progress":return(0,_.jsx)(Ve().A,{isTriColored:!0,styleParentContainer:o.loadingDotsContainer,style:o.loadingDot});case"completed":return(0,_.jsx)(te().Q,{iconGroup:Ee().g,variantName:"large",colorName:"tertiary"});default:(0,a().HB)(t)}}function gt(e){const{steps:t}=e,o=(0,S().IS)((e=>({separator:{width:1,height:12,background:e.stroke.primary}})),[]);return(0,_.jsx)(l().Y1,{direction:"vertical",gap:2,children:t.map(((e,r)=>{const i=r===t.length-1;return(0,_.jsxs)(n.Fragment,{children:[(0,_.jsx)(ft,{step:e}),i?void 0:(0,_.jsx)(l().Y1,{width:24,align:"center",children:(0,_.jsx)("div",{style:o.separator})})]},r)}))})}const ht=(0,C().YK)({creatingDatabase:{id:"setupGenerator.progress.createDatabase",defaultMessage:"Creating database"},addingProperties:{id:"setupGenerator.progress.addProperties",defaultMessage:"Adding properties"},addingViews:{id:"setupGenerator.progress.addViews",defaultMessage:"Adding views"},addingPages:{id:"setupGenerator.progress.addPages",defaultMessage:"Adding pages"},help:{id:"setupGenerator.promptInput.learnMore",defaultMessage:"Learn more in help center"}});function ft(e){const{step:t}=e,o=(0,C().tz)();let n;switch(t.type){case"createDatabases":n=o.formatMessage(ht.creatingDatabase);break;case"addProperties":n=o.formatMessage(ht.addingProperties);break;case"addViews":n=o.formatMessage(ht.addingViews);break;case"addPages":n=o.formatMessage(ht.addingPages);break;default:return null}return(0,_.jsxs)(l().Y1,{direction:"horizontal",align:"center-left",gap:6,children:[(0,_.jsx)(mt,{status:t.status}),(0,_.jsx)(Ue().D,{styleName:"UIRegular-14px/Medium",colorName:"in_progress"===t.status?"primary":"tertiary",children:n})]})}function yt(e){const{onClickClose:t}=e;return(0,_.jsxs)(_.Fragment,{children:[t?(0,_.jsx)(Se().n9,{iconFn:Ne().u,onClick:t}):null,(0,_.jsx)(l().Y1,{height:"fill",width:"fill",align:"center",children:(0,_.jsx)(Ue().D,{styleName:"UIRegular-14px/Regular",children:(0,_.jsx)(C().sA,{id:"setupGenerator.notAvailable",defaultMessage:"This feature is not available."})})})]})}function vt(e){let{onClick:t,hidden:o}=e;const n=(0,i().K8)((()=>"team"===(0,Qe().p3)().intent?Mt:Rt),[]),r=(0,S().IS)((()=>({container:{marginTop:12,display:"flex",flexWrap:"wrap",justifyContent:"center",gap:8,...o?{visibility:"hidden"}:{}}})),[o]);return(0,_.jsx)("div",{style:r.container,children:n.map((e=>{const o=ge().A.formatMessage(e.title);return(0,_.jsx)(bt,{iconString:e.icon,title:o,onClick:()=>t({pill:e,prompt:(0,k().x9d)(o)})},e.key)}))})}function bt(e){let{onClick:t,iconString:o,title:n}=e;const r=(0,S().DP)(),i=(0,S().IS)((e=>({icon:{fill:(0,tt().d)(o,e).icon.primary,marginRight:2},pill:{display:"flex",alignItems:"center",padding:"6px 14px 6px 10px",width:"fit-content",borderRadius:100,fontSize:14,fontWeight:ze().Wy.medium,background:e.assistantTintedActionButtonBackground},pillHover:{background:e.tint.regular,cursor:"pointer"}})),[o]),a=(0,_.jsx)(De().p,{icon:o,size:16,style:i.icon,theme:r});return(0,_.jsx)(He().A,{onClick:t,style:i.pill,hoveredStyle:i.pillHover,children:(0,_.jsxs)(Ke().fI,{gap:4,alignItems:"center",children:[a,n]})})}function xt(e){let{userPrompt:t,subprompts:o,onSelection:n}=e;const r=(0,S().IS)((e=>{const t={padding:8};return{container:{fontSize:14,position:"absolute",top:0,width:"100%"},subpromptItem:{...t,boxShadow:`-1px 10px 0px -9px ${e.stroke.secondary}`},subpromptItemLast:{...t},gray:{color:e.text.tertiary}}}),[]);return(0,_.jsx)("div",{style:r.container,children:(0,_.jsx)($e().Ay,{type:$e().Oh.Vertical,initialFocus:0,sections:[{key:"subprompts",render:e=>(0,_.jsx)(Ye().A,{...e,style:{gap:0}}),items:o.filter((e=>!t||St(t,e))).map((e=>({key:e.id,action:()=>{const t=ge().A.formatMessage(e,{gray:e=>e});n((0,k().x9d)(t))},render:t=>(0,_.jsx)(Oe().A,{...t,style:t.focused||t.isBeforeFocused?r.subpromptItemLast:r.subpromptItem,role:"button",title:(0,_.jsx)(C().sA,{...e,values:{gray:e=>(0,_.jsx)("span",{style:r.gray,children:e})}})})})))}]})})}function St(e,t){const o=e.map((e=>(0,k().N8A)(e))).join("").trim();return ge().A.formatMessage(t,{gray:e=>e}).toUpperCase().includes(o.toUpperCase())}const wt=(0,C().YK)({primary:{id:"setupGenerator.suggestionPill.makeAPlan",defaultMessage:"Make a plan"},option1:{id:"setupGenerator.suggestionPill.makeAPlan.option1",defaultMessage:"<gray>Make a plan</gray> for a product roadmap"},option2:{id:"setupGenerator.suggestionPill.makeAPlan.option2",defaultMessage:"<gray>Make a plan</gray> for a marketing campaign"},option3:{id:"setupGenerator.suggestionPill.makeAPlan.option3",defaultMessage:"<gray>Make a plan</gray> for an upcoming event"},option4:{id:"setupGenerator.suggestionPill.makeAPlan.option4",defaultMessage:"<gray>Make a plan</gray> for hiring new team members"}}),kt=(0,C().YK)({primary:{id:"setupGenerator.suggestionPill.manageTasks",defaultMessage:"Manage tasks"},option1:{id:"setupGenerator.suggestionPill.manageTasks.option1",defaultMessage:"<gray>Manage tasks</gray> for a website redesign"},option2:{id:"setupGenerator.suggestionPill.manageTasks.option2",defaultMessage:"<gray>Manage tasks</gray> for engineering sprints"},option3:{id:"setupGenerator.suggestionPill.manageTasks.option3",defaultMessage:"<gray>Manage tasks</gray> for content production"},option4:{id:"setupGenerator.suggestionPill.manageTasks.option4",defaultMessage:"<gray>Manage tasks</gray> for a product launch"}}),Ct=(0,C().YK)({primary:{id:"setupGenerator.suggestionPill.collectFeedback",defaultMessage:"Collect feedback"},option1:{id:"setupGenerator.suggestionPill.collectFeedback.option1",defaultMessage:"<gray>Collect feedback</gray> on customer satisfaction"},option2:{id:"setupGenerator.suggestionPill.collectFeedback.option2",defaultMessage:"<gray>Collect feedback</gray> on feature requests"},option3:{id:"setupGenerator.suggestionPill.collectFeedback.option3",defaultMessage:"<gray>Collect feedback</gray> on service quality"},option4:{id:"setupGenerator.suggestionPill.collectFeedback.option4",defaultMessage:"<gray>Collect feedback</gray> on a new product launch"}}),_t=(0,C().YK)({primary:{id:"setupGenerator.suggestionPill.trackPipeline",defaultMessage:"Track pipeline"},option1:{id:"setupGenerator.suggestionPill.trackPipeline.option1",defaultMessage:"<gray>Track pipeline</gray> for sales leads"},option2:{id:"setupGenerator.suggestionPill.trackPipeline.option2",defaultMessage:"<gray>Track pipeline</gray> for hiring candidates"},option3:{id:"setupGenerator.suggestionPill.trackPipeline.option3",defaultMessage:"<gray>Track pipeline</gray> for content production"},option4:{id:"setupGenerator.suggestionPill.trackPipeline.option4",defaultMessage:"<gray>Track pipeline</gray> for partnership deals"}}),It=(0,C().YK)({primary:{id:"setupGenerator.suggestionPill.runCampaign",defaultMessage:"Run campaign"},option1:{id:"setupGenerator.suggestionPill.runCampaign.option1",defaultMessage:"<gray>Run campaign</gray> for a product launch"},option2:{id:"setupGenerator.suggestionPill.runCampaign.option2",defaultMessage:"<gray>Run campaign</gray> for an email marketing push"},option3:{id:"setupGenerator.suggestionPill.runCampaign.option3",defaultMessage:"<gray>Run campaign</gray> for an event promotion"},option4:{id:"setupGenerator.suggestionPill.runCampaign.option4",defaultMessage:"<gray>Run campaign</gray> for a fundraising effort"}}),Mt=[{key:"make-a-plan",title:wt.primary,icon:"/icons/calendar_green.svg",subprompts:[wt.option1,wt.option2,wt.option3,wt.option4]},{key:"manage-tasks",title:kt.primary,icon:"/icons/checkmark-square_blue.svg",subprompts:[kt.option1,kt.option2,kt.option3,kt.option4]},{key:"collect-feedback",title:Ct.primary,icon:"/icons/inbox_orange.svg",subprompts:[Ct.option1,Ct.option2,Ct.option3,Ct.option4]},{key:"track-pipeline",title:_t.primary,icon:"/icons/chart_purple.svg",subprompts:[_t.option1,_t.option2,_t.option3,_t.option4]},{key:"run-campaign",title:It.primary,icon:"/icons/megaphone_yellow.svg",subprompts:[It.option1,It.option2,It.option3,It.option4]}],At=(0,C().YK)({primary:{id:"setupGenerator.suggestionPill.journalEntries",defaultMessage:"Journal entries"},option1:{id:"setupGenerator.suggestionPill.journalEntries.option1",defaultMessage:"<gray>Journal entries</gray> about daily reflections"},option2:{id:"setupGenerator.suggestionPill.journalEntries.option2",defaultMessage:"<gray>Journal entries</gray> about gratitude practices"},option3:{id:"setupGenerator.suggestionPill.journalEntries.option3",defaultMessage:"<gray>Journal entries</gray> about personal growth"},option4:{id:"setupGenerator.suggestionPill.journalEntries.option4",defaultMessage:"<gray>Journal entries</gray> about travel experiences"}}),jt=(0,C().YK)({primary:{id:"setupGenerator.suggestionPill.manageLists",defaultMessage:"Manage lists"},option1:{id:"setupGenerator.suggestionPill.manageLists.option1",defaultMessage:"<gray>Manage lists</gray> for grocery shopping"},option2:{id:"setupGenerator.suggestionPill.manageLists.option2",defaultMessage:"<gray>Manage lists</gray> of books to read"},option3:{id:"setupGenerator.suggestionPill.manageLists.option3",defaultMessage:"<gray>Manage lists</gray> of gift ideas"},option4:{id:"setupGenerator.suggestionPill.manageLists.option4",defaultMessage:"<gray>Manage lists</gray> of travel destinations"}}),Tt=(0,C().YK)({primary:{id:"setupGenerator.suggestionPill.trackHabits",defaultMessage:"Track habits"},option1:{id:"setupGenerator.suggestionPill.trackHabits.option1",defaultMessage:"<gray>Track habits</gray> for daily workouts"},option2:{id:"setupGenerator.suggestionPill.trackHabits.option2",defaultMessage:"<gray>Track habits</gray> for reading more books"},option3:{id:"setupGenerator.suggestionPill.trackHabits.option3",defaultMessage:"<gray>Track habits</gray> for learning a new skill"},option4:{id:"setupGenerator.suggestionPill.trackHabits.option4",defaultMessage:"<gray>Track habits</gray> for improving sleep quality"}}),Pt=(0,C().YK)({primary:{id:"setupGenerator.suggestionPill.setGoals",defaultMessage:"Set goals"},option1:{id:"setupGenerator.suggestionPill.setGoals.option1",defaultMessage:"<gray>Set goals</gray> for financial savings"},option2:{id:"setupGenerator.suggestionPill.setGoals.option2",defaultMessage:"<gray>Set goals</gray> for fitness milestones"},option3:{id:"setupGenerator.suggestionPill.setGoals.option3",defaultMessage:"<gray>Set goals</gray> for personal learning"},option4:{id:"setupGenerator.suggestionPill.setGoals.option4",defaultMessage:"<gray>Set goals</gray> for work-life balance"}}),Bt=(0,C().YK)({primary:{id:"setupGenerator.suggestionPill.saveMemories",defaultMessage:"Save memories"},option1:{id:"setupGenerator.suggestionPill.saveMemories.option1",defaultMessage:"<gray>Save memories</gray> from vacations and trips"},option2:{id:"setupGenerator.suggestionPill.saveMemories.option2",defaultMessage:"<gray>Save memories</gray> from family gatherings"},option3:{id:"setupGenerator.suggestionPill.saveMemories.option3",defaultMessage:"<gray>Save memories</gray> from major life milestones"},option4:{id:"setupGenerator.suggestionPill.saveMemories.option4",defaultMessage:"<gray>Save memories</gray> from concerts and events"}}),Rt=[{key:"journal-entries",title:At.primary,icon:"/icons/book_blue.svg",subprompts:[At.option1,At.option2,At.option3,At.option4]},{key:"manage-lists",title:jt.primary,icon:"/icons/checklist_green.svg",subprompts:[jt.option1,jt.option2,jt.option3,jt.option4]},{key:"track-habits",title:Tt.primary,icon:"/icons/trophy_yellow.svg",subprompts:[Tt.option1,Tt.option2,Tt.option3,Tt.option4]},{key:"set-goals",title:Pt.primary,icon:"/icons/target_orange.svg",subprompts:[Pt.option1,Pt.option2,Pt.option3,Pt.option4]},{key:"save-memories",title:Bt.primary,icon:"/icons/camera_purple.svg",subprompts:[Bt.option1,Bt.option2,Bt.option3,Bt.option4]}];var Lt=()=>o(712437);function Dt(e){return"land_on_app_from_new_user_onboarding"===e||"new_user_onboarding"===e}var Et=()=>o(951592),Wt=()=>o(883959),Nt=()=>o(145017),Ft=()=>o(809226),zt=()=>o(106144),Gt=()=>o(191756),Ht=()=>o(786716),Ot=()=>o(142708),Kt=()=>o(686329),Vt=()=>o(216143),$t=()=>o(366247),Ut=()=>o(98508),Yt=()=>o(413871),qt=()=>o(580257),Zt=()=>o(752414),Qt=()=>o(443252),Xt=()=>o(932322),Jt=()=>o(748267),eo=()=>o(28210),to=()=>o(709237),oo=()=>o(424339);const no=18,ro=16;function io(e){let{store:t,style:o,textStyle:n}=e;const r=(0,S().IS)((e=>({iconAndTitle:{display:"flex",alignItems:"center",gap:4,overflow:"hidden",...o},lockIcon:{width:ro,height:ro,margin:(no-ro)/2,fill:e.icon.primary},text:{flexShrink:1,overflow:"hidden",...n}})),[o,n]),s=(0,i().K8)((()=>{if(t instanceof Yt().SL)return(0,Jt().g)(r.lockIcon);const e=null==t?void 0:t.getIcon();return t instanceof Yt().Bv?(0,_.jsx)(eo().B,{icon:e,disabled:!0,isEmptyPage:!1,size:no}):t instanceof Yt().h4?(0,_.jsx)(oo().x,{store:t,disabled:!0,size:no}):void(0,a().HB)(t)}),[t,r.lockIcon]);return(0,_.jsxs)("div",{style:r.iconAndTitle,children:[s,(0,_.jsx)(Ue().D,{styleName:"UIRegular-14px/Regular",colorName:"primary",customStyles:r.text,children:t instanceof Yt().SL?(0,_.jsx)(C().sA,{id:"workflowTemplatesOnboardingModalLocationPicker.privateLocationName",defaultMessage:"Private"}):(0,_.jsx)(to().A,{store:t})})]})}function ao(e){let{currentParentStore:t,onSelect:r,onDismiss:s}=e;const l=(0,C().tz)(),[d,c]=(0,n.useState)(""),u=(0,n.useMemo)((()=>{const e=new(o(129044).default)("scrolledToTop");return e.setState(!0),e}),[]),p=(0,i().K8)((()=>{var e;const n=et().default.state.currentSpaceStore,r=et().default.state.currentSpaceViewStore,i=null===(e=et().default.state.currentUserStore)||void 0===e?void 0:e.id;if(!r||!n||!i)return[];const a=o(408758).A.getJoinedTeamStores({userId:i,spaceStore:n}).filter((e=>e.canAddOrRemoveTopLevelPages())),s=(0,Qe().IL)(n)?a:[n,...a],l=s.findIndex((e=>e.id===t.id&&e.table===t.table));if(-1===l)return s;const d=s[l];return[d,...s.filter((e=>e!==d))]}),[t.id,t.table]),m=(0,i().K8)((()=>0===d.length?p:(0,o(188877).Ay)(d,p,(e=>e instanceof Yt().SL?l.formatMessage({id:"workflowTemplatesOnboardingModalLocationPickerMenu.private",defaultMessage:"Private"}):e instanceof Yt().h4?e.getName()??"":void(0,a().HB)(e)))),[d,p,l]),g=(0,n.useCallback)((e=>{u.setState(0===e.currentTarget.scrollTop)}),[u]),h=(0,n.useCallback)((e=>{const t=m.find((t=>t.id===e.key));t&&r(t)}),[m,r]),f=(0,S().IS)((e=>({input:{marginTop:6},inputInner:{fontSize:12},menuItemTextWrapper:{display:"flex",alignItems:"center",minHeight:28,marginLeft:10,marginRight:12},locationTitle:{gap:10},overfilteredLabel:{fill:e.text.secondary,paddingBottom:12}})),[]),y=(0,n.useMemo)((()=>[m.length>0?co({filteredLocations:m,currentParentStore:t,onSelect:r,locationTitleStyle:f.locationTitle,menuItemTextWrapperStyle:f.menuItemTextWrapper}):lo({intl:l,overfilteredLabelStyle:f.overfilteredLabel})]),[m,t,r,f.locationTitle,f.menuItemTextWrapper,f.overfilteredLabel,l]);return(0,_.jsx)(o(935091).A,{menuType:o(640979).gu.Popup,header:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(o(401382).Ay,{style:f.input,inputStyle:f.inputInner,itemMarginLeft:8,itemMarginRight:8,focusInitial:!0,value:d,onChange:e=>c(e.target.value),placeholder:l.formatMessage({id:"workflowTemplatesOnboardingModalLocationPickerMenu.searchInputPlaceholder",defaultMessage:"Add to..."})}),(0,_.jsx)(so,{isScrolledToTopStore:u})]}),onClickOutside:s,maxHeight:210,width:252,onScroll:g,children:(0,_.jsx)($e().Ay,{type:$e().Oh.Vertical,initialFocus:0,onAccept:h,sections:y})})}function so(e){let{isScrolledToTopStore:t}=e;const o=(0,i().O$)(t),n=(0,S().IS)((e=>({divider:{height:1,overflow:"visible",boxShadow:`inset 0 0 0 1px ${e.lightDividerColor}`,opacity:o?0:1,transition:"opacity 0.1s ease-in-out"}})),[o]);return(0,_.jsx)("div",{style:n.divider})}function lo(e){let{intl:t,overfilteredLabelStyle:o}=e;return{key:"empty",items:[{key:"noMatchingLocationsItem",render:e=>(0,_.jsx)(Xt().Ay,{...e,title:t.formatMessage({id:"workflowTemplatesOnboardingModalLocationPickerMenu.noLocations",defaultMessage:"No matching teamspaces found"}),style:o}),action:()=>{}}],render:e=>(0,_.jsx)(Ye().A,{...e,disableDesktopPadding:!0})}}function co(e){let{filteredLocations:t,currentParentStore:o,onSelect:n,locationTitleStyle:r,menuItemTextWrapperStyle:i}=e;return{key:"section",items:t.map((e=>({key:e.id,render:t=>(0,_.jsx)(Oe().A,{...t,textWrapperStyle:i,isChecked:e.id===o.id&&e.table===o.table,title:(0,_.jsx)(io,{store:e,style:r})}),action:()=>n(e)}))),render:e=>(0,_.jsx)(Ye().A,{...e,disableDesktopPadding:!1})}}const uo=n.memo(ao);function po(e){let{currentSelectedStore:t,onSelect:r}=e;const[i,a]=(0,n.useState)(!1),s=(0,n.useCallback)((e=>{r(e),a(!1)}),[r]),l=(0,n.useCallback)((()=>a(!1)),[]),d=(0,n.useCallback)((()=>a(!0)),[]),c=(0,S().IS)((e=>({originContainer:{display:"flex",alignItems:"center",gap:2,maxWidth:300},originText:{fontWeight:ze().Wy.medium},addToLabel:{flexShrink:0},button:{width:"max-content",display:"flex",alignItems:"center",gap:4,padding:4,height:24,flexShrink:1,overflow:"hidden"},icon:{width:12,height:12,fill:e.text.tertiary}})),[]);return t?(0,_.jsxs)("div",{style:c.originContainer,children:[(0,_.jsx)(Ue().D,{styleName:"UIRegular-14px/Medium",colorName:"secondary",customStyles:c.addToLabel,children:(0,_.jsx)(C().sA,{id:"workflowTemplatesOnboardingModalLocationPicker.addTo",defaultMessage:"Add to"})}),(0,_.jsx)(Qt().Ay,{open:i,popupType:Qt().nl.Popup,placementToOrigin:ne().W.Bottom,alignmentToOrigin:ne().C.Start,onDismiss:l,origin:(0,_.jsxs)(be().p,{style:c.button,onClick:d,children:[(0,_.jsx)(io,{store:t,textStyle:c.originText}),(0,o(198654).b)(c.icon)]}),render:()=>(0,_.jsx)(uo,{currentParentStore:t,onSelect:s,onDismiss:l}),trapFocus:!0})]}):null}const mo=n.memo(po);var go=()=>o(5724),ho=()=>o(759954);function fo(e){let{parentStore:t,searchQuery:o,handleSearchQueryChange:a,handleTopbarSizeChange:s,scrollerStore:d}=e;const c=(0,C().tz)(),{isPhone:u}=(0,r().Y0)(),p=(0,h().X)("mobile_discovery_modal_gate"),m=t.table===Nt().ev?void 0:t,g=(0,n.useCallback)((e=>{v().A.update((t=>{if(!1===t.open||"pre_signup_build_with_ai"===t.version)throw new Error("Component should not render for pre-signup version");return{...t,parentStore:e}}))}),[]),f=(0,n.useContext)(Ze().eh),y=(0,S().IS)((e=>({topbar:{position:"absolute",top:0,zIndex:2,padding:"16px 24px",width:"100%",display:"grid",gap:24,gridTemplateColumns:`minmax(${m?123:0}px, 1fr) minmax(0, 296px) minmax(0, 1fr)`},topbarMobile:{position:"absolute",top:50,zIndex:2,padding:"16px 16px 12px 19px",width:"100%",display:"flex",flexDirection:"column",gap:14},topbarHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},closeButton:{width:18,height:18,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",background:e.accentColors.translucentGray[75],flexShrink:0},closeButtonHovered:{background:e.accentColors.translucentGray[200]},closeIcon:{width:10,color:e.icon.secondary,stroke:e.icon.secondary,strokeWidth:.5},mobileCloseIcon:{background:e.tint.regular,borderRadius:17,width:34,height:34},locationPickerWrapper:{overflow:"hidden"},input:{width:"100%",padding:"8px 12px",background:e.accentColors.washGlass[0],borderRadius:10},mobileInput:{boxShadow:"dark"===e.mode?e.inputBoxShadow:"0px 0px 0px 1px rgba(0, 0, 0, 0.05), 0px 8px 20px 0px rgba(0, 0, 0, 0.04), 0px 0px 1px 0px rgba(232, 232, 232, 0.8) inset",width:"100%",background:"dark"===e.mode?e.accentColors.translucentGray[100]:e.contentBackground,height:"46px",padding:"12px 12px",borderRadius:"100px",display:"flex",outline:"none",alignItems:"center",border:"none"},mobileSearchIcon:{margin:"5px 0 0 5px"},mobileInputInner:{color:e.accentColors.gray[900],width:"100%",justifyContent:"flex-end",padding:"10px 10px 10px 0px",height:"46px",borderRadius:"100px",display:"flex",alignItems:"center",outline:"none",boxShadow:"none",border:"none"},mobileClearButton:{margin:"0 5px 0 0"},divider:{position:"absolute",bottom:0,width:"100%",overflow:u&&p?"hidden":void 0}})),[m,u,p]),b=(0,i().K8)((()=>{const e=v().A.state;return!!e.open&&(Dt(e.origin)&&e.setupGenerator)}),[]);return(0,_.jsx)(Kt().EE,{onSizeChange:s,children:u&&p?(0,_.jsxs)("div",{style:y.topbarMobile,children:[(0,_.jsxs)("div",{style:y.topbarHeader,children:[m&&(0,_.jsx)("div",{style:y.locationPickerWrapper,children:(0,_.jsx)(mo,{currentSelectedStore:m,onSelect:g})}),(0,_.jsx)(R().A,{icon:e=>(0,Ne().u)({width:20,height:20}),style:y.mobileCloseIcon,isDarkIconColor:!0,onClick:f,ariaLabel:c.formatMessage({defaultMessage:"Close",id:"mobileDiscoverModal.closeButton.label"})})]}),(0,_.jsx)(O().A,{focusInitial:!1,value:o,onChange:a,style:y.mobileInput,placeholder:c.formatMessage({id:"workflowTemplatesOnboardingModal.searchPlaceholder",defaultMessage:"Search"}),format:O().C.Large,inputStyle:y.mobileInputInner,inputElementAttributes:{enterKeyHint:"search"},left:(0,_.jsx)("div",{style:y.mobileSearchIcon,children:(0,_.jsx)(te().Q,{iconGroup:Wt().C,variantName:"large",colorName:"secondary",overrideSize:e=>26})}),forceShowClearButton:0!==o.length,clearButtonStyle:y.mobileClearButton}),(0,_.jsx)("div",{style:y.divider,children:(0,_.jsx)(Ht().A,{type:"top",scrollerStore:d})})]}):(0,_.jsxs)("div",{style:y.topbar,children:[(0,_.jsxs)(l().Y1,{direction:"horizontal",gap:16,align:"center-left",children:[(0,_.jsx)(He().A,{style:y.closeButton,hoveredStyle:y.closeButtonHovered,onClick:f,children:(0,Ne().u)(y.closeIcon)}),m&&(0,_.jsx)("div",{style:y.locationPickerWrapper,children:(0,_.jsx)(mo,{currentSelectedStore:m,onSelect:g})})]}),b?null:(0,_.jsx)(O().A,{focusInitial:!0,value:o,onChange:a,style:y.input,placeholder:c.formatMessage({id:"workflowTemplatesOnboardingModal.searchPlaceholder",defaultMessage:"Search"})}),(0,_.jsx)("div",{style:y.divider,children:(0,_.jsx)(Ht().A,{type:"top",scrollerStore:d})})]})})}let yo=0;function vo(e){let{modalState:t}=e;const o=(0,r().v3)(),a=(0,C().tz)(),{isPhone:s}=(0,r().Y0)(),d=(0,h().X)("mobile_discovery_modal_gate"),[c,u]=(0,n.useState)(yo),p=(0,i().uB)(void 0,qt().A),m=(0,n.useCallback)((e=>{const t=s&&d?167:e.height;yo=t,u(t)}),[s,d]),f=t.collectionTemplatesSearchQuery??"";!function(e){let{environment:t,searchQuery:o}=e;const r=(0,Et().lW)(o,500,((e,t)=>e===t)),a=(0,i().K8)((()=>v().A.state.open?(0,go().oA)():[]),[]);(0,n.useEffect)((()=>{const{state:e}=v().A;if(!e.open)return;if(e.flowId!==bo.flowId&&(bo={query:"",flowId:e.flowId}),bo.query===r)return;const o=bo.query.length??0,n=r.length>0,i=o>0;(0,g().u4)({environment:t,event:{eventName:"template_picker_search_changed",eventProperties:{...(0,y().gM)(e),type:n?i?"search_edited":"search_started":"search_ended",shown_templates_for_search:n?(0,go().Mq)(r,a).map((e=>e.templateId)):void 0}}}),bo={query:r,flowId:e.flowId}}),[t,r,a])}({environment:o,searchQuery:f});const b=(0,S().IS)((e=>{const o=`\n\t\t\tlinear-gradient(\n\t\t\t\tto bottom,\n\t\t\t\ttransparent ${c+1}px,\n\t\t\t\twhite ${c+1.1}px\n\t\t\t),\n\t\t\tlinear-gradient(\n\t\t\t\tto left,\n\t\t\t\tblack 16px,\n\t\t\t\ttransparent 17px\n\t\t\t)`;return{container:{maskImage:o,WebkitMaskImage:o,maskSize:"100% 100%",WebkitMaskSize:"100% 100%",maskPosition:"0 0",WebkitMaskPosition:"0 0",maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",display:"flex",flexDirection:"column",alignItems:"center",paddingTop:"new_user_onboarding"===t.origin?12:c},content:{maxWidth:"calc(100% - 32px)",paddingBottom:16}}}),[t.origin,c]),x=(0,n.useCallback)((e=>{v().A.setState({...t,collectionTemplatesSearchQuery:e.target.value})}),[t]),w=(0,n.useCallback)((async e=>{const{title:n}=e??{},r=function(e){let{environment:t,parentStore:o,title:n}=e;const{currentSpaceStore:r,currentSpaceViewStore:i}=et().default.state;if(r&&i){if(o instanceof Yt().h4)return zt().A5({environment:t,from:"team_workflow_templates_onboarding_modal",spaceStore:r,spaceViewStore:i,teamStore:o,andNavigate:!0,appendOrPrepend:"append",title:n});if(o instanceof Yt().SL){const e="private",o="workflow_templates_onboarding_modal";return Ft().u4({name:"page_created",args:{type:e,from:o}}),zt().SE({environment:t,spaceStore:r,spaceViewStore:i,type:e,outlinerItemFrom:o,title:n})}}}({environment:o,parentStore:t.parentStore,title:n});if(!r)return;const i=await r;i&&(v().A.close({type:"accepted_new_page",newPageTitle:n,blockId:i.id}),(0,g().u4)({environment:o,event:{eventName:"template_picker_empty_item_selected",eventProperties:{...(0,y().gM)(t),type:"page",created_block_id:i.id,created_block_type:i.getType()}}}))}),[o,t]),I=(0,h().X)("workflow_container"),M=(0,n.useCallback)((e=>{var n;t.open&&(!t.existingCollectionInfo||I?t.parentStore&&(0,Zt().my)({environment:o,parentStore:t.parentStore,collectionViewBlockStore:null===(n=t.existingCollectionInfo)||void 0===n?void 0:n.collectionViewBlockStore,title:null==e?void 0:e.title,onFinish:n=>{(0,g().u4)({environment:o,event:{eventName:"template_picker_empty_item_selected",eventProperties:{...(0,y().gM)(t),type:"database",created_block_id:n.id,created_block_type:n.getType()}}}),Gt().uK({environment:o,store:n,visitType:Vt().ig.Link,pageVisitSource:Lt().y8.Create,redirect:!0}),v().A.close({type:"accepted_empty_collection",newCollectionTitle:null==e?void 0:e.title,blockId:n.id})}}):v().A.close({type:"accepted_empty_collection",newCollectionTitle:null==e?void 0:e.title,blockId:t.existingCollectionInfo.collectionViewBlockStore.id}))}),[o,t,I]),A=(0,n.useCallback)(((e,t)=>{(0,ve().handleSelectTemplateFromOnboardingModal)({environment:o,template:e,analyticsArgs:t})}),[o]),j=(0,$t().U)("marketplace_workflow_templates_onboarding_modal",{forceOpenInNewTab:!0}),T=(0,n.useMemo)((()=>({onSelectTemplate:A,onAddEmptyPage:w,onAddEmptyDatabase:M,onMarketplaceClick:j})),[A,w,M,j]),P=(0,i().K8)((()=>{if(t.open)return t.setupGenerator}),[t]),B=(0,i().K8)((()=>null==P?void 0:P.store.state.prompt),[P]),R="collection_settings_create_view_source"!==(L=t.origin)&&"collection_settings_create_view_source_inline"!==L&&"new_page_pills"!==L&&"mobile_new_page_pills"!==L;var L;const D=Dt(t.origin)&&P,E=(0,i().K8)((()=>{var e;return null===(e=et().default.state.currentUserStore)||void 0===e?void 0:e.getDisplayName(a)}),[a]),W=(0,i().K8)((()=>"new_user_onboarding"===t.origin&&"ai_onboarding_phase_2_5"===qe().A.state.flowName),[t.origin]),N=(0,n.useCallback)((async()=>{if(P){var e;if(W)P.setPrompt((0,k().x9d)(`${(0,k().RQ)(P.store.state.prompt).map((e=>(0,k().N8A)(e))).join("")}\n\nThis is for a ${null===(e=qe().A.state.planTypeAndSurveyInfo)||void 0===e?void 0:e.planType} user.`));await(0,Xe().z)({setupGenerator:P,environment:o,parentStore:t.parentStore,allowNavigateToAppBuilder:"new_user_onboarding"!==t.origin,isPhone:s})}}),[P,W,o,t.parentStore,t.origin,s]);return(0,n.useEffect)((()=>{"new_user_onboarding"===t.origin&&(null==P||P.setPrompt(void 0),t.parentStore&&"new_user_template_onboarding"!==t.version&&v().A.setState({...t,version:"new_user_template_onboarding"}))}),[t,t.origin,P]),t.parentStore?(0,_.jsxs)(_.Fragment,{children:["new_user_onboarding"!==t.origin&&(0,_.jsx)(fo,{parentStore:t.parentStore,searchQuery:f,scrollerStore:p,handleSearchQueryChange:x,handleTopbarSizeChange:m}),(0,_.jsx)(Ot().H,{type:Ut().A.Y,store:p,style:b.container,children:(0,_.jsxs)(l().Y1,{width:620,style:b.content,children:[D?(0,_.jsx)(ct,{currentUserName:E,prompt:B,onChange:null==P?void 0:P.setPrompt,onSubmit:N,overrides:{hideSuggestionPills:!0,hideLearnMore:!0}}):null,0===f.length?(0,_.jsx)(ho().oI,{parentStore:t.parentStore,showEmptyPageButton:R,onPromptSubmit:e=>{null==P||P.setPrompt((0,k().x9d)(e)),N()},...T}):(0,_.jsx)(go().H,{query:f,showEmptyPageButton:R,...T})]})})]}):null}let bo={query:"",flowId:void 0};o(333225),o(494367),o(516262),o(573119),o(240480),o(950443),o(619601);var xo=()=>o(206183);function So(){var e;const t=(0,i().O$)(v().A),o=(0,r().v3)(),{isPhone:a}=(0,r().Y0)(),s=(0,i().K8)((()=>t.open&&t.collectionTemplate?(0,y().OX)(t):null),[t]),d=(0,n.useCallback)((e=>{v().A.updatePreviewFocusViewTemplateId(e)}),[]),c=(0,S().IS)((e=>({grid:{position:"relative",flex:"1 0 0",maxHeight:a?"72%":"100%",overflowY:"auto"}})),[a]);return s&&t.open?(0,_.jsxs)(l().Y1,{direction:"vertical",height:"fill",gap:10,children:[(0,_.jsx)(Se().aZ,{caption:(0,_.jsx)(C().sA,{id:"workflowTemplatesOnboardingModal.selectViews",defaultMessage:"Select how you prefer to see your {collectionName}",values:{collectionName:null===(e=t.collectionTemplate)||void 0===e?void 0:e.value.targetCollection.name}})}),(0,_.jsx)("div",{style:c.grid,children:(0,_.jsx)(Te,{contentStyle:{padding:"5px 2px"},children:(0,_.jsx)(wo,{toggleViewSelection:e=>{(0,ve().toggleFeatureSelectionInPreview)({template:e,environment:o})},updatePreviewFocusViewTemplateId:d,...s})})})]}):null}function wo(e){let{toggleViewSelection:t,updatePreviewFocusViewTemplateId:o,...n}=e;const a=(0,r().v3)(),{collectionTemplate:s,userCustomizations:l}=n,d=(0,S().DP)(),c=(0,i().K8)((()=>ye().globalWorkflowTemplates.allOfType({templateIds:s.value.templateItems.map((e=>e.pointer)),type:"collection_view"})),[s]),u=(0,i().K8)((()=>{const e=l.featureTemplateSelections.filter((e=>"collection_view"===e.template.type&&e.selected));return e.length>0?e[0].template.templateId:void 0}),[l]),p=(0,i().K8)((()=>1===l.featureTemplateSelections.filter((e=>e.selected&&"collection_view"===e.template.type)).length),[l]),m=(0,S().IS)((e=>({views:{display:"flex",flexDirection:"column",gap:12,padding:2},button:{display:"flex",width:"100%",flexDirection:"row",alignItems:"center",gap:8,justifyContent:"left",height:52,borderRadius:14,cursor:"pointer",fontSize:14,padding:16,lineHeight:"20px",color:e.text.primary,fontWeight:ze().Wy.medium},baseIconStyle:{flexShrink:0,height:20,width:20},overflowTooltip:{maxWidth:250}})),[]);return u?(0,_.jsx)("div",{style:m.views,children:c.map(((e,r)=>{const i=l.featureTemplateSelections.find((t=>t.template.templateId===e.templateId)),{name:s,type:u,format:h}=e.value,f=Boolean(null==i?void 0:i.selected),v="required"===(null==i?void 0:i.optionality)||p&&f,b=null==h?void 0:h.collection_view_icon;return(0,_.jsxs)(xe,{isSelected:f,style:m.button,onClick:()=>{var r;if(v)return;const i=!f,s=new Set(l.featureTemplateSelections.filter((e=>e.selected)).map((e=>e.template.templateId)));(0,g().u4)({environment:a,event:{eventName:"workflow_template_onboarding_feature_select",eventProperties:{selecting:i?"selecting":"deselecting",previously_selected_feature_template_ids:[...s],feature_template_id:e.templateId,feature_template_type:e.type,step:"viewsSelection",...(0,y().gM)(n)}}}),t(e);const d=(null===(r=n.previewCollectionInfo)||void 0===r?void 0:r.focusViewTemplateId)===e.templateId;if(i)o(e.templateId);else if(d){var u;const t=null===(u=c.find((t=>s.has(t.templateId)&&t.templateId!==e.templateId)))||void 0===u?void 0:u.templateId;o(t)}},children:[b?(0,_.jsx)(De().p,{theme:d,icon:b,style:{...m.baseIconStyle,...f&&{fill:d.text.uiBluePrimary}},size:m.baseIconStyle.width}):xo().ZU[u]({...m.baseIconStyle,...f&&{fill:d.text.uiBluePrimary}}),(0,_.jsx)(me().j,{tooltipStyle:m.overflowTooltip,placement:ne().W.Right,children:s})]},r)}))}):null}function ko(e){let{display:t="modal",overrides:o}=e;const m=(0,i().O$)(v().A),b=(0,r().v3)(),x=(0,h().X)("mobile_discovery_modal_gate");(0,f().A)({shouldPreserveTextSelection:m.open,shouldPreserveBlockSelection:!1,shouldRestoreSelection:!0}),(0,n.useEffect)((()=>{m.open&&s().H6.CollectionViewBlock.load()}),[m.open]);const S=(0,n.useCallback)((()=>{if(!m.open)return;const e=m.setupGenerator;e&&e.trackSessionEnded({reason:"dismissed"}),(0,g().u4)({environment:b,event:{eventName:"workflow_template_onboarding_dismissed",eventProperties:{...(0,y().gM)(m),step:(0,y().hq)(m),dismissed_by:"click_outside"}}})}),[m,b]),w=(0,i().K8)((()=>m.open?(0,y().hq)(m):void 0),[m]),k=(0,n.useCallback)((()=>{v().A.close({type:"canceled"})}),[]),C=(0,n.useMemo)((()=>({width:{type:"fixed",length:1e3},height:{type:"fixed",length:650}})),[]),I=(0,c().FT)({minimumOutsideSpacing:(0,p().a)({partial:{},defaultLength:80})}),M=(0,u().e)([I,{width:{type:"fill"},height:{type:"fill"}}]);return w&&m.open?"content_only"===t?(0,_.jsx)(Io,{currentModalStep:w,overrides:{...o??{},hideCornerButton:!0}}):"embedded"===t?(0,_.jsx)(c().LE,{areaConstraint:M,isSizeTransitionAnimated:!0,children:(0,_.jsx)(c().wC.Consumer,{children:e=>{let{constrainedSize:t}=e;return(0,_.jsx)(l().Y1,{style:t,children:(0,_.jsx)(Io,{currentModalStep:w,overrides:{...o??{},hideCornerButton:!0}})})}})}):"modal"===t?(0,_.jsx)(d().s,{isOpen:!0,areaConstraint:e=>{let{displayMode:t}=e;return"phone"===t&&x?{height:{type:"fill"},width:{type:"fill"}}:C},onDismiss:S,onClosed:k,backgroundAppearance:"wash",keyboardAreaPriority:1,render:e=>{let{sizeRange:t}=e;return(0,_.jsx)(l().Y1,{style:t,children:(0,_.jsx)(Io,{currentModalStep:w,overrides:o})})}}):void(0,a().HB)(t):null}function Co(e){let{children:t}=e;return(0,_.jsx)(m().K,{fallback:()=>null,from:"WorkflowTemplatesOnboardingModal",children:t})}function _o(e){return(0,_.jsx)(Co,{children:(0,_.jsx)(ko,{...e})})}function Io(e){let{currentModalStep:t,overrides:o}=e;const n=(0,i().K8)((()=>v().A.state),[]);if(!n.open)return null;switch(t){case"templateSelection":return(0,_.jsx)(vo,{modalState:n});case"setupGeneratorInput":return(0,_.jsx)(st,{overrides:o});case"setupGeneratorBuilding":return(0,_.jsx)(lt,{overrides:o});case"features":return(0,_.jsx)(Se().If,{overrides:o,featuresStep:!0,children:(0,_.jsx)(we,{overrides:o})});case"viewsSelection":return(0,_.jsx)(Se().If,{overrides:o,children:(0,_.jsx)(So,{})});default:(0,a().HB)(t)}}},93004:(e,t,o)=>{o.d(t,{P:()=>a});var n=()=>o(21164),r=()=>o(818369),i=()=>o(413871);async function a(e){const{environment:t,teamStore:o}=e,a=null==o?void 0:o.getSpaceId(),s=o&&a&&{id:o.id,table:n().Vl,spaceId:a},l=o&&s&&i().md.createChildStore(o,s),d=l&&l.isReady()&&!l.isDefined()&&l.canEdit();if(o&&a&&l&&d){const e=await r().callApi({eventName:"createCollectionViewBlockForPosts",environment:t,data:{spaceId:a,teamId:o.id}});if("failed"===e.type)throw e.error;if("success"===e.type){const{collectionViewBlockId:t}=e.data;return t}}}},96144:(e,t,o)=>{o.d(t,{R:()=>r});o(242343);var n=o(163643);const r=(0,o(680369).wt)("verificationCheck",{viewBox:"0 0 6 7",svg:(0,n.jsx)("path",{d:"M2.84245 6.11619C2.71116 6.30644 2.53392 6.40156 2.31072 6.40156C2.20131 6.40156 2.10066 6.37881 2.00875 6.33332C1.92123 6.28782 1.83589 6.21545 1.75274 6.11619L0.150985 4.25515C0.0503282 4.12694 0 3.99874 0 3.87053C0 3.73406 0.04814 3.61826 0.14442 3.52314C0.245077 3.42388 0.365427 3.37425 0.50547 3.37425C0.597374 3.37425 0.680525 3.39286 0.754923 3.43008C0.833698 3.46317 0.912473 3.52934 0.991247 3.6286L2.28446 5.21049L5.00875 1.07896C5.13129 0.892857 5.28446 0.799805 5.46827 0.799805C5.60394 0.799805 5.72648 0.841161 5.83589 0.923874C5.9453 1.00659 6 1.11618 6 1.25266C6 1.32297 5.98249 1.39327 5.94748 1.46358C5.91685 1.52975 5.88184 1.59178 5.84245 1.64968L2.84245 6.11619Z"})})},103121:(e,t,o)=>{o.d(t,{q:()=>p});o(725707),o(491955),o(403517);var n=()=>o(803290),r=()=>o(505966),i=()=>o(975392),a=()=>o(802955),s=()=>o(633144),l=()=>o(5724),d=()=>o(591966),c=()=>o(548694),u=()=>o(923278);function p(e){let{parentStore:t,returnAllTemplates:o}=e;const p=(0,n().K8)((()=>{const e=s().A.getState();return((null==e?void 0:e.templatesWithRowIds)??[]).map((e=>e.template)).filter((e=>(0,r().Xq)(e,"collection")))}),[],{useDeepEqual:!0}),m=(0,n().K8)((()=>{u().A.getState();const e=(0,c().p3)().function;return e&&(0,r().AU)(e)?e:void 0}),[]),g=(0,n().K8)((()=>(0,d().$)({persona:m,parentStore:t})),[m,t],{useDeepEqual:!0}),h=!(0,n().O$)(a().e);return(0,n().K8)((()=>h?[]:(0,i().hS)([...p,...g,...o?(0,l().oA)():[]],(e=>e.templateId))),[p,g,o,h])}},105373:(e,t,o)=>{o.d(t,{P:()=>i});var n=()=>o(758611),r=()=>o(865226);function i(e){const{environment:t}=e;r().oo({environment:t,url:n().JZ.marketplace,redirect:!1})}},115692:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>n,peopleIcon:()=>r});o(242343);const n={viewBox:"0 0 20 20",svg:(0,o(163643).jsx)("path",{d:"M11.794 3.936c.57-.71 1.414-1.141 2.456-1.141s1.886.43 2.456 1.14c.558.696.823 1.618.823 2.582s-.265 1.885-.823 2.58c-.57.71-1.414 1.141-2.456 1.141s-1.886-.43-2.456-1.14c-.558-.696-.823-1.618-.823-2.581 0-.964.265-1.886.823-2.581m.975.782c-.341.426-.548 1.052-.548 1.799s.207 1.373.548 1.798c.33.41.813.673 1.481.673s1.152-.262 1.481-.673c.342-.425.548-1.051.548-1.798s-.206-1.373-.548-1.799c-.33-.41-.813-.673-1.48-.673-.67 0-1.152.263-1.482.673M5.75 3.625c-.957 0-1.734.396-2.259 1.05-.513.64-.755 1.484-.755 2.362s.242 1.723.755 2.362c.525.654 1.302 1.05 2.259 1.05s1.734-.396 2.259-1.05c.513-.64.755-1.484.755-2.362s-.242-1.723-.755-2.362c-.525-.654-1.302-1.05-2.259-1.05M3.986 7.037c0-.661.183-1.21.48-1.58.284-.354.701-.582 1.284-.582s1 .228 1.284.582c.297.37.48.919.48 1.58s-.183 1.21-.48 1.58c-.284.354-.701.582-1.284.582s-1-.228-1.284-.583c-.297-.37-.48-.918-.48-1.579m-.948 8.918h4.69c.114.467.337.894.634 1.25H3.038c-.68 0-1.327-.286-1.742-.764-.432-.498-.606-1.209-.265-1.92.823-1.72 2.636-2.896 4.719-2.896 1.13 0 2.18.346 3.035.936a6.6 6.6 0 0 0-.681 1.05 4.1 4.1 0 0 0-2.354-.736c-1.611 0-2.98.908-3.592 2.186-.1.21-.063.393.082.56.161.186.455.334.798.334M14.25 11.21c-2.334 0-4.354 1.36-5.202 3.323-.31.715-.125 1.419.308 1.912.419.476 1.065.76 1.744.76h6.3c.679 0 1.325-.284 1.743-.76.434-.493.618-1.197.309-1.912-.848-1.963-2.868-3.324-5.202-3.324m-4.055 3.818c.646-1.494 2.208-2.569 4.055-2.569s3.409 1.075 4.054 2.57a.52.52 0 0 1-.1.59c-.166.19-.461.336-.804.336h-6.3c-.343 0-.639-.146-.805-.336a.52.52 0 0 1-.1-.59"})},r=(0,o(680369).wt)("people",n)},127776:(e,t,o)=>{o.d(t,{Vs:()=>M,gj:()=>I,hX:()=>T,oH:()=>j,v4:()=>A});o(610931);var n=()=>o(488587),r=()=>o(502140),i=()=>o(427091),a=()=>o(214144),s=()=>o(218357),l=()=>o(412527),d=()=>o(779470),c=()=>o(34662),u=()=>o(539174),p=()=>o(818369),m=()=>o(649334),g=()=>o(84543),h=()=>o(477784),f=()=>o(213124),y=()=>o(904697),v=()=>o(513060),b=()=>o(196387),x=()=>o(320462),S=()=>o(485966),w=()=>o(413871),k=()=>o(810733),C=()=>o(93004),_=()=>o(628854);async function I(e){let{environment:t,name:o,description:n,icon:r,accessLevel:i,isDefault:a,flowId:l,createTeamHome:d,teamPermissionRole:c,spacePermissionRole:m,members:g,settings:h}=e;const{currentSpaceStore:f}=S().default.getState();if(!f)throw new Error("currentSpaceStore does not exist");const y=b().default.mark("client_create_team_latency"),v=f.id,x=await p().callApi({eventName:"createTeam",environment:t,data:{spaceId:v,name:o,description:n,icon:r,isDefault:a,accessLevel:i,teamPermissionRole:c,spacePermissionRole:m,members:g,settings:h}});if("failed"===x.type)return void(0,_().O)(x);const{teamId:k}=x.data,I=w().h4.createChildStore(f,{table:s().yK,id:k,spaceId:v});return await I.load(),(0,C().P)({environment:t,teamStore:I}),d&&P({environment:t,teamStore:I}),u()._P(t,{store:I,flowId:l}),b().default.measure(y,{environment:t}),I}function M(e){var t;let{environment:o,page:n}=e;const r=a().JW(),i=(null===(t=n.getParentPointer())||void 0===t?void 0:t.table)!==s().yK?"page_to_team_nested":"page_to_team";u().H8(o,{from:i,flowId:r}),k().A.setState({open:!0,pageStore:n,flowId:r})}async function A(e){var t;let{environment:o,page:n,flowId:r,intl:a}=e;const{accessLevel:l,spacePermissionRole:d,teamPermissionRole:u,members:p}=(0,y().getAccessLevelAndPermissionsForTeamCreatedFromPage)(n),m=(n.isDefined()?n.getModel().getRenderTitle({intl:a,userTimeZone:(0,i().P)(),getRecordModel:n.getRecordModel}):void 0)??c().q4_(n.getTitleValue()),h=await I({environment:o,name:m,icon:null===(t=n.getIcon())||void 0===t?void 0:t.icon,accessLevel:l,isDefault:!1,description:"",flowId:r,createTeamHome:!1,teamPermissionRole:u,spacePermissionRole:d,members:p});if(!h)return;const{currentSpaceViewStore:f}=S().default.state;if(!f)return;const b=await(0,v().U)();g().createAndCommit({userAction:"teamActions.movePageToCreatedTeam",environment:o,canUndo:!0,perform:e=>{b({environment:o,currentSpaceViewStore:f,transaction:e,teamStore:h,action:"move",value:{type:s().yK,id:h.id},targets:[n],location:{type:"append"}})}}),(0,_().F2)({environment:o,teamId:h.id,tab:x().p.Members,from:"create_team_from_page"}),await new Promise((e=>setTimeout((()=>(0,_().Mh)({teamStore:h,environment:o})),100)))}async function j(e){let{environment:t,name:o,description:n,icon:r,flowId:i,trackCreateTeamComplete:a}=e;const{currentSpaceStore:l}=S().default.getState();if(!l)throw new Error("currentSpaceStore does not exist");const d=l.id,c=await p().callApi({eventName:"enableTeams",environment:t,data:{spaceId:d,defaultTeamName:o,defaultTeamIcon:r,defaultTeamDescription:n}});if("failed"===c.type)return void(0,_().O)(c);const{teamId:m}=c.data,g=w().h4.createChildStore(l,{table:s().yK,id:m,spaceId:d});return await g.load(),await P({environment:t,teamStore:g}),u().b0(t,{spaceId:d,store:g,flowId:i}),a&&m&&u()._P(t,{store:g,flowId:i}),g}async function T(e){var t;let{environment:o,teamStore:r,from:i,buttonPopupStore:s}=e;if(!o.currentUser.id)return!1;const l=a().JW(),d=r.isDefault(),c=r.getTeamAccessLevel();if(d)return!1;const p=r.getName(),m=await I({environment:o,name:(0,n().Q)(p||""),description:"",icon:r.getRawIcon(),accessLevel:c,isDefault:d,createTeamHome:!0,teamPermissionRole:null===(t=r.getTeamPermission())||void 0===t?void 0:t.role,spacePermissionRole:r.getSpacePermissionRole(),members:[],settings:r.getSettings(),flowId:l});return!!m&&(u().KK(o,{store:m,from:i}),(0,_().L0)({environment:o,teamStore:m,shouldScroll:!0}),(0,_().F2)({environment:o,teamId:m.id,tab:x().p.General,from:"duplicate_team",buttonPopupStore:s}),new Promise((e=>setTimeout(e,500))).then((()=>{(0,f().jH)(p)})),!0)}async function P(e){const{environment:t,teamStore:o}=e,n=S().default.state.currentSpaceStore,i=S().default.state.currentSpaceViewStore;if(!n||!i)return r().log({level:"error",from:"teamActions",type:"createHomepageOnTeamCreation-SpaceOrSpaceViewStoreError"}),!1;const a=(s=h().A.getIntl(),(0,d().B)(l().wA.teamsHomepage,s));var s;return!!(await m().createTemplateInstance({environment:t,item:a,spaceStore:n,spaceViewStore:i,useMinimalTemplates:!1,type:"inTeam",teamStore:o,from:"homepage_team",isOnboarding:!1}))||(r().log({level:"error",from:"teamActions",type:"createHomepageOnTeamCreation-PageNotCreated"}),!1)}},130081:(e,t,o)=>{o.d(t,{UQ:()=>m,gL:()=>h});o(610931),o(725707),o(500234),o(771702);var n=()=>o(810111),r=()=>o(769884),i=()=>o(33715),a=()=>o(220865),s=()=>o(846287),l=()=>o(996151),d=()=>o(946854),c=()=>o(293665),u=()=>o(927999),p=()=>o(84543);function m(e){let{environment:t,transaction:o,layoutStore:n,position:l,updatedModule:d,sessionId:c}=e;const u=i().Zm[l.area],m=n.getRawModules();if("form_conditional_modules"===u){const e=null==m?void 0:m[u];if(!(null==e?void 0:e[l.moduleId]))throw new Error("Unable to find module being updated.");return void p().createAndCommitOrAppend({environment:t,transaction:o,canUndo:!0,perform(e){p().applyOperation({transaction:e,store:n,operation:r().N4X.updateModuleInArea({pointer:n.pointer,area:u,module:(0,a().Lv)(d)})})},userAction:"BuilderLayoutModules.updateModule"})}if(!m)throw new Error("Unable to find modules");const g=(0,s().LC)(m,(e=>e.id===l.moduleId));if(!g||g.area!==u)throw new Error("Unable to find module being updated.");p().createAndCommitOrAppend({environment:t,transaction:o,canUndo:!0,perform(e){p().applyOperation({transaction:e,store:n,operation:r().N4X.updateModuleInArea({pointer:n.pointer,module:(0,a().Lv)(d),..."views_main_tab_modules"===g.area?{area:g.area,viewId:g.viewId}:{area:g.area}})})},userAction:"BuilderLayoutModules.updateModule"})}function g(e){var t,o,n;let{collectionStore:r,layoutStore:i}=e;const a=new Map,s=r.getFormat(),l=[...null===(t=i.getModules())||void 0===t?void 0:t.page_main,...null===(o=i.getModules())||void 0===o?void 0:o.page_details],c=new Map;null===(n=s.property_visibility)||void 0===n||n.forEach((e=>{c.set(e.property,e)})),l.forEach((e=>{if(!(0,d()._Q)(e))return(0,d().gx)(e)?(a.set(e.propertyId,{property:e.propertyId}),void c.set(e.propertyId,{property:e.propertyId,visibility:"show"})):void 0;e.propertyIds.forEach((e=>{a.set(e,{property:e}),c.set(e,{property:e,visibility:"show"})}))}));const u=r.getNormalizedPropertyGroups();var p;u?u.forEach((e=>{var t;null===(t=e.propertyIds)||void 0===t||t.forEach((e=>{a.has(e)||a.set(e,{property:e})}))})):null===(p=s.collection_page_properties)||void 0===p||p.forEach((e=>{a.has(e.property)||a.set(e.property,e)}));return{propertiesFormat:Array.from(a.values()),propertyVisibility:Array.from(c.values())}}function h(e){let{environment:t,transaction:o,collectionStore:i,layoutStore:a}=e;const{propertiesFormat:s,propertyVisibility:m}=g({collectionStore:i,layoutStore:a});p().createAndCommitOrAppend({environment:t,transaction:o,canUndo:!0,perform(e){const t=a.getBlockChildrenPointers(),o=a.getFormat(),g=a.firstModuleOfType("viewsMain");g&&(0,d().y6)(g)&&t.find((e=>c().L3.isEqual(e,g.collection_view_block_pointer)))&&p().applyOperation({transaction:e,store:a,operation:r().N4X.removeBlockChild(a.pointer,g.collection_view_block_pointer.id)});const h=null==o?void 0:o.previousViewsMainCollectionViewBlockPointer,f=h&&t.find((e=>c().L3.isEqual(e,h)));f&&p().applyOperation({transaction:e,store:a,operation:r().N4X.removeBlockChild(a.pointer,f.id)}),p().applyOperation({transaction:e,store:a,operation:r().N4X.setModulesByAreas(a.pointer,(0,l().K5)())}),p().applyOperation({transaction:e,store:a,operation:r().N4X.deleteFormat(a.pointer)});const y=i.getFormat(),{page_section_visibility:v}=y;u().zA({stores:[i],update:{property_groups:void 0,collection_page_properties:s,property_visibility:m,...v?{page_section_visibility:n().Zi}:void 0},transaction:e})},userAction:"BuilderLayoutModules.resetLayoutToDefault"})}},153642:(e,t,o)=>{o.d(t,{V:()=>i});var n=()=>o(803290),r=()=>o(485966);function i(){return(0,n().K8)((()=>{const{currentSpaceStore:e}=r().default.state;return(null==e?void 0:e.getMemberCountFromPublicSpaceData())??void 0}),[])}},158918:(e,t,o)=>{o.d(t,{A:()=>m});o(362833),o(725707),o(771702),o(403517);var n=o(242343),r=()=>o(237385),i=()=>o(975392),a=()=>o(640979),s=()=>o(273520),l=()=>o(935091),d=()=>o(858023),c=()=>o(743668),u=()=>o(88271),p=o(163643);const m=function(e){let{renderOrigin:t,onClick:n,items:i,getKey:a,renderItem:l,selectedItem:d,onSelect:c,dontCloseParentOnSelect:u,mobileActionSheet:m,menuTitle:g,width:f,minWidth:y,disabled:v,originGap:b,buttonPopupStore:x,sameWidthAsOrigin:S}=e;const w=(0,r().v3)(),k=(0,o(803290).uB)(x,o(962373).A),{device:C}=w,_=(0,o(622286).X)("db_ux_mobile");return(0,p.jsx)(s().Ay,{popupType:C.isMobile?_?s().z7.BottomSheet:s().z7.SlideUp:s().z7.Popup,bottomSheetInitialState:"half",renderOrigin:t,buttonPopupStore:k,placementToOrigin:o(755769).UV.Bottom,onClick:n,render:e=>(0,p.jsx)(h,{parent:e,items:i,getKey:a,renderItem:l,selectedItem:d,onSelect:c,dontCloseParentOnSelect:u,mobileActionSheet:m,menuTitle:g,width:f,minWidth:y}),disabled:v,originGap:b,sameWidthAsOrigin:S})};function g(e,t,o,r,i,a,s,l){return{key:0,render:e=>(0,n.createElement)(u().A,{...e,key:t,topBorder:t>0}),items:e.map((e=>({key:r(e),render:t=>i({...t,value:e,key:r(e),selectedItem:a}),action:()=>{!function(e,t,o){t!==e&&o(e)}(e,a,s),l||o.close()}})))}}function h(e){let{parent:t,items:o,getKey:n,renderItem:s,selectedItem:u,onSelect:m,dontCloseParentOnSelect:h,mobileActionSheet:f,menuTitle:y,width:v,minWidth:b}=e;const x=(0,r().v3)(),{device:S}=x,w=[];if(function(e){return e.length>0&&e[0]instanceof Array}(o))o.forEach(((e,o)=>{const r=g(e,o,t,n,s,u,m,h);w.push(r)}));else{const e=g(o,0,t,n,s,u,m,h);w.push(e)}const k=(0,p.jsx)(d().Ay,{type:d().Oh.Vertical,initialFocus:i().SL(i().Bq(o),(e=>i().n4(e,u))),sections:w});let C;return C=S.isMobile?f?{menuType:a().gu.ActionSheet}:{menuType:a().gu.Modal,title:y,right:(0,p.jsx)(c().DoneMenuText,{}),onClickRight:t.close}:{menuType:a().gu.Popup,width:v||160,minWidth:b},(0,p.jsx)(l().A,{...C,children:k})}},159448:(e,t,o)=>{o.d(t,{lh:()=>a().l,bw:()=>d,UL:()=>w,lI:()=>_,IU:()=>M,g4:()=>S().g,Wo:()=>I().W,EF:()=>A().E,o2:()=>j().o});var n=()=>o(237385),r=()=>o(162901),i=()=>o(818369);var a=()=>o(898055),s=()=>o(803290),l=()=>o(669199);function d(e){return(0,s().K8)((()=>(0,l().eJ)({billingData:e})),[e])}var c=o(242343),u=()=>o(331863),p=()=>o(395665),m=()=>o(997310),g=()=>o(647242),h=()=>o(548694),f=()=>o(863969),y=()=>o(153642),v=()=>o(485966),b=()=>o(670682),x=()=>o(764227),S=()=>o(967010);function w(e){const t=(0,n().v3)(),[o,r]=(0,c.useState)(!1),a=function(e){const t=(0,S().g)("ai_fifty_percent_upgrade"),o=(0,f().O)(),n=(0,b().f_)({spaceId:o}),r=(0,g().eh)(n,"ai"),i=(0,y().V)();return(0,s().K8)((()=>{const o=t&&!r&&(0,x().wb)()&&1===i,n=(0,h().aB)(v().default.state.currentSpaceStore);return Boolean(o&&(!n||"sidebar"!==e||n>=7))}),[t,r,i,e])}(e),l=(0,m().r)(),d=(0,s().K8)((()=>null==l?void 0:l.canAdmin()),[l]),w=(0,s().K8)((()=>null==l?void 0:l.getSpaceId()),[l]);return(0,c.useEffect)((()=>{!async function(){if(a&&w&&d)try{const o=await i().callApi({eventName:"getCustomerOffer",environment:t,data:{spaceId:w,offerCampaign:"ai_fifty_percent_upgrade"}});if("failed"===o.type)return;if("offer"in o.data){var e;const t=(0,u().RS)(null===(e=o.data)||void 0===e?void 0:e.offer);r((0,p().J5)(t))}}catch(o){return}}()}),[t,a,w,d]),o}var k=()=>o(167532),C=()=>o(320168);function _(e){let{spaceId:t}=e;const o=(0,n().v3)(),r=(0,k().J)();return(0,s().K8)((()=>{if(!t||!r)return;const e=C().A.getData(o,{spaceId:t});return null==e?void 0:e.billingData}),[o,t,r])}var I=()=>o(653928);function M(e,t){const o=(0,s().O$)(e),n=(0,y().V)()??1,d=(0,f().O)(),c=(0,a().l)({spaceId:d}),u=(0,s().K8)((()=>(0,l().eJ)({billingData:c})),[c]),[{value:p}]=(0,r().Yb)((()=>i().callApi({eventName:"isEmailEducation",environment:t,data:{}})),[t]);return!!p&&("failed"!==p.type&&(!!p.data.isEligible&&(!!o&&(!!c&&(!Boolean((0,g().KH)(c,"plan"))&&(u&&1===n))))))}var A=()=>o(499104),j=()=>o(338578)},162883:(e,t,o)=>{o.d(t,{G:()=>n});const n=(0,o(680369).xh)("questionMarkCircled",{default:{loader:()=>o.e(35839).then(o.bind(o,701524))},small:{loader:()=>o.e(83633).then(o.bind(o,310618))},mini:{loader:()=>o.e(58431).then(o.bind(o,935828))},large:{loader:()=>o.e(38405).then(o.bind(o,139982))}})},180795:(e,t,o)=>{o.d(t,{C:()=>a});var n=o(242343),r=()=>o(629721),i=()=>o(153235);function a(){const e=(0,r().a)(),[t,o]=(0,n.useState)(0),a=(0,n.useCallback)((()=>{e.current&&o(t+1)}),[t]);return[(0,n.useCallback)((()=>i().Gt.postRender(a)),[a]),t]}},201147:(e,t,o)=>{o.d(t,{Fe:()=>i,wm:()=>a});const n={property_number:!0,property_title:!0,property_person:!0,property_file:!0,property_text:!0,property_checkbox:!0,property_url:!0,property_email:!0,property_phone_number:!0,property_created_by:!0,property_last_edited_by:!0,property_button:!0,property_select:!0,property_multi_select:!0,property_status:!0,property_date:!0,property_created_time:!0,property_last_edited_time:!0,property_last_visited_time:!0,property_relation:!0,property_rollup:!0,property_formula:!0,property_auto_increment_id:!0,property_location:!0,property_verification:!0,property_geo_point:!0,deleted_property:!1,relationsGroup:!0,formSubmit:!0,formQuestion:!0,formTitle:!0,placeholder:!0,transcript:!0,cover:!1,normalizedTitleWithIcon:!1,properties:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,views:!0,viewsMain:!1,recentActivity:!1,collaborators:!1,teamspaces:!1},r={property_number:!0,property_title:!0,property_person:!0,property_file:!0,property_text:!0,property_checkbox:!0,property_url:!0,property_email:!0,property_phone_number:!0,property_created_by:!0,property_last_edited_by:!0,property_button:!0,property_select:!0,property_multi_select:!0,property_status:!0,property_date:!0,property_created_time:!0,property_last_edited_time:!0,property_last_visited_time:!0,property_relation:!0,property_rollup:!0,property_formula:!0,property_auto_increment_id:!0,property_location:!0,property_verification:!0,property_geo_point:!0,deleted_property:!1,formSubmit:!1,formQuestion:!1,formTitle:!1,placeholder:!1,transcript:!1,cover:!1,normalizedTitleWithIcon:!1,properties:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,relationsGroup:!0,editor:!1,views:!1,viewsMain:!1,recentActivity:!1,collaborators:!1,teamspaces:!1};function i(e){return n[e.type]}function a(e){return r[e.type]}},213255:(e,t,o)=>{o.d(t,{A:()=>i});o(242343);var n=o(163643);const r={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M8.65 8.25a.625.625 0 1 0 0 1.25h.725v3.25H8.65a.625.625 0 1 0 0 1.25h2.7a.625.625 0 1 0 0-1.25h-.725V8.875A.625.625 0 0 0 10 8.25zM10.7 6.3a.8.8 0 1 1-1.6 0 .8.8 0 0 1 1.6 0"}),(0,n.jsx)("path",{d:"M10 2.375a7.625 7.625 0 1 0 0 15.25 7.625 7.625 0 0 0 0-15.25M3.625 10a6.375 6.375 0 1 1 12.75 0 6.375 6.375 0 0 1-12.75 0"})]})},i=(0,o(680369).wt)("infoCircle",r)},231786:(e,t,o)=>{o.d(t,{W:()=>p});o(242343);var n=()=>o(174114),r=()=>o(162883),i=()=>o(421338),a=()=>o(126451),s=()=>o(206799),l=()=>o(701270),d=()=>o(103151),c=()=>o(907721),u=o(163643);function p(e){let{tooltipTitle:t,tooltipDescription:o,buttonProps:n,iconSize:a="small",iconColorName:p="tertiary",tooltipWidth:g}=e;return(0,u.jsx)(d().A,{placement:c().W.Top,style:g?{width:g}:void 0,renderTooltip:()=>(0,u.jsxs)(i().Y1,{gap:2,direction:"vertical",children:[(0,u.jsx)(l().D,{styleName:"UISmall-12px/Medium",colorName:"contrastPrimary",children:t}),o?(0,u.jsx)(l().D,{styleName:"UISmall-12px/Regular",colorName:"contrastSecondary",children:o}):null]}),render:e=>(0,u.jsx)(m,{buttonProps:n,...e,children:(0,u.jsx)(s().Q,{iconGroup:r().G,colorName:p,variantName:a})}),textWrap:Boolean(g)})}function m(e){let{children:t,buttonProps:o,...r}=e;const i=(0,n().IS)((()=>({button:{borderRadius:2}})),[]);return o?(0,u.jsx)(a().A,{style:i.button,...o,...r,children:t}):(0,u.jsx)("span",{...r,children:t})}},245313:(e,t,o)=>{o.d(t,{A:()=>a});var n=o(242343),r=()=>o(182613),i=()=>o(205670);const a=function(e){let{shouldPreserveTextSelection:t,shouldPreserveBlockSelection:a,shouldRestoreSelection:s,onClearSelection:l}=e;const d=(0,o(237385).v3)(),c=(0,n.useRef)(t),u=(0,n.useRef)(""),p=(0,n.useRef)({selectionState:null,textSelectionState:null}),m=(0,n.useCallback)((()=>p.current),[]),g=(0,n.useCallback)((()=>{u.current=window.location.href,i().default.hasSelection()&&(p.current.textSelectionState=i().default.cloneState()),o(384221).clear({preventDismissMobileKeyboard:!0,environment:d}),a&&(r().default.isSelected()&&(p.current.selectionState=r().default.cloneState()),o(360378).IU({preventDismissMobileKeyboard:!0,environment:d}))}),[d,a]),h=(0,n.useCallback)((()=>{p.current={selectionState:null,textSelectionState:null},u.current="",null==l||l()}),[l]),f=(0,n.useCallback)((()=>{const{selectionState:e,textSelectionState:t}=p.current;window.location.href===u.current&&(t&&"mode"in t&&"editing"===t.mode&&i().default.setState({...i().default.state,...t}),a&&e&&r().default.setState({...r().default.state,...e})),h()}),[h,a]);return(0,o(269280).l)((()=>{c.current=t,t&&g()})),(0,n.useEffect)((()=>(c.current&&!t?s?f():h():!c.current&&t&&g(),c.current=t,()=>{s?f():h()})),[t,h,f,g,s]),{clearSavedSelection:h,restoreSavedSelection:f,getSavedSelection:m}}},259869:(e,t,o)=>{o.d(t,{ZK:()=>r,aC:()=>i,lO:()=>a});var n=()=>o(975392);function r(e){if(n().sb(e).length<=3)return{success:!1,reason:{type:"password_too_consistent"}};if(e.length>=15)return{success:!0};if(e.length<8)return{success:!1,reason:{type:"password_too_short"}};const t=i(e),o=a(e);return t&&o?{success:!0}:t||o?o?t?{success:!1,reason:{type:"password_too_short"}}:{success:!1,reason:{type:"password_missing_letter"}}:{success:!1,reason:{type:"password_missing_number"}}:{success:!1,reason:{type:"password_missing_letter_and_number"}}}function i(e){return e.match(/[a-z]/i)}function a(e){return e.match(/\d/)}},265516:(e,t,o)=>{o.d(t,{Q:()=>n,a:()=>r});let n=function(e){return e[e.Left=0]="Left",e[e.Right=1]="Right",e}({});class r extends(()=>o(129044))().default{getInitialState(){return{dayStoreMap:new Map,isDragging:!1,startingMonth:0}}}},279968:(e,t,o)=>{o.d(t,{h:()=>r});o(242343);var n=o(163643);const r=(0,o(680369).wt)("globe2",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M8 15.126C11.8623 15.126 15.0615 11.9336 15.0615 8.06445C15.0615 4.20215 11.8623 1.00293 7.99316 1.00293C4.13086 1.00293 0.938477 4.20215 0.938477 8.06445C0.938477 11.9336 4.1377 15.126 8 15.126ZM3.88477 3.76465C4.56836 3.11523 5.39551 2.61621 6.31836 2.34277C5.83301 2.82812 5.42285 3.51172 5.11523 4.3457C4.63672 4.19531 4.22656 3.99707 3.88477 3.76465ZM9.68848 2.34961C10.6045 2.62305 11.4316 3.11523 12.1084 3.76465C11.7734 4.00391 11.3633 4.19531 10.8848 4.35254C10.5771 3.51172 10.167 2.82812 9.68848 2.34961ZM8.47852 2.56836C9.0459 2.8418 9.56543 3.58008 9.93457 4.58496C9.4834 4.66699 8.99805 4.71484 8.47852 4.73535V2.56836ZM6.06543 4.58496C6.44141 3.58008 6.9541 2.8418 7.52148 2.56836V4.73535C7.00195 4.71484 6.5166 4.66699 6.06543 4.58496ZM2.05273 7.58594C2.14844 6.42383 2.58594 5.35059 3.25586 4.46875C3.67285 4.77637 4.21289 5.04297 4.8418 5.24121C4.66406 5.95215 4.54785 6.74512 4.51367 7.58594H2.05273ZM11.4863 7.58594C11.4521 6.74512 11.3359 5.95215 11.1582 5.24121C11.7871 5.04297 12.3271 4.7832 12.7373 4.46875C13.4141 5.35059 13.8516 6.42383 13.9473 7.58594H11.4863ZM5.49121 7.58594C5.52539 6.84082 5.62793 6.12988 5.78516 5.4873C6.33203 5.59668 6.91309 5.66504 7.52148 5.69238V7.58594H5.49121ZM8.47852 7.58594V5.69238C9.08691 5.66504 9.66797 5.59668 10.2148 5.4873C10.3721 6.12988 10.4746 6.84082 10.5088 7.58594H8.47852ZM2.05273 8.54297H4.51367C4.54785 9.39746 4.66406 10.1973 4.8418 10.915C4.21973 11.1133 3.68652 11.373 3.27637 11.6807C2.59277 10.792 2.14844 9.71191 2.05273 8.54297ZM5.49121 8.54297H7.52148V10.4707C6.91992 10.498 6.33203 10.5664 5.79199 10.6689C5.62793 10.0195 5.51855 9.29492 5.49121 8.54297ZM8.47852 10.4707V8.54297H10.5088C10.4814 9.29492 10.3721 10.0195 10.208 10.6689C9.66797 10.5664 9.08691 10.498 8.47852 10.4707ZM11.1582 10.915C11.3428 10.1973 11.4521 9.39746 11.4863 8.54297H13.9473C13.8516 9.71191 13.4072 10.792 12.7236 11.6807C12.3135 11.373 11.7803 11.1133 11.1582 10.915ZM8.47852 11.4277C8.99121 11.4482 9.47656 11.4961 9.9209 11.5781C9.55176 12.5625 9.03906 13.2939 8.47852 13.5605V11.4277ZM6.0791 11.5781C6.52344 11.4961 7.00879 11.4482 7.52148 11.4277V13.5605C6.96094 13.2939 6.44824 12.5625 6.0791 11.5781ZM3.90527 12.3848C4.24023 12.1523 4.65039 11.9609 5.12207 11.8105C5.42969 12.6309 5.83301 13.3008 6.30469 13.7793C5.40234 13.5059 4.58203 13.0205 3.90527 12.3848ZM10.8779 11.8105C11.3496 11.9609 11.7598 12.1523 12.0947 12.3848C11.418 13.0205 10.5977 13.5059 9.69531 13.7793C10.167 13.3008 10.5703 12.6309 10.8779 11.8105Z"})})},308839:(e,t,o)=>{o.d(t,{V_:()=>P,WR:()=>T,eu:()=>j,xE:()=>R,xX:()=>B});o(610931);var n=()=>o(486826),r=(o(242343),()=>o(502140)),i=()=>o(647242),a=()=>o(678988),s=()=>o(653998),l=()=>o(450475),d=()=>o(3311),c=()=>o(421650),u=()=>o(818369),p=()=>o(145046),m=()=>o(70989),g=()=>o(137476),h=()=>o(485966),f=()=>o(436622),y=()=>o(836331),v=()=>o(855827),b=()=>o(397138),x=()=>o(104838),S=()=>o(384055),w=()=>o(298520),k=()=>o(613313),C=()=>o(111826),_=()=>o(879205),I=()=>o(30299),M=o(163643);const A=(0,s().YK)({applyingBusinessTrial:{id:"trialUpsellActions.applyingBusinessTrial",defaultMessage:"Setting up your Business trial…"}});async function j(e){var t,o;const{environment:l,stripe:d,elements:u,trialData:m,trialDays:g,sessionId:y,customerName:v,businessName:b}=e;if(!u||!d)return void r().log({level:"error",from:"trialUpsellActions",type:"StripeError",error:{miscDataString:"Stripe elements not initialized when user tried to upgrade"}});const{error:S}=await u.submit();if(S)return void c().$X(l,{error:"could not submit form",error_type:"payment_method"});const A=await d.createPaymentMethod({elements:u});if(A.error)return void c().$X(l,{error:A.error.message,error_type:"payment_method"});if(!A.paymentMethod)return void c().$X(l,{error:"could not create token",error_type:"payment_method"});const j={type:"paymentMethodId",value:A.paymentMethod.id},T=h().default.state.currentSpaceStore;if(!T)return;const P=T.id,B=await w().p_({environment:l,spaceId:P}),R=await f().A.awaitData(l,{spaceId:P});if(!R)throw new Error("Billing data not loaded");const L=(0,i().lQ)(R),D=_().A.state.selectedCurrencyCode??"USD",E=(0,I().Zr)(),W=(0,a().vk)(B,{interval:"month",product:E,currency:D}),N=(0,k().Le)(),F=(0,a().vH)(L,{price:W,quantity:1},{isMay13PackagingChangesEnabled:N}),z=n().c9.now().plus({days:g});return await async function(e){const{environment:t,spaceStore:o,paymentData:n,desiredState:r,stripe:i,trialData:a,customerName:l,businessName:d,addressZip:u,addressCountry:m,sessionId:g}=e,h=await f().A.awaitData(t,{spaceId:o.id});try{const e=await x().nV({environment:t,sessionId:g,spaceStore:o,desiredState:r,paymentData:n,from:"onboarding",trialData:a,billingEmail:(0,C().cs)(h),customerName:l,businessName:d,addressZip:u,addressCountry:m}),c=e.paymentIntentClientSecret,f=e.paymentIntentStatus;if(c&&"requires_action"===f){const{error:e}=await i.handleNextAction({clientSecret:c});e&&(await x().M2({environment:t,spaceStore:o,from:"subscription_upgrade_onboarding_failed_payment"}),p().f1((0,M.jsx)(s().sA,{id:"subscription.upgrade.payment_failed",defaultMessage:"Your payment could not be processed. Please provide an alternate payment method or you will lose access to Notion."})))}return"success"}catch{return void c().AF(t)}}({environment:l,spaceStore:T,desiredState:{...F,trialEnd:z},paymentData:j,stripe:d,trialData:m,customerName:v,businessName:b,addressZip:(null===(t=A.paymentMethod.billing_details.address)||void 0===t?void 0:t.postal_code)||"",addressCountry:(null===(o=A.paymentMethod.billing_details.address)||void 0===o?void 0:o.country)||"",sessionId:y})}const T=(0,o(975392).sg)(j,1e3,{leading:!0,trailing:!1});async function P(e){let{spaceStore:t,environment:o}=e;const n=t.id;if(await(0,S().L6)({environment:o,spaceId:n,offerCampaign:"reverse"})&&(0,k().s)(o)){await R(t,o,"going_multiplayer")&&await v().A.resetData(o,{spaceId:n})}}async function B(e,t,o){try{m().m({message:A.applyingBusinessTrial});const n=e.id,r=await u().callApi({eventName:"applyReverseTrial",environment:t,data:{spaceId:n,trialData:{id:"business_reverse",from:o}}});return"success"===r.type?((0,g().u4)({environment:t,event:{eventName:"trial_apply_attempt",eventProperties:{trial_id:"business_reverse",success:"success"===r.data.status}}}),await x().o2({environment:t,spaceStore:e}),m().V(),"success"===r.data.status):(L("business_reverse",t,r.error),m().V(),!1)}catch(n){return L("business_reverse",t,n),m().V(),!1}}async function R(e,t,o){let n="reverse";try{const r=await(0,b().G)(t),i=Boolean(y().default.checkGate({gateName:"apply_reverse_trial_key"}));r&&(n="reverse_mm_ent");const a=e.id,s=`${a}_timed_trial`,l=i?(0,d().gB)(s):void 0,c=await u().callApi({eventName:"applyReverseTrial",environment:t,data:{spaceId:a,trialData:{id:n,from:o},idempotencyKey:l}});return"success"===c.type?((0,g().u4)({environment:t,event:{eventName:"trial_apply_attempt",eventProperties:{trial_id:n,success:"success"===c.data.status}}}),await x().o2({environment:t,spaceStore:e}),"success"===c.data.status):(L(n,t,c.error),!1)}catch(r){return L(n,t,r),!1}}function L(e,t,o){(0,g().u4)({environment:t,event:{eventName:"trial_apply_attempt",eventProperties:{trial_id:e,success:!1}}}),r().log({level:"error",from:"trialUpsellActions",type:"applyReverseTrialError",error:(0,l().convertErrorToLog)(o)})}},309461:(e,t,o)=>{o.d(t,{AL:()=>i,Ay:()=>s,J_:()=>a});o(242343);var n=()=>o(884373),r=o(163643);function i(e){return e?18:60}function a(){return(0,r.jsx)(n().A,{size:37})}const s=function(e){let{children:t,controlRow:n,bannerText:a,controlRowPaddingTopBottom:s,removeBoxShadow:l,contentPaddingLeftRight:d,controlRowPaddingLeftRight:c,getPaddingTopBottom:u,disableScroller:p,maxWidth:m,centerContent:g}=e;const h=(0,o(237385).v3)(),{device:f}=h,y=u?u():f.isMobile?18:36,v=(0,o(174114).IS)((e=>({containerWithScroller:{display:"flex",flexDirection:"column",width:"100%",height:"100%",maxWidth:m??void 0,backgroundColor:e.cardContentBackground},scroller:{flexGrow:1,WebkitOverflowScrolling:"touch",transform:"translateZ(0)",paddingLeft:d??i(f.isMobile),paddingRight:d??i(f.isMobile),paddingTop:a?15:y,paddingBottom:a?22:y,...g?{display:"flex",alignItems:"center",justifyContent:"center"}:null},controlRowWithScroller:{flexGrow:0,flexShrink:0,paddingLeft:c??i(f.isMobile),paddingRight:c??i(f.isMobile),paddingTop:s,paddingBottom:s,boxShadow:l?void 0:`0 -1px 0 ${e.regularDividerColor}`},containerWithoutScroller:{paddingLeft:i(f.isMobile),paddingRight:i(f.isMobile)},childrenWithoutScroller:{paddingTop:y,paddingBottom:y},controlRowWithoutScroller:{paddingTop:s,paddingBottom:s,boxShadow:`0 -1px 0 ${e.regularDividerColor}`}})),[m,d,f.isMobile,a,y,c,s,l,g]);return p?(0,r.jsxs)("div",{style:v.containerWithoutScroller,children:[(0,r.jsx)("div",{style:v.childrenWithoutScroller,children:t}),n&&(0,r.jsx)("div",{style:v.controlRowWithoutScroller,children:n})]}):(0,r.jsxs)("div",{style:v.containerWithScroller,children:[a&&(0,r.jsx)(o(473852).A,{styleKey:o(653147).q.Blue,isMobile:!1,children:a}),(0,r.jsx)(o(142708).H,{type:o(98508).A.All,style:v.scroller,children:t}),n&&(0,r.jsx)("div",{style:v.controlRowWithScroller,children:n})]})}},338578:(e,t,o)=>{o.d(t,{o:()=>d});var n=o(242343),r=()=>o(237385),i=()=>o(803290),a=()=>o(485966),s=()=>o(298520),l=()=>o(879205);function d(){const e=(0,r().v3)(),{spaceId:t,isGuest:o}=(0,i().K8)((()=>{const e=a().default.state.currentSpaceStore,t=null==e?void 0:e.getPublicSpaceData();return{spaceId:null==e?void 0:e.id,isGuest:"none"===(null==t?void 0:t.role)}}),[]);return(0,n.useEffect)((()=>{t&&!o&&(0,s().$W)({environment:e,spaceId:t})}),[e,t,o]),(0,i().K8)((()=>l().A.state.prices),[])}},345022:(e,t,o)=>{o.d(t,{A:()=>r});o(242343);var n=o(163643);const r=function(e){let{style:t,styleParentContainer:r,isTriColored:i}=e;const a=(0,o(653998).tz)();return(0,n.jsxs)("div",{"aria-valuetext":a.formatMessage({id:"loadingDots.label",defaultMessage:"Loading..."}),role:"progressbar",className:"loading-dots",style:{...r},children:[(0,n.jsx)("div",{className:"loading-dot",style:{...t,...i&&{backgroundColor:"#F6C050"}}}),(0,n.jsx)("div",{className:"loading-dot",style:{...t,...i&&{backgroundColor:"#ED6A5F"}}}),(0,n.jsx)("div",{className:"loading-dot",style:{...t,...i&&{backgroundColor:"#5F9CDB"}}})]})}},350893:(e,t,o)=>{o.d(t,{N:()=>s});var n=()=>o(561074),r=(o(242343),()=>o(174114)),i=()=>o(701270),a=o(163643);function s(e){const{text:t,styleName:o,animate:s,colorName:l,fadedColorName:d}=e,c=function(e){const{colorName:t="primary",fadedColorName:o="quaternary"}=e;return(0,r().IS)((e=>{const n=e.text[o],r=e.text[t],i={backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundColor:n,backgroundSize:"200% 100%",backgroundRepeat:"repeat",userSelect:"none",backgroundImage:`linear-gradient(to right, var(--shimmer-text-faded-color) 0%, ${r} 50%, var(--shimmer-text-faded-color) 100%)`,transition:"--shimmer-text-faded-color 0.25s ease-in-out, background-color 0.25s ease-in-out"};return{animated:{...i,"--shimmer-text-faded-color":n},static:{...i,"--shimmer-text-faded-color":r}}}),[t,o])}({colorName:l,fadedColorName:d});return s?(0,a.jsx)(i().D,{styleName:o,children:(0,a.jsx)(n().P.div,{style:s?c.animated:c.static,animate:{backgroundPosition:["200% 50%","0% 50%"]},transition:{ease:"linear",duration:1.5,repeat:1/0},children:t})}):(0,a.jsx)(i().D,{styleName:o,children:t})}},354148:(e,t,o)=>{o.d(t,{Wx:()=>a,fM:()=>n,l9:()=>r,sM:()=>i});const n=new(o(129978).O2)("framer-motion",(async()=>await Promise.all([o.e(44711),o.e(53321),o.e(37043)]).then(o.bind(o,196959))));function r(e){return e.useAnimate()}function i(e){return e.useAnimation()}function a(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];return e.useInView(...o)}},366247:(e,t,o)=>{o.d(t,{U:()=>c});var n=o(242343),r=()=>o(237385),i=()=>o(758611),a=()=>o(865226),s=()=>o(119186),l=()=>o(137476),d=()=>o(105373);function c(e,t){const o=(0,r().v3)(),{isPhone:c}=(0,r().Y0)(),u=(0,n.useContext)(s().e);return(0,n.useCallback)((n=>{if((0,l().u4)({environment:o,event:{eventName:e,eventProperties:{}}}),c)null==u||u(),a().oo({environment:o,url:"/nativetab/templates",redirect:!0});else{const e="click"===n.type&&(n.metaKey||n.ctrlKey);(null==t?void 0:t.forceOpenInNewTab)||e?a().oo({environment:o,url:i().JZ.marketplace,openInNew:"tab",makeTabActive:!e&&o.device.isDesktop}):(0,d().P)({environment:o})}}),[o,e,t,c,u])}},377963:(e,t,o)=>{o.d(t,{I:()=>r});o(242343);var n=o(163643);const r=(0,o(680369).wt)("chevronLeft",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M3.61816 8.06445C3.61816 8.29688 3.70703 8.49512 3.8916 8.67285L9.22363 13.8887C9.36719 14.0391 9.55859 14.1143 9.77734 14.1143C10.2217 14.1143 10.5703 13.7725 10.5703 13.3213C10.5703 13.1025 10.4814 12.9043 10.3311 12.7539L5.52539 8.06445L10.3311 3.375C10.4814 3.21777 10.5703 3.01953 10.5703 2.80078C10.5703 2.35645 10.2217 2.01465 9.77734 2.01465C9.55859 2.01465 9.36719 2.08984 9.22363 2.24023L3.8916 7.45605C3.70703 7.63379 3.625 7.83203 3.61816 8.06445Z"})})},383641:(e,t,o)=>{o.d(t,{N:()=>d});var n=o(242343);class r extends n.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function i({children:e,isPresent:t}){const o=(0,n.useId)(),i=(0,n.useRef)(null),a=(0,n.useRef)({width:0,height:0,top:0,left:0});return(0,n.useInsertionEffect)((()=>{const{width:e,height:n,top:r,left:s}=a.current;if(t||!i.current||!e||!n)return;i.current.dataset.motionPopId=o;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`\n          [data-motion-pop-id="${o}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${n}px !important;\n            top: ${r}px !important;\n            left: ${s}px !important;\n          }\n        `),()=>{document.head.removeChild(l)}}),[t]),n.createElement(r,{isPresent:t,childRef:i,sizeRef:a},n.cloneElement(e,{ref:i}))}const a=({children:e,initial:t,isPresent:r,onExitComplete:a,custom:l,presenceAffectsLayout:d,mode:c})=>{const u=(0,o(616098).M)(s),p=(0,n.useId)(),m=(0,n.useMemo)((()=>({id:p,initial:t,isPresent:r,custom:l,onExitComplete:e=>{u.set(e,!0);for(const t of u.values())if(!t)return;a&&a()},register:e=>(u.set(e,!1),()=>u.delete(e))})),d?void 0:[r]);return(0,n.useMemo)((()=>{u.forEach(((e,t)=>u.set(t,!1)))}),[r]),n.useEffect((()=>{!r&&!u.size&&a&&a()}),[r]),"popLayout"===c&&(e=n.createElement(i,{isPresent:r},e)),n.createElement(o(642804).t.Provider,{value:m},e)};function s(){return new Map}const l=e=>e.key||"";const d=({children:e,custom:t,initial:r=!0,onExitComplete:i,exitBeforeEnter:s,presenceAffectsLayout:d=!0,mode:c="sync"})=>{(0,o(609317).V)(!s,"Replace exitBeforeEnter with mode='wait'");const u=(0,n.useContext)(o(61034).L).forceRender||(0,o(180795).C)()[0],p=(0,o(629721).a)(),m=function(e){const t=[];return n.Children.forEach(e,(e=>{(0,n.isValidElement)(e)&&t.push(e)})),t}(e);let g=m;const h=(0,n.useRef)(new Map).current,f=(0,n.useRef)(g),y=(0,n.useRef)(new Map).current,v=(0,n.useRef)(!0);if((0,o(34979).E)((()=>{v.current=!1,function(e,t){e.forEach((e=>{const o=l(e);t.set(o,e)}))}(m,y),f.current=g})),(0,o(939448).l)((()=>{v.current=!0,y.clear(),h.clear()})),v.current)return n.createElement(n.Fragment,null,g.map((e=>n.createElement(a,{key:l(e),isPresent:!0,initial:!!r&&void 0,presenceAffectsLayout:d,mode:c},e))));g=[...g];const b=f.current.map(l),x=m.map(l),S=b.length;for(let o=0;o<S;o++){const e=b[o];-1!==x.indexOf(e)||h.has(e)||h.set(e,void 0)}return"wait"===c&&h.size&&(g=[]),h.forEach(((e,o)=>{if(-1!==x.indexOf(o))return;const r=y.get(o);if(!r)return;const s=b.indexOf(o);let v=e;if(!v){const e=()=>{h.delete(o);const e=Array.from(y.keys()).filter((e=>!x.includes(e)));if(e.forEach((e=>y.delete(e))),f.current=m.filter((t=>{const n=l(t);return n===o||e.includes(n)})),!h.size){if(!1===p.current)return;u(),i&&i()}};v=n.createElement(a,{key:l(r),isPresent:!1,onExitComplete:e,custom:t,presenceAffectsLayout:d,mode:c},r),h.set(o,v)}g.splice(s,0,v)})),g=g.map((e=>{const t=e.key;return h.has(t)?e:n.createElement(a,{key:l(e),isPresent:!0,presenceAffectsLayout:d,mode:c},e)})),n.createElement(n.Fragment,null,h.size?g:g.map((e=>(0,n.cloneElement)(e))))}},404354:(e,t,o)=>{o.d(t,{b:()=>r});o(242343);var n=o(163643);const r=(0,o(680369).wt)("sendArrow",{viewBox:"0 0 20 20",svg:(0,n.jsx)("path",{d:"M9.79883 18.5894C14.6216 18.5894 18.5894 14.6216 18.5894 9.79883C18.5894 4.96777 14.6216 1 9.79053 1C4.95947 1 1 4.96777 1 9.79883C1 14.6216 4.96777 18.5894 9.79883 18.5894ZM9.79883 14.3062C9.20947 14.3062 8.76953 13.9077 8.76953 13.3433V9.69922L8.86914 8.00586L8.25488 8.84424L7.3916 9.81543C7.23389 10.0063 6.98486 10.1143 6.72754 10.1143C6.21289 10.1143 5.84766 9.75732 5.84766 9.25928C5.84766 8.99365 5.92236 8.79443 6.12158 8.58691L8.96045 5.61523C9.19287 5.35791 9.4585 5.2417 9.79883 5.2417C10.1309 5.2417 10.4048 5.36621 10.6372 5.61523L13.4761 8.58691C13.667 8.79443 13.75 8.99365 13.75 9.25928C13.75 9.75732 13.3848 10.1143 12.8618 10.1143C12.6128 10.1143 12.3638 10.0063 12.2061 9.81543L11.3428 8.86914L10.7202 7.99756L10.8281 9.69922V13.3433C10.8281 13.9077 10.3799 14.3062 9.79883 14.3062Z"})})},413851:(e,t,o)=>{o.d(t,{g:()=>i});o(242343);var n=o(163643);const r={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M12.876 7.978a.625.625 0 1 0-1.072-.643L9.25 11.59 7.815 9.916a.625.625 0 0 0-.95.814l2 2.333a.625.625 0 0 0 1.01-.085z"}),(0,n.jsx)("path",{d:"M10.28 2.241a.63.63 0 0 0-.56 0l-1.89.945a7.5 7.5 0 0 1-3.342.789H3.7a.625.625 0 0 0-.625.625v6.933a5.13 5.13 0 0 0 3.106 4.71l3.573 1.532a.63.63 0 0 0 .492 0l3.573-1.532a5.13 5.13 0 0 0 3.106-4.71V4.6a.625.625 0 0 0-.625-.625h-.788c-1.16 0-2.305-.27-3.343-.79zM8.39 4.304 10 3.499l1.61.805a8.7 8.7 0 0 0 3.902.921h.163v6.308c0 1.55-.924 2.95-2.349 3.562L10 16.52l-3.326-1.425a3.88 3.88 0 0 1-2.349-3.562V5.225h.163c1.354 0 2.69-.315 3.902-.921"})]})},i=(0,o(680369).wt)("checkmarkShield",r)},442161:(e,t,o)=>{o.d(t,{t:()=>a});var n=o(242343),r=()=>o(237385),i=()=>o(818369);function a(){const e=(0,r().v3)(),[t,o]=(0,n.useState)();return(0,n.useEffect)((()=>{!async function(){const t=await i().callApi({eventName:"getExternalOrgData",environment:e,data:{}});if("failed"===t.type)return;const n=t.data;o(n)}()}),[e]),t}},469118:(e,t,o)=>{o.d(t,{C:()=>r});o(242343);const n={viewBox:"0 0 16 16",svg:(0,o(163643).jsx)("path",{d:"M9.372 3.238a.625.625 0 1 0-.884.884l3.253 3.253H2.75a.625.625 0 0 0 0 1.25h8.991l-3.253 3.253a.625.625 0 0 0 .884.884l4.32-4.32a.625.625 0 0 0 0-.884z"})},r=(0,o(680369).wt)("arrowStraightRightSmall",n)},473852:(e,t,o)=>{o.d(t,{A:()=>l});var n=o(242343),r=()=>o(220413),i=()=>o(31448),a=()=>o(653147),s=o(163643);const l=function(e){const{children:t,isMobile:l,textSize:d,shouldUseDivider:c,style:u,styleKey:p}=e,{WindowSizeStore:m}=(0,o(237385).v3)(),[g,h,f]=(0,o(803290).K8)((()=>[m.getSafePaddingLeftCSS(10),m.getSafePaddingLeftCSS(14),m.getSafePaddingRightCSS(14)]),[m]),y=(0,n.useMemo)((()=>l?"small"!==d?i().J.UIRegular.mobile:i().J.UISmall.mobile:"small"!==d?i().J.UIRegular.desktop:i().J.UISmall.desktop),[l,d]),v=(0,n.useMemo)((()=>void 0===d?1.2:l?"small"!==d?i().K_.UIRegular.mobile:i().K_.UISmall.mobile:"small"!==d?i().K_.UIRegular.desktop:i().K_.UISmall.desktop),[l,d]),b=(0,o(174114).IS)((e=>({bannerStyle:{display:"flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",...!l&&{padding:"0px 12px"},...l&&{paddingLeft:h,paddingRight:f},fontSize:y,lineHeight:v,cursor:"default",...c?{minHeight:45,borderBottom:`1px solid ${r().Ay.halfWhite}`}:{minHeight:44}},[`colorStyle__${a().q.Red}`]:{color:r().Ay.white,background:r().Ay.red,...l&&{justifyContent:"flex-start"}},[`colorStyle__${a().q.Blue}`]:{color:r().Ay.white,fill:r().Ay.white,background:r().Ay.blue,...l&&{paddingLeft:g,paddingRight:14}},[`colorStyle__${a().q.Beige}`]:{background:e.beigeBannerBackground,paddingLeft:l?12:18,paddingRight:l?14:16},[`colorStyle__${a().q.White}`]:{background:e.contentBackground,color:e.text.tertiary,fill:e.lightIconColor,height:45,padding:0,borderTop:`1px solid ${e.regularDividerColor}`,boxShadow:`0 1px 0 ${e.regularDividerColor}`},[`colorStyle__${a().q.Purple}`]:{background:"#CA59FF",color:r().Ay.white,fill:r().Ay.white},[`colorStyle__${a().q.LightRed}`]:{background:e.accentColors.red[100],color:e.accentColors.red[500]},[`colorStyle__${a().q.Yellow}`]:{background:e.accentColors.yellow[100],color:e.accentColors.yellow[600]},[`colorStyle__${a().q.PageNotification}`]:{border:`0.5px solid ${e.regularDividerColor}`,borderRadius:12,boxShadow:"0px 8px 16px 0px rgba(0, 0, 0, 0.05)",padding:13,alignItems:"start",justifyContent:"flex-start"},[`colorStyle__${a().q.ImportNotification}`]:{color:e.accentColors.uiBlue[600],fill:e.lightIconColor,background:e.accentColors.blue[30],height:48},[`colorStyle__${a().q.LightBlue}`]:{color:r().Ay.blue,fill:r().Ay.blue,background:e.lightBlueBannerBackground},[`colorStyle__${a().q.LightGray}`]:{background:e.lightGrayBannerBackground},colorStyle__default:{color:e.text.contrastPrimary,background:e.tooltipBackground}})),[l,g,h,f,c,y,v]),x=p?`colorStyle__${p}`:"colorStyle__default";return(0,s.jsx)("div",{style:{...b.bannerStyle,...b[x],...u},children:t})}},477267:(e,t,o)=>{o.r(t),o.d(t,{deleteViewsModuleDependencies:()=>a});var n=()=>o(496580),r=()=>o(795394),i=()=>o(413871);function a(e){const{layoutStore:t,viewsModule:o,transaction:a}=e,s=(0,n().o9)(i().Bv.createChildStore(t,o.collection_view_block_pointer));r().zz({childStore:s,parentStore:t,transaction:a})}},499104:(e,t,o)=>{o.d(t,{E:()=>i});var n=()=>o(803290),r=()=>o(111826);function i(e){return(0,n().K8)((()=>r().Fq(e.state)),[e])}},501578:(e,t,o)=>{o.d(t,{j:()=>c});var n=o(242343),r=()=>o(237385),i=()=>o(174114),a=()=>o(31448),s=()=>o(103151);var l=()=>o(907721),d=o(163643);function c(e){let{children:t,style:o,tooltipStyle:c,placement:u=l().W.Bottom}=e;const{isSafari:p}=(0,r().Y0)(),m=(0,n.useRef)(null),g=function(e){const[t,o]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{const{current:t}=e;if(!t)return void o(!1);const n="ResizeObserver"in window?new ResizeObserver((e=>{let[t]=e;o(t.target.scrollWidth>t.target.clientWidth)})):void 0;return null==n||n.observe(t),()=>null==n?void 0:n.unobserve(t)}),[]),t}(m),h=(0,i().IS)((()=>({overflowText:{...a().RC,...o}})),[o]);return(0,d.jsx)(s().A,{delayThreshold:500,placement:u,textWrap:!0,style:c,forceVisibleState:!(p||!g)&&void 0,renderTooltip:()=>g?t:void 0,render:e=>(0,d.jsx)("div",{ref:m,style:h.overflowText,...e,children:t})})}},505316:(e,t,o)=>{o.r(t),o.d(t,{getLegacyStripeAppearance:()=>C,getStripe:()=>x,injectStripe:()=>b,optionalPaymentMethodIdGivenPaymentData:()=>M,optionalStripeTokenGivenPaymentData:()=>I,stripeElementLocaleGivenNotionLocale:()=>S,translateStripeError:()=>k,useElementsOptions:()=>w});var n=()=>o(353420),r=()=>o(528945),i=o(242343),a=()=>o(237385),s=()=>o(803290),l=()=>o(174114),d=()=>o(707781);var c=()=>o(409211),u=()=>o(688724),p=()=>o(76394),m=()=>o(31448),g=()=>o(927685),h=()=>o(485966),f=()=>o(836331),y=o(163643);let v=null;function b(e){return function(t){const[o]=i.useState(x);return(0,y.jsx)(n().Elements,{stripe:o,children:(0,y.jsx)(n().ElementsConsumer,{children:o=>{let{stripe:n,elements:r}=o;const i={...t,stripe:n,elements:r};return(0,y.jsx)(e,{...i})}})})}}async function x(){return v||(r().loadStripe.setLoadParameters({advancedFraudSignals:!1}),v=(0,r().loadStripe)(g().A.stripe.key)),v}function S(e){switch(e){case"en-US":return"en";case"ko-KR":return"ko";case"ja-JP":return"ja";case"fr-FR":return"fr-FR";case"de-DE":return"de";case"es-ES":return"es-ES";case"es-LA":return"es-419";case"pt-BR":return"pt-BR";case"zh-CN":return"zh";case"zh-TW":return"zh-TW";case"da-DK":return"da";case"nl-NL":return"nl";case"fi-FI":return"fi";case"nb-NO":return"nb";case"sv-SE":return"sv";default:return"auto"}}function w(e){const t=(0,l().DP)(),o=(0,a().v3)(),{type:n}=e,r="setup"===n||"subscription"===n?e.currency:void 0,g="subscription"===n?e.amount:void 0,y=(0,s().K8)((()=>{var e;return(null===(e=h().default.state)||void 0===e||null===(e=e.currentUserSettingsStore)||void 0===e||null===(e=e.getSettings())||void 0===e?void 0:e.preferred_locale)||d().q}),[]),v=(0,s().K8)((()=>"KRW"===r&&function(e){const{experimentService:t,actor:o}=e;return t.checkGate({actor:o,gateName:"kr_card_payment_method"})}({experimentService:f().default,actor:{table:c().oo,id:o.currentUser.id??""}})),[o.currentUser,r]);return(0,i.useMemo)((()=>{const e=function(e){const t=_(e.text.primary),o=_(e.text.secondary),n=_(e.text.tertiary),r=_(e.text.uiRedPrimary),i=_(e.text.uiBluePrimary),a=_(e.icon.contrast),s=_(e.whiteButtonBackground);return{labels:"above",theme:"dark"===e.mode?"night":"stripe",variables:{spacingGridRow:"12px",spacingGridColumn:"12px",spacingUnit:"4px",spacingTab:"6px",colorPrimary:t,colorPrimaryText:t,colorText:t,colorTextSecondary:o,colorTextPlaceholder:n,colorIcon:t,colorIconCheckmark:a,colorDanger:r,colorBackground:s,colorIconTabHover:t,colorIconTabSelected:i,colorIconChevronDown:t,fontFamily:m().Tf.sans,fontWeightLight:`${m().Wy.light}`,fontWeightNormal:`${m().Wy.regular}`,fontWeightMedium:`${m().Wy.medium}`,fontWeightBold:`${m().Wy.medium}`,fontSizeBase:"14px",fontSizeSm:"12px",colorLogo:e.mode,colorLogoBlock:e.mode,colorLogoTab:e.mode,colorLogoTabSelected:e.mode,borderRadius:"6px"},rules:{".Tab":{padding:"10px 16px 10px 10px",fontSize:"13px",fontWeight:"500",lineHeight:"16px",color:t,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",backgroundColor:e.whiteButtonBackground},".Tab:hover":{backgroundColor:e.whiteButtonHoveredBackground},".Tab:focus":{boxShadow:e.outlineBlueInputBoxShadow},".Tab--selected, .Tab--selected:active":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.uiBluePrimary}`,color:t,boxShadow:"none",outline:"none"},".Tab--selected:hover":{backgroundColor:e.whiteButtonBackground,color:t},".Tab--selected:focus":{border:`1px solid ${e.stroke.uiBluePrimary}`,boxShadow:e.outlineBlueInputBoxShadow},".Input":{fontSize:"14px",lineHeight:"18px",letterSpacing:"-0.154px",padding:"7px 8px",backgroundColor:e.surface.wash,boxShadow:`0 0 0 1px ${e.stroke.primary}`,border:"none",color:t},".Input--invalid":{color:t,boxShadow:e.outlineRedInputBoxShadow},".Input:focus":{color:t,boxShadow:e.outlineBlueInputBoxShadow},".Label":{fontSize:"12px",lineHeight:"15px",fontWeight:"500",letterSpacing:"-0.154px",color:o,marginBottom:"8px"},".Error":{fontSize:"12px",fontWeight:"400",lineHeight:"15px",color:r},".CodeInput":{backgroundColor:e.surface.wash,border:`1px solid ${e.stroke.primary}`,boxShadow:"none"},".PickerItem, .PickerItem--selected":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",color:t},".PickerItem:hover":{backgroundColor:e.whiteButtonHoveredBackground,color:t,border:`1px solid ${e.stroke.primary}`,boxShadow:"none"},".PickerItem--selected:hover":{boxShadow:"none"},".PickerItem--new":{fontSize:"14px",fontWeight:"500",lineHeight:"18px",color:t},".PickerItem--highlight, .PickerItem--highlight:hover":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.uiBluePrimary}`,boxShadow:"none"},".PickerItem--highlight:hover":{backgroundColor:e.whiteButtonHoveredBackground},".TermsText":{color:o,fontSize:"10px",fontWeight:"400",lineHeight:"13px",letterSpacing:"0.12px"},".CheckboxLabel":{color:t,fontSize:"12px",fontWeight:"500",lineHeight:"15px"},".Action, .MenuAction":{color:t,fontWeight:"400",padding:"4px 8px"},".Action:hover, .MenuAction:hover":{backgroundColor:e.buttonHoveredBackground},".BlockAction:focus, .CodeInput:focus, .Input:focus,.CheckboxInput:focus, .PickerItem:focus, .PickerAction:focus,.MenuAction:focus, .Action:focus, .SecondaryLink:focus":{boxShadow:e.outlineBlueInputBoxShadow},".MenuIcon, .MenuIcon:hover":{fill:t},".Block":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",padding:"16px"},".Icon":{fill:t}}}}(t),o={appearance:e,locale:S(y)},i={paymentMethodTypes:(0,u().VV)({currency:r,isKrCardFeatureGateEnabled:v})};switch(n){case"address":return o;case"setup":return{...o,...i,currency:null==r?void 0:r.toLowerCase(),mode:"setup",paymentMethodCreation:"manual"};case"subscription":return{...o,...i,amount:g,currency:null==r?void 0:r.toLowerCase(),mode:"subscription",paymentMethodCreation:"manual",setupFutureUsage:"off_session",loader:"never"};default:(0,p().HB)(n)}}),[t,y,r,v,n,g])}function k(e,t){if(!t.code)return t.message||"";switch(t.code){case"invalid_expiry_year_past":return e.formatMessage({id:"stripeHelpers.invalidExpiryYear.error.message",defaultMessage:"Your card's expiration year is in the past."});case"invalid_cvc":return e.formatMessage({id:"stripeHelpers.invalidCVC.error.message",defaultMessage:"Your card's security code is invalid."});case"invalid_number":return e.formatMessage({id:"stripeHelpers.invalidNumber.error.message",defaultMessage:"Your card number is not a valid credit card number."});case"card_declined":return function(e,t){switch(t){case"expired_card":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.expiredCard",defaultMessage:"Your card was declined because it is an expired card."});case"incorrect_number":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.incorrectNumber",defaultMessage:"Your card was declined because you input an incorrect number."});case"insufficient_funds":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.declinedFunds",defaultMessage:"Your card was declined because of insufficient funds."});case"invalid_cvc":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.invalidCvc",defaultMessage:"Your card was declined because you input an invalid CVC number"});case"invalid_amount":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.invalidAmount",defaultMessage:"Your card was declined because payment amount exceeds the amount that's allowed."});default:return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message",defaultMessage:"Your card was declined."})}}(e,t.decline_code);default:return t.message||""}}function C(e){return{labels:"floating",theme:"dark"===e.mode?"night":"stripe",variables:{spacingGridRow:"8px",spacingGridColumn:"8px",spacingUnit:"4px",spacingTab:"4px",colorPrimary:e.text.primary,colorPrimaryText:e.text.primary,colorText:e.text.primary,colorTextSecondary:e.text.secondary,colorTextPlaceholder:e.text.tertiary,colorIcon:e.text.primary,colorIconCheckmark:e.icon.contrast,colorDanger:e.text.uiRedPrimary,colorBackground:e.whiteButtonBackground,colorIconTabHover:e.text.primary,colorIconTabSelected:e.text.uiBluePrimary,colorIconChevronDown:e.text.primary,fontFamily:m().Tf.sans,fontWeightLight:`${m().Wy.light}`,fontWeightNormal:`${m().Wy.regular}`,fontWeightMedium:`${m().Wy.medium}`,fontWeightBold:`${m().Wy.semibold}`,fontSizeBase:"14px",fontSizeSm:"12px",colorLogo:e.mode,colorLogoBlock:e.mode,colorLogoTab:e.mode,colorLogoTabSelected:e.mode,borderRadius:"6px"},rules:{".Tab":{padding:"10px 16px 10px 10px",fontSize:"13px",fontWeight:"510",lineHeight:"16px",color:e.text.primary,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",backgroundColor:e.whiteButtonBackground},".Tab:hover":{backgroundColor:e.whiteButtonHoveredBackground,color:e.text.primary},".Tab:focus":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.primary}`,boxShadow:e.outlineBlueInputBoxShadow},".Tab--selected, .Tab--selected:hover, .Tab--selected:active":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.uiBluePrimary}`,color:e.text.primary,boxShadow:"none",outline:"none"},".Tab--selected:focus":{border:`1px solid ${e.stroke.uiBluePrimary}`,boxShadow:e.outlineBlueInputBoxShadow},".Input":{fontSize:"14px",lineHeight:"18px",letterSpacing:"-0.154px",padding:"4px 8px",boxShadow:"none",backgroundColor:e.surface.wash,border:`1px solid ${e.stroke.primary}`,color:e.text.primary},".Input--invalid":{border:"none",color:e.text.primary,boxShadow:e.outlineRedInputBoxShadow},".Label":{fontSize:"14px",lineHeight:"18px",letterSpacing:"-0.154px",color:e.text.tertiary},".Label--floating":{fontSize:"10px",fontWeight:"510",lineHeight:"13px",letterSpacing:"0.12px",marginTop:"4px",transition:"all 200ms ease",color:e.text.secondary},".Error":{fontSize:"12px",fontWeight:"400",lineHeight:"15px",color:e.text.uiRedPrimary},".CodeInput":{backgroundColor:e.surface.wash,border:`1px solid ${e.stroke.primary}`,boxShadow:"none"},".PickerItem, .PickerItem--selected":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",color:e.text.primary},".PickerItem:hover, .PickerItem--selected:hover":{backgroundColor:e.whiteButtonHoveredBackground,color:e.text.primary,border:`1px solid ${e.stroke.primary}`,boxShadow:"none"},".PickerItem--new":{fontSize:"14px",fontWeight:"500",lineHeight:"18px",color:e.text.primary},".PickerItem--highlight, .PickerItem--highlight:hover":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.uiBluePrimary}`,boxShadow:"none"},".PickerItem--highlight:hover":{backgroundColor:e.whiteButtonHoveredBackground},".TermsText":{color:e.text.secondary,fontSize:"12px",fontWeight:"400",lineHeight:"15px"},".CheckboxLabel":{color:e.text.primary,fontSize:"12px",fontWeight:"500",lineHeight:"15px"},".Action, .MenuAction":{color:e.text.primary,fontWeight:"400"},".Action:hover, .MenuAction:hover":{backgroundColor:e.buttonHoveredBackground},".BlockAction:focus, .CodeInput:focus, .Input:focus,.CheckboxInput:focus, .PickerItem:focus, .PickerAction:focus,.MenuAction:focus, .Action:focus, .SecondaryLink:focus":{boxShadow:e.outlineBlueInputBoxShadow},".MenuIcon, .MenuIcon:hover":{fill:e.text.primary},".Block":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",color:e.text.primary}}}}function _(e){const[t,o,n,r]=e.match(/[\d.]+/g)??[];return t&&o&&n&&r&&1===parseInt(r)?`rgb(${t}, ${o}, ${n})`:e}function I(e){return"stripeToken"===(null==e?void 0:e.type)?e.value:void 0}function M(e){return"paymentMethodId"===(null==e?void 0:e.type)?e.value:void 0}},550828:(e,t,o)=>{o.d(t,{P:()=>r});o(242343);const n={viewBox:"0 0 20 20",svg:(0,o(163643).jsx)("path",{d:"M9.538 10.331c0 2.171-1.657 3.931-3.7 3.931s-3.7-1.76-3.7-3.93a4 4 0 0 1 .05-.657h-.513a.5.5 0 0 1 0-1h.806C3.069 7.33 4.351 6.4 5.838 6.4c1.362 0 2.553.782 3.195 1.948a2.5 2.5 0 0 1 1.935 0C11.61 7.182 12.8 6.4 14.163 6.4c1.486 0 2.768.931 3.356 2.275h.806a.5.5 0 1 1 0 1h-.514q.052.32.052.656c0 2.171-1.657 3.931-3.7 3.931s-3.7-1.76-3.7-3.93q.001-.55.134-1.055a1.5 1.5 0 0 0-1.194 0q.133.505.135 1.054m-1.25 0c0-1.553-1.168-2.681-2.45-2.681s-2.45 1.128-2.45 2.681 1.167 2.681 2.45 2.681c1.282 0 2.45-1.128 2.45-2.68m8.325 0c0-1.553-1.168-2.681-2.45-2.681s-2.45 1.128-2.45 2.681 1.167 2.681 2.45 2.681c1.282 0 2.45-1.128 2.45-2.68"})},r=(0,o(680369).wt)("eyeglasses",n)},573520:(e,t,o)=>{o.d(t,{h:()=>r});o(242343);var n=o(163643);const r=(0,o(680369).wt)("eye",{viewBox:"0 0 32 32",svg:(0,n.jsx)("path",{d:"M16.006 25.812c8.863 0 14.994-7.17 14.994-9.406C31 14.16 24.858 7 16.006 7 7.252 7 1 14.16 1 16.406c0 2.236 6.252 9.406 15.006 9.406zm0-3.242a6.194 6.194 0 01-6.197-6.164c-.012-3.452 2.744-6.164 6.197-6.164 3.419 0 6.185 2.711 6.185 6.164 0 3.364-2.766 6.164-6.185 6.164zm0-3.94c1.228 0 2.246-1.007 2.246-2.224 0-1.228-1.018-2.235-2.246-2.235-1.24 0-2.258 1.007-2.258 2.235 0 1.217 1.018 2.224 2.258 2.224z"})})},576957:(e,t,o)=>{o.d(t,{H:()=>a,l:()=>s});var n=()=>o(599932),r=()=>o(485966),i=()=>o(836331);function a(e,t){return t?48:e?32:18}function s(){var e;if(i().default.checkGate({gateName:"ks_dev_settings"}))return!1;const t=null===(e=r().default.state.currentUserStore)||void 0===e?void 0:e.getEmail();return"makenotion.com"===(0,n().zN)(t??"")}},584764:(e,t,o)=>{o.d(t,{M:()=>p});o(242343);var n=()=>o(237385),r=()=>o(803290),i=()=>o(840024),a=()=>o(85208),s=()=>o(476026),l=()=>o(129978);const d=new(l().O2)("assistantAnimatedFace",(()=>Promise.all([o.e(32257),o.e(15961)]).then(o.bind(o,767717))));var c=o(163643);function u(e){const{sizeVariant:t,highLevelState:o,includeBoxShadow:n,onMouseEnter:r}=e,{value:i}=(0,l().fJ)(d);if(!i)return(0,c.jsx)(s().o,{variant:t,wrapWithPadding:!1});const a=i.AssistantAnimatedFace,u=i.AssistantAnimatedFaceInner;return o?(0,c.jsx)(u,{sizeVariant:t,highLevelState:o,includeBoxShadow:n??!1,onMouseEnter:r}):(0,c.jsx)(a,{sizeVariant:t,includeBoxShadow:n??!1,onMouseEnter:r})}function p(e){const{variant:t,highLevelState:o,includeBoxShadow:l}=e,d=(0,n().Y0)(),p=(0,r().K8)((()=>i().zD.shouldShowAnimatedAssistantFace(d)),[d]),m=(0,r().O$)(i().ts);return o||p?(0,c.jsx)(u,{sizeVariant:t,highLevelState:o,includeBoxShadow:l}):m?(0,c.jsx)(s().o,{variant:t}):(0,c.jsx)(a().g,{variant:t})}},591966:(e,t,o)=>{o.d(t,{$:()=>p,N:()=>c});o(362833),o(333225),o(494367),o(516262),o(573119),o(240480),o(950443),o(619601),o(725707),o(491955),o(324989),o(403517);var n=()=>o(994966),r=()=>o(505966),i=()=>o(975392),a=()=>o(76394),s=()=>o(360482),l=()=>o(940445),d=()=>o(727528);function c(e,t){const o=(0,d().Xg)(e,t),n=new Set(function(e){const t=e.getParentBlockStore();if(null==t||!t.isDefined())return[];return(null==t?void 0:t.getCollectionViewStores().map((e=>e.getName())).filter(a().O9))??[]}(t));return function(e){const t=new Set(e.map((e=>e.templateId))),o=[];for(const n of e)o.push(...u(n).filter((e=>!t.has(e))).map((e=>l().globalWorkflowTemplates.fromId(e))).filter(r().bz).filter((e=>!(0,r().Sz)(e))));return o}(o).filter((e=>"collection_view"!==e.type||!n.has(e.value.name??"")))}function u(e){return"compound"===e.type||"collection"===e.type?e.value.templateItems.filter((e=>"optionalDefaultOn"===e.optionality||"optionalDefaultOff"===e.optionality)).map((e=>e.pointer)):[]}function p(e){let{persona:t,parentStore:o}=e;const r=t?(0,n().Qf)({persona:t}):[],a=l().globalWorkflowTemplates.allOfType({templateIds:r??[],type:"collection"}),d=i().hS(function(e){let{collectionTemplates:t,parentStore:o}=e;if(!o)return t;if((0,s().Yu)(o))return t;const n=(0,s().$R)(o)?o.getTeamPageStores():o.getContentStores(),r=new Set((0,i().oE)(n.flatMap((e=>{var t;return(null===(t=e.getCollectionStores())||void 0===t?void 0:t.map((e=>e.getWorkflowTemplateId())))??[]})))),a=[],l=[];for(const i of t)r.has(i.templateId)?a.push(i):l.push(i);return[...l,...a]}({collectionTemplates:[...a,...l().globalWorkflowTemplates.allOfType({templateIds:(0,n().dj)(),type:"collection"})],parentStore:o}),(e=>e.templateId));return d}},629721:(e,t,o)=>{o.d(t,{a:()=>i});var n=o(242343),r=()=>o(34979);function i(){const e=(0,n.useRef)(!1);return(0,r().E)((()=>(e.current=!0,()=>{e.current=!1})),[]),e}},646498:(e,t,o)=>{o.d(t,{a:()=>n().a});var n=()=>o(823519)},647658:(e,t,o)=>{o.r(t),o.d(t,{cubeIcon:()=>r,iconDefinition:()=>n});o(242343);const n={viewBox:"0 0 20 20",svg:(0,o(163643).jsx)("path",{d:"M10.302 1.853a.63.63 0 0 0-.604 0l-6.65 3.669c-.2.11-.323.32-.323.547v7.862c0 .228.124.437.323.547l6.65 3.67a.63.63 0 0 0 .604 0l6.65-3.67c.2-.11.323-.32.323-.547V6.069a.63.63 0 0 0-.323-.547zM3.975 7.127l5.4 2.98v6.434l-5.4-2.98zm6.65 9.414v-6.434l5.4-2.98v6.435zM15.356 6.07 10 9.024 4.644 6.069 10 3.114z"})},r=(0,o(680369).wt)("cube",n)},649074:(e,t,o)=>{o.d(t,{DS:()=>r,Fe:()=>d,GB:()=>a,Gf:()=>u,V_:()=>c,j1:()=>l,j8:()=>i,yp:()=>p,yw:()=>s});var n=()=>o(647242);function r(e){return(0,n().Fq)({subscription:e})}function i(e){return(0,n().Ry)({subscription:e,trial:void 0})}function a(e){let{subscriptionState:t,logFunction:o,spaceId:r}=e;const i=m(t);return(0,n().yB)({billingData:{subscription:i,trial:void 0},logFunction:o,spaceId:r})}function s(e){return(0,n().q8)({subscription:e})}function l(e){return(0,n().V9)({subscription:m(e),trial:void 0})}function d(e){return(0,n().d$)({subscription:m(e),trial:void 0})}function c(e){return(0,n().ji)({subscription:m(e),trial:void 0})}function u(e){return(0,n().AI)({subscription:m(e),trial:void 0})}function p(e,t){return(0,n().KH)({subscription:m(e),trial:void 0},t)}function m(e){return e?{...e,trialEnd:void 0}:void 0}},651618:(e,t,o)=>{e.exports=o.p+"5c61be7d1ab58977.gif"},651806:(e,t,o)=>{o.d(t,{L:()=>r});o(242343);var n=o(163643);const r=(0,o(680369).wt)("squareStop",{viewBox:"0 0 20 20",svg:(0,n.jsx)("path",{d:"M9.79469 18.5894C8.59333 18.5894 7.46094 18.3595 6.39753 17.8996C5.33986 17.4398 4.40579 16.8046 3.5953 15.9941C2.78481 15.1836 2.14963 14.2495 1.68978 13.1919C1.22993 12.1284 1 10.9961 1 9.79469C1 8.59333 1.22993 7.46381 1.68978 6.40615C2.14963 5.34274 2.78193 4.40579 3.58667 3.5953C4.39717 2.78481 5.33124 2.14963 6.3889 1.68978C7.45232 1.22993 8.5847 1 9.78607 1C10.9874 1 12.1198 1.22993 13.1832 1.68978C14.2466 2.14963 15.1836 2.78481 15.9941 3.5953C16.8046 4.40579 17.4398 5.34274 17.8996 6.40615C18.3595 7.46381 18.5894 8.59333 18.5894 9.79469C18.5894 10.9961 18.3595 12.1284 17.8996 13.1919C17.4398 14.2495 16.8046 15.1836 15.9941 15.9941C15.1836 16.8046 14.2466 17.4398 13.1832 17.8996C12.1256 18.3595 10.9961 18.5894 9.79469 18.5894ZM7.44944 13.028H12.1399C12.4159 13.028 12.6314 12.9504 12.7866 12.7952C12.9476 12.64 13.028 12.4245 13.028 12.1486V7.42357C13.028 7.15341 12.9476 6.94073 12.7866 6.78553C12.6314 6.63033 12.4159 6.55273 12.1399 6.55273H7.44944C7.17353 6.55273 6.9551 6.63033 6.79415 6.78553C6.63895 6.94073 6.56135 7.15341 6.56135 7.42357V12.1486C6.56135 12.4245 6.63895 12.64 6.79415 12.7952C6.9551 12.9504 7.17353 13.028 7.44944 13.028Z"})})},653928:(e,t,o)=>{o.d(t,{W:()=>i});var n=o(242343),r=()=>o(442161);function i(){const e=(0,r().t)(),[t,o]=(0,n.useState)();return(0,n.useEffect)((()=>{o(!(!e||!("company_employee_count"in e))&&parseInt(e.company_employee_count)>99)}),[e]),t}},669199:(e,t,o)=>{o.d(t,{D_:()=>k,Ft:()=>w,HN:()=>x,MA:()=>y,Sk:()=>b,Yn:()=>_,e9:()=>f,eJ:()=>C,su:()=>S});o(362833),o(725707),o(500234),o(113085);var n=()=>o(532444),r=()=>o(647242),i=()=>o(649074),a=()=>o(455831),s=()=>o(653998),l=()=>o(477784),d=()=>o(670682);const c=(0,s().YK)({cancellationError:{id:"midtermSubscriptionHelpers.cancellationFailed",defaultMessage:"There was an error attempting to cancel your pending changes. Please try again."},unableToCancelError:{id:"midtermSubscriptionHelpers.unableToCancel",defaultMessage:"We cannot cancel your scheduled changes right now. Please contact support for more help."},cancellationSuccess:{id:"midtermSubscriptionHelpers.cancellationSucceeded",defaultMessage:"Pending changes have been canceled"},invalidSubscriptionId:{id:"midtermSubscriptionHelpers.invalidSubscriptionId",defaultMessage:"Unable to cancel your pending changes. Something was wrong with your pending subscription changes."}});function u(e){return(0,a().dL)(e)?"free":(0,a().wb)(e)?"education":(0,a().sP)(e)?"singlePlayerPlus":(0,a().$P)(e)?"plus":(0,a().tL)(e)?"business":(0,a().OX)(e)?"enterprise":"legacy"}const p=(0,s().YK)({freePlan:{defaultMessage:"Free Plan",id:"freePlan.title"},educationPlusPlan:{defaultMessage:"Education Plus Plan",id:"educationPlusPlan.title"},plusPlan:{defaultMessage:"Plus Plan",id:"plusPlan.title"},businessPlan:{id:"businessPlan.title",defaultMessage:"Business Plan"},enterprisePlan:{defaultMessage:"Enterprise Plan",id:"enterprisePlan.label"},legacyPlan:{defaultMessage:"Legacy Plan",id:"legacyPlan.label"}}),m={free:{planTitle:p.freePlan},singlePlayerPlus:{planTitle:p.plusPlan},education:{planTitle:p.educationPlusPlan},plus:{planTitle:p.plusPlan},business:{planTitle:p.businessPlan},enterprise:{planTitle:p.enterprisePlan},legacy:{planTitle:p.legacyPlan}},g=(0,s().YK)({notionAI:{defaultMessage:"Notion AI",id:"notionAI.title"},removeAI:{defaultMessage:"Remove AI",id:"notionAI.remove.title"}}),h=(0,s().YK)({month:{defaultMessage:"Monthly billing",id:"billingInterval.monthly"},year:{defaultMessage:"Annual billing",id:"billingInterval.annual"}});function f(){return l().A.formatMessage(c.unableToCancelError)}function y(){return l().A.formatMessage(c.cancellationSuccess)}function v(e){var t;const o=null==e||null===(t=e.subscription)||void 0===t?void 0:t.pending;if(!o)return;const n=(0,r().PP)(e),a=(0,r().lQ)(e);return{oldTier:(0,i().Gf)(n)??"free",newTier:(0,i().Gf)(a)??"free",oldAIAddOn:(0,i().V_)(n).find((e=>"ai"===e)),newAIAddOn:(0,i().V_)(a).find((e=>"ai"===e)),oldInterval:(0,i().yw)(n),newInterval:(0,i().yw)(a),phaseOneEndDate:o.startDate}}function b(e){const t=v(e);return!(!t||!t.newInterval)&&t.oldInterval!==t.newInterval}function x(e){const t=v(e);return!!t&&t.oldTier!==t.newTier}function S(e){const t=v(e),o=[];if(!t)return{scheduledChanges:o,periodEndDate:null};const{newTier:n,oldTier:r,oldAIAddOn:i,newAIAddOn:a,oldInterval:s,newInterval:d,phaseOneEndDate:c}=t;var p,f;return r!==n&&o.push(function(e,t){const o=u(e),n=l().A.formatMessage(m[o].planTitle);if(!t)return"";const r=u(t);return`${n} → ${l().A.formatMessage(m[r].planTitle)}`}(r,n)),i!==a&&o.push((p=i,f=a,`${l().A.formatMessage(p?g.notionAI:g.removeAI)} → ${l().A.formatMessage(f?g.notionAI:g.removeAI)}`)),s!==d&&o.push(function(e,t){return e&&t?`${l().A.formatMessage("month"===e?h.month:h.year)} → ${l().A.formatMessage("month"===t?h.month:h.year)}`:""}(s,d)),{scheduledChanges:o,periodEndDate:c}}function w(e,t){if(!e)return;const o=(0,r().PP)(e).items,n=(0,r().lQ)(e).items;var i;return(0,r().HO)(o,n).some((e=>{let[o,n]=e;return(0,r().IE)(o??n)===t&&o&&!n}))?null===(i=e.subscription)||void 0===i||null===(i=i.pending)||void 0===i?void 0:i.startDate:void 0}function k(e){if(!e)return;var t;return 0===(0,r().lQ)(e).items.length?null===(t=e.subscription)||void 0===t||null===(t=t.pending)||void 0===t?void 0:t.startDate:void 0}function C(e){let{billingData:t}=e;const o=(0,d().a9)(t);if(!o)return!1;if((0,r().et)(t))return!1;const n=(0,r().bO)(o),i=(0,r().N8)(null==o?void 0:o.subscription);return!n&&!i}function _(e){const t=(0,r().V9)(e),o=(0,r().ji)(e).length>0;return!t||(!n().xd.includes(t)||!(!o||!n().iV.includes(t)))}},678523:(e,t,o)=>{o.d(t,{A:()=>s});o(242343);var n=()=>o(237385),r=()=>o(174114),i=()=>o(126451),a=o(163643);function s(e){const t=(0,n().Y0)(),o=(0,r().IS)((e=>({sharedStyle:{display:"flex",alignItems:"center",borderRadius:4},innerStyle:{padding:"2px 6px",borderRadius:4,color:e.text.secondary,background:e.defaultBadgeBackground,fontSize:t.isMobile?11:9,lineHeight:t.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em",whiteSpace:"nowrap"}})),[t.isAndroid,t.isMobile]);return t.isMobile?(0,a.jsx)(i().A,{style:{...o.sharedStyle,...e.mobileStyle},disabled:void 0===e.onClick,children:(0,a.jsx)("div",{style:{...o.innerStyle,...e.innerStyle},children:e.children})}):(0,a.jsx)(i().A,{style:{...o.sharedStyle,...e.desktopStyle},disabled:void 0===e.onClick,...e,children:(0,a.jsx)("div",{style:{...o.innerStyle,...e.innerStyle},children:e.children})})}},678988:(e,t,o)=>{o.d(t,{HO:()=>m,V5:()=>l,Vr:()=>d,ef:()=>p,gL:()=>c,ng:()=>f,vH:()=>u,vk:()=>h,z2:()=>g});o(610931),o(112188),o(725707),o(491955),o(500234),o(403517),o(113085);var n=()=>o(141666),r=()=>o(647242),i=()=>o(649074),a=()=>o(216376),s=()=>o(455831);function l(e,t){return m(e.items,t.items).some((e=>{let[t,o]=e;return function(e,t){if(!e)return!1;if(!t)return!0;const o=r().xp(e),n=r().xp(t);if(!o||!n)return!1;return s().o3[o]>s().o3[n]}(t,o)}))}function d(e,t,o){let{trialEnd:n,items:r}=t;return{trialEnd:n,items:r.map((t=>{const n=t.price.product,r=t.price.unitAmount.currencyCode,i=h(e,{interval:o,product:n,currency:r});return{...t,price:i}}))}}function c(e,t){const o=e.items.filter((e=>r().IE(e)!==t));return{...e,items:o}}function u(e,t,o){const{isMay13PackagingChangesEnabled:n}=o,i=r().IE(t),a=t.price.product,s=e.items.filter((e=>{const t=e.price.product,o=r().IE(e);return!(i===o)&&!(n&&"ai"===t&&("business"===a||"enterprise"===a))}));return{...e,items:s.concat([t])}}function p(e){const{state:t,prices:o,quantities:n,params:{interval:i,currency:a},products:s,flags:{isMay13PackagingChangesEnabled:l}}=e,d=s.map((e=>function(e){if("personal_free"===e||"team_free"===e)return"free";return e}(e))),c=d.map((e=>r().Mr(e))),u=t.items.filter((e=>{const t=e.price.product,o=r().IE(e),n=c.includes(o),i=l&&"ai"===t&&(d.includes("business")||d.includes("enterprise"));return!n&&!i})),p=d.map((e=>f(h(o,{interval:i,currency:a,product:e}),n)));return{...t,items:u.concat(p)}}function m(e,t){return(0,n().Z4)(e,(e=>r().IE(e)),t,(e=>r().IE(e)))}function g(e){const{prices:t,billingData:o,product:n}=e,a=r().Ry(o),s=r().lQ(o),l=i().yw(s),d=r().q8(o),c=l??d;return t.find((e=>e.product===n&&e.billingInterval===c&&e.unitAmount.currencyCode===a))}function h(e,t){let{interval:o,product:n,currency:r}=t;return function(e,t){if(null==e)throw new Error(t);return e}(e.find((e=>e.product===n&&e.billingInterval===o&&e.unitAmount.currencyCode===r)),`Unable to find price with interval: ${o}, product: ${n}, currency: ${r}`)}function f(e,t){const{numSeats:o,numCustomHostnames:n}=t;return"public_domain_custom_hostnames"===(0,a().vK)(e.product)?{price:e,quantity:n}:{price:e,quantity:o}}},702888:(e,t,o)=>{o.d(t,{g:()=>s});var n=()=>o(237385),r=()=>o(803290),i=()=>o(485966),a=()=>o(855827);function s(e){let{spaceId:t}=e;const o=(0,n().v3)(),s=(0,r().K8)((()=>{var e;return null===(e=i().default.state.currentSpaceStore)||void 0===e?void 0:e.canEdit()}),[]);return(0,r().K8)((()=>{if(t&&s)return a().A.getData(o,{spaceId:t})}),[o,t,s])}},709330:(e,t,o)=>{o.d(t,{J:()=>r});o(242343);var n=o(163643);const r=(0,o(680369).wt)("templatesNewColored",{viewBox:"0 0 20 20",svg:(0,n.jsxs)("g",{children:[(0,n.jsx)("path",{fill:"#FFB110",fillRule:"evenodd",d:"M6.014 16.338a4.429 4.429 0 004.429-4.48H8.88c-.254 0-.512 0-.732-.018a2.26 2.26 0 01-.86-.226 2.24 2.24 0 01-.979-.979 2.26 2.26 0 01-.226-.86 9.471 9.471 0 01-.018-.731V7.48a4.44 4.44 0 014.179 3.111 4.431 4.431 0 00-8.659 1.318 4.43 4.43 0 004.43 4.43z",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"#097FE8",d:"M12.902 11.044c.463-.802.694-1.203.997-1.338a1.02 1.02 0 01.828 0c.302.135.534.536.996 1.338l2.028 3.512c.463.802.695 1.203.66 1.532-.03.287-.18.548-.414.718-.267.194-.73.194-1.656.194h-4.057c-.925 0-1.388 0-1.656-.194a1.019 1.019 0 01-.414-.718c-.035-.329.197-.73.66-1.532l2.028-3.512z"}),(0,n.jsx)("path",{fill:"#F64932",fillRule:"evenodd",d:"M7.287 4.63c0-.571 0-.856.111-1.074.098-.192.254-.347.445-.445C8.061 3 8.346 3 8.916 3h4.379c.57 0 .855 0 1.073.111.191.098.347.253.445.445.11.218.11.503.11 1.073v3.852a2.24 2.24 0 00-1.521.109c-.46.204-.75.56-.94.83a13.31 13.31 0 00-.594.97l-.024.043-.118.203h-2.81c-.57 0-.855 0-1.073-.11a1.018 1.018 0 01-.445-.445c-.11-.218-.11-.503-.11-1.074V4.63z",clipRule:"evenodd"})]})})},713055:(e,t,o)=>{o.d(t,{S:()=>r});o(242343);var n=o(163643);const r=(0,o(680369).wt)("notionLogo",{viewBox:"0 0 120 126",svg:(0,n.jsx)("path",{d:"M 20.6927 21.9315C 24.5836 25.0924 26.0432 24.8512 33.3492 24.3638L 102.228 20.2279C 103.689 20.2279 102.474 18.7705 101.987 18.5283L 90.5477 10.2586C 88.3558 8.55699 85.4356 6.60818 79.8387 7.09563L 13.1433 11.9602C 10.711 12.2014 10.2251 13.4175 11.1939 14.3924L 20.6927 21.9315ZM 24.8281 37.9835L 24.8281 110.456C 24.8281 114.351 26.7745 115.808 31.1553 115.567L 106.853 111.187C 111.236 110.946 111.724 108.267 111.724 105.103L 111.724 33.1169C 111.724 29.958 110.509 28.2544 107.826 28.4976L 28.721 33.1169C 25.8018 33.3622 24.8281 34.8225 24.8281 37.9835ZM 99.5567 41.8711C 100.042 44.0622 99.5567 46.2512 97.3618 46.4974L 93.7143 47.2241L 93.7143 100.728C 90.5477 102.43 87.6275 103.403 85.1942 103.403C 81.2983 103.403 80.3226 102.186 77.4044 98.54L 53.5471 61.087L 53.5471 97.3239L 61.0964 99.0275C 61.0964 99.0275 61.0964 103.403 55.0057 103.403L 38.2148 104.377C 37.727 103.403 38.2148 100.973 39.9179 100.486L 44.2996 99.2717L 44.2996 51.36L 38.2158 50.8725C 37.728 48.6815 38.9431 45.5225 42.3532 45.2773L 60.3661 44.0631L 85.1942 82.0036L 85.1942 48.4402L 78.864 47.7136C 78.3781 45.0351 80.3226 43.0902 82.7569 42.849L 99.5567 41.8711ZM 7.5434 5.39404L 76.9175 0.285276C 85.4366 -0.445402 87.6285 0.0440428 92.983 3.93368L 115.128 19.4982C 118.782 22.1747 120 22.9034 120 25.8211L 120 111.187C 120 116.537 118.051 119.701 111.237 120.185L 30.6734 125.05C 25.5584 125.294 23.124 124.565 20.4453 121.158L 4.13735 99.9994C 1.21516 96.1048 0 93.191 0 89.7819L 0 13.903C 0 9.5279 1.94945 5.8785 7.5434 5.39404Z"})})},740699:(e,t,o)=>{o.d(t,{L:()=>d,y:()=>l});var n=()=>o(803290),r=()=>o(409211),i=()=>o(653998),a=()=>o(485966),s=()=>o(413871);function l(e){const t=(0,i().tz)();return(0,n().K8)((()=>{const{currentSpaceStore:o}=a().default.state;if(!o||!e)return;return s().LU.createChildStore(o,{table:r().oo,id:e}).getDisplayName(t)}),[t,e])}function d(){const e=(0,i().tz)();return(0,n().K8)((()=>{const{currentUserStore:t}=a().default.state,o=null!=t&&t.isDefined()?t.getModel():void 0;return o?o.getDisplayName(e):void 0}),[e])}},759954:(e,t,o)=>{o.d(t,{VJ:()=>O,oI:()=>Z,Ac:()=>q});o(403517);var n=o(242343),r=()=>o(237385),i=()=>o(803290),a=()=>o(174114),s=()=>o(994966),l=()=>o(226e3),d=()=>o(469118),c=()=>o(680369),u=o(163643);const p={viewBox:"0 0 20 20",svg:(0,u.jsx)("path",{d:"M6.25 2.375h7.5c1.174 0 2.125.951 2.125 2.125v8.545a.85.85 0 0 1-.333.675 1.706 1.706 0 0 0-.053 2.666l.16.133a.625.625 0 0 1-.399 1.106h-9A2.125 2.125 0 0 1 4.125 15.5v-11c0-1.174.951-2.125 2.125-2.125m-.875 12.56v.565c0 .483.392.875.875.875h7.673a2.97 2.97 0 0 1 .007-2.616H6.55c-.649 0-1.175.527-1.175 1.176m9.25-2.426V4.5a.875.875 0 0 0-.875-.875H8.19v8.884zm-7.56-8.884H6.25a.875.875 0 0 0-.875.875v8.313a2.4 2.4 0 0 1 1.176-.304h.515z"})},m=(0,c().wt)("bookClosed",p);var g=()=>o(22599);const h={viewBox:"0 0 20 20",svg:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("path",{d:"M9.938 7.313a2.625 2.625 0 1 0 0 5.25 2.625 2.625 0 0 0 0-5.25"}),(0,u.jsx)("path",{d:"M10 4.875a5.125 5.125 0 1 0 0 10.25 5.125 5.125 0 0 0 0-10.25M6.125 10a3.875 3.875 0 1 1 7.75 0 3.875 3.875 0 0 1-7.75 0"}),(0,u.jsx)("path",{d:"M10 2.375a7.625 7.625 0 1 0 0 15.25 7.625 7.625 0 0 0 0-15.25M3.625 10a6.375 6.375 0 1 1 12.75 0 6.375 6.375 0 0 1-12.75 0"})]})},f=(0,c().wt)("target",h);var y=()=>o(709330),v=()=>o(120844),b=()=>o(653998),x=()=>o(975392),S=()=>o(417653),w=()=>o(209684),k=()=>o(397791),C=()=>o(701270),_=()=>o(929324),I=()=>o(13614),M=()=>o(672154),A=()=>o(137476),j=()=>o(802955),T=()=>o(836331),P=()=>o(940445),B=()=>o(103121),R=()=>o(368904),L=()=>o(961397),D=()=>o(197562),E=()=>o(421338),W=()=>o(126451),N=()=>o(328653);function F(e){let{template:t,onSelect:r,index:i}=e;const s=(0,n.useCallback)((()=>r(t)),[r,t]),l=(0,a().IS)((e=>{const o=(0,N().d)(t.value.targetCollection.icon,e);return{button:{borderRadius:O,border:`1px solid ${o.stroke.secondary}`,overflow:"hidden"},buttonInner:{borderRadius:O,background:`${o.fill.tertiary}`},buttonHovered:{background:`${o.fill.secondary}`},textContainer:{padding:"20px 20px 10px",color:o.text.primary},description:{marginTop:2,color:o.text.primary,opacity:.6,textWrap:"balance"},outerImageContainer:{overflow:"visible",position:"relative",height:108,width:"calc(100% - 22px)",marginLeft:22,marginTop:-4},imageContainer:{position:"absolute",top:0,transition:"top 0.2s ease",width:"100%",height:"100%",marginTop:4,lineHeight:0,borderRadius:"6px 0",overflow:"hidden",background:e.modalBackground,boxShadow:"dark"===e.mode?`0 0 0 1px ${e.stroke.secondary}`:`0px 0px 0px 1px ${e.stroke.secondary}, 0px 2px 4px -1px rgba(0, 0, 0, 0.06), 0px 12px 32px -6px rgba(0, 0, 0, 0.12)`}}}),[t.value.targetCollection.icon]);return(0,u.jsx)(W().A,{style:l.button,hoveredStyle:l.buttonHovered,wrapperDivStyle:l.buttonInner,ariaLabel:t.value.targetCollection.name,onClick:s,children:(0,u.jsxs)(E().Y1,{gap:"auto",height:"fill",children:[(0,u.jsxs)("div",{style:l.textContainer,children:[(0,u.jsx)(C().D,{styleName:"UIRegular-14px/Medium",children:t.value.targetCollection.name}),(0,u.jsx)(C().D,{styleName:"UISmall-12px/Regular",customStyles:l.description,children:t.description})]}),(0,u.jsx)("div",{style:l.outerImageContainer,children:(0,u.jsx)("div",{style:l.imageContainer,children:(0,u.jsx)(o(385479).i,{template:t,index:i})})})]})})}const z=n.memo(F);function G(e){let{title:t,description:o,onSelect:r,icon:i,iconFn:s}=e;const l=(0,n.useCallback)((()=>r()),[r]),d=(0,a().IS)((e=>{const t=(0,N().d)(i,e);return{button:{borderRadius:O,border:`1px solid ${t.stroke.secondary}`,overflow:"hidden"},buttonInner:{borderRadius:O,background:`${t.fill.tertiary}`},buttonHovered:{background:`${t.fill.secondary}`},textContainer:{padding:"16px 20px",color:t.text.primary,gap:4,display:"flex",flexDirection:"column"},description:{marginTop:2,color:t.text.primary,opacity:.6,textWrap:"balance"},icon:{height:c().Ev.default,width:c().Ev.default}}}),[i]);return(0,u.jsx)(W().A,{style:d.button,hoveredStyle:d.buttonHovered,wrapperDivStyle:d.buttonInner,onClick:l,children:(0,u.jsx)(E().Y1,{gap:"auto",height:"fill",children:(0,u.jsxs)("div",{style:d.textContainer,children:[(0,u.jsx)(k().I,{icon:s,style:d.icon}),(0,u.jsx)(C().D,{styleName:"UIRegular-14px/Medium",children:t}),(0,u.jsx)(C().D,{styleName:"UISmall-12px/Regular",customStyles:d.description,children:o})]})})})}const H=n.memo(G),O=12,K={};function V(e){let{iconFn:t,iconColorName:o,label:n,onClick:r}=e;const i=(0,a().IS)((e=>({button:{padding:"16px 18px",borderRadius:O,borderWidth:1,borderStyle:"solid",borderColor:"dark"===e.mode?e.stroke.secondary:e.stroke.primary},hovered:{background:e.buttonHoveredBackground,borderColor:e.accentColors.translucentGray[100]},icon:{height:19,width:"auto",color:o?e.icon[o]:void 0,marginBottom:8}})),[o]);return(0,u.jsxs)(S().A,{style:i.button,hoveredStyle:i.hovered,onClick:r,children:[(0,u.jsx)("div",{children:t(i.icon)}),(0,u.jsx)(C().D,{styleName:"UIRegular-14px/Medium",children:n})]})}function $(e){let{iconFn:t,iconColorName:o,label:n,onClick:r}=e;const i=(0,a().IS)((e=>({button:{padding:"5px 12px",display:"flex",gap:8,justifyContent:"center",alignItems:"center",borderRadius:20,color:e.text.secondary},icon:{height:19,width:"auto",color:o?e.icon[o]:void 0,marginBottom:0}})),[o]);return(0,u.jsxs)(S().A,{style:i.button,onClick:r,children:[(0,u.jsx)("div",{children:t(i.icon)}),(0,u.jsx)(C().D,{styleName:"UIRegular-14px/Regular",children:n})]})}const U=16,Y=4,q=(0,u.jsx)(b().sA,{id:"workflowTemplatesOnboardingModal.button.marketplace",defaultMessage:"More in Marketplace"});function Z(e){let{parentStore:t,onAddEmptyPage:o,onAddEmptyDatabase:c,onSelectTemplate:p,onMarketplaceClick:m,showEmptyPageButton:h,onPromptSubmit:f}=e;const S=(0,r().v3)(),{isPhone:E}=(0,r().Y0)(),W=(0,i().K8)((()=>D().A.getShouldShowExpandedTemplateList()),[]),N=(0,B().q)({parentStore:t,returnAllTemplates:W}),F=(0,i().K8)((()=>D().A.state.open&&"new_user_onboarding"===D().A.state.origin),[]),G=(0,i().K8)((()=>D().A.state.open&&("land_on_app_from_new_user_onboarding"===D().A.state.origin||F)),[F]),O=(0,n.useMemo)((()=>F?N.slice(0,Y):W?N:function(e){let{arr:t,min:o}=e;if(t.length<=o)return[...t];return t.slice(0,2*Math.floor(t.length/2))}({arr:N,min:1})),[N,W,F]),Z=(0,i().K8)((()=>(0,P().getIsSetupGeneratorEnabled)()&&!G&&j().A.state.online),[G]),J=F,ee=!W,te=(0,n.useCallback)((()=>{D().A.setShouldShowExpandedTemplateList(!0),D().A.state.open&&(0,A().u4)({environment:S,event:{eventName:"template_picker_show_more_templates_clicked",eventProperties:(0,L().gM)(D().A.state)}})}),[S]),oe=(0,a().IS)((e=>({container:{width:"100%",maxWidth:560+U,alignSelf:"center",alignItems:"center"},basicButtonGrid:{display:"grid",gridTemplateColumns:`repeat(auto-fit, minmax(calc((100% - ${2*U}px) / 3), 1fr))`,maxWidth:"100%",gap:U,marginTop:U,marginBottom:E?26:2*U},newUserOnboardingButtons:{display:"flex",gap:4,margin:`${U}px auto 40px auto`,justifyContent:"center"},templateButtonGrid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:U,marginTop:E?13:F?36:18},skipButtonContainer:{marginTop:24,display:"flex",justifyContent:"center"},skipOnboardingButton:{maxWidth:200,display:"flex",alignItems:"center",justifyContent:"center"},showMoreButton:{marginTop:U,height:32,paddingLeft:12,paddingRight:12},marketplaceButton:{marginTop:U,gap:6},marketplaceIcon:{height:19,width:"auto",color:e.icon.secondary}})),[F,E]);(0,n.useEffect)((()=>{const{state:e}=D().A;e.open&&void 0!==e.flowId&&!K[e.flowId]&&((0,R().DF)({environment:S,eventProperties:{collection_template_ids_shown:O.map((e=>e.templateId)),...(0,L().gM)(e)}}),K[e.flowId]=!0)}),[O,S]);const ne=(0,n.useCallback)((()=>{p(P().globalWorkflowTemplates.fromIdOfType({templateId:s().MH,type:"collection"}),{type:"ai_generated_template"})}),[p]),re=(0,n.useCallback)((e=>{p(e,{type:"suggested_template",allOrderedTemplateIds:O.map((e=>e.templateId))})}),[p,O]),ie=G?$:V,ae=(0,x().oE)([h?(0,u.jsx)(ie,{iconFn:g().Y,iconColorName:"secondary",label:(0,u.jsx)(b().sA,{id:"workflowTemplatesOnboardingModal.button.emptyPage",defaultMessage:"Empty page"}),onClick:o},"emptyPage"):void 0,(0,u.jsx)(ie,{iconFn:v().T,iconColorName:"secondary",label:(0,u.jsx)(b().sA,{id:"workflowTemplatesOnboardingModal.button.emptyDatabase",defaultMessage:"Empty database"}),onClick:c},"emptyDatabase"),Z?(0,u.jsx)(ie,{iconFn:l().v,iconColorName:"secondary",label:(0,u.jsx)(b().sA,{id:"workflowTemplatesOnboardingModal.button.buildWithAi",defaultMessage:"Build with AI"}),onClick:ne},"buildWithAi"):void 0]),se=(0,i().K8)((()=>{var e;return null===(e=M().A.state.planTypeAndSurveyInfo)||void 0===e?void 0:e.planType}),[]),le=(0,i().K8)((()=>F&&("personal"===se||"school"===se)),[F,se]),de=(0,i().K8)((()=>F&&"ai_onboarding_phase_2_5"===M().A.state.flowName&&"ai_step_in_onboarding_with_skip"===T().default.getEligibleGroup({experimentId:"ai_first_onboarding_phase_two_point_five",defaultGroup:"control"})),[F]);return(0,u.jsxs)("div",{style:oe.container,children:[!F&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{style:G?oe.newUserOnboardingButtons:oe.basicButtonGrid,children:ae}),(0,u.jsx)(C().D,{styleName:"UIRegular-14px/Medium",colorName:"secondary",children:(0,u.jsx)(b().sA,{defaultMessage:"Suggested",id:"workflowTemplatesOnboardingModal.templateSelection.heading"})})]}),(0,u.jsx)("div",{style:oe.templateButtonGrid,children:le?("personal"===se?Q:X).map(((e,t)=>(0,u.jsx)(H,{title:e.title,description:e.description,onSelect:()=>{null==f||f(e.prompt),D().A.state.open&&(0,R().ux)({environment:S,eventProperties:{selected_index:t,personal_school_template_name:e.title,...(0,L().gM)(D().A.state)}})},icon:e.icon,iconFn:e.iconFn},t))):O.map(((e,t)=>(0,u.jsx)(z,{template:e,onSelect:re,index:t},e.templateId)))}),J?null:ee?(0,u.jsx)(w().p,{style:oe.showMoreButton,onClick:te,children:(0,u.jsx)(C().D,{styleName:"UIRegular-14px/Medium",colorName:"secondary",children:(0,u.jsx)(b().sA,{id:"workflowTemplatesOnboardingModalSelectionLanding.seeMore",defaultMessage:"More templates"})})}):(0,u.jsxs)(w().p,{size:"lg",style:oe.marketplaceButton,onClick:m,children:[(0,y().J)(oe.marketplaceIcon),(0,u.jsx)(C().D,{styleName:"UIRegular-14px/Medium",colorName:"secondary",children:q}),(0,u.jsx)(k().I,{icon:d().C,size:"sm",color:"secondary"})]}),de&&(0,u.jsx)("div",{style:oe.skipButtonContainer,children:(0,u.jsx)(w().p,{style:{...oe.skipOnboardingButton},isGray:!0,onClick:async()=>{await(0,_().skipStage)({environment:S,currentStage:I().contextualizedOnboardingStageByStageName.app_builder,onboardingState:M().A.state})},children:(0,u.jsx)(b().sA,{defaultMessage:"No thanks, I’ll try later",id:"contextualizedOnboarding.skipAppBuilder.label"})})})]})}const Q=[{title:"To-Do List",description:"Track and organize your daily tasks",icon:"/icons/checkbox_gray.svg",type:"personal",prompt:"\n\t\t\tMake me a to-do list template with fields for task name, description, due date, priority level, and status (Not Started/In Progress/Done). \n\nInclude: A kanban board view grouped by status, a calendar view to see tasks by due date, and add a table view sorted by priority and due date.\n\nSample content should be focused on personal user use cases. No business or work type vernacular.\n\t\t\t",iconFn:o(565727).a},{title:"Project Tracker",description:"Manage your personal or work projects",icon:"/icons/target_gray.svg",type:"school",prompt:"\n\t\tMake me a project management template with fields for project name, description, start date, end date, status (Planning/In Progress/Completed), and priority. \n\nUse a multi-select column to tag projects with relevant categories. Create a kanban board view for projects, a timeline view to visualize project timelines, and a table view for projects filtered by category.\n\nSample content should be focused on personal user use cases. No business or work type vernacular.\n\t\t\t",iconFn:f},{title:"Entertainment and Media",description:"Keep track of your favorite media",icon:"/icons/play_gray.svg",type:"personal",prompt:"\n\t\t\tMake me a media tracking template with fields for title, media type (Movie/TV Show/Book/Podcast), genre, release date, status (Want to Watch/In Progress/Completed), rating, and personal notes. \n\nInclude: a table view sorted by rating, a gallery view with cover images, a kanban board grouped by status, and a view filtered by each media type.\n\nSample content should be focused on personal user use cases. No business or work type vernacular.",iconFn:m},{title:"Habit Tracker",description:"Monitor and track your daily habits",icon:"/icons/chart-line_gray.svg",type:"personal",prompt:"\n\t\t\tMake me a habit tracking template with fields for habit name, category, frequency (Daily/Weekly/Monthly), target goal, current streak, and a checkbox for each day of the month. \n\nInclude: a calendar view to check off habits each day, a table view grouped by category, and a gallery view showing progress charts for each habit. \n\nAdd a formula field to calculate completion rate.\n\nSample content should be focused on personal user use cases. No business or work type vernacular.\n\t\t\t",iconFn:o(889682).H}],X=[{title:"Class Notes",description:"Organize your study materials and notes",icon:"/icons/pencil_gray.svg",type:"school",prompt:"Make me a template for taking class notes, with fields for the class name, date, topic, and the actual notes content.\n\nPlease include both a table view and a page view that shows the full notes.\n\nSample content should be focused on student user use cases. No business or work type vernacular.",iconFn:o(686752).pencilLineIcon},{title:"Schedule Planner",description:"Track your schedule and assignments",icon:"/icons/calendar_gray.svg",type:"school",prompt:"Make me a template for tracking my class assignments, with fields for the class name, assignment name, due date, status, and priority. \n\nPlease include both a calendar view and a table view sorted by due date.\n\nSample content should be focused on student user use cases. No business or work type vernacular.",iconFn:o(348588).D},{title:"Research Planner",description:"Organize research papers and citations",icon:"/icons/book_gray.svg",type:"school",prompt:"Make me a template for organizing research papers and sources, with fields for the title, author, publication date, citation, summary, and key findings. \n\nPlease include a gallery view to easily browse papers.\n\nSample content should be focused on student user use cases. No business or work type vernacular.",iconFn:m},{title:"Group Projects",description:"Track group assignments and deadlines",icon:"/icons/people_gray.svg",type:"school",prompt:"\n\t\tMake me a template for managing group projects, with fields for task name, assignee, due date, status, and priority. \n\nPlease include a kanban board view to track task progress and a calendar view for deadlines.\n\nSample content should be focused on student user use cases. No business or work type vernacular.",iconFn:o(115692).peopleIcon}]},767717:(e,t,o)=>{o.r(t),o.d(t,{AssistantAnimatedFace:()=>M,AssistantAnimatedFaceInner:()=>A});o(358848),o(91270);var n=()=>o(305283),r=()=>o(486826),i=o(242343),a=()=>o(484844),s=()=>o(803290),l=()=>o(174114),d=()=>o(996094),c=()=>o(279011),u=()=>o(192048),p=()=>o(725155),m=()=>o(23371),g=()=>o(76394),h=()=>o(393728),f=()=>o(368330),y=()=>o(799220),v=()=>o(825634),b=()=>o(335142),x=()=>o(503984),S=()=>o(281030),w=()=>o(476026);const k=o.p+"bc69e69669ca365b.riv",C=["Base_Idle","Idle A","Idle B","Idle C"];var _=o(163643);n().RuntimeLoader.setWasmUrl(o(208109));const I=!1;function M(e){const{sizeVariant:t,includeBoxShadow:o,onMouseEnter:n}=e,r=function(){const e=(0,h().jw)().isWriter,t=(0,s().K8)((()=>{const t=e?(0,y().K1)():f().default.getActiveSession();if(!t)return"idle";const o=t.evaluator.getTranscript().at(-1);if(o&&"observation"===o.type&&"error"===o.observationType)return"error";const n=t.isStreaming();if(!n)return"idle";const r=t.getCombinedSteps().at(-1),i="assistantSearch"===(null==r?void 0:r.type)||"assistantShowSearchResults"===(null==r?void 0:r.type),a="assistantLoading"===(null==r?void 0:r.type)||"human"===(null==r?void 0:r.type);return"groupedEditCard"===(null==r?void 0:r.type)?"writing":i?"searching":a?"thinking":n?"writing":"idle"}),[e]);return(0,i.useEffect)((()=>{I&&j("HighLevelState","Pink",t)}),[t]),t}();return(0,_.jsx)(b().n,{step:"ai_assistant",isFullWidth:!1,highlightStyle:{borderRadius:"100%"},children:(0,_.jsx)(A,{sizeVariant:t,includeBoxShadow:o,highLevelState:r,onMouseEnter:n})})}function A(e){const{sizeVariant:t,highLevelState:o,includeBoxShadow:r,onMouseEnter:h}=e,[f,y]=(0,i.useState)(!1),b=(0,i.useCallback)((()=>{y(!0)}),[]),{onStateChange:M,waitUntilState:A,animationState:T}=function(){const e=(0,i.useRef)("Idle B"),t=(0,i.useMemo)((()=>new(c().A)),[]),o=(0,i.useCallback)((o=>{if(Array.isArray(o.data)&&1===o.data.length){const n=o.data[0];I&&j("State change","DarkGreen",n),e.current=n,t.emit(n)}}),[t]),n=(0,i.useCallback)((()=>new Promise((e=>{const o=n=>{t.removeListener(o),e(n)};t.addListener(o)}))),[t]),r=(0,i.useCallback)((async t=>{(await m().nQ(2e3,(async()=>{for(;!t(e.current);)await n()})())).timeout&&(0,a().NK)("Timed out while waiting for an assistant face state change.")}),[n]);return{animationState:e,waitUntilState:r,onStateChange:o}}(),{rive:P,RiveComponent:B}=(0,n().useRive)({src:k,stateMachines:["Main"],autoplay:!0,onAdvance:b,onStateChange:M});!function(e){const t=(0,s().K8)((()=>v().A.state.isVisible),[]),o=(0,i.useCallback)((()=>{null==e||e.startRendering()}),[e]),n=(0,i.useCallback)((()=>{null==e||e.stopRendering()}),[e]);(0,i.useEffect)((()=>{t?o():n()}),[t,n,o])}(P);const R=function(e){const t=(0,i.useMemo)((()=>{const t=null==e?void 0:e.stateMachineInputs("Main"),o=new Map;if(!t)return o;for(const e of t)o.set(e.name,e);return o}),[e]);(0,i.useEffect)((()=>{(0,d().exposeDebugValue)("AssistantAnimatedFaceTriggers",t)}),[t]);const o=(0,u().T)(),n=(0,i.useCallback)((e=>{var n;o.current&&(I&&j("Firing trigger","MediumBlue",e),null===(n=t.get(e))||void 0===n||n.fire())}),[o,t]);return n}(P),L=(0,i.useMemo)((()=>new(p().O)(1)),[]);(0,i.useEffect)((()=>{L.enqueue((async()=>{"writing"===o?R("WritingInTrigger"):"idle"===o?(await async function(){"Writing_In"===T.current&&await A((e=>"Writing_Loop"===e)),"Writing_Loop"===T.current&&(R("WritingOutTrigger"),await A((e=>(0,g().Xk)(C,e)))),"Thinking_In"!==T.current&&"Thinking_Loop"!==T.current||(R("ThinkingOutTrigger"),await A((e=>(0,g().Xk)(C,e)))),"Searching_In"===T.current&&await A((e=>"Searching_Loop"===e)),"Searching_Loop"===T.current&&(R("SearchingOutTrigger"),await A((e=>(0,g().Xk)(C,e))))}(),R("IdleTrigger")):"searching"===o?R("SearchingInTrigger"):"thinking"===o?R("ThinkingInTrigger"):"error"===o?R("ErrorTrigger"):(0,g().HB)(o)}))}),[o,R,A,L,T]);const D=(0,l().IS)((e=>{const o=(0,S().N)(t);return{wrap:{width:o,height:o,...r&&{boxShadow:e.shadowXS,borderRadius:"100%"},position:"relative"},faceImg:{position:"absolute",height:o,width:o},staticFace:{position:"absolute",left:0,top:0}}}),[t,r]);return(0,_.jsxs)("div",{style:D.wrap,onMouseEnter:e=>{e.stopPropagation(),null==h||h(e),setTimeout((()=>x().default.dismissTourTutorial()),400)},children:[(0,_.jsx)(B,{style:D.faceImg,onMouseEnter:()=>{Math.random()<.1&&R("GreetingTrigger")}}),!f&&(0,_.jsx)(w().o,{variant:t,wrapWithPadding:!0,style:D.staticFace,shadowVariant:r?"strong":"none"})]})}function j(e,t){const o=r().c9.local().toFormat("HH:mm:ss.SSS");for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];console.log(`%c[${o}] %c${e}:`,"color: Grey;",`color: ${t}; font-weight: bold;`,...i)}},783e3:(e,t,o)=>{o.d(t,{A:()=>c});o(242343);var n=()=>o(466003),r=()=>o(752903),i=()=>o(670481),a=()=>o(14931),s=()=>o(76394),l=()=>o(591130),d=o(163643);const c=function(e){let{isStrikedThrough:t,backgroundColor:c,onClickRemove:u,target:p,disabled:m,showInfoIcon:g,style:h,shouldWrap:f}=e;const y=(0,o(237385).v3)(),v=(0,o(653998).tz)(),{device:b}=y,x=(0,o(803290).K8)((()=>function(e){let t,{target:o,intl:r,showInfoIcon:c}=e;switch(o.type){case"newUser":t=o.value.email.trim();break;case"existingUser":t=(0,a().c6)(r,o.value);break;case"bot":t=(0,n().Hg)(o.value);break;case"group":t=(0,l().Pf)({intl:r,groupName:o.value.name});break;default:(0,s().HB)(o)}return c?(u=t,(0,d.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,i().G)({marginRight:4,width:14,height:14}),u]})):t;var u}({target:p,intl:v,showInfoIcon:g})),[p,v,g]);return(0,d.jsx)(o(809785).A,{showRemoveButton:!0,isSingle:!0,isStrikedThrough:t,backgroundColor:c,format:b.isMobile?r().NY.Large:r().NY.Medium,onClickRemove:e=>function(e,t,o){e.stopPropagation(),t(o)}(e,u,p),disabled:m,disabledFeedback:!0,value:x,style:h,shouldWrap:f})}},786716:(e,t,o)=>{o.d(t,{A:()=>d});var n=o(242343),r=()=>o(803290),i=()=>o(174114),a=()=>o(967454),s=o(163643);const l=4;function d(e){let{scrollerStore:t,type:o,dividerColor:d,errorMargin:c=l}=e;const u=(0,r().K8)((()=>t.state.elementRef),[t]),p=(0,a().Xg)(u),m=(0,a().CR)(u),g=(0,a().sj)(u),h=(0,a().yE)(u),f=(0,a().o7)(u),y=(0,a().HJ)(u),v=(0,n.useMemo)((()=>{if(!t)return!1;switch(o){case"top":return Math.round(h)>c;case"bottom":return Math.abs(Math.round(h)-(m-f))>c;case"left":return Math.round(g)>c;case"right":return Math.abs(Math.round(g)-(p-y))>c}}),[t,o,c,p,m,g,h,f,y]),b="left"===o||"right"===o,x=(0,i().IS)((e=>({divider:{flexShrink:0,boxShadow:v?b?`1px 0 0 ${d??e.regularDividerColor}`:`0 1px 0 ${d??e.regularDividerColor}`:"0 0 0 transparent",transition:"box-shadow 300ms",...b?{width:1,height:"100%",marginLeft:-1}:{height:1,width:"100%",marginTop:-1},zIndex:99}})),[b,v,d]);return(0,s.jsx)("div",{style:x.divider})}},797715:(e,t,o)=>{o.d(t,{Ay:()=>g,le:()=>m,sA:()=>p});var n=o(242343),r=()=>o(237385),i=()=>o(803290),a=()=>o(174114),s=()=>o(975392),l=()=>o(640979),d=()=>o(59175),c=()=>o(655830),u=o(163643);const p="20px";let m=function(e){return e[e.Select=0]="Select",e[e.Person=1]="Person",e[e.Relation=2]="Relation",e[e.FilterValue=3]="FilterValue",e[e.Share=4]="Share",e[e.Group=5]="Group",e[e.Geopoint=6]="Geopoint",e}({});const g=n.forwardRef((function(e,t){const{disabled:n,value:r,message:i,right:a,showClearButton:l,format:d,focus:p,dontShowBorderBottom:m,showBorder:g,style:h,onClick:f,inputAndTokenWrapRightStyle:y,tokens:v,hideInput:b,onRemoveLastToken:x,onKeyDown:w,onChange:k,focusInitial:C,focusAfterAnimation:_,preventScrollOnFocus:I,inputFullWidth:M,inputDivStyle:A,inputStyle:j,rightWrapStyle:T,tokenWrapStyle:P,type:B,placeholder:R,onEmptySubmit:L,onSubmit:D,textarea:E,autoComplete:W,onClearButtonClick:N,inputElementAttributes:F,suppressFocusRing:z,onFocus:G,onBlur:H}=e;return(0,u.jsx)(c().A,{debugName:"TokenInputMenuItem",capture:!n,onLeft:s().D_,onRight:s().D_,onSelectAll:s().D_,onRedo:s().D_,onUndo:s().D_,onToggleBold:s().D_,onToggleItalics:s().D_,onToggleCode:s().D_,onCut:s().D_,onCopy:s().D_,onPaste:s().D_,onKeypress:s().D_,children:(0,u.jsx)(c().A,{debugName:"TokenInputMenuItem",capture:!n&&r.length>0,onDelete:s().D_,onBackspace:s().D_,children:(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"stretch",flex:1,minWidth:0,gap:i?4:void 0},children:[(0,u.jsx)(S,{ref:t,right:a,showClearButton:l,format:d,focus:p,dontShowBorderBottom:m,disabled:n,showBorder:g,style:h,rightWrapStyle:T,onClick:f,inputAndTokenWrapRightStyle:y,tokens:v,hideInput:b,value:r,onRemoveLastToken:x,onKeyDown:w,onChange:k,focusInitial:C,focusAfterAnimation:_,preventScrollOnFocus:I,inputFullWidth:M,inputDivStyle:A,inputStyle:j,type:B,placeholder:R,onEmptySubmit:L,onSubmit:D,textarea:E,autoComplete:W,onClearButtonClick:N,inputElementAttributes:F,suppressFocusRing:z,onFocus:G,onBlur:H,tokenWrapStyle:P}),i&&(0,u.jsx)(o(35462).A,{isSmall:!0,children:i})]})})})}));function h(e){return e===m.Group}function f(e,t){return{display:"flex",flexWrap:"wrap",alignItems:"flex-start",background:t?"none":e.tokenInputMenuItemBackground,cursor:"text",overflow:"hidden",fontSize:14,minHeight:28,padding:4,borderRadius:6}}function y(e){return{display:"flex",flexWrap:"wrap",alignItems:"flex-start",flexShrink:0,minHeight:44,borderBottom:`1px solid ${e.regularDividerColor}`,fontSize:16,background:e.popoverBackground}}const v={borderRadius:4};function b(e){return{[m.Select]:{desktopWrapStyleOverride:{},inputDivDesktopStyle:v,inputDivDesktopFocusStyle:{}},[m.Person]:{desktopWrapStyleOverride:{},inputDivDesktopStyle:v,inputDivDesktopFocusStyle:{}},[m.Relation]:{desktopWrapStyleOverride:{},inputDivDesktopStyle:v,inputDivDesktopFocusStyle:{}},[m.Group]:{desktopWrapStyleOverride:{},inputDivDesktopStyle:v,inputDivDesktopFocusStyle:{}},[m.FilterValue]:{desktopWrapStyleOverride:{padding:"4px 6px",boxShadow:e.inputBoxShadow,background:e.inputBackground},inputDivDesktopStyle:v,inputDivDesktopFocusStyle:{}},[m.Geopoint]:{desktopWrapStyleOverride:{},inputDivDesktopStyle:v,inputDivDesktopFocusStyle:{}},[m.Share]:{desktopWrapStyleOverride:{},inputDivDesktopStyle:{margin:"0 0 0 2px",borderTopLeftRadius:4,borderTopRightRadius:4},inputDivDesktopFocusStyle:{}}}}const x=n.forwardRef((function(e,t){let{tokens:o,disabled:i,value:s,onRemoveLastToken:l,onKeyDown:c,onChange:p,focus:m,focusInitial:g,focusAfterAnimation:h,preventScrollOnFocus:f,format:y,inputFullWidth:v,inputDivStyle:b,inputStyle:x,type:S,placeholder:w,onEmptySubmit:C,onSubmit:_,textarea:I,autoComplete:M,inputMenuItemStore:A,onFocus:j,onBlur:T,inputElementAttributes:P,suppressFocusRing:B}=e;const R=(0,a().DP)(),L=(0,r().v3)(),D=(0,n.useCallback)((e=>{"Backspace"===e.key&&0===s.length&&l(),c&&c(e)}),[s,l,c]),E=(0,n.useCallback)((e=>{0===s.length&&C&&C(),_&&_(e)}),[s,C,_]),W=(0,n.useCallback)((()=>{A.setState({focused:!1}),null==T||T()}),[A,T]),N=(0,n.useCallback)((()=>{A.setState({focused:!0}),null==j||j()}),[A,j]),F=0===o.length;return(0,u.jsx)(d().A,{disabled:i,format:d().C.Transparent,onKeyDown:D,onChange:p,value:s,focus:m,focusInitial:g,focusAfterAnimation:h,preventScrollOnFocus:f,style:k(y,L,R,v,b),inputStyle:x||{height:L.device.isMobile?24:20},size:1,ref:t,type:S,placeholder:F?w:"",onSubmit:E,onFocus:N,onBlur:W,textarea:I,autoComplete:M,inputElementAttributes:P,suppressFocusRing:B})})),S=n.forwardRef((function(e,t){const{right:s,showClearButton:d,format:c,focus:p,dontShowBorderBottom:m,disabled:g,showBorder:v,style:S,onClick:k,inputAndTokenWrapRightStyle:C,tokenWrapStyle:_,tokens:I,hideInput:M,value:A,onRemoveLastToken:j,onKeyDown:T,onChange:P,focusInitial:B,focusAfterAnimation:R,preventScrollOnFocus:L,inputFullWidth:D,inputDivStyle:E,inputStyle:W,rightWrapStyle:N,type:F,placeholder:z,onEmptySubmit:G,onSubmit:H,textarea:O,autoComplete:K,onClearButtonClick:V,onFocus:$,onBlur:U,inputElementAttributes:Y,suppressFocusRing:q}=e,Z=(0,a().DP)(),Q=(0,r().v3)(),X=(0,n.useContext)(l().xu),[J,ee]=n.useState(!1),te=(0,i().uB)(void 0,o(185087).A);(0,o(269280).l)((()=>{(p||B)&&te.setState({focused:!0})})),(0,n.useEffect)((()=>{L&&ee(!0),void 0!==p&&te.setState({focused:p})}),[p,te,L]);const oe=(0,i().K8)((()=>te.state.focused),[te]),ne=(0,n.useRef)(null),[re,ie]=(0,o(152058).A)(),ae=(0,o(381988).A)(t,ne,re),se=(0,n.useCallback)((()=>{var e;g||(null===(e=ne.current)||void 0===e||e.focus(),null==k||k())}),[g,k,ne]),le="combobox"===(null==Y?void 0:Y.role)&&ie&&!q,de=function(e){let{environment:t,theme:o,format:n,focus:r,dontShowBorderBottom:a,disabled:s,showBorder:d,menuContext:c,showFocusRing:u}=e;return(0,i().K8)((()=>{const{WindowSizeStore:e}=t,i=b(o)[n];return t.device.isMobile?{...y(o),paddingTop:14,paddingBottom:14,paddingLeft:(null==c?void 0:c.menuType)!==l().gu.Popup?e.getSafePaddingLeftCSS(16):16,paddingRight:(null==c?void 0:c.menuType)!==l().gu.Popup?e.getSafePaddingRightCSS(16):16,...a&&{borderBottom:"none"}}:{...f(o,s),...i.desktopWrapStyleOverride,...d&&{boxShadow:"rgba(15, 15, 15, 0.1) 0px 0px 0px 1px inset"},...d&&r&&{boxShadow:"rgba(35, 131, 226, 0.57) 0px 0px 0px 1px inset, rgba(35, 131, 226, 0.35) 0px 0px 0px 2px"},...r&&i.inputDivDesktopFocusStyle,...u&&{boxShadow:o.outlineBlueInputBoxShadow}}}),[s,a,t,r,n,null==c?void 0:c.menuType,d,o,u])}({environment:Q,theme:Z,format:c,focus:p,dontShowBorderBottom:m,disabled:g,showBorder:v,menuContext:X,showFocusRing:le}),{inputElementAttributes:ce,wrapperElementAttributes:ue}=(0,n.useMemo)((()=>{if("combobox"===(null==Y?void 0:Y.role)){const{role:e,"aria-expanded":t,"aria-haspopup":o,"aria-controls":n,"aria-orientation":r,...i}=Y;return{inputElementAttributes:i,wrapperElementAttributes:{role:e,"aria-expanded":t,"aria-haspopup":o,"aria-controls":n,"aria-orientation":r}}}return{inputElementAttributes:Y,wrapperElementAttributes:{}}}),[Y]);return!Q.device.isMobile||s||d?(0,u.jsxs)(o(142708).H,{type:o(98508).A.All,style:{...de,flexWrap:"nowrap",...S},onClick:se,...ue,children:[(0,u.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexGrow:1,minWidth:0,..._,...s||d?C:null},children:[I,!M&&(0,u.jsx)(x,{ref:ae,tokens:I,disabled:g,value:A,onRemoveLastToken:j,onKeyDown:T,onChange:P,focus:p,focusInitial:B,focusAfterAnimation:R,preventScrollOnFocus:J,format:c,inputFullWidth:D,inputDivStyle:E,inputStyle:W,type:F,placeholder:z,onEmptySubmit:G,onSubmit:H,textarea:O,autoComplete:K,inputMenuItemStore:te,onFocus:$,onBlur:U,inputElementAttributes:ce,suppressFocusRing:q})]}),s||d?(0,u.jsx)("div",{style:{flexShrink:0,...N},children:(0,u.jsx)(w,{showClearButton:d,right:s,onClearButtonClick:V,tokens:I,value:A})}):null]}):(0,u.jsxs)("div",{style:{...de,flexWrap:"nowrap",...S},onClick:se,tabIndex:-1,role:"none",...ue,children:[(0,u.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexGrow:1,minWidth:0,gap:6,overflow:"hidden",marginRight:h(c)?6:0},children:[I,!M&&(0,u.jsx)(x,{ref:ae,tokens:I,disabled:g,value:A,onRemoveLastToken:j,onKeyDown:T,onChange:P,focus:p,focusInitial:B,focusAfterAnimation:R,format:c,inputFullWidth:D,inputDivStyle:E,inputStyle:W,type:F,placeholder:z,onEmptySubmit:G,onSubmit:H,textarea:O,autoComplete:K,inputMenuItemStore:te,onFocus:$,onBlur:U,inputElementAttributes:ce,suppressFocusRing:q})]}),(0,u.jsx)(o(792824).A,{show:oe})]})}));function w(e){let{showClearButton:t,right:n,onClearButtonClick:i,tokens:s,value:l}=e;const d=(0,o(653998).tz)(),c=(0,a().DP)(),p=(0,r().v3)(),{isMobile:m}=p.device;return n?(0,u.jsx)(u.Fragment,{children:n}):t&&(s.length>0||l.length>0)?(0,u.jsx)(o(126451).A,{"aria-label":d.formatMessage({id:"tokenInputMenuItem.clearButton",defaultMessage:"Clear"}),onClick:i,style:{flexShrink:0,flexGrow:0,borderRadius:m?24:20,marginTop:2},children:(0,o(210106).J)({width:m?16:14,height:m?16:14,fill:c.lightIconColor})}):null}function k(e,t,o,n,r){return{flexGrow:1,flexShrink:1,flexBasis:n?"100%":60,minWidth:60,width:"auto",lineHeight:p,...t.device.isMobile?{margin:"0 8px 0 0"}:b(o)[e].inputDivDesktopStyle,...r}}},810733:(e,t,o)=>{o.d(t,{A:()=>r});class n extends(()=>o(129044))().default{getInitialState(){return{open:!1}}}const r=new n},823519:(e,t,o)=>{o.d(t,{a:()=>m});var n=o(242343),r=()=>o(174114),i=()=>o(76394),a=()=>o(31448),s=()=>o(421338),l=()=>o(152058),d=()=>o(755002),c=o(163643);function u(e){const{disabled:t,checked:o,selectorSize:n}=e,[i,a]=(0,l().A)(),s=function(e){const{checked:t,disabled:o,isFocusVisible:n,selectorSize:i}=e;return(0,r().IS)((e=>({root:{position:"absolute",display:"flex",width:15,height:15,padding:5,margin:1.5,justifyContent:"center",alignItems:"center",gap:8,flexShrink:0,borderRadius:"50%",transition:"background 100ms ease-out",...t?{boxShadow:`0 0 0 1.5px ${o?e.tint.regular:e.blueColor}`,background:o?e.tint.regular:e.blueColor}:{boxShadow:`0 0 0 1.5px ${o?e.icon.quaternary:e.stroke.input}`,background:e.surface.page},...n&&{boxShadow:e.outlineBlueInputBoxShadow}},active:{background:t?e.blueButtonPressedBackground:e.buttonHoveredBackground},input:{opacity:0,width:"small"===i?14:18,height:"small"===i?14:18,...o?{pointerEvents:"none"}:{cursor:"pointer"}}})),[t,o,n,i])}({checked:o,disabled:t,isFocusVisible:a,selectorSize:n});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("input",{ref:i,type:"radio",style:s.input,className:"radio-button",...e}),(0,c.jsx)("span",{...(0,d().AH)("custom-radio-button",s.root,t?{}:{pseudoActive:s.active})})]})}var p=()=>o(701270);const m=n.forwardRef((function(e,t){let{additionalContent:o,description:i,isDisabled:l,isSelected:d,label:u,name:p,onChange:m,width:f="fill",selectorSize:y="normal",selectAlignXAxis:v="left",selectAlignYAxis:b="center",selectType:x="checkbox",style:S,supportText:w,value:k,colorName:C,alignAdditionalContent:_,...I}=e;const M=(0,n.useId)(),A=function(e){const{isSelected:t,isDisabled:o,selectAlignYAxis:n,alignAdditionalContent:i}=e;return(0,r().IS)((e=>{const r=t&&!o?e.blueColor:e.selectorBorderUnselected;return{container:{display:"flex",alignItems:i??"center",gap:12,userSelect:"none",padding:"9px 16px 10px 10px",borderRadius:6,border:`1px solid ${r}`,...!o&&{cursor:"pointer"}},title:{fontWeight:a().Wy.medium,fontSize:14,userSelect:"none",lineHeight:18},additionalContentWrapper:{flexShrink:0},selectorWrapper:{display:"flex",..."top"===n?{marginTop:2}:{}},rightAlignSelectorWrapper:{display:"flex"}}}),[t,o,n,i])}({isSelected:d,isDisabled:l,selectAlignYAxis:b,alignAdditionalContent:_}),j=(0,c.jsxs)(s().Y1,{direction:"horizontal",align:"top"===b?"top-left":"center-left",gap:12,width:f,children:[(0,c.jsx)("div",{style:A.selectorWrapper,children:(0,c.jsx)(h,{id:M,selectType:x,name:p,value:k,onChange:m,isSelected:d,selectorSize:y,isDisabled:l,...I})}),(0,c.jsx)(g,{colorName:C,description:i,label:u,selectorSize:y,supportText:w,isDisabled:l})]}),T=(0,c.jsxs)(s().Y1,{direction:"horizontal",align:"top"===b?"top-center":"center",gap:12,children:[(0,c.jsx)(g,{colorName:C,description:i,label:u,selectorSize:y,supportText:w,isDisabled:l}),(0,c.jsx)("div",{style:{...A.selectorWrapper,...A.rightAlignSelectorWrapper},children:(0,c.jsx)(h,{id:M,selectType:x,name:p,value:k,onChange:m,selectorSize:y,isSelected:d,isDisabled:l,...I})})]}),P=o?(0,c.jsx)("div",{style:A.additionalContentWrapper,children:o}):null;return(0,c.jsx)("label",{ref:t,style:{...A.container,...S},htmlFor:M,children:"left"===v?(0,c.jsxs)(c.Fragment,{children:[j,P]}):(0,c.jsxs)(c.Fragment,{children:[P,T]})})}));function g(e){const{description:t,label:o,supportText:n,selectorSize:r,isDisabled:a,colorName:l}=e;let d;return"large"===r?d="Page-Content/Text-Block":"normal"===r||void 0===r?d="Body-13px/Medium":"small"===r?d="Body-12px/Regular":(0,i().HB)(r),(0,c.jsxs)(s().Y1,{gap:4,children:[(0,c.jsxs)(s().Y1,{gap:2,children:[(0,c.jsx)(p().D,{styleName:d,colorName:l||(a?"quaternary":"primary"),children:o}),t?(0,c.jsx)(p().D,{styleName:"Caption-12px/Regular",colorName:a?"quaternary":"secondary",children:t}):null]}),n?(0,c.jsx)(p().D,{styleName:"Caption-12px/Medium",colorName:"tertiary",children:n}):null]})}function h(e){const{selectType:t,selectorSize:n="normal",id:a,name:s,value:l,onChange:d,isSelected:p,isDisabled:m,...g}=e,h=(0,r().IS)((()=>({checkboxWrapper:{minWidth:18,display:"flex",justifyContent:"center"}})),[]);switch(t){case"radio":return(0,c.jsx)(u,{id:a,name:s,value:l,onChange:d,checked:p,disabled:m,selectorSize:n,...g});case"checkbox":return(0,c.jsx)("div",{style:h.checkboxWrapper,children:(0,c.jsx)(o(830025).W,{id:a,name:s,value:l,onChange:d,checked:p,disabled:m,selectorSize:n,...g})});default:(0,i().HB)(t)}}},830025:(e,t,o)=>{o.d(t,{W:()=>l});o(242343);var n=()=>o(152058),r=()=>o(174114),i=()=>o(755002),a=()=>o(96144),s=o(163643);function l(e){const{selectorSize:t="normal",...o}=e,{disabled:l,checked:d}=o,[c,u]=(0,n().A)(),p=function(e){const{checked:t,disabled:o,isFocusVisible:n,selectorSize:i}=e;return(0,r().IS)((e=>({root:{position:"absolute",display:"flex",width:"large"===i?15:11,height:"large"===i?15:11,margin:1.5,justifyContent:"center",alignItems:"center",flexShrink:0,borderRadius:"large"===i?2:1,transition:"background 100ms ease-out",...t?{boxShadow:`0 0 0 1.5px ${o?e.tint.regular:e.blueColor}`,background:o?e.tint.regular:e.blueColor}:{boxShadow:`0 0 0 1.5px ${o?e.icon.quaternary:e.stroke.input}`,background:e.surface.page},...n&&{boxShadow:e.outlineBlueInputBoxShadow}},active:{background:t?e.blueButtonPressedBackground:e.buttonHoveredBackground},input:{opacity:0,width:"large"===i?18:void 0,height:"large"===i?18:void 0,...o?{pointerEvents:"none"}:{cursor:"pointer"}},icon:{color:e.text.contrastPrimary,width:"large"===i?12:10,height:"large"===i?12:10,ariaHidden:!0}})),[i,t,o,n])}({checked:d,disabled:l,selectorSize:t,isFocusVisible:u});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("input",{ref:c,type:"checkbox",style:p.input,...o}),(0,s.jsx)("span",{...(0,i().AH)(p.root,l?{}:{pseudoActive:p.active}),children:d&&(0,a().R)(p.icon)})]})}},837809:(e,t,o)=>{o.d(t,{O:()=>d,q:()=>c});o(242343);var n=()=>o(174114),r=()=>o(220413),i=()=>o(31448),a=()=>o(826033),s=()=>o(809785),l=o(163643);function d(e){const{value:t,color:o,format:d,showEllipsis:c,onClickRemove:u,showRemoveButton:p,isSingle:m,shouldShrink:g,hideTooltip:h,description:f,tooltipPlacement:y,...v}=e,b=(0,n().DP)(),x=(0,n().IS)((e=>({token:{...c&&i().RC}})),[c]),{textColor:S,backgroundColor:w}=(0,r().LD)(b,o);return t?(0,l.jsx)(s().A,{format:d,value:(0,l.jsx)(a().A,{children:t}),description:f,onClickRemove:u,showRemoveButton:p,isSingle:m,color:S,backgroundColor:w,shouldShrink:g,tooltipPlacement:y,showTooltip:h?"never":"overflow",style:x.token,...v}):null}function c(e){const{value:t,color:o,format:d,showEllipsis:c,onClickRemove:u,showRemoveButton:p,isSingle:m,shouldShrink:g,groupColor:h,tooltipPlacement:f,description:y,hideTooltip:v,...b}=e,x=(0,n().DP)(),S=(0,n().IS)((()=>({token:{...c&&i().RC}})),[c]);if(!t)return null;const{textColor:w,backgroundColor:k}=(0,r().LD)(x,o??h??"gray");let C;return C=o||(h||"gray"),(0,l.jsx)(s().A,{format:d,value:(0,l.jsx)(a().A,{children:t}),description:y,onClickRemove:u,showRemoveButton:p,isSingle:m,color:w,backgroundColor:k,shouldShrink:g,showTooltip:v?"never":"overflow",style:S.token,isRound:!0,showColoredDot:C,tooltipPlacement:f,...b})}},855470:(e,t,o)=>{o.d(t,{V:()=>r});o(242343);var n=o(163643);const r=(0,o(680369).wt)("chevronRight",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M12.375 8.06445C12.375 7.83203 12.2861 7.63379 12.1084 7.45605L6.77637 2.24023C6.62598 2.08984 6.44141 2.01465 6.22266 2.01465C5.77832 2.01465 5.42285 2.35645 5.42285 2.80078C5.42285 3.01953 5.51172 3.21777 5.66211 3.375L10.4746 8.06445L5.66211 12.7539C5.51855 12.9043 5.42285 13.1025 5.42285 13.3213C5.42285 13.7725 5.77832 14.1143 6.22266 14.1143C6.44141 14.1143 6.62598 14.0391 6.77637 13.8887L12.1084 8.67285C12.293 8.49512 12.375 8.29688 12.375 8.06445Z"})})},855827:(e,t,o)=>{o.d(t,{A:()=>r});const n=new(o(967203).U)((e=>{let{spaceId:t}=e;return t}),(async(e,t)=>{var n;let{spaceId:r}=t;if(null===(n=o(485966).default.state.currentSpaceStore)||void 0===n||!n.canAdmin())return;const i=await Promise.resolve().then(o.bind(o,818369)),a=await i.callApi({eventName:"getCustomerOffersReceived",environment:e,data:{spaceId:r},headers:(0,o(519423).WS)({cellId:void 0,spaceId:r})});return"success"===a.type&&(0,o(76394).EI)(a.data)?a.data:void 0}));o(996094).exposeDebugValue("OffersReceivedStore",n);const r=n},876669:(e,t,o)=>{o.d(t,{j:()=>b,w:()=>v});var n=o(242343),r=()=>o(174114),i=()=>o(951920),a=()=>o(281030),s=()=>o(338563);const l=o.p+"f3a1c2555bc7b26c.gif",d=o.p+"8ab52115da3e3fbd.gif";const c=o.p+"160f5613d44c23ea.gif",u=o.p+"b68268645067ada1.gif",p=o.p+"fce2247087f1d227.gif",m=o.p+"896e2255367f2b04.gif";var g=o(163643);const h={dark:[o(965948),c,p],light:[o(651618),u,m]},f=new(o(725155).O)(1);function y(e){let{isDarkMode:t,onAssetChange:o}=e;const n=h[t?"dark":"light"],r=Math.floor(Math.random()*n.length);f.enqueue((async()=>{o({type:"animated",asset:n[r]}),await new Promise((e=>setTimeout(e,7e3))),o({type:"static",asset:s()})})).catch((e=>{console.error(`Error showing animated asset: ${e}`)}))}function v(e){const{sizeVariant:t,onMouseEnter:o}=e,c=(0,r().IS)((e=>{const o=(0,a().N)(t);return{faceImgWrap:{width:o,height:o,borderRadius:"100%",background:e.assistantCornerButtonBackground,overflow:"hidden"},faceImg:{height:o,width:o}}}),[t]),[u,p]=(0,i().B)(),m=function(e){const[t,o]=(0,n.useState)({type:"static",asset:s()}),i="dark"===(0,r().DP)().mode;(0,n.useEffect)((()=>{const e=setInterval((()=>{y({isDarkMode:i,onAssetChange:o})}),3e4);return()=>{clearInterval(e),f.cancel()}}),[i]);const a=(0,n.useMemo)((()=>i?l:d),[i]);return(0,n.useMemo)((()=>"animated"===t.type?t.asset:e&&Math.random()<=.1?a:(e&&y({isDarkMode:i,onAssetChange:o}),t.asset)),[a,t,i,e])}(p);return(0,g.jsx)("div",{ref:u,style:c.faceImgWrap,onMouseEnter:o,children:(0,g.jsx)("img",{style:c.faceImg,src:m,alt:"Notion AI face"})})}function b(e){const{sizeVariant:t}=e,o=(0,r().IS)((e=>{const o=(0,a().N)(t);return{faceImgWrap:{width:o,height:o,borderRadius:"100%",background:e.assistantCornerButtonBackground,overflow:"hidden"},faceImg:{height:o,width:o}}}),[t]),n="dark"===(0,r().DP)().mode,i=h[n?"dark":"light"][0];return(0,g.jsx)("div",{style:o.faceImgWrap,children:(0,g.jsx)("img",{style:o.faceImg,src:i,alt:"Notion AI face"})})}},883959:(e,t,o)=>{o.d(t,{C:()=>n});const n=(0,o(680369).xh)("magnifyingGlass",{default:{loader:()=>o.e(1827).then(o.bind(o,658504))},small:{loader:()=>o.e(41805).then(o.bind(o,916278))},mini:{loader:()=>o.e(20283).then(o.bind(o,742656))},large:{loader:()=>o.e(61969).then(o.bind(o,804634))}})},887508:(e,t,o)=>{o.d(t,{v:()=>r});o(242343);var n=o(163643);const r=(0,o(680369).wt)("arrowLeftThick",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M1.54004 8.05762C1.54004 8.2627 1.62891 8.46094 1.78613 8.61133L6.29102 13.1162C6.45508 13.2734 6.63965 13.3486 6.82422 13.3486C7.25488 13.3486 7.5625 13.041 7.5625 12.6309C7.5625 12.4189 7.48047 12.2344 7.34375 12.1045L5.8125 10.5527L3.78906 8.70703L5.38867 8.80273H13.7012C14.1455 8.80273 14.46 8.49512 14.46 8.05762C14.46 7.61328 14.1455 7.3125 13.7012 7.3125H5.38867L3.7959 7.4082L5.8125 5.5625L7.34375 4.01074C7.48047 3.87402 7.5625 3.68945 7.5625 3.47754C7.5625 3.06738 7.25488 2.7666 6.82422 2.7666C6.63965 2.7666 6.45508 2.83496 6.27734 3.00586L1.78613 7.50391C1.62891 7.64746 1.54004 7.85254 1.54004 8.05762Z"})})},889682:(e,t,o)=>{o.d(t,{H:()=>i});o(242343);var n=o(163643);const r={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M13.105 4.184a1.475 1.475 0 1 1-2.934-.309 1.475 1.475 0 0 1 2.934.309m-5.297 7.25-.753 2.994-2.334 2.101a.55.55 0 0 0 .737.817l2.582-2.325.72-2.864-.662-.476a2.3 2.3 0 0 1-.29-.247"}),(0,n.jsx)("path",{d:"M11.681 8.169q.127.206.208.442l.567 1.67a.55.55 0 0 0 .66.354l2.032-.527a.55.55 0 1 0-.276-1.065l-1.539.4-.403-1.186a3.296 3.296 0 0 0-3.278-2.232l-3.02.145a.55.55 0 0 0-.513.438l-.501 2.42a.55.55 0 0 0 1.077.223l.415-2.002 1.654-.08-.03.294-.603 2.18a1.45 1.45 0 0 0 .516 1.537l3.05 2.335-2.08 1.51a.55.55 0 1 0 .647.89l2.579-1.873a.64.64 0 0 0 .013-1.026l-2.168-1.659z"})]})},i=(0,o(680369).wt)("figureRun",r)},897758:(e,t,o)=>{o.d(t,{R:()=>i});o(242343);var n=o(163643);const r={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M12 8.875c.345 0 .625.28.625.625v1.875H14.5a.625.625 0 1 1 0 1.25h-1.875V14.5a.625.625 0 1 1-1.25 0v-1.875H9.5a.625.625 0 1 1 0-1.25h1.875V9.5c0-.345.28-.625.625-.625"}),(0,n.jsx)("path",{d:"M4.5 2.375A2.125 2.125 0 0 0 2.375 4.5V12c0 1.174.951 2.125 2.125 2.125h1.625v1.625c0 1.174.951 2.125 2.125 2.125h7.5a2.125 2.125 0 0 0 2.125-2.125v-7.5a2.125 2.125 0 0 0-2.125-2.125h-1.625V4.5A2.125 2.125 0 0 0 12 2.375zm8.375 3.75H8.25A2.125 2.125 0 0 0 6.125 8.25v4.625H4.5A.875.875 0 0 1 3.625 12V4.5c0-.483.392-.875.875-.875H12c.483 0 .875.392.875.875zm-5.5 2.125c0-.483.392-.875.875-.875h7.5c.483 0 .875.392.875.875v7.5a.875.875 0 0 1-.875.875h-7.5a.875.875 0 0 1-.875-.875z"})]})},i=(0,o(680369).wt)("squareOnSquarePlus",r)},923278:(e,t,o)=>{o.d(t,{A:()=>r});class n extends(()=>o(129044))().default{getInitialState(){}}const r=new n},933871:(e,t,o)=>{o.d(t,{U:()=>p});o(610931);var n=()=>o(543396),r=()=>o(827875),i=()=>o(33715),a=()=>o(846287),s=()=>o(201147),l=()=>o(946854),d=()=>o(84543),c=()=>o(272690),u=()=>o(477267);function p(e){let{environment:t,transaction:o,layoutStore:p,position:m,sessionId:g,beforePerformDeleteModule:h}=e;const f=p.getModules();if(!f)throw new Error("[deleteModuleAtPosition] modules by area not found for layout store");const y=(0,a().EX)(f,(e=>e.id===m.moduleId)),v=(0,n().Cg)({moduleId:null==y?void 0:y.module.id,modulesByArea:p.getModules()}).length;if(!y)return;const{module:b,position:x}=y;if(!(0,s().Fe)(b))throw new Error("[deleteModuleAtPosition] module to delete is not removeable");var S;(d().createAndCommitOrAppend({environment:t,transaction:o,canUndo:!0,perform(e){!function(e){const{transaction:t,layoutStore:o,moduleLocation:n,moduleToDelete:a,beforePerformDeleteModule:s}=e;s&&s(t);(0,l().V6)(a)&&(0,u().deleteViewsModuleDependencies)({layoutStore:o,viewsModule:a,transaction:t});if("form_conditional_modules"===n.area){const e=r().N4.removeChildModule({pointer:o.pointer,modulesByArea:o.getModules(),module:a});for(const n of e)d().applyOperation({transaction:t,store:o,operation:n})}else{const e="views_main_tab_modules"===n.area?{area:n.area,viewId:n.viewId}:{area:i().Zm[n.area]};d().applyOperation({transaction:t,store:o,operation:r().N4.deleteModuleInArea({...e,pointer:o.pointer,moduleId:a.id})})}}({environment:t,transaction:e,layoutStore:p,moduleLocation:x,moduleToDelete:b,beforePerformDeleteModule:h})},userAction:"pageLayout.deleteActions.deleteModuleAtPosition"}),g)&&c().PS({environment:t,module:b,sessionId:g,collectionId:null===(S=p.getCollectionModel())||void 0===S?void 0:S.id,layoutId:p.id,context:(0,i().We)(m.area),area:m.area,depth:v})}},934889:(e,t,o)=>{o.r(t),o.d(t,{clockIcon:()=>i,iconDefinition:()=>r});o(242343);var n=o(163643);const r={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M10.625 5.725a.625.625 0 1 0-1.25 0v3.65H6.4a.625.625 0 1 0 0 1.25H10c.345 0 .625-.28.625-.625z"}),(0,n.jsx)("path",{d:"M10 2.375a7.625 7.625 0 1 0 0 15.25 7.625 7.625 0 0 0 0-15.25M3.625 10a6.375 6.375 0 1 1 12.75 0 6.375 6.375 0 0 1-12.75 0"})]})},i=(0,o(680369).wt)("clock",r)},939448:(e,t,o)=>{o.d(t,{l:()=>r});var n=o(242343);function r(e){return(0,n.useEffect)((()=>()=>e()),[])}},956548:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>r,pageIcon:()=>i});o(242343);var n=o(163643);const r={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M13.3 14.25a.55.55 0 0 1-.55.55h-5.5a.55.55 0 1 1 0-1.1h5.5a.55.55 0 0 1 .55.55m-.55-1.95a.55.55 0 1 0 0-1.1h-5.5a.55.55 0 0 0 0 1.1z"}),(0,n.jsx)("path",{d:"M6.25 2.375A2.125 2.125 0 0 0 4.125 4.5v11c0 1.174.951 2.125 2.125 2.125h7.5a2.125 2.125 0 0 0 2.125-2.125V8.121c0-.563-.224-1.104-.622-1.502L11.63 2.997a2.13 2.13 0 0 0-1.502-.622zM5.375 4.5c0-.483.392-.875.875-.875h3.7V6.25A2.05 2.05 0 0 0 12 8.3h2.625v7.2a.875.875 0 0 1-.875.875h-7.5a.875.875 0 0 1-.875-.875zm8.691 2.7H12a.95.95 0 0 1-.95-.95V4.184z"})]})},i=(0,o(680369).wt)("page",r)},965948:(e,t,o)=>{e.exports=o.p+"d96dbdbbe0581121.gif"},967010:(e,t,o)=>{o.d(t,{g:()=>l});var n=o(242343),r=()=>o(237385),i=()=>o(863969),a=()=>o(384055),s=()=>o(702888);function l(e){var t;const o=(0,r().v3)(),[l,d]=(0,n.useState)(),c=(0,i().O)(),u=(null===(t=(0,s().g)({spaceId:c}))||void 0===t?void 0:t.length)??0;return(0,n.useEffect)((()=>{!async function(){c&&d(await(0,a().L6)({environment:o,spaceId:c,offerCampaign:e}))}()}),[o,c,e,u]),l}},984826:(e,t,o)=>{o.d(t,{I:()=>a,_:()=>i});const n={normalizedTitleWithIcon:!0,properties:!0,property_number:!0,property_title:!0,property_person:!0,property_file:!0,property_text:!0,property_checkbox:!0,property_url:!0,property_email:!0,property_phone_number:!0,property_created_by:!0,property_last_edited_by:!0,property_button:!0,property_select:!0,property_multi_select:!0,property_status:!0,property_date:!0,property_created_time:!0,property_last_edited_time:!0,property_last_visited_time:!0,property_relation:!0,property_rollup:!0,property_formula:!0,property_auto_increment_id:!0,property_location:!0,property_verification:!0,property_geo_point:!0,views:!0,viewsMain:!0,relationsGroup:!0,formQuestion:!0,placeholder:!0,deleted_property:!1,cover:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,transcript:!1,formTitle:!1,formSubmit:!1,recentActivity:!1,collaborators:!1,teamspaces:!1},r={properties:!0,property:!0,relationsGroup:!0,formQuestion:!0,placeholder:!0,titleWithIcon:!0,cover:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,transcript:!1,formTitle:!1,formSubmit:!1,views:!0,viewsMain:!0,collectionView:!0,collectionViewV2:!0,recentActivity:!1,collaborators:!1,teamspaces:!1};function i(e){return n[e.type]}function a(e){return r[e.type]}},993254:(e,t,o)=>{o.d(t,{T:()=>r});o(362833),o(725707),o(244387);var n=()=>o(437800);function r(e){const{environment:t,collectionStore:o,duplicate:r,droppedStores:i,transaction:a,duplicateActions:s}=e,{movedStores:l,reparentedStores:d}=i.reduce(((e,t)=>(r||t.getAssociatedCollectionId()!==(null==o?void 0:o.id)?e.reparentedStores.push(t):e.movedStores.push(t),e)),{movedStores:[],reparentedStores:[]});return[...l,...n().MS({environment:t,droppedStores:d,duplicate:r,transaction:a,resolveTemplateVariables:!1,duplicateActions:s})]}},996151:(e,t,o)=>{o.d(t,{K5:()=>p,Vp:()=>c,_u:()=>d,oP:()=>m,wC:()=>l,xN:()=>u});o(725707),o(491955),o(403517);var n=()=>o(728373),r=()=>o(984826),i=()=>o(946854),a=()=>o(220865);const s={page_main:[{id:"cover",type:"cover"},{id:"title_with_icon",type:"normalizedTitleWithIcon",propertyIds:[]},{id:"properties",type:"properties"},{id:"discussions",type:"discussions"},{id:"editor",type:"editor"}],page_details:[],form_layout_schema:[],person_profile_page_main:[],person_profile_page_details:[]},l={page_main:[{id:"title_with_icon",type:"normalizedTitleWithIcon",propertyIds:[]},{id:"editor",type:"editor"}],page_details:[],form_layout_schema:[],person_profile_page_main:[],person_profile_page_details:[]},d={page_main:[{id:"title_with_icon",type:"normalizedTitleWithIcon",propertyLabels:"hide",propertyIds:[]},{id:"editor",type:"editor"},{id:"discussions",type:"discussions"}],page_details:[],form_layout_schema:[],person_profile_page_main:[],person_profile_page_details:[]},c={page_main:[],page_details:[],form_layout_schema:[],person_profile_page_main:[{id:"cover",type:"cover"},{id:"title_with_icon",type:"normalizedTitleWithIcon",propertyIds:[]},{id:"recent_activity",type:"recentActivity"}],person_profile_page_details:[{id:"collaborators",type:"collaborators"},{id:"teamspaces",type:"teamspaces"}]};function u(e){return(0,a().jr)({modulesByArea:s,collectionSchema:null==e?void 0:e.collectionSchema,collectionFormat:null==e?void 0:e.collectionFormat})}function p(){return{page_layout_schema:(0,a().ke)(s.page_main).map((e=>{if(!(0,i().cn)(e))return(0,r().I)(e)?{...e,id:(0,n().Ay)()}:e})).filter((e=>void 0!==e)),page_info_layout_schema:(0,a().ke)(s.page_details).map((e=>{if(!(0,i().cn)(e))return(0,r().I)(e)?{...e,id:(0,n().Ay)()}:e})).filter((e=>void 0!==e)),form_layout_schema:void 0,person_profile_page_main:void 0,person_profile_page_details:void 0}}function m(e,t){const o=void 0===t?[{id:(0,n().Ay)(),type:"formQuestion",formQuestionId:e}]:[{id:(0,n().Ay)(),type:"formQuestion",formQuestionId:e},{id:(0,n().Ay)(),type:"formQuestion",formQuestionId:t}];return{page_layout_schema:void 0,page_info_layout_schema:void 0,person_profile_page_main:void 0,person_profile_page_details:void 0,form_layout_schema:[{id:(0,n().Ay)(),type:"cover"},{id:(0,n().Ay)(),type:"formTitle"},...o,{id:(0,n().Ay)(),type:"formSubmit"}]}}}}]);