"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[22464,22542,34983,65213,89693],{18376:(e,t,n)=>{n.d(t,{W:()=>m});var o=()=>n(477784),i=()=>n(652039),r=()=>n(883249),a=()=>n(145046),s=()=>n(927999),l=()=>n(791497),c=()=>n(84543),d=()=>n(663539);const u=1500,p=(0,n(653998).YK)({pageCover:{defaultMessage:"Page cover",id:"pageCover.title"},fileTypeCaption:{defaultMessage:"Images wider than {idealImageWidth} pixels work best.",id:"pageCover.fileType.caption"},uploadFailed:{defaultMessage:"Upload failed",id:"pageCover.errorDialogMessage.uploadFailed"},preparing:{defaultMessage:"Preparing...",id:"pageCover.status.preparing"},downloading:{defaultMessage:"Downloading...",id:"pageCover.status.downloading"},embedTitle:{defaultMessage:"Link",id:"pageCover.embedType.title"},embedPlaceholder:{defaultMessage:"Paste an image link…",id:"pageCover.embedType.placeholder"},embedCaption:{defaultMessage:"Works with any image from the web.",id:"pageCover.embedType.caption"},embedSubmit:{defaultMessage:"Submit",id:"pageCover.embedType.buttonText"}});function m(e){let{environment:t,intl:n,store:o,rect:i}=e;l().W(t,{originGap:3,originRect:i,isSmallWidth:!1,popupWidth:540,maxHeight:485,title:n.formatMessage(p.pageCover),onDelete:()=>{!function(e){let{environment:t,store:n}=e;l().I(),c().createAndCommit({userAction:"PageCover.handleDelete",environment:t,canUndo:!0,perform:e=>{s().PT({store:n,transaction:e})}})}({environment:t,store:o})},currentTab:"gallery",tabs:[{type:"gallery",onChange:e=>{let{url:n,position:i}=e;f({environment:t,store:o,url:{originUrl:n},position:i})}},{type:"file",fileUpload:!1,imageUpload:!0,videoUpload:!1,caption:n.formatMessage(p.fileTypeCaption,{idealImageWidth:u}),onUpload:e=>{var i;l().I(),d().QM({environment:t,file:e[0],bucket:"secure",record:(null===(i=o.getCoverStore())||void 0===i?void 0:i.pointer)??o.pointer,isFileBlock:!1,reportRichUploadMetrics:!0,onStart:h,onProgress:y,onComplete:e=>{var n;n={environment:t,store:o,url:{originUrl:e}},g({...n,position:.5})},onError:()=>{a().f1(n.formatMessage(p.uploadFailed))}})}},{type:"embed",title:n.formatMessage(p.embedTitle),inputPlaceholder:n.formatMessage(p.embedPlaceholder),caption:n.formatMessage(p.embedCaption),buttonText:n.formatMessage(p.embedSubmit),onChange:e=>{var n;n={environment:t,store:o,url:e},g({...n,position:.5}),l().I()}},{type:"unsplash",onChange:e=>{let{url:n,position:i}=e;f({environment:t,store:o,url:{originUrl:n},position:i})}}]})}async function g(e){const{environment:t,store:n,url:a,position:l}=e,{serverCommitResult:d}=c().createAndCommit({userAction:"PageCover.updatePageCover",environment:t,canUndo:!0,perform:e=>{s().fg({store:n,url:a,position:l||.5,transaction:e})}});await d,r().A.state.loadingMode===i().vS&&r().A.setState({loadingMode:i().Gi,dataURL:r().A.state.dataURL,uploadProgress:t.device.isMobileNative?void 0:100,progressText:o().A.formatMessage(p.downloading)})}function f(e){g(e),e.environment.device.isMobile&&l().I()}function h(e){const{file:t,name:n,size:a}=e;if(l().I(),r().A.setState({loadingMode:i().Wc,file:t,name:n,size:a}),t.type.indexOf("image")>=0)if(t instanceof File){const e=new FileReader;e.onload=e=>{r().A.state.loadingMode===i().Wc&&r().A.setState({...r().A.state,loadingMode:i().vS,uploadProgress:0,dataURL:e.target.result})},e.readAsDataURL(t)}else r().A.state.loadingMode===i().Wc&&r().A.setState({...r().A.state,loadingMode:i().vS,dataURL:t.dataURL,progressText:o().A.formatMessage(p.preparing)});else r().A.state.loadingMode===i().Wc&&r().A.setState({...r().A.state,loadingMode:i().vS,progressText:o().A.formatMessage(p.preparing)})}function y(e){const{progressPercent:t,progressText:n}=e;r().A.state.loadingMode===i().vS&&r().A.setState({...r().A.state,uploadProgress:t,progressText:n})}},24071:(e,t,n)=>{n.d(t,{A:()=>u});n(242343);var o=()=>n(237385),i=()=>n(803290),r=()=>n(174114),a=()=>n(333889),s=()=>n(136239),l=()=>n(48913),c=n(163643);function d(){const e=(0,r().IS)((e=>({icon:{position:"absolute",width:"50%",height:"50%",right:0,bottom:0,fill:"dark"===e.mode?e.text.primary:"#3E3C38",stroke:"dark"===e.mode?e.surface.wash:"white",strokeWidth:"dark"===e.mode?"1.85px":"1.5px"}})),[]);return(0,c.jsx)("div",{children:(0,a().G)(e.icon)})}function u(e){var t;const n=(0,o().v3)(),a=n.device.isMobile,{isTablet:u}=(0,o().Y0)(),p=(0,i().K8)((()=>{var t,o;if(a)return n.WindowSizeStore.getSafePaddingLeftCSS("number"==typeof(null===(t=e.style)||void 0===t?void 0:t.paddingLeft)?null===(o=e.style)||void 0===o?void 0:o.paddingLeft:10)}),[n.WindowSizeStore,a,null===(t=e.style)||void 0===t?void 0:t.paddingLeft]),m=(0,r().IS)((t=>({wrapper:{...a?{display:"flex",alignItems:"center",width:"100%",minHeight:26,fontSize:16,paddingTop:u?4:8,paddingBottom:u?4:8,paddingLeft:p,paddingRight:10,userSelect:"none",WebkitUserSelect:"none",boxShadow:void 0,marginBottom:e.shouldShowMobileMarginBottom?12:1}:{display:"flex",alignItems:"center",width:"100%",fontSize:14,minHeight:e.isBottomItem?24:27,height:l().Zr,paddingTop:4,paddingBottom:4,...(0,s().ic)()},...e.style},icon:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,width:a?28:22,height:a?24:18,marginRight:8,position:"relative"},right:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,height:"100%",...e.rightStyle},left:{flexShrink:0,flexGrow:0,borderRadius:4,color:t.text.secondary,width:a?24:l().ry,height:a?24:l().ry,display:"flex",alignItems:"center",justifyContent:"center",marginRight:e.icon?0:8},children:{flexGrow:1,flexShrink:1,flexBasis:"auto",whiteSpace:"nowrap",minWidth:0,overflow:"hidden",textOverflow:e.right&&!a?"clip":"ellipsis",...e.childrenStyle}})),[a,u,p,e.shouldShowMobileMarginBottom,e.isBottomItem,e.style,e.rightStyle,e.icon,e.right,e.childrenStyle]);return(0,c.jsxs)("div",{role:e.role,dir:"ltr","aria-current":e["aria-current"],"aria-expanded":e["aria-expanded"],"aria-owns":e["aria-owns"],"aria-labelledby":e["aria-labelledby"],style:m.wrapper,onFocus:e.onFocus,onBlur:e.onBlur,onMouseMove:e.onMouseMove,onMouseLeave:e.onMouseLeave,onClick:e.onClick,className:e.className,children:[e.left&&(0,c.jsx)("div",{style:m.left,children:e.left}),e.icon&&(0,c.jsxs)("div",{style:m.icon,children:[e.icon,e.isAlias&&(0,c.jsx)(d,{})]}),(0,c.jsx)("div",{style:m.children,children:e.children}),e.right&&(0,c.jsx)("div",{style:m.right,children:e.right})]})}},40642:(e,t,n)=>{n.d(t,{b:()=>i});n(242343);var o=n(163643);const i=(0,n(680369).wt)("templates",{viewBox:"0 0 20 20",svg:(0,o.jsxs)("g",{children:[(0,o.jsx)("path",{d:"M6.39733 5.67853C5.89764 5.50234 5.36002 5.40649 4.8 5.40649C2.14904 5.40649 0 7.55432 0 10.2038C0 12.8533 2.14904 15.0011 4.8 15.0011C6.52165 15.0011 8.0316 14.0952 8.87867 12.7343L5.26487 12.0975L6.39733 5.67853Z"}),(0,o.jsx)("path",{d:"M17.3126 3.66609L7.85843 2L6.19141 11.4489L10.6545 12.2354L14.3998 5.81854L16.3449 9.15116L17.3126 3.66609Z"}),(0,o.jsx)("path",{d:"M8.80078 17L14.4008 7.4054L20.0008 17H8.80078Z"})]})})},55813:(e,t,n)=>{n.r(t),n.d(t,{exclamationMarkTriangleFillIcon:()=>i,iconDefinition:()=>o});n(242343);const o={viewBox:"0 0 20 20",svg:(0,n(163643).jsx)("path",{d:"M11.84 3.563c-.817-1.417-2.862-1.417-3.68 0L2.314 13.688c-.818 1.416.205 3.187 1.84 3.187h11.692c1.636 0 2.658-1.77 1.84-3.187zM9.876 6.75c.345 0 .625.28.625.625v3.5a.625.625 0 1 1-1.25 0v-3.5c0-.345.28-.625.625-.625m0 7.375a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5"})},i=(0,n(680369).wt)("exclamationMarkTriangleFill",o)},63463:(e,t,n)=>{e.exports=n.p+"edfba4a6d1ff7acd.png"},82954:(e,t,n)=>{n.d(t,{A:()=>P});var o=n(242343),i=()=>n(803290),r=()=>n(502852),a=()=>n(752597),s=()=>n(384221),l=()=>n(755786),c=()=>n(126451),d=()=>n(709237),u=n(163643);function p(e){const{blockStore:t,titleStyle:n,shouldWrap:i,recordTitleRef:r,disableTooltip:p}=e,m=(0,o.useRef)({getNode:()=>r.current}),g=(0,o.useCallback)((e=>{a().default.afterNextFlush((()=>{const e=t.getBlockTitleStore();if(!e)return;const n=e.getValue(),o=n?n[0][0].length:0,i={start:{index:o,store:e},end:{index:o,store:e}};s().setMultiSelection({multiSelection:i})}))}),[t]);return(0,u.jsx)(c().A,{style:{height:l().d0+2,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:5,padding:"6px 8px 7px 8px",overflow:"hidden"},onClick:g,children:(0,u.jsx)(d().A,{store:t,underline:!0,shouldWrap:i,style:n,ref:m,disableTooltip:p})})}var m=()=>n(653998),g=()=>n(975392),f=()=>n(868199),h=()=>n(477784),y=()=>n(636045);const v=(0,m().YK)({typeTitle:{defaultMessage:"Type a title...",id:"relationToken.title.placeholder"}});function b(e){const{blockStore:t,clickTitleBehavior:n,onTitleEnter:o,onTitleEsc:r}=e,a="edit"===n,s=(0,i().K8)((()=>t.getBlockTitleStore()),[t]);return(0,u.jsx)(y().A,{store:s,disabled:!a,disableSlashCommands:!0,disableEmojiCommands:!0,disableStyleAnnotations:!0,disableInsertedDeletedAnnotations:!0,disableEmbedMenu:!0,onEnter:o,onEsc:r,onTab:g().D_,placeholder:h().A.formatMessage(v.typeTitle),style:{padding:"6px 8px 7px 8px",textOverflow:"none",overflow:"visible",whiteSpace:"pre"},disableSelectAllBlocks:!0,pasteBehavior:"inline",inPageFind:f().Os.none})}var x=()=>n(237385),S=()=>n(34662),k=()=>n(448316);const T=function(e){const{store:t,style:a,disableLinks:s,disableHover:l,isAndroid:c,externalIntegrations:d,canEdit:p,shouldWrap:g,tokenFormat:f}=e,h=(0,o.useRef)(null),y=(0,m().tz)(),v=(0,x().v3)(),b=(0,n(174114).DP)(),{isExternalIntegrationPageType:T,blockType:A,blockId:w,blockModel:M}=(0,i().K8)((()=>{const e=t.getModel();return{isExternalIntegrationPageType:Boolean(null==e?void 0:e.isType(n(762847).xd.externalObjectInstancePage)),blockType:t.getType(),blockId:t.id,blockModel:e}}),[t]),C=(0,i().K8)((()=>n(284320).A.getState()),[]),j=(0,o.useCallback)((()=>{if(!h||!h.current)return;const e=(0,S().bMp)(t.id),n=(0,S().wmz)(e);return{textValue:[n],tokenIndex:0,textToken:n,node:h.current}}),[h,t.id]),I=(0,o.useCallback)((e=>{if(l)return;const n=j(),o=t.getTitleStore();o&&n&&k().xE({environment:v,event:e,interactiveToken:n,store:o,canEdit:p})}),[l,j,t,v,p]),_=(0,o.useCallback)((e=>{const n=j(),o=t.getTitleStore();o&&n&&!l&&k().HH({environment:v,event:e,interactiveToken:n,store:o,canEdit:p})}),[j,t,l,v,p]),B=t.getRecordModel,R=w,z=(0,n(441165).FN)(v),P=n(927685).A.domainBaseUrl,N=v.currentUser.id,E=!s,D=(0,i().K8)((()=>{if(M)return(0,n(123047).gA)({blockModel:M,shouldWrap:g,index:0,style:a,disableHover:l,disableLinks:s,isAndroid:c,theme:b,getRecordModel:B,currentUserId:N,baseUrl:P,emojiType:z,externalIntegrations:d,classNames:[],intl:y,emojiData:C,stopLinkPropagation:E,tokenFormat:(0,n(250786).Ug)(f)})}),[M,g,a,l,s,c,b,B,N,P,z,d,y,C,E,f]);return R?"external_object_instance_page"!==A?null:T?(0,u.jsx)("span",{ref:h,onMouseOver:I,onMouseOut:_,onClick:E?r().kV:void 0,style:{width:"100%"},children:D}):null:null};function A(e){const{blockStore:t,shouldWrap:o,style:r,disableLinks:a,format:s}=e,l=(0,i().K8)((()=>(0,n(809811).q7)(t.getSyncedUri())),[t]),c=(0,i().O$)(n(773082).A.integrations),d=(0,x().v3)();return(0,u.jsx)(T,{shouldWrap:o,store:t,style:r,disableHover:a||!l,disableLinks:a||!l,isAndroid:d.device.isAndroid,externalIntegrations:c,canEdit:!0,tokenFormat:s})}var w=()=>n(219322);function M(e){const{format:t,showRemoveButton:o,onClickRemove:i}=e,{height:r,closeIconSize:a}=w().U[t];return o?(0,u.jsx)(c().A,{onClick:i,style:{display:"flex",alignItems:"center",justifyContent:"center",width:r,height:r,marginLeft:2,marginRight:2,flexGrow:0,flexShrink:0,borderRadius:4},children:(0,n(388732).l)({width:a,height:a,opacity:.5})}):null}var C=()=>n(712437),j=()=>n(314164),I=()=>n(749975),_=()=>n(29869),B=()=>n(485966);var R=()=>n(621641),z=()=>n(205670);const P=(0,o.forwardRef)((function(e,t){const{parentStore:r,blockId:a,shouldWrap:s,format:l,showRemoveButton:c,clickTitleBehavior:d,onClickRemove:p,titleStyle:m,onTitleEnter:g,onTitleEsc:f,index:h,noUnderline:y,disableTooltip:v,disableLinks:b}=e,x=n(413871).Bv.createChildStore(r,{table:n(145017).ev,id:a}),{style:S}=(0,w().t)(e),k=(0,o.useRef)(null),T=(0,o.useRef)(null),C="peek"===d;(0,o.useImperativeHandle)(t,(()=>x),[x]);const j=(0,i().K8)((()=>"external_object_instance_page"===x.getType()),[x]);if((0,n(731991).W)(x))return null;if(j)return(0,u.jsx)(A,{shouldWrap:s,blockStore:x,style:S,disableLinks:b,format:l});const I=(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(n(957881).w,{format:l,blockStore:x,clickTitleBehavior:d,shouldWrap:s}),(0,u.jsx)(E,{blockStore:x,recordTitleRef:k,clickTitleBehavior:d,shouldWrap:s,titleStyle:m,noUnderline:y,onTitleEnter:g,onTitleEsc:f,index:h,disableTooltip:v})]});return(0,u.jsxs)("div",{style:S,ref:T,children:[C?(0,u.jsx)(N,{blockStore:x,relationTokenStyle:S,children:I}):I,(0,u.jsx)(M,{showRemoveButton:c,onClickRemove:p,format:l})]})}));function N(e){let{blockStore:t,relationTokenStyle:a,children:s}=e;const{blockUrlPage:l,blockUrlPeek:c}=function(e){const t=(0,x().v3)(),n=(0,I().Ks)(),o=(0,i().K8)((()=>(0,_().Ay)({store:e,fullyQualified:!1,pageVisitSource:C().y8.LinkInPage})),[e]);return{blockUrlPeek:(0,i().K8)((()=>{const{mainEditorCurrentBlockStore:o}=B().default.state;return j().wy({environment:t,store:e,mainEditorCurrentBlockStore:o,collectionContextStore:n,fullyQualified:!1})}),[t,e,n]),blockUrlPage:o}}(t),d=(0,o.useMemo)((()=>({display:a.display,height:a.height,alignItems:a.alignItems})),[a]);return(0,u.jsx)(n(579494).A,{href:l,metaHref:c,onClick:r().kV,style:d,children:s})}function E(e){const{blockStore:t,clickTitleBehavior:o,onTitleEnter:r,onTitleEsc:a,index:s,recordTitleRef:l,titleStyle:c,shouldWrap:d,noUnderline:m,disableTooltip:g}=e,f=(0,n(248584).Sm)(t),h="edit"===o&&!f,y=function(e){return(0,i().K8)((()=>{var t;const n=z().default.state;return"editing"===n.mode&&(null===(t=(0,R().H7)(n.multiSelection))||void 0===t?void 0:t.store)===e.getBlockTitleStore()}),[e])}(t);return h?y&&r&&s?(0,u.jsx)(b,{blockStore:t,clickTitleBehavior:o,onTitleEnter:r,onTitleEsc:a}):(0,u.jsx)(p,{blockStore:t,recordTitleRef:l,titleStyle:c,shouldWrap:d,disableTooltip:g}):(0,u.jsx)(n(399631).Y,{blockStore:t,recordTitleRef:l,titleStyle:c,shouldWrap:d,noUnderline:m,disableTooltip:g})}},89969:(e,t,n)=>{n.d(t,{D:()=>o});function o(e,t){t.route.name;return!1}},101558:(e,t,n)=>{n.d(t,{r:()=>r});var o=()=>n(803290),i=()=>n(836331);function r(e){return(0,o().K8)((()=>i().default.getGroup(e)),[e])}},130081:(e,t,n)=>{n.d(t,{UQ:()=>m,gL:()=>f});n(610931),n(725707),n(500234),n(771702);var o=()=>n(810111),i=()=>n(769884),r=()=>n(33715),a=()=>n(220865),s=()=>n(846287),l=()=>n(996151),c=()=>n(946854),d=()=>n(293665),u=()=>n(927999),p=()=>n(84543);function m(e){let{environment:t,transaction:n,layoutStore:o,position:l,updatedModule:c,sessionId:d}=e;const u=r().Zm[l.area],m=o.getRawModules();if("form_conditional_modules"===u){const e=null==m?void 0:m[u];if(!(null==e?void 0:e[l.moduleId]))throw new Error("Unable to find module being updated.");return void p().createAndCommitOrAppend({environment:t,transaction:n,canUndo:!0,perform(e){p().applyOperation({transaction:e,store:o,operation:i().N4X.updateModuleInArea({pointer:o.pointer,area:u,module:(0,a().Lv)(c)})})},userAction:"BuilderLayoutModules.updateModule"})}if(!m)throw new Error("Unable to find modules");const g=(0,s().LC)(m,(e=>e.id===l.moduleId));if(!g||g.area!==u)throw new Error("Unable to find module being updated.");p().createAndCommitOrAppend({environment:t,transaction:n,canUndo:!0,perform(e){p().applyOperation({transaction:e,store:o,operation:i().N4X.updateModuleInArea({pointer:o.pointer,module:(0,a().Lv)(c),..."views_main_tab_modules"===g.area?{area:g.area,viewId:g.viewId}:{area:g.area}})})},userAction:"BuilderLayoutModules.updateModule"})}function g(e){var t,n,o;let{collectionStore:i,layoutStore:r}=e;const a=new Map,s=i.getFormat(),l=[...null===(t=r.getModules())||void 0===t?void 0:t.page_main,...null===(n=r.getModules())||void 0===n?void 0:n.page_details],d=new Map;null===(o=s.property_visibility)||void 0===o||o.forEach((e=>{d.set(e.property,e)})),l.forEach((e=>{if(!(0,c()._Q)(e))return(0,c().gx)(e)?(a.set(e.propertyId,{property:e.propertyId}),void d.set(e.propertyId,{property:e.propertyId,visibility:"show"})):void 0;e.propertyIds.forEach((e=>{a.set(e,{property:e}),d.set(e,{property:e,visibility:"show"})}))}));const u=i.getNormalizedPropertyGroups();var p;u?u.forEach((e=>{var t;null===(t=e.propertyIds)||void 0===t||t.forEach((e=>{a.has(e)||a.set(e,{property:e})}))})):null===(p=s.collection_page_properties)||void 0===p||p.forEach((e=>{a.has(e.property)||a.set(e.property,e)}));return{propertiesFormat:Array.from(a.values()),propertyVisibility:Array.from(d.values())}}function f(e){let{environment:t,transaction:n,collectionStore:r,layoutStore:a}=e;const{propertiesFormat:s,propertyVisibility:m}=g({collectionStore:r,layoutStore:a});p().createAndCommitOrAppend({environment:t,transaction:n,canUndo:!0,perform(e){const t=a.getBlockChildrenPointers(),n=a.getFormat(),g=a.firstModuleOfType("viewsMain");g&&(0,c().y6)(g)&&t.find((e=>d().L3.isEqual(e,g.collection_view_block_pointer)))&&p().applyOperation({transaction:e,store:a,operation:i().N4X.removeBlockChild(a.pointer,g.collection_view_block_pointer.id)});const f=null==n?void 0:n.previousViewsMainCollectionViewBlockPointer,h=f&&t.find((e=>d().L3.isEqual(e,f)));h&&p().applyOperation({transaction:e,store:a,operation:i().N4X.removeBlockChild(a.pointer,h.id)}),p().applyOperation({transaction:e,store:a,operation:i().N4X.setModulesByAreas(a.pointer,(0,l().K5)())}),p().applyOperation({transaction:e,store:a,operation:i().N4X.deleteFormat(a.pointer)});const y=r.getFormat(),{page_section_visibility:v}=y;u().zA({stores:[r],update:{property_groups:void 0,collection_page_properties:s,property_visibility:m,...v?{page_section_visibility:o().Zi}:void 0},transaction:e})},userAction:"BuilderLayoutModules.resetLayoutToDefault"})}},143920:(e,t,n)=>{n.d(t,{y:()=>d});var o=()=>n(763555),i=()=>n(284320);const r={ko:()=>n.e(2268).then(n.bind(n,662161)),es:()=>n.e(95264).then(n.bind(n,894994)),de:()=>n.e(35390).then(n.bind(n,133788)),fr:()=>n.e(3272).then(n.bind(n,447454)),pt:()=>n.e(27315).then(n.bind(n,193182)),zh:()=>n.e(69945).then(n.bind(n,316605)),ja:()=>n.e(77757).then(n.bind(n,108299)),da:()=>n.e(9423).then(n.bind(n,965826)),fi:()=>n.e(59337).then(n.bind(n,122956)),nb:()=>n.e(2040).then(n.bind(n,763585)),nl:()=>n.e(51106).then(n.bind(n,696090)),sv:()=>n.e(53631).then(n.bind(n,485349))};let a=!1,s=!1;async function l(e){for(const[n,i]of Object.entries(e.emojiLocaleKeywords)){var t;o().fB[n]={...o().fB[n],keywords:[...i,...(null===(t=o().fB[n])||void 0===t?void 0:t.keywords)||[]]}}await i().A.waitUntilLoaded(),i().A.update((t=>{let{emojiByName:n,...o}=t;return{...o,emojiByName:{...n,...e.emojiByName}}}))}async function c(){if(a)return;const[e]=n(16791).locale.split("-");e in r&&(await l(await r[e]()),a=!0)}const d=(0,n(531367).A)((async()=>{await async function(){s||(await l(await n.e(51872).then(n.bind(n,531983))),s=!0)}(),await c()}))},144656:(e,t,n)=>{n.d(t,{A:()=>r});var o=()=>n(662988);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(e){(0,o().A)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===i(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}},150936:(e,t,n)=>{n.d(t,{b:()=>i});n(242343);var o=n(163643);const i=(0,n(680369).wt)("thinCheck",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M6.385 14.162c.362 0 .642-.15.84-.444L13.652 3.71c.144-.226.205-.417.205-.602 0-.485-.341-.82-.833-.82-.335 0-.54.123-.746.444l-5.926 9.4-3.042-3.903c-.205-.267-.417-.376-.718-.376-.492 0-.848.348-.848.827 0 .212.075.417.253.629l3.541 4.416c.24.3.492.437.848.437z"})})},151258:(e,t,n)=>{n.d(t,{Ay:()=>m,mI:()=>u,vb:()=>p});n(242343);var o=()=>n(174114),i=()=>n(752903),r=()=>n(388732),a=()=>n(653998),s=()=>n(31448),l=()=>n(126451),c=n(163643);const d=(0,a().YK)({removeTokenLabel:{defaultMessage:"Remove {title}",id:"uiGenericToken.removeTokenLabel"},removeTokenLabelGeneric:{defaultMessage:"Remove Item",id:"uiGenericToken.removeTokenLabelGeneric"}}),u=i().NY,p={[i().NY.ExtremeSmall]:{height:12,fontSize:10,margin:"0 4px 0 0",marginEditState:"0 6px 0 0",closeIconSize:8,avatarSize:14},[i().NY.ExtraSmall]:{height:14,fontSize:12,margin:"0 6px 0 0",marginEditState:"0 6px 0 0",closeIconSize:8,avatarSize:14},[i().NY.Small]:{height:18,fontSize:12,margin:"0 6px 6px 0",marginEditState:"0 6px 6px 0",closeIconSize:8,avatarSize:16},[i().NY.CompactEssential]:{height:20,fontSize:14,margin:"0 10px 6px 0",marginEditState:"0 6px 6px 0",closeIconSize:8,avatarSize:20},[i().NY.Medium]:{height:20,fontSize:14,margin:"0 10px 6px 0",marginEditState:"0 6px 6px 0",closeIconSize:8,avatarSize:20},[i().NY.Inline]:{height:20,fontSize:14,closeIconSize:8,avatarSize:20,margin:"0 -5px 0 0",marginEditState:"0 6px 0 0"},[i().NY.Large]:{height:24,fontSize:16,margin:"0 8px 8px 0",marginEditState:"0 8px 8px 0",closeIconSize:10,avatarSize:20}};function m(e){let{avatarSize:t,format:n,isSingle:i,onClickRemove:u,renderAvatar:m,showRemoveButton:g,shouldShrink:f,style:h,title:y}=e;const v=(0,a().tz)(),{height:b,fontSize:x,margin:S,marginEditState:k,closeIconSize:T,avatarSize:A}=p[n],w=t??A,M=(0,o().IS)((()=>({root:{display:"flex",alignItems:"center",flexShrink:f?1:0,minWidth:0,height:b,borderRadius:6,fontSize:x,lineHeight:"120%",margin:i?0:g?k:S,...h}})),[x,b,i,S,k,f,g,h]);return(0,c.jsxs)("div",{style:M.root,children:[null==m?void 0:m(w),(0,c.jsx)("div",{className:"notranslate",style:{...s().RC},children:y}),g?(0,c.jsx)(l().A,{ariaLabel:void 0!==y?v.formatMessage(d.removeTokenLabel,{title:y}):v.formatMessage(d.removeTokenLabelGeneric),onClick:u,style:{display:"flex",alignItems:"center",justifyContent:"center",width:b,height:b,marginLeft:2,marginRight:2,flexGrow:0,flexShrink:0,borderRadius:6},children:(0,r().l)({width:T,height:T,opacity:.5})}):null]})}},151602:(e,t,n)=>{n.d(t,{A:()=>r});class o extends(()=>n(129044))().default{getInitialState(){return{}}}const i=new o;n(996094).exposeDebugValue("SpaceWorkflowTemplateInstanceMapStore",i);const r=i},170582:(e,t,n)=>{n.d(t,{r:()=>i});n(242343);const o={viewBox:"0 0 20 20",svg:(0,n(163643).jsx)("path",{d:"M10 2.355a2.35 2.35 0 0 0-2.253 1.686 5.06 5.06 0 0 0-2.803 4.527v1.189c0 .919-.334 1.806-.939 2.498l-.818.935c-.881 1.007-.166 2.583 1.173 2.583h3.02a2.65 2.65 0 0 0 5.24 0h3.02c1.339 0 2.054-1.576 1.173-2.583l-.818-.935a3.8 3.8 0 0 1-.939-2.498v-1.19a5.06 5.06 0 0 0-2.803-4.526A2.35 2.35 0 0 0 10 2.355m1.5 13.418a1.55 1.55 0 0 1-2.998 0zM8.909 4.564A1.104 1.104 0 0 1 10 3.605c.556 0 1.017.415 1.091.96l.049.353.329.138a3.81 3.81 0 0 1 2.337 3.512v1.189c0 1.221.444 2.401 1.248 3.32l.818.936a.307.307 0 0 1-.232.51H4.36a.308.308 0 0 1-.232-.51l.818-.935a5.04 5.04 0 0 0 1.248-3.321v-1.19c0-1.58.963-2.936 2.337-3.511l.33-.138z"})},i=(0,n(680369).wt)("bell",o)},180365:(e,t,n)=>{n.d(t,{A:()=>A});var o=n(242343),i=()=>n(237385),r=()=>n(803290),a=()=>n(653998),s=()=>n(927999),l=()=>n(18376),c=()=>n(84543),d=()=>n(481148),u=()=>n(400885),p=()=>n(802955),m=()=>n(652039),g=()=>n(883249),f=()=>n(470414),h=()=>n(615917),y=()=>n(126451),v=()=>n(392968),b=()=>n(174114),x=()=>n(76394),S=n(163643);function k(e){let{src:t,placeholderSrc:n,placeholderBehavior:i,imageStyle:r,containerStyle:a,onLoadComplete:s,testId:l}=e;const[c,d]=(0,o.useState)(!0);let u;switch(i){case"force-show-placeholder":u=!0;break;case"force-show-src":u=!1;break;case"show-placeholder-if-loading-src":u=!!n&&(c||void 0===t);break;default:(0,x().HB)(i)}const p=(0,b().IS)((()=>{const e={gridColumn:1,gridRow:1};return{container:{display:"grid",...a},srcWrapper:{...u&&{display:"none"},...e},placeholderWrapper:{pointerEvents:"none",...e}}}),[a,u]);(0,o.useEffect)((()=>{void 0!==t&&d(!0)}),[t]);const m=(0,o.useCallback)((e=>{d(!1),null==s||s()}),[s]);return(0,S.jsxs)("div",{style:p.container,children:[(0,S.jsx)(v().Ay,{src:t,onLoad:m,style:r,placeholderStyle:p.srcWrapper,placeholderLoadedStyle:p.srcWrapper,testId:l}),n&&(0,S.jsx)(v().Ay,{src:n,style:r,placeholderStyle:p.placeholderWrapper,placeholderLoadedStyle:p.placeholderWrapper})]})}var T=()=>n(410090);const A=function(e){let{store:t,disabled:a,paddingRight:l,paddingLeft:d,height:u,proxyWidth:p}=e;const f=(0,i().v3)(),h=(0,r().uB)(void 0,n(116586).A),y=(0,r().K8)((()=>a||"suggest"===n(615661).Uv.getMode(t)),[a,t]),b=(0,r().K8)((()=>t.getCover()),[t]),x=(0,r().O$)(g().A),[T,A]=(0,o.useState)(void 0);if(!b)return null;const C=x.loadingMode!==m().pF&&x.loadingMode!==m().Wc;return(0,S.jsx)(n(982717).A,{mouseStore:h,onFlushTemporaryPosition:e=>function(e,t,n){const{imagePosition:o,reset:i}=e;c().createAndCommit({userAction:"PageCover.handleFlushTemporaryPosition",environment:n,canUndo:!0,perform:e=>{s().yY({store:t,coverPosition:o,transaction:e}),i()}})}(e,t,f),renderControl:e=>{let{handleRepositionClick:n,handleSavePositionClick:o,handleCancelClick:i,isVisible:r,isRepositioning:a}=e;return(0,S.jsx)(M,{handleRepositionClick:n,handleSavePositionClick:o,handleCancelClick:i,isVisible:r,isRepositioning:a,lastProxiedUrl:T,store:t,disabled:y,paddingRight:l,paddingLeft:d,mouseStore:h})},source:"page",store:t,style:{display:"flex",flexDirection:"column",alignItems:"center",height:u,maxHeight:280,cursor:"default"},render:e=>(0,S.jsxs)(o.Fragment,{children:[(0,S.jsx)(n(283992).A,{url:b.cover,isAuthenticated:!0,permissionRecord:b.pointer,width:p,onFinishedLoadingProxyUrl:A,render:(t,n)=>{const o={width:"100%",height:u,maxHeight:280,objectFit:"cover",opacity:C?.5:1,objectPosition:`center ${100*(1-(e.imagePosition||0))}%`,borderRadius:0},i={width:"100%",height:u,maxHeight:280};return(0,S.jsx)(k,{src:n,placeholderSrc:C?x.dataURL:void 0,placeholderBehavior:C?"force-show-placeholder":"show-placeholder-if-loading-src",containerStyle:i,imageStyle:o,onLoadComplete:w,testId:"pageCover"})}}),C&&(0,S.jsxs)("div",{style:v().fd,children:[(0,S.jsx)(n(966789).A,{size:"md",style:{marginRight:4}}),(0,S.jsx)("div",{style:{minWidth:30,textAlign:"right"},children:void 0!==x.uploadProgress?(0,S.jsx)(n(335157).A,{percentage:x.uploadProgress}):x.progressText?(0,S.jsx)("span",{children:x.progressText}):null})]})]})})};function w(){g().A.reset()}function M(e){let{isVisible:t,isRepositioning:n,handleCancelClick:s,handleRepositionClick:c,handleSavePositionClick:v,lastProxiedUrl:b,store:x,disabled:k,paddingRight:A,paddingLeft:w,mouseStore:M}=e;const C=(0,i().v3)(),j=(0,a().tz)(),I=(0,o.useCallback)((e=>function(e,t,n,o,i){i.reset();const r=e.target.getBoundingClientRect();l().W({environment:t,intl:n,store:o,rect:r})}(e,C,j,x,M)),[C,j,x,M]),_=(0,r().K8)((()=>g().A.state.loadingMode),[]),B=(0,r().K8)((()=>function(e){let t;return t=Boolean(e.isFullWidth())?"100%":u().x6,t}(x)),[x]),{device:R}=C,z=(0,r().K8)((()=>!n&&!(0,d().LX)({device:R})),[n,R]),P=(0,r().O$)(p().e);if(k||_!==m().pF||!P)return null;const{isMobile:N}=R;return(0,S.jsx)(h().A,{animate:{width:B,opacity:t?1:0},style:{position:"absolute",pointerEvents:t?"auto":"none",maxWidth:"100%",top:48},children:(0,S.jsxs)(f().A,{isVisible:t,position:"bottom",style:{marginRight:A,marginLeft:w},children:[z&&(0,S.jsx)(y().A,{style:{borderRight:N?"none":void 0,...T().k},onClick:I,children:(0,S.jsx)(a().sA,{defaultMessage:"Change cover",id:"pageCover.changeCover.text"})}),!n&&!N&&(0,S.jsx)(y().A,{style:{...T().k,borderRight:"none"},onClick:e=>c(e,b),children:(0,S.jsx)(a().sA,{defaultMessage:"Reposition",id:"pageCover.reposition.text"})}),n&&!N&&(0,S.jsx)(y().A,{style:T().k,onClick:v,children:(0,S.jsx)(a().sA,{defaultMessage:"Save position",id:"pageCover.savePosition.text"})}),n&&!N&&(0,S.jsx)(y().A,{style:{...T().k,borderRight:"none"},onClick:s,children:(0,S.jsx)(a().sA,{defaultMessage:"Cancel",id:"pageCover.reposition.cancelText"})})]})})}},189812:(e,t,n)=>{n.d(t,{a:()=>c,E:()=>l});n(610931);var o=n(242343),i=()=>n(237385),r=(n(725707),n(500234),()=>n(758611));r().GJ.downloadMac,r().GJ.downloadMacUniversal,r().GJ.downloadMacIntel,r().GJ.downloadMacAppleSilicon,r().GJ.downloadWindows,r().GJ.downloadWindowsArm;const a=[{route:r().GJ.downloadMac,architecture:"universal",operatingSystem:"mac",target:"macUniversal"},{route:r().GJ.downloadMacIntel,architecture:"x86",operatingSystem:"mac",target:"mac"},{route:r().GJ.downloadMacUniversal,architecture:"universal",operatingSystem:"mac",target:"macUniversal"},{route:r().GJ.downloadMacAppleSilicon,architecture:"arm",operatingSystem:"mac",target:"macArm64"},{route:r().GJ.downloadWindows,architecture:"x86",operatingSystem:"windows",target:"windows"},{route:r().GJ.downloadWindowsArm,architecture:"arm",operatingSystem:"windows",target:"windowsArm64"}];function s(e,t){const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=e.toLowerCase();if(t.startsWith("arm"))return"arm";if(t.startsWith("x86")||"intel"===t)return"x86";return null}(e);if(!n||!("mac"===t||"windows"===t))return null;const o=a.find((e=>e.architecture===n&&e.operatingSystem===t));return(null==o?void 0:o.route)||null}function l(){const e=(0,o.useRef)(null),t=(0,i().Y0)();return(0,o.useEffect)((()=>{c(t).then((t=>{e.current=t??null})).catch((e=>{throw new Error(e)}))}),[t]),e}async function c(e){var t;if(!("userAgentData"in navigator))return e.isMac?r().GJ.downloadMacUniversal:r().GJ.downloadWindows;const n=navigator.userAgentData,o=await(null==n||null===(t=n.getHighEntropyValues)||void 0===t?void 0:t.call(n,["architecture"])),i=s(null==o?void 0:o.architecture,e.os);return i||null}},201147:(e,t,n)=>{n.d(t,{Fe:()=>r,wm:()=>a});const o={property_number:!0,property_title:!0,property_person:!0,property_file:!0,property_text:!0,property_checkbox:!0,property_url:!0,property_email:!0,property_phone_number:!0,property_created_by:!0,property_last_edited_by:!0,property_button:!0,property_select:!0,property_multi_select:!0,property_status:!0,property_date:!0,property_created_time:!0,property_last_edited_time:!0,property_last_visited_time:!0,property_relation:!0,property_rollup:!0,property_formula:!0,property_auto_increment_id:!0,property_location:!0,property_verification:!0,property_geo_point:!0,deleted_property:!1,relationsGroup:!0,formSubmit:!0,formQuestion:!0,formTitle:!0,placeholder:!0,transcript:!0,cover:!1,normalizedTitleWithIcon:!1,properties:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,views:!0,viewsMain:!1,recentActivity:!1,collaborators:!1,teamspaces:!1},i={property_number:!0,property_title:!0,property_person:!0,property_file:!0,property_text:!0,property_checkbox:!0,property_url:!0,property_email:!0,property_phone_number:!0,property_created_by:!0,property_last_edited_by:!0,property_button:!0,property_select:!0,property_multi_select:!0,property_status:!0,property_date:!0,property_created_time:!0,property_last_edited_time:!0,property_last_visited_time:!0,property_relation:!0,property_rollup:!0,property_formula:!0,property_auto_increment_id:!0,property_location:!0,property_verification:!0,property_geo_point:!0,deleted_property:!1,formSubmit:!1,formQuestion:!1,formTitle:!1,placeholder:!1,transcript:!1,cover:!1,normalizedTitleWithIcon:!1,properties:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,relationsGroup:!0,editor:!1,views:!1,viewsMain:!1,recentActivity:!1,collaborators:!1,teamspaces:!1};function r(e){return o[e.type]}function a(e){return i[e.type]}},213255:(e,t,n)=>{n.d(t,{A:()=>r});n(242343);var o=n(163643);const i={viewBox:"0 0 20 20",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M8.65 8.25a.625.625 0 1 0 0 1.25h.725v3.25H8.65a.625.625 0 1 0 0 1.25h2.7a.625.625 0 1 0 0-1.25h-.725V8.875A.625.625 0 0 0 10 8.25zM10.7 6.3a.8.8 0 1 1-1.6 0 .8.8 0 0 1 1.6 0"}),(0,o.jsx)("path",{d:"M10 2.375a7.625 7.625 0 1 0 0 15.25 7.625 7.625 0 0 0 0-15.25M3.625 10a6.375 6.375 0 1 1 12.75 0 6.375 6.375 0 0 1-12.75 0"})]})},r=(0,n(680369).wt)("infoCircle",i)},214453:(e,t,n)=>{n.r(t),n.d(t,{TranscriptionBlock:()=>oo});n(725707),n(491955),n(403517);var o=n(242343),i=()=>n(237385),r=()=>n(803290),a=()=>n(174114),s=()=>n(226e3),l=()=>n(135866),c=()=>n(653998),d=()=>n(880195),u=()=>n(388615),p=()=>n(273520),m=()=>n(356813),g=()=>n(966789),f=()=>n(46550),h=()=>n(397791),y=()=>n(103151),v=()=>n(966638),b=()=>n(367859),x=()=>n(137476),S=()=>n(185866),k=()=>n(838517),T=()=>n(163216),A=()=>n(907721),w=()=>n(485966),M=()=>n(368330),C=()=>n(802955),j=()=>n(241887);function I(e,t,n){return`${e}-${t}-${n}`}var _=()=>n(950347),B=()=>n(680369);const R=2,z=10,P=12,N=4,E=B().Ev.sm,D=(0,c().YK)({notes:{defaultMessage:"Notes",id:"transcriptionBlock.tab.notes"},transcript:{defaultMessage:"Transcript",id:"transcriptionBlock.tab.transcript"},summary:{defaultMessage:"Summary",id:"transcriptionBlock.tab.summary"}});function F(e,t){if(!e.getContentStores().includes(t))return;const n=e.getFormat();return(null==n?void 0:n.transcription_notes_id)===t.id?"notes":(null==n?void 0:n.transcription_transcript_id)===t.id?"transcript":(null==n?void 0:n.transcription_summary_id)===t.id?"summary":void 0}var W=()=>n(642662),L=()=>n(210562);function U(e){return(0,r().K8)((()=>L().gZ.state&&L().Di.state===e.id),[e])}n(358848),n(91270);var O=()=>n(486338);n(610931),n(500234);var H=()=>n(166318);var K=()=>n(76394);var V=()=>n(377403),Y=()=>n(269280),X=()=>n(181301),G=()=>n(701270),$=()=>n(610271),Q=n(163643);function Z(e){const{blockRef:t}=e,{isPhone:n}=(0,i().Y0)(),[r,a]=(0,o.useState)(n);return(0,o.useEffect)((()=>{const e=t.current;if(n||!e)return void a(!0);const o=new ResizeObserver((e=>{const t=e[0];if(!t)return;const n=t.contentRect.width;a(n<=500)}));return o.observe(e),()=>o.unobserve(e)}),[t,n]),(0,Q.jsx)(J,{...e,isSmall:r})}function J(e){const{icon:t,title:n,description:o,subdescription:i,isSmall:r}=e,s=(0,a().IS)((e=>({container:{padding:r?20:"25px 35px",background:e.fill.lightGrayTertiary},icon:{width:36,height:36,fill:e.icon.primary},title:{maxWidth:200,lineHeight:1.2}})),[r]);return(0,Q.jsxs)($().wt,{gap:r?10:8,flex:1,style:s.container,children:[t(s.icon),(0,Q.jsxs)($().Ye,{flexDirection:r?"column":"row",gap:r?8:16,justifyContent:r?"flex-start":"space-between",children:[(0,Q.jsx)(G().D,{styleName:"Page-Content/H3",style:s.title,children:n}),(0,Q.jsxs)($().wt,{alignSelf:r?void 0:"flex-end",gap:r?1:4,children:[(0,Q.jsx)(G().D,{styleName:"UIRegular-14px/Regular",children:o}),(0,Q.jsx)(G().D,{styleName:"UIRegular-14px/Regular",children:i})]})]})]})}const q=(0,c().YK)({title:{defaultMessage:"Works even better with Notion Calendar.",id:"transcription.calendarNux.title"},description:{defaultMessage:"Add AI Meeting Notes to events, automatically.",id:"transcription.calendarNux.description"},subdescription:{defaultMessage:"Never share notes manually, again.",id:"transcription.calendarNux.subdescription"}}),ee={isEligible:e=>{let{environment:t,state:o,isOnline:i,canUse:r}=e;const{hasAckedCalendarNux:a}=H().c.state,s=(0,X().mX)();return(0,n(261334).M)({environment:t,isOnline:i,canUse:r,state:o,hasSeenCalendarNux:a,hasConnectedCalendar:s})},render:e=>(0,Q.jsx)(te,{...e})};function te(e){const{blockRef:t}=e,o=(0,i().v3)();return(0,Y().w)((()=>{(0,x().u4)({environment:o,event:{eventName:"transcription_calendar_nux_shown",eventProperties:{}}})})),(0,Q.jsx)(Z,{blockRef:t,icon:n(236832).K,title:(0,Q.jsx)(c().sA,{...q.title}),description:(0,Q.jsx)(c().sA,{...q.description}),subdescription:(0,Q.jsx)(c().sA,{...q.subdescription})})}const ne={viewBox:"0 0 20 20",svg:(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)("path",{d:"M7.3 1.995a.55.55 0 1 0 0 1.1h5.4a.55.55 0 0 0 0-1.1zm-2.35 2.8a.55.55 0 0 1 .55-.55h9a.55.55 0 0 1 0 1.1h-9a.55.55 0 0 1-.55-.55m1.022 4.594c.36-.45.896-.72 1.545-.72.65 0 1.185.27 1.546.72.35.437.51 1.006.51 1.587 0 .58-.16 1.15-.51 1.586-.361.45-.896.72-1.546.72s-1.185-.27-1.545-.72c-.35-.437-.51-1.006-.51-1.586s.16-1.15.51-1.587m.857.689c-.16.199-.268.508-.268.898s.109.698.268.897c.15.187.368.31.688.31s.539-.123.688-.31c.16-.199.268-.508.268-.897 0-.39-.108-.7-.268-.898-.15-.187-.367-.31-.688-.31s-.538.123-.688.31m4.108-.689c.361-.45.896-.72 1.546-.72s1.185.27 1.546.72c.35.437.51 1.006.51 1.587 0 .58-.16 1.15-.51 1.586-.361.45-.896.72-1.546.72s-1.185-.27-1.546-.72c-.35-.437-.51-1.006-.51-1.586s.16-1.15.51-1.587m.858.689c-.16.199-.268.508-.268.898s.108.698.268.897c.15.187.367.31.688.31s.538-.123.688-.31c.16-.199.268-.508.268-.897 0-.39-.108-.7-.268-.898-.15-.187-.367-.31-.688-.31s-.538.123-.688.31"}),(0,Q.jsx)("path",{d:"M2.963 8.545c0-1.174.951-2.125 2.125-2.125h9.825c1.174 0 2.125.951 2.125 2.125v6.45a2.125 2.125 0 0 1-2.125 2.125H5.088a2.125 2.125 0 0 1-2.125-2.125zm2.125-.875a.875.875 0 0 0-.875.875v6.45c0 .378.24.7.576.823.316-1.179 1.436-2.024 2.728-2.024 1.06 0 2.003.568 2.483 1.423.48-.855 1.424-1.423 2.483-1.423 1.292 0 2.412.845 2.728 2.024a.88.88 0 0 0 .577-.823v-6.45a.875.875 0 0 0-.875-.875zm8.974 8.2c-.257-.564-.853-.976-1.58-.976-.725 0-1.321.412-1.579.976zm-4.966 0c-.257-.564-.853-.976-1.579-.976s-1.322.412-1.58.976z"})]})},oe=(0,B().wt)("peopleStack",ne);var ie=()=>n(507190);const re={viewBox:"0 0 20 20",svg:(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)("path",{d:"M9.207 3.197c.619-.578 1.63-.14 1.63.708v12.417c0 .847-1.011 1.286-1.63.708l-3.523-3.291H2.712a.625.625 0 0 1-.625-.625v-6c0-.346.28-.625.625-.625h2.972zm.38 1.356L6.357 7.57a.63.63 0 0 1-.426.169H3.337v4.75H5.93c.158 0 .31.06.426.168l3.23 3.017zm3.224 2.08a.625.625 0 0 1 .88.08 5.31 5.31 0 0 1 0 6.8.625.625 0 0 1-.96-.8 4.06 4.06 0 0 0 0-5.2.625.625 0 0 1 .08-.88"}),(0,Q.jsx)("path",{d:"M16.224 4.755a.625.625 0 0 0-1.024.717 8.09 8.09 0 0 1 0 9.283.625.625 0 0 0 1.024.717 9.34 9.34 0 0 0 0-10.717"})]})},ae=(0,B().wt)("volumeOn",re);var se=()=>n(502140),le=()=>n(329911),ce=()=>n(704082),de=()=>n(975392),ue=()=>n(437071),pe=()=>n(575015),me=()=>n(477784),ge=()=>n(427846),fe=(n(324989),()=>n(196940));function he(e){const t=["Aaron","Arthur","Catherine","Daniel","Fred","Gordon","Karen","Martha","Moira","Nicky","Rishi","Samantha","Tessa","Zarvox"];switch(e){case"Chinese":return["Li-Mu","Meijia","Sinji","Tingting","Yu-shu"];case"Danish":return["Sara"];case"Dutch":return["Ellen","Xander"];case"English":default:return t;case"Finnish":return["Satu"];case"French":return["Amélie","Jacques","Marie","Thomas"];case"German":return["Anna","Helena","Martin"];case"Japanese":return["Hattori","Kyoko","O-Ren"];case"Korean":return["Yuna"];case"Norwegian":return["Nora"];case"Russian":return["Milena"];case"Portuguese":return["Joanna","Luciana"];case"Spanish":return["Mónica","Paulina"];case"Swedish":return["Alva"];case"Thai":return["Kanya"];case"Vietnamese":return["Linh"]}}function ye(e){const t=["en-US","en-GB","en-AU","en-IE","en-IN","en-ZA"];switch(e){case"Chinese":return["zh-CN","zh-HK","zh-TW"];case"Danish":return["da-DK"];case"Dutch":return["nl-BE","nl-NL"];case"English":default:return t;case"Finnish":return["fi-FI"];case"French":return["fr-CA","fr-FR"];case"German":return["de-DE"];case"Japanese":return["ja-JP"];case"Korean":return["ko-KR"];case"Norwegian":return["nb-NO"];case"Portuguese":return["pt-BR","pt-PT"];case"Russian":return["ru-RU"];case"Spanish":return["es-ES","es-MX"];case"Swedish":return["sv-SE"];case"Thai":return["th-TH"];case"Vietnamese":return["vi-VN"]}}function ve(){return(0,de().hS)(speechSynthesis.getVoices().filter((e=>e.localService)),(e=>e.voiceURI))}function be(e){return e.name.split(" ")[0]}const xe="transcriptionConsentMessage",Se="transcriptionConsentMessageVoice",ke=25,Te=(0,c().YK)({defaultConsentMessage:{id:"transcription.consentActions.defaultMessage",defaultMessage:"I’m using Notion AI to transcribe this meeting and generate notes."},copiedConsentToast:{defaultMessage:"Consent message copied to clipboard",id:"transcription.consentActions.copyToast.success"},copyConsentErrorToast:{defaultMessage:"Failed to copy consent message to clipboard",id:"transcription.consentActions.copyToast.failure"},playAudioMutedToast:{defaultMessage:"Your volume is muted",id:"transcription.consentActions.playAudioToast.testing.muted"},playAudioMutedWithInstructionsToast:{defaultMessage:"Your volume is muted. Turn it up so that all participants can hear the message.",id:"transcription.consentActions.playAudioToast.muted"},playAudioLowToast:{defaultMessage:"Your volume is low. Turn it up so that all participants can hear the message.",id:"transcription.consentActions.playAudioToast.lowVolume"}});function Ae(e){return le().K.get({userId:e,key:Se})}function we(e){return function(e){return le().K.get({userId:e,key:xe})}(e)||me().A.getIntl().formatMessage(Te.defaultConsentMessage)}const Me=(0,de().sg)(((e,t)=>{le().K.set({userId:e,key:xe,value:t})}),1e3);function Ce(e,t){const n=function(e,t){const n=Ae(e);if(n)return n[t]}(e,t),o=ve(),i=o.find((e=>e.name===n));if(i)return i;const r=ye(t),a=o.find((e=>e.default));if(a&&r.includes(a.lang))return a;const s=he(t),l=o.find((e=>{const t=be(e);return r.includes(e.lang)&&s.includes(t)}));return l||o[0]}async function je(e){const{blockId:t,userId:n,showtime:o,voice:i}=e;if(!("speechSynthesis"in window))return void Ie({blockId:t,level:"warning",subType:"unsupportedDevice"});const r=await ue().getDeviceVolume();if("number"==typeof r&&-1!==r){if(0===r)return void pe().D6({label:o?me().A.getIntl().formatMessage(Te.playAudioMutedWithInstructionsToast):me().A.getIntl().formatMessage(Te.playAudioMutedToast),durationMs:ge().LX});o&&r<=ke&&pe().D6({label:me().A.getIntl().formatMessage(Te.playAudioLowToast),durationMs:ge().LX})}try{const e=new SpeechSynthesisUtterance(we(n));if(i)e.voice=i;else{const t=(0,fe().FT)(n);e.voice=Ce(n,t)}speechSynthesis.speak(e)}catch(a){Ie({blockId:t,level:"error",subType:"speechSynthesisError",error:(0,ce().A)(a)})}}function Ie(e){const{blockId:t,level:n,subType:o,error:i}=e;se().log({level:n,from:"transcriptionConsentActions",type:`playAudioConsentMessage:${o}`,error:i,data:{miscDataToConvertToString:{blockId:t}}})}let _e=!1;function Be(){const[e,t]=(0,o.useState)(!_e);return(0,o.useEffect)((()=>{if("speechSynthesis"in window){if(_e)return}else t(!0);speechSynthesis.getVoices(),speechSynthesis.onvoiceschanged=function(){_e=!0,t(!1)}}),[]),!e}function Re(e){let{hideTooltip:t,...n}=e;return t?(0,Q.jsx)(ze,{...n}):(0,Q.jsx)(y().A,{renderTooltip:()=>(0,Q.jsx)(c().sA,{...n.label}),render:e=>(0,Q.jsx)("div",{...e,children:(0,Q.jsx)(ze,{...n})})})}function ze(e){let{disabled:t,icon:n,label:o,onClick:i}=e;const r=(0,c().tz)(),a={width:20,height:20};return(0,Q.jsx)(m().A,{ariaLabel:r.formatMessage(o),disabled:t,icon:e=>n({...e,...a}),onClick:i,size:"md"})}const Pe=(0,c().YK)({playAudioButtonTooltip:{id:"TranscriptionBlockConsentActions.playAudio.tooltip",defaultMessage:"Play audio consent message"},playAudioDisabledButtonTooltip:{id:"TranscriptionBlockConsentActions.playAudio.disabled.tooltip",defaultMessage:"Audio is not supported on your device"},copyButtonTooltip:{id:"TranscriptionBlockConsentActions.copyMessage.tooltip",defaultMessage:"Copy consent message"}});function Ne(e){const{currentUser:t}=(0,i().v3)(),n=(0,o.useCallback)((()=>{!async function(e){try{await navigator.clipboard.writeText(we(e)),pe().D6({label:me().A.getIntl().formatMessage(Te.copiedConsentToast)})}catch{pe().D6({label:me().A.getIntl().formatMessage(Te.copyConsentErrorToast)})}}(t.id)}),[t.id]);return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(Ee,{...e}),(0,Q.jsx)(Re,{icon:ie().V,label:Pe.copyButtonTooltip,onClick:n})]})}function Ee(e){const{currentUser:t}=(0,i().v3)(),n=!Be(),r=(0,o.useCallback)((()=>{je({blockId:e.blockId,userId:t.id,showtime:!0})}),[e.blockId,t.id]);return(0,Q.jsx)(Re,{disabled:n,icon:ae,label:n?Pe.playAudioDisabledButtonTooltip:Pe.playAudioButtonTooltip,onClick:r})}const De=(0,c().YK)({dismissButtonLabel:{id:"TranscriptionBlockHeader.actions.dismiss.label",defaultMessage:"Dismiss AI Meeting Notes block header"}});function Fe(e){let{actions:t,children:o,icon:r,onDismiss:s,persistent:l}=e;const c=!l,d=t||c,u=(0,i().Y0)(),p=(0,a().IS)((e=>({container:{display:"flex",gap:4,padding:u.isPhone?"10px 12px":"10px 16px",cursor:"default",background:e.fill.lightGrayTertiary},icon:{width:22,height:22,fill:e.icon.secondary},label:{marginTop:1,color:e.text.secondary}})),[u.isPhone]);return(0,Q.jsxs)($().Ye,{style:p.container,children:[(0,Q.jsxs)($().Ye,{flexGrow:1,gap:8,style:{paddingTop:d?2:void 0},children:[r(p.icon),(0,Q.jsx)(G().D,{styleName:"Body-14px/Regular",customStyles:p.label,children:o})]}),d?(0,Q.jsxs)($().Ye,{flexShrink:0,style:{height:n(81e4).RO.md},children:[t,c?(0,Q.jsx)(Re,{hideTooltip:!0,icon:n(827086).xMarkIcon,label:De.dismissButtonLabel,onClick:s}):null]}):null]})}const We={isEligible:e=>{const{environment:t,state:n,canUse:o}=e,{currentUser:i,device:r}=t;return!!o&&(!!(0,_().b8)(r)&&("summarizing"!==n.state&&"idle"!==n.state&&("initial"===n.state||"paused"===n.state||("transcribing"===n.state?n.transcriber_id===i.id:(0,K().HB)(n)))))},render:e=>{let{blockId:t}=e;return(0,Q.jsx)(Fe,{actions:(0,Q.jsx)(Ne,{blockId:t}),icon:oe,persistent:!0,children:(0,Q.jsx)(c().sA,{defaultMessage:"<bold>AI Meeting Notes </bold> Always get consent from all participants before starting.",id:"transcription.consentHeader.label",values:{bold:e=>(0,Q.jsx)("b",{children:e})}})})}},Le={viewBox:"0 0 20 20",svg:(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)("g",{clipPath:"url(#clip0_9152_13029)",children:(0,Q.jsx)("path",{d:"M4.5 4.125A2.125 2.125 0 0 0 2.375 6.25v8.25H.5v.75a1 1 0 0 0 1 1h17a1 1 0 0 0 1-1v-.75h-1.875V6.25A2.125 2.125 0 0 0 15.5 4.125zM16.375 14.5H3.625V6.25c0-.483.392-.875.875-.875h11c.483 0 .875.392.875.875z"})}),(0,Q.jsx)("defs",{children:(0,Q.jsx)("clipPath",{id:"clip0_9152_13029",children:(0,Q.jsx)("path",{d:"M0 0h20v20H0z"})})})]})},Ue=(0,B().wt)("laptopComputer",Le);var Oe=()=>n(155342),He=()=>n(604322);const Ke=(0,c().YK)({helpButtonTooltip:{id:"TranscriptionBlockDownloadDesktopAppHeader.learnMoreButton.tooltip",defaultMessage:"Learn more"}}),Ve={isEligible:e=>{const{environment:t,state:n}=e;return("initial"===n.state||"paused"===n.state)&&!(0,_().b8)(t.device)},render:()=>(0,Q.jsx)(Fe,{actions:(0,Q.jsx)(Ye,{}),icon:Ue,persistent:!0,children:(0,Q.jsx)(c().sA,{defaultMessage:"Launch the Notion desktop app to start AI meeting transcription.",id:"transcription.downloadDesktopAppHeader.label"})})};function Ye(){return(0,Q.jsx)(Re,{icon:Oe().questionMarkCircleIcon,label:Ke.helpButtonTooltip,onClick:()=>{window.open(He().WQ,"_blank")}})}const Xe=(0,c().YK)({title:{defaultMessage:"Perfect meeting memory in Notion.",id:"transcription.nuxHeader.title"},noteDescription:{defaultMessage:"Notion AI handles the note-taking.",id:"transcription.nuxHeader.desktopNoteDescription"},discussionDescription:{defaultMessage:"You focus on the discussion.",id:"transcription.nuxHeader.desktopDiscussionDescription"}});const Ge=[{isEligible:e=>{let{environment:t,state:o,isOnline:i,canUse:r}=e;return(0,n(17476).e)({environment:t,isOnline:i,canUse:r,state:o,hasSeenNux:H().c.state.hasAckedNux})},render:e=>{const{blockRef:t}=e;return(0,Q.jsx)(Z,{blockRef:t,icon:s().v,title:(0,Q.jsx)(c().sA,{...Xe.title}),description:(0,Q.jsx)(c().sA,{...Xe.noteDescription}),subdescription:(0,Q.jsx)(c().sA,{...Xe.discussionDescription})})}},ee,{isEligible:e=>{let{state:t,isOnline:n}=e;return"transcribing"!==t.state&&"summarizing"!==t.state&&"idle"!==t.state&&("initial"===t.state||"paused"===t.state?!n:void(0,K().HB)(t))},render:()=>(0,Q.jsx)(Fe,{icon:n(413161).C,persistent:!0,children:(0,Q.jsx)(c().sA,{defaultMessage:"Meeting Notes not available while offline.",id:"transcription.offlineHeader.label"})})},We,Ve];var $e=()=>n(34662),Qe=()=>n(486826);var Ze=()=>n(409211),Je=()=>n(31448),qe=()=>n(931085),et=()=>n(482570),tt=()=>n(313067),nt=()=>n(678671),ot=()=>n(413871),it=()=>n(636045),rt=()=>n(868199);const at=(0,c().YK)({placeholder:{defaultMessage:"AI Meeting Notes",id:"TranscriptionBlockHeading.placeholder"}});function st(e){let{disabled:t=!1,id:n,onClick:o,store:i,style:s}=e;const l=(0,c().tz)(),u=(0,r().K8)((()=>i.getBlockTitleStore()),[i]),p=(0,a().IS)((e=>({title:{margin:0,fontSize:20,fontWeight:Je().Wy.medium,color:e.text.primary,cursor:"text",...s}})),[s]);return(0,Q.jsx)(d().A,{name:"TranscriptionBlockHeading",children:(0,Q.jsx)(it().A,{id:n,tagName:"h2",style:p.title,store:u,inPageFind:rt().Os.block_match,placeholder:l.formatMessage(at.placeholder),onClick:o,disabled:t,disableDrag:!0,disableEnter:!0,disableSlashCommands:!0,pasteBehavior:"inline"})})}const lt=(0,c().YK)({openCalendar:{id:"transcriptionBlockCalendarHeader.openCalendar",defaultMessage:"Open in Notion Calendar"},attendeesOverflowCount:{id:"transcriptionBlockCalendarHeader.attendeesOverflowCount",defaultMessage:"+{count}"},attendeesTooBigToShow:{id:"transcriptionBlockCalendarHeader.attendeesTooBigToShow",defaultMessage:"{count, plural, one {+1 person} other {+{count} people}}"}});function ct(e){const{calendarEvent:t,id:n,store:r}=e,s=(0,i().v3)(),l=(0,a().IS)((()=>({container:{display:"flex",alignItems:"flex-start",gap:8}})),[]),c=(0,o.useCallback)((e=>{if(e.preventDefault(),e.stopPropagation(),t){const e=(0,X().i$)({eventUid:t.uid,startTimeIso:t.startTime.toISO()});tt().yd({baseUrl:e,environment:s,from:"transcriptionBlockTitle"})}}),[s,t]);return(0,Q.jsxs)(u().s,{allowSelectionWithin:!0,style:l.container,children:[(0,Q.jsx)(dt,{calendarEvent:t,onClick:c}),(0,Q.jsx)(ut,{calendarEvent:t,id:n,store:r,onClick:c}),(0,Q.jsx)(ht,{calendarEvent:t})]})}function dt(e){const{calendarEvent:t,onClick:n}=e,o=(0,c().tz)(),i=(0,a().IS)((e=>({container:{marginTop:3},icon:{width:24,height:24,color:e.text.primary}})),[]);return(0,Q.jsx)(y().A,{renderTooltip:()=>(0,Q.jsx)(c().sA,{...lt.openCalendar}),render:e=>(0,Q.jsx)("div",{...e,style:i.container,children:(0,Q.jsx)(m().A,{icon:()=>(0,Q.jsx)(nt().y,{style:i.icon,dateNumber:t.startTime.day}),ariaLabel:o.formatMessage(lt.openCalendar),onClick:n})})})}function ut(e){const{calendarEvent:t,id:n,store:o,onClick:i}=e,r=(0,X().i$)({eventUid:t.uid,startTimeIso:t.startTime.toISO()}),s=(0,a().IS)((()=>({titleLink:{display:"inline"},titleLinkHoveredOrPressed:{background:"transparent"},heading:{cursor:"pointer"}})),[]);return(0,Q.jsx)(qe().A,{href:r,style:s.titleLink,hoveredStyle:s.titleLinkHoveredOrPressed,pressedStyle:s.titleLinkHoveredOrPressed,children:(0,Q.jsx)(st,{disabled:!0,id:n,onClick:i,store:o,style:s.heading})})}const pt=24,mt=6,gt=7,ft=15;function ht(e){const{calendarEvent:t}=e,{attendeeIds:n}=t,o=(0,a().IS)((()=>({container:{display:"flex",alignItems:"center",flexShrink:0,marginTop:3,marginLeft:mt},avatarsList:{display:"flex",flexDirection:"row-reverse"},avatarWrapper:{marginLeft:-mt}})),[]),{visibleUsers:i,hiddenUsers:s,totalCount:l}=(0,r().K8)((()=>{const{currentSpaceStore:e}=w().default.state;if(!e||!n||0===n.length)return{visibleUsers:[],hiddenUsers:[],totalCount:0};const t=n.slice(0,gt+ft).map((t=>ot().LU.createChildStore(e,{table:Ze().oo,id:t})));return{visibleUsers:t.slice(0,gt),hiddenUsers:t.slice(gt),totalCount:n.length}}),[n]);if(0===i.length)return null;const c=[...i].reverse();return(0,Q.jsxs)("div",{style:o.container,children:[(0,Q.jsx)("div",{style:o.avatarsList,children:c.map((e=>(0,Q.jsx)("div",{style:o.avatarWrapper,children:(0,Q.jsx)(yt,{userStore:e,hasTooltip:!0})},e.id)))}),s.length>0?(0,Q.jsx)(vt,{userStores:s,totalCount:l}):null]})}function yt(e){const{userStore:t,hasTooltip:n,size:o=pt}=e,i=xt(t),r=(0,a().IS)((e=>({container:{cursor:"default",width:o,height:o,borderRadius:"50%",outlineStyle:"solid",outlineWidth:1,outlineColor:e.stroke.secondary},iconStyle:{outlineWidth:0},tooltipContent:{display:"flex",flexDirection:"column",alignItems:"flex-start"},tooltipEmail:{color:e.text.secondary,fontSize:12,fontWeight:Je().Wy.regular}})),[o]);if(!i)return null;const s=(0,Q.jsx)("div",{style:r.container,children:(0,Q.jsx)(et().A,{userStore:t,size:o,iconStyle:r.iconStyle,avatarShouldShowShadow:!1})});return n?(0,Q.jsx)(y().A,{renderTooltip:()=>(0,Q.jsxs)("div",{style:r.tooltipContent,children:[(0,Q.jsx)("span",{children:i.displayName}),i.email?(0,Q.jsx)("span",{style:r.tooltipEmail,children:i.email}):null]}),render:e=>(0,Q.jsx)("div",{...e,children:s})}):s}function vt(e){const{userStores:t,totalCount:n}=e,o=n-gt,i=(0,a().IS)((e=>({container:{fontSize:14,fontWeight:Je().Wy.regular,color:e.text.tertiary,marginLeft:mt,cursor:"default"},tooltipContent:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:8,padding:"4px 0"},tooBigToShow:{color:e.text.contrastSecondary,marginTop:2,paddingLeft:24}})),[]);return(0,Q.jsx)(y().A,{allowHover:!0,renderTooltip:e=>(0,Q.jsxs)("div",{...e,style:i.tooltipContent,children:[t.map((e=>(0,Q.jsx)(bt,{userStore:e},e.id))),o>ft&&(0,Q.jsx)("div",{style:i.tooBigToShow,children:(0,Q.jsx)(c().sA,{...lt.attendeesTooBigToShow,values:{count:o-ft}})})]}),render:e=>(0,Q.jsx)("div",{...e,style:i.container,children:(0,Q.jsx)(c().sA,{...lt.attendeesOverflowCount,values:{count:o}})})})}function bt(e){const{userStore:t}=e,n=xt(t),o=(0,a().IS)((e=>({container:{display:"flex",gap:4},userInfo:{display:"flex",flexDirection:"column",paddingTop:2},userEmail:{color:e.text.secondary,fontSize:12,fontWeight:Je().Wy.regular}})),[]);return n?(0,Q.jsxs)("div",{style:o.container,children:[(0,Q.jsx)(yt,{userStore:t,hasTooltip:!1,size:20}),(0,Q.jsxs)("div",{style:o.userInfo,children:[(0,Q.jsx)("span",{children:n.displayName}),(0,Q.jsx)("span",{style:o.userEmail,children:n.email})]})]}):null}function xt(e){const t=(0,c().tz)();return(0,r().K8)((()=>{if(e.isDefined())return{displayName:e.getDisplayName(t),email:e.getEmail()}}),[e,t])}function St(e){const{disabled:t,id:s,store:l,state:c}=e,d=(0,r().K8)((()=>(0,$e().AhH)(l.getTitleValue())>0),[l]),[u,p]=(0,o.useState)(d);(0,o.useEffect)((()=>{d&&p(!0)}),[d]);const m=(0,i().Y0)(),g=(0,a().IS)((()=>({container:{padding:m.isPhone?"0 12px 12px 20px":"0 16px 12px 24px",cursor:"default"},shimmer:{height:24,width:"75%",borderRadius:12}})),[m.isPhone]),f=function(e){return(0,r().K8)((()=>{const t=e.getFormat();if(!t)return;const{transcription_calendar_event:n}=t;return n?{uid:n.uid,startTime:Qe().c9.fromISO(n.startTime),endTime:Qe().c9.fromISO(n.endTime),attendeeIds:n.attendeeIds??[]}:void 0}),[e])}(l);return f?(0,Q.jsx)("div",{style:g.container,children:(0,Q.jsx)(ct,{calendarEvent:f,id:s,store:l})}):d?(0,Q.jsx)("div",{style:g.container,children:(0,Q.jsx)(st,{disabled:t||"summarizing"===c,id:s,store:l})}):"summarizing"===c?(0,Q.jsx)("div",{style:g.container,children:(0,Q.jsx)(n(517198).A,{style:g.shimmer})}):u||"idle"===c?(0,Q.jsx)("div",{style:g.container,children:(0,Q.jsx)(st,{disabled:t,id:s,store:l})}):null}const kt=o.memo(St);var Tt=()=>n(473616),At=()=>n(887909),wt=()=>n(684238),Mt=()=>n(435819),Ct=()=>n(59175),jt=()=>n(922172),It=()=>n(286404),_t=()=>n(951540),Bt=()=>n(818369);function Rt(e){const{environment:t,blockStore:n,feedback:o,comment:i}=e;Bt().callApi({eventName:"saveInferenceTranscriptFeedback",environment:t,data:{type:"summarize-transcript",traceId:n.id,feedbackType:o,userComment:i,spaceId:n.getSpaceId()}})}function zt(e){let{state:t,store:n}=e;const o=(0,r().K8)((()=>{if("summarizing"===t.state)return!1;const e=(0,_().y1)(n,"summary");return!!e&&e.hasContent()}),[t.state,n]),i=!(0,r().O$)(C().e);return!o||i?null:(0,Q.jsx)(Pt,{store:n})}function Pt(e){let{store:t}=e;const[n,r]=(0,o.useState)(void 0),s=(0,i().v3)(),l=(0,c().tz)(),d=(0,a().IS)((e=>({container:{display:"flex",alignItems:"center",gap:8,marginTop:12,color:e.text.tertiary,fontSize:14}})),[]);return(0,Q.jsxs)("div",{style:d.container,children:[(0,Q.jsx)(c().sA,{id:"TranscriptionBlockFeedbackMenu.feedback",defaultMessage:"Was this summary helpful?"}),(0,Q.jsxs)("div",{children:[(0,Q.jsx)(m().A,{icon:wt().s,onClick:()=>r("thumbsUp"),ariaLabel:l.formatMessage(Et.thumbsUpAriaLabel)}),(0,Q.jsx)(m().A,{icon:At().v,onClick:()=>r("thumbsDown"),ariaLabel:l.formatMessage(Et.thumbsDownAriaLabel)})]}),(0,Q.jsx)(Nt,{state:n,onClose:()=>r(void 0),submit:e=>{let{feedback:o}=e;"thumbsUp"===n?Rt({environment:s,blockStore:t,feedback:"thumbs_up",comment:o}):"thumbsDown"===n&&Rt({environment:s,blockStore:t,feedback:"thumbs_down",comment:o})}})]})}function Nt(e){const{state:t,onClose:n,submit:i}=e,r=void 0!==t,[s,l]=(0,o.useState)(""),d=(0,c().tz)(),u=(0,T().B)(),p=(0,T().B)(),m=(0,a().IS)((e=>({wrap:{display:"flex",flexDirection:"column",minHeight:128},modalWrap:{width:"32rem",padding:24,fontSize:14,maxWidth:"100%"},modalTitle:{margin:0,fontSize:16,fontWeight:Je().Wy.medium},modalSubtitle:{fontSize:13,color:e.text.tertiary},titleContainer:{marginBottom:12},buttonArea:{display:"flex",justifyContent:"flex-end",marginTop:18,gap:6},feedbackArea:{marginTop:17,padding:8}})),[]),g=(0,o.useCallback)((e=>{const t=e.target.value;l(t)}),[]),f=(0,o.useCallback)((()=>{n(),l("")}),[n]),h=(0,o.useCallback)((()=>{i({feedback:s}),f()}),[s,i,f]),y="thumbsUp"===t?Et.feedbackPlaceholderThumbsUp:Et.feedbackPlaceholderThumbsDown;return(0,Q.jsx)(jt().a,{open:r,ariaLabelledBy:u,ariaDescribedBy:p,onDismiss:f,render:()=>(0,Q.jsx)(Mt().A,{capture:!0,allowUndo:!1,allowEsc:!0,allowTabUntab:!1,render:e=>(0,Q.jsx)("div",{style:m.wrap,children:(0,Q.jsxs)("div",{style:m.modalWrap,...e,children:[(0,Q.jsxs)("div",{style:m.titleContainer,children:[(0,Q.jsx)("h3",{id:u,style:m.modalTitle,children:(0,Q.jsx)(c().sA,{...Et.title})}),(0,Q.jsx)("div",{id:p,style:m.modalSubtitle,children:(0,Q.jsx)(c().sA,{...Et.subtitle})})]}),(0,Q.jsx)(Ct().A,{placeholder:d.formatMessage(y),value:s,onChange:g,focusInitial:!0,style:m.feedbackArea,textarea:!0,"aria-label":d.formatMessage(Et.feedbackTextAreaAriaLabel)}),(0,Q.jsxs)("div",{style:m.buttonArea,children:[(0,Q.jsx)(It().A,{size:"lg",onClick:f,children:(0,Q.jsx)(c().sA,{...Et.cancel})}),(0,Q.jsx)(_t().A,{size:"lg",onClick:h,children:(0,Q.jsx)(c().sA,{...Et.submit})})]})]})})})})}const Et=(0,c().YK)({title:{id:"TranscriptionBlockFeedbackModal.title",defaultMessage:"AI Meeting Notes feedback"},subtitle:{id:"TranscriptionBlockFeedbackModal.subtitle",defaultMessage:"Your feedback helps us improve meeting notes."},feedbackTextAreaAriaLabel:{id:"TranscriptionBlockFeedbackModal.input.ariaLabel",defaultMessage:"Feedback"},feedbackPlaceholderThumbsUp:{id:"TranscriptionBlockFeedbackModal.feedbackPlaceholderThumbsUp",defaultMessage:"What did you like about the summary or transcript?"},feedbackPlaceholderThumbsDown:{id:"TranscriptionBlockFeedbackModal.feedbackPlaceholderThumbsDown",defaultMessage:"What issues did you notice with the summary or transcript? Please be as specific as possible."},cancel:{id:"TranscriptionBlockFeedbackModal.cancel",defaultMessage:"Cancel"},submit:{id:"TranscriptionBlockFeedbackModal.submit",defaultMessage:"Submit feedback"},thumbsUpAriaLabel:{id:"TranscriptionBlockFeedbackModal.thumbsUpAriaLabel",defaultMessage:"Thumbs up"},thumbsDownAriaLabel:{id:"TranscriptionBlockFeedbackModal.thumbsDownAriaLabel",defaultMessage:"Thumbs down"}});n(362833);const Dt={viewBox:"0 0 20 20",svg:(0,Q.jsx)("path",{d:"M4.75 3.125c-.897 0-1.625.728-1.625 1.625v10.5c0 .898.728 1.625 1.625 1.625H7.5c.897 0 1.625-.727 1.625-1.625V4.75c0-.897-.728-1.625-1.625-1.625zM4.375 4.75c0-.207.168-.375.375-.375H7.5c.207 0 .375.168.375.375v10.5a.375.375 0 0 1-.375.375H4.75a.375.375 0 0 1-.375-.375zM12.5 3.125c-.898 0-1.625.728-1.625 1.625v10.5c0 .898.727 1.625 1.625 1.625h2.75c.898 0 1.625-.727 1.625-1.625V4.75c0-.897-.727-1.625-1.625-1.625zm-.375 1.625c0-.207.168-.375.375-.375h2.75c.207 0 .375.168.375.375v10.5a.375.375 0 0 1-.375.375H12.5a.375.375 0 0 1-.375-.375z"})},Ft=(0,B().wt)("mediaPause",Dt),Wt={viewBox:"0 0 20 20",svg:(0,Q.jsx)("path",{d:"M15.405 2.586c-.423 0-.837.117-1.197.338l-2.709 1.663a7.8 7.8 0 0 1-4.068 1.149H4.226a2.2 2.2 0 0 0-2.2 2.2v2.133a2.2 2.2 0 0 0 2.2 2.2h.085l1.191 3.953a1.675 1.675 0 0 0 1.604 1.192h.998c.925 0 1.675-.75 1.675-1.675v-3.107c.6.19 1.178.453 1.72.785l2.709 1.663a2.288 2.288 0 0 0 3.485-1.95V4.874a2.29 2.29 0 0 0-2.288-2.288m-6.876 9.76v3.393c0 .235-.19.425-.425.425h-.998a.425.425 0 0 1-.407-.302l-1.082-3.594H7.43q.555 0 1.098.078m6.73-8.5a1.04 1.04 0 0 1 1.184 1.028v8.256a1.038 1.038 0 0 1-1.183 1.028zm-1.1.574v9.164l-2.006-1.232a9 9 0 0 0-2.41-1.032V6.684a9 9 0 0 0 2.41-1.032zM7.43 11.019H4.226a.95.95 0 0 1-.95-.95V7.936a.95.95 0 0 1 .95-.95H7.43q.611 0 1.213-.082V11.1a9 9 0 0 0-1.213-.082"})},Lt=(0,B().wt)("megaphone",Wt);const Ut={viewBox:"0 0 20 20",svg:(0,Q.jsx)("path",{d:"M8.65 2.525c.345 0 .625.28.625.625v13.7a.625.625 0 1 1-1.25 0V3.15c0-.345.28-.625.625-.625M6.575 5.45a.625.625 0 1 0-1.25 0v9.1a.625.625 0 1 0 1.25 0zm-2.7 3.2a.625.625 0 0 0-1.25 0v2.7a.625.625 0 1 0 1.25 0zm10.8-2.7a.625.625 0 1 0-1.25 0v8.1a.625.625 0 0 0 1.25 0zm2.075 2.075c.345 0 .625.28.625.625v2.7a.625.625 0 1 1-1.25 0v-2.7c0-.345.28-.625.625-.625m-4.775-.775a.625.625 0 1 0-1.25 0v5.5a.625.625 0 1 0 1.25 0z"})},Ot=(0,B().wt)("waveform",Ut),Ht=(0,c().YK)({autoTitle:{id:"transcriptionSummarizationFormat.label.auto",defaultMessage:"Auto"},autoSubtitle:{id:"transcriptionSummarizationFormat.subtitle.auto",defaultMessage:"Notion AI chooses the best format"},salesCallTitle:{id:"transcriptionSummarizationFormat.label.salesCall",defaultMessage:"Sales Call"},salesCallSubtitle:{id:"transcriptionSummarizationFormat.subtitle.salesCall",defaultMessage:"Customer insights, needs, follow-ups"},standupTitle:{id:"transcriptionSummarizationFormat.label.standup",defaultMessage:"Standup"},standupSubtitle:{id:"transcriptionSummarizationFormat.subtitle.standup",defaultMessage:"Progress, blockers, action items"},teamMeetingTitle:{id:"transcriptionSummarizationFormat.label.teamMeeting",defaultMessage:"Team Meeting"},teamMeetingSubtitle:{id:"transcriptionSummarizationFormat.subtitle.teamMeeting",defaultMessage:"Updates, decisions, action items"}}),Kt=[{type:"auto",title:Ht.autoTitle,subtitle:Ht.autoSubtitle},{type:"sales-call",title:Ht.salesCallTitle,subtitle:Ht.salesCallSubtitle,instructions:"\nThis conversation is a sales call. Make sure to capture:\n- Any needs or asks the customer has brought up.\n- Background information about the customer, such as the customer's role, company, if they are using the product or service, etc.\n- A detailed but concise summary of the conversation.\n- Decisions or commitments that were made during the call if any.\n- Next steps.\n- Action items to be taken after the call.\n"},{type:"standup",title:Ht.standupTitle,subtitle:Ht.standupSubtitle,instructions:"\nThis conversation is a standup. Make sure to capture:\n- Progress on any projects or tasks.\n- Any blockers or issues that need to be addressed.\n- Action items to be taken after the standup. If possible, include who is responsible for each action item and a deadline for when it should be completed.\n"},{type:"team-meeting",title:Ht.teamMeetingTitle,subtitle:Ht.teamMeetingSubtitle,instructions:"\nThis conversation is a team meeting. Make sure to capture:\n- Updates on any projects or tasks.\n- Any decisions that were made.\n- Action items to be taken after the meeting. If possible, include who is responsible for each action item and a deadline for when it should be completed.\n"}];var Vt=()=>n(226567),Yt=()=>n(535906),Xt=()=>n(88271),Gt=()=>n(350208);n(771702);const $t={viewBox:"0 0 20 20",svg:(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)("path",{d:"M7.814 12.407c0 .295.323.479.58.33l4.165-2.407a.38.38 0 0 0 0-.66L8.394 7.263a.385.385 0 0 0-.58.33z"}),(0,Q.jsx)("path",{d:"M4.5 4.125A2.125 2.125 0 0 0 2.375 6.25v7.5c0 1.174.951 2.125 2.125 2.125h11a2.125 2.125 0 0 0 2.125-2.125v-7.5A2.125 2.125 0 0 0 15.5 4.125zM3.625 6.25c0-.483.392-.875.875-.875h11c.483 0 .875.392.875.875v7.5a.875.875 0 0 1-.875.875h-11a.875.875 0 0 1-.875-.875z"})]})},Qt=(0,B().wt)("playButton",$t);function Zt(){return(0,a().IS)((e=>({sectionTitle:{display:"flex",flexDirection:"row",alignItems:"center",gap:8},selection:{flex:1,color:e.text.tertiary,maxWidth:140,...Je().RC}})),[])}var Jt=()=>n(906230);const qt=(0,o.forwardRef)(((e,t)=>{let{disabled:n,renderTooltip:o,...i}=e;return(0,Q.jsx)(y().A,{disableTooltip:!n,placement:A().W.Right,renderTooltip:o,render:e=>(0,Q.jsx)(Yt().A,{...(0,Jt().A)(i,e),ref:t,disabled:n,disabledFeedback:!0})})}));qt.displayName="TranscriptionSettingsDisabledMenuItem";var en=()=>n(935091),tn=()=>n(858023),nn=()=>n(640979);function on(e){let{minWidth:t=250,sections:n,...o}=e;return(0,Q.jsx)(en().A,{...o,menuType:nn().gu.Popup,children:(0,Q.jsx)(tn().Ay,{type:tn().Oh.Vertical,initialFocus:0,style:{minWidth:t},sections:n})})}const rn=(0,o.forwardRef)(((e,t)=>{let{blockId:n,...a}=e;const{currentUser:s}=(0,i().v3)(),l=Zt(),d=!Be(),u=(0,r().K8)((()=>(0,fe().FT)(s.id)),[s.id]),p=(0,o.useCallback)(((e,t)=>t?void 0:Ce(s.id,e)),[s.id]),[m,g]=(0,o.useState)((()=>p(u,d)));(0,o.useEffect)((()=>{g(p(u,d))}),[d,u,p,g]);const f=(0,o.useCallback)((e=>{g(e),function(e,t,n){const o=Ae(e);le().K.set({userId:e,key:Se,value:{...o,[t]:n}})}(s.id,u,e.name)}),[s.id,u,g]),y=(0,o.useMemo)((()=>{if(d)return{current:[],other:[]};const e=ye(u),t=he(u),n=(0,fe().u1)().flatMap((e=>{let[t]=e;return he(t)})),o=[],i=[];return ve().forEach((r=>{const a=be(r);e.includes(r.lang)?t.includes(a)&&o.push(r):n.includes(a)&&i.push(r)})),{current:o,other:i}}),[d,u]);return(0,Q.jsx)(Gt().A,{...a,ref:t,disabled:d,renderOrigin:(e,t)=>(0,Q.jsx)(qt,{...e,ref:t,disabled:d,renderTooltip:()=>(0,Q.jsx)(c().sA,{defaultMessage:"Audio is not supported on your device",id:"transcriptionBlockSettings.consent.voice.disabled.tooltip"}),icon:(0,Q.jsx)(h().I,{icon:ae}),title:(0,Q.jsxs)($().Ye,{style:l.sectionTitle,children:[(0,Q.jsx)(c().sA,{id:"transcriptionBlockSettings.consent.voice",defaultMessage:"Voice"}),m&&(0,Q.jsx)("div",{style:l.selection,children:be(m)})]})}),renderExtension:(e,t)=>m?(0,Q.jsx)(an,{...e,blockId:n,language:u,selectedVoice:m,voices:y.current,otherVoices:y.other,onSelect:f,onClose:t.close}):null})}));function an(e){const{blockId:t,language:n,selectedVoice:i,voices:r,otherVoices:a,onSelect:s,onClose:l,...d}=e,u=(0,o.useCallback)((e=>{s(e),l()}),[s,l]);return(0,Q.jsx)(on,{...d,minWidth:200,sections:[{key:"current-language-voice-options",render:e=>(0,Q.jsx)(Xt().A,{...e}),items:r.map((e=>({key:e.voiceURI,render:n=>{let{ref:o,...r}=n;return(0,Q.jsx)(sn,{...r,ref:o,isChecked:e.name===i.name,blockId:t,voice:e})},action:()=>{u(e)}})))},{key:"other-language-voice-options",render:e=>(0,Q.jsx)(Xt().A,{...e,topBorder:!0,title:(0,Q.jsx)(c().sA,{id:"transcriptionBlockSettings.consent.voice.other.header",defaultMessage:"Other Languages"})}),items:a.map((e=>({key:e.voiceURI,render:n=>{let{ref:o,...r}=n;return(0,Q.jsx)(sn,{...r,isChecked:e.name===i.name,ref:o,blockId:t,voice:e})},action:()=>{u(e)}})))}]})}rn.displayName="ConsentMessageVoiceMenuItem";const sn=(0,o.forwardRef)(((e,t)=>{let{blockId:n,voice:r,...a}=e;const{currentUser:s}=(0,i().v3)(),l=(0,c().tz)(),d=(0,o.useCallback)((e=>{e.stopPropagation(),je({blockId:n,userId:s.id,voice:r})}),[n,s.id,r]),u=be(r);return(0,Q.jsx)(Yt().A,{...a,ref:t,title:u,caption:r.lang,right:(0,Q.jsx)(m().A,{ariaLabel:l.formatMessage({id:"transcriptionBlockSettings.consent.voice.sample.ariaLabel",defaultMessage:"Play voice sample for {name}"},{name:u}),icon:Qt,iconStyle:{width:16,height:16},onClick:d,size:"sm"})})}));sn.displayName="VoiceMenuItem";const ln=(0,c().YK)({stopAndSummarize:{defaultMessage:"Stop and summarize",id:"transcriptionBlockSettings.stopAndSummarize"},pauseTranscription:{defaultMessage:"Pause transcription",id:"transcriptionBlockSettings.pauseTranscription"},resumeTranscription:{defaultMessage:"Resume transcription",id:"transcriptionBlockSettings.resumeTranscription"},startTranscription:{defaultMessage:"Start transcription",id:"transcriptionBlockSettings.startTranscription"},retrySummary:{defaultMessage:"Retry summary",id:"transcriptionBlockSettings.retrySummary"}}),cn=(0,c().YK)({connectNotionCalendar:{defaultMessage:"Connect Notion Calendar",id:"transcriptionBlockSettings.connectNotionCalendar"}});function dn(e){let{blockStore:t}=e;const n=(0,i().v3)(),a=(0,V().W)(),s=(0,W().d)({store:t}),l=a&&s,d=(0,O().Z)(t),u=U(t),p=(0,r().K8)((()=>{var e;return(null===(e=L().ei.state)||void 0===e?void 0:e.id)===t.id}),[t.id]),m=u&&p,g=(0,r().K8)((()=>(0,X().mX)()),[]),f=(0,o.useMemo)((()=>{const e=[];var o,i;return l&&(m||"initial"!==d.state&&"transcribing"!==d.state)&&e.push(function(e){const{blockStore:t,state:n}=e;return{key:"transcription-state",render:e=>(0,Q.jsx)(Xt().A,{...e}),items:[{key:"transcription-state",render:e=>{let{ref:o,...i}=e;return(0,Q.jsx)(pn,{...i,blockStore:t,state:n,ref:o})},action:de().lQ},{key:"summarize-transcription",render:e=>{let{ref:n,...o}=e;return(0,Q.jsx)(fn,{...o,blockStore:t,ref:n})},action:de().lQ}]}}({blockStore:t,state:d.state})),m?e.push((i=n.device.isMobile,{key:"audio-input",render:e=>(0,Q.jsx)(Xt().A,{...e,topBorder:!0}),items:[{key:"microphone",render:(e,t)=>{let{ref:n,...o}=e;return(0,Q.jsx)(hn,{...o,ref:n,onFocus:t.onFocus})},action:de().lQ},...i?[]:[{key:"system-audio",render:e=>{let{ref:t,...n}=e;return(0,Q.jsx)(yn,{...n,ref:t})},action:de().lQ}]]})):"transcribing"===d.state&&e.push((o={blockStore:t,transcriberId:d.transcriber_id,transcriberTable:d.transcriber_table},{key:"audio-capture",render:e=>(0,Q.jsx)(Xt().A,{...e}),items:[{key:"transcriber",render:e=>{let{ref:t,...n}=e;return(0,Q.jsx)(vn,{...n,...o,ref:t})},action:de().lQ}]})),l&&"summarizing"!==d.state&&e.push(function(e){return{key:"transcription-options",render:e=>(0,Q.jsx)(Xt().A,{...e,topBorder:!0}),items:[{key:"language",render:(e,t)=>{let{ref:n,...o}=e;return(0,Q.jsx)(bn,{...o,ref:n,onFocus:t.onFocus})},action:de().lQ},{key:"format-option",render:(t,n)=>{let{ref:o,...i}=t;return(0,Q.jsx)(xn,{...i,ref:o,onFocus:n.onFocus,blockStore:e})},action:de().lQ},{key:"consent-option",render:(t,n)=>{let{ref:o,...i}=t;return(0,Q.jsx)(kn,{...i,ref:o,blockId:e.id,onFocus:n.onFocus})},action:de().lQ}]}}(t)),g||e.push({key:"connect-calendar",render:e=>(0,Q.jsx)(Xt().A,{...e,topBorder:!0}),items:[{key:"connect-notion-calendar",render:e=>{let{ref:t,...n}=e;return(0,Q.jsx)(wn,{...n,ref:t})},action:de().lQ}]}),e.push(function(e){let{topBorder:t}=e;return{key:"learn-more",render:e=>(0,Q.jsx)(Xt().A,{...e,topBorder:t}),items:[{key:"give-feedback",render:e=>{let{ref:t,...n}=e;return(0,Q.jsx)(Yt().A,{...n,icon:(0,Q.jsx)(h().I,{icon:Lt}),title:(0,Q.jsx)(c().sA,{id:"transcriptionBlockSettings.giveFeedback.title",defaultMessage:"Give us feedback"})})},action:()=>{window.open(He().Dn,"_blank")}},{key:"learn-more",render:e=>{let{ref:t,...n}=e;return(0,Q.jsx)(Yt().A,{...n,icon:(0,Q.jsx)(h().I,{icon:Oe().questionMarkCircleIcon}),title:(0,Q.jsx)(c().sA,{id:"transcriptionBlockSettings.learnMore.title",defaultMessage:"Learn more"}),right:(0,Q.jsx)(Vt().A,{})})},action:()=>{window.open(He().WQ,"_blank")}}]}}({topBorder:!g||l||"transcribing"===d.state})),e}),[n.device.isMobile,l,m,d,t,g]);return(0,Q.jsx)(on,{sections:f})}const un=(0,o.forwardRef)(((e,t)=>{let{onClick:n,...o}=e;const i=(0,r().O$)(C().e);return(0,Q.jsx)(qt,{...o,ref:t,disabled:!i,onClick:n,renderTooltip:()=>(0,Q.jsx)(c().sA,{defaultMessage:"Unavailable while offline",id:"transcriptionBlockSettings.offlineTooltip"})})}));un.displayName="OnlineOnlyButtonMenuItem";const pn=(0,o.forwardRef)(((e,t)=>{let{state:n,...o}=e;return"summarizing"===n?null:"transcribing"===n?(0,Q.jsx)(mn,{...o,ref:t}):"initial"===n||"paused"===n||"idle"===n?(0,Q.jsx)(gn,{...o,ref:t}):(0,K().HB)(n)}));pn.displayName="StateManagementTranscriptionItem";const mn=(0,o.forwardRef)(((e,t)=>{let{blockStore:n,...o}=e;const r=(0,i().v3)(),a=ln.pauseTranscription;return(0,Q.jsx)(Yt().A,{...o,ref:t,onClick:()=>{(0,j().pauseTranscription)({environment:r,blockStore:n,shouldStopDictation:!0,from:"pause_button"})},icon:(0,Q.jsx)(h().I,{icon:Ft}),title:(0,Q.jsx)(c().sA,{...a})})}));mn.displayName="PauseTranscriptionItem";const gn=(0,o.forwardRef)(((e,t)=>{let{blockStore:n,...o}=e;const a=(0,i().v3)(),s=(0,r().K8)((()=>(0,_().lk)(n)?ln.resumeTranscription:ln.startTranscription),[n]);return(0,Q.jsx)(un,{...o,ref:t,onClick:()=>{(0,j().startTranscription)({environment:a,blockStore:n,from:"resume"})},icon:(0,Q.jsx)(Tt().jZ,{}),title:(0,Q.jsx)(c().sA,{...s})})}));gn.displayName="ResumeTranscriptionItem";const fn=(0,o.forwardRef)(((e,t)=>{let{blockStore:r,...a}=e;const s=(0,i().v3)(),l=(0,O().Z)(r),[d,u]=(0,o.useState)(!1);if((0,Y().w)((()=>{u((0,_().lk)(r))})),!d)return null;const p=(()=>{switch(l.state){case"initial":case"transcribing":case"paused":return ln.stopAndSummarize;case"summarizing":case"idle":return ln.retrySummary;default:return(0,K().HB)(l)}})();return(0,Q.jsx)(un,{...a,ref:t,onClick:()=>{(0,j().stopTranscription)({environment:s,blockStore:r,from:"idle"===l.state?"summary_retry_requested":"summary_requested"})},icon:(0,Q.jsx)(h().I,{icon:n(182658).magicWandIcon}),title:(0,Q.jsx)(c().sA,{...p})})}));fn.displayName="SummarizeTranscriptionItem";const hn=(0,o.forwardRef)(((e,t)=>{const o=Zt(),i=(0,r().O$)(n(100308).dc);return(0,Q.jsx)(Gt().A,{...e,ref:t,renderOrigin:(e,t)=>(0,Q.jsx)(Yt().A,{...e,ref:t,icon:(0,Q.jsx)(h().I,{icon:n(478271).E}),title:(0,Q.jsxs)("div",{style:o.sectionTitle,children:[(0,Q.jsx)(c().sA,{id:"transcriptionBlockSettings.microphone.title",defaultMessage:"Mic"}),(0,Q.jsx)("div",{style:o.selection,children:null==i?void 0:i.label})]})}),renderExtension:()=>(0,Q.jsx)(n(3766).w,{})})}));hn.displayName="MicrophoneItem";const yn=(0,o.forwardRef)(((e,t)=>{const r=(0,i().v3)(),a=Zt(),s=function(e){const{environment:t}=e,[i,r]=(0,o.useState)();return(0,(()=>n(162901))().Yb)((async()=>{if(t.device.isElectron){const e=await ue().getDeviceName();r(e)}}),[t.device.isElectron]),i}({environment:r});return(0,Q.jsx)(Yt().A,{...e,ref:t,icon:(0,Q.jsx)(h().I,{icon:Ot}),title:(0,Q.jsxs)("div",{style:a.sectionTitle,children:[(0,Q.jsx)(c().sA,{id:"transcriptionBlockSettings.systemAudio.title",defaultMessage:"Audio"}),(0,Q.jsx)("div",{style:{...a.selection,maxWidth:152},children:s||(0,Q.jsx)(c().sA,{id:"transcriptionBlockSettings.systemAudio.selection",defaultMessage:"System"})})]})})}));yn.displayName="SystemAudioItem";const vn=(0,o.forwardRef)(((e,t)=>{const{blockStore:o,transcriberId:i,transcriberTable:a,...s}=e,l=(0,n(740699).y)(i),d=(0,r().K8)((()=>ot().LU.createChildStore(o,{id:i,table:a}).getModel()),[o,i,a]);return(0,Q.jsx)(n(932322).Ay,{...s,ref:t,icon:(0,Q.jsx)(et().A,{userValue:d,size:18,style:{borderRadius:12}}),title:(0,Q.jsx)(c().sA,{id:"transcriptionBlockSettings.transcriber.title",defaultMessage:"{userName} is transcribing",values:{userName:l}})})}));vn.displayName="TranscriberItem";const bn=(0,o.forwardRef)(((e,t)=>{const o=(0,i().v3)(),a=Zt(),s=(0,r().K8)((()=>(0,fe().FT)(o.currentUser.id)),[o.currentUser.id]);return(0,Q.jsx)(Gt().A,{...e,ref:t,renderOrigin:(e,t)=>(0,Q.jsx)(Yt().A,{...e,ref:t,icon:(0,Q.jsx)(h().I,{icon:n(870122).globeIcon}),title:(0,Q.jsxs)("div",{style:a.sectionTitle,children:[(0,Q.jsx)(c().sA,{id:"transcriptionBlockSettings.language.title",defaultMessage:"Language"}),(0,Q.jsx)("div",{style:a.selection,children:s})]})}),renderExtension:(e,t)=>(0,Q.jsx)(n(670896).Z,{parent:t})})}));bn.displayName="LanguageItem";const xn=(0,o.forwardRef)(((e,t)=>{let{blockStore:a,...s}=e;const l=(0,i().v3)(),d=Zt(),u=(0,r().K8)((()=>{var e;return(null===(e=a.getModel())||void 0===e||null===(e=e.getFormat())||void 0===e?void 0:e.transcription_summarization_format_type)??"auto"}),[a]),p=Kt.find((e=>e.type===u))??Kt[0],m=(0,o.useCallback)((e=>{(0,j().updatePreferredSummarizationFormat)({environment:l,blockStore:a,format:e}),H().c.setSettingsOpenForBlockId(void 0)}),[l,a]);return(0,Q.jsx)(Gt().A,{...s,alignmentToOrigin:A().C.Start,ref:t,renderOrigin:(e,t)=>(0,Q.jsx)(Yt().A,{...e,ref:t,icon:(0,Q.jsx)(h().I,{icon:n(686752).pencilLineIcon}),title:(0,Q.jsxs)("div",{style:d.sectionTitle,children:[(0,Q.jsx)(c().sA,{id:"transcriptionBlockSettings.format.title",defaultMessage:"Format"}),(0,Q.jsx)("div",{style:d.selection,children:(0,Q.jsx)(c().sA,{...p.title})})]})}),renderExtension:e=>(0,Q.jsx)(Sn,{...e,selectedFormat:p,onFormatChange:m})})}));function Sn(e){const{selectedFormat:t,onFormatChange:n,...o}=e;return(0,Q.jsx)(on,{...o,sections:[{key:"formatting-options",render:e=>(0,Q.jsx)(Xt().A,{...e}),items:Kt.map((e=>({key:e.type,render:n=>{let{ref:o,...i}=n;return(0,Q.jsx)(Yt().A,{...i,ref:o,isChecked:t.type===e.type,title:(0,Q.jsx)(c().sA,{...e.title}),caption:(0,Q.jsx)(c().sA,{...e.subtitle})})},action:()=>{n(e.type)}})))}]})}xn.displayName="FormatItem";const kn=(0,o.forwardRef)(((e,t)=>{let{blockId:n,...o}=e;return(0,Q.jsx)(Gt().A,{...o,alignmentToOrigin:A().C.Start,disableDefaultClick:!0,ref:t,renderOrigin:(e,t)=>(0,Q.jsx)(Yt().A,{...e,ref:t,icon:(0,Q.jsx)(h().I,{icon:oe}),title:(0,Q.jsx)(c().sA,{id:"transcriptionBlockSettings.consent.title",defaultMessage:"Consent"})}),renderExtension:(e,t)=>(0,Q.jsx)(Tn,{...e,blockId:n,onClose:t.close})})}));function Tn(e){let{blockId:t,onClose:o,...i}=e;return(0,Q.jsx)(on,{...i,sections:[{key:"configure-consent-message",render:e=>(0,Q.jsx)(Xt().A,{...e,topBorder:!1}),items:[{key:"message",render:e=>{let{ref:t}=e;return(0,Q.jsx)(An,{ref:t})},action:de().lQ}]},{key:"configure-consent-buttons",render:e=>(0,Q.jsx)(Xt().A,{...e,topBorder:!0}),items:[{key:"audio-voice",render:(e,n)=>{let{ref:o,...i}=e;return(0,Q.jsx)(rn,{...i,blockId:t,onFocus:n.onFocus})},action:de().lQ},{key:"learn-more",render:e=>{let{ref:t,...o}=e;return(0,Q.jsx)(Yt().A,{...o,icon:(0,Q.jsx)(h().I,{icon:n(213255).A}),ref:t,title:(0,Q.jsx)(c().sA,{id:"transcriptionBlockSettings.consent.learnMore.title",defaultMessage:"Learn more"})})},action:()=>{window.open(He().PE,"_blank"),o()}}]}]})}kn.displayName="ConsentItem";const An=(0,o.forwardRef)(((e,t)=>{const{currentUser:r}=(0,i().v3)(),s=(0,T().B)(),l=(0,o.useMemo)((()=>n(470637).A.withListenerIgnored((()=>we(r.id)))),[r.id]),d=(0,o.useCallback)((e=>Me(r.id,e.target.value)),[r.id]),u=(0,a().IS)((()=>({wrapper:{padding:6},label:{paddingLeft:4}})),[]);return(0,Q.jsxs)($().wt,{ref:t,gap:4,style:u.wrapper,children:[(0,Q.jsx)(G().D,{as:"label",colorName:"secondary",id:s,styleName:"UISmall-12px/Semibold",customStyles:u.label,children:(0,Q.jsx)(c().sA,{defaultMessage:"Consent message",id:"transcriptionBlockSettings.consent.input.label"})}),(0,Q.jsx)(n(441292).A,{allowEsc:!0,capture:!0,debugName:"ConsentMessageMenuSection",children:(0,Q.jsx)(Ct().A,{inputElementAttributes:{"aria-labelledby":s},maxlength:500,onChange:d,textarea:!0,value:l})})]})}));An.displayName="ConsentMessageMenuSection";const wn=(0,o.forwardRef)(((e,t)=>{const n=(0,i().v3)(),s=(0,r().O$)(w().AppStoreCurrentSpaceStore),l=(0,o.useCallback)((()=>{tt().Op({environment:n,spaceStore:s,collectionViewStore:void 0,from:"transcriptionBlockSettings"})}),[n,s]),d=(0,a().IS)((e=>({icon:{color:e.text.primary,width:20,height:20}})),[]);return(0,Q.jsx)(Yt().A,{...e,ref:t,icon:(0,Q.jsx)(nt().y,{style:d.icon}),title:(0,Q.jsx)(c().sA,{...cn.connectNotionCalendar}),onClick:l})}));wn.displayName="ConnectNotionCalendarItem";const Mn={viewBox:"0 0 20 20",svg:(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)("g",{clipPath:"url(#clip0_10430_11060)",children:[(0,Q.jsx)("path",{d:"M18.471 4.733a3.59 3.59 0 0 0-4.921 1.235l-5.285 8.825a.625.625 0 0 0 .436.938l4.591.744a.625.625 0 0 0 .2-1.234l-3.681-.597 4.811-8.034a2.338 2.338 0 0 1 4.024.02.625.625 0 0 0 1.08-.63 3.6 3.6 0 0 0-1.255-1.267"}),(0,Q.jsx)("path",{d:"M15.57 9.98a1.06 1.06 0 1 0 .339-2.094 1.06 1.06 0 0 0-.34 2.094m-7.6-5.86a3.59 3.59 0 0 1 5.104.326.625.625 0 0 1-.944.819 2.34 2.34 0 0 0-3.326-.213.625.625 0 0 1-.834-.932M9.98 9.074a1.06 1.06 0 1 0 .339-2.094 1.06 1.06 0 0 0-.34 2.094m-1.673 3.218.748-1.25H.9a.625.625 0 0 0 0 1.25zm-1.309 3.333a1.88 1.88 0 0 1 .08-1.25H.9a.625.625 0 1 0 0 1.25zm.864-7.917c-.061.44.006.87.174 1.25H.9a.625.625 0 0 1 0-1.25zM6.825 5.625a1.87 1.87 0 0 1-.302-1.25H.9a.625.625 0 0 0 0 1.25z"})]}),(0,Q.jsx)("defs",{children:(0,Q.jsx)("clipPath",{id:"clip0_10430_11060",children:(0,Q.jsx)("path",{d:"M0 0h20v20H0z"})})})]})},Cn=(0,B().wt)("aiDescription",Mn);var jn=()=>n(663821),In=()=>n(242120),_n=()=>n(887114),Bn=()=>n(209684),Rn=()=>n(466321),zn=(n(244387),()=>n(807672));const Pn=z+P+N+E;n(107652);var Nn=()=>n(91472),En=()=>n(384221),Dn=()=>n(117041),Fn=()=>n(73631),Wn=()=>n(435794),Ln=()=>n(280630),Un=()=>n(205670);const On=(0,c().YK)({copiedTabContents:{id:"transcriptionBlockCopyActions.copyTabContents.toast.success",defaultMessage:"Copied blocks in tab to clipboard"},failedToCopyTabContents:{id:"transcriptionBlockCopyActions.copyTabContents.toast.failure",defaultMessage:"We’re unable to copy tab contents"},emptyTabContents:{id:"transcriptionBlockCopyActions.copyTabContents.toast.empty",defaultMessage:"Nothing to copy"}});function Hn(e){const{tabStore:t,onClose:n}=e,o=(0,i().v3)();return(0,Q.jsx)(en().A,{menuType:nn().gu.Popup,children:(0,Q.jsx)(tn().Ay,{type:tn().Oh.Vertical,initialFocus:0,style:{minWidth:220},sections:[{key:"tab-copy",render:e=>(0,Q.jsx)(Xt().A,{...e,topBorder:!1}),items:[{key:"copy-contents",render:e=>(0,Q.jsx)(Yt().A,{...e,icon:(0,ie().V)({height:20,width:20}),title:(0,Q.jsx)(c().sA,{id:"transcriptionBlock.tabMenu.copyContents.label",defaultMessage:"Copy contents"})}),action:()=>{!async function(e){const{environment:t,tabStore:n}=e,o=n.getContentStores();if(o.length<1)return;const i=o.map(Ln().aI).filter(K().O9);if(i.every((e=>{const t=e.getValue();return!t||0===(0,$e().AhH)(t)}))||i.length<1)return void pe().D6({label:me().A.formatMessage(On.emptyTabContents)});function r(t){se().log({level:"warning",from:"transcriptionBlockCopyActions",type:t,data:{miscDataToConvertToString:{rootBlockId:e.tabStore.getParentId(),tabBlockId:e.tabStore.id}}}),pe().D6({label:me().A.formatMessage(On.failedToCopyTabContents)})}En().setMultiSelection({multiSelection:{start:{store:i[0],index:0},end:{store:i[i.length-1],index:1/0}},readOnly:!0});const a="empty"!==Un().default.state.mode&&Un().default.state.multiSelection;if(!a)return void r("copyTabContents:missingMultiSelection");const s=await Nn().R.clipboardActions.load(),l=s.serializeMultiTextSelectionToClipboardData({environment:t,multiSelection:a,action:"copy"});if(!l)return void r("copyTabContents:failedToSerializeToClipboardData");const c=await Dn().g.load(),d=await Fn().T.formulas.load(),{markdown:u,html:p}=(0,Wn().Ij)({clipboardData:l,multiSelection:a,currentUserId:t.currentUser.id,isWindows:t.device.isWindows,markdownLinkifyIt:c,formulasModule:d});p||u?s.copyString({environment:t,stringValue:u,htmlValue:p,copiedMessage:On.copiedTabContents}):r("copyTabContents:failedToSerializeToMarkdown")}({environment:o,tabStore:t}),n()}}]}]})})}function Kn(e){const{blockRef:t,store:n,state:a,tabStores:s,selectedTabType:l,disabled:d}=e,u=(0,i().v3)(),p=(0,o.useCallback)((e=>{e<0?e=s.length-1:e>=s.length&&(e=0);const t=s[e];H().c.setTabState(n.id,t.id);const o=F(n,t);if(o){var i;const e=I(n.id,o,"tab");null===(i=document.getElementById(e))||void 0===i||i.focus(),(0,x().u4)({environment:u,event:{eventName:"transcription_tab_opened",eventProperties:{tab:o,block_id:n.id}}})}}),[u,n,s]),m=(0,r().K8)((()=>s.map((e=>({store:e,type:F(n,e)})))),[n,s]),g=m.map((e=>e.type)).filter(K().O9),f=function(e){const{blockRef:t,tabTypes:n,state:r}=e,a=(0,c().tz)(),s=(0,i().Y0)(),l="summarizing"===r.state||"idle"===r.state,[d,u]=(0,o.useState)((()=>s.isPhone?"dropdown":"tabs")),p=(0,o.useMemo)((()=>new(zn().k)({style:{fontSize:`${Je().J.UIRegular.desktop}px`,fontWeight:Je().Wy.medium}})),[]),m=(0,o.useRef)(new Map),g=(0,o.useCallback)((e=>{if(m.current.has(e))return m.current.get(e)??0;const t=D[e],n=p.measure(a.formatMessage(t)),o=Pn+n.width;return m.current.set(e,o),o}),[a,p]);return(0,o.useEffect)((()=>{const e=t.current;if(s.isPhone||!e)return void u("dropdown");const o=new ResizeObserver((e=>{const t=e[0];if(!t)return;const o=t.contentRect.width;if(!l&&o<=460)return void u("dropdown");const i=n.reduce(((e,t)=>e+g(t)),0),r=(n.length-1)*R;u(.45*o<i+r?"dropdown":"tabs")}));return o.observe(e),()=>o.unobserve(e)}),[t,s.isPhone,l,n,g]),d}({blockRef:t,tabTypes:g,state:a});if("dropdown"===f){const e=l||"notes",t=m.find((t=>t.type===e));return t?(0,Q.jsx)(Yn,{tabStore:t.store,tabType:e,tabTypes:g,disabled:d,onSelectTab:p}):null}if("tabs"===f)return(0,Q.jsx)("div",{"aria-orientation":"horizontal",role:"tablist",style:{display:"flex",gap:R,alignItems:"center",flexDirection:"row"},children:g.map(((e,t)=>{const o=m.find((t=>t.type===e));return o?(0,Q.jsx)(Vn,{disabled:d,index:t,store:n,tabStore:o.store,tabType:e,selected:e===l,onChangeTab:p},e):null}))});(0,K().HB)(f)}function Vn(e){const{store:t,tabStore:n,tabType:i,selected:r,disabled:a,index:s,onChangeTab:l}=e,c=(0,o.useCallback)((e=>{e.shiftKey||e.ctrlKey||e.altKey||("ArrowLeft"===e.key?(e.stopPropagation(),l(s-1)):"ArrowRight"===e.key&&(e.stopPropagation(),l(s+1)))}),[s,l]),d=(0,o.useCallback)((()=>{l(s)}),[s,l]);return(0,Q.jsx)(Xn,{disabled:a,"aria-selected":r,"aria-controls":I(t.id,i,"tabpanel"),id:I(t.id,i,"tab"),role:"tab",tabStore:n,tabType:i,selected:r,onKeyDown:c,onClick:d})}function Yn(e){const{tabStore:t,tabType:n,tabTypes:o,disabled:i,onSelectTab:r}=e,a=(0,c().tz)();return(0,Q.jsx)(p().Ay,{popupType:p().z7.Popup,placementToOrigin:p().sx.Bottom,originGap:4,renderOrigin:e=>(0,Q.jsx)(Xn,{...e,dropdown:!0,selected:!0,disabled:i,tabStore:t,tabType:n}),render:e=>{const t=[{key:"transcription-tabs-menu",render:e=>(0,Q.jsx)(Xt().A,{...e}),items:o.map(((t,o)=>({key:t,action:()=>{r(o),e.close()},render:e=>(0,Q.jsx)(Yt().A,{...e,icon:(0,Q.jsx)(Gn,{tabType:t}),mobileIconStyle:{marginLeft:8},rightStyle:{marginRight:8},title:a.formatMessage(D[t]),isChecked:t===n})})))}];return(0,Q.jsx)(en().A,{menuType:nn().gu.Popup,children:(0,Q.jsx)(tn().Ay,{type:tn().Oh.Vertical,sections:t,initialFocus:void 0})})}})}function Xn(e){const{tabStore:t,tabType:n,selected:i,dropdown:r,...s}=e,[l,d]=(0,o.useState)(!1),u=(0,a().IS)((e=>({tabStyle:{display:"flex",justifyContent:"center",paddingTop:6,paddingBottom:6,paddingRight:P,paddingLeft:z,whiteSpace:"nowrap",minWidth:0,flexShrink:0,fontWeight:Je().Wy.medium,position:i?"relative":void 0,borderRadius:999,gap:N,color:i?e.text.primary:e.text.tertiary,background:i?e.fill.lightGrayPrimary:"transparent"},chevron:{width:E,height:E,fill:e.lightIconColor}})),[i]);return(0,Q.jsx)(p().Ay,{disablePopup:!i||r,popupType:Rn().n.Popup,placementToOrigin:A().W.Bottom,originGap:4,open:l,onOpen:()=>d(!0),onClose:()=>d(!1),render:e=>(0,Q.jsx)(Hn,{tabStore:t,onClose:e.close}),renderOrigin:e=>(0,Q.jsxs)(Bn().p,{...(0,Jt().A)(s,e),onContextMenu:e=>{i&&(e.stopPropagation(),e.preventDefault(),d(!0))},size:"lg",style:u.tabStyle,children:[(0,Q.jsx)(Gn,{tabType:n,selected:i}),(0,Q.jsx)(c().sA,{...D[n]}),r&&i?(0,jn().arrowChevronSingleDownSmallIcon)(u.chevron):null]})})}function Gn(e){const{tabType:t,selected:n}=e,o=n?"primary":"secondary";return"summary"===t?(0,Q.jsx)(h().I,{icon:Cn,color:o}):"transcript"===t?(0,Q.jsx)(h().I,{icon:In().b,color:o}):"notes"===t?(0,Q.jsx)(h().I,{icon:_n().d,color:o}):(0,K().HB)(t)}const $n=(0,c().YK)({moreOptions:{defaultMessage:"Options",id:"transcriptionBlock.options"},notesPlaceholder:{defaultMessage:"Prep the agenda and take notes...",id:"transcriptionBlock.notes.placeholder"},transcriptPlaceholder:{defaultMessage:"Your meeting will be transcribed here...",id:"transcriptionBlock.transcript.placeholder"},askAiButton:{defaultMessage:"Ask about this meeting",id:"transcriptionBlock.askAiButton"}}),Qn=o.forwardRef(((e,t)=>{const s=(0,o.useRef)(null),l=(0,c().tz)(),d=(0,T().B)(),g=(0,r().K8)((()=>e.store.id),[e.store]),f=(0,r().K8)((()=>H().c.isSettingsOpenForBlockId(g)),[g]),{selectedTabStore:h,selectedTabType:y,selectedTabRootStore:v}=(b=e.store,(0,r().K8)((()=>{const e=H().c.getTabState(b.id),t=b.getContentStores(),n=t.find((t=>t.id===e));if(n)return{selectedTabStore:n.getContentStore(),selectedTabRootStore:n,selectedTabType:F(b,n)};if(t.length>0)return{selectedTabStore:t[0].getContentStore(),selectedTabRootStore:t[0],selectedTabType:F(b,t[0])};throw new Error("No content store found")}),[b]));var b;const S=(0,O().Z)(e.store),M=(0,i().v3)(),I=(0,i().Y0)(),B=(0,_().b8)(I),R=(0,r().O$)(C().e),z=function(e){const t=U(e),n=(0,O().Z)(e),o=(0,r().O$)(L().gZ),i=(0,r().K8)((()=>L().Ay.state.loading),[]),a=(0,r().K8)((()=>w().default.state.currentUserStore),[]);return"transcribing"===n.state&&i&&(null==a?void 0:a.id)===n.transcriber_id?o:!!t||"idle"!==n.state&&"summarizing"!==n.state&&("transcribing"===n.state||"paused"===n.state||"initial"===n.state||(0,K().HB)(n))}(e.store),P=U(e.store),N=(0,r().K8)((()=>e.store.getContentStores()),[e.store]);!function(e){const{store:t}=e,n=(0,O().Z)(t),i=(0,r().K8)((()=>{const e=(0,_().y1)(t,"transcript");if(e)return e.getContentStores().at(-1)}),[t]);(0,o.useEffect)((()=>{var e,o;if((null===(e=L().Ay.state.rootBlock)||void 0===e?void 0:e.id)!==t.id&&(null===(o=L().Ay.state.block)||void 0===o?void 0:o.id)!==(null==i?void 0:i.id))if("transcribing"===n.state&&i){const e={...L().Ay.state.passiveBlockMap,[t.id]:{rootBlockStore:t,dictatingBlockStore:i}};L().Ay.setState({...L().Ay.state,passiveBlockMap:e})}else{const{[t.id]:e,...n}=L().Ay.state.passiveBlockMap;L().Ay.setState({...L().Ay.state,passiveBlockMap:n})}}),[i,n.state,t])}({store:e.store});const[E,D]=(0,n(569284).P)();(0,o.useEffect)((()=>(H().c.getVisibilityStatus(g)!==D&&H().c.setVisibility(g,D),()=>{H().c.setVisibility(g,!1)})),[D,g]);const W=(0,k().pW)(e.store,!0),V=(0,a().IS)((t=>({root:{borderRadius:n(201123).C,border:`1px solid ${t.regularDividerColor}`,overflow:"hidden",paddingTop:I.isPhone?12:16,...W,...e.style},controlRowContainer:{display:"flex",alignItems:"center",gap:8,minHeight:24,padding:I.isPhone?"0 12px 10px":"0 16px 10px",borderRadius:"16px 16px 0 0",cursor:"default"},buttonsContainer:{display:"flex",gap:4,flexShrink:0},audioVisualizerContainer:{flex:1,minWidth:0,display:"flex"},spacer:{flex:1,minWidth:0},moreIconButton:{width:30,height:32}})),[I.isPhone,W,e.style]),Y=(0,Q.jsxs)(n(434498).Ay,{style:V.root,ref:s,"aria-labelledby":d,children:[(0,Q.jsx)(u().s,{allowSelectionWithin:!1,children:(0,Q.jsx)(Zn,{state:S,store:e.store,isOnline:R,blockRef:s})}),(0,Q.jsx)(kt,{disabled:e.disabled,id:d,store:e.store,state:S.state}),(0,Q.jsxs)(u().s,{allowSelectionWithin:!1,ref:E,style:V.controlRowContainer,children:[(0,Q.jsx)(Kn,{blockRef:s,store:e.store,state:S,tabStores:N,selectedTabType:y}),z?(0,Q.jsx)("div",{style:V.audioVisualizerContainer,children:(0,Q.jsx)(n(979458).t,{fakeSoundwave:!P&&"transcribing"===S.state,fillWidth:!0,forceRender:"paused"===S.state||!B})}):(0,Q.jsx)("div",{style:V.spacer}),(0,Q.jsxs)("div",{style:V.buttonsContainer,children:[(0,Q.jsx)(Jn,{isOnline:R,store:e.store}),(0,Q.jsx)(Tt().bd,{store:e.store,isOnline:R}),B?(0,Q.jsx)(p().Ay,{renderOrigin:e=>(0,Q.jsx)(m().A,{icon:n(533666).Y,iconStyle:{width:16,height:16},style:V.moreIconButton,ariaLabel:l.formatMessage($n.moreOptions),...e}),render:()=>(0,Q.jsx)(dn,{blockStore:e.store}),popupType:n(443252).nl.Popup,placementToOrigin:A().W.Bottom,alignmentToOrigin:A().C.End,open:f,onClick:()=>{H().c.setSettingsOpenForBlockId(e.store.id),(0,x().u4)({environment:M,event:{eventName:"transcription_settings_menu_opened",eventProperties:{block_id:e.store.id}}})},onClose:()=>{H().c.setSettingsOpenForBlockId(void 0)}}):null]})]}),N.map((t=>(0,Q.jsx)(qn,{disabled:e.disabled,disableCommentMenu:e.disableCommentMenu,disableDrag:e.disableDrag,disableHoverMenu:"transcript"===y,selectedTabRootStore:v,selectedTabStore:h,selectedTabType:y,state:S,store:e.store,tabStore:t},t.id)))]});return(0,k().NW)(e.store,t,(0,o.useMemo)((()=>({renderedType:"transcription",getNode:()=>s.current,getBlockStore:()=>e.store,handleCreated(){(0,j().placeCursorInNotesTab)({blockStore:e.store})}})),[e.store]),Y)}));function Zn(e){const{state:t,store:n,isOnline:o,blockRef:s}=e,l=(0,i().v3)(),c=(0,V().W)(),d=(0,W().d)({store:n}),u=(0,r().K8)((()=>Ge.filter((e=>e.isEligible({environment:l,state:t,canUse:d&&c,isOnline:o})))[0]),[d,c,l,o,t]),p=(0,i().Y0)(),m=(0,a().IS)((e=>({container:{position:"relative",marginTop:p.isPhone?-12:-16,paddingBottom:p.isPhone?12:16},controlRowContainerInvertedBorder:{backgroundColor:e.fill.lightGrayTertiary,width:p.isPhone?12:16,height:p.isPhone?12:16,position:"absolute",bottom:0}})),[p.isPhone]);return u?(0,Q.jsxs)("div",{style:m.container,children:[(0,Q.jsx)("div",{style:{...m.controlRowContainerInvertedBorder,left:0,clipPath:"path('M16 0C7.16344 0 0 7.16344 0 16V0H16Z')"}}),(0,Q.jsx)("div",{style:{...m.controlRowContainerInvertedBorder,right:0,clipPath:"path('M0 0C8.83656 0 16 7.16344 16 16V0H0Z')"}}),u.render({blockId:n.id,blockRef:s})]}):null}function Jn(e){const{isOnline:t,store:l}=e,d=(0,i().Y0)(),u=(0,i().v3)(),p=(0,c().tz)(),g=(0,r().O$)(w().AppStoreMainEditorCurrentBlockStore),f=(0,V().W)(),h=(0,O().Z)(l),v=(0,r().K8)((()=>n(840024).zD.shouldShowAssistantInCorner(d)),[d]),b=(0,a().IS)((()=>({container:{display:"flex",justifyContent:"center",alignItems:"center",borderRadius:6},icon:{width:20,height:20}})),[]),x=(0,o.useCallback)((async()=>{if(!g)return;const{sessionId:e}=await(0,n(534288).resetAndInitializeAssistantSession)({environment:u,sessionId:void 0,completionContext:void 0,makeActiveSession:!0}),t=M().default.getSessionContext(e);null==t||t.assistantConfigurationStore.setSearchScope({type:"page",pageId:g.id}),M().default.setActiveSessionId(e),(0,n(128450).openAssistantRightHandSideMenu)({environment:u,from:"transcription_block"})}),[u,g]);return!d.isPhone&&t&&g&&f&&"initial"!==h.state&&v?(0,Q.jsx)(y().A,{render:e=>(0,Q.jsx)(m().A,{...e,style:b.container,icon:s().v,iconStyle:b.icon,size:"lg",onClick:x,ariaLabel:p.formatMessage($n.askAiButton)}),renderTooltip:()=>(0,Q.jsx)(c().sA,{...$n.askAiButton})}):null}function qn(e){const{store:t,tabStore:n,selectedTabType:o}=e,s=(0,r().K8)((()=>F(t,n)),[t,n]),l=(0,r().K8)((()=>s===o),[s,o]),c=(0,i().Y0)(),d=(0,a().IS)((()=>({content:{padding:c.isPhone?"0 12px 12px":"0 16px 16px"}})),[c.isPhone]);return s?(0,Q.jsx)("div",{"aria-labelledby":I(t.id,s,"tab"),hidden:!l,id:I(t.id,s,"tabpanel"),role:"tabpanel",style:d.content,children:l&&(0,Q.jsx)(eo,{...e})}):null}function eo(e){const{disabled:t,store:n,selectedTabType:o,state:i}=e,s=(0,c().tz)(),l=(0,T().B)(),p=(0,r().K8)((()=>(0,S().X)(n)||!n.isDefaultRecordCache()),[n]),m=(0,V().W)(),g=(0,r().K8)((()=>{var t;if("notes"===o&&1===(null===(t=e.selectedTabStore.getValue())||void 0===t?void 0:t.length))return s.formatMessage($n.notesPlaceholder)}),[o,e.selectedTabStore,s]),h=(0,r().K8)((()=>{if("transcript"===o&&!(e.selectedTabRootStore.getContentLength()>0))return s.formatMessage($n.transcriptPlaceholder)}),[o,e.selectedTabRootStore,s]),y=(0,a().IS)((e=>({innerContainer:{display:"flex",alignItems:"flex-start"},content:"transcript"===o?{display:"flex",flexDirection:"column",width:"100%",borderLeft:`3px solid ${e.accentColors.gray[500]}`,paddingLeft:14,paddingRight:14,marginTop:8}:{display:"flex",flexDirection:"column",width:"100%"},list:{display:"flex",flexDirection:"column",color:h?e.accentColors.translucentGray[500]:void 0}})),[o,h]);return(0,Q.jsxs)(d().A,{name:"TranscriptionActiveTabContent",children:[(0,Q.jsx)(f().A,{id:l,loaded:p,spinnerSize:"relative",showSpinnerTimeout:500,innerStyle:y.content,style:y.innerContainer,children:(0,Q.jsxs)(b().A,{store:e.selectedTabRootStore,analyticsName:"page_content",canSelect:!0,canDrag:!1,shouldShowHalo:!1,children:[(0,Q.jsx)(to,{state:i,selectedTabType:o}),(0,Q.jsx)("div",{style:y.list,children:(0,Q.jsx)(v().A,{store:e.selectedTabStore,placeholder:g,emptyPlaceholder:h,disabled:t,disableCommentMenu:e.disableCommentMenu,disableHoverMenu:e.disableHoverMenu,disableDrag:e.disableDrag})})]},e.selectedTabRootStore.id)}),"summary"===o&&m?(0,Q.jsx)(u().s,{allowSelectionWithin:!1,children:(0,Q.jsx)(zt,{state:i,store:n})}):null]})}function to(e){const{state:t,selectedTabType:n}=e,o=(0,r().K8)((()=>n?"summary"!==n||"summarizing"!==t.state||"thinking"!==t.step?[]:t.thinkingSteps??[]:[]),[t,n]),i=(0,a().IS)((e=>({list:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:12,fontSize:14,fontWeight:500,color:e.text.primary,padding:0,marginBottom:0}})),[]);return 0===o.length?null:(0,Q.jsx)("ul",{style:i.list,children:o.map(((e,t)=>(0,Q.jsx)(no,{step:e,isLast:t===o.length-1},e)))})}function no(e){const{step:t,isLast:n}=e,o=(0,a().IS)((e=>({container:{display:"flex",flexDirection:"row",gap:8,alignItems:"center"},text:{color:e.text.tertiary},spinner:{marginLeft:2,marginRight:2}})),[]),i=n?(0,Q.jsx)(g().A,{legacySize:16,style:o.spinner}):(0,Q.jsx)(h().I,{icon:l().checkmarkCircleFillIcon,color:"uiBluePrimary"});return(0,Q.jsxs)("div",{style:o.container,children:[i,(0,Q.jsx)("span",{style:o.text,children:t})]})}Qn.displayName="TranscriptionBlockImpl";const oo=o.memo(o.forwardRef(((e,t)=>(0,Q.jsx)(Qn,{...e,ref:t}))))},219322:(e,t,n)=>{n.d(t,{U:()=>s,t:()=>l});var o=()=>n(174114),i=()=>n(752903),r=()=>n(31448),a=()=>n(755786);const s={[i().NY.ExtremeSmall]:{height:16,fontSize:12,margin:"0 4px 0 0",recordIconMarginRight:3,pageIconSize:13,closeIconSize:8},[i().NY.ExtraSmall]:{height:16,fontSize:12,margin:"0 4px 0 0",recordIconMarginRight:3,pageIconSize:13,closeIconSize:8},[i().NY.Small]:{height:18,fontSize:12,margin:"0 6px 6px 0",recordIconMarginRight:3,pageIconSize:16,closeIconSize:8},[i().NY.CompactEssential]:{height:20,fontSize:14,margin:"0 12px 6px 0",recordIconMarginRight:4,pageIconSize:20,closeIconSize:8},[i().NY.Medium]:{height:20,fontSize:14,margin:"0 12px 6px 0",recordIconMarginRight:4,pageIconSize:20,closeIconSize:8},[i().NY.Inline]:{height:20,fontSize:14,margin:"0 12px 0 0",recordIconMarginRight:4,pageIconSize:20,closeIconSize:8},[i().NY.Large]:{height:24,fontSize:16,margin:"0 8px 8px 0",recordIconMarginRight:4,pageIconSize:24,closeIconSize:10}};function l(e){let{format:t,shouldShrink:n,shouldWrap:l,isSingle:d,style:u,clickTitleBehavior:p}=e;const m="edit"===p;return(0,o().IS)((()=>{const{fontSize:e,margin:o}=s[t],p=m?a().d0:s[t].height;return{style:{...l?{display:"inline",lineHeight:1.5,borderRadius:4}:c({height:p}),fontSize:e,fontWeight:r().Wy.medium,minWidth:n?0:"auto",margin:d?0:o,...t===i().NY.Inline&&{overflow:"hidden"},...u}}}),[t,n,l,d,m,u])}function c(e){let{height:t}=e;return{display:"flex",alignItems:"center",lineHeight:1.2,height:t}}},263873:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>o,plusSmallIcon:()=>i});n(242343);const o={viewBox:"0 0 16 16",svg:(0,n(163643).jsx)("path",{d:"M8 2.74a.66.66 0 0 1 .66.66v3.94h3.94a.66.66 0 0 1 0 1.32H8.66v3.94a.66.66 0 0 1-1.32 0V8.66H3.4a.66.66 0 0 1 0-1.32h3.94V3.4A.66.66 0 0 1 8 2.74"})},i=(0,n(680369).wt)("plusSmall",o)},277013:(e,t,n)=>{n.d(t,{$:()=>c,S:()=>d});var o=()=>n(803290),i=()=>n(174114),r=()=>n(782422),a=()=>n(48913),s=()=>n(755648),l=()=>n(566255);function c(e){const{environment:t,rightEdgeDistance:n,isInPeekRenderer:c}=e,u=e.width??36,p=(0,o().K8)((()=>(0,a().zo)(t,c)-(0,a().Ql)(t)),[t,c]),m=(0,o().K8)((()=>d(t,16+s().A.state)),[t]),g=(0,o().K8)((()=>n+s().A.state),[n]),f=(0,o().K8)((()=>r().$o.state?0:1),[]);return(0,i().IS)((e=>({buttonPositionStyle:{display:"flex",position:"absolute",bottom:m,right:g,opacity:f,transform:`translateX(-${p}px) translateZ(0)`,transition:`\n\t\t\t\t\topacity ${l().L}ms,\n\t\t\t\t\tcolor ${l().L}ms,\n\t\t\t\t\ttransform 200ms\n\t\t\t\t`,alignItems:"center",gap:10},roundButtonStyle:{display:"flex",alignItems:"center",justifyContent:"center",background:e.whiteButtonBackground,width:u,height:u,borderRadius:"100%",fontSize:20,boxShadow:e.shadowSM}})),[p,m,g,u,f])}function d(e,t){return e.WindowSizeStore.getSafePaddingBottomCSS(t+(e.device.isTablet?-12:0))}},286270:(e,t,n)=>{n.d(t,{E:()=>a});var o=n(242343),i=()=>n(81e4),r=n(163643);const a=o.forwardRef(((e,t)=>{let{children:o,color:a,disabled:s,icon:l,iconStyle:c,isLoading:d,shape:u="default",size:p="md",style:m,...g}=e;const f=(0,n(174114).IS)((e=>{const t=a?`${a}Primary`:"primary",r=a||"regular",g=a?`${a}Hover`:"primaryHover",f=a?`${a}Pressed`:"primaryPressed";return{button:{...(0,i().qq)({shape:u,size:p,hasIconOnly:Boolean(l)&&!o}),justifyContent:"center",color:e.text[t],background:e.tint[r],opacity:s||d?.3:1,fontWeight:n(31448).Wy.medium,...m},hovered:{background:s?e.tint[r]:e.tint[g]},pressed:{background:s?e.tint[r]:e.tint[f]},icon:{...(0,i().D3)({size:p,hasIconOnly:!o}),...c}}}),[o,a,s,l,c,d,u,p,m]);return(0,r.jsxs)(n(417653).A,{ref:t,style:f.button,hoveredStyle:f.hovered,pressedStyle:f.pressed,disabled:s,isLoading:d,...g,children:[l?l(f.icon):null,o]})}));a.displayName="TintButton"},305168:(e,t,n)=>{n.d(t,{A:()=>r});var o=()=>n(437071);class i extends(()=>n(129044))().default{getInitialState(){return{isFullScreen:window.outerWidth===window.screen.width&&window.outerHeight===window.screen.height}}constructor(){super(),this.updateFromElectronState=async()=>{const e=await o().fullscreen.get();void 0!==e&&this.setState({isFullScreen:e})},o().fullscreen.addListener(this.updateFromElectronState),this.updateFromElectronState()}}const r=new i},305948:(e,t,n)=>{n.d(t,{eJ:()=>f,ew:()=>g,ml:()=>d,rA:()=>p,yI:()=>m,zf:()=>u});n(403517);var o=()=>n(975392),i=()=>n(76394),r=()=>n(61014),a=()=>n(86335),s=()=>n(479056),l=()=>n(465546);function c(e){switch(e){case"checkbox":return"boolean";case"number":return"number";case"text":return"text";case"date":return"date";case"array":return"array";case"block":return"block";case"person":return"person";case"select":return"select";case"function":return"function";case"unknown":return"unknown";case"undefined":return"undefined";default:(0,i().HB)(e)}}function d(e){switch(e.type){case s().M9.InvalidCharacter:return{...a().x0.InvalidCharacter,values:{errorCharacter:e.character}};case s().M9.UnclosedStringLiteral:return a().x0.UnclosedStringLiteral;case s().M9.UnclosedComment:return a().x0.UnclosedComment;case s().M9.TokenExpected:return{...a().x0.TokenExpected,values:{expectedToken:e.token}};case s().M9.StringLiteralContainsToken:return a().x0.StringLiteralContainsToken;case s().M9.ExpressionExpected:return a().x0.ExpressionExpected;case s().M9.PropertyTokenOrFunctionExpected:return a().x0.PropertyTokenOrFunctionExpected;case s().M9.EndOfInputExpected:return a().x0.EndOfInputExpected;case s().M9.UnexpectedError:return a().x0.UnexpectedError;case s().M9.TooDeeplyNested:return a().x0.TooDeeplyNested;default:(0,i().HB)(e)}}function u(e){switch(e.type){case s().IA.FunctionCallArgumentWrongType:case s().IA.FunctionCallUnexpectedArgument:return e.argument;default:return e.node}}function p(e,t){let n;switch(t.type){case s().IA.ThisRowTypeNotFound:n=a().Xz.ThisRowTypeNotFound;break;case s().IA.ThisRowNotBlockWithCollection:n=a().Xz.ThisRowNotBlockWithCollection;break;case s().IA.MissingPropertyOnThisRow:n={...a().Xz.MissingPropertyOnThisRow,values:{propertyName:t.property}};break;case s().IA.MissingContextVariable:{const e=(0,l().ix)(t.token)?t.token.contextValueId:t.token.valueId;n={...a().Xz.MissingContextVariable,values:{valueId:e}}}break;case s().IA.MissingBlock:n={...a().Xz.MissingBlock,values:{blockId:t.token.blockId}};break;case s().IA.CallingNotFunction:n={...a().Xz.CallingNotFunction,values:{expressionType:c(t.callee.type.type)}};break;case s().IA.FunctionCallTooFewArguments:n={...a().Xz.FunctionCallTooFewArguments,values:{minNumParameters:t.minNumParameters,functionName:t.libraryFunction.name,numArguments:t.numArguments}};break;case s().IA.FunctionCallUnexpectedArgument:n={...a().Xz.FunctionCallUnexpectedArgument,values:{functionName:t.libraryFunction.name}};break;case s().IA.FunctionCallArgumentWrongType:n={...a().Xz.FunctionCallArgumentWrongType,values:{argumentType:c(t.argument.type.type),functionName:t.libraryFunction.name}};break;case s().IA.MemberPropertyMismatchCollection:n={...a().Xz.MemberPropertyMismatchCollection,values:{propertyName:t.token.property}};break;case s().IA.MemberPropertyMissing:n={...a().Xz.MemberPropertyMissing,values:{propertyName:t.property}};break;case s().IA.MemberPropertyTargetNotBlock:n=a().Xz.MemberPropertyTargetNotBlock;break;case s().IA.MemberPropertyTypeInvalid:n={...a().Xz.MemberPropertyTypeInvalid,values:{propertyName:t.propertyName,propertyType:t.propertyType}};break;case s().IA.UndefinedIdentifier:n={...a().Xz.UndefinedIdentifier,values:{identifier:t.node.text}};break;case s().IA.UnifiedFunctionCannotFindFunction:n={...a().Xz.UnifiedFunctionCannotFindFunction,values:{functionName:t.name}};break;case s().IA.UnifiedFunctionNoArguments:n={...a().Xz.UnifiedFunctionNoArguments,values:{functionName:t.libraryFunction.name}};break;case s().IA.UnifiedFunctionTargetWrongType:n={...a().Xz.UnifiedFunctionTargetWrongType,values:{functionName:t.libraryFunction.name,targetType:c(t.expression.type.type)}};break;case s().IA.CannotRelativelyCompareTypes:n={...a().Xz.CannotRelativelyCompareTypes,values:{lhsType:c(t.lhsType.type),rhsType:c(t.rhsType.type)}};break;case s().IA.CannotDoMathOnType:n={...a().Xz.CannotDoMathOnType,values:{lhsType:c(t.lhsType.type),rhsType:c(t.rhsType.type)}};break;case s().IA.UnaryMinusOnNonNumber:n={...a().Xz.UnaryMinusOnNonNumber,values:{type:c(t.expression.type.type)}};break;case s().IA.IdentifierExpected:n=a().Xz.IdentifierExpected;break;case s().IA.FunctionCallExpected:n={...a().Xz.FunctionCallExpected,values:{functionName:t.functionName}};break;case s().IA.RenamedIdentifier:n={...a().Xz.RenamedIdentifier,values:{identifier:t.identifier,renamedTo:t.renamedTo}};break;case s().IA.RemovedFunction:n={...a().Xz.RemovedFunction,values:{functionName:t.functionName,alternative:t.alternative}};break;case s().IA.ContextVariableNotBlockWithCollection:n={...a().Xz.ContextVariableNotBlockWithCollection,values:{valueId:t.token.contextValueId}};break;case s().IA.MissingPropertyOnContextVariable:n={...a().Xz.MissingPropertyOnContextVariable,values:{propertyName:t.property,valueId:t.token.contextValueId}};break;case s().IA.BlockPropertyTypeInvalid:n={...a().Xz.BlockPropertyTypeInvalid,values:{propertyName:t.propertyName}};break;case s().IA.DisallowedReturnType:{const o=t.allowedReturnTypes.map((t=>e.formatMessage((0,r().getHumanReadableType)(t)).toLocaleLowerCase()));n={...a().Xz.DisallowedReturnType,values:{allowedReturnType:e.formatList(o,{style:"long",type:"conjunction"}),allowedReturnTypeCount:t.allowedReturnTypes.length,returnType:e.formatMessage((0,r().getHumanReadableType)(t.returnType)).toLocaleLowerCase()}};break}case s().IA.CrossSpacePropertyNotSupported:n={...a().Xz.CrossSpacePropertyNotSupported};break;default:(0,i().HB)(t)}return{...n,values:{...n.values,startOffset:t.node.startOffset,endOffset:t.node.endOffset+1}}}function m(e,t){let n;switch(t.type){case s().uW.MissingThisRow:n=a().X8.MissingThisRow;break;case s().uW.MissingSchemaPropertyOnThisRow:n={...a().X8.MissingSchemaPropertyOnThisRow,values:{propertyName:t.property}};break;case s().uW.ThisRowBlockPropertyMismatchCollection:n=a().X8.ThisRowBlockPropertyMismatchCollection;break;case s().uW.MissingContextVariable:n={...a().X8.MissingContextVariable,values:{valueId:t.valueId}};break;case s().uW.IdentifierNotFound:n={...a().X8.IdentifierNotFound,values:{identifier:t.node.text}};break;case s().uW.CannotRelativelyCompareTypes:n={...a().X8.CannotRelativelyCompareTypes,values:{lhsType:c(t.lhsType),rhsType:c(t.rhsType)}};break;case s().uW.CannotDoMathOnType:n={...a().X8.CannotDoMathOnType,values:{valueType:c(t.valueType)}};break;case s().uW.CannotCallNonFunction:n={...a().X8.CannotCallNonFunction,values:{calleeType:c(t.calleeType)}};break;case s().uW.UnifiedFunctionPropertyNotFound:n={...a().X8.UnifiedFunctionPropertyNotFound,values:{functionName:t.node.name}};break;case s().uW.LibraryFunctionExecutionError:const o=t.error instanceof s().x4?t.error:void 0;n=(null==o?void 0:o.info.type)===s().v3.DateInvalidDurationUnit?{...a().gW.DateInvalidDurationUnit,values:{functionName:t.libraryFunction.name,invalidUnit:o.info.invalidUnit}}:(null==o?void 0:o.info.type)===s().v3.CannotUseToNumberOnList?{...a().gW.CannotUseToNumberOnList}:(null==o?void 0:o.info.type)===s().v3.CannotRoundToNonInteger?{...a().gW.CannotRoundToNonInteger,values:{precision:o.info.precision}}:(null==o?void 0:o.info.type)===s().v3.CannotRoundToTooManyDecimalPlaces?{...a().gW.CannotRoundToTooManyDecimalPlaces,values:{precision:o.info.precision}}:{...a().X8.LibraryFunctionExecutionError,values:{functionName:t.libraryFunction.name}};break;case s().uW.FunctionCallTooFewArguments:n={...a().X8.FunctionCallTooFewArguments,values:{functionName:t.libraryFunction.name}};break;case s().uW.FunctionCallUnexpectedArgument:n={...a().X8.FunctionCallUnexpectedArgument,values:{functionName:t.libraryFunction.name}};break;case s().uW.FunctionCallArgumentWrongType:n={...a().X8.FunctionCallArgumentWrongType,values:{functionName:t.libraryFunction.name,argumentType:c(t.argumentType)}};break;case s().uW.AccessingPropertyOnNonBlock:n=a().X8.AccessingPropertyOnNonBlock;break;case s().uW.MissingDataDependencyBlock:n={...a().X8.MissingDataDependencyBlock,values:{blockId:t.blockPointer.id}};break;case s().uW.MissingDataDependencyPerson:n={...a().X8.MissingDataDependencyPerson,values:{personId:t.personPointer.id}};break;case s().uW.MemberPropertyMismatchCollection:n=a().X8.MemberPropertyMismatchCollection;break;case s().uW.MissingPropertyOnSchemaForMemberProperty:n=a().X8.MissingPropertyOnSchemaForMemberProperty;break;case s().uW.UnaryMinusOnNonNumber:n={...a().X8.UnaryMinusOnNonNumber,values:{expressionType:c(t.expressionType)}};break;case s().uW.UnexpectedRecoveryNode:n=a().X8.UnexpectedRecoveryNode;break;case s().uW.UnexpectedError:n=a().X8.UnexpectedError;break;case s().uW.DepthExceeded:n=a().X8.DepthExceeded;break;case s().uW.CycleDetected:n=a().X8.CycleDetected;break;case s().uW.DownstreamParseFailure:n=a().X8.DownstreamParseFailure;break;case s().uW.MaxEvaluationTimeExceeded:n=a().X8.MaxEvaluationTimeExceeded;break;case s().uW.MissingSchemaPropertyOnCollection:n={...a().X8.MissingSchemaPropertyOnCollection,values:{collectionId:t.collectionId,propertyName:t.property}};break;case s().uW.ContextVariableWrongType:n={...a().X8.ContextVariableWrongType,values:{expectedType:t.expectedType,propertyType:t.resultType,valueId:t.valueId}};break;case s().uW.DisallowedValueType:{const o=t.allowedValueTypes.map((t=>e.formatMessage((0,r().getHumanReadableType)(t)).toLocaleLowerCase()));n={...a().Xz.DisallowedReturnType,values:{allowedValueType:e.formatList(o,{style:"long",type:"conjunction"}),allowedValueTypeCount:t.allowedValueTypes.length,valueType:e.formatMessage((0,r().getHumanReadableValueType)(t.expressionValue)).toLocaleLowerCase()}};break}default:(0,i().HB)(t)}return(0,l().li)(t)?{...n,values:{...n.values,startOffset:t.node.startOffset,endOffset:t.node.endOffset+1}}:n}function g(e){const t=null==e?void 0:e.values;return[o().cJ(e,"values"),t]}function f(e){return e.type===s().uW.DepthExceeded||e.type===s().uW.CycleDetected||e.type===s().uW.MaxEvaluationTimeExceeded||e.type===s().uW.LibraryFunctionExecutionError}},308439:(e,t,n)=>{n.r(t),n.d(t,{exclamationMarkTriangleIcon:()=>r,iconDefinition:()=>i});n(242343);var o=n(163643);const i={viewBox:"0 0 20 20",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M9.875 6.75c.345 0 .625.28.625.625v3.5a.625.625 0 1 1-1.25 0v-3.5c0-.345.28-.625.625-.625m0 7.375a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5"}),(0,o.jsx)("path",{d:"M8.16 3.563c.818-1.417 2.863-1.417 3.68 0l5.846 10.125c.818 1.416-.204 3.187-1.84 3.187H4.155c-1.636 0-2.659-1.77-1.84-3.187zm2.598.624a.875.875 0 0 0-1.516 0L3.397 14.313a.875.875 0 0 0 .758 1.313h11.69a.875.875 0 0 0 .759-1.312z"})]})},r=(0,n(680369).wt)("exclamationMarkTriangle",i)},309968:(e,t,n)=>{n.d(t,{A:()=>i});class o extends(()=>n(129044))().default{}const i=new o},326259:(e,t,n)=>{n.d(t,{OH:()=>s,T2:()=>l,do:()=>c});var o=()=>n(871002),i=()=>n(846581),r=()=>n(16456),a=()=>n(427091);function s(e){const{dateTime:t,intl:n,shortenDateAndRange:o}=e,a=r().C6.toPersistedDate(t.valueOf());return i().ZF({value:a,allowRelativeDates:!0,intl:n,shortenDateAndRange:o,displayInUserTimezone:!0})}function l(e){const{dateTime:t,intl:n,userTimeZone:o,displayInUserTimezone:a,alwaysIncludeTimezone:s}=e,l=r().C6.toPersistedDateTime(t.valueOf(),t.zoneName);return i().ZF({value:l,allowRelativeDates:!0,intl:n,userTimeZone:o,displayInUserTimezone:a,alwaysIncludeTimezone:s})}function c(e){const{luxonRange:t,intl:n}=e,s=r().C6.toPersistedDateRange(t),l=i().ZF({value:s,allowRelativeDates:!1,shortenDateAndRange:!0,intl:n,displayInUserTimezone:!0}),c=t.end.setZone((0,a().P)()),d=i().fU({start_time:c.toFormat(o().GE),humanReadable:!1,intl:n});return n.formatMessage({id:"verification.timeRange",defaultMessage:"{formattedDateRange} at {formattedEndTime}"},{formattedDateRange:l,formattedEndTime:d})}},367950:(e,t,n)=>{function o(e){return`${e.table}:${e.id}`}n.d(t,{_:()=>o})},373023:(e,t,n)=>{n.d(t,{$y:()=>b,jc:()=>v,x9:()=>y});n(242343);var o=()=>n(237385),i=()=>n(803290),r=()=>n(945335),a=()=>n(808263),s=()=>n(653998),l=()=>n(336519),c=()=>n(206799),d=()=>n(137476),u=()=>n(548694),p=()=>n(309968),m=()=>n(837141),g=()=>n(613313),f=()=>n(525263),h=n(163643);function y(){const e=(0,i().K8)((()=>{const{editsBlocked:e}=m().A.state;return e??!1}),[]),t=(0,o().v3)();return(0,i().K8)((()=>(0,g().Jq)(t)),[t])&&e}function v(){return(0,i().K8)((()=>{var e;const t=p().A.state;return null==t||null===(e=t.data)||void 0===e?void 0:e.invoiceHostedUrl}),[])}function b(){const e=(0,o().v3)(),t=v(),n=(0,i().K8)((()=>{var e;const t=p().A.state;return(null==t||null===(e=t.data)||void 0===e?void 0:e.overdueInvoiceCount)??0}),[]),d=(0,i().K8)((()=>(0,u().s7)(e)),[e]),m=function(e,t){if(e)return t>1?(0,h.jsx)(s().sA,{defaultMessage:"Access to Notion is limited because we couldn’t process {overdueInvoiceCount, plural, one {your last payment} other {{overdueInvoiceCount} payments}}.",id:"uncollectibleExperience.uncollectibleExperienceOverlay.multipleInvoicesMessageContent",values:{overdueInvoiceCount:t}}):(0,h.jsx)(s().sA,{defaultMessage:"Access to Notion is limited because we couldn’t process your last payment",id:"uncollectibleExperience.uncollectibleExperienceOverlay.messageContent"});return(0,h.jsx)(s().sA,{id:"uncollectibleExperience.uncollectibleExperienceOverlay.memberMessageContent",defaultMessage:"Access to Notion is limited"})}(d,n),g=function(e){if(e)return;return(0,h.jsx)(s().sA,{id:"uncollectibleExperience.uncollectibleExperienceOverlay.memberSecondaryLabel",defaultMessage:"Contact a workspace owner to update your workspace’s payment method"})}(d),y=function(e,t,n){if(t){const o=(0,f().a)(n);return n=>{o&&(x(t,e),o(n))}}return n=>{x(t,e),l().Ow()}}(e,d,t),b=function(e){if(e)return(0,h.jsx)(s().sA,{defaultMessage:"View unpaid invoice",id:"uncollectibleExperience.uncollectibleExperienceOverlay.buttonLabel"});return(0,h.jsx)(s().sA,{id:"uncollectibleExperience.uncollectibleExperienceOverlay.memberButtonLabel",defaultMessage:"View workspace owner"})}(d),S=function(e){if(e)return(0,h.jsx)(c().Q,{iconGroup:r().i,variantName:"default",colorName:"primary"});return(0,h.jsx)(c().Q,{iconGroup:a()._,variantName:"default",colorName:"primary"})}(d);return{clickAction:y,ctaMessage:b,primaryMessage:m,secondaryMessage:g,ctaIcon:S,tooltipBodyMessage:d?b:g,isWorkspaceOwner:d,overdueInvoiceCount:n}}function x(e,t){(0,d().u4)({environment:t,event:{eventName:"subscription_uncollectible_blurred_experience_cta_clicked",eventProperties:{is_workspace_owner:e}}})}},377403:(e,t,n)=>{n.d(t,{W:()=>r});var o=()=>n(803290),i=()=>n(950347);function r(){return(0,o().K8)((()=>(0,i().M5)()),[])}},388732:(e,t,n)=>{n.d(t,{l:()=>i});n(242343);var o=n(163643);const i=(0,n(680369).wt)("closeThick",{viewBox:"0 0 8 8",svg:(0,o.jsx)("polygon",{points:"8 1.01818182 6.98181818 0 4 2.98181818 1.01818182 0 0 1.01818182 2.98181818 4 0 6.98181818 1.01818182 8 4 5.01818182 6.98181818 8 8 6.98181818 5.01818182 4"})})},399631:(e,t,n)=>{n.d(t,{Y:()=>a});var o=n(242343),i=()=>n(709237),r=n(163643);function a(e){const{blockStore:t,shouldWrap:n,titleStyle:a,recordTitleRef:s,noUnderline:l,disableTooltip:c}=e,d=(0,o.useRef)({getNode:()=>s.current});return(0,r.jsx)(i().A,{store:t,underline:!l,shouldWrap:n,style:a,ref:d,enableHover:!0,showTooltipWhenTruncated:!0,disableTooltip:c})}},415806:(e,t,n)=>{n.d(t,{Ay:()=>y,t_:()=>v,v7:()=>b});n(242343);var o=()=>n(237385),i=()=>n(803290),r=()=>n(950635),a=()=>n(752903),s=()=>n(76394),l=()=>n(413871),c=()=>n(888575),d=()=>n(951156),u=()=>n(151258),p=()=>n(732165),m=()=>n(482570),g=n(163643);function f(e){const t=(0,o().v3)(),{actor:n,format:r,hasTooltip:f,tooltipHeader:y}=e,v=(0,i().K8)((()=>{const e=n.asActor;return e&&l().sk.createUniqueRootStore(t,e.pointer)}),[n,t]);return(0,g.jsx)(u().Ay,{...e,renderAvatar:e=>{if(v)return v instanceof l().vK?r===a().NY.Inline?(0,g.jsx)(d().A,{botStore:v,size:e,style:h}):(0,g.jsx)(c().A,{botStore:v,avatarSize:e,inline:!0,style:h}):v instanceof l().LU?r===a().NY.Inline?(0,g.jsx)(m().A,{userStore:v,size:e,avatarShouldShowShadow:!0,hasTooltip:f??!0,style:h,tooltipHeader:y}):(0,g.jsx)(p().A,{userStore:v,avatarSize:e,inline:!0,hasTooltip:f,style:h,tooltipHeader:y}):void(v instanceof l().pH||(0,s().HB)(v))}})}const h={minWidth:0};f.Format=a().NY;const y=f;function v(e){const{userValue:t,...n}=e;return(0,g.jsx)(f,{actor:(0,r().MR)(t),...n})}function b(e){const{botValue:t,...n}=e;return(0,g.jsx)(f,{actor:(0,r().oC)(t),...n})}v.Format=u().mI,b.Format=u().mI},433364:(e,t,n)=>{n.d(t,{KD:()=>c,gt:()=>d,i9:()=>l,ll:()=>a,tb:()=>s,x$:()=>r});var o=()=>n(612408),i=()=>n(975392);function r(e,t){return a(d(e,t))}function a(e){return void 0!==e&&(e===o().q_||e===o().YD)}function s(e,t){if(a(t))return;const n=o().c$[e],i=n.steps.findIndex((e=>e.id===t));return-1===i?n.steps[0].id:i===n.steps.length-1?o().q_:n.steps[i+1].id}function l(e,t){const n=d(e,t);if(n&&!a(n))return s(t,n)}function c(e,t){const n=d(e,t);if(n)return function(e,t){const n=o().c$[e];var r;if(a(t))return null===(r=(0,i().HV)(n.steps))||void 0===r?void 0:r.id;const s=n.steps.findIndex((e=>e.id===t));return-1!==s&&0!==s?n.steps[s-1].id:void 0}(t,n)}function d(e,t){var n;if(!e)return;const i=((null===(n=e.getSettings())||void 0===n?void 0:n.tutorials)||{})[t];return void 0===i?o().c$[t].steps[0].id:i}},470414:(e,t,n)=>{n.d(t,{A:()=>d});n(725707),n(491955),n(403517),n(229032);var o=n(242343),i=()=>n(174114),r=()=>n(755002),a=()=>n(31448),s=()=>n(551116),l=n(163643);function c(e){const{button:t,isLast:n}=e,s=(0,i().IS)((e=>({button:{display:"flex",alignItems:"center",padding:"4px 6px",fontWeight:a().Wy.medium,borderRight:`1px solid ${e.regularDividerColor}`,color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor},buttonLast:{borderRight:"none"},buttonHovered:{background:e.whiteButtonHoveredBackground},buttonPressed:{background:e.whiteButtonPressedBackground}})),[]);return o.cloneElement(t,{...(0,r().AH)(t.props.style,s.button,n&&s.buttonLast),hoveredStyle:(0,r().AH)(s.buttonHovered,n&&s.buttonLast).style,pressedStyle:s.buttonPressed})}const d=function(e){let{children:t,isVisible:d,position:u,style:p}=e;const m=(0,n(237385).v3)(),g=(0,i().IS)((e=>({container:{color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor,fontSize:12,background:e.whiteButtonBackground,boxShadow:e.shadowSM,display:"flex",whiteSpace:"nowrap",borderRadius:s().A.borderRadius,maxWidth:"calc(100% - 16px)",minHeight:24,overflow:"hidden",pointerEvents:m.device.isMobile?"auto":"none",opacity:m.device.isMobile?1:0,fontFamily:a().vc(n(16791).locale).sans,position:"absolute",right:s().A.horizontal.small,bottom:s().A.vertical.small,zIndex:2},containerHover:{pointerEvents:"auto",opacity:1},containerTop:{top:s().A.vertical.small,bottom:void 0}})),[m]),f=o.Children.toArray(t).filter(n(76394).O9),h=f.length;return(0,l.jsx)(n(615917).A,{animate:{opacity:d?1:0},...(0,r().AH)(g.container,p,d&&g.containerHover,"top"===u&&g.containerTop),children:f.map(((e,t)=>{const i=t===h-1;if(e&&"object"==typeof e&&"type"in e){if(e.type===n(103151).A&&o.isValidElement(e))return o.cloneElement(e,{render:(t,n)=>{const o=e.props.render(t,n);return(0,l.jsx)(c,{isLast:i,button:o},e.key)}});if(e.type===n(126451).A&&o.isValidElement(e))return(0,l.jsx)(c,{isLast:i,button:e},e.key)}}))})}},472951:(e,t,n)=>{n.d(t,{k:()=>i});n(403517);class o extends(()=>n(129044))().default{getInitialState(){}waitUntilLoaded(){return this.waitUntil((()=>Boolean(this.state)))}getSortedUserIds(){return Object.entries(this.state||{}).sort(((e,t)=>{let[n,o]=e,[i,r]=t;return r-o})).map((e=>{let[t,n]=e;return t}))}}const i=new o;(0,n(996094).exposeDebugValue)("UserSimilarityStore",i)},473096:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(242343),i=()=>n(174114),r=()=>n(162339),a=()=>n(966789),s=n(163643);function l(e){let{loadingMessage:t}=e;const n=(0,i().DP)(),l=(0,r().A)(!0,400);return(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:l&&(0,s.jsxs)(o.Fragment,{children:[(0,s.jsx)(a().A,{}),t&&(0,s.jsx)("div",{style:{marginLeft:8,color:n.text.secondary},children:t})]})})}},477267:(e,t,n)=>{n.r(t),n.d(t,{deleteViewsModuleDependencies:()=>a});var o=()=>n(496580),i=()=>n(795394),r=()=>n(413871);function a(e){const{layoutStore:t,viewsModule:n,transaction:a}=e,s=(0,o().o9)(r().Bv.createChildStore(t,n.collection_view_block_pointer));i().zz({childStore:s,parentStore:t,transaction:a})}},501578:(e,t,n)=>{n.d(t,{j:()=>d});var o=n(242343),i=()=>n(237385),r=()=>n(174114),a=()=>n(31448),s=()=>n(103151);var l=()=>n(907721),c=n(163643);function d(e){let{children:t,style:n,tooltipStyle:d,placement:u=l().W.Bottom}=e;const{isSafari:p}=(0,i().Y0)(),m=(0,o.useRef)(null),g=function(e){const[t,n]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{const{current:t}=e;if(!t)return void n(!1);const o="ResizeObserver"in window?new ResizeObserver((e=>{let[t]=e;n(t.target.scrollWidth>t.target.clientWidth)})):void 0;return null==o||o.observe(t),()=>null==o?void 0:o.unobserve(t)}),[]),t}(m),f=(0,r().IS)((()=>({overflowText:{...a().RC,...n}})),[n]);return(0,c.jsx)(s().A,{delayThreshold:500,placement:u,textWrap:!0,style:d,forceVisibleState:!(p||!g)&&void 0,renderTooltip:()=>g?t:void 0,render:e=>(0,c.jsx)("div",{ref:m,style:f.overflowText,...e,children:t})})}},531367:(e,t,n)=>{function o(e){let t,n,o;return async function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t?(o=r,n||(n=t.then((()=>(n=void 0,t=e(...o),t))),n)):(t=e(...r),t)}}n.d(t,{A:()=>o})},533666:(e,t,n)=>{n.d(t,{Y:()=>i});n(242343);const o={viewBox:"0 0 16 16",svg:(0,n(163643).jsx)("path",{d:"M3.2 6.725a1.275 1.275 0 1 0 0 2.55 1.275 1.275 0 0 0 0-2.55m4.8 0a1.275 1.275 0 1 0 0 2.55 1.275 1.275 0 0 0 0-2.55m4.8 0a1.275 1.275 0 1 0 0 2.55 1.275 1.275 0 0 0 0-2.55"})},i=(0,n(680369).wt)("ellipsisSmall",o)},543127:(e,t,n)=>{function o(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,{A:()=>o})},569434:(e,t,n)=>{n.d(t,{I:()=>S,i:()=>T});var o=n(242343),i=()=>n(237385),r=()=>n(803290),a=()=>n(174114),s=()=>n(862279),l=()=>n(680369),c=()=>n(653998),d=()=>n(782422),u=()=>n(983050),p=()=>n(667801),m=()=>n(440588),g=()=>n(907721),f=()=>n(216273),h=()=>n(615917),y=()=>n(356813),v=()=>n(151835),b=()=>n(103151),x=n(163643);function S(e){const t=(0,i().v3)(),n=(0,i().Y0)(),o=(0,c().tz)(),a=(0,r().O$)(m().sidebarMouseEnteredStore),l=(0,r().O$)(f().b),u=(0,r().O$)(d().$o),g=o.formatMessage({defaultMessage:"Close sidebar",id:"sidebarUnexpandButton.closeSidebar.tooltip"}),h=(!n.isElectronMac||!u)&&!l&&a;return(0,x.jsx)(T,{isVisible:h,icon:s().S,caption:g,onClick:()=>{p().closeSidebarFromTopbarUnexpandButton(t)},keyboardShortcutName:"toggleSidebar",style:e.style,hoveredStyle:e.hoveredStyle})}const k={width:l().Ev.lg,height:l().Ev.lg,fill:"inherit"};function T(e){const t=(0,i().Y0)(),n=(0,a().IS)((e=>({keyboardShortcut:{color:e.text.contrastSecondary},button:{fill:e.mediumIconColor}})),[]),r=(0,o.useMemo)((()=>({position:"relative",marginLeft:10,...t.isMobile&&{height:"100%"},...n.button,...e.style})),[e.style,n.button,t.isMobile]);return(0,x.jsx)(b().A,{renderTooltip:()=>(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{children:e.caption}),e.keyboardShortcutName&&(0,x.jsx)(v().A,{style:n.keyboardShortcut,name:e.keyboardShortcutName})]}),originGap:6,placement:t.isElectron?g().W.Right:g().W.Bottom,render:n=>(0,x.jsx)(h().A,{tag:y().A,animate:{opacity:e.isVisible?1:0},ariaLabel:e.caption,disabled:!e.isVisible,icon:e.icon,style:r,hoveredStyle:e.hoveredStyle,iconStyle:k,mobileFeedback:t.isMobile,onClick:e.onClick,className:u().P7S,...n})})}},575681:(e,t,n)=>{n.d(t,{_:()=>i});n(242343);var o=n(163643);const i=(0,n(680369).wt)("chevronDownRounded",{viewBox:"0 0 15 9",svg:(0,o.jsx)("path",{d:"M7.92188 8.65625C8.19531 8.64844 8.44531 8.54688 8.64844 8.32812L14.5859 2.25C14.7578 2.07812 14.8516 1.85938 14.8516 1.60156C14.8516 1.08594 14.4453 0.671875 13.9297 0.671875C13.6797 0.671875 13.4375 0.773438 13.2578 0.953125L7.92969 6.42969L2.58594 0.953125C2.40625 0.78125 2.17188 0.671875 1.91406 0.671875C1.39844 0.671875 0.992188 1.08594 0.992188 1.60156C0.992188 1.85938 1.08594 2.07812 1.25781 2.25L7.20312 8.32812C7.41406 8.54688 7.64844 8.65625 7.92188 8.65625Z"})})},586588:(e,t,n)=>{n.r(t),n.d(t,{dismissTutorial:()=>d,resetTutorials:()=>u,tutorialAdvanceToStep:()=>p,tutorialAdvanceToStepAfter:()=>m,tutorialGoToNextStep:()=>l,tutorialGoToPrevStep:()=>c});var o=()=>n(612408),i=()=>n(84543),r=()=>n(658388),a=()=>n(433364),s=()=>n(485966);function l(e,t){var n;const{currentUserSettingsStore:o}=s().default.state;if(!o)return;const i=null===(n=o.getSettings())||void 0===n?void 0:n.tutorials;g({userAction:"TutorialActions.nextStep",environment:e,perform:e=>{r().mJ({userSettingsStore:o,transaction:e,data:{tutorials:{...i,[t]:(0,a().i9)(o,t)}}})},userId:o.id})}function c(e,t){var n;const{currentUserSettingsStore:o}=s().default.state;if(!o)return;const i=null===(n=o.getSettings())||void 0===n?void 0:n.tutorials;g({userAction:"TutorialActions.prevStep",environment:e,perform:e=>{r().mJ({userSettingsStore:o,transaction:e,data:{tutorials:{...i,[t]:(0,a().KD)(o,t)}}})},userId:o.id})}function d(e,t){var n;const{currentUserSettingsStore:i}=s().default.state;if(!i)return;const a=null===(n=i.getSettings())||void 0===n?void 0:n.tutorials;(null==a?void 0:a[t])!==o().YD&&g({userAction:"TutorialActions.dismissTutorial",environment:e,perform:e=>{r().mJ({userSettingsStore:i,transaction:e,data:{tutorials:{...a,[t]:o().YD}}})},userId:i.id})}function u(e){const{currentUserSettingsStore:t}=s().default.state;t&&g({userAction:"TutorialActions.resetTutorialsDebug",environment:e,perform:e=>{r().mJ({userSettingsStore:t,transaction:e,data:{tutorials:{}}})},userId:t.id})}function p(e,t,n){var i;const{currentUserSettingsStore:l}=s().default.state;if(!l||(0,a().x$)(l,t))return;const c=(0,a().gt)(l,t);o().c$[t].steps.findIndex((e=>e.id===c))>=o().c$[t].steps.findIndex((e=>e.id===n))||r().mJ({userSettingsStore:l,transaction:e,data:{tutorials:{...null===(i=l.getSettings())||void 0===i?void 0:i.tutorials,[t]:n}}})}function m(e,t,n){if((0,a().ll)(n))return;const o=(0,a().tb)(t,n);o&&p(e,t,o)}function g(e){return i().createAndCommit({...e,canUndo:!1})}},601178:(e,t,n)=>{n.d(t,{EG:()=>a,K5:()=>r,RH:()=>i,Yi:()=>s,ls:()=>o});const o=32,i=202,r=1e3,a="Want to add a metric? Look for 'src/client/performanceToolbar/config.ts' in notion-next.",s="To disable the toolbar entirely, go to the 'Experiments' panel and look for the 'performance_debugging_toolbar' flag."},612408:(e,t,n)=>{n.d(t,{YD:()=>r,c$:()=>o,q_:()=>i});const o={"sprints-onboarding":{steps:[{id:"current-sprint-view-tooltip"},{id:"sprint-task-tooltip"},{id:"complete-sprint-button-tooltip"}]},"enhanced-qna-onboarding":{steps:[{id:"find-in-tooltip"},{id:"mention-tooltip"}]},"jira-sync-onboarding":{steps:[{id:"all-projects-tooltip"},{id:"all-issues-tooltip"},{id:"database-views-and-filters-tooltip"},{id:"settings-to-setup-projects-and-issues"}]},"project-management-import-onboarding":{steps:[{id:"your-teamspace-tooltip"},{id:"all-projects-tooltip"},{id:"navigate-to-project-tasks-tooltip"},{id:"project-customization-tooltip"},{id:"related-tasks-database-views-tooltip"}]},"ai-comment-onboarding":{steps:[{id:"ai-comment-onboarding-tooltip"}]}},i="completed",r="dismissed"},617719:(e,t,n)=>{n.r(t),n.d(t,{appendTranscriptionBlockToPage:()=>S,createTranscriptionBlockInNewPage:()=>k});var o=()=>n(486826),i=()=>n(712437),r=()=>n(762847),a=()=>n(871002),s=()=>n(16456),l=()=>n(427091),c=()=>n(34662),d=()=>n(415029),u=()=>n(795394),p=()=>n(191756),m=()=>n(163875),g=()=>n(448316),f=()=>n(84543),h=()=>n(189170),y=()=>n(459742),v=()=>n(216143),b=()=>n(485966),x=()=>n(182613);function S(e){const{environment:t}=e;f().createAndCommit({userAction:"transcriptionNewPageActions.appendTranscriptionBlock",environment:t,canUndo:!0,perform:e=>{(0,h().insertBlockBelow)({environment:t,createBlockItem:y().ry[r().xd.transcription],analyticsFrom:"quick_templates",selection:[],transaction:e})}})}function k(e){const{environment:t,from:n}=e,h=b().default.state.currentSpaceStore,S=b().default.state.currentSpaceViewStore,k=x().default.getCurrentRecordCache();if(!k)return;if(!h||!S)return;const{performResult:{createdPage:T}}=f().createAndCommit({userAction:"transcriptionNewPageActions.createTranscriptionBlockInNewPage",environment:t,canUndo:!0,perform:e=>{const i=m().IT({environment:t,spaceStore:h,spaceViewStore:S,isPrivate:!0,transaction:e});if(i.isType(r().xd.page)){const n=i.getBlockTitleStore(),r=o().c9.now(),d=[c().wmz(c().Ww9({type:"datetime",start_date:r.toFormat(s().tr),start_time:r.toFormat(a().GE),time_zone:(0,l().P)(),date_format:"relative"}),[[c().BQP.Bold]])];g().yr({environment:t,store:n,tokens:d,transaction:e,index:0})}const p=y().ry[r().xd.transcription],f=d().w({environment:t,transaction:e,inMemoryRecordCache:k,from:n,selection:[],createBlockItem:p});return u().NI({childStore:f,parentStore:i,transaction:e}),{createdPage:i}}});p().uK({environment:t,store:T,visitType:v().ig.Link,pageVisitSource:i().y8.Create})}},620408:(e,t,n)=>{n.d(t,{P:()=>i});n(242343);const o={viewBox:"0 0 20 20",svg:(0,n(163643).jsx)("path",{d:"M9.08 3.341a1.625 1.625 0 0 1 1.84 0l5.875 4.035c.441.304.705.805.705 1.34v6.034a2.125 2.125 0 0 1-2.125 2.125h-2.716a1.625 1.625 0 0 1-1.625-1.625v-4.065H8.967v4.065c0 .898-.728 1.625-1.625 1.625H4.625A2.125 2.125 0 0 1 2.5 14.75V8.716c0-.535.264-1.036.705-1.34zm1.132 1.03a.375.375 0 0 0-.424 0L3.913 8.407a.38.38 0 0 0-.163.309v6.034c0 .483.392.875.875.875h2.716a.375.375 0 0 0 .375-.375v-4.19c0-.621.503-1.125 1.125-1.125h2.319c.62 0 1.124.504 1.124 1.125v4.19c0 .207.168.375.375.375h2.716a.875.875 0 0 0 .875-.875V8.716c0-.124-.06-.24-.163-.31z"})},i=(0,n(680369).wt)("home",o)},650964:(e,t,n)=>{n.d(t,{A:()=>a});var o=()=>n(543127),i=()=>n(144656),r=()=>n(662988);function a(e,t){(0,r().A)(2,arguments);var n=(0,i().A)(e),a=(0,o().A)(t),s=n.getFullYear(),l=n.getDate(),c=new Date(0);c.setFullYear(s,a,15),c.setHours(0,0,0,0);var d=function(e){(0,r().A)(1,arguments);var t=(0,i().A)(e),n=t.getFullYear(),o=t.getMonth(),a=new Date(0);return a.setFullYear(n,o+1,0),a.setHours(0,0,0,0),a.getDate()}(c);return n.setMonth(a,Math.min(l,d)),n}},652039:(e,t,n)=>{n.d(t,{Ay:()=>l,Gi:()=>r,Wc:()=>o,pF:()=>a,vS:()=>i});const o="loadingLocalImage",i="uploading",r="downloading",a="loaded";class s extends(()=>n(129044))().default{getInitialState(){return{loadingMode:a}}}const l=s},662988:(e,t,n)=>{function o(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,{A:()=>o})},678523:(e,t,n)=>{n.d(t,{A:()=>s});n(242343);var o=()=>n(237385),i=()=>n(174114),r=()=>n(126451),a=n(163643);function s(e){const t=(0,o().Y0)(),n=(0,i().IS)((e=>({sharedStyle:{display:"flex",alignItems:"center",borderRadius:4},innerStyle:{padding:"2px 6px",borderRadius:4,color:e.text.secondary,background:e.defaultBadgeBackground,fontSize:t.isMobile?11:9,lineHeight:t.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em",whiteSpace:"nowrap"}})),[t.isAndroid,t.isMobile]);return t.isMobile?(0,a.jsx)(r().A,{style:{...n.sharedStyle,...e.mobileStyle},disabled:void 0===e.onClick,children:(0,a.jsx)("div",{style:{...n.innerStyle,...e.innerStyle},children:e.children})}):(0,a.jsx)(r().A,{style:{...n.sharedStyle,...e.desktopStyle},disabled:void 0===e.onClick,...e,children:(0,a.jsx)("div",{style:{...n.innerStyle,...e.innerStyle},children:e.children})})}},684238:(e,t,n)=>{n.d(t,{s:()=>i});n(242343);const o={viewBox:"0 0 20 20",svg:(0,n(163643).jsx)("path",{d:"M10.566 16.22a4.6 4.6 0 0 1-2.068-.487v-.01l-1.423-.487h-.122V7.498l1.76-1.876c.293-.375.576-.938.846-1.475.179-.355.352-.7.519-.972l.36-.74a1.29 1.29 0 0 1 1.551-.527c.624.243.955.916.77 1.56l-.507 1.774c-.099.343-.241.63-.384.917a5.6 5.6 0 0 0-.376.887.404.404 0 0 0 .39.517h4.095a1.22 1.22 0 0 1 1.218 1.218c0 .42-.224.78-.555.995a1.2 1.2 0 0 1-.147 2.213c.274.224.459.556.459.936a1.21 1.21 0 0 1-1.21 1.219 1.22 1.22 0 0 1-.868 2.077zM5.734 8.148H3.663a.975.975 0 0 0-.975.975v5.138c0 .538.436.975.974.975h2.072z"})},i=(0,n(680369).wt)("handThumbsUpFill",o)},686449:(e,t,n)=>{n.d(t,{r:()=>o});const o=(0,n(851552).Dv)("importEvernote")},699773:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(242343),i=()=>n(846581),r=()=>n(16456),a=()=>n(427091),s=n(163643);const l=function(e){const t=(0,n(653998).tz)(),l=(0,n(174114).DP)(),u=(0,n(221573).I)(),p=(0,o.useRef)(),m=(0,o.useCallback)((()=>{const t=e.value;if(!t)return;const o=r().q8(t,(0,a().P)());if(!o)return;const i=o.valueOf(),s=i-Date.now();s<0||s>n(141666).nD||p.current&&p.current.timestamp===i||(p.current&&clearTimeout(p.current.timer),p.current={timestamp:i,timer:setTimeout((()=>u("DateBox","DateBox/createReminderTimer")),s)})}),[u,e.value]),g=(0,o.useCallback)((()=>{p.current&&(clearTimeout(p.current.timer),p.current=void 0)}),[]);(0,o.useEffect)((()=>{m()}),[m]),(0,o.useEffect)((()=>()=>{g()}),[g]);const{value:f,withComma:h}=e,y=(0,n(803290).K8)((()=>f?(0,i().ZF)({value:f,date_format:e.dateFormat,time_format:e.timeFormat,userTimeZone:(0,a().P)(),allowRelativeDates:!0,intl:t,shortenDateAndRange:e.shortenDateAndRange,displayInUserTimezone:e.displayInUserTimezone,getToday:n(533975).x1}):void 0),[t,e.dateFormat,e.displayInUserTimezone,e.shortenDateAndRange,e.timeFormat,f]);if(!f)return null;const v=r().AA(f,(0,a().P)(),n(16791).locale);let b;if(f.reminder){const e=r().Zs(f,(0,a().P)());b=e?{color:l.errorText}:{color:n(220413).Ay.blue}}const x=(0,s.jsxs)(s.Fragment,{children:[y,f.reminder&&(0,n(508024).P)({display:"inline-block",width:"1em",marginLeft:6,marginRight:2,paddingBottom:4,verticalAlign:"middle"}),h?", ":null]});return e.disableTooltip?(0,s.jsx)("div",{className:e.className,style:{...e.style,...b},children:x}):(0,s.jsx)(n(103151).A,{renderTooltip:()=>(0,s.jsxs)(s.Fragment,{children:[e.tooltipHeader,(0,s.jsxs)("div",{style:d(l,e.tooltipHeader),children:[c(v.start),v.end?` → ${c(v.end)}`:""]})]}),render:t=>(0,s.jsx)("div",{className:e.className,style:{...e.style,...b},...t,children:x}),placement:e.tooltipPlacement})};function c(e){return(0,i().eV)({value:e,preset:"medium"})}function d(e,t){return t?{color:e.text.contrastSecondary}:{}}},705653:(e,t,n)=>{n.d(t,{A:()=>r});var o=()=>n(144656),i=()=>n(662988);function r(e,t){(0,i().A)(2,arguments);var n=(0,o().A)(e),r=(0,o().A)(t),a=n.getTime()-r.getTime();return a<0?-1:a>0?1:a}},710602:(e,t,n)=>{n.d(t,{A:()=>i});class o extends(()=>n(129044))().default{constructor(){super()}getInitialState(){}}const i=new o},731991:(e,t,n)=>{n.d(t,{W:()=>r,X:()=>i});var o=()=>n(803290);function i(e){return e.isReady()&&!e.isDefined()&&"none"!==e.getRole()}function r(e){return(0,o().K8)((()=>i(e)),[e])}},734225:(e,t,n)=>{n.d(t,{A:()=>i});class o extends(()=>n(129044))().default{getInitialState(){return{modalOpen:!1,tokenQuery:"",inviteTargets:[],inviteRole:"member",isInviteTargetsEmpty:!0,table:n(218357).yK,isFocused:!0,flowId:void 0,inputFocus:"invitee",emailMessage:""}}}const i=o},740699:(e,t,n)=>{n.d(t,{L:()=>c,y:()=>l});var o=()=>n(803290),i=()=>n(409211),r=()=>n(653998),a=()=>n(485966),s=()=>n(413871);function l(e){const t=(0,r().tz)();return(0,o().K8)((()=>{const{currentSpaceStore:n}=a().default.state;if(!n||!e)return;return s().LU.createChildStore(n,{table:i().oo,id:e}).getDisplayName(t)}),[t,e])}function c(){const e=(0,r().tz)();return(0,o().K8)((()=>{const{currentUserStore:t}=a().default.state,n=null!=t&&t.isDefined()?t.getModel():void 0;return n?n.getDisplayName(e):void 0}),[e])}},744688:(e,t,n)=>{n(74181)({target:"Object",stat:!0},{hasOwn:n(463050)})},793359:(e,t,n)=>{n.d(t,{w:()=>l});n(242343);var o=()=>n(950635),i=()=>n(76394),r=()=>n(951156),a=()=>n(482570),s=n(163643);function l(e){const{actor:t}=e,n={size:e.size??14,style:{marginRight:2,...e.style}};return(0,o().H3)(t)?(0,s.jsx)(r().A,{botValue:t.asActor,...n}):(0,o().ps)(t)?(0,s.jsx)(a().A,{userValue:t.asActor,...n}):(0,o().h2)(t)?(0,s.jsx)(a().A,{userValue:void 0,...n}):void(0,i().HB)(t)}},807672:(e,t,n)=>{n.d(t,{k:()=>i});let o;class i{constructor(e){this.style=void 0,this.lastResult=void 0,this.style=e.style}measure(e){var t;if(e===(null===(t=this.lastResult)||void 0===t?void 0:t.text))return this.lastResult.rect;o||(o=document.createElement("div"),o.style.position="absolute",o.style.left="0",o.style.top="0",o.style.pointerEvents="none",o.style.opacity="0",document.body.appendChild(o)),n(975392).uk(this.style,((e,t)=>{o&&(o.style[t]=e)})),o.textContent=e;const i=o.getBoundingClientRect();return this.lastResult={text:e,rect:i},i}}},808263:(e,t,n)=>{n.d(t,{_:()=>o});const o=(0,n(680369).xh)("personCircle",{default:{loader:()=>n.e(89491).then(n.bind(n,895800))},small:{loader:()=>n.e(95357).then(n.bind(n,287110))},mini:{loader:()=>n.e(70891).then(n.bind(n,626640))},large:{loader:()=>n.e(49761).then(n.bind(n,642922))}})},842617:(e,t,n)=>{n.d(t,{MG:()=>g,T1:()=>m,a1:()=>b,dt:()=>f,kg:()=>h,lC:()=>v,n_:()=>y});var o=n(242343),i=()=>n(237385),r=()=>n(803290),a=()=>n(162901),s=()=>n(129978),l=()=>n(514860),c=()=>n(271748),d=()=>n(440588),u=()=>n(370557),p=()=>n(89969);const m=new(s().O2)("PerformanceToolbar",(()=>Promise.all([n.e(96159),n.e(96346),n.e(16471),n.e(36209),n.e(92845),n.e(71718),n.e(17989),n.e(48632),n.e(90625),n.e(21194),n.e(5910),n.e(62427),n.e(45624)]).then(n.bind(n,524636)))),g=(0,s()._h)(m,(e=>e.PerformanceToolbar)),f=(0,s()._h)(m,(e=>e.PerformanceToolbarSettings));function h(){const e=(0,i().v3)();return(0,r().K8)((()=>(0,p().D)(e,e.RouterStore.state)),[e])}function y(){const e=(0,i().v3)(),t=x("PerformanceToolbarStore"),n=x("isPerformanceToolbarVisible");return(0,r().K8)((()=>!(!t||!n)&&n(e,e.RouterStore.state,t.state)),[n,e,t])}function v(){const e=x("PerformanceToolbarStore");return(0,r().K8)((()=>!!e&&e.state.isPerformanceToolbarMounted),[e])}function b(){const e=(0,i().v3)(),t=x("createPerformanceToolbarMouseListeners"),n=x("PerformanceToolbarStore"),{sidebarExpanded:a,sidebarWidth:s,secondarySidebarExpanded:p,secondarySidebarWidth:m,updateSidebarExpanded:g,updateSidebarWidth:f}=(0,r().K8)((()=>({sidebarExpanded:d().sidebarExpandedStore.state,sidebarWidth:d().sidebarWidthStore.state,secondarySidebarExpanded:c().default.isOpen(),secondarySidebarWidth:l().Ay.getWidth(),updateSidebarExpanded:u().Ay.state.expanded,updateSidebarWidth:u().Ay.state.width})),[]);return(0,o.useEffect)((()=>{if(n&&t)return t(e,(e=>n.update((t=>({...t,isMouseNearPerformanceToolbar:e})))),a,s,p,m,g,f)}),[t,e,n,a,s,p,m,g,f])}function x(e){const t=h(),[{value:n}]=(0,a().Yb)((()=>t?m.load().then((t=>t[e])):Promise.resolve(void 0)),[e,t]);return n}},842940:(e,t,n)=>{n.d(t,{J:()=>i});n(242343);const o={viewBox:"0 0 20 20",svg:(0,n(163643).jsx)("path",{d:"M8.875 2.625a6.25 6.25 0 1 0 3.955 11.09l3.983 3.982a.625.625 0 1 0 .884-.884l-3.983-3.982a6.25 6.25 0 0 0-4.84-10.205m-5 6.25a5 5 0 1 1 10 0 5 5 0 0 1-10 0"})},i=(0,n(680369).wt)("magnifyingGlass",o)},850265:(e,t,n)=>{n.d(t,{A:()=>l});var o=()=>n(144656),i=()=>n(650964),r=()=>n(543127),a=()=>n(662988);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){if((0,a().A)(2,arguments),"object"!==s(t)||null===t)throw new RangeError("values parameter must be an object");var n=(0,o().A)(e);return isNaN(n.getTime())?new Date(NaN):(null!=t.year&&n.setFullYear(t.year),null!=t.month&&(n=(0,i().A)(n,t.month)),null!=t.date&&n.setDate((0,r().A)(t.date)),null!=t.hours&&n.setHours((0,r().A)(t.hours)),null!=t.minutes&&n.setMinutes((0,r().A)(t.minutes)),null!=t.seconds&&n.setSeconds((0,r().A)(t.seconds)),null!=t.milliseconds&&n.setMilliseconds((0,r().A)(t.milliseconds)),n)}},862279:(e,t,n)=>{n.d(t,{S:()=>r});n(242343);var o=n(163643);const i={viewBox:"0 0 20 20",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M3.608 10.442a.625.625 0 0 1 0-.884l5.4-5.4a.625.625 0 0 1 .884.884L4.934 10l4.958 4.958a.625.625 0 1 1-.884.884z"}),(0,o.jsx)("path",{d:"m14.508 4.158-5.4 5.4a.625.625 0 0 0 0 .884l5.4 5.4a.625.625 0 1 0 .884-.884L10.434 10l4.958-4.958a.625.625 0 1 0-.884-.884"})]})},r=(0,n(680369).wt)("arrowChevronDoubleBackward",i)},883249:(e,t,n)=>{n.d(t,{A:()=>o});const o=new(n(652039).Ay)},887114:(e,t,n)=>{n.d(t,{d:()=>i});n(242343);const o={viewBox:"0 0 20 20",svg:(0,n(163643).jsx)("path",{d:"M2.9 4.375a.625.625 0 1 0 0 1.25h14.2a.625.625 0 1 0 0-1.25zm0 3.333a.625.625 0 0 0 0 1.25h9.457a.625.625 0 1 0 0-1.25zM2.275 15c0-.345.28-.625.625-.625h9.457a.625.625 0 1 1 0 1.25H2.9A.625.625 0 0 1 2.275 15m.625-3.958a.625.625 0 1 0 0 1.25h14.2a.625.625 0 0 0 0-1.25z"})},i=(0,n(680369).wt)("textAlignLeft",o)},887909:(e,t,n)=>{n.d(t,{v:()=>i});n(242343);const o={viewBox:"0 0 20 20",svg:(0,n(163643).jsx)("path",{d:"m6.953 12.502 1.76 1.876c.293.375.576.938.846 1.475.179.356.352.7.519.972l.36.741c.322.527.976.741 1.551.527.624-.244.955-.917.77-1.56l-.507-1.775a5.3 5.3 0 0 0-.384-.917c-.138-.278-.276-.556-.376-.887a.404.404 0 0 1 .39-.517h4.095a1.22 1.22 0 0 0 1.218-1.218c0-.42-.224-.78-.555-.995.4-.195.672-.594.672-1.072a1.2 1.2 0 0 0-.819-1.141 1.21 1.21 0 0 0 .459-.936 1.21 1.21 0 0 0-1.21-1.219 1.22 1.22 0 0 0-.868-2.077h-4.308c-.722 0-1.424.166-2.068.488v.01l-1.423.487h-.122zM5.734 4.764v7.088H3.663a.975.975 0 0 1-.975-.975V5.74c0-.538.436-.975.974-.975z"})},i=(0,n(680369).wt)("handThumbsDownFill",o)},888575:(e,t,n)=>{n.d(t,{A:()=>i});n(242343);var o=n(163643);const i=function(e){const{botStore:t,avatarSize:i,shouldShowBadge:r,style:a,inline:s}=e,l=(0,n(653998).tz)(),c=(0,n(237385).Y0)(),d=(0,n(803290).K8)((()=>null==t?void 0:t.getDisplayName(l)),[t,l]),{outerStyle:u,avatarWrapStyle:p,badgeStyle:m}=(0,n(174114).IS)((e=>({outerStyle:{display:"flex",alignItems:"center",minWidth:0,...a},avatarWrapStyle:s?{width:"none",minHeight:"none",marginRight:6}:{marginRight:6},badgeStyle:{padding:"2px 6px",borderRadius:4,color:e.text.secondary,background:e.legacyDefaultSelectColor,fontSize:c.isMobile?11:9,lineHeight:c.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em",marginLeft:8,marginTop:1}})),[a,s,c]);return(0,o.jsxs)("div",{style:u,children:[(0,o.jsx)("div",{style:p,children:(0,o.jsx)(n(951156).A,{botStore:t,size:i})}),(0,o.jsx)("div",{style:{...n(31448).RC},children:d}),r&&(0,o.jsx)("div",{style:m,children:"Bot"})]})}},897080:(e,t,n)=>{n.d(t,{A:()=>o});const o={appCursorListener:{sidebar:1,secondarySidebar:2,editor:3,aiChat:3,marketplace:3,teamHome:3}}},933871:(e,t,n)=>{n.d(t,{U:()=>p});n(610931);var o=()=>n(543396),i=()=>n(827875),r=()=>n(33715),a=()=>n(846287),s=()=>n(201147),l=()=>n(946854),c=()=>n(84543),d=()=>n(272690),u=()=>n(477267);function p(e){let{environment:t,transaction:n,layoutStore:p,position:m,sessionId:g,beforePerformDeleteModule:f}=e;const h=p.getModules();if(!h)throw new Error("[deleteModuleAtPosition] modules by area not found for layout store");const y=(0,a().EX)(h,(e=>e.id===m.moduleId)),v=(0,o().Cg)({moduleId:null==y?void 0:y.module.id,modulesByArea:p.getModules()}).length;if(!y)return;const{module:b,position:x}=y;if(!(0,s().Fe)(b))throw new Error("[deleteModuleAtPosition] module to delete is not removeable");var S;(c().createAndCommitOrAppend({environment:t,transaction:n,canUndo:!0,perform(e){!function(e){const{transaction:t,layoutStore:n,moduleLocation:o,moduleToDelete:a,beforePerformDeleteModule:s}=e;s&&s(t);(0,l().V6)(a)&&(0,u().deleteViewsModuleDependencies)({layoutStore:n,viewsModule:a,transaction:t});if("form_conditional_modules"===o.area){const e=i().N4.removeChildModule({pointer:n.pointer,modulesByArea:n.getModules(),module:a});for(const o of e)c().applyOperation({transaction:t,store:n,operation:o})}else{const e="views_main_tab_modules"===o.area?{area:o.area,viewId:o.viewId}:{area:r().Zm[o.area]};c().applyOperation({transaction:t,store:n,operation:i().N4.deleteModuleInArea({...e,pointer:n.pointer,moduleId:a.id})})}}({environment:t,transaction:e,layoutStore:p,moduleLocation:x,moduleToDelete:b,beforePerformDeleteModule:f})},userAction:"pageLayout.deleteActions.deleteModuleAtPosition"}),g)&&d().PS({environment:t,module:b,sessionId:g,collectionId:null===(S=p.getCollectionModel())||void 0===S?void 0:S.id,layoutId:p.id,context:(0,r().We)(m.area),area:m.area,depth:v})}},934889:(e,t,n)=>{n.r(t),n.d(t,{clockIcon:()=>r,iconDefinition:()=>i});n(242343);var o=n(163643);const i={viewBox:"0 0 20 20",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M10.625 5.725a.625.625 0 1 0-1.25 0v3.65H6.4a.625.625 0 1 0 0 1.25H10c.345 0 .625-.28.625-.625z"}),(0,o.jsx)("path",{d:"M10 2.375a7.625 7.625 0 1 0 0 15.25 7.625 7.625 0 0 0 0-15.25M3.625 10a6.375 6.375 0 1 1 12.75 0 6.375 6.375 0 0 1-12.75 0"})]})},r=(0,n(680369).wt)("clock",i)},942260:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});class o extends(()=>n(129044))().default{getInitialState(){return{discussionIdToExpansionStartPointMap:{}}}}const i=new o},942485:(e,t,n)=>{n.d(t,{A:()=>a});var o=()=>n(543127),i=()=>n(144656),r=()=>n(662988);function a(e,t){(0,r().A)(2,arguments);var n=(0,i().A)(e),a=(0,o().A)(t);return isNaN(a)?new Date(NaN):a?(n.setDate(n.getDate()+a),n):n}},945335:(e,t,n)=>{n.d(t,{i:()=>o});const o=(0,n(680369).xh)("arrowUpRightSquare",{default:{loader:()=>n.e(43459).then(n.bind(n,694344))},small:{loader:()=>n.e(97517).then(n.bind(n,49846))},mini:{loader:()=>n.e(60475).then(n.bind(n,609856))},large:{loader:()=>n.e(3953).then(n.bind(n,901466))}})},957881:(e,t,n)=>{n.d(t,{w:()=>m});var o=n(242343),i=()=>n(237385),r=()=>n(803290),a=()=>n(174114),s=()=>n(791976),l=()=>n(759625),c=()=>n(84543),d=()=>n(28210),u=()=>n(219322),p=n(163643);function m(e){const{clickTitleBehavior:t,blockStore:n,format:s,shouldWrap:m}=e,f="edit"===t,h=(0,i().v3)(),[y,v,b]=(0,r().K8)((()=>[n.getIcon(),n.isEmptyPage(),n.isReady()&&"none"===n.getRole()]),[n]),{style:x}=(0,a().IS)((()=>({style:{flexShrink:0,marginRight:f?0:u().U[s].recordIconMarginRight,justifyContent:"flex-start",...m&&{display:"inline-block",verticalAlign:"text-top",marginBottom:-1}}})),[f,s,m]),S=(0,o.useCallback)((e=>{const t=n.getIconStore();t&&c().createAndCommit({userAction:"RelationToken.handleRecordIconChange",environment:h,canUndo:!0,perform:n=>{l().KY({store:t,value:e,transaction:n})}})}),[n,h]),k={icon:y,size:u().U[s].pageIconSize,isEmptyPage:v,style:x};return b?(0,p.jsx)(g,{...k}):f?(0,p.jsx)(d().B,{...k,disabled:!1,onChange:S,bucket:"public"}):(0,p.jsx)(d().B,{...k,disabled:!0})}function g(e){const t=(0,a().DP)();return(0,s().T)({...e.style,width:e.size,height:e.size,fill:t.icon.secondary,verticalAlign:"top",marginTop:1})}},982717:(e,t,n)=>{n.d(t,{A:()=>h});var o=n(242343),i=()=>n(16791),r=()=>n(237385),a=()=>n(803290),s=()=>n(755002),l=()=>n(653998),c=()=>n(220413),d=()=>n(975392),u=()=>n(31448),p=()=>n(141666),m=()=>n(615917),g=n(163643);const f={isRepositioning:!1};const h=function(e){const t=(0,o.useRef)(null),i=(0,r().v3)(),{isMobile:l}=(0,r().Y0)(),[c,u]=(0,o.useState)(f),m=(0,o.useCallback)((()=>{u(f)}),[]),{renderControl:h,onFlushTemporaryPosition:v,style:b,source:x,store:S}=e,{isRepositioning:k,image:T,startDragRenderedPosition:A,startDragImageScreenHeight:w}=c,M=(0,a().K8)((()=>0===n(182613).default.state.stores.length),[]),[C,j]=(0,o.useState)(!1),I=(0,a().uB)(e.mouseStore,n(116586).A),_=(0,a().K8)((()=>I.state.mouseEntered),[I]),B=(0,n(174114).IS)((()=>({dragContainer:{width:"100%",cursor:k?"move":"inherit"},container:{position:"relative",width:"100%",zIndex:1}})),[k]),R=(0,a().K8)((()=>function(e,t,n){return(0,d().Et)(n)?n:function(e,t){if("gallery"===e||"board"===e){const e=t.getFormat().card_cover_position;if((0,d().Et)(e))return e}const n=.5;if(t.isCollectionView()){const e=t.getCollectionStore();if(e){const t=e.getFormat().collection_cover_position;return(0,p().pN)(t)?n:t}}const o=t.getFormat(),i=o.page_cover_position;if((0,d().Et)(i))return i;return n}(e,t)}(x,S,c.temporaryPosition)),[c.temporaryPosition,x,S]);(0,o.useEffect)((()=>{const e=e=>{const n=t.current;n&&!n.contains(e.target)&&k&&v({imagePosition:R,reset:()=>{I.reset(),m()}})};return window.addEventListener("mousedown",e),()=>window.removeEventListener("mousedown",e)}),[R,k,I,v,m]),k&&!M&&m();const z=(0,o.useMemo)((()=>(0,d().nF)((e=>{I.setState({...I.state,mouseEntered:!0})}),100)),[I]),P=(0,o.useMemo)((()=>(0,d().sg)((e=>{I.setState({...I.state,mouseEntered:!1})}),100)),[I]),N=(0,o.useCallback)(((e,t)=>{n(360378).IU({environment:i});const o=new Image;o.onload=()=>{u((e=>({...e,isRepositioning:!0,image:o})))},t&&(o.src=t)}),[i]),E=(0,o.useCallback)((e=>{v({imagePosition:R,reset:()=>{m()}})}),[R,v,m]),D=(0,o.useCallback)((e=>{const t=e.target;void 0!==t&&t instanceof HTMLElement&&(0,n(152058).p)(t)&&j(!0)}),[]),F=(0,o.useCallback)((()=>{j(!0)}),[]),W=(0,o.useCallback)((e=>{if(T&&k){const e=t.current;if(e&&e instanceof Element){const t=e.getBoundingClientRect().width/T.width*T.height;u((e=>({...e,startDragImageScreenHeight:t,startDragRenderedPosition:R})))}}}),[T,R,k]),L=(0,o.useCallback)((e=>{if(k){const t=e.diffY/(w||0)+(A||0);u((e=>({...e,temporaryPosition:(0,d().LI)((0,n(944342).A)(t,0,1),4)})))}}),[k,w,A]),U=(0,o.useCallback)((()=>{u((e=>({...e,startDragImageScreenHeight:void 0,startDragRenderedPosition:void 0})))}),[]),O=(0,a().K8)((()=>h({handleRepositionClick:N,handleSavePositionClick:E,handleCancelClick:m,isVisible:l||_||C||k,isRepositioning:k})),[N,E,C,l,k,_,h,m]);return(0,g.jsxs)("div",{ref:t,onFocus:D,onBlur:F,onMouseEnter:z,onMouseMove:z,onMouseLeave:P,...(0,s().AH)(B.container,b),children:[(0,g.jsx)(n(928567).A,{onDraggableDragStart:W,onDraggableDragMove:L,onDraggableDragEnd:U,onDraggableDragCancel:U,disabled:!k,render:t=>(0,g.jsx)("div",{...(0,s().AH)(B.dragContainer),...t,children:e.render({imagePosition:R,isRepositioning:k})})}),(0,g.jsx)(y,{small:e.small,isRepositioning:k}),O]})};function y(e){let{small:t,isRepositioning:n}=e;if(t)return null;const o={background:c().Ay.blackWithAlpha(.4),borderRadius:4,color:c().Ay.white,fontSize:12,fontFamily:u().vc(i().locale).sans,width:180,left:"calc(50% - 90px)",padding:"0.3em 1.5em 0.3em",pointerEvents:"none",position:"absolute",top:"calc(50% - 10px)",textAlign:"center"};return(0,g.jsx)(m().A,{visible:n,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:o,children:(0,g.jsx)(l().sA,{defaultMessage:"Drag image to reposition",id:"withImageRepositioning.dragImage.text"})})}},984826:(e,t,n)=>{n.d(t,{I:()=>a,_:()=>r});const o={normalizedTitleWithIcon:!0,properties:!0,property_number:!0,property_title:!0,property_person:!0,property_file:!0,property_text:!0,property_checkbox:!0,property_url:!0,property_email:!0,property_phone_number:!0,property_created_by:!0,property_last_edited_by:!0,property_button:!0,property_select:!0,property_multi_select:!0,property_status:!0,property_date:!0,property_created_time:!0,property_last_edited_time:!0,property_last_visited_time:!0,property_relation:!0,property_rollup:!0,property_formula:!0,property_auto_increment_id:!0,property_location:!0,property_verification:!0,property_geo_point:!0,views:!0,viewsMain:!0,relationsGroup:!0,formQuestion:!0,placeholder:!0,deleted_property:!1,cover:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,transcript:!1,formTitle:!1,formSubmit:!1,recentActivity:!1,collaborators:!1,teamspaces:!1},i={properties:!0,property:!0,relationsGroup:!0,formQuestion:!0,placeholder:!0,titleWithIcon:!0,cover:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,transcript:!1,formTitle:!1,formSubmit:!1,views:!0,viewsMain:!0,collectionView:!0,collectionViewV2:!0,recentActivity:!1,collaborators:!1,teamspaces:!1};function r(e){return o[e.type]}function a(e){return i[e.type]}},992849:(e,t,n)=>{n.d(t,{p:()=>r});var o=()=>n(129978);const i=new(o().O2)("HelpButtonContent",(async()=>await n.e(42481).then(n.bind(n,718356)))),r=(0,o()._h)(i,(e=>e.HelpButtonContent))},996151:(e,t,n)=>{n.d(t,{K5:()=>p,Vp:()=>d,_u:()=>c,oP:()=>m,wC:()=>l,xN:()=>u});n(725707),n(491955),n(403517);var o=()=>n(728373),i=()=>n(984826),r=()=>n(946854),a=()=>n(220865);const s={page_main:[{id:"cover",type:"cover"},{id:"title_with_icon",type:"normalizedTitleWithIcon",propertyIds:[]},{id:"properties",type:"properties"},{id:"discussions",type:"discussions"},{id:"editor",type:"editor"}],page_details:[],form_layout_schema:[],person_profile_page_main:[],person_profile_page_details:[]},l={page_main:[{id:"title_with_icon",type:"normalizedTitleWithIcon",propertyIds:[]},{id:"editor",type:"editor"}],page_details:[],form_layout_schema:[],person_profile_page_main:[],person_profile_page_details:[]},c={page_main:[{id:"title_with_icon",type:"normalizedTitleWithIcon",propertyLabels:"hide",propertyIds:[]},{id:"editor",type:"editor"},{id:"discussions",type:"discussions"}],page_details:[],form_layout_schema:[],person_profile_page_main:[],person_profile_page_details:[]},d={page_main:[],page_details:[],form_layout_schema:[],person_profile_page_main:[{id:"cover",type:"cover"},{id:"title_with_icon",type:"normalizedTitleWithIcon",propertyIds:[]},{id:"recent_activity",type:"recentActivity"}],person_profile_page_details:[{id:"collaborators",type:"collaborators"},{id:"teamspaces",type:"teamspaces"}]};function u(e){return(0,a().jr)({modulesByArea:s,collectionSchema:null==e?void 0:e.collectionSchema,collectionFormat:null==e?void 0:e.collectionFormat})}function p(){return{page_layout_schema:(0,a().ke)(s.page_main).map((e=>{if(!(0,r().cn)(e))return(0,i().I)(e)?{...e,id:(0,o().Ay)()}:e})).filter((e=>void 0!==e)),page_info_layout_schema:(0,a().ke)(s.page_details).map((e=>{if(!(0,r().cn)(e))return(0,i().I)(e)?{...e,id:(0,o().Ay)()}:e})).filter((e=>void 0!==e)),form_layout_schema:void 0,person_profile_page_main:void 0,person_profile_page_details:void 0}}function m(e,t){const n=void 0===t?[{id:(0,o().Ay)(),type:"formQuestion",formQuestionId:e}]:[{id:(0,o().Ay)(),type:"formQuestion",formQuestionId:e},{id:(0,o().Ay)(),type:"formQuestion",formQuestionId:t}];return{page_layout_schema:void 0,page_info_layout_schema:void 0,person_profile_page_main:void 0,person_profile_page_details:void 0,form_layout_schema:[{id:(0,o().Ay)(),type:"cover"},{id:(0,o().Ay)(),type:"formTitle"},...n,{id:(0,o().Ay)(),type:"formSubmit"}]}}}}]);