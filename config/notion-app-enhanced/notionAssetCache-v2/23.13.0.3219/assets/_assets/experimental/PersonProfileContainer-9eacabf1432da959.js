"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[44632],{242978:(e,t,n)=>{n.d(t,{v:()=>i});n(242343);var o=n(163643);const i=(0,n(680369).wt)("boltFilled",{svg:(0,o.jsx)("path",{d:"M0 12.117c0 .38.293.664.703.664h5.518l-2.91 7.91c-.381 1.006.664 1.543 1.318.723l8.877-11.094c.166-.205.254-.4.254-.625 0-.371-.293-.664-.703-.664H7.539l2.91-7.91C10.83.115 9.785-.422 9.131.408L.254 11.492c-.166.215-.254.41-.254.625z"}),viewBox:"0 0 14 22"})},326259:(e,t,n)=>{n.d(t,{OH:()=>l,T2:()=>a,do:()=>d});var o=()=>n(871002),i=()=>n(846581),r=()=>n(16456),s=()=>n(427091);function l(e){const{dateTime:t,intl:n,shortenDateAndRange:o}=e,s=r().C6.toPersistedDate(t.valueOf());return i().ZF({value:s,allowRelativeDates:!0,intl:n,shortenDateAndRange:o,displayInUserTimezone:!0})}function a(e){const{dateTime:t,intl:n,userTimeZone:o,displayInUserTimezone:s,alwaysIncludeTimezone:l}=e,a=r().C6.toPersistedDateTime(t.valueOf(),t.zoneName);return i().ZF({value:a,allowRelativeDates:!0,intl:n,userTimeZone:o,displayInUserTimezone:s,alwaysIncludeTimezone:l})}function d(e){const{luxonRange:t,intl:n}=e,l=r().C6.toPersistedDateRange(t),a=i().ZF({value:l,allowRelativeDates:!1,shortenDateAndRange:!0,intl:n,displayInUserTimezone:!0}),d=t.end.setZone((0,s().P)()),u=i().fU({start_time:d.toFormat(o().GE),humanReadable:!1,intl:n});return n.formatMessage({id:"verification.timeRange",defaultMessage:"{formattedDateRange} at {formattedEndTime}"},{formattedDateRange:a,formattedEndTime:u})}},348618:(e,t,n)=>{n.d(t,{A:()=>a});n(242343);var o=()=>n(237385),i=()=>n(31448),r=()=>n(431551),s=()=>n(489090),l=n(163643);const a=function(e){const{disabled:t,label:i,title:r,onClick:s,isToggle:a,isToggleActive:c,onClickClear:m,...p}=e,g=(0,n(174114).DP)(),h=(0,o().v3)(),f=function(e){return{menuItemLabel:{color:e.text.tertiary}}}(g),v=d(h),C=(0,l.jsx)("span",{style:f.menuItemLabel,children:i});return(0,l.jsx)(n(535906).A,{focused:!1,...p,inline:a,disabled:t,icon:C,title:r,right:(0,l.jsx)(u,{disabled:Boolean(t),isToggle:Boolean(a),isToggleActive:Boolean(c),onClick:s,onClickClear:m}),onClick:s,dontShrinkIcon:!0,dontShrinkRight:!0,shouldWrapTitle:!0,style:v.menuItem,desktopIconStyle:v.menuItemLabel})};function d(e){return{menuItem:{background:void 0,minHeight:void 0,fontSize:e.device.isMobile?i().J.UISmall.mobile:i().J.UIRegular.desktop,paddingTop:e.device.isMobile?12:4,paddingBottom:e.device.isMobile?12:4},labeledMenuItemTitle:{display:"inline-flex",alignItems:"center"},menuItemLabel:{marginTop:0},rightWrapper:{display:"flex",alignItems:"center",marginTop:"-50%",marginBottom:"-50%",height:44}}}function u(e){let{disabled:t,isToggle:n,isToggleActive:i,onClick:a,onClickClear:u=(()=>{})}=e;const c=d((0,o().v3)()).rightWrapper;return n?(0,l.jsx)("div",{style:c,children:(0,l.jsx)(r().A,{on:Boolean(i),onClick:a})}):(0,l.jsx)(s().A,{disabled:t,onClick:u})}},365721:(e,t,n)=>{n.d(t,{y:()=>i});n(242343);var o=n(163643);const i=(0,n(680369).wt)("jira",{viewBox:"0 0 20 20",svg:(0,o.jsx)("path",{d:"M16.8784 2.5H9.65698C9.65698 4.3 11.1141 5.75714 12.9141 5.75714H14.2427V7.04288C14.2427 8.84288 15.6998 10.3 17.4998 10.3V3.12143C17.4998 2.77857 17.2212 2.5 16.8784 2.5Z M13.3001 6.10001H6.07861C6.07861 7.9 7.53574 9.35713 9.33574 9.35713H10.6643V10.6429C10.6643 12.4429 12.1215 13.9 13.9215 13.9V6.72144C13.9215 6.37856 13.6429 6.10001 13.3001 6.10001Z M9.72144 9.70001H2.5C2.5 11.5 3.95714 12.9571 5.75714 12.9571H7.08569V14.2429C7.08569 16.0429 8.54287 17.5 10.3429 17.5V10.3214C10.3429 9.97857 10.0643 9.70001 9.72144 9.70001Z"})})},398319:(e,t,n)=>{n.d(t,{y:()=>i});n(242343);var o=n(163643);const i=(0,n(680369).wt)("export",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M3.0625 15.8174C2.32422 15.8174 1.76595 15.6305 1.3877 15.2568C1.00944 14.8831 0.820312 14.3294 0.820312 13.5957V6.86914C0.820312 6.13997 1.00944 5.58854 1.3877 5.21484C1.76595 4.83659 2.32422 4.64746 3.0625 4.64746H4.92871V5.99414H3.14453C2.82552 5.99414 2.58171 6.07845 2.41309 6.24707C2.24902 6.41113 2.16699 6.65951 2.16699 6.99219V13.4795C2.16699 13.8122 2.24902 14.0605 2.41309 14.2246C2.58171 14.3932 2.82552 14.4775 3.14453 14.4775H10.8486C11.1631 14.4775 11.4046 14.3932 11.5732 14.2246C11.7464 14.0605 11.833 13.8122 11.833 13.4795V6.99219C11.833 6.65951 11.7464 6.41113 11.5732 6.24707C11.4046 6.07845 11.1631 5.99414 10.8486 5.99414H9.07812V4.64746H10.9375C11.6758 4.64746 12.234 4.83659 12.6123 5.21484C12.9906 5.58854 13.1797 6.13997 13.1797 6.86914V13.5957C13.1797 14.3249 12.9906 14.8763 12.6123 15.25C12.234 15.6283 11.6758 15.8174 10.9375 15.8174H3.0625ZM7 11.3877C6.91797 11.3877 6.83822 11.374 6.76074 11.3467C6.68327 11.3148 6.60124 11.2578 6.51465 11.1758L4.21777 8.96094C4.10384 8.84245 4.04688 8.70801 4.04688 8.55762C4.04688 8.39811 4.09928 8.26823 4.2041 8.16797C4.31348 8.06771 4.44792 8.01758 4.60742 8.01758C4.7806 8.01758 4.92188 8.0791 5.03125 8.20215L5.98828 9.2207L6.43262 9.71973L6.36426 8.70117V1.61914C6.36426 1.45052 6.42578 1.30469 6.54883 1.18164C6.67643 1.05859 6.82682 0.99707 7 0.99707C7.17318 0.99707 7.32129 1.05859 7.44434 1.18164C7.57194 1.30469 7.63574 1.45052 7.63574 1.61914V8.70117L7.56738 9.71973L8.00488 9.2207L8.96191 8.20215C9.07585 8.0791 9.21712 8.01758 9.38574 8.01758C9.54069 8.01758 9.67285 8.06771 9.78223 8.16797C9.89616 8.26823 9.95312 8.39811 9.95312 8.55762C9.95312 8.70801 9.89388 8.84245 9.77539 8.96094L7.47852 11.1758C7.39648 11.2578 7.31673 11.3148 7.23926 11.3467C7.16178 11.374 7.08203 11.3877 7 11.3877Z"})})},432810:(e,t,n)=>{n.r(t),n.d(t,{PersonProfileContainer:()=>Y});n(362833),n(403517);var o=n(242343),i=()=>n(237385),r=()=>n(803290),s=()=>n(174114),l=()=>n(129044),a=()=>n(653998),d=()=>n(975392),u=()=>n(31448),c=()=>n(840408),m=()=>n(142708),p=()=>n(35462),g=()=>n(381959),h=()=>n(169280),f=()=>n(518471),v=()=>n(144451),C=()=>n(116485),x=()=>n(581101),b=()=>n(394094),y=()=>n(710548),j=()=>n(382640),I=()=>n(98508),S=()=>n(485966),T=()=>n(797470),M=()=>n(141122),k=()=>n(580257),A=(n(333225),n(494367),n(516262),n(573119),n(240480),n(950443),n(619601),n(725707),n(491955),()=>n(502140)),w=()=>n(162901),B=()=>n(633427),R=n(163643);const P={viewBox:"0 0 20 20",svg:(0,R.jsx)("path",{d:"M10.442 6.558a.625.625 0 0 0-.884 0l-5.4 5.4a.625.625 0 1 0 .884.884L10 7.884l4.958 4.958a.625.625 0 1 0 .884-.884z"})},D=(0,n(680369).wt)("arrowChevronSingleUp",P);var F=()=>n(818369),L=()=>n(126451),H=()=>n(814370),O=()=>n(424339),V=()=>n(312093);const{useTeams:z}=n(904697),E=5,W=E+1;function U(e,t,n){const[{value:o,status:i,error:r}]=(0,w().Yb)((async()=>async function(e,t,n){if(!n)return;const o=await F().callApi({eventName:"getSpacePermissionGroupIdsContainingMembers",environment:e,data:{spaceId:n,userIds:[t]}});var i;if("success"===o.type)return new Set((null===(i=o.data)||void 0===i||null===(i=i.userToGroupMap)||void 0===i||null===(i=i[t])||void 0===i?void 0:i.map((e=>e.toString())))||[]);throw A().log({level:"error",from:"personProfile.teamspacesModule",type:"getSpacePermissionGroupIdsContainingMembersError",error:{message:(0,H().V)(o)||"Error fetching user permission group ids"}}),o.error}(e,t,n)),[e,t,n],{debugName:"personProfile.userToPermissionGroupIds"});return{value:{userPermissionGroupIds:o},isLoading:"resolved"!==i&&"rejected"!==i,error:r}}function $(e){const{teamStore:t}=e,n=(0,r().K8)((()=>t.getName()),[t]),o=(0,s().IS)((()=>({container:{display:"flex",gap:4,alignItems:"center",paddingTop:4,paddingBottom:4},label:{fontWeight:400}})),[]);return(0,R.jsxs)("div",{style:o.container,children:[(0,R.jsx)(O().x,{store:t,disabled:!0,size:20}),(0,R.jsx)(p().A,{style:o.label,children:n})]})}function _(e){const{isTruncated:t,allTeamspaceCount:n,onShowMore:i,onShowLess:r}=e,l=(0,o.useMemo)((()=>Math.max(n-E,0)),[n]),d=(0,s().IS)((e=>({button:{display:"flex",gap:6,alignItems:"center",paddingTop:4,paddingBottom:4,paddingRight:4,flexDirection:"row",flexGrow:0,alignSelf:"flex-start"},icon:{width:20,fill:e.mediumIconColor},label:{fontWeight:400}})),[]);return t?(0,R.jsxs)(L().A,{onClick:i,style:d.button,children:[(0,B().arrowChevronSingleDownIcon)(d.icon),(0,R.jsx)(p().A,{style:d.label,isSecondaryColor:!0,children:(0,R.jsx)(a().sA,{id:"PersonProfile.teamspacesModule.showMore",defaultMessage:"{numHidden} more teamspaces",values:{numHidden:l}})})]},"show-more"):(0,R.jsxs)(L().A,{onClick:r,style:d.button,children:[D(d.icon),(0,R.jsx)(p().A,{style:d.label,isSecondaryColor:!0,children:(0,R.jsx)(a().sA,{id:"PersonProfile.teamspacesModule.showLess",defaultMessage:"Hide {numHidden} teamspaces",values:{numHidden:l}})})]},"show-less")}function N(e){const{userId:t}=e,n=(0,i().v3)(),l=(0,r().O$)(S().AppStoreCurrentSpaceStore),d=z({fromCache:!0,includeArchived:!1,spaceStore:l}),{value:{userPermissionGroupIds:u}}=U(n,t,null==l?void 0:l.id),[c,m]=(0,o.useState)(!0),{userJoinedTeamspaces:g,numTeamspaces:h,requiresTruncation:f}=(0,r().K8)((()=>{const e=d.filter((e=>e.isMemberOrGuest(t,u||new Set)));return{userJoinedTeamspaces:(0,V().P)(e),numTeamspaces:e.length,requiresTruncation:e.length>W}}),[t,d,u]),v=(0,o.useMemo)((()=>f&&c?g.slice(0,E):g),[g,f,c]),C=(0,s().IS)((()=>({teamspaces:{display:"flex",flexDirection:"column",gap:4}})),[]),x=(0,o.useCallback)((()=>{m(!1)}),[]),b=(0,o.useCallback)((()=>{m(!0)}),[]);return(0,R.jsx)("div",{children:0===h?(0,R.jsx)(p().A,{isSmall:!0,isMultiline:!0,children:(0,R.jsx)(a().sA,{id:"PersonProfile.teamspaces.empty",defaultMessage:"None"})}):(0,R.jsxs)("div",{style:C.teamspaces,children:[v.map((e=>(0,R.jsx)($,{teamStore:e},e.id))),f?(0,R.jsx)(_,{isTruncated:c,allTeamspaceCount:h,onShowMore:x,onShowLess:b}):null]})})}var Z=()=>n(482570),K=()=>n(409211),Q=()=>n(548694),q=()=>n(413871);function G(e){const{userId:t}=e,{value:n}=function(e){let{userId:t}=e;const n=(0,i().v3)(),o=(0,r().O$)(S().AppStoreCurrentSpaceStore),[{status:s,error:l,value:a}]=(0,w().Yb)((async()=>{if(!o)return[];if((0,Q().IL)(o))return[];const e=await F().callApi({eventName:"getSimilarUsers",environment:n,data:{userId:t,spaceId:o.id}});if("failed"===e.type)throw e.error;if(e){const t=e.data.userSimilarity??[];return Object.entries(t).map((e=>{let[t,n]=e;return{userStore:q().LU.createChildStore(o,{table:K().oo,id:t}),id:t}}))}}),[n,t,o]);return void 0===o?{isLoading:!0,error:void 0,value:[]}:{isLoading:"pending"===s,error:l,value:a}}({userId:t}),o=(0,s().IS)((e=>({collaborators:{display:"flex",flexWrap:"wrap",justifyContent:"flex-start"}})),[]);return n&&0!==n.length?(0,R.jsx)("div",{style:o.collaborators,children:n.map((e=>(0,R.jsx)(J,{userStore:e.userStore},e.id)))}):(0,R.jsx)("div",{style:o.collaborators,children:(0,R.jsx)(p().A,{isSecondaryColor:!0,isMultiline:!0,children:(0,R.jsx)(a().sA,{id:"TopCollaboratorsModule.emptyState.message",defaultMessage:"No collaborators yet!"})})})}function J(e){const{userStore:t}=e,n=(0,r().K8)((()=>{const e=S().default.state.currentSpaceStore;return(0,V().M)(t.id,e)}),[t]),o=(0,s().IS)((e=>({avatarButton:{marginRight:16,marginTop:8,marginBottom:8,width:42,height:42,borderRadius:"50%",justifyItems:"center",alignContent:"center"},avatarHover:{border:`3px solid ${e.stroke.uiBluePrimary}`}})),[]);return(0,R.jsx)(L().A,{style:o.avatarButton,hoveredStyle:o.avatarHover,href:n,children:(0,R.jsx)(Z().A,{userStore:t,size:32,hasTooltip:!0})})}function Y(e){const{store:t}=e,n=(0,r().uB)(void 0,k().A),i=(0,r().K8)((()=>t.getSpaceId()),[t]),l=(0,r().K8)((()=>t.getPersonProfileUserId()),[t]);(0,o.useEffect)((()=>{"rendered"!==S().default.state.renderPhase&&S().default.setState({...S().default.state,renderPhase:"rendered"})}),[]);const{person_profile_page_main:a,person_profile_page_details:d}=(0,y().Qf)({personProfileStore:t}),u=(0,s().IS)((e=>({container:{width:"100%",height:"100%",cursor:"default",backgroundColor:e.contentBackground},left:{flex:1,maxWidth:"752px",minWidth:M().SIDEPEEK_MIN_WIDTH-96+"px"},right:{width:"252px",minWidth:"252px",position:"sticky",top:0,height:"min-content",display:"flex",flexDirection:"column",gap:20},content:{display:"flex",gap:40}})),[]);return l?(0,R.jsx)(m().H,{type:I().A.Y,style:u.container,className:"person-profile-content",store:n,children:(0,R.jsxs)(C().Mx,{type:"person-profile",withBottomPadding:!0,children:[(0,R.jsx)(oe,{store:t,modules:a}),(0,R.jsxs)(C().vV,{style:u.content,children:[(0,R.jsx)("div",{style:u.left,children:(0,R.jsx)(X,{modules:a,spaceId:i,userId:l})}),(0,R.jsx)("div",{style:u.right,children:(0,R.jsx)(ee,{modules:d,userId:l})})]},"main")]})}):null}function X(e){const{spaceId:t,userId:n,modules:o}=e;return(0,R.jsx)(R.Fragment,{children:o.map((e=>"recentActivity"===e.type?(0,R.jsxs)("div",{children:[(0,R.jsx)(te,{children:(0,R.jsx)(a().sA,{id:"PersonProfile.recentActivity.title",defaultMessage:"Recent activity"})}),(0,R.jsx)(ne,{children:(0,R.jsx)(c().A,{spaceId:t,source:"person_profile",authorId:n,empty:()=>(0,R.jsx)("div",{})})})]},`${e.id}-${n}`):null))})}function ee(e){const{userId:t,modules:n}=e;return(0,R.jsx)(R.Fragment,{children:n.map((e=>{switch(e.type){case"collaborators":return(0,R.jsxs)("div",{children:[(0,R.jsx)(te,{children:(0,R.jsx)(a().sA,{id:"PersonProfile.topCollaborators.title",defaultMessage:"Top collaborators"})}),(0,R.jsx)(G,{userId:t})]},`${e.id}-${t}`);case"teamspaces":return(0,R.jsxs)("div",{children:[(0,R.jsx)(te,{children:(0,R.jsx)(a().sA,{id:"PersonProfile.teamspaces.title",defaultMessage:"Teamspaces"})}),(0,R.jsx)(N,{userId:t})]},`${e.id}-${t}`);default:return null}}))})}function te(e){const t=(0,s().IS)((()=>({title:{paddingBottom:8,fontWeight:u().Wy.medium}})),[]);return(0,R.jsx)(p().A,{isSmall:!0,style:t.title,children:e.children})}function ne(e){const t=(0,i().WS)(),n=(0,s().IS)((e=>({widget:{...(0,j().V$)({isPhone:t,theme:e}),paddingTop:12,paddingBottom:12}})),[t]);return(0,R.jsx)("div",{style:n.widget,children:e.children})}function oe(e){const{store:t,modules:n}=e,o=(0,i().v3)(),s=(0,r().K8)((()=>t.isReady()&&t.canEdit()),[t]);return(0,R.jsx)(R.Fragment,{children:n.map((e=>{switch(e.type){case"normalizedTitleWithIcon":return(0,R.jsx)(C().vV,{children:(0,R.jsx)(ie,{module:e,personProfileStore:t,modules:n,isEditable:s})},e.id);case"cover":return(0,R.jsx)(x().f,{store:t,isEditable:s,paddingX:0,pageCoverHeight:(0,f().Qs)(o),onMouseEnter:d().lQ,onMouseLeave:d().lQ},e.id);default:return null}}))})}function ie(e){const{module:t,personProfileStore:n,modules:i,isEditable:s}=e,u=(0,v().Jh)({layoutModule:t,area:"page_main",collectionSchema:void 0,collectionStore:void 0,showDetailsPanelToggleButtonBelowTitle:!1,modules:i,context:T().Rr.Frame}),{hasCover:c}=(0,r().K8)((()=>({hasCover:Boolean(null==n?void 0:n.getCover())})),[n]),m=l().default.createValue(!1,{name:"headerFocusStore"}),p=(0,o.useMemo)((()=>{const e=[];return s&&!c&&e.push((0,R.jsx)(h().A,{store:n,style:(0,f().g1)(!0),label:(0,R.jsx)(a().sA,{id:"PageViewBlock.cover.pageCover",defaultMessage:"Add cover"})},"add-cover")),e}),[s,c,n]);return u((0,R.jsx)(b().H,{store:n,context:T().Rr.Frame,isEditable:!1,headerControls:(0,R.jsx)(g().A,{store:n,context:T().Rr.Frame,children:p}),hasCover:c,isInSidePeek:!1,headerFocusStore:m,openMenuOnMount:!1,openMenuOnMountCallback:d().lQ,disabled:!0,collectionContextStore:void 0,shouldShowTemplatePicker:!1,onTitleChange:d().lQ,onTitleEditText:d().lQ,onTitleEsc:d().lQ,onTitleUntab:d().lQ,onTitleTab:d().lQ,handleHeaderMouseEnter:d().lQ,handleHeaderMouseLeave:d().lQ,layoutModule:t}))}},489090:(e,t,n)=>{n.d(t,{A:()=>i});n(242343);var o=n(163643);const i=function(e){const t=(0,n(237385).v3)(),i={removeFilterButton:{height:void 0,width:void 0},removeFilterButtonMobile:{marginRight:-12,marginTop:-12,marginBottom:-12,paddingRight:12,paddingTop:12,paddingBottom:12}},{onClick:r,disabled:s}=e,{device:l}=t,a=l.isMobile?{...i.removeFilterButton,...i.removeFilterButtonMobile}:i.removeFilterButton;return(0,o.jsx)(n(356813).A,{icon:n(210106).J,onClick:r,disabled:s,disableBackground:!0,style:a})}},633427:(e,t,n)=>{n.r(t),n.d(t,{arrowChevronSingleDownIcon:()=>i,iconDefinition:()=>o});n(242343);const o={viewBox:"0 0 20 20",svg:(0,n(163643).jsx)("path",{d:"M9.558 13.442c.244.244.64.244.884 0l5.4-5.4a.625.625 0 1 0-.884-.884L10 12.116 5.042 7.158a.625.625 0 0 0-.884.884z"})},i=(0,n(680369).wt)("arrowChevronSingleDown",o)},634369:(e,t,n)=>{n.d(t,{A:()=>i});n(242343);var o=n(163643);const i=function(e){const t={desktopTitleStyle:{marginBottom:4},marginAfter:{marginBottom:16}},{title:i,marginAfter:r,desktopStyle:s,desktopTitleStyle:l,...a}=e,d=(r||s)&&{...r&&t.marginAfter,...s},u=l?{...t.desktopTitleStyle,...l}:t.desktopTitleStyle;return(0,o.jsx)(n(88271).A,{disableDesktopPadding:!0,enableActionSheetTitle:!0,desktopStyle:d,desktopTitleStyle:u,shouldShowBottomDivider:!1,title:i,...a})}},634444:(e,t,n)=>{n.d(t,{C:()=>D,A:()=>F});n(725707),n(491955),n(403517);var o=n(242343),i=()=>n(237385),r=()=>n(174114),s=()=>n(653998),l=()=>n(975392),a=()=>n(622163),d=()=>n(907721),u=()=>n(466321),c=()=>n(209684),m=()=>n(535906),p=()=>n(443252),g=()=>n(951540),h=()=>n(88271),f=()=>n(348618),v=()=>n(803290),C=()=>n(502140),x=()=>n(450475),b=()=>n(640979),y=()=>n(210466),j=()=>n(858023),I=()=>n(975515),S=()=>n(743668),T=()=>n(797715),M=n(163643);const k={menu:{width:250,maxHeight:"40vh"},inputMenu:{maxHeight:"20vh"}};const A=function(e){let{labelText:t,value:r,renderResultMenuItem:s,onConfirm:l,items:a,performRequest:d,onDismiss:u,onChange:c,renderToken:m,onRemove:p,onClear:g,disabled:h}=e;const f=(0,i().v3)(),C=(0,v().uB)(void 0,y().A),x=(0,v().uB)(void 0,n(331736).A),[b,j]=(0,n(875878).$)(),I=(0,o.useCallback)(((e,n,o)=>(0,M.jsx)(P,{error:e,data:n,ready:o,labelText:t,value:r,renderResultMenuItem:s,onConfirm:l,menuListStore:C,comboboxProps:j})),[t,r,s,l,C,j]),S={query:r,current:a};return(0,M.jsx)(n(935091).A,{...R(f,u,t,r,a,c,m,p,g,h,b),children:(0,M.jsx)(n(921637).A,{debounce:100,requestStore:x,request:S,performRequest:d,render:I})})};function w(e){const{device:t}=e;return t.isMobile}function B(e){let{labelText:t,value:n,items:o,disabled:r,onChange:s,renderToken:a,onRemove:d,onClear:u,inputComboboxProps:c}=e;const m=(0,i().v3)(),p=o.map((e=>a(e,{onRemove:()=>d(e)})));return(0,M.jsx)(h().A,{isInput:!0,children:(0,M.jsx)("div",{style:{padding:"4px 8px"},children:(0,M.jsx)(T().Ay,{focus:!w(m)||void 0,focusAfterAnimation:!0,format:T().le.FilterValue,tokens:p,placeholder:t.tokenInputPlaceholder,onRemoveLastToken:()=>function(e,t){const n=l().HV(e);n&&t(n)}(o,d),onClearButtonClick:u,value:n,onChange:s,showClearButton:!0,disabled:Boolean(r),style:k.inputMenu,...c})})})}function R(e,t,n,o,i,r,s,l,a,d,u){if(w(e)){return{menuType:b().gu.Modal,title:n.title,right:(0,M.jsx)(S().DoneMenuText,{}),onClickRight:t,header:(0,M.jsx)(B,{labelText:n,value:o,items:i,disabled:d,onChange:r,renderToken:s,onRemove:l,onClear:a,inputComboboxProps:u})}}return{menuType:b().gu.Popup,onClickOutside:t,header:(0,M.jsx)(B,{labelText:n,value:o,items:i,disabled:d,onChange:r,renderToken:s,onRemove:l,onClear:a,inputComboboxProps:u}),...k.menu}}function P(e){let{error:t,data:n,ready:i,labelText:r,value:l,renderResultMenuItem:a,onConfirm:d,menuListStore:u,comboboxProps:c}=e;const m=(0,v().uB)(u,y().A),p=(0,o.useCallback)((e=>(0,M.jsx)(h().A,{...e,title:r.resultSectionTitle,loading:!i})),[r,i]);if(t)return C().log({level:"error",from:r.componentDebugName,type:"requestFailed",error:(0,x().convertErrorToLog)(t),data:{miscDataToConvertToString:{query:l}}}),(0,M.jsx)(p,{children:(0,M.jsx)(I().A,{title:(0,M.jsx)(s().sA,{defaultMessage:"Something went wrong.",id:"search.inputMenu.errorMessage"})})});if(!n)return(0,M.jsx)(p,{children:(0,M.jsx)(I().A,{title:(0,M.jsx)(s().sA,{defaultMessage:"Loading…",id:"search.inputMenu.loading.message"})})});if(n&&0===n.length)return(0,M.jsx)(p,{children:(0,M.jsx)(I().A,{title:(0,M.jsx)(s().sA,{defaultMessage:"No results found.",id:"search.inputMenu.noResults.message"})})});const g={key:"results",items:n.map((e=>function(e,t,n){return{key:e,action:()=>n(e),render:n=>t(e,n)}}(e,a,d))),render:p};return(0,M.jsx)(j().Ay,{type:j().Oh.Vertical,store:m,initialFocus:0,sections:[g],comboboxProps:c})}let D=function(e){return e.Button="Button",e.Section="Section",e.Pill="Pill",e}({});function F(e){const{items:t,keepInputOnItemConfirm:n,mode:r,onChange:s,onMenuDismiss:a,onMenuOpen:d}=e,{device:u}=(0,i().v3)(),c=(0,o.useRef)(),m=(0,o.useRef)(null),[p,g]=(0,o.useState)(!1),[h,f]=(0,o.useState)(""),[v,C]=(0,o.useState)(void 0),[x,b]=(0,o.useState)(void 0);function y(e,t){c.current=requestAnimationFrame((e=>{if(m&&m.current&&(b(m.current.getBoundingClientRect()),t)){const{shouldOpenMenu:e,nextIndexToReplace:n}=t;e&&(g(!0),C(n))}}))}(0,o.useEffect)((()=>(window.addEventListener("resize",y),()=>{window.removeEventListener("resize",y),c.current&&(cancelAnimationFrame(c.current),c.current=void 0)})),[]);const j=t.length;function I(e){T(),g(!1),C(void 0),null==a||a(e)}function S(e){f(e.target.value)}function T(){f("")}function k(){s([])}const A=(0,o.useCallback)((e=>{const n=t.filter((t=>t!==e));s(n)}),[t,s]),w=(0,o.useCallback)((e=>{if("number"==typeof v&&v<t.length){const n=t.slice(0,v).concat(e,t.slice(v+1));s(n)}else if(t.includes(e)&&D.Pill)A(e);else{const n=t.concat(e);s(l().sb(n))}n||T()}),[A,v,t,n,s]);return(0,o.useEffect)((()=>{y()}),[j,r]),u.isMobile?(0,M.jsx)($,{inputTemporaryValue:h,isMenuOpen:p,onClearInput:T,onClearItems:k,onItemConfirm:w,onMenuClose:I,onMenuInputChange:S,onMenuOpen:function(){g(!0)},onRemove:A,searchTokenFilterProps:e}):(0,M.jsx)(O,{hasItemsSelected:r===D.Pill&&e.hasItemsSelected,inputTemporaryValue:h,isMenuOpen:p,onClearInput:T,onClearItems:k,onItemConfirm:w,onMenuClose:I,onMenuInputChange:S,onMenuOpen:function(e){null==d||d(),y(0,{shouldOpenMenu:!0,nextIndexToReplace:e})},onRemove:A,popupOriginRect:x,ref:m,searchTokenFilterProps:e})}function L(e){return{buttonMenuItem:{color:e.text.secondary},appendListItemButton:{color:e.text.tertiary}}}function H(e,t){return{menuItem:{minHeight:void 0,paddingTop:e.device.isMobile?12:4,paddingBottom:e.device.isMobile?12:4},menuItemWrapper:{display:"flex"},sectionMenuItem:{display:"flex"},appendListItemButton:{minHeight:void 0,paddingTop:4,paddingBottom:4,fontSize:a().ny(e,"UIRegular")},icon:{height:16,width:16,marginRight:"Pill"===t?6:-2,fill:"currentColor"},iconSmall:{height:12,width:12},summary:{display:"inline"},summaryItem:{display:"inline"}}}const O=(0,o.forwardRef)((function(e,t){const{hasItemsSelected:r,inputTemporaryValue:s,isMenuOpen:l,onClearInput:a,onClearItems:c,onItemConfirm:m,onMenuClose:g,onMenuInputChange:h,onMenuOpen:f,onRemove:v,popupOriginRect:C,searchTokenFilterProps:x}=e,{addItemLabel:b,disabled:y,focused:j,icon:I,iconStyles:S,items:T,mode:k,renderFilter:A,title:w}=x,B=(0,i().v3)(),R=y||l,P=(0,o.useMemo)((()=>({open:l})),[l]),F=(0,o.useCallback)((()=>{f()}),[f]);return(0,M.jsxs)(n(634369).A,{title:k===D.Section?w:void 0,marginAfter:k===D.Section,style:H(B,k).sectionMenuItem,children:[k!==D.Pill&&(0,M.jsx)(V,{disableFilters:R,items:T,onClick:f,onRemove:v,renderFilter:A}),(0,M.jsx)(n(700303).k.Provider,{value:P,children:k===D.Section?(0,M.jsx)(z,{addItemLabel:b,disabled:y,isMenuOpen:l,mode:k,onClick:F,ref:t}):k===D.Button?(0,M.jsx)(E,{disabled:y,focused:j,icon:I,isMenuOpen:l,mode:k,onClick:F,ref:t,title:w}):k===D.Pill?(0,M.jsx)(W,{disabled:y,hasItemsSelected:r,icon:I,iconStyles:S,onClick:F,ref:t,title:w}):void(0,n(76394).HB)(k)}),(0,M.jsx)(p().Ay,{alignmentToOrigin:d().C.Start,keepFocus:!0,onDismiss:g,open:l,originRect:C,placementToOrigin:d().W.Bottom,popupType:u().n.Popup,preventScaleTransition:!0,render:()=>(0,M.jsx)(_,{searchTokenFilterProps:x,inputTemporaryValue:s,onMenuInputChange:h,onClearInput:a,onClearItems:c,onItemConfirm:m,onMenuClose:g,onRemove:v}),trapFocus:!0})]})}));function V(e){const{disableFilters:t,items:n,onClick:i,onRemove:r,renderFilter:s}=e,l=(0,o.useMemo)((()=>n.map(((e,n)=>(0,M.jsx)("li",{children:s(e,{disabled:t,onClick:()=>i(n),onRemove:()=>r(e)})},`${e}_${n}`)))),[t,n,i,r,s]);return(0,M.jsx)("ul",{style:a().$t,children:l})}const z=(0,o.forwardRef)((function(e,t){const{addItemLabel:o,disabled:s,isMenuOpen:l,mode:a,onClick:d}=e,u=H((0,i().v3)(),a),c=(0,r().IS)(L,[L]);return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("div",{ref:t,style:u.menuItemWrapper}),(0,M.jsx)(m().A,{disabled:s||l,focused:!1,icon:(0,n(339189).W)(u.iconSmall),onClick:d,style:{...u.appendListItemButton,...c.appendListItemButton},title:o})]})})),E=(0,o.forwardRef)((function(e,t){const{disabled:n,focused:o,icon:s,isMenuOpen:l,mode:a,onClick:d,title:u}=e,c=H((0,i().v3)(),a),p=(0,r().IS)(L,[L]),g={...c.menuItem,...p.buttonMenuItem};return(0,M.jsx)("div",{ref:t,style:c.menuItemWrapper,children:(0,M.jsx)(m().A,{disabled:n||l,focused:o,icon:s(c.icon),onClick:d,style:g,title:u})})})),W=(0,o.forwardRef)((function(e,t){const{disabled:o,hasItemsSelected:r,icon:s,iconStyles:l,onClick:a,title:d}=e,u=H((0,i().v3)(),D.Pill);return(0,M.jsx)("div",{ref:t,style:u.menuItemWrapper,children:(0,M.jsx)(n(662505).A,{on:r,icon:s({...u.icon,...l}),title:(0,M.jsx)("span",{children:d}),onClick:a,wrapStyle:{opacity:o?.4:1}})})}));function U(e){const{disableFilters:t,items:n,mode:o,onClickClear:r,onMenuOpen:s,renderItemForSummary:l,title:d}=e,u=H((0,i().v3)(),o),c={...a().$t,...u.summary},m=n.length-1,p=(0,M.jsx)("ul",{style:c,children:n.map(((e,t)=>(0,M.jsxs)("li",{style:u.summaryItem,children:[l(e),t!==m&&","," "]},e)))});return(0,M.jsx)(f().A,{disabled:t,label:d,onClick:s,onClickClear:r,title:p})}function $(e){const{inputTemporaryValue:t,isMenuOpen:n,onClearInput:o,onClearItems:r,onItemConfirm:s,onMenuClose:l,onMenuInputChange:a,onMenuOpen:d,onRemove:c,searchTokenFilterProps:g}=e,{mode:h,disabled:f,title:v,items:C,renderItemForSummary:x,icon:b}=g,y=H((0,i().v3)(),h),j=f||n,I=h===D.Section?(0,M.jsx)(U,{disableFilters:j,items:C,mode:h,onClickClear:r,onMenuOpen:d,renderItemForSummary:x,title:v}):(0,M.jsx)(m().A,{disabled:j,focused:!1,icon:b({...y.icon}),onClick:d,title:v});return(0,M.jsx)(p().Ay,{keepFocus:!0,onDismiss:l,open:n,origin:I,popupType:u().n.SlideUp,render:()=>(0,M.jsx)(_,{inputTemporaryValue:t,onClearInput:o,onClearItems:r,onItemConfirm:s,onMenuClose:l,onMenuInputChange:a,onRemove:c,searchTokenFilterProps:g})})}function _(e){const{inputTemporaryValue:t,onClearInput:n,onClearItems:o,onItemConfirm:i,onMenuClose:r,onMenuInputChange:l,onRemove:a,searchTokenFilterProps:d}=e,{renderToken:u,renderFooter:m,allowApplyBatchSelection:p}=d;return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(A,{...d,onChange:l,onClear:()=>{n(),o()},onConfirm:i,onDismiss:r,onRemove:a,renderToken:u,value:t}),m&&(0,M.jsxs)(h().A,{style:{padding:6,justifyContent:"space-between",display:"flex",flexDirection:"row"},topBorder:!0,children:[(0,M.jsx)(c().p,{onClick:o,children:(0,M.jsx)(s().sA,{id:"searchTokenFilter.clearButton",defaultMessage:"Clear"})}),p&&(0,M.jsx)(g().A,{onClick:()=>{r("applyButton")},children:(0,M.jsx)(s().sA,{defaultMessage:"Apply",id:"searchTokenFilter.applyButton"})})]})]})}},641828:(e,t,n)=>{n.d(t,{A:()=>T});var o=n(242343),i=()=>n(237385),r=()=>n(803290),s=()=>n(174114),l=()=>n(214263),a=()=>n(653998),d=()=>n(76394),u=()=>n(662505),c=()=>n(36746),m=()=>n(907721),p=()=>n(466321),g=()=>n(209684),h=()=>n(535906),f=()=>n(655830),v=()=>n(443252),C=()=>n(951540),x=()=>n(867988),b=()=>n(489090),y=()=>n(348618),j=()=>n(634369),I=()=>n(634444),S=n(163643);const T=function(e){let{onChange:t,onMenuDismiss:o,showButtons:s,title:l,value:a,disabled:d,dateFormat:u,icon:c,mode:m,focused:p}=e;const g=(0,i().v3)(),h=(0,r().uB)(void 0,n(356833).A);(0,n(269280).l)((()=>{D({value:a},h)}));const{device:f}=g;return f.isMobile?(0,S.jsx)(W,{onChange:t,onMenuDismiss:o,showButtons:s,title:l,value:a,disabled:d,dateFormat:u,icon:c,mode:m,store:h}):(0,S.jsx)(E,{onChange:t,onMenuDismiss:o,showButtons:s,title:l,value:a,disabled:d,dateFormat:u,focused:p,icon:c,mode:m,store:h})};function M(e){const{device:t}=e;return t.isMobile?p().n.SlideUp:p().n.Popup}function k(e){return{buttonMenuItem:{color:e.text.secondary},activeMenuItem:{color:e.text.primary}}}function A(e){e.preventDefault&&e.preventDefault()}function w(e){e({starting:void 0,ending:void 0})}function B(e){return{menuItem:{minHeight:void 0,paddingTop:e.device.isMobile?12:4,paddingBottom:e.device.isMobile?12:4},icon:{height:14,width:14,fill:"currentColor"},iconActiveDesktop:{height:14,width:14,fill:"currentColor",alignSelf:"flex-start",marginTop:2,marginRight:2},iconActiveDesktopWrapper:{marginTop:0},iconActiveMobile:{height:14,width:14,fill:"currentColor",marginTop:1,marginRight:6},popup:{paddingTop:12,paddingBottom:8},menuItemTitleDesktop:{width:"100%"},sectionMenuItem:{display:"flex"},summary:{display:"inline-flex"}}}function R(e,t){t||e.setState({...e.state,isOpen:!0,focus:"starting"})}function P(e,t,n,o,i){const{temporaryDateRange:r}=n.state;c().a9(e)||(i||t(r),n.setState({...n.state,isOpen:!1,temporaryDateRange:{starting:void 0,ending:void 0}}),o&&o())}function D(e,t){if(!e.error)return t.setState({...t.state,temporaryDateRange:{...t.state.temporaryDateRange,...e.value}})}function F(e){let{disabled:t,icon:n,title:r,store:s}=e;const l=(0,i().v3)(),a=(0,o.useCallback)((()=>R(s,t)),[s,t]),d=B(l);return(0,S.jsx)(h().A,{disabled:t,focused:!1,icon:n(d.icon),title:r,onClick:a})}function L(e){let{disabled:t,title:n,value:r,dateFormat:s,onChange:d,store:u}=e;const m=(0,a().tz)(),p=(0,i().v3)(),g=(0,o.useCallback)((()=>R(u,t)),[u,t]),h=B(p),f=(0,S.jsxs)("div",{style:h.summary,children:[(0,l().k)(h.iconActiveMobile),c().tX(r,m,s)]});return(0,S.jsx)(y().A,{disabled:t,onClick:g,onClickClear:()=>w(d),label:n,title:f})}function H(e){let{disabled:t,value:n,dateFormat:r,focused:d,onChange:u,store:m}=e;const p=(0,a().tz)(),g=(0,s().DP)(),f=(0,i().v3)(),v=(0,o.useCallback)((()=>R(m,t)),[m,t]),C=B(f),x=k(g),y={...C.menuItem,...x.activeMenuItem},j=c().tX(n,p,r),I=(0,S.jsx)(b().A,{onClick:()=>w(u),disabled:t});return(0,S.jsx)(h().A,{focused:d,disabled:t,icon:(0,l().k)(C.iconActiveDesktop),title:j,right:I,isTokenTitle:!0,alignIconTop:!0,onClick:v,desktopTitleStyle:C.menuItemTitleDesktop,desktopIconStyle:C.iconActiveDesktopWrapper,style:y})}function O(e){let{disabled:t,title:n,icon:r,focused:l,mode:a,store:d}=e;const u=(0,s().DP)(),c=(0,i().v3)(),m=(0,o.useCallback)((()=>R(d,t)),[d,t]),p=B(c),g=k(u),f={...p.menuItem,...g.buttonMenuItem,...a===I().C.Pill?{width:"fit-content",border:"solid 1px",paddingLeft:0,paddingRight:0,borderRadius:20,fontSize:12}:{}};return(0,S.jsx)(h().A,{focused:l,disabled:t,icon:r(p.icon),title:n,onClick:m,style:f})}function V(e){let{disabled:t,value:n,title:i,store:r}=e;const s=(0,o.useCallback)((()=>R(r,t)),[r,t]);return(0,S.jsx)(u().A,{on:Boolean(n.starting||n.ending),icon:(0,l().k)({width:16,marginRight:6,fill:"currentColor"}),title:(0,S.jsx)("span",{children:i}),onClick:s})}function z(e){let{onChange:t,onMenuDismiss:n,showButtons:i,title:s,value:l,store:d}=e;const u=(0,o.useCallback)((e=>P(e,t,d,n,i)),[t,d,n,i]),c=(0,o.useCallback)((e=>D(e,d)),[d]),m=(0,r().K8)((()=>function(e,t){const{temporaryDateRange:n}=t.state;return{...e,...n}}(l,d)),[d,l]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(x().A,{title:s,value:m,onUpdate:c,store:d,onDismiss:u}),i&&(0,S.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",padding:"0px 10px"},children:[(0,S.jsx)(g().p,{isGray:!0,style:{marginLeft:"auto",marginRight:8},onClick:u,children:(0,S.jsx)(a().sA,{defaultMessage:"Cancel",id:"searchDateFilter.cancelButton.label"})}),(0,S.jsx)(C().A,{onClick:()=>t(d.state.temporaryDateRange),children:(0,S.jsx)(a().sA,{defaultMessage:"Accept",id:"searchDateFilter.acceptButton.label"})})]})]})}function E(e){let{mode:t,onChange:n,onMenuDismiss:s,showButtons:l,title:a,value:u,disabled:c,dateFormat:p,focused:g,icon:h,store:C}=e;const x=(0,i().v3)(),b=(0,o.useCallback)((e=>P(e,n,C,s,l)),[n,C,s,l]),y=(0,o.useCallback)((()=>(0,S.jsx)(z,{onChange:n,onMenuDismiss:s,showButtons:l,title:a,value:u,store:C})),[n,s,l,a,u,C]),T=B(x),k=t===I().C.Section,w=k?a:void 0,R=t===I().C.Section?(0,S.jsx)(H,{disabled:c,value:u,dateFormat:p,focused:g,onChange:n,store:C}):t===I().C.Button?(0,S.jsx)(O,{disabled:c,title:a,icon:h,focused:g,mode:t,store:C}):t===I().C.Pill?(0,S.jsx)(V,{disabled:c,value:u,title:a,store:C}):void(0,d().HB)(t),D=(0,r().K8)((()=>C.state.isOpen),[C]);return(0,S.jsx)(j().A,{title:w,marginAfter:k,children:(0,S.jsx)(f().A,{debugName:"SearchDateFilter",capture:D,onUp:A,onDown:A,onEnter:A,children:(0,S.jsx)(v().Ay,{popupType:M(x),open:D,origin:R,render:y,onDismiss:b,placementToOrigin:m().W.Bottom,alignmentToOrigin:m().C.Start,keepFocus:!0,style:T.popup})})})}function W(e){let{mode:t,onChange:n,onMenuDismiss:i,showButtons:s,title:l,value:a,disabled:d,dateFormat:u,icon:c,store:m}=e;const g=(0,r().K8)((()=>m.state.isOpen),[m]),h=(0,o.useCallback)((e=>P(e,n,m,i,s)),[n,m,i,s]),f=(0,o.useCallback)((()=>(0,S.jsx)(z,{onChange:n,onMenuDismiss:i,showButtons:s,title:l,value:a,store:m})),[n,i,s,l,a,m]),C=t===I().C.Section?(0,S.jsx)(L,{disabled:d,title:l,value:a,dateFormat:u,onChange:n,store:m}):(0,S.jsx)(F,{disabled:d,icon:c,title:l,store:m});return(0,S.jsx)(v().Ay,{popupType:p().n.SlideUp,open:g,origin:C,render:f,onDismiss:h,preventScaleTransition:!0})}},662505:(e,t,n)=>{n.d(t,{A:()=>d});n(242343);var o=()=>n(237385),i=()=>n(174114),r=()=>n(198654),s=()=>n(126451),l=()=>n(622286),a=n(163643);function d(e){const{icon:t,title:n,on:d,disabled:u,hasDiff:c,wrapStyle:m,innerStyle:p,hideChevron:g}=e,{isMobile:h}=(0,o().Y0)(),f=(0,l().X)("db_ux_chrome"),v=(0,i().IS)((e=>({container:{borderRadius:14,marginRight:6,display:"inline-flex",...c&&{position:"relative"},...m},filterPill:{fontSize:14,display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",borderRadius:32,height:h?28:24,lineHeight:h?"28px":"24px",padding:"0 8px",...!f&&{border:`1px solid ${e.outlineButtonBorder}`},color:e.text.secondary,...d&&{color:e.text.uiBluePrimary,borderColor:e.filterPillBorder,background:e.tint.uiBlue},...u&&{color:e.text.uiBlueTertiary,borderColor:e.text.uiBlueTertiary,background:e.tint.uiBlue},...p},hovered:d?{background:e.tint.uiBlueHover}:{},pressed:d?{background:e.tint.uiBluePressed}:{},chevron:{width:10,marginLeft:4,marginTop:1,fill:u?e.text.uiBlueTertiary:d?e.blueColor:e.lightIconColor},diffDot:{position:"absolute",top:-2,right:-2,background:"dark"===e.mode?e.accentColors.orange[500]:e.accentColors.orange[300],border:`1px solid ${e.contentBackground}`,width:9,height:9,borderRadius:9}})),[c,m,h,f,d,u,p]);return(0,a.jsxs)("div",{style:v.container,children:[(0,a.jsxs)(s().A,{disabled:u,style:v.filterPill,hoveredStyle:v.hovered,pressedStyle:v.pressed,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onClick:e.onClick,onDoubleClick:e.onDoubleClick,children:[t,n,!g&&(0,r().b)(v.chevron)]}),c&&(0,a.jsx)("div",{style:v.diffDot})]})}},699773:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(242343),i=()=>n(846581),r=()=>n(16456),s=()=>n(427091),l=n(163643);const a=function(e){const t=(0,n(653998).tz)(),a=(0,n(174114).DP)(),c=(0,n(221573).I)(),m=(0,o.useRef)(),p=(0,o.useCallback)((()=>{const t=e.value;if(!t)return;const o=r().q8(t,(0,s().P)());if(!o)return;const i=o.valueOf(),l=i-Date.now();l<0||l>n(141666).nD||m.current&&m.current.timestamp===i||(m.current&&clearTimeout(m.current.timer),m.current={timestamp:i,timer:setTimeout((()=>c("DateBox","DateBox/createReminderTimer")),l)})}),[c,e.value]),g=(0,o.useCallback)((()=>{m.current&&(clearTimeout(m.current.timer),m.current=void 0)}),[]);(0,o.useEffect)((()=>{p()}),[p]),(0,o.useEffect)((()=>()=>{g()}),[g]);const{value:h,withComma:f}=e,v=(0,n(803290).K8)((()=>h?(0,i().ZF)({value:h,date_format:e.dateFormat,time_format:e.timeFormat,userTimeZone:(0,s().P)(),allowRelativeDates:!0,intl:t,shortenDateAndRange:e.shortenDateAndRange,displayInUserTimezone:e.displayInUserTimezone,getToday:n(533975).x1}):void 0),[t,e.dateFormat,e.displayInUserTimezone,e.shortenDateAndRange,e.timeFormat,h]);if(!h)return null;const C=r().AA(h,(0,s().P)(),n(16791).locale);let x;if(h.reminder){const e=r().Zs(h,(0,s().P)());x=e?{color:a.errorText}:{color:n(220413).Ay.blue}}const b=(0,l.jsxs)(l.Fragment,{children:[v,h.reminder&&(0,n(508024).P)({display:"inline-block",width:"1em",marginLeft:6,marginRight:2,paddingBottom:4,verticalAlign:"middle"}),f?", ":null]});return e.disableTooltip?(0,l.jsx)("div",{className:e.className,style:{...e.style,...x},children:b}):(0,l.jsx)(n(103151).A,{renderTooltip:()=>(0,l.jsxs)(l.Fragment,{children:[e.tooltipHeader,(0,l.jsxs)("div",{style:u(a,e.tooltipHeader),children:[d(C.start),C.end?` → ${d(C.end)}`:""]})]}),render:t=>(0,l.jsx)("div",{className:e.className,style:{...e.style,...x},...t,children:b}),placement:e.tooltipPlacement})};function d(e){return(0,i().eV)({value:e,preset:"medium"})}function u(e,t){return t?{color:e.text.contrastSecondary}:{}}},858280:(e,t,n)=>{n.d(t,{n:()=>i});n(242343);var o=n(163643);const i=(0,n(680369).wt)("import",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M13.291 14.5723C13.291 14.1484 12.9902 13.834 12.5732 13.834H8.06836C8.24609 13.8203 8.42383 13.7314 8.56055 13.5947L13.0586 9.08301C13.2158 8.91895 13.291 8.74121 13.291 8.54297C13.291 8.12598 12.9902 7.81836 12.5801 7.81836C12.3682 7.81836 12.1836 7.90039 12.0469 8.03711L10.4951 9.56836L8.69043 11.585L8.75195 10.1084V1.61133C8.75195 1.16016 8.44434 0.852539 8 0.852539C7.5625 0.852539 7.25488 1.16016 7.25488 1.61133V10.1084L7.30957 11.5781L5.50488 9.56836L3.95312 8.03711C3.82324 7.90039 3.63184 7.81836 3.42676 7.81836C3.0166 7.81836 2.70898 8.12598 2.70898 8.54297C2.70898 8.74121 2.78418 8.91895 2.94141 9.08301L7.44629 13.5947C7.58301 13.7314 7.75391 13.8203 7.93848 13.834H3.44043C3.0166 13.834 2.70898 14.1484 2.70898 14.5723C2.70898 14.9893 3.0166 15.3037 3.44043 15.3037H12.5732C12.9902 15.3037 13.291 14.9893 13.291 14.5723Z"})})},888575:(e,t,n)=>{n.d(t,{A:()=>i});n(242343);var o=n(163643);const i=function(e){const{botStore:t,avatarSize:i,shouldShowBadge:r,style:s,inline:l}=e,a=(0,n(653998).tz)(),d=(0,n(237385).Y0)(),u=(0,n(803290).K8)((()=>null==t?void 0:t.getDisplayName(a)),[t,a]),{outerStyle:c,avatarWrapStyle:m,badgeStyle:p}=(0,n(174114).IS)((e=>({outerStyle:{display:"flex",alignItems:"center",minWidth:0,...s},avatarWrapStyle:l?{width:"none",minHeight:"none",marginRight:6}:{marginRight:6},badgeStyle:{padding:"2px 6px",borderRadius:4,color:e.text.secondary,background:e.legacyDefaultSelectColor,fontSize:d.isMobile?11:9,lineHeight:d.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em",marginLeft:8,marginTop:1}})),[s,l,d]);return(0,o.jsxs)("div",{style:c,children:[(0,o.jsx)("div",{style:m,children:(0,o.jsx)(n(951156).A,{botStore:t,size:i})}),(0,o.jsx)("div",{style:{...n(31448).RC},children:u}),r&&(0,o.jsx)("div",{style:p,children:"Bot"})]})}}}]);