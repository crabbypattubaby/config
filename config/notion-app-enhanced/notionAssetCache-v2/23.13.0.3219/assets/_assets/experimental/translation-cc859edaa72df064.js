"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[8340],{150936:(e,t,s)=>{s.d(t,{b:()=>a});s(242343);var n=s(163643);const a=(0,s(680369).wt)("thinCheck",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M6.385 14.162c.362 0 .642-.15.84-.444L13.652 3.71c.144-.226.205-.417.205-.602 0-.485-.341-.82-.833-.82-.335 0-.54.123-.746.444l-5.926 9.4-3.042-3.903c-.205-.267-.417-.376-.718-.376-.492 0-.848.348-.848.827 0 .212.075.417.253.629l3.541 4.416c.24.3.492.437.848.437z"})})},354148:(e,t,s)=>{s.d(t,{Wx:()=>o,fM:()=>n,l9:()=>a,sM:()=>i});const n=new(s(129978).O2)("framer-motion",(async()=>await Promise.all([s.e(44711),s.e(53321),s.e(37043)]).then(s.bind(s,196959))));function a(e){return e.useAnimate()}function i(e){return e.useAnimation()}function o(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];return e.useInView(...s)}},982427:(e,t,s)=>{s.r(t),s.d(t,{TopbarAmbientSuggestTranslateButton:()=>k,TranslateBanner:()=>P().TranslateBanner});var n=s(242343),a=()=>s(237385),i=()=>s(803290),o=()=>s(174114),r=()=>s(817545),l=()=>s(81322),g=()=>s(150936),u=()=>s(753674),c=()=>s(653998),d=()=>s(76394),m=()=>s(574541),b=()=>s(658388),h=()=>s(126451),p=()=>s(356813),f=()=>s(354148),v=()=>s(137476),S=()=>s(637269),x=()=>s(129978),y=()=>s(370557),I=()=>s(77251),B=()=>s(216273),L=s(163643);const C=(0,c().YK)({translateToLabel:{defaultMessage:"Translate to {language}",id:"topbar.ambientSuggestTranslate.label"},dismissLabel:{defaultMessage:"Dismiss translation suggestion",id:"topbar.ambientSuggestTranslate.dismiss"},acceptSuggestionLabel:{defaultMessage:"Stop showing translation suggestions.",id:"topbar.ambientSuggestTranslate.accept"},dismissSuggestionLabel:{defaultMessage:"Dismiss translation suggestion for this page, but keep suggesting translations.",id:"topbar.ambientSuggestTranslate.dismissSuggestionLabel"}});function k(e){const{value:t}=(0,x().fJ)(f().fM),[s,a]=n.useState("suggesting");return t?"suggesting"===s?(0,L.jsx)(w,{...e,framerMotion:t,showDismissForeverMessage:()=>{a("dismissing")}}):"dismissing"===s?(0,L.jsx)(T,{suggestedPageTranslationLanguage:e.suggestedPageTranslationLanguage,detectedPageLanguage:e.detectedPageLanguage,store:e.store,onDismiss:()=>{e.setTranslationSuggestionDismissed(),a("suggesting")}}):(0,d().HB)(s):null}function w(e){let{store:t,isVisible:s,compact:g,framerMotion:d,suggestedPageTranslationLanguage:b,detectedPageLanguage:f,setTranslationSuggestionDismissed:v,showDismissForeverMessage:x}=e;const{AnimatePresence:I,motion:k}=d,w=(0,a().v3)(),T=(0,c().tz)(),P=(0,i().O$)(B().b),M=(0,i().K8)((()=>y().Ay.state.expanded),[]),j=(0,n.useMemo)((()=>g||M),[g,M]),A=(0,o().IS)((e=>({button:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:256,color:e.text.uiBluePrimary,gap:2,height:28,background:e.accentColors.uiBlue[100],...(0,S().g)({noDrag:w.device.isElectron&&!P})},hoveredButton:{background:e.accentColors.uiBlue[200]},pressedButton:{background:e.accentColors.uiBlue[300]},translateIcon:{height:18,width:18,marginLeft:9,marginRight:3},text:{fontSize:14,lineHeight:1.428},closeIcon:{height:14,width:14,fill:e.text.uiBlueSecondary},closeIconHovered:{background:e.accentColors.uiBlue[200]},closeIconPressed:{background:e.accentColors.uiBlue[300]},dismissIconContainer:{borderRadius:14,marginRight:2,marginTop:2,marginBottom:2}})),[w.device.isElectron,P]),_=(0,n.useCallback)((()=>{m().Z9({pageStore:t,environment:w}),m().Ww({pageStore:t,targetLanguage:b,sourceLanguage:f,environment:w,triggeredFrom:"ambient_suggestion"}),v()}),[w,t,f,b,v]),D=(0,n.useRef)(null),H=(0,n.useCallback)((()=>{j?v():x()}),[j,v,x]);return(0,L.jsx)(I,{children:s&&(0,L.jsx)(k.div,{ref:D,initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.1},children:(0,L.jsxs)(h().A,{style:A.button,hoveredStyle:A.hoveredButton,pressedStyle:A.pressedButton,onClick:_,ariaLabel:T.formatMessage((0,u().Bj)(b)),children:[(0,r().K)(A.translateIcon),(0,L.jsx)(I,{initial:M,children:!j&&(0,L.jsx)(k.div,{initial:{width:0},exit:{width:0},animate:{width:"auto"},transition:{duration:.1},style:A.text,children:(0,L.jsx)(c().sA,{...C.translateToLabel,values:{language:T.formatMessage((0,u().Bj)(b))}})})}),(0,L.jsx)(p().A,{style:A.dismissIconContainer,icon:l().V,iconStyle:A.closeIcon,hoveredStyle:A.closeIconHovered,pressedStyle:A.closeIconPressed,onClick:H,ariaLabel:T.formatMessage(C.dismissLabel)})]},"button")})})}function T(e){const{store:t,suggestedPageTranslationLanguage:s,detectedPageLanguage:i,onDismiss:r}=e,u=(0,c().tz)(),d=(0,a().v3)(),m=(0,n.useCallback)((()=>{r(),I().W.setState(!0),b().h9(d),(0,v().u4)({environment:d,event:{eventName:"click_dismiss_translation_suggestion_forever",eventProperties:{source_language:i,suggested_language:s,page_id:t.id}}})}),[r,d,t,i,s]),h=(0,o().IS)((e=>({wrapper:{display:"flex",alignItems:"center",color:e.text.uiBluePrimary,fontSize:14,lineHeight:1.428,gap:6},iconWrapper:{display:"flex",alignItems:"center"},iconContainer:{borderRadius:"100%",marginTop:2,marginBottom:2},checkIcon:{height:13,width:13,fill:e.text.uiBluePrimary},closeIcon:{height:14,width:14,fill:e.text.uiBluePrimary},blueIconHover:{background:e.accentColors.uiBlue[200]},blueIconPressed:{background:e.accentColors.uiBlue[300]}})),[]);return(0,L.jsxs)("div",{style:h.wrapper,children:[(0,L.jsx)(c().sA,{defaultMessage:"Stop showing translation suggestions?",id:"topbar.ambientSuggestTranslate.dismissConfirmation"}),(0,L.jsxs)("div",{style:h.iconWrapper,children:[(0,L.jsx)(p().A,{style:h.iconContainer,icon:g().b,iconStyle:h.checkIcon,onClick:m,ariaLabel:u.formatMessage(C.acceptSuggestionLabel),hoveredStyle:h.blueIconHover,pressedStyle:h.blueIconPressed}),(0,L.jsx)(p().A,{style:h.iconContainer,icon:l().V,iconStyle:h.closeIcon,onClick:r,ariaLabel:u.formatMessage(C.dismissSuggestionLabel),hoveredStyle:h.blueIconHover,pressedStyle:h.blueIconPressed})]})]})}var P=()=>s(473640)}}]);