"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[53147],{267093:(t,e,i)=>{i.r(e),i.d(e,{FeatureIntroPopup:()=>S,default:()=>k});i(403517);var o=i(242343),n=()=>i(803290),r=()=>i(174114),s=()=>i(951592),l=()=>i(81322),a=()=>i(591790),d=()=>i(653998),u=()=>i(220413),c=()=>i(31448),g=()=>i(348860),p=()=>i(907721),h=()=>i(466321),m=()=>i(485966),x=()=>i(209684),y=()=>i(356813),f=()=>i(762436),b=()=>i(443252),v=()=>i(951540),C=i(163643);const j=function(t){const{imageSrc:e,imageStyles:i,title:o,subtitle:n}=t,s=(0,r().IS)((t=>({content:{padding:"0 24px",height:90},title:{fontSize:c().J.UIRegular.desktop,fontWeight:c().Wy.semibold,marginBottom:5,marginTop:16},subtitle:{fontSize:c().J.UIRegular.desktop,color:t.text.secondary},image:{display:"flex",margin:"auto"},imageWrapper:{borderBottom:`1px solid ${t.lightDividerColor}`,display:"flex"}})),[]);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{style:s.imageWrapper,children:(0,C.jsx)("img",{style:{...s.image,...i},src:e},e)}),(0,C.jsxs)("div",{style:s.content,children:[(0,C.jsx)("div",{style:s.title,children:o}),(0,C.jsx)("div",{style:s.subtitle,children:n})]})]})};const B=function(t){const e=(0,r().IS)((t=>({headerContainer:{display:"flex",marginTop:12,marginBottom:8,justifyContent:"center"},headerText:{fontWeight:c().Wy.medium},iconContainer:{display:"flex",justifyContent:"center"},icon:{width:24,height:24,fill:t.mediumIconColor,marginTop:4},description:{fontSize:14,color:t.text.secondary,marginBottom:16,textAlign:"center"}})),[]);return(0,C.jsxs)(C.Fragment,{children:[t.icon&&(0,C.jsx)("div",{style:e.iconContainer,children:t.icon(t.iconStyle?t.iconStyle:e.icon)}),(0,C.jsx)("div",{style:e.headerContainer,children:(0,C.jsx)("div",{style:e.headerText,children:t.header})}),(0,C.jsx)("div",{style:e.description,children:t.description})]})};function S(t){const{initialPromo:e,steps:i,isUserEligible:S=!0,seenFeatureUserSetting:k,userSettingsStore:I,allowExternalMouseEvents:M,onDismiss:A,onTryFeatureClick:w,onPopupSeen:T,onLearnMore:F,ctaMessage:P,calloutId:W}=t,L=(0,d().tz)(),E=(0,r().IS)((t=>({popupContainer:{background:"light"===t.mode?t.contentBackground:t.surface.wash,borderRadius:8,width:320,padding:"20px 20px 16px",boxShadow:t.shadowMD},button:{display:"flex",alignItems:"center",justifyContent:"center"},dismissButton:{marginTop:10},closeButton:{position:"absolute",top:10,right:10,padding:0,borderRadius:"50%",height:24,width:24,background:t.buttonHoveredBackground},closeButtonHoveredStyle:{backgroundColor:t.buttonPressedBackground},closeButtonIcon:{width:14,height:14,fill:"light"===t.mode?u().XA.light.gray[400]:u().XA.dark.translucentGray[600]},backButton:{marginRight:8,fontWeight:c().Wy.medium},nextButton:{fontWeight:c().Wy.medium},inactiveDot:{fill:t.lightIconColor},dot:{width:6,height:6,marginRight:8},footer:{marginLeft:24,marginRight:24,marginBottom:16,marginTop:8,alignItems:"center",height:28,display:"flex"}})),[]),R=(0,g().L)(),[D,z]=(0,o.useState)(0),N=(0,o.useCallback)((()=>{const t=null==I?void 0:I.getSettings();return!t||Boolean(!0===t[k])}),[k,I]),U=(0,n().K8)((()=>!N()&&S&&m().default.state.inAppCalloutStore.getCalloutVisibility(W).canShow||Boolean(t.forceShow)),[W,N,S,t.forceShow]),G=(0,o.useCallback)((()=>{z(D+1),null==F||F()}),[D,F]),K=(0,s().ZC)(U);(0,o.useEffect)((()=>{U&&!K&&(null==T||T())}),[U,T,K]);const H=(0,n().K8)((()=>{var t;return null===(t=m().default.state.mainEditorCurrentBlockStore)||void 0===t?void 0:t.id}),[]),O=(0,s().ZC)(H);return(0,o.useEffect)((()=>{U&&void 0!==O&&H!==O&&A()}),[U,H,O,A]),(0,C.jsx)(b().Ay,{popupType:h().n.Popup,open:U,origin:(0,C.jsx)("div",{style:{position:"absolute",bottom:R+52,right:0}}),placementToOrigin:p().W.Top,alignmentToOrigin:p().C.Center,originGap:15,disableMouseCapture:M,render:()=>{const t=0===D,o=t?(0,C.jsx)(B,{...e}):(0,C.jsx)(j,{...i[D-1]}),n=t?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(v().A,{style:E.button,onClick:G,size:"lg",children:P||(0,C.jsx)(d().sA,{id:"FeatureIntroPopup.learnMore.text",defaultMessage:"Learn more"})}),(0,C.jsx)(x().p,{onClick:A,isLightGray:!0,style:{...E.button,...E.dismissButton},children:(0,C.jsx)(d().sA,{id:"FeatureIntroPopup.dismissButton.text",defaultMessage:"Dismiss"})})]}):(0,C.jsxs)("div",{style:E.footer,children:[(0,C.jsx)("div",{style:{display:"flex"},children:[...Array(i.length)].map(((t,e)=>{let o=E.dot;return o=e===D-1?{...o}:{...o,...E.inactiveDot},e===i.length&&(o={...o,marginRight:0}),(0,a().v)(o)}))}),(0,C.jsxs)("div",{style:{...E.button,marginLeft:"auto"},children:[D>1&&(0,C.jsx)(x().p,{onClick:()=>z(D-1),style:E.backButton,isGray:!0,children:(0,C.jsx)(d().sA,{id:"FeatureIntroPopup.backButton",defaultMessage:"Back"})}),D<i.length&&(0,C.jsx)(x().p,{onClick:()=>z(D+1),style:E.nextButton,isBlue:!0,children:(0,C.jsx)(d().sA,{id:"FeatureIntroPopup.nextButton",defaultMessage:"Next"})}),D===i.length&&(0,C.jsx)(v().A,{onClick:w,children:(0,C.jsx)(d().sA,{id:"FeatureIntroPopup.tryItOut.button",defaultMessage:"Try it out"})})]})]});return(0,C.jsxs)(f().U,{calloutId:W,children:[o,(0,C.jsx)(y().A,{icon:l().V,style:E.closeButton,hoveredStyle:E.closeButtonHoveredStyle,iconStyle:E.closeButtonIcon,disableBackground:!0,onClick:A,ariaLabel:L.formatMessage({id:"FeatureIntroPopup.closeButton.ariaLabel",defaultMessage:"Close"})}),n]})},style:0===D?E.popupContainer:{...E.popupContainer,padding:void 0}})}const k=S},348860:(t,e,i)=>{i.d(e,{L:()=>d});var o=()=>i(237385),n=()=>i(556078),r=()=>i(803290),s=()=>i(707423),l=()=>i(485966),a=()=>i(367111);function d(){const t=(0,o().v3)(),e=(0,o().Y0)(),i=(0,n().S)(),d=(0,r().K8)((()=>{if(!e.isMobileNative||!e.isAndroid)return 0;const{mainEditorCurrentBlockStore:o}=l().default.state;if(!o)return 0;return(0,s().rV)(t,o,null==i?void 0:i.publicEditModeStore.state).shouldShow?48:0}),[t,e,i]);return(0,r().K8)((()=>{if(!e.isMobileNative)return 24;const i=a().A.mobileNativeBottomPadding(t);return 24+d+i}),[t,e.isMobileNative,d])}}}]);