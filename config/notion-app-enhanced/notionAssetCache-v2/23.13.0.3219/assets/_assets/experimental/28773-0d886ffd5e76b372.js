"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[28773],{13614:(e,t,n)=>{n.r(t),n.d(t,{contextualizedOnboardingStageByStageName:()=>wi});var o=n(242343),a=()=>n(653998),i=(n(610931),n(725707),n(491955),n(403517),()=>n(803290)),s=()=>n(174114),r=()=>n(83544),l=()=>n(76394),d=()=>n(516267),u=()=>n(286404),c=()=>n(329979),g=()=>n(672154),p=n(163643);const m={notes:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.notes",defaultMessage:"Notes"}),iconName:"official-document"},clubs:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.clubs",defaultMessage:"Clubs"}),iconName:"people"},groupProjects:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.groupProjects",defaultMessage:"Group projects"}),iconName:"meeting"},budget:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.budget",defaultMessage:"Budget"}),iconName:"calculator"},habitTracker:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.habitTracker",defaultMessage:"Habit tracker"}),iconName:"checklist"},travel:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.travel",defaultMessage:"Travel"}),iconName:"airplane"},journal:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.journal",defaultMessage:"Journal"}),iconName:"book"}},v={notes:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.classNotes",defaultMessage:"Class notes"}),iconName:"official-document"},jobApplications:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.jobApplications",defaultMessage:"Job application"}),iconName:"briefcase"},clubs:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.clubs",defaultMessage:"Clubs"}),iconName:"people"},groupProjects:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.groupProjects",defaultMessage:"Group projects"}),iconName:"meeting"},research:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.research",defaultMessage:"Research"}),iconName:"microscope"},budget:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.budget",defaultMessage:"Budget"}),iconName:"calculator"},habitTracker:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.habitTracker",defaultMessage:"Habit tracker"}),iconName:"checklist"},travel:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.travel",defaultMessage:"Travel"}),iconName:"airplane"},journal:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.journal",defaultMessage:"Journal"}),iconName:"book"}},y={notes:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.classNotes",defaultMessage:"Class notes"}),iconName:"official-document"},jobApplications:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.jobApplication",defaultMessage:"Job application"}),iconName:"briefcase"},clubs:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.clubs",defaultMessage:"Clubs"}),iconName:"people"},groupProjects:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.groupProjects",defaultMessage:"Group projects"}),iconName:"meeting"},research:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.research",defaultMessage:"Research"}),iconName:"microscope"},habitTracker:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.habitTracker",defaultMessage:"Habit tracker"}),iconName:"checklist"},travel:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.travel",defaultMessage:"Travel"}),iconName:"airplane"},journal:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.journal",defaultMessage:"Journal"}),iconName:"book"}},b={jobApplications:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.jobApplication",defaultMessage:"Job application"}),iconName:"briefcase"},lessonPlans:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.lessonPlans",defaultMessage:"Lesson plans"}),iconName:"book"},classroomManagement:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.classroomManagement",defaultMessage:"Classroom management"}),iconName:"apple"},research:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.research",defaultMessage:"Research"}),iconName:"microscope"},budget:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.budget",defaultMessage:"Budget"}),iconName:"calculator"},habitTracker:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.habitTracker",defaultMessage:"Habit tracker"}),iconName:"checklist"},travel:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.travel",defaultMessage:"Travel"}),iconName:"airplane"},journal:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.journal",defaultMessage:"Journal"}),iconName:"book"}},f={jobApplications:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.jobApplication",defaultMessage:"Job application"}),iconName:"briefcase"},projectManagement:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.projectManagement",defaultMessage:"Project management"}),iconName:"list"},websiteBuilding:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.websiteBuilding",defaultMessage:"Website building"}),iconName:"computer"},budget:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.budget",defaultMessage:"Budget"}),iconName:"calculator"},habitTracker:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.habitTracker",defaultMessage:"Habit tracker"}),iconName:"checklist"},travel:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.travel",defaultMessage:"Travel"}),iconName:"airplane"},journal:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.journal",defaultMessage:"Journal"}),iconName:"book"}};function h(e){var t;if(!(0,c().isEducationFlowState)(e))return v;const{educationRole:n,educationLevel:o}=(null==e||null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.surveyResponses)??{};if(!n||!o)throw new Error("educationRole and educationLevel should be defined!");switch(n){case"student":switch(o){case"k-12":return m;case"graduate":return y;case"undergraduate":return v;default:return(0,l().HB)(o)}case"faculty member":return b;case"staff member":return f;case"other":throw new Error("Should not reach this component if educationRole is other!");default:return(0,l().HB)(n)}}function x(e){const{categoryName:t,iconName:n,onboardingState:o,title:a}=e,r=(0,i().K8)((()=>{var e;return"education_flow"===o.flowName?(null===(e=o.planTypeAndSurveyInfo)||void 0===e||null===(e=e.surveyResponses)||void 0===e?void 0:e.categories)??[]:[]}),[o]),l=(0,i().K8)((()=>r.includes(t)||!1),[t,r]),c=`/icons/${n}_${l?"gray":"lightgray"}.svg`,m=function(e){return(0,s().IS)((t=>({icon:{marginRight:8,color:e?t.icon.primary:t.icon.secondary},button:{alignItems:"center",width:"auto",height:40,borderRadius:8,margin:"6px 8px 6px 0px",borderColor:t.stroke.primary,color:t.text.secondary,paddingLeft:8,paddingRight:12,...e&&{color:t.text.primary,background:t.surface.elevated,borderColor:t.stroke.uiBluePrimary,outline:`1px solid ${t.stroke.uiBluePrimary}`}},categoryTitle:{flex:1,color:e?t.text.primary:t.text.secondary,overflowWrap:"break-word",whiteSpace:"normal"}})),[e])}(l);return(0,p.jsx)(u().A,{size:"lg",icon:()=>(0,p.jsx)(d().A,{type:"notion_icon",size:24,icon:c,largeIcon:!0,style:m.icon}),style:m.button,onClick:()=>function(e,t){if("education_flow"===t.flowName){var n;const o=(null===(n=t.planTypeAndSurveyInfo)||void 0===n||null===(n=n.surveyResponses)||void 0===n?void 0:n.categories)||[],a=o.includes(e)?o.filter((t=>t!==e)):[...o,e];g().A.update((e=>{var t;return{...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,surveyResponses:{...null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.surveyResponses,categories:a}}}}))}}(t,o),children:(0,p.jsx)("div",{style:m.categoryTitle,children:a})})}function S(e){let{children:t}=e;return(0,p.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",maxWidth:"406px"},children:t})}function j(){const e=(0,s().IS)((e=>({imageContainer:{position:"fixed",bottom:"0px",right:"0px",width:"40vw",height:"auto"}})),[]);return(0,p.jsx)("div",{children:(0,p.jsx)("img",{src:r().A.images.onboarding.categoryPickerSmallPng,alt:"Category Picker Right Image",style:e.imageContainer})})}const A=function(){const e=(0,i().O$)(g().A);let t=0;var n;return"education_flow"===e.flowName&&(t=(null===(n=e.planTypeAndSurveyInfo)||void 0===n||null===(n=n.surveyResponses)||void 0===n||null===(n=n.categories)||void 0===n?void 0:n.length)??0),(0,p.jsxs)("div",{children:[(0,p.jsxs)("span",{style:{color:"gray",fontSize:"small"},children:[t," ","Selected"]}),(0,p.jsx)(S,{children:Object.entries(h(e)).map((t=>{let[n,o]=t;if(o)return(0,p.jsx)(x,{iconName:o.iconName,onboardingState:e,title:o.title,categoryName:n},n)}))})]})},C={stageName:"education_category_picker",shouldSkip:()=>!1,getTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"What's on your mind?",id:"contextualizedOnboarding.educationCategoryPicker.title"}),getSubTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"Select as many as you want",id:"contextualizedOnboarding.educationCategoryPicker.subtitle"}),isContinueEnabled:e=>!0,isBackEnabled:e=>!0,renderStage:()=>(0,p.jsx)(A,{}),renderRightContent:()=>(0,p.jsx)(j,{})};var w=()=>n(403359),k=()=>n(907721),I=()=>n(257987),M=()=>n(535720),T=()=>n(35462),_=()=>n(237385),P=()=>n(225349),B=()=>n(163423),N=()=>n(220413),R=()=>n(535906),z=()=>n(158918);const O="other",D={exec:(0,p.jsx)(a().sA,{id:"PersonaCollectionModalQuestionSelect.roleQuestion.exec",defaultMessage:"Executive (C-level / VP)"}),dept_lead:(0,p.jsx)(a().sA,{id:"PersonaCollectionModalQuestionSelect.roleQuestion.dept_lead",defaultMessage:"Department lead"}),team_manager:(0,p.jsx)(a().sA,{id:"PersonaCollectionModalQuestionSelect.roleQuestion.team_manager",defaultMessage:"Team manager"}),member:(0,p.jsx)(a().sA,{id:"PersonaCollectionModalQuestionSelect.roleQuestion.member",defaultMessage:"Team member"}),solo:(0,p.jsx)(a().sA,{id:"PersonaCollectionModalQuestionSelect.roleQuestion.solo",defaultMessage:"Solo-preneur / Freelancer"}),personal:(0,p.jsx)(a().sA,{id:"PersonaCollectionModalQuestionSelect.roleQuestion.personal",defaultMessage:"Using Notion just for myself"})},W={creative:(0,p.jsx)(a().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.creative",defaultMessage:"Creative"}),founder_or_ceo:(0,p.jsx)(a().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.founderCeo",defaultMessage:"Founder / CEO"}),internal_communication:(0,p.jsx)(a().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.internalCommunication",defaultMessage:"Internal Communication"}),eng:(0,p.jsx)(a().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.eng",defaultMessage:"Engineering"}),product_design:(0,p.jsx)(a().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.productDesign",defaultMessage:"Product Design"}),project_or_program_management:(0,p.jsx)(a().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.projectProgramMgmt",defaultMessage:"Project / Program Management"}),product:(0,p.jsx)(a().sA,{id:"PersonaCollectionModalQuestionSelect.question.product",defaultMessage:"Product Management"}),marketing:(0,p.jsx)(a().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.marketing",defaultMessage:"Marketing"}),sales:(0,p.jsx)(a().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.sales",defaultMessage:"Sales"}),support:(0,p.jsx)(a().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.support",defaultMessage:"Customer Service"}),finance:(0,p.jsx)(a().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.finance",defaultMessage:"Finance"}),hr:(0,p.jsx)(a().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.hr",defaultMessage:"Human Resources"}),it_admin:(0,p.jsx)(a().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.itAdmin",defaultMessage:"IT Admin"}),knowledge_management:(0,p.jsx)(a().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.knowledgeManagement",defaultMessage:"Knowledge Management"}),operations:(0,p.jsx)(a().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.operations",defaultMessage:"Operations"}),educator:(0,p.jsx)(a().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.educator",defaultMessage:"Educator"}),other:(0,p.jsx)(a().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.otherWorkType",defaultMessage:"Other"}),student:(0,p.jsx)(a().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.student",defaultMessage:"Student"})},E={docs:(0,p.jsx)(a().sA,{id:"PersonaCollectionModalQuestionSelect.useQuestion.docs",defaultMessage:"Collaborate with others in docs"}),wikis:(0,p.jsx)(a().sA,{id:"PersonaCollectionModalQuestionSelect.useQuestion.wikis",defaultMessage:"Create a knowledge base / wiki"}),notes:(0,p.jsx)(a().sA,{id:"PersonaCollectionModalQuestionSelect.useQuestion.notes",defaultMessage:"Write notes"}),project:(0,p.jsx)(a().sA,{id:"PersonaCollectionModalQuestionSelect.useQuestion.project",defaultMessage:"Manage projects"}),goals:(0,p.jsx)(a().sA,{id:"PersonaCollectionModalQuestionSelect.useQuestion.goals",defaultMessage:"Track company goals and OKRs"}),ai:(0,p.jsx)(a().sA,{id:"PersonaCollectionModalQuestionSelect.useQuestion.question.ai",defaultMessage:"Create and find content with AI"}),other:(0,p.jsx)(a().sA,{id:"PersonaCollectionModalQuestionSelect.useQuestion.otherUseType",defaultMessage:"Other"})},L={"1_10":(0,p.jsx)(a().sA,{id:"OnboardingSurvey.companySize.question.1_10",defaultMessage:"1-10"}),"10_49":(0,p.jsx)(a().sA,{id:"OnboardingSurvey.companySize.question.10_49",defaultMessage:"10-50"}),"50_99":(0,p.jsx)(a().sA,{id:"OnboardingSurvey.companySize.question.50_99",defaultMessage:"50-100"}),"100_299":(0,p.jsx)(a().sA,{id:"OnboardingSurvey.companySize.question.100_299",defaultMessage:"100-300"}),"300_999":(0,p.jsx)(a().sA,{id:"OnboardingSurvey.companySize.question.300_999",defaultMessage:"300-1000"}),"1000_5000":(0,p.jsx)(a().sA,{id:"OnboardingSurvey.companySize.question.1000_5000",defaultMessage:"1000-5000"}),"5000+":(0,p.jsx)(a().sA,{id:"OnboardingSurvey.companySize.question.5000+",defaultMessage:"5000+"})},q={student:(0,p.jsx)(a().sA,{id:"OnboardingEducationSurvey.educationRole.question.student",defaultMessage:"Student"}),"faculty member":(0,p.jsx)(a().sA,{id:"OnboardingEducationSurvey.educationRole.question.facultyMember",defaultMessage:"Faculty member"}),"staff member":(0,p.jsx)(a().sA,{id:"OnboardingEducationSurvey.educationRole.question.staffMember",defaultMessage:"Staff member"}),other:(0,p.jsx)(a().sA,{id:"OnboardingEducationSurvey.educationRole.question.otherEducationRole",defaultMessage:"I'm not using Notion for education"})};const F=(0,a().j4)((function(e){let{question:t,questionType:n,title:o,randomizeSelectionOrder:i,className:r,width:l,placeholder:d,disabled:c,onSelect:g,invalid:m,styles:v,focus:y}=e;const b=(0,s().DP)(),f=(0,_().v3)(),{device:h}=f;let x={};"role"===n&&(x=D),"work"===n&&(x=W),"use"===n&&(x=E),"companySize"===n&&(x=L),"educationRole"===n&&(x=q);const S={menuTitle:o,items:U(x,i,f.currentUser.id),width:l||300,disabled:c||!1,getKey:e=>e,selectedItem:n,originGap:4,onSelect:e=>{g(e)},renderItem:e=>(0,p.jsx)(R().A,{title:x[e.key],...e,className:`${r}-${e.key}`}),renderOrigin:e=>(0,p.jsxs)(u().A,{...e,size:"lg",style:{...H(f,b),...m&&{border:`1px solid ${N().Ay.red}`},...v},className:r,focused:y,children:[(0,p.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,p.jsx)(T().A,{isMobile:h.isMobile,isSecondaryColor:!Boolean(t),style:h.isMobile?{fontSize:15}:{},children:t?x[t]:d||(0,p.jsx)(a().sA,{defaultMessage:"Select response",id:"PersonaCollectionModal.selectQuestion.label"})})}),(0,P().e)({width:10,fill:b.lightIconColor})]})};return(0,p.jsx)(z().A,{...S},"persona")}));function U(e,t,n){const o=Object.keys(e);if(!t)return o;const a=(0,B().Nx)(n);return o.filter((e=>e!==O)).sort((()=>a()-.5)).concat(o.filter((e=>e===O)))}function H(e,t){const{device:n}=e;return{height:n.isMobile?40:32,padding:"2px 10px",display:"flex",alignItems:"center",justifyContent:"space-between",borderRadius:n.isMobile?10:6,border:0,transition:"box-shadow 0.3s ease",boxShadow:`0 0 0 1px ${t.outlineButtonBorder}`,background:t.surface.wash}}var V=()=>n(31448);const K={fontSize:12,color:N().Ay.mediumTextColor,fontWeight:V().Wy.medium,lineHeight:"135%",marginTop:20,marginBottom:4};function Q(e){var t;let{onboardingState:n}=e;return(0,p.jsx)(F,{questionType:"educationRole",title:(0,p.jsx)(a().sA,{defaultMessage:"What's your role at your educational institution?",id:"onboardingEducationPersonaSurvey.educationRole.label"}),randomizeSelectionOrder:!1,question:null===(t=n.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.educationRole,invalid:!1,onSelect:e=>{!function(e,t){var n;g().A.setState({...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,surveyResponses:{...null===(n=e.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses,educationRole:t}}})}(n,e)}})}function G(){return(0,s().IS)((e=>({button:{alignItems:"center",width:"auto",height:40,borderRadius:8,margin:"6px 8px 6px 0px",borderColor:e.stroke.primary,color:e.text.secondary,paddingLeft:12,paddingRight:12},selectedButton:{color:e.text.primary,background:e.surface.elevated,borderColor:e.stroke.uiBluePrimary,outline:`1px solid ${e.stroke.uiBluePrimary}`},itemTitle:{flex:1,overflowWrap:"break-word",whiteSpace:"normal",textAlign:"center"},questionLabel:{...K,marginTop:25,marginBottom:8}})),[])}function J(e){let{onboardingState:t}=e;const n=G();return(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{style:n.questionLabel,children:(0,p.jsx)(T().A,{isSmall:!0,children:(0,p.jsx)(a().sA,{defaultMessage:"What level do you study, teach, or support?",id:"onboardingEducationPersonaSurvey.educationLevelQuestion.label"})})}),(0,p.jsx)("div",{style:{display:"flex",justifyContent:"left",marginTop:"0px"},children:M().tR.map((e=>{var o;const a=(null===(o=t.planTypeAndSurveyInfo)||void 0===o||null===(o=o.surveyResponses)||void 0===o?void 0:o.educationLevel)===e;return(0,p.jsx)(u().A,{size:"lg",onClick:()=>function(e,t){var n,o;const a=(null===(n=e.planTypeAndSurveyInfo)||void 0===n||null===(n=n.surveyResponses)||void 0===n?void 0:n.educationLevel)===t?void 0:t;g().A.setState({...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,planType:"school",surveyResponses:{...null===(o=e.planTypeAndSurveyInfo)||void 0===o?void 0:o.surveyResponses,educationLevel:a}}})}(t,e),style:{...n.button,...a?n.selectedButton:{}},children:(0,p.jsx)("span",{style:n.itemTitle,children:(0,I().A)(e)})},e)}))}),(0,p.jsx)("div",{style:n.questionLabel,children:(0,p.jsx)(T().A,{isSmall:!0,children:(0,p.jsx)(a().sA,{defaultMessage:"Have you used Notion before?",id:"onboardingEducationPersonaSurvey.notionFreqQuestion.label"})})}),(0,p.jsx)("div",{style:{display:"flex",justifyContent:"left",marginTop:"0px"},children:M().$u.map((e=>{var o;const a=(null===(o=t.planTypeAndSurveyInfo)||void 0===o||null===(o=o.surveyResponses)||void 0===o?void 0:o.notionUseFrequency)===e;return(0,p.jsx)(u().A,{size:"lg",onClick:()=>function(e,t){var n,o;const a=(null===(n=e.planTypeAndSurveyInfo)||void 0===n||null===(n=n.surveyResponses)||void 0===n?void 0:n.notionUseFrequency)===t?void 0:t;g().A.setState({...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,surveyResponses:{...null===(o=e.planTypeAndSurveyInfo)||void 0===o?void 0:o.surveyResponses,notionUseFrequency:a}}})}(t,e),style:{...n.button,...a?n.selectedButton:{}},children:(0,p.jsx)("span",{style:n.itemTitle,children:(0,I().A)(e)})},e)}))})]})}const $=function(){var e,t;const n=(0,i().O$)(g().A),o=G();return(0,p.jsxs)("div",{style:{width:300},children:[(0,p.jsx)("div",{style:o.questionLabel,children:(0,p.jsx)(T().A,{isSmall:!0,children:(0,p.jsx)(a().sA,{defaultMessage:"What's your role at your educational institution?",id:"OnboardingEducationPersonaSurvey.educationRoleQuestion.label"})})}),(0,p.jsx)(Q,{onboardingState:n}),(null===(e=n.planTypeAndSurveyInfo)||void 0===e||null===(e=e.surveyResponses)||void 0===e?void 0:e.educationRole)&&(s=null===(t=n.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.educationRole,!("other"===s))&&(0,p.jsx)(J,{onboardingState:n})]});var s},Y={stageName:"education_persona_survey",shouldSkip:()=>!1,alignment:k().C.Center,getTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"Welcome to Notion for education",id:"contextualizedOnboarding.educationPersonaSurveyStage.title"}),getSubTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"Tell us about yourself",id:"contextualizedOnboarding.educationPersonaSurveyStage.subtitle"}),onContinue(e,t){var n,o,a;const{educationLevel:i,educationRole:s}=(null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses)??{};w().jS(e,{selection:{userPersona:"student",useCases:[],educationLevel:i,educationRole:s},action:"submit",plan_selection:null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType,...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e})}),null===(a=g().A.state.planTypeAndSurveyInfo)||void 0===a||null===(a=a.surveyResponses)||void 0===a||a.educationRole},isContinueEnabled(e){var t,n,o,a;return"other"===(null===(t=e.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.educationRole)||Boolean(null===(n=e.planTypeAndSurveyInfo)||void 0===n||null===(n=n.surveyResponses)||void 0===n?void 0:n.educationRole)&&Boolean(null===(o=e.planTypeAndSurveyInfo)||void 0===o||null===(o=o.surveyResponses)||void 0===o?void 0:o.educationLevel)&&Boolean(null===(a=e.planTypeAndSurveyInfo)||void 0===a||null===(a=a.surveyResponses)||void 0===a?void 0:a.notionUseFrequency)},isBackEnabled:e=>0!==e.joinableSpaces.length,renderStage:()=>(0,p.jsx)($,{}),getContinueButtonStyles:()=>({width:300,alignSelf:"center",marginTop:70})};var Z=n.n(n(485359)),X=()=>n(518022),ee=()=>n(961397),te=()=>n(197562),ne=()=>n(561074),oe=()=>n(994966),ae=()=>n(421338),ie=()=>n(701270),se=()=>n(485966),re=()=>n(439154),le=()=>n(940445),de=()=>n(203935),ue=()=>n(929324);const ce={duration:.7,ease:"anticipate"};function ge(){const e=(0,_().v3)(),t=(0,i().O$)(g().A),s=(0,o.useRef)(!1),{aiPrompt:r,currentStageName:l,spaceId:d}=(0,i().K8)((()=>{Z()((0,c().isAiOnboardingFlow)(t.flowName),"App builder is only available for specific AI onboarding flows");const n=(0,c().getStageName)({flowName:t.flowName,stageIndex:t.currentStageIndex,environment:e});return{aiPrompt:"ai_onboarding_phase_2"===t.flowName?t.aiPrompt:void 0,currentStageName:n,spaceId:t.spaceId}}),[e,t]),u=(0,i().O$)(se().AppStoreCurrentSpaceStore),m=(0,i().K8)((()=>!r),[r]),v=(0,i().K8)((()=>le().globalWorkflowTemplates.fromIdOfType({templateId:oe().MH,type:"collection"})),[]);(0,o.useEffect)((()=>()=>te().A.setState({open:!1,isShowingLoadingState:!1})),[]),(0,o.useEffect)((()=>{d||(0,de().createSpaceAndSetSpaceId)({onboardingState:t,environment:e,showLoader:!1,createTemplates:!1})}),[t,e,d]),(0,o.useEffect)((()=>{d&&u&&(s.current||((0,X().openSelectedTemplateOnboardingModalForInAppFlows)({parentStore:u,template:v,environment:e,aiPrompt:r?[[r]]:void 0,autoSubmit:!m,navigateToOnFinish:"skip",onClose:async n=>{"canceled"!==n.type&&"opened_marketplace"!==n.type&&"opened_app_builder"!==n.type&&(Z()(g().A.state.onboardingData,"onboardingData should not be undefined"),g().A.setState({...g().A.state,onboardingData:{...g().A.state.onboardingData,redirectBlockId:n.blockId}}),await(0,ue().goToNextStage)({environment:e,onboardingState:t}))},origin:"new_user_onboarding",version:m?"new_user_template_onboarding":void 0}),s.current=!0))}),[e,r,v,t,d,u,l,m]);const y=d&&u;return(0,p.jsxs)(p.Fragment,{children:[y?null:(0,p.jsx)(n(383641).N,{mode:"wait",children:(0,p.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,p.jsx)(ne().P.div,{layoutId:"assistant-face",layout:"position",transition:ce,children:(0,p.jsx)(n(584764).M,{variant:"large",highLevelState:"writing",includeBoxShadow:!0})}),(0,p.jsx)(ne().P.div,{style:{marginLeft:"0.75rem"},initial:{opacity:0},animate:{opacity:1},transition:ce,children:(0,p.jsx)(ie().D,{styleName:"UITitle-22px/Semibold",children:m?(0,p.jsx)(a().sA,{id:"onboarding.appBuilder.promptless.loadingMessage",defaultMessage:"Setting up your workspace..."}):(0,p.jsx)(a().sA,{id:"onboarding.appBuilder.loadingMessage",defaultMessage:"Let’s build!"})})})]})}),y?"ai_onboarding_phase_2_5"===t.flowName?(0,p.jsx)(ae().Y1,{width:1250,style:{minHeight:700},children:(0,p.jsx)(re().JA,{display:"content_only",overrides:{hideLearnMore:!0,hideSuggestionPills:!0,hideChatFeedback:!0}})}):(0,p.jsx)(re().JA,{display:"embedded",overrides:{hideLearnMore:!0,hideSuggestionPills:!0,hideChatFeedback:!0}}):null]})}const pe={stageName:"app_builder",shouldSkip:()=>!1,getTitle:e=>"",getDesktopContinueButtonOverride:()=>(0,p.jsx)("div",{}),isContinueEnabled:e=>!1,isBackEnabled(e){const t=te().A.state;if(!t.open)return!1;const n=(0,ee().hq)(t);return"ai_onboarding_phase_2_5"===e.flowName?"viewsSelection"===n||"features"===n:"viewsSelection"===n},shouldDisableDefaultOnBack:()=>!0,onBack(e){const t=te().A.state;Z()(t.open,"Workflow template modal should not be closed");const o=t.currentStepIndex;(0,X().moveToPreviousOnboardingStep)(e.device.isPhone),(0,n(137476).u4)({environment:e,event:{eventName:"workflow_template_onboarding_previous_step",eventProperties:{previous_step:(0,ee().Wm)(t)[o],step:(0,ee().hq)(t),...(0,ee().gM)(t)}}})},onContinue(e,t){te().A.setState({open:!1,isShowingLoadingState:!1})},renderStage:()=>(0,p.jsx)(ge,{}),alignment:k().C.Center};var me=()=>n(307542),ve=(n(333225),n(494367),n(516262),n(573119),n(240480),n(950443),n(619601),()=>n(704082)),ye=()=>n(209684);const be={todos:{title:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.category.question.todos",defaultMessage:"To-do list"}),iconName:"list"},projectsTasks:{title:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.category.question.projectsTasks",defaultMessage:"Project tracking"}),iconName:"checklist"},habitWellness:{title:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.category.question.habitWellness",defaultMessage:"Habit tracking"}),iconName:"checkmark-line"},budgetPersonalFinance:{title:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.category.question.budgetPersonalFinance",defaultMessage:"Personal finance"}),iconName:"currency-coin"},travel:{title:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.category.question.travel",defaultMessage:"Travel"}),iconName:"airplane"},hobbies:{title:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.category.question.hobbies",defaultMessage:"Hobbies"}),iconName:"baseball"},careerBuilding:{title:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.category.question.careerBuilding",defaultMessage:"Career building"}),iconName:"briefcase"},foodNutrition:{title:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.category.question.foodNutrition",defaultMessage:"Food & nutrition"}),iconName:"apple"},websiteBuildingForLife:{title:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.category.question.websiteBuildingForLife",defaultMessage:"Site or blog"}),iconName:"laptop"},entertainment:{title:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.category.question.entertainment",defaultMessage:"Books and media"}),iconName:"tv"}},fe={planner:{title:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.category.question.planner",defaultMessage:"Planner"}),iconName:"calendar"},notes:{title:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.category.question.notes",defaultMessage:"Notes"}),iconName:"official-document"},research:{title:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.category.question.research",defaultMessage:"Research"}),iconName:"graduate"},clubs:{title:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.category.question.clubs",defaultMessage:"Clubs and organizations"}),iconName:"people"},teachingLessonPlans:{title:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.category.question.teachingLessonPlans",defaultMessage:"Lesson plans"}),iconName:"bookmark"},teachingClassroomManagement:{title:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.category.question.teachingClassroomManagement",defaultMessage:"Classroom management"}),iconName:"apple"},websiteBuildingForSchool:{title:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.category.question.websiteBuildingForSchool",defaultMessage:"Site or blog"}),iconName:"laptop"},internshipApplications:{title:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.category.question.internshipApplications",defaultMessage:"Job applications"}),iconName:"binoculars"},groupProjects:{title:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.category.question.groupProjects",defaultMessage:"Group projects"}),iconName:"meeting"}};function he(){const e=(0,i().K8)((()=>g().A.state),[]);return(0,p.jsx)(je,{onboardingState:e,isMobile:!1})}function xe(){const e=(0,i().K8)((()=>g().A.state),[]);return(0,p.jsx)(je,{onboardingState:e,isMobile:!0})}function Se(e){let{onboardingState:t}=e;const n=(0,s().DP)(),o=(0,_().v3)(),{device:i}=o;return(0,p.jsx)(ye().p,{size:"lg",onClick:async()=>await async function(e,t){var n,o;const{userPersona:a,userRole:i,useCases:s}=(null===(n=e.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses)??{};w().jS(t,{selection:{userPersona:a,userRole:i,useCases:s??[]},action:"skip",plan_selection:null===(o=e.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType,...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:e,environment:t})});try{await g().A.completeOnboarding(t,"create")}catch(r){(0,de().handleOnboardingError)(t,(0,ve().A)(r))}}(t,o),style:{width:"100%",justifyContent:"center",color:n.text.tertiary,marginTop:8,height:i.isMobile?44:32},children:(0,p.jsx)(a().sA,{defaultMessage:"Skip for now",id:"onboardingSurvey.cancelButton.labelV2"})})}function je(e){var t,n;const{onboardingState:o,isMobile:s}=e,r=(0,_().v3)(),l=(0,B().Nx)(r.currentUser.id),{planSelection:d,categories:u}=(0,i().K8)((()=>{var e,t;return{planSelection:null===(e=o.planTypeAndSurveyInfo)||void 0===e?void 0:e.planType,categories:(null===(t=o.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.categories)??[]}}),[null===(t=o.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType,null===(n=o.planTypeAndSurveyInfo)||void 0===n||null===(n=n.surveyResponses)||void 0===n?void 0:n.categories]),c=("school"===d?Object.entries(fe):Object.entries(be)).sort((()=>l()-.5)),g=(0,i().K8)((()=>"school"===d?u.filter((e=>M().gb.includes(e))).length:u.filter((e=>M()._N.includes(e))).length),[u,d]);return s?(0,p.jsx)("div",{style:{marginBottom:32,marginTop:12},children:(0,p.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)"},children:c.map((e=>{let[t,n]=e;return(0,p.jsx)(Ce,{iconName:n.iconName,onboardingState:o,title:n.title,categoryName:t,isMobile:s},t)}))})}):(0,p.jsx)("div",{style:{display:"flex"},children:(0,p.jsxs)("div",{style:{width:406,alignSelf:"center"},children:[(0,p.jsx)(T().A,{style:{fontSize:12,fontWeight:V().Wy.semibold,color:"#888783"},children:(0,p.jsx)(a().sA,{defaultMessage:"{selected_number} selected",id:"onboardingSurvey.categoryPicker.selected.label",values:{selected_number:g}})}),(0,p.jsx)("div",{style:{display:"flex",flexWrap:"wrap",boxSizing:"border-box"},children:c.map((e=>{let[t,n]=e;return(0,p.jsx)(Ce,{iconName:n.iconName,onboardingState:o,title:n.title,categoryName:t,isMobile:s},t)}))})]})})}function Ae(){const e=(0,s().IS)((e=>({rightFigureStyle:{justifyContent:"flex-end",alignItems:"flex-end",display:"flex",background:e.surface.wash,position:"absolute",bottom:0},titleStyle:{color:e.text.primary,fontSize:22,fontWeight:V().Wy.semibold,marginLeft:8,textAlign:"left"},subtitleStyle:{padding:0,margin:0,fontSize:22,fontWeight:V().Wy.semibold,marginLeft:8,marginBottom:30,textAlign:"left",color:e.text.primary},largeWindowStyle:{height:"85%",width:"auto",objectFit:"cover",objectPosition:"left",maxHeight:"100%",maxWidth:"100%",overflow:"hidden"},smallerWindowStyle:{maxHeight:"85%",maxWidth:"85%"}})),[]),t=window.innerWidth>1600,n="dark"===(0,s().eP)();return(0,p.jsx)("div",{style:e.rightFigureStyle,children:(0,p.jsx)("img",{src:t?n?r().A.images.onboarding.categoryPickerLargeDarkmodePng:r().A.images.onboarding.categoryPickerLargeLightmodePng:r().A.images.onboarding.categoryPickerSmallPng,style:t?e.largeWindowStyle:e.smallerWindowStyle})})}function Ce(e){var t;const{categoryName:n,iconName:o,onboardingState:a,title:r,isMobile:l}=e,m=(0,_().v3)(),v=(0,i().K8)((()=>{var e;const{categories:t}=(null===(e=a.planTypeAndSurveyInfo)||void 0===e?void 0:e.surveyResponses)??{};return(t??[]).includes(n)}),[n,null===(t=a.planTypeAndSurveyInfo)||void 0===t?void 0:t.surveyResponses]),y=`/icons/${o}_${v?"gray":"lightgray"}.svg`,b=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,s().IS)((n=>({icon:{marginRight:8,color:e?n.icon.primary:n.icon.secondary,...t&&{position:"absolute",left:16,top:16,margin:0}},button:{height:t?104:40,borderRadius:t?12:8,margin:"6px 8px 6px 0px",borderColor:n.stroke.primary,color:n.text.secondary,paddingLeft:12,paddingRight:16,...e&&{color:n.text.primary,background:n.surface.elevated,borderColor:n.stroke.uiBluePrimary,outline:`1px solid ${n.stroke.uiBluePrimary}`},...t&&{position:"relative",margin:8}},categoryTitle:{...t&&{position:"absolute",bottom:12,left:16,overflowWrap:"break-word",whiteSpace:"normal",fontSize:16,fontWeight:V().Wy.regular,color:e?n.text.primary:n.text.secondary,width:"calc(100% - 24px)"}}})),[e,t])}(v,l);return(0,p.jsx)(u().A,{size:"lg",icon:()=>(0,p.jsx)(d().A,{type:"notion_icon",size:24,icon:y,largeIcon:!0,style:b.icon}),style:b.button,onClick:()=>function(e,t,n){var o,a;const{categories:i}=(null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.surveyResponses)??{},s=new Set(i??[]);s.has(n)?s.delete(n):s.add(n),g().A.setState({...t,planTypeAndSurveyInfo:{...t.planTypeAndSurveyInfo,surveyResponses:{...null===(a=t.planTypeAndSurveyInfo)||void 0===a?void 0:a.surveyResponses,categories:Array.from(s)}}}),w().JE(e,{...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e}),categories:Array.from(s)})}(m,a,n),children:(0,p.jsx)("div",{style:b.categoryTitle,children:r})})}var we=()=>n(975392),ke=()=>n(695050),Ie=()=>n(816612),Me=()=>n(199164),Te=()=>n(126451),_e=()=>n(103151),Pe=()=>n(622163);const Be={docs:{title:(0,p.jsx)(a().sA,{id:"teamOnboarding.useCase.docs.title",defaultMessage:"Docs"}),description:(0,p.jsx)(a().sA,{id:"teamOnboarding.useCase.docs.description",defaultMessage:"Create and collaborate on documents"}),icon:n(711799).Q},wikis:{title:(0,p.jsx)(a().sA,{id:"teamOnboarding.useCase.wikis.title",defaultMessage:"Wikis"}),description:(0,p.jsx)(a().sA,{id:"teamOnboarding.useCase.wikis.description",defaultMessage:"Build a central hub for your team's knowledge"}),icon:n(737919).C},notes:{title:(0,p.jsx)(a().sA,{id:"teamOnboarding.useCase.notes.title",defaultMessage:"Meetings"}),description:(0,p.jsx)(a().sA,{id:"teamOnboarding.useCase.notes.description",defaultMessage:"Take and organize your meeting notes and ideas"}),icon:n(222881).a},project:{title:(0,p.jsx)(a().sA,{id:"teamOnboarding.useCase.project.title",defaultMessage:"Projects"}),description:(0,p.jsx)(a().sA,{id:"teamOnboarding.useCase.project.description",defaultMessage:"Plan, track, and manage projects and tasks"}),icon:n(873333).a},goals:{title:(0,p.jsx)(a().sA,{id:"teamOnboarding.useCase.goals.title",defaultMessage:"Goals"}),description:(0,p.jsx)(a().sA,{id:"teamOnboarding.useCase.goals.description",defaultMessage:"Set and track goals and milestones"}),icon:n(197027).M},ai:{title:(0,p.jsx)(a().sA,{id:"teamOnboarding.useCase.ai.title",defaultMessage:"Notion AI"}),description:(0,p.jsx)(a().sA,{id:"teamOnboarding.useCase.ai.description",defaultMessage:"Use AI to help write, brainstorm, and analyze"}),icon:n(403026).X},other:{title:(0,p.jsx)(a().sA,{id:"teamOnboarding.useCase.other.title",defaultMessage:"Other"}),description:(0,p.jsx)(a().sA,{id:"teamOnboarding.useCase.other.description",defaultMessage:"Use Notion for something else"}),icon:n(713055).S}},Ne=["project","goals","docs","wikis","notes","ai"],Re=6;function ze(){var e,t;const n=(0,_().v3)(),a=(0,i().K8)((()=>g().A.state),[]),r=(0,s().IS)((e=>({wrapper:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:12}})),[]),d=(0,i().K8)((()=>(0,c().isWorkflowTemplatesEnabledForOnboarding)(n)),[n]),u=(0,i().K8)((()=>{var e;return function(e){let{persona:t}=e,n=[];(0,l().Xk)(Ie().hx,t)&&(n=(0,oe().Qf)({persona:t}));return we().hS([...n,...Ne],(e=>{if(Ee(e))return e;const t=le().globalWorkflowTemplates.fromIdOfType({type:"collection",templateId:e});return t.category?le().useCaseByCollectionTemplateCategory[t.category]:e})).slice(0,Re)}({persona:null===(e=a.planTypeAndSurveyInfo)||void 0===e||null===(e=e.surveyResponses)||void 0===e?void 0:e.userPersona})}),[null===(e=a.planTypeAndSurveyInfo)||void 0===e||null===(e=e.surveyResponses)||void 0===e?void 0:e.userPersona]);(0,o.useEffect)((()=>{g().A.update((e=>{var t;return{...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,surveyResponses:{...null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.surveyResponses,useCases:[]}},selectedWorkflowTemplateIds:[]}}))}),[u]);const m=(0,i().K8)((()=>{var e;return(null===(e=a.planTypeAndSurveyInfo)||void 0===e||null===(e=e.surveyResponses)||void 0===e?void 0:e.useCases)??[]}),[null===(t=a.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.useCases]),v=(0,i().K8)((()=>a.selectedWorkflowTemplateIds??[]),[a.selectedWorkflowTemplateIds]);return(0,p.jsx)("div",{style:r.wrapper,children:u.map((e=>Ee(e)?(0,p.jsx)(Oe,{useCase:e,isSelected:m.includes(e),onSelectUseCaseItem:()=>{g().A.update((t=>{var n,o;const a=(null===(n=t.planTypeAndSurveyInfo)||void 0===n||null===(n=n.surveyResponses)||void 0===n?void 0:n.useCases)??[];let i=[];return i=a.includes(e)?a.filter((t=>t!==e)):[...a,e],{...t,planTypeAndSurveyInfo:{...t.planTypeAndSurveyInfo,surveyResponses:{...null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.surveyResponses,useCases:i}}}}))},shouldUseWorkflowTemplateMetadata:d&&"wikis"!==e},e):(0,p.jsx)(De,{workflowTemplateId:e,isSelected:v.includes(e),onSelect:()=>{g().A.update((t=>{const n=t.selectedWorkflowTemplateIds??[];let o=[];return o=n.includes(e)?n.filter((t=>t!==e)):[...n,e],{...t,selectedWorkflowTemplateIds:o}}))}},e)))})}function Oe(e){let{useCase:t,isSelected:n,onSelectUseCaseItem:o,shouldUseWorkflowTemplateMetadata:a}=e;const r=Be[t],l=(0,s().IS)((e=>({icon:{height:20,width:20}})),[]),{name:d,icon:u,description:c}=(0,i().K8)((()=>{if(a){const e=(0,ke().getWorkflowTemplateForUseCase)(t);if(e){const t=le().globalWorkflowTemplates.fromIdOfType({type:"collection",templateId:e});return{name:t.value.targetCollection.name,icon:(0,p.jsx)("img",{src:t.value.targetCollection.icon,alt:t.value.targetCollection.name,style:l.icon}),description:t.description}}}return{name:r.title,icon:r.icon(l.icon),description:r.description}}),[r,a,l.icon,t]);return(0,p.jsx)(We,{title:d,description:c,icon:u,isSelected:n,onSelect:o})}function De(e){let{workflowTemplateId:t,isSelected:n,onSelect:o}=e;const a=(0,i().K8)((()=>le().globalWorkflowTemplates.fromIdOfType({type:"collection",templateId:t})),[t]),r=a.description,{name:l,icon:d}=a.value.targetCollection,u=(0,s().IS)((e=>({icon:{height:20,width:20,color:e.text.primary}})),[]);return(0,p.jsx)(We,{title:l,description:r,icon:(0,p.jsx)("img",{src:d,alt:l,style:u.icon}),isSelected:n,onSelect:o})}function We(e){let{title:t,description:n,icon:o,isSelected:a,onSelect:i}=e;const r=(0,_().v3)().device.isMobile,l=(0,s().IS)((e=>({button:{display:"flex",flexDirection:"column",position:"relative",gap:6,width:180,padding:16,borderRadius:12,paddingBottom:12,cursor:"pointer",...a&&{background:e.accentColors.uiBlue[75]},...r&&{width:170}},borderContainer:{position:"absolute",top:0,left:0,right:0,bottom:0,borderRadius:12,border:`1px solid ${e.stroke.secondary}`,...a&&{border:`2px solid ${e.stroke.uiBluePrimary}`}},toggleButtonHoveredStyle:{opacity:1},toggleButtonPressedStyle:{opacity:1},title:{...(0,Pe().pA)(2)},description:{height:32,whiteSpace:"normal",width:150,...(0,Pe().pA)(2),textOverflow:"ellipsis",...r&&{fontSize:11.5}},tooltip:{width:240},tooltipText:{whiteSpace:"normal"}})),[r,a]);return(0,p.jsx)(_e().A,{style:l.tooltip,disableTooltip:"string"==typeof n&&n.length<48&&"string"==typeof t&&t.length<48,renderTooltip:()=>(0,p.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:4,width:"100%"},children:[(0,p.jsx)(ie().D,{style:l.tooltipText,styleName:"UIRegular-14px/Medium",children:t}),(0,p.jsx)(ie().D,{style:l.tooltipText,styleName:"UISmall-12px/Regular",colorName:"secondary",children:n})]}),render:e=>(0,p.jsxs)(Te().A,{style:l.button,hoveredStyle:l.toggleButtonHoveredStyle,pressedStyle:l.toggleButtonPressedStyle,onClick:()=>i(),...e,children:[(0,p.jsx)("div",{style:l.borderContainer}),o,(0,p.jsx)(T().A,{isMultiline:!0,style:l.title,children:t}),(0,p.jsx)(T().A,{isSecondaryColor:!0,isSmall:!0,style:l.description,children:n})]})})}function Ee(e){return(0,l().Xk)(Me().BQ,e)}var Le=()=>n(28210);const qe=(0,a().YK)({spaceNamePlaceHolder:{defaultMessage:"Acme Inc.",id:"workspaceIconAndNamePreview.workspaceName.placeholder"},spaceNameHint:{defaultMessage:"Your workspace",id:"workspaceIconAndNamePreview.workspaceName.placeholderHint"}});function Fe(){const e=(0,a().tz)(),t=(0,i().O$)(g().A),n=t.spaceName,o=t.spaceIcon?{pointer:{table:"space",id:"undefined"},icon:t.spaceIcon}:void 0,r=e.formatMessage(qe.spaceNamePlaceHolder),l=e.formatMessage(qe.spaceNameHint),d=(0,s().IS)((e=>({container:{display:"flex",flexDirection:"row",alignItems:"center",paddingLeft:4,paddingRight:4,paddingBottom:4,wordBreak:"break-word",animationName:"fadeIn",animationDuration:"0.7s",animationFillmode:"forwards",animationTimingFunction:"ease-in","@keyframes fadeIn":{"0%":{opacity:0},"100%":{opacity:1}}},recordIconContainer:{marginRight:10},recordIconBox:{borderRadius:8,background:e.tint.regular},recordIconPlaceholder:{lineHeight:"32px",letterSpacing:.208,color:e.text.tertiary,height:"auto",fontSize:16,fontWeight:510}})),[]);return(0,p.jsxs)("div",{style:d.container,children:[(0,p.jsx)("div",{style:d.recordIconContainer,children:(0,p.jsx)(Le().B,{bucket:"public",disabled:!0,icon:o,isEmptyPage:!1,title:t.spaceName||r,size:32,iconLoggingData:{recordTable:"space",source:"workspace_icon_and_name_preview"},iconBoxStyles:d.recordIconBox,placeholderStyle:d.recordIconPlaceholder})}),(0,p.jsx)(T().A,{isMultiline:!0,isSecondaryColor:!0,children:n||l})]})}function Ue(e){let{selectedUseCases:t,selectedWorkflowTemplateIds:n,selectedCategories:o,shouldZoomInOnWorkspaceNameAndIconPreview:r,shouldHideTeamSpacesSection:l}=e;const d=(0,_().v3)(),u=(0,a().tz)(),g=(0,s().IS)((e=>({wrapper:{display:"flex",flex:1,overflow:"hidden",zIndex:2,position:"relative",maxWidth:1100,marginRight:-8,transition:"transform 0.3s linear",transformOrigin:"top left",...r&&{transform:"scale(1.2)"}},preview:{display:"flex",flex:1,border:`1px solid ${e.stroke.primary}`,borderRadius:12,backgroundColor:e.surface.wash,width:1200,height:600,...r&&{transition:"opacity 0.3s ease-out",opacity:.7}},sidebar:{width:180,height:400,backgroundColor:e.surface.wash,marginTop:16,padding:8,color:e.text.secondary},pageContent:{padding:"20px 0 20px 20px",display:"flex",flexDirection:"column",flex:1,height:"100%",backgroundColor:e.surface.elevated,borderRadius:"0px 12px 12px 0px",overflowX:"scroll",overflowY:"hidden",minWidth:"calc(600px - 180px)"}})),[r]);t=t.filter((e=>"ai"!==e));const m=u.formatMessage({id:"onboarding.appPreview.placeholderPrivateSectionName",defaultMessage:"Private"}),v=u.formatMessage({id:"onboarding.appPreview.placeholderTeamspacesSectionName",defaultMessage:"Teamspaces"}),y=(0,i().K8)((()=>(0,c().isWorkflowTemplatesEnabledForOnboarding)(d)),[d]),b=[...n??[],...y?(0,ke().getWorkflowTemplatesForUseCases)(t):[]],f=y?t.includes("wikis")?["wikis"]:[]:t;return(0,p.jsx)("div",{style:g.wrapper,children:(0,p.jsxs)("div",{style:g.preview,children:[(0,p.jsxs)("div",{style:g.sidebar,children:[r?(0,p.jsx)(Fe,{}):(0,p.jsx)(Qe,{numRows:1}),(0,p.jsx)(Qe,{numRows:2}),Boolean(l)?null:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Ke,{title:v,indentPixels:-8,isSmall:!0,icon:null,shouldZoomInOnWorkspaceNameAndIconPreview:r}),(0,p.jsx)(Qe,{numRows:1}),f.length>0||b.length>0?(0,p.jsxs)(p.Fragment,{children:[b.map((e=>(0,p.jsx)(Ve,{templateId:e,shouldZoomInOnWorkspaceNameAndIconPreview:r},e))),f.map((e=>(0,p.jsx)(Ke,{icon:Be[e].icon({height:12,width:12}),title:Be[e].title,indentPixels:8,shouldZoomInOnWorkspaceNameAndIconPreview:r,shouldFadeInRow:!0},e)))]}):(0,p.jsx)(Qe,{numRows:2})]}),(0,p.jsx)(Ke,{title:m,indentPixels:-8,isSmall:!0,icon:null,shouldZoomInOnWorkspaceNameAndIconPreview:r}),(0,p.jsx)(Qe,{numRows:1}),(0,p.jsx)(He,{selectedCategories:o}),(0,p.jsx)(Qe,{numRows:2})]}),(0,p.jsx)("div",{style:g.pageContent,children:(0,p.jsx)(Ge,{})})]})})}function He(e){const{selectedCategories:t}=e,n=(0,i().K8)((()=>{var e;return null===(e=g().A.state.planTypeAndSurveyInfo)||void 0===e?void 0:e.planType}),[]);return(0,p.jsx)(p.Fragment,{children:t.map((e=>{const t="school"===n?we().Jt(fe,e):"personal"===n?we().Jt(be,e):void 0;if(!t)return;const o=`/icons/${t.iconName}_gray.svg`;return(0,p.jsx)(Ke,{title:t.title,iconPath:o,icon:(0,p.jsx)("img",{src:o,alt:"icon"}),indentPixels:8,shouldFadeInRow:!0,useImageBox:!0},e)}))})}function Ve(e){let{templateId:t,shouldZoomInOnWorkspaceNameAndIconPreview:n}=e;const o=(0,i().K8)((()=>le().globalWorkflowTemplates.fromIdOfType({type:"collection",templateId:t})),[t]),a=(0,s().IS)((()=>({icon:{height:15,width:15}})),[]),{icon:r,name:l}=o.value.targetCollection;return(0,p.jsx)(Ke,{icon:(0,p.jsx)("img",{src:r,style:a.icon}),title:l,indentPixels:8,shouldZoomInOnWorkspaceNameAndIconPreview:n,shouldFadeInRow:!0},t)}function Ke(e){let{icon:t,iconPath:n,title:o,indentPixels:a,isSmall:i,shouldZoomInOnWorkspaceNameAndIconPreview:r,shouldFadeInRow:l,useImageBox:u}=e;const c=(0,s().IS)((e=>({sidebarRow:{height:30,paddingTop:4,paddingBottom:4,paddingLeft:8+(a??0),paddingRight:8,display:"flex",alignItems:"center",justifyContent:"flex-start",...r&&{opacity:.4,transition:"opacity 1s ease-out"},...l&&{animationName:"fadeIn",animationDuration:"0.3s",animationFillmode:"forwards",animationTimingFunction:"ease-in","@keyframes fadeIn":{"0%":{opacity:0},"100%":{opacity:1}}}},sidebarIcon:{},sidebarTitle:{width:"100%",marginLeft:8,fontSize:i?12:14,fontWeight:i?V().Wy.regular:V().Wy.medium,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}})),[a,i,r,l]),g=u&&n?(0,p.jsx)(d().A,{type:"notion_icon",size:15,icon:n,largeIcon:!1}):t;return(0,p.jsxs)("div",{style:c.sidebarRow,children:[(0,p.jsx)("div",{style:c.sidebarIcon,children:g}),(0,p.jsx)("div",{style:c.sidebarTitle,children:o})]})}function Qe(e){let{numRows:t=3}=e;const n=(0,s().IS)((e=>({skeletonPageIcon:{width:12,height:12,borderRadius:"50%",background:e.cardPressedBackground},skeletonPageTitle:{background:e.cardPressedBackground,borderRadius:12,height:12}})),[]),o=["60%","25%","75%"].map(((e,t)=>(0,p.jsx)(Ke,{icon:(0,p.jsx)("div",{style:n.skeletonPageIcon}),title:(0,p.jsx)("div",{style:{...n.skeletonPageTitle,width:e}})},t))).slice(0,t);return(0,p.jsx)("div",{children:o})}function Ge(){const e=(0,s().IS)((e=>({smallPlaceholder:{borderRadius:12,background:e.cardPressedBackground,height:12,width:40},circlePlaceholder:{borderRadius:12,background:e.cardPressedBackground,height:12,width:12},largePlaceholder:{background:e.cardPressedBackground,borderRadius:12,height:12,width:120},pagePreview:{display:"flex",justifyContent:"space-between"}})),[]);return(0,p.jsxs)("div",{style:e.pagePreview,children:[(0,p.jsxs)("div",{style:{display:"flex",gap:16},children:[(0,p.jsx)("div",{style:e.circlePlaceholder}),(0,p.jsx)("div",{style:e.largePlaceholder})]}),(0,p.jsxs)("div",{style:{display:"flex",gap:12,marginRight:24},children:[(0,p.jsx)("div",{style:e.smallPlaceholder}),(0,p.jsx)("div",{style:e.smallPlaceholder}),(0,p.jsx)("div",{style:e.smallPlaceholder})]})]})}const Je={stageName:"onboarding_category_survey",shouldSkip(e){const t=e.planTypeAndSurveyInfo;return"team"===(null==t?void 0:t.planType)},getTitle:(e,t)=>(0,p.jsx)("div",{style:{width:406,textAlign:"left"},children:(0,p.jsx)(a().sA,{defaultMessage:"What’s on your mind?",id:"onboardingSurvey.categoryPicker.title.desktop"})}),getSubTitle:(e,t)=>(0,p.jsx)(a().sA,{defaultMessage:"Select as many as you want.",id:"onboardingSurvey.categoryPicker.subtitle.mobile"}),isContinueEnabled:e=>!0,isBackEnabled:e=>!0,async onContinue(e,t){var n,o,a;const{userPersona:i,userRole:s,useCases:r}=(null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses)??{};w().jS(e,{selection:{userPersona:i,userRole:s,useCases:r??[]},action:"submit",plan_selection:null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType,...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e})}),"multiplayer"===(null===(a=t.planTypeAndSurveyInfo)||void 0===a?void 0:a.collaborativeIntent)&&await(0,de().createSpaceAndSetSpaceId)({onboardingState:t,environment:e})},onBack(e,t){var n,o;const{userPersona:a,userRole:i,useCases:s}=(null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses)??{};w().jS(e,{selection:{userPersona:a,userRole:i,useCases:s??[]},action:"back",plan_selection:null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType,...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e})})},renderContentUnderContinueButton:(e,t)=>(0,p.jsx)(Se,{onboardingState:e}),renderStage:()=>(0,p.jsx)(he,{}),renderRightContent(e){if((0,me().ml)()){var t;const n=(null===(t=e.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.categories)||[];return(0,p.jsx)(Ue,{selectedUseCases:[],selectedWorkflowTemplateIds:[],selectedCategories:n,shouldHideTeamSpacesSection:!0})}return(0,p.jsx)(Ae,{})},shouldShowSkipButton:()=>!1,getContinueButtonLabel:()=>(0,p.jsx)(a().sA,{defaultMessage:"Continue",id:"contextualizedOnboarding.continueButton.label"})},$e={stageName:"mobile_onboarding_category_survey",shouldSkip(e){const t=e.planTypeAndSurveyInfo;return"team"===(null==t?void 0:t.planType)},getTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"Select as many as you want.",id:"onboardingSurvey.categoryPicker.subtitle.mobile"}),getSubTitle:(e,t)=>(0,p.jsx)(a().sA,{defaultMessage:"What are some areas of interest?",id:"onboardingSurvey.categoryPicker.title.mobile"}),headerStyles:{fontSize:22,fontFamily:V().xf({locale:n(16791).locale}),textAlign:"left",lineHeight:1.28,fontWeight:590,color:"none",marginBottom:8},isContinueEnabled(e){var t;return Boolean(null==e||null===(t=e.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t||null===(t=t.categories)||void 0===t?void 0:t.length)},shouldHideMobileBottomContent(e){var t;return!(null!=e&&null!==(t=e.planTypeAndSurveyInfo)&&void 0!==t&&null!==(t=t.surveyResponses)&&void 0!==t&&null!==(t=t.categories)&&void 0!==t&&t.length)},isBackEnabled:e=>!0,async onContinue(e,t){var n,o;const{userPersona:a,userRole:i,useCases:s}=(null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses)??{};w().jS(e,{selection:{userPersona:a,userRole:i,useCases:s??[]},action:"submit",plan_selection:null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType,...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e})}),await(0,de().createSpaceAndSetSpaceId)({onboardingState:t,environment:e})},onBack(e,t){var n,o;const{userPersona:a,userRole:i,useCases:s}=(null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses)??{};w().jS(e,{selection:{userPersona:a,userRole:i,useCases:s??[]},action:"back",plan_selection:null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType,...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e})})},renderStage:()=>(0,p.jsx)(xe,{}),shouldShowSkipButton:()=>!0};var Ye=()=>n(502140),Ze=()=>n(983050);function Xe(){var e;const t=(0,i().O$)(g().A),n=null===(e=t.planTypeAndSurveyInfo)||void 0===e?void 0:e.collaborativeIntent;return(0,p.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginTop:28},children:(0,p.jsx)(et,{onboardingState:t,collaborativeIntent:n})})}function et(e){var t;const{collaborativeIntent:n,onboardingState:o,isSmallMobileScreen:l}=e,d=(0,_().v3)(),u=function(e,t){return[{collaborativeIntent:"multiplayer",illustrationPath:e?r().A.images.onboarding.multiplayerIntentDarkmodePng:r().A.images.onboarding.multiplayerIntentLightmodePng,getTitle:()=>"team"===t?(0,p.jsx)(a().sA,{defaultMessage:"With my team",id:"onboardingCollaborativeIntentChoose.multiplayer.title.team"}):(0,p.jsx)(a().sA,{defaultMessage:"With others",id:"onboardingCollaborativeIntentChoose.multiplayer.title"}),getSubtitle:()=>{switch(t){case"team":return(0,p.jsx)(a().sA,{defaultMessage:"Track projects, company goals, meeting notes",id:"onboardingCollaborativeIntentChoose.multiplayer.subtitle.team"});case"personal":return(0,p.jsx)(a().sA,{defaultMessage:"Plan travel, household chores, group activities",id:"onboardingCollaborativeIntentChoose.multiplayer.subtitle.personal"});case"school":return(0,p.jsx)(a().sA,{defaultMessage:"Manage clubs, group projects, side projects",id:"onboardingCollaborativeIntentChoose.multiplayer.subtitle.school"});default:throw new Error("Unknown plan type")}}},{collaborativeIntent:"singleplayer",illustrationPath:e?r().A.images.onboarding.singleplayerIntentDarkmodePng:r().A.images.onboarding.singleplayerIntentLightmodePng,getTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"On my own",id:"onboardingCollaborativeIntentChoose.singleplayer.title"}),getSubtitle:()=>{switch(t){case"team":return(0,p.jsx)(a().sA,{defaultMessage:"Manage personal tasks, write docs, stay organized",id:"onboardingCollaborativeIntentChoose.singleplayer.subtitle.team"});case"personal":return(0,p.jsx)(a().sA,{defaultMessage:"Manage expenses, track hobbies, stay organized",id:"onboardingCollaborativeIntentChoose.singleplayer.subtitle.personal"});case"school":return(0,p.jsx)(a().sA,{defaultMessage:"Track assignments, apply to jobs, stay organized",id:"onboardingCollaborativeIntentChoose.singleplayer.subtitle.school"});default:throw new Error("Unknown plan type")}}}]}("dark"===(0,s().eP)(),null===(t=o.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType),m=(0,i().K8)((()=>!n&&(0,c().isAiOnboardingFlow)(o.flowName)),[n,o.flowName]);return(0,p.jsx)("div",{style:nt(d),children:u.map(((e,t)=>(0,p.jsx)(tt,{selectedCollaborativeIntent:n,buttonClassName:Ze().OX4,isSmallMobileScreen:l,handleCollaborativeIntentSelect:e=>{const t=function(e){const{onboardingState:t,surveyResponse:n}=e,o={...t,planTypeAndSurveyInfo:{...t.planTypeAndSurveyInfo,collaborativeIntent:n}};return g().A.setState(o),o}({onboardingState:o,surveyResponse:e});m&&(0,ue().goToNextStage)({environment:d,onboardingState:t})},...e},t)))})}function tt(e){const{handleCollaborativeIntentSelect:t,selectedCollaborativeIntent:n,collaborativeIntent:o,illustrationPath:a,buttonClassName:i,getTitle:r,getSubtitle:l,isSmallMobileScreen:d}=e,u=(0,_().v3)(),c=function(e){const{isMobile:t,isSelected:n}=e;return(0,s().IS)((e=>({toggleButtonStyle:{alignItems:"center",justifyContent:"center",whiteSpace:"normal",borderRadius:12,fontSize:14,lineHeight:1.2,position:"relative",transition:"all 200ms ease",display:"flex",flexDirection:t?"row":"column",padding:20,marginTop:20,boxShadow:`${e.outlineButtonBorder} 0 0 0 1px, rgba(167, 167, 167, 0.25) 0px 1px 2px`,...n?{boxShadow:`${N().Ay.blue} 0 0 0 2px, rgba(182, 182, 182, 0.25) 0px 8px 12px`}:{opacity:.7},height:100,...t&&{minHeight:110},...!t&&{width:172,height:200,textAlign:"center",margin:"0px 10px"}},toggleButtonHoveredStyle:{opacity:1},toggleButtonPressedStyle:{opacity:1},buttonIllustrationWrapperStyle:{marginTop:8,height:60,width:90,...t&&{textAlign:"center",width:85,height:57,marginRight:8}},buttonHeadingStyle:{fontWeight:V().Wy.medium,fontSize:t?16:14,marginTop:t?10:17,color:e.text.primary},buttonSubheadingStyle:{color:e.text.secondary,fontWeight:V().Wy.regular,fontSize:14,lineHeight:1.4,transition:"all 200ms ease",marginTop:4,marginBottom:8,display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:3,overflow:"hidden"},imageWrapStyle:{position:"absolute",bottom:-40,left:89}})),[t,n])}({isMobile:u.device.isMobile,isSelected:o===n,isSmallMobileScreen:d});return(0,p.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:(0,p.jsxs)(Te().A,{style:c.toggleButtonStyle,hoveredStyle:c.toggleButtonHoveredStyle,pressedStyle:c.toggleButtonPressedStyle,onClick:()=>t(o),className:i,children:[(0,p.jsx)("div",{style:c.buttonIllustrationWrapperStyle,children:(0,p.jsx)("img",{src:a,style:{height:"100%",...u.device.isMobile?{height:48}:{}}})}),(0,p.jsxs)("main",{children:[(0,p.jsx)("header",{style:c.buttonHeadingStyle,children:r()}),(0,p.jsx)("p",{style:c.buttonSubheadingStyle,children:l()})]})]})})}function nt(e){return{...e.device.isMobile?{marginTop:0,marginBottom:32}:{marginTop:"10px",marginBottom:"32px"},display:e.device.isMobile?void 0:"inline-flex",width:"100%",justifyContent:"center"}}var ot=()=>n(559637),at=()=>n(461201);function it(e){let{onboardingState:t}=e;const n=(0,s().DP)(),o=(0,_().v3)(),{device:r}=o,l=(0,i().K8)((()=>{var e,n;if(t.onboardingData)return at().qg({userStore:null===(e=t.onboardingData)||void 0===e?void 0:e.userStore,isUserDomainJoinable:null===(n=t.onboardingData)||void 0===n?void 0:n.isUserDomainJoinable})}),[t]);return Boolean(l)?(0,p.jsxs)("div",{style:{...at().ZP,display:"flex",...r.isMobile?{textAlign:"left",justifyContent:"center"}:{alignItems:"center"},...r.isMobile?{marginBottom:16}:{marginTop:16}},children:[(0,p.jsx)("div",{style:{marginRight:10,paddingLeft:6,paddingTop:r.isMobile?2:1},children:(0,p.jsx)(ot().A,{checked:Boolean(t.optInAutoJoin),onClick:()=>{g().A.setState({...t,optInAutoJoin:!t.optInAutoJoin})},size:16,style:{borderRadius:2}})}),(0,p.jsx)("div",{onClick:()=>{g().A.setState({...t,optInAutoJoin:!t.optInAutoJoin})},style:{...at().pk(n),fontSize:12},role:"presentation",children:r.isMobile?(0,p.jsx)(a().sA,{defaultMessage:"Anyone with an email at {emailDomain} can join",id:"contextualizedOnboarding.emailDomainAutoJoinCheckbox.mobile.label",values:{emailDomain:l}}):(0,p.jsx)(a().sA,{defaultMessage:"Anyone with a “@{emailDomain}” email can join your workspace",id:"contextualizedOnboarding.emailDomainAutoJoinCheckbox.label",values:{emailDomain:l}})})]}):null}const st={stageName:"onboarding_collaborative_intent_choose",shouldSkip:()=>!1,getTitle(e){var t;return"team"===(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)?(0,p.jsx)(a().sA,{defaultMessage:"Welcome to Notion for work",id:"onboardingCollaborativeIntentChoose.step.team.title"}):(0,p.jsx)(a().sA,{defaultMessage:"How do you want to use Notion?",id:"onboardingCollaborativeIntentChoose.step.title"})},getSubTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"This helps customize your experience",id:"onboardingCollaborativeIntentChoose.step.subtitle"}),isContinueEnabled(e){var t;return Boolean(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)},async onContinue(e,t){var n;"performance_marketing_term_onboarding"!==t.flowName||t.spaceId||await(0,de().createSpaceAndSetSpaceId)({onboardingState:t,environment:e});void 0!==(null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.collaborativeIntent)||Ye().log({level:"error",from:"OnboardingWorkspaceCollaborativeIntentChoose",type:"unexpectedValue",error:{message:"Unexpected Value: onboardingState.collaborativeIntent is undefined."}})},getContinueButtonStyles:()=>({width:300,height:36,marginTop:64}),isBackEnabled:e=>!0,renderStage:()=>(0,p.jsx)(Xe,{}),shouldHideDesktopBottomContent(e){const t=null==e?void 0:e.planTypeAndSurveyInfo;return!(null!=t&&t.collaborativeIntent)&&(0,c().isAiOnboardingFlow)(e.flowName)},renderContentAboveContinueButton(e){var t;if("multiplayer"===(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)&&(0,me().Yz)())return(0,p.jsx)(it,{onboardingState:e})},headerStyles:{textAlign:"center"},alignment:k().C.Center},rt={stageName:"mobile_onboarding_collaborative_intent_choose",shouldSkip:()=>!1,getTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"How do you want to use Notion?",id:"onboardingCollaborativeIntentChoose.mobile.step.title"}),isContinueEnabled(e){var t;return Boolean(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)},onContinue(e,t){var n;void 0!==(null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.collaborativeIntent)||Ye().log({level:"error",from:"OnboardingWorkspaceCollaborativeIntentChoose",type:"unexpectedValue",error:{message:"Unexpected Value: onboardingState.collaborativeIntent is undefined."}})},getContinueButtonStyles:()=>({width:300,height:36,marginTop:64}),isBackEnabled:e=>!0,renderStage:()=>(0,p.jsx)(Xe,{}),renderContentAboveContinueButton(e){var t;if("multiplayer"===(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)&&(0,me().Yz)())return(0,p.jsx)(it,{onboardingState:e})},headerStyles:{textAlign:"center"},alignment:k().C.Center};var lt=()=>n(758611),dt=()=>n(286270),ut=()=>n(951540);const ct=function(e){let{format:t,style:n,children:o}=e;return"Iphone"===t?(0,p.jsx)(gt,{style:n,children:o}):"IphoneX"===t?(0,p.jsx)(pt,{style:n,children:o}):(0,p.jsx)(mt,{style:n,children:o})};function gt(e){let{style:t,children:n}=e;return(0,p.jsxs)("div",{style:{boxShadow:`0 12px 30px ${N().Ay.blackWithAlpha(.25)}`,background:N().Ay.frontMobilePhoneBackground,overflow:"hidden",position:"relative",width:"100%",borderRadius:"15%/7%",...t},children:[(0,p.jsx)("div",{style:{width:"100%",height:0,paddingBottom:"202.5%",backgroundImage:`url(${r().A.images.chromeMobileIphonePng})`,backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"}}),(0,p.jsx)("div",{style:{position:"absolute",top:0,left:"6.66667%",width:"86.66666667%",marginTop:"24%"},children:n})]})}function pt(e){let{style:t,children:n}=e;return(0,p.jsxs)("div",{style:{position:"relative",transform:"translateZ(0)",width:"100%",filter:"drop-shadow(rgba(15, 15, 15, 0.2) 0px 6px 12px)",...t},children:[(0,p.jsx)("img",{src:r().A.images.devices.iphoneXFramePng,style:{width:"100%",display:"block",position:"relative",zIndex:2}}),(0,p.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",background:N().Ay.white,transform:"translate(-50%, -50%)",width:"84.5%",height:"95%"},children:n})]})}function mt(e){let{style:t,children:n}=e;return(0,p.jsxs)("div",{style:{boxShadow:`0 12px 30px ${N().Ay.blackWithAlpha(.25)}`,background:N().Ay.frontMobilePhoneBackground,overflow:"hidden",position:"relative",width:"100%",borderRadius:"15%/7%",...t},children:[(0,p.jsx)("div",{style:{width:"100%",height:0,paddingBottom:"205.73012939%",backgroundImage:`url(${r().A.images.chromeMobileAndroidPng})`,backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"}}),(0,p.jsx)("div",{style:{position:"absolute",top:0,left:"4.1589648799%",width:"91.5785582255%",marginTop:"20.60998152%"},children:n})]})}var vt=()=>n(536190);function yt(e){let{androidImage:t,iosImage:n,visual:o}=e;const a=(0,_().v3)(),i=(0,s().IS)((e=>({title:{color:e.text.secondary,marginBottom:6},subtitle:{color:e.text.primary,fontWeight:V().Wy.semibold},preview:{width:"100%",marginTop:28,marginBottom:0,maxWidth:320,marginLeft:"auto",marginRight:"auto"}})),[]),{device:r}=a;return(0,p.jsx)("div",{children:(0,p.jsx)(ct,{format:r.isAndroid?"Android":"IphoneX",style:i.preview,children:o??(0,p.jsx)("img",{src:r.isAndroid?t:n,style:{width:"100%"}})})})}function bt(){return(0,p.jsx)(yt,{iosImage:r().A.tutorial.iosDragAndDropGif,androidImage:r().A.images.onboarding.mobileHeroAndroidGif})}function ft(){return(0,p.jsx)(yt,{iosImage:r().A.tutorial.iosSidebarGif,androidImage:r().A.tutorial.androidSidebarPng})}function ht(){return(0,p.jsx)(yt,{iosImage:r().A.tutorial.iosNotionWebClipperGif,androidImage:r().A.tutorial.mobileShareSheetAndroidPng})}function xt(){const e=(0,s().IS)((e=>({mobileChrome:{width:"100%",marginTop:28,marginBottom:0,maxWidth:320,marginLeft:"auto",marginRight:"auto"},errorPage:{paddingTop:200,width:"100vw",height:"100%",position:"relative",display:"flex",flex:1,background:e.contentBackground},mobileDesktopVisual:{width:"100%",boxShadow:e.shadowMD,borderRadius:4}})),[]);return(0,p.jsx)(yt,{visual:(0,p.jsxs)("div",{style:{marginTop:32,position:"relative"},children:[(0,p.jsxs)("div",{style:{position:"relative",top:0,left:0,width:"70%"},children:[(0,p.jsx)(T().A,{isSmall:!0,style:{marginBottom:12},children:(0,p.jsx)(a().sA,{defaultMessage:"Browser",id:"useCasemobileDesktopStep.browser.label"})}),(0,p.jsx)("img",{src:r().A.tutorial.mobileSyncSafariPng,style:e.mobileDesktopVisual})]}),(0,p.jsxs)("div",{style:{position:"absolute",top:0,left:"30%",width:"70%"},children:[(0,p.jsx)(T().A,{isSmall:!0,style:{marginBottom:12},children:(0,p.jsx)(a().sA,{defaultMessage:"Mac & Windows App",id:"useCasemobileDesktopStep.desktopApp.label"})}),(0,p.jsx)("img",{src:r().A.tutorial.mobileSyncMacPng,style:e.mobileDesktopVisual})]})]})})}function St(){return(0,p.jsx)(yt,{iosImage:r().A.images.onboarding.mobileHeroGif,androidImage:r().A.images.onboarding.mobileHeroGif})}function jt(){const e=(0,_().v3)(),t=(0,s().DP)(),n=(0,i().O$)(g().A);return(0,p.jsx)(dt().E,{style:{marginTop:8,width:"100%",height:48,borderRadius:12,fontSize:17,fontWeight:V().Wy.semibold,color:t.text.primary,backgroundColor:t.tint.regular,boxShadow:"none"},size:"lg",onClick:async()=>await(0,ue().goToNextStage)({environment:e,onboardingState:n}),disabled:!1,children:(0,p.jsx)(a().sA,{defaultMessage:"Take me to Notion",id:"contextualizedOnboarding.mobileAppDownloadStep.continue"})})}function At(){const e=(0,_().v3)(),t=e.device,o=(0,vt().Oi)(),s=(0,i().O$)(g().A);return(0,p.jsx)("a",{onClick:async()=>{w().u$(e,(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:s,environment:e})),await(0,ue().goToNextStage)({environment:e,onboardingState:s})},href:t.isIOS?lt().JZ.appStore:lt().JZ.playStore,style:{textDecoration:"none",width:"100%",marginTop:16},target:"_blank",children:(0,p.jsxs)(ut().A,{style:o.continueButton,size:"lg",onClick:async()=>await(0,ue().goToNextStage)({environment:e,onboardingState:s}),children:[t.isIOS?(0,n(203302).L)({fill:"currentColor",width:16,height:16,marginRight:6}):(0,n(486917).q)({fill:"currentColor",width:16,height:16,marginRight:6}),(0,p.jsx)(a().sA,{defaultMessage:"Download the app",id:"contextualizedOnboarding.downloadTheAppButton.label"})]})})}function Ct(e){let{androidSrc:t,iosSrc:n,style:o}=e;const{isAndroid:a}=(0,_().Y0)(),s=(0,_().v3)(),l=(0,i().K8)((()=>s.ThemeStore.state.mode),[s]),d=r().A.tutorial[l][a?t:n];return(0,p.jsx)("div",{style:{width:"100%",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,p.jsx)("img",{src:d,style:o,alt:"Tutorial gif"})})}function wt(){return(0,p.jsx)(Ct,{androidSrc:"androidOrganizeGif",iosSrc:"iosOrganizeGif",style:{width:"150%",margin:"-5% -25%"}})}function kt(){return(0,p.jsx)(Ct,{androidSrc:"androidCreateGif",iosSrc:"iosCreateGif",style:{width:"150%",margin:"-5% -25%"}})}function It(){return(0,p.jsx)(Ct,{androidSrc:"shareGif",iosSrc:"shareGif",style:{width:"150%",margin:"-5% -25%"}})}function Mt(){return(0,p.jsx)(Ct,{androidSrc:"devicesGif",iosSrc:"devicesGif",style:{width:"110%",margin:"0 -5%"}})}function Tt(){return(0,p.jsx)(Ct,{androidSrc:"androidCustomizationGif",iosSrc:"iosCustomizationGif",style:{width:"110%",margin:"10% -5%"}})}function _t(){return(0,p.jsx)(Ct,{androidSrc:"androidFilingGif",iosSrc:"iosFilingGif",style:{width:"110%",margin:"10% -5%"}})}function Pt(){return(0,p.jsx)(Ct,{androidSrc:"sideswipeGif",iosSrc:"sideswipeGif",style:{width:"110%",margin:"10% -5%"}})}const Bt={headerStyles:{fontSize:16},getSubTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"Some essential tips",id:"useCasemobileTutorialStep.title"})},Nt={shouldSkip:()=>!1,isContinueEnabled:()=>!0,isBackEnabled:()=>!0,shouldShowSkipButton:()=>!1,shouldHideScroller:()=>!0},Rt={stageName:"mobile_onboarding_editor",shouldSkip:(e,t)=>!t.device.isMobile,getTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"Touch and hold to reorder any content.",id:"useCasemobileEditorStep.descriptionV2"}),isContinueEnabled:()=>!0,isBackEnabled(e){const t=e.planTypeAndSurveyInfo;return"team"===(null==t?void 0:t.planType)},renderStage:()=>(0,p.jsx)(bt,{}),...Bt},zt={stageName:"mobile_onboarding_sidebar",shouldSkip:(e,t)=>!t.device.isMobile,getTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"The sidebar menu keeps things organized. You’ll find all of your pages here.",id:"useCasemobileEditorSidebarStep.titleV2"}),isContinueEnabled:()=>!0,isBackEnabled:e=>!0,renderStage:()=>(0,p.jsx)(ft,{}),...Bt},Ot={stageName:"mobile_onboarding_web_clipper",shouldSkip:(e,t)=>!t.device.isMobileNative,getTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"<boldtext>Save web pages or local files into Notion.</boldtext>",id:"useCasemobileWebClipperStep.title",values:{boldtext:e=>(0,p.jsx)("b",{children:e})}}),getSubTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"Just tap the share button and pick a page or a database to save to.",id:"useCasewebClipperStep.description"}),isContinueEnabled:()=>!0,isBackEnabled:e=>!0,renderStage:()=>(0,p.jsx)(ht,{}),...Bt},Dt={stageName:"mobile_onboarding_desktop",shouldSkip:(e,t)=>!t.device.isMobile||!(null!=t&&t.device.isMobileNative),getTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"Notion also works on Mac, Windows, and in the browser! Everything will stay in sync across your devices",id:"useCasemobileDesktopStep.titleV2",values:{boldtext:e=>(0,p.jsx)("b",{children:e})}}),isContinueEnabled:()=>!0,isBackEnabled:e=>!0,renderStage:()=>(0,p.jsx)(xt,{}),headerStyles:{fontSize:16}},Wt={stageName:"mobile_onboarding_app_download",shouldSkip:(e,t)=>t.device.isMobileNative,getTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"Discover the latest features and enjoy a seamless, supercharged experience on the go with the mobile app",id:"mobileAppDownloadStep.subTitleV2"}),isContinueEnabled:()=>!0,isBackEnabled:e=>!0,renderStage:()=>(0,p.jsx)(St,{}),headerStyles:{fontSize:16,lineHeight:void 0},getMobileContinueButtonOverride:()=>(0,p.jsx)(At,{}),renderContentAboveContinueButton:()=>(0,p.jsx)(jt,{})},Et={...Nt,stageName:"mobile_onboarding_home",getTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"Keep your thoughts organized",id:"useCaseMobileHomeStep.title"}),getSubTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"Use the home tab to organize your pages.",id:"useCaseMobileHomeStep.description"}),isBackEnabled(e){const t=e.planTypeAndSurveyInfo;return"team"===(null==t?void 0:t.planType)},renderStage:()=>(0,p.jsx)(wt,{})},Lt={...Nt,stageName:"mobile_onboarding_creation",getTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"Create notes, tasks and more",id:"useCaseMobileEditorV2Step.title"}),getSubTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"Use Notion blocks to create anything, big or small.",id:"useCaseMobileEditorV2Step.description"}),renderStage:()=>(0,p.jsx)(kt,{})},qt={...Nt,stageName:"mobile_onboarding_share",getTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"Share content into Notion",id:"useCaseMobileShareStep.title"}),getSubTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"Share articles, photos, and more directly into your Notion pages.",id:"useCaseMobileShareStep.description"}),renderStage:()=>(0,p.jsx)(It,{})},Ft={...Nt,stageName:"mobile_onboarding_multi_platform",getTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"Work across devices",id:"useCaseMobileMultiPlatformStep.title"}),getSubTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"Download Notion on your phone, tablet, or desktop.",id:"useCaseMobileMultiPlatformStep.description"}),shouldShowSkipButton:e=>!1,renderStage:()=>(0,p.jsx)(Mt,{})},Ut={...Nt,stageName:"mobile_onboarding_skill_mab",getTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"Create how you want",id:"useCaseMobileSkillMabStep.title"}),getSubTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"You can create custom content blocks, customize your content, and add media from your Notion pages.",id:"useCaseMobileSkillMabStep.description"}),isBackEnabled(e){const t=e.planTypeAndSurveyInfo;return"team"===(null==t?void 0:t.planType)},renderStage:()=>(0,p.jsx)(Tt,{})},Ht={...Nt,stageName:"mobile_onboarding_skill_filing",getTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"Keep your thoughts organized",id:"useCaseMobileSkillFilingStep.title"}),getSubTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"You can organize your pages by nesting inside pre-made sections, or even other pages.",id:"useCaseMobileSkillFilingStep.description"}),renderStage:()=>(0,p.jsx)(_t,{})},Vt={...Nt,stageName:"mobile_onboarding_skill_swipe",getTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"Manage your pages with a swipe",id:"useCaseMobileSkillSwipeStep.title"}),getSubTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"Side swipe on any of your pages to view actions, favorite, or delete the page.",id:"useCaseMobileSkillSwipeStep.description"}),shouldShowSkipButton:e=>!1,renderStage:()=>(0,p.jsx)(Pt,{})};function Kt(e){let{useCases:t,onSelectUseCase:n,collaborativeIntent:o}=e;const i=function(e){return{docs:"singleplayer"===e?(0,p.jsx)(a().sA,{id:"OnboardingSurvey.useCase.question.singleplayer.docs",defaultMessage:"Write documents"}):(0,p.jsx)(a().sA,{id:"OnboardingSurvey.useCase.question.docs",defaultMessage:"Collaborate with others in docs"}),wikis:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.useCase.question.wikis",defaultMessage:"Create a knowledge base / wiki"}),project:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.useCase.question.project",defaultMessage:"Manage projects"}),goals:"singleplayer"===e?(0,p.jsx)(a().sA,{id:"OnboardingSurvey.useCase.question.singleplayer.goals",defaultMessage:"Track goals"}):(0,p.jsx)(a().sA,{id:"OnboardingSurvey.useCase.question.goals",defaultMessage:"Track company goals and OKRs"}),notes:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.useCase.question.notes",defaultMessage:"Write notes"}),ai:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.useCase.question.ai",defaultMessage:"Create and find content with AI"}),other:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.useCase.question.otherOptionLabel",defaultMessage:"Other"})}}(o),r=(0,a().tz)(),l=(0,s().DP)(),d=(0,_().v3)(),{device:c}=d,g={menuTitle:r.formatMessage({defaultMessage:"Using Notion for...",id:"onboardingSurvey.useCase.popuplabel"}),items:Object.keys(i),width:300,getKey:e=>e,selectedItem:void 0,originGap:4,onSelect:e=>n(e),dontCloseParentOnSelect:!0,renderItem:e=>(0,p.jsx)(R().A,{icon:(0,p.jsx)(ot().A,{checked:t.includes(e.value),size:16,onClick:()=>n(e.value)}),title:i[e.value],className:`${Ze().eL1}-${e.value}`,...e}),renderOrigin:e=>(0,p.jsxs)(u().A,{size:"lg",onClick:t=>e.onClick(t),style:{padding:"2px 10px",display:"flex",alignItems:"center",justifyContent:"space-between",border:0,transition:"box-shadow 0.3s ease",boxShadow:`0 0 0 1px ${l.outlineButtonBorder}`,height:c.isMobile?40:32,background:l.surface.wash,borderRadius:c.isMobile?10:6},className:Ze().eL1,children:[(0,p.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,p.jsx)(T().A,{isMobile:c.isMobile,isSecondaryColor:0===t.length,style:c.isMobile?{fontSize:15}:{},children:t.length>0?(0,p.jsx)(a().sA,{defaultMessage:"{count, plural, one {{useCase}} other {{count} selected}}",id:"onboardingSurvey.useCasesSelect.plural.placeholder",values:{count:t.length,useCase:i[Array.from(t)[0]]}}):(0,p.jsx)(a().sA,{defaultMessage:"Choose one or more...",id:"onboardingSurvey.useCasesSelect.placeholder"})})}),(0,P().e)({width:10,fill:l.lightIconColor})]})};return(0,p.jsx)(z().A,{...g},"useCase")}const Qt=(0,a().YK)({workIntentTitleV2:{defaultMessage:"For work",id:"onboardingWorkspacePlanChoose.teamUseCaseButton.labelV2"},lifeIntentTitleV2:{defaultMessage:"For personal life",id:"onboardingWorkspacePlanChoose.personalUseCaseButton.labelV2"},schoolIntentTitleV2:{defaultMessage:"For school",id:"onboardingWorkspacePlanChoose.schoolUseCaseButton.labelV2"},workIntentSubtitleV2:{defaultMessage:"Track projects, company goals, meeting notes",id:"onboardingWorkspacePlanChoose.teamUseCaseButton.descriptionV2"},lifeIntentSubtitleV2:{defaultMessage:"Write better, think more clearly, stay organized",id:"onboardingWorkspacePlanChoose.personalUseCaseButton.descriptionV2"},schoolIntentSubtitleV2:{defaultMessage:"Keep notes, research, and tasks in one place",id:"onboardingWorkspacePlanChoose.schoolUseCaseButton.descriptionV2"}});function Gt(e){return[{planType:"team",illustrationPath:e?r().A.images.onboarding.planTypeForWorkSplitIntentDarkmodePng:r().A.images.onboarding.planTypeForWorkSplitIntentLightmodePng,title:(0,p.jsx)(a().sA,{...Qt.workIntentTitleV2}),subtitle:(0,p.jsx)(a().sA,{...Qt.workIntentSubtitleV2})},{planType:"personal",illustrationPath:e?r().A.images.onboarding.planTypeForLifeSplitIntentDarkmodePng:r().A.images.onboarding.planTypeForLifeSplitIntentLightmodePng,title:(0,p.jsx)(a().sA,{...Qt.lifeIntentTitleV2}),subtitle:(0,p.jsx)(a().sA,{...Qt.lifeIntentSubtitleV2})},{planType:"school",illustrationPath:e?r().A.images.onboarding.planTypeForSchoolSplitIntentDarkmodePng:r().A.images.onboarding.planTypeForSchoolSplitIntentLightmodePng,title:(0,p.jsx)(a().sA,{...Qt.schoolIntentTitleV2}),subtitle:(0,p.jsx)(a().sA,{...Qt.schoolIntentSubtitleV2})}]}function Jt(e){const{checkedIntentType:t,handlePlanTypeSelect:n,planType:o,illustrationPath:a,buttonClassName:i,title:r,subtitle:l}=e,d=(0,_().v3)(),u=function(e){const{isMobile:t,isSelected:n}=e;return(0,s().IS)((e=>({toggleButtonStyle:{alignItems:"center",justifyContent:"center",whiteSpace:"normal",borderRadius:12,fontSize:14,lineHeight:1.2,position:"relative",transition:"all 200ms ease",display:"flex",marginTop:20,padding:0,boxShadow:`${e.outlineButtonBorder} 0 0 0 1px, rgba(167, 167, 167, 0.25) 0px 1px 2px`,minHeight:136,...n?{boxShadow:`${N().Ay.blue} 0 0 0 2px, rgba(182, 182, 182, 0.25) 0px 8px 12px`,background:e.surface.elevated}:{opacity:.7},display:"flex",marginTop:16,padding:0,boxShadow:`${e.outlineButtonBorder} 0 0 0 1px, rgba(167, 167, 167, 0.25) 0px 1px 2px`,minHeight:70,...{height:100,...n&&{boxShadow:`${N().Ay.blue} 0 0 0 2px, rgba(182, 182, 182, 0.25) 0px 8px 12px`,background:void 0},...t&&{minHeight:110}}},buttonIllustrationWrapperStyle:{marginLeft:10,height:57,width:85,textAlign:"center"},buttonCheckmarkStyle:{order:1,marginRight:20,height:24,width:24},buttonHeadingStyle:{fontWeight:V().Wy.medium,fontSize:16,marginTop:10,color:e.text.primary},buttonSubheadingStyle:{color:e.text.secondary,fontWeight:V().Wy.regular,fontSize:14,lineHeight:1.4,transition:"all 200ms ease",marginTop:4,marginBottom:8,display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:3,overflow:"hidden"},imageWrapStyle:{position:"absolute",bottom:-40,left:89}})),[t,n])}({isMobile:d.device.isMobile,isSelected:t===o});return(0,p.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:(0,p.jsx)(Te().A,{id:void 0,style:u.toggleButtonStyle,onClick:n,className:i,children:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("img",{src:a,style:{height:"100%",height:48,width:48,textAlign:"center",marginLeft:24}}),(0,p.jsxs)("main",{style:$t(d),children:[(0,p.jsx)("header",{style:u.buttonHeadingStyle,children:r}),(0,p.jsx)("p",{style:u.buttonSubheadingStyle,children:l})]})]})})})}function $t(e){return{margin:e.device.isMobile?10:16,flex:1}}function Yt(e){var t;let{onboardingState:n}=e;return(0,p.jsx)(F,{questionType:"work",title:(0,p.jsx)(a().sA,{defaultMessage:"Your function",id:"onboardingSurvey.persona.popuplabel"}),question:null===(t=n.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.userPersona,randomizeSelectionOrder:!0,invalid:!1,onSelect:e=>{!function(e,t){var n;g().A.setState({...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,surveyResponses:{...null===(n=e.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses,userPersona:t}}})}(n,e)},className:Ze().Uaw})}function Zt(e){var t;let{onboardingState:n}=e;return(0,p.jsx)(F,{questionType:"role",title:(0,p.jsx)(a().sA,{defaultMessage:"Your role",id:"onboardingSurvey.role.popuplabel"}),question:null===(t=n.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.userRole,invalid:!1,onSelect:e=>{!function(e,t){var n;g().A.setState({...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,surveyResponses:{...null===(n=e.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses,userRole:t}}})}(n,e)},className:Ze().q5q})}function Xt(e){var t;let{onboardingState:n}=e;return(0,p.jsx)(F,{questionType:"companySize",title:(0,p.jsx)(a().sA,{defaultMessage:"Company size...",id:"onboardingSurvey.companySize.popuplabel"}),randomizeSelectionOrder:!1,question:null===(t=n.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.companySize,invalid:!1,onSelect:e=>{!function(e,t){var n;g().A.setState({...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,surveyResponses:{...null===(n=e.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses,companySize:t}}})}(n,e)},className:Ze().u_N})}const en=function(){var e;const t=(0,i().O$)(g().A),n=(0,_().v3)(),o=Gt("dark"===(0,s().eP)()),r={...K,marginTop:25,marginBottom:8};return(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{style:{display:"flex"},children:o.map(((e,o)=>{var a;return(0,p.jsx)(Jt,{checkedIntentType:null===(a=t.planTypeAndSurveyInfo)||void 0===a?void 0:a.planType,buttonClassName:Ze().OX4,handlePlanTypeSelect:()=>function(e){const{environment:t,onboardingState:n,surveyResponse:o}=e,a={...n,planTypeAndSurveyInfo:{...n.planTypeAndSurveyInfo,planType:o}};return w().ut(t,{...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:a,spaceJoinOrCreate:"create",environment:t}),planType:o}),g().A.setState(a),a}({environment:n,onboardingState:t,surveyResponse:e.planType}),hideCheckboxes:!0,...e},o)}))}),(0,p.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginBottom:24,padding:16},children:[(0,p.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,p.jsxs)("div",{style:{width:"calc(50% - 12px)"},children:[(0,p.jsx)("div",{style:r,children:(0,p.jsx)(T().A,{isSmall:!0,children:(0,p.jsx)(a().sA,{defaultMessage:"What kind of work do you do?",id:"onboardingSurvey.persona.label"})})}),(0,p.jsx)(Yt,{onboardingState:t})]}),(0,p.jsxs)("div",{style:{width:"calc(50% - 12px)"},children:[(0,p.jsx)("div",{style:r,children:(0,p.jsx)(T().A,{isSmall:!0,children:(0,p.jsx)(a().sA,{defaultMessage:"What’s your role?",id:"onboardingSurvey.teamRole.labelV2"})})}),(0,p.jsx)(Zt,{onboardingState:t})]})]}),(0,p.jsx)("div",{style:r,children:(0,p.jsx)(T().A,{isSmall:!0,children:(0,p.jsx)(a().sA,{defaultMessage:"What’s the size of your company?",id:"onboardingSurvey.companySize.labelV2"})})}),(0,p.jsx)(Xt,{onboardingState:t}),(0,p.jsx)("div",{style:r,children:(0,p.jsx)(T().A,{isSmall:!0,children:(0,p.jsx)(a().sA,{defaultMessage:"What are you planning to do in Notion?",id:"onboardingSurvey.useCase.label"})})}),(0,p.jsx)(Kt,{useCases:(null===(e=t.planTypeAndSurveyInfo)||void 0===e||null===(e=e.surveyResponses)||void 0===e?void 0:e.useCases)??[],onSelectUseCase:e=>{!function(e,t){var n,o;const a=(null===(n=e.planTypeAndSurveyInfo)||void 0===n||null===(n=n.surveyResponses)||void 0===n?void 0:n.useCases)??[],i=new Set(a);a.includes(t)?i.delete(t):i.add(t);g().A.setState({...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,surveyResponses:{...null===(o=e.planTypeAndSurveyInfo)||void 0===o?void 0:o.surveyResponses,useCases:Array.from(i)}}})}(t,e)}})]})]})},tn={stageName:"onboarding_plan_type_and_survey",shouldSkip:()=>!1,getTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"Hi {profileName}! Let’s get you set up.",id:"contextualizedOnboarding.planTypeAndSurvey.title",values:{profileName:null==e?void 0:e.profileName}}),getSubTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"How do you plan to use Notion?",id:"contextualizedOnboarding.planTypeAndSurvey.subtitle"}),isContinueEnabled(e){var t;return Boolean(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)},isBackEnabled:e=>!0,renderStage:()=>(0,p.jsx)(en,{})};var nn=()=>n(599932),on=()=>n(611824);function an(){var e;const t=(0,i().O$)(g().A),n=null===(e=t.planTypeAndSurveyInfo)||void 0===e?void 0:e.planType;return(0,p.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginTop:28},children:(0,p.jsx)(sn,{onboardingState:t,intentType:n})})}function sn(e){const{intentType:t,onboardingState:n}=e,a=(0,_().v3)(),i=(0,s().IS)((e=>({toggleGroupWrapStyle:{marginTop:0,marginBottom:32,width:"100%",justifyContent:"center"}})),[]),r="dark"===(0,s().eP)(),[l,d]=(0,o.useState)(t),u=Gt(r);return(0,p.jsx)("div",{style:i.toggleGroupWrapStyle,children:u.map(((e,t)=>(0,p.jsx)(Jt,{checkedIntentType:l,buttonClassName:Ze().OX4,handlePlanTypeSelect:()=>function(e,t,n,o){var a,i;let s;var r;"personal"===t?s=null!==(r=e.onboardingData)&&void 0!==r&&r.isEducationPlanEligible?"student":"other":"school"===t&&(s="student");const l=null===(a=e.planTypeAndSurveyInfo)||void 0===a?void 0:a.planType,d=!l&&(0,c().isAiOnboardingFlow)(e.flowName),u={...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,surveyResponses:{...null===(i=e.planTypeAndSurveyInfo)||void 0===i?void 0:i.surveyResponses,userPersona:s},planType:t}};g().A.setState(u),d?(w().ut(o,{...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:u,spaceJoinOrCreate:"create",environment:o}),planType:t}),(0,ue().goToNextStage)({environment:o,onboardingState:u})):n(t)}(n,e.planType,d,a),...e},t)))})}function rn(e){var t;let{onboardingState:o}=e;const r=(0,s().IS)((e=>({copyStyle:{fontSize:14,fontWeight:400,color:e.selectLightGray[700],position:"relative",textAlign:"center",paddingBottom:42,marginLeft:"auto",marginRight:"auto",maxWidth:520}})),[]),l=(0,i().K8)((()=>{var e;return null===(e=o.onboardingData)||void 0===e?void 0:e.userStore.getEmail()}),[o]);return null!==(t=o.onboardingData)&&void 0!==t&&t.isUserUsingVerifiedDomain&&l?(0,p.jsx)(T().A,{isSmall:!0,isMultiline:!0,style:r.copyStyle,children:(0,p.jsx)(a().sA,{defaultMessage:"You are currently logged in as <bold>{email}</bold>. By creating this workspace, you accept that it can be managed by the owners of the email domain <bold>{emailDomain}</bold>. See <domainclaimlink>this page</domainclaimlink> for more info.",id:"onboardingWorkspacePlanChoose.verifiedDomain.byline",values:{email:l,emailDomain:(0,nn().zN)(l),bold:e=>(0,p.jsx)("b",{children:e}),domainclaimlink:e=>(0,p.jsx)(on().A,{href:(0,n(392608).xS)("guides.domainManagement"),external:!0,children:e})}})}):null}function ln(){var e;const t=(0,i().O$)(g().A),n=null===(e=t.planTypeAndSurveyInfo)||void 0===e?void 0:e.planType;return(0,p.jsx)(sn,{onboardingState:t,intentType:n})}const dn={stageName:"onboarding_plan_type_choose",shouldSkip:()=>!1,getTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"How do you want to use Notion?",id:"onboardingWorkspacePlanChoose.step.titleV2"}),getSubTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"This helps customize your experience",id:"onboardingWorkspacePlanChoose.step.subtitleV2"}),isContinueEnabled(e){var t;return Boolean(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)},onContinue(e,t){var n,o;const a=null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.planType;void 0!==a?(null!==(o=t.onboardingData)&&void 0!==o&&o.canUserCreateSpace||(0,de().handleUserCanNotCreateSpace)(e,t),w().ut(e,{...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:t,spaceJoinOrCreate:"create",environment:e}),planType:a})):Ye().log({level:"error",from:"OnboardingWorkspacePlanChoose",type:"unexpectedValue",error:{message:"Unexpected Value: onboardingState.planSelection is undefined."}})},getContinueButtonStyles:()=>({width:300,height:36,marginTop:64}),isBackEnabled:e=>!(0,c().isAiOnboardingFlow)(e.flowName)&&(!e.isFirstTimeOnboarding||0!==e.joinableSpaces.length),renderStage:()=>(0,p.jsx)(an,{}),headerStyles:{textAlign:"center"},renderContentUnderContinueButton:(e,t)=>(0,p.jsx)("div",{style:{marginTop:48},children:(0,p.jsx)(rn,{onboardingState:e})}),shouldHideDesktopBottomContent(e){const t=null==e?void 0:e.planTypeAndSurveyInfo;return!(null!=t&&t.planType)&&(0,c().isAiOnboardingFlow)(e.flowName)},alignment:k().C.Center},un={stageName:"mobile_onboarding_plan_type_choose",shouldSkip:()=>!1,getTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"How do you want to use Notion?",id:"onboardingWorkspacePlanChoose.mobileStep.titleV2"}),isContinueEnabled(e){var t;return Boolean(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)},onContinue(e,t){var n,o;const a=null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.planType;void 0!==a?(null!==(o=t.onboardingData)&&void 0!==o&&o.canUserCreateSpace||(0,de().handleUserCanNotCreateSpace)(e,t),w().ut(e,{...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:t,spaceJoinOrCreate:"create",environment:e}),planType:a})):Ye().log({level:"error",from:"OnboardingWorkspacePlanChoose",type:"unexpectedValue",error:{message:"Unexpected Value: onboardingState.planSelection is undefined."}})},isBackEnabled:e=>0!==e.joinableSpaces.length,renderStage:()=>(0,p.jsx)(ln,{}),headerStyles:{textAlign:"center"},alignment:k().C.Start};var cn=()=>n(259869),gn=()=>n(204758);function pn(e){const{countryCode:t,onClick:n,emailOptIn:o,device:r}=e,l=(0,s().DP)(),d=(0,i().K8)((()=>r.isMobile&&(0,me().S5)()),[r]),u="out"===(0,gn().eh)(t).opt,c=u?(0,p.jsx)(a().sA,{id:"onboardingEmailConsent.checkbox.optOutlabel",defaultMessage:"No, I do not want to receive marketing communications from Notion."}):(0,p.jsx)(a().sA,{id:"onboardingEmailConsent.checkbox.optInlabelV2",defaultMessage:"I agree to Notion marketing communications"});return(0,p.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:r.isMobile?12:4},children:(0,p.jsxs)("div",{onClick:n,style:{cursor:"pointer",display:"flex",alignItems:"center"},children:[d?(0,p.jsx)(ot().A,{style:{margin:8,marginLeft:0},checked:u?!o:o,size:16,onClick:n,stroke:l.stroke.input}):(0,p.jsx)("input",{type:"checkbox",style:{margin:10,marginLeft:0,borderRadius:2,cursor:"pointer",accentColor:N().Ay.blue,transform:e.device.isSafari?"scale(1.25)":"scale(1)"},checked:u?!o:o,onChange:n}),(0,p.jsx)(T().A,{isMultiline:!0,isSmall:!0,isSecondaryColor:!d,children:c})]})})}function mn(e){let{style:t}=e;const n=(0,s().DP)();return(0,p.jsx)(T().A,{isMultiline:!0,isSmall:!0,isSecondaryColor:!0,style:{marginTop:8,...t},children:(0,p.jsx)(a().sA,{id:"onboardingEmailConsent.unsubscribe.label",defaultMessage:"You may unsubscribe from receiving marketing communications at any time. Notion's websites and communications are subject to our <privacypolicy>Privacy Policy</privacypolicy>.",values:{privacypolicy:e=>(0,p.jsx)(on().A,{href:"https://www.notion.so/Privacy-Policy-3468d120cf614d4c9014c09f6adc9091",external:!0,onClick:e=>e.stopPropagation(),style:{fontWeight:V().Wy.semibold,textDecoration:"auto",color:n.text.tertiary},children:e})}})})}n(153350),n(1759),n(211883),n(175799),n(778020),n(234093),n(52950),n(914784),n(545159),n(117826),n(474872);var vn=()=>n(573520),yn=()=>n(680369);const bn=(0,yn().wt)("photoBadgePlus",{viewBox:"0 0 24 24",svg:(0,p.jsx)("path",{d:"M6.18945 18.0176C5.43294 18.0176 4.85645 17.8216 4.45996 17.4297C4.06803 17.0378 3.87207 16.4704 3.87207 15.7275V7.42188C3.87207 6.66992 4.06803 6.10026 4.45996 5.71289C4.85645 5.32096 5.43294 5.125 6.18945 5.125H17.8037C18.5602 5.125 19.1344 5.32096 19.5264 5.71289C19.9183 6.10482 20.1143 6.67448 20.1143 7.42188V11.209C19.9912 11.1908 19.8659 11.1748 19.7383 11.1611C19.6152 11.1475 19.4899 11.1406 19.3623 11.1406C19.2347 11.1406 19.1048 11.1475 18.9727 11.1611C18.8451 11.1748 18.7197 11.193 18.5967 11.2158V7.5791C18.5967 7.26465 18.5169 7.02995 18.3574 6.875C18.1979 6.72005 17.9701 6.64258 17.6738 6.64258H6.3125C6.01172 6.64258 5.78158 6.72005 5.62207 6.875C5.46712 7.02995 5.38965 7.26465 5.38965 7.5791V14.7227L7.16699 13.1299C7.30827 13.0023 7.44954 12.9089 7.59082 12.8496C7.7321 12.7858 7.88477 12.7539 8.04883 12.7539C8.20378 12.7539 8.35872 12.7881 8.51367 12.8564C8.67318 12.9202 8.82585 13.0137 8.97168 13.1367L10.2295 14.2715L13.3125 11.5166C13.472 11.3799 13.6361 11.2796 13.8047 11.2158C13.9733 11.1475 14.151 11.1133 14.3379 11.1133C14.5202 11.1133 14.6979 11.1475 14.8711 11.2158C15.0488 11.2842 15.2106 11.389 15.3564 11.5303L16.2656 12.3848C15.819 12.7904 15.4635 13.278 15.1992 13.8477C14.9395 14.4173 14.8096 15.0303 14.8096 15.6865C14.8096 16.1104 14.8665 16.5182 14.9805 16.9102C15.099 17.3066 15.263 17.6758 15.4727 18.0176H6.18945ZM9.32031 11.7422C9.01497 11.7422 8.73698 11.667 8.48633 11.5166C8.23568 11.3662 8.03516 11.1657 7.88477 10.915C7.73438 10.6598 7.65918 10.3796 7.65918 10.0742C7.65918 9.77344 7.73438 9.49772 7.88477 9.24707C8.03516 8.99186 8.23568 8.78906 8.48633 8.63867C8.73698 8.48828 9.01497 8.41309 9.32031 8.41309C9.62565 8.41309 9.90137 8.48828 10.1475 8.63867C10.3981 8.78906 10.5986 8.99186 10.749 9.24707C10.8994 9.49772 10.9746 9.77344 10.9746 10.0742C10.9746 10.3796 10.8994 10.6598 10.749 10.915C10.5986 11.1657 10.3981 11.3662 10.1475 11.5166C9.90137 11.667 9.62565 11.7422 9.32031 11.7422ZM19.3691 19.2412C18.8815 19.2412 18.4235 19.1478 17.9951 18.9609C17.5667 18.7741 17.1885 18.5166 16.8604 18.1885C16.5368 17.8649 16.2816 17.4889 16.0947 17.0605C15.9079 16.6322 15.8145 16.1742 15.8145 15.6865C15.8145 15.1943 15.9079 14.7363 16.0947 14.3125C16.2816 13.8841 16.5368 13.5059 16.8604 13.1777C17.1885 12.8496 17.5667 12.5944 17.9951 12.4121C18.4235 12.2253 18.8815 12.1318 19.3691 12.1318C19.8568 12.1318 20.3148 12.2253 20.7432 12.4121C21.1715 12.5944 21.5498 12.8496 21.8779 13.1777C22.2061 13.5013 22.4613 13.8773 22.6436 14.3057C22.8258 14.734 22.917 15.1943 22.917 15.6865C22.917 16.1696 22.8236 16.6253 22.6367 17.0537C22.4544 17.4821 22.1992 17.8604 21.8711 18.1885C21.543 18.5166 21.1647 18.7741 20.7363 18.9609C20.3079 19.1478 19.8522 19.2412 19.3691 19.2412ZM19.3691 17.9561C19.5195 17.9561 19.6403 17.9105 19.7314 17.8193C19.8226 17.7282 19.8682 17.6074 19.8682 17.457V16.1855H21.1396C21.2855 16.1855 21.404 16.14 21.4951 16.0488C21.5908 15.9577 21.6387 15.8369 21.6387 15.6865C21.6387 15.5361 21.5908 15.4154 21.4951 15.3242C21.404 15.2331 21.2855 15.1875 21.1396 15.1875H19.8682V13.9229C19.8682 13.7725 19.8226 13.6517 19.7314 13.5605C19.6403 13.4694 19.5195 13.4238 19.3691 13.4238C19.2188 13.4238 19.098 13.4694 19.0068 13.5605C18.9157 13.6517 18.8701 13.7725 18.8701 13.9229V15.1875H17.5986C17.4482 15.1875 17.3275 15.2331 17.2363 15.3242C17.1452 15.4154 17.0996 15.5361 17.0996 15.6865C17.0996 15.8369 17.1452 15.9577 17.2363 16.0488C17.332 16.14 17.4528 16.1855 17.5986 16.1855H18.8701V17.457C18.8701 17.6074 18.9157 17.7282 19.0068 17.8193C19.098 17.9105 19.2188 17.9561 19.3691 17.9561Z"})});var fn=()=>n(70989),hn=()=>n(663539),xn=()=>n(884373),Sn=()=>n(392968),jn=()=>n(59175),An=()=>n(655830),Cn=()=>n(283992),wn=()=>n(868325),kn=()=>n(965694),In=()=>n(129044);class Mn extends In().default{getInitialState(){return{showPassword:!1,displayPasswordInput:!0}}}const Tn=Mn;function _n(e){let{device:t,shouldUseNewMobileProfileDesign:n}=e;return(0,s().IS)((e=>({input:{backgroundColor:"transparent",height:31,borderRadius:6},saveNewPasswordInput:{display:"flex",flexDirection:"column",textAlign:"left",width:"100%"},eyeIcon:{width:t.isMobile?18:16,height:t.isMobile?18:16,fill:e.lightIconColor,padding:1},eyeHideIcon:{width:t.isMobile?18:16,height:t.isMobile?18:16,fill:e.lightIconColor,paddingLeft:2},newPasswordHint:{borderRadius:12,background:e.tint.regular,width:"100%",fontSize:13,color:e.text.secondary,padding:6,marginTop:12},profilePhotoButton:{width:n?72:112,height:n?72:112,borderRadius:"100%",margin:"0 auto",marginTop:n?8:48,marginBottom:n?8:12},placeholderAvatar:{display:"flex",justifyContent:"center",alignItems:"center"},profileName:{marginBottom:24,border:"none",background:"none",width:"auto",maxWidth:256,height:32,borderRadius:6,boxShadow:"none",color:e.text.secondary},profileNameInput:{height:32,fontSize:26,fontWeight:V().Wy.bold,color:e.text.primary},profileNameInputLabel:{color:e.text.secondary,fontSize:12,display:"flex",justifyContent:"center"},placeholderImage:{position:"absolute",width:n?40:t.isMobile?72:48,height:n?40:t.isMobile?72:48,opacity:n?.5:t.isMobile?.2:1,objectFit:"cover",borderRadius:"100%",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},photoBadgePlusContainer:{position:"absolute",bottom:-7,right:-7,width:42,height:42,borderRadius:"50%",border:`4px solid ${e.surface.wash}`,background:e.stroke.primary,backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)"},photoBadgePlus:{width:26,height:26,marginTop:4,marginLeft:4,fill:e.icon.secondary},mobileFormLabel:{fontSize:12,color:e.text.secondary,fontWeight:500,marginTop:20,marginBottom:4},mobileInput:{height:42,backgroundColor:"transparent",borderRadius:10,...n&&{border:`1px solid ${e.stroke.primary}`,background:"none"}}})),[t.isMobile,n])}function Pn(){const e=(0,i().uB)(void 0,Tn),t=(0,a().tz)(),l=(0,s().DP)(),d=(0,_().v3)(),u=(0,i().O$)(g().A),m=_n({device:d.device}),{profilePhoto:v,profileName:y,password:b}=u,f="dark"===(0,s().eP)()?r().A.images.onboarding.profilePlaceholderDarkmodePng:r().A.images.onboarding.profilePlaceholderLightmodePng,h=!v&&y,x=(0,i().K8)((()=>e.state.invalidField),[e]),S=(0,i().K8)((()=>e.state.showPassword),[e]),j=(0,i().K8)((()=>"performance_marketing_term_onboarding"===u.flowName),[u.flowName]),[A,C]=(0,o.useState)(!1),[w,k]=(0,o.useState)(""),I=(0,n(622286).X)("onboarding_profile_enable_notion_faces");(0,o.useEffect)((()=>{if(!I)return;const e=e=>{if(!e.data.profilePhotoData)return;fn().m({message:(0,a().YK)({savingProfilePhoto:{defaultMessage:"Saving your profile photo",id:"contextualizedOnboardingProfile.uploadingFacesProfilePhoto"}}).savingProfilePhoto});const t=function(e){try{let t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);const n=e.split(",")[0].split(":")[1].split(";")[0],o=new Uint8Array(t.length);for(let e=0;e<t.length;e++)o[e]=t.charCodeAt(e);return new Blob([o],{type:n})}catch{return null}}(e.data.profilePhotoData);if(!t)return void fn().V();const n=new File([t],"notion-profile-photo.png",{type:"image/png"});hn().cA(n,d,"public",(t=>{k(e.data.faceString),Dn(t,d),fn().V(),C(!1)}))};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}),[d,t,I]);const[M,P]=(0,o.useState)(null),[B,R]=(0,o.useState)(!1),z=(0,i().K8)((()=>{const e=(0,c().getStageName)({flowName:u.flowName,stageIndex:u.currentStageIndex,environment:d});return wi[e]}),[u,d]),O=(0,i().K8)((()=>null==z?void 0:z.isContinueEnabled(u,d)),[z,u,d]),D=!j;return(0,p.jsx)(An().A,{capture:!0,debugName:"ContextualizedOnboardingProfile",onEnter:async()=>{O&&await(0,ue().goToNextStage)({environment:d,onboardingState:u})},onLeft:we().D_,onRight:we().D_,onSelectAll:we().D_,onRedo:we().D_,onUndo:we().D_,onCut:we().D_,onCopy:we().D_,onPaste:we().D_,onKeypress:we().D_,onDelete:we().D_,onBackspace:we().D_,onTab:we().D_,children:(0,p.jsxs)("div",{style:{width:300,alignSelf:"center",marginTop:j?0:36},children:[I&&(0,p.jsx)(n(922172).a,{style:{width:"80vw",height:"80vh",left:0,right:0,margin:"auto",position:"absolute",top:48},showCloseIcon:!1,onDismiss:()=>{C(!1)},open:A,backgroundStyle:{inset:"initial"},render:()=>(0,p.jsx)("div",{style:{width:"80vw",height:"80vh"},children:(0,p.jsx)("iframe",{name:"test",src:`http://faces.notion.com?face=${w}`,style:{width:"80vw",height:"80vh",border:"none"}})})}),D&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Te().A,{onClick:()=>{I?C(!0):On(d)},style:{width:64,height:64,borderRadius:"100%",boxShadow:"none",overflow:"hidden",margin:"0 auto",...h&&{display:"flex",justifyContent:"center",alignItems:"center",background:l.whiteButtonBackground},...!v&&{position:"relative",opacity:.2,background:l.stroke.primary}},children:h?(0,p.jsx)("div",{style:{fontWeight:V().Wy.bold,color:l.icon.secondary,fontSize:24},children:y.charAt(0).toUpperCase()}):v?(0,p.jsx)(Cn().A,{url:v,isAuthenticated:!1,width:120,stripGoogleIconQuery:!0,render:(e,t)=>(0,p.jsx)(Sn().Ay,{src:t,style:{width:"100%",height:"100%",objectFit:"cover"}})}):(0,p.jsx)(Cn().A,{url:f,isAuthenticated:!1,width:120,stripGoogleIconQuery:!0,render:(e,t)=>(0,p.jsx)("div",{children:(0,p.jsx)(Sn().Ay,{src:t,style:m.placeholderImage})})})}),(0,p.jsx)("div",{style:{width:"100%",textAlign:"center",marginTop:8},children:(0,p.jsx)("div",{style:{display:"inline-block"},children:(0,p.jsxs)(ye().p,{size:"sm",isGray:!0,onClick:()=>{I?C(!0):On(d)},style:{fontSize:14,fontWeight:400,marginTop:4,fontStyle:"normal",lineHeight:18,letterSpacing:-.154,color:l.text.secondary},children:[bn({width:18,height:18,marginRight:4}),v?(0,p.jsx)(a().sA,{defaultMessage:"Change",id:"contextualizedOnboardingProfile.changeProfilePhotoButton.label"}):(0,p.jsx)(a().sA,{defaultMessage:"Add a photo",id:"contextualizedOnboardingProfile.addProfilePhotoButton.label"})]})})})]}),(0,p.jsx)("div",{style:{...at().Gy,marginTop:36,color:l.text.secondary},children:(0,p.jsx)(a().sA,{defaultMessage:"Enter your name",id:"onboardingProfile.nameQuestion.labelV2"})}),(0,p.jsx)(jn().A,{autoFocus:!0,placeholder:t.formatMessage({defaultMessage:"Name",id:"contextualizedOnboardingProfile.nameInput.placeholder"}),value:y,onChange:e=>{g().A.setState({...u,profileName:e.target.value})},onBlur:()=>{const{profileName:e}=u;e&&((0,kn().r)(e)||R(!0))},style:{marginRight:4,...m.input,..."name"===x?at().Hp:{}}}),B&&(0,p.jsx)(T().A,{isSecondaryColor:!0,style:{fontSize:12,lineHeight:"16px",color:N().Ay.red,marginTop:4},children:(0,p.jsx)(a().sA,{defaultMessage:"Please enter a valid name",id:"contextualizedOnboardingProfile.nameError.label"})}),u.isPasswordRequired&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(xn().A,{size:.5,dividerColor:l.stroke.secondary}),(0,p.jsx)("div",{style:{...at().Gy,marginTop:24,color:l.text.secondary},children:(0,p.jsx)(a().sA,{defaultMessage:"Set a password",id:"contextualizedOnboardingProfile.passwordQuestion.label"})}),(0,p.jsx)(jn().A,{type:S?"text":"password",value:b||void 0,onChange:e=>{g().A.setState({...u,password:e.target.value}),P(null)},onIconClick:()=>e.setState({showPassword:!e.state.showPassword,displayPasswordInput:e.state.displayPasswordInput}),icon:(0,vn().h)({width:16,height:16,fill:l.lightIconColor}),onClearButtonClick:()=>g().A.setState({...u,password:void 0}),placeholder:t.formatMessage({defaultMessage:"Password",id:"contextualizedOnboardingProfile.passwordInput.placeholderV2"}),style:{...m.input,..."password"===x?at().Hp:{}},onBlur:()=>{const{password:e}=u;if(e){const t=(0,cn().ZK)(e);t.success||(g().A.setState({...u}),P(t.reason))}},autoComplete:"new-password"}),(0,p.jsx)(T().A,{isMultiline:!0,isSecondaryColor:!0,style:{fontSize:12,lineHeight:"16px",visibility:b?void 0:"hidden",color:N().Ay.red,marginTop:4},children:(0,p.jsx)(Bn,{passwordErrorData:M})})]})]})})}function Bn(e){let{passwordErrorData:t}=e;if(!t)return null;const n=wn().K$[t.type];return(0,p.jsx)(a().sA,{...n})}function Nn(){const e=(0,i().O$)(g().A),{profileName:t,profilePhoto:n}=e,o=(0,_().v3)(),l=(0,a().tz)(),d=_n({device:o.device}),u="dark"===(0,s().eP)(),c=u?r().A.images.onboarding.profilePlaceholderDarkmodePng:r().A.images.onboarding.profilePlaceholderLightmodePng,m=u?r().A.images.onboarding.personCarryingStuffDarkmodePng:r().A.images.onboarding.personCarryingStuffLightmodePng,v=(0,s().DP)(),y=!n&&t,b=l.formatMessage({defaultMessage:"Your name",id:"contextualizedOnboardingProfile.profile.rightContent.nameInput.placeholder"});return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("img",{style:{height:218,width:218,position:"relative",top:174,left:36,zIndex:2,objectFit:"contain",...u&&{width:170,height:170,left:0}},src:m}),(0,p.jsxs)("div",{style:{width:300,height:300,display:"flex",flexDirection:"column",background:v.surface.elevated,color:v.stroke.secondary,borderRadius:24,border:`1px solid ${v.stroke.secondary}`,transform:"rotate(345deg)",marginLeft:-96,alignItems:"center"},children:[(0,p.jsx)("div",{style:{...d.profilePhotoButton,display:"flex",alignItems:"center",justifyContent:"center",background:n?"none":v.stroke.primary,opacity:n?1:.2},children:y?(0,p.jsx)("div",{style:{fontWeight:V().Wy.bold,color:v.icon.secondary,fontSize:36},children:t.charAt(0).toUpperCase()}):n?(0,p.jsx)(Cn().A,{url:n,isAuthenticated:!1,width:112,stripGoogleIconQuery:!0,render:(e,t)=>(0,p.jsx)(Sn().Ay,{src:t,style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"100%"}})}):(0,p.jsx)("div",{style:d.placeholderAvatar,children:(0,p.jsx)(Cn().A,{url:c,isAuthenticated:!1,width:112,stripGoogleIconQuery:!0,render:(e,t)=>(0,p.jsx)(Sn().Ay,{src:t,style:{...d.placeholderImage,width:64,height:64,left:void 0,top:void 0}})})})}),(0,p.jsx)(ye().p,{size:"sm",isGray:!0,onClick:()=>On(o),style:{fontSize:14,fontWeight:400,marginTop:4,fontStyle:"normal",lineHeight:18,letterSpacing:-.154,color:v.text.secondary}}),(0,p.jsx)("div",{style:{color:v.text.quaternary,fontSize:26,fontWeight:V().Wy.bold,maxWidth:240,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t&&t.length>0?t:b}),(0,p.jsx)("div",{style:{color:v.text.quaternary,fontSize:17},children:(0,p.jsx)(a().sA,{defaultMessage:"Toolmaker",id:"contextualizedOnboardingProfile.educationRole.label"})})]})]})}function Rn(){var e;const t=(0,s().DP)(),n=(0,a().tz)(),l=(0,_().v3)(),d=(0,i().O$)(g().A),{profilePhoto:u,profileName:c,password:m}=d,v=(0,i().uB)(void 0,Tn),[y,b]=(0,o.useState)(!1),f=!u&&c,h=`\n\t.profileNameInput::placeholder {\n\t\tfont-size: 26px;\n\t\tfont-weight: ${V().Wy.bold};\n\t\tcolor: ${t.text.quaternary};\n\t\topacity: 1;\n\t\ttext-align: center;\n\t}\n\t.profileNameInput:focus-visible {\n\t\toutline: none;\n\t}\n\n\t.profileNameInput:placeholder-shown {\n\t\ttext-align: left;\n\t\twidth: 192px;\n\t}\n\n\t.profileNameInput {\n\t\ttext-align: center;\n\t\twidth: 100%;\n\t}\n`,x=(0,i().K8)((()=>l.device.isMobile&&(0,me().S5)()),[l.device.isMobile]),S=_n({device:l.device,shouldUseNewMobileProfileDesign:x}),j=(0,i().K8)((()=>v.state.invalidField),[v]),A=(0,i().K8)((()=>v.state.showPassword),[v]),[C,w]=(0,o.useState)(!1),k=(0,i().K8)((()=>"dark"===l.ThemeStore.state.mode?x?r().A.images.onboarding.profilePlaceholderDarkmodeV2Png:r().A.images.onboarding.profilePlaceholderDarkmodePng:x?r().A.images.onboarding.profilePlaceholderLightmodeV2Png:r().A.images.onboarding.profilePlaceholderLightmodePng),[l,x]);return(0,p.jsx)(An().A,{debugName:"MobileOnboardingProfile",capture:!0,onLeft:we().D_,onRight:we().D_,onSelectAll:we().D_,onRedo:we().D_,onUndo:we().D_,onCut:we().D_,onCopy:we().D_,onPaste:we().D_,onKeypress:we().D_,onDelete:we().D_,onBackspace:we().D_,onTab:we().D_,children:(0,p.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,p.jsxs)("div",{style:{width:164},children:[(0,p.jsx)(Te().A,{onClick:()=>On(l),style:{...S.profilePhotoButton,...f&&S.placeholderAvatar},children:f?(0,p.jsxs)("div",{style:{position:"relative"},children:[(0,p.jsx)("div",{style:{fontWeight:V().Wy.bold,color:t.icon.secondary,fontSize:40,width:x?72:112,height:x?72:112,alignContent:"center",justifyItems:"center",textAlign:"center",background:t.surface.elevated,border:x?`1px solid ${t.stroke.primary}`:`0.5px solid ${t.stroke.secondary}`,borderRadius:"100%"},children:c.charAt(0).toUpperCase()}),!x&&(0,p.jsx)("div",{style:S.photoBadgePlusContainer,children:bn(S.photoBadgePlus)})]}):u?(0,p.jsx)("div",{children:(0,p.jsx)(Cn().A,{url:u,isAuthenticated:!1,width:120,stripGoogleIconQuery:!0,render:(e,t)=>(0,p.jsxs)("div",{style:{position:"relative"},children:[(0,p.jsx)(Sn().Ay,{src:t,style:{width:x?72:112,height:x?72:112,objectFit:"cover",borderRadius:"100%"}}),!x&&(0,p.jsx)("div",{style:S.photoBadgePlusContainer,children:bn(S.photoBadgePlus)})]})})}):(0,p.jsx)("div",{children:(0,p.jsx)(Cn().A,{url:k,isAuthenticated:!1,width:120,stripGoogleIconQuery:!0,render:(e,n)=>(0,p.jsxs)("div",{style:{position:"relative",width:x?72:112,height:x?72:112,background:t.tint.regular,borderRadius:"100%",...x&&{border:`1px solid ${t.stroke.primary}`}},children:[(0,p.jsx)(Sn().Ay,{src:n,style:S.placeholderImage}),!x&&(0,p.jsx)("div",{style:S.photoBadgePlusContainer,children:bn(S.photoBadgePlus)})]})})})}),x&&(0,p.jsx)("div",{style:S.profileNameInputLabel,children:(0,p.jsx)(a().sA,{defaultMessage:"Upload photo (optional)",id:"contextualizedOnboardingProfile.uploadPhoto.label"})})]}),x?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{style:{...at().Gy,marginTop:16,marginBottom:10,color:t.text.secondary,alignSelf:"baseline"},children:(0,p.jsx)(a().sA,{defaultMessage:"Enter your name",id:"contextualizedOnboardingProfile.profileNameQuestion.label"})}),(0,p.jsx)(jn().A,{type:"text",autoComplete:"off",preventSafariAutofill:!0,autoFocus:!0,value:c,onChange:e=>{g().A.update((t=>({...t,profileName:e.target.value})))},onBlur:()=>{const{profileName:e}=d;e&&((0,kn().r)(e)||b(!0))},placeholder:n.formatMessage({id:"onboardingProfile.mobile.nameInput.placeholderV3",defaultMessage:"Your name..."}),style:S.mobileInput}),y&&(0,p.jsx)(T().A,{isSecondaryColor:!0,style:{fontSize:12,lineHeight:"16px",color:N().Ay.red,marginTop:4},children:(0,p.jsx)(a().sA,{defaultMessage:"Please enter a valid name",id:"contextualizedOnboardingProfile.nameError.label"})})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("style",{children:h}),(0,p.jsx)(jn().A,{type:"text",autoComplete:"off",preventSafariAutofill:!0,autoFocus:!0,inputClassName:"profileNameInput",format:jn().C.Transparent,focusInitial:!0,value:c,placeholder:n.formatMessage({defaultMessage:"Your name",id:"onboardingProfile.mobile.nameInput.placeholderV2"}),onChange:e=>{g().A.setState({...d,profileName:e.target.value})},onBlur:()=>{const{profileName:e}=d;e&&((0,kn().r)(e)||b(!0))},style:S.profileName,inputStyle:S.profileNameInput,overrideDefaultWidth:!0}),y&&(0,p.jsx)(T().A,{isSecondaryColor:!0,style:{fontSize:12,lineHeight:"16px",color:N().Ay.red,marginTop:4},children:(0,p.jsx)(a().sA,{defaultMessage:"Please enter a valid name",id:"contextualizedOnboardingProfile.nameError.label"})}),(0,p.jsx)(xn().A,{size:.5,dividerColor:t.stroke.secondary})]}),d.isPasswordRequired&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{style:{...at().Gy,marginTop:24,color:t.text.secondary,alignSelf:"baseline",...x&&{marginBottom:10}},children:(0,p.jsx)(a().sA,{defaultMessage:"Set a password",id:"contextualizedOnboardingProfile.passwordQuestion.label"})}),(0,p.jsx)(jn().A,{onFocus:()=>w(!0),type:A?"text":"password",value:m||void 0,onChange:e=>{g().A.setState({...d,password:e.target.value})},onIconClick:()=>v.setState({showPassword:!v.state.showPassword,displayPasswordInput:v.state.displayPasswordInput}),icon:(0,vn().h)({width:16,height:16,fill:t.lightIconColor}),onClearButtonClick:()=>g().A.setState({...d,password:void 0}),placeholder:n.formatMessage(x?{defaultMessage:"Your password...",id:"contextualizedOnboardingProfile.passwordInput.placeholderV3"}:{defaultMessage:"Password",id:"contextualizedOnboardingProfile.passwordInput.placeholderV2"}),style:{...S.mobileInput,..."password"===j?at().Hp:{}},onBlur:()=>{const{password:e}=d;if(e){(0,cn().ZK)(e).success||g().A.setState({...d})}w(!1)},autoComplete:"new-password"}),(m||C)&&(0,p.jsx)(zn,{onboardingState:d,store:v})]}),x&&(0,p.jsx)(xn().A,{size:.5,dividerColor:t.stroke.secondary,style:{marginTop:28}}),(0,p.jsx)(pn,{countryCode:null===(e=d.onboardingData)||void 0===e?void 0:e.countryCode,onClick:()=>{g().A.setState({...d,emailOptIn:!d.emailOptIn})},emailOptIn:Boolean(d.emailOptIn),device:l.device}),(0,p.jsx)(mn,{style:{textAlign:"center",paddingBottom:32,...x&&{color:t.text.secondary,fontWeight:V().Wy.regular}}})]})})}function zn(e){let{onboardingState:t,store:n}=e;const o=(0,s().DP)(),i=(0,a().tz)(),r=(0,_().v3)(),{password:l}=t,d=_n({device:r.device}),u=[{description:i.formatMessage({id:"onboardingProfile.passwordHint.numbers",defaultMessage:"1 number and 1 letter"}),validator:e=>Boolean((0,cn().lO)(e)&&(0,cn().aC)(e))},{description:i.formatMessage({id:"onboardingProfile.passwordHint.uniqueCharacters",defaultMessage:"3 unique characters"}),validator:e=>we().sb(e).length>=3},{description:i.formatMessage({id:"onboardingProfile.passwordHint.numCharacters",defaultMessage:"8 or more characters"}),validator:e=>e.length>=8}];return(0,p.jsx)("div",{style:d.newPasswordHint,children:u.map(((e,t)=>{const{description:n,validator:a}=e;return(0,p.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:4},children:[n,(0,p.jsx)(ot().A,{fill:o.whiteButtonBackground,checked:Boolean(l)&&a(l??""),round:!0,size:20})]},t)}))})}function On(e){hn().Bz({environment:e,bucket:"public",onComplete:t=>Dn(t,e),accept:"image/*"})}function Dn(e,t){w().RZ(t,(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:g().A.state,environment:t})),g().A.setState({...g().A.state,profilePhoto:e[0]})}const Wn={stageName:"profile",shouldSkip(){const{onboardingData:e,isFirstTimeOnboarding:t}=g().A.state;if(!e)return!1;if(!1===t)return!0;const n=at().TV({userStore:e.userStore});return Boolean(n)},getTitle:e=>vt().yN.includes((null==e?void 0:e.flowName)??"")?(0,p.jsx)(a().sA,{defaultMessage:"Welcome! I’m Notion Assistant. I’m here to help get you set up.",id:"onboarding.profileStageWithAssistant.title"}):(0,p.jsx)(a().sA,{defaultMessage:"Create a profile",id:"onboarding.educationProfileStage.title"}),getSubTitle:e=>"performance_marketing_term_onboarding"===(null==e?void 0:e.flowName)?null:vt().yN.includes((null==e?void 0:e.flowName)??"")?(0,p.jsx)(a().sA,{defaultMessage:"First, let’s create your profile.",id:"onboarding.profileStageWithAssistant.subtitle"}):(0,p.jsx)(a().sA,{defaultMessage:"This is how you’ll appear in Notion",id:"onboarding.educationProfileStage.subtitle"}),isContinueEnabled:e=>void 0!==e.profileName&&(!e.isPasswordRequired||void 0!==e.password&&(0,cn().ZK)(e.password).success),async onContinue(e,t){await(0,de().setProfileData)(e,t),g().A.setState({...t,password:void 0}),await(0,ue().maybeCompleteOnboardingAfterProfileStage)(e)},isBackEnabled:e=>!1,renderStage:()=>(0,p.jsx)(Pn,{}),renderRightContent(e){if("education_flow"===e.flowName)return(0,p.jsx)(Nn,{})},renderContentUnderContinueButton(e,t){var n;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(pn,{countryCode:null===(n=e.onboardingData)||void 0===n?void 0:n.countryCode,onClick:()=>{g().A.setState({...e,emailOptIn:!e.emailOptIn})},emailOptIn:Boolean(e.emailOptIn),device:t.device}),"education_flow"!==e.flowName&&(0,p.jsx)(mn,{style:{textAlign:"center",paddingBottom:32,paddingTop:32,maxWidth:520}})]})},renderFooter:e=>"education_flow"===e.flowName?(0,p.jsx)(mn,{}):void 0,getContinueButtonStyles:()=>({height:32,width:300,marginTop:70,alignSelf:"center"}),headerStyles:{width:void 0},alignment:k().C.Center},En={stageName:"mobile_profile",shouldSkip(){const{onboardingData:e,isFirstTimeOnboarding:t}=g().A.state;if(!e)return!1;if(!1===t)return!0;const n=at().TV({userStore:e.userStore});return Boolean(n)},getTitle:e=>vt().yN.includes((null==e?void 0:e.flowName)??"")?(0,p.jsx)(a().sA,{defaultMessage:"Welcome! I’m Notion Assistant. I’m here to help get you set up.",id:"contextualizedOnboarding.educationProfileStageMobileWithAssistant.title"}):(0,p.jsx)(a().sA,{defaultMessage:"Create your profile",id:"contextualizedOnboarding.educationProfileStageMobile.title"}),isContinueEnabled:e=>void 0!==e.profileName&&(!e.isPasswordRequired||void 0!==e.password&&(0,cn().ZK)(e.password).success),async onContinue(e,t){await(0,de().setProfileData)(e,t),g().A.setState({...t,password:void 0}),await(0,ue().maybeCompleteOnboardingAfterProfileStage)(e)},isBackEnabled:e=>!1,renderStage:()=>(0,p.jsx)(Rn,{})};n(500234);var Ln=()=>n(167089),qn=()=>n(528762),Fn=()=>n(3311),Un=()=>n(479292),Hn=()=>n(482570),Vn=()=>n(872289),Kn=()=>n(362621),Qn=()=>n(962373);const Gn=3,Jn=(0,a().YK)({disabledSpaceCreationTooltipWithEmailDomain:{id:"contextualizedOnboardingWorkspaceChoose.stage.disabledSpaceCreationTooltipWithEmailDomain",defaultMessage:"Workspace creation has been disabled by your organization, {emailDomain}. Please join an existing workspace."},disabledSpaceCreationTooltip:{id:"onboardingWorkspaceChoose.stage.disableSpaceCreationTooltip",defaultMessage:"Workspace creation has been disabled by your organization. Please join an existing workspace."}});const $n=function(e){let{onboardingState:t}=e;const n=(0,a().tz)(),{onboardingData:s,flowName:r,currentStageIndex:l,joinableSpaces:d}=t;if(!s)throw new Error("onboardingData is not available");const u=(0,_().v3)(),g=(0,i().K8)((()=>s.userStore.getEmail()),[s.userStore]);if((0,o.useEffect)((()=>{Un().FX(u,{can_user_create_space:s.canUserCreateSpace,is_new_user:0===(0,Kn().R)(se().default.state.currentUserRootStore),has_joinable_spaces:!0,onboarding_stage:(0,c().getStageName)({flowName:r,stageIndex:l,environment:u})})}),[u,s.canUserCreateSpace,r,l]),0===d.length)throw new Error("Unexpected state. There should always be at least 1 joinable space from the workspace chooser.");const m="formSpaceId"in t?t.formSpaceId:void 0,v=s.canUserCreateSpace,y=g?(0,nn().zN)(g):void 0;return(0,p.jsxs)("div",{style:{width:406,alignSelf:"center",marginTop:20},children:[(0,p.jsx)(to,{joinableSpaces:d,formResponseSpaceId:m}),v?(0,p.jsx)(Zn,{onboardingState:t,canUserCreateSpace:v}):(0,p.jsx)(_e().A,{delayThreshold:0,renderTooltip:()=>y?n.formatMessage(Jn.disabledSpaceCreationTooltipWithEmailDomain,{emailDomain:y}):n.formatMessage(Jn.disabledSpaceCreationTooltip),render:e=>(0,p.jsx)(Zn,{onboardingState:t,canUserCreateSpace:v,tooltipEvents:e})})]})};function Yn(e){let{onboardingState:t}=e;const{onboardingData:a,flowName:s,currentStageIndex:r,joinableSpaces:l}=t;if(!a)throw new Error("onboardingData is not available");const d=(0,_().v3)();(0,o.useEffect)((()=>{Un().FX(d,{can_user_create_space:a.canUserCreateSpace,is_new_user:0===(0,Kn().R)(se().default.state.currentUserRootStore),has_joinable_spaces:!0,onboarding_stage:(0,c().getStageName)({flowName:s,stageIndex:r,environment:d})})}),[d,a.canUserCreateSpace,s,r]);if(0===l.length)throw new Error("Unexpected state. There should always be at least 1 joinable space from the workspace chooser.");const u=(0,i().K8)((()=>window.innerHeight<n(747663).M),[]),g="formSpaceId"in t?t.formSpaceId:void 0;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(to,{joinableSpaces:l,isSmallScreen:u,formResponseSpaceId:g}),(0,p.jsx)(Zn,{canUserCreateSpace:a.canUserCreateSpace,onboardingState:t})]})}function Zn(e){const t=(0,_().v3)(),n=t.device.isMobile,{canUserCreateSpace:o,tooltipEvents:i,onboardingState:s}=e;return(0,p.jsx)(ut().A,{style:{marginTop:4,display:"flex",borderRadius:n?12:8,fontSize:n?17:14,height:n?48:36,fontWeight:V().Wy.semibold,marginBottom:n?0:24},size:"lg",onClick:async()=>await(0,ue().goToNextStage)({environment:t,onboardingState:s}),disabled:!o,...i,children:(0,p.jsx)(a().sA,{defaultMessage:"Create workspace",id:"contextualizedOnboardingWorkspaceChoose.createSpaceOption.continueMessage"})})}function Xn(e){if(e.id&&e.spaceIcon)return{pointer:{table:qn().NX,id:e.id},icon:e.spaceIcon}}async function eo(e){let{result:t,index:n,joinableSpaces:o,environment:a,buttonPopupStore:i}=e;if(t.canRequestToJoinSpace)return void(t.requestMembershipCustomizationRedirectUrl?window.open(t.requestMembershipCustomizationRedirectUrl,"_blank"):i.setState({open:!0}));const s=at().I1(t),r=at().O5(t),l=g().A.state,d=function(e,t,n){if(!e)throw new Error("Onboarding data not found during workspace choose stage");return"guest_redirect"===(null==n?void 0:n.type)?{...e,redirectSpaceId:n.spaceId,redirectPageId:n.pageId,hasExplicitAccessToRedirectPage:!0,canJoinRedirectSpace:!1}:{...e,redirectSpaceId:t}}(l.onboardingData,r.spaceId,r.redirectData),u={...l,spaceId:r.spaceId,onboardingData:d};w().vc(a,{...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:u,environment:a,spaceJoinOrCreate:"join"}),join_space_type:s?"guest":"member",joined_space_id:t.id,joined_space_index:n,joined_space_from_domain:t.canJoinSpace,joined_space_has_invite:t.guestPageIds.length>0,num_of_joinable_spaces:(null==o?void 0:o.length)||0}),g().A.setState(u);try{await g().A.completeOnboarding(a,"join")}catch(p){(0,de().handleOnboardingError)(a,(0,ve().A)(p))}}function to(e){let{joinableSpaces:t,isSmallScreen:n,formResponseSpaceId:o}=e;const i=ao((0,_().v3)().device.isMobile,n);if(!t||0===t.length)return null;t.sort(((e,t)=>t.totalMemberCount-e.totalMemberCount));const s=o?t.find((e=>e.id===o)):void 0;return(0,p.jsxs)("div",{children:[s&&(0,p.jsxs)("div",{style:{marginBottom:16},children:[(0,p.jsx)("div",{style:i.inviteText,children:(0,p.jsx)(a().sA,{defaultMessage:"Join where form was created",id:"onboardingWorkspaceChoose.joinableSpaces.joinFormSpace.label"})}),(0,p.jsx)(no,{index:0,result:s,joinableSpaces:t})]}),s?(0,p.jsx)("div",{style:i.inviteText,children:(0,p.jsx)(a().sA,{defaultMessage:"Join other workspaces",id:"onboardingWorkspaceChoose.joinableSpaces.joinOtherSpaces.label"})}):(0,p.jsx)("div",{style:i.inviteText,children:(0,p.jsx)(a().sA,{defaultMessage:"Invites",id:"onboardingWorkspaceChoose.joinableSpaces.invites.contextual.label"})}),t.filter((e=>e.canJoinSpace||e.canRequestToJoinSpace)).filter((e=>e.id!==(null==s?void 0:s.id))).map(((e,n)=>(0,p.jsx)(no,{result:e,index:n+(s?1:0),joinableSpaces:t},e.id)))]})}function no(e){var t;let{result:n,isSmallScreen:o,index:s,joinableSpaces:r}=e;const l=(0,_().v3)(),d=ao(l.device.isMobile,o),u=(0,i().uB)(void 0,Qn().A);if(!n.canRequestToJoinSpace&&!n.canJoinSpace)return null;const c=n.canJoinSpace?(0,p.jsx)(a().sA,{defaultMessage:"Join",id:"contextualizedOnboardingWorkspaceChoose.joinWorkspaceButton.join.label"}):(0,p.jsx)(a().sA,{defaultMessage:"Request",id:"contextualizedOnboardingWorkspaceChoose.joinWorkspaceButton.request.label"});return(0,p.jsx)(oo,{style:d.onboardingButtonV2,disabled:!1,useNonDisableColorWhenDisabled:!0,hoveredStyle:{background:"rgba(55, 53, 47, 0.03)"},pressedStyle:{background:"rgba(55, 53, 47, 0.06)"},onClick:async()=>{await eo({result:n,index:s,joinableSpaces:r,environment:l,buttonPopupStore:u})},children:(0,p.jsxs)("div",{style:d.workspaceContainerV2,children:[(0,p.jsxs)("div",{style:d.workspaceSpaceInformationV2,children:[(0,p.jsxs)("div",{style:d.workspaceIconV2,children:[(0,p.jsx)(Le().B,{disabled:!0,bucket:"public",icon:Xn(n),isEmptyPage:!1,title:n.name,size:32,emojiSize:18,style:{borderRadius:6,fontSize:V().J.UISmall.desktop,fontWeight:V().Wy.light},iconBoxStyles:{borderRadius:6},placeholderStyle:{fontWeight:500}}),(0,p.jsxs)("div",{style:d.workspaceTextV2,children:[(0,p.jsx)("div",{style:d.workspaceNameV2,children:(0,p.jsx)(a().sA,{defaultMessage:"{workspaceName}",id:"onboardingWorkspaceChoose.chooseWorkspaceButton.label",values:{workspaceName:n.name}})}),(0,p.jsx)("div",{style:d.workspaceMemberCountV2,children:o?(0,p.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,Ln().M)(d.typesPersonIcon),(0,p.jsx)("div",{style:d.totalMemberCount,children:n.totalMemberCount})]}):(0,p.jsx)(a().sA,{defaultMessage:"{memberCount, plural, one {{memberCount} member} other {{memberCount} members}}",id:"onboardingWorkspaceChoose.joinWorkspaceButton.memberCount.label",values:{memberCount:n.totalMemberCount||1}})})]})]}),!o&&(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{style:d.workspaceJoinButtonV2,children:c}),(0,p.jsx)(Vn().A,{type:"current-actor-to-space-via-onboarding",spaceId:n.id,flowId:(0,Fn().lZ)(),source:"onboarding",popupStore:u})]})]}),(0,p.jsx)("div",{style:d.userAvatarContainerV2,children:null==n||null===(t=n.topMembers)||void 0===t?void 0:t.slice(0,Gn).map(((e,t)=>(0,p.jsx)(Hn().A,{userValue:e,size:24,avatarShouldShowShadow:!1,style:{marginRight:-8,zIndex:100-t},isOffline:!1,hasTooltip:!l.device.isMobile},e.id)))}),o&&(0,p.jsxs)("div",{style:{display:"flex",marginLeft:42,marginTop:16},children:[(0,p.jsx)("span",{style:d.workspaceJoinButtonV2,children:c}),(0,p.jsx)(Vn().A,{type:"current-actor-to-space-via-onboarding",spaceId:n.id,flowId:(0,Fn().lZ)(),source:"onboarding",popupStore:u})]})]})},n.id)}function oo(e){const t=(0,_().v3)(),n=(0,s().IS)((n=>{const{device:o}=t;return{buttonStyle:{display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",borderRadius:4,height:o.isMobile?42:32,padding:"0 12px",fontSize:14,lineHeight:1.2,background:n.buttonBackground,border:`1px solid ${n.outlineButtonBorder}`,boxShadow:"rgba(15, 15, 15, 0.1) 0px 1px 2px",...e.disabled&&!e.useNonDisableColorWhenDisabled?{background:N().Ay.contentGrayBackground,color:N().Ay.lightTextColor}:{},...e.style}}}),[t,e.disabled,e.style,e.useNonDisableColorWhenDisabled]);return(0,p.jsx)(Te().A,{className:Ze().YZL,style:n.buttonStyle,disabled:e.disabled,onClick:e.onClick,onFocus:e.onFocus,onBlur:e.onBlur,onMouseDown:e.onMouseDown,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,hoveredStyle:e.hoveredStyle,pressedStyle:e.pressedStyle,children:e.children})}function ao(e,t){return(0,s().IS)((n=>({workspaceNameV2:{fontWeight:500,fontSize:16,whiteSpace:"normal",overflowWrap:"break-word"},workspaceTextV2:{display:"flex",flexDirection:"column",justifyContent:"start",marginLeft:"14px",maxWidth:"200px"},workspaceJoinButtonV2:e?{color:n.text.primary,backgroundColor:n.fill.lightGraySecondary,borderRadius:17,padding:"8px 16px",display:"flex",alignItems:"center",fontWeight:V().Wy.semibold}:{marginTop:8,marginRight:8,color:n.text.uiBluePrimary},workspaceIconV2:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"top"},workspaceSpaceInformationV2:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"top",width:"100%"},userAvatarContainerV2:{display:"flex",flexDirection:"row",justifyContent:"start",marginTop:t?12:16,overflow:"hidden",marginLeft:42},workspaceContainerV2:{display:"flex",flexDirection:"column",justifyContent:"start",width:"100%"},onboardingButtonV2:{width:"100%",padding:t?16:12,height:"auto",marginBottom:12,borderRadius:12,background:n.surface.elevated,...t&&{border:`1px solid ${n.stroke.secondary}`,boxShadow:void 0}},workspaceMemberCountV2:{color:n.text.tertiary,marginTop:2,fontWeight:400,fontSize:12},inviteText:{fontSize:t?15:12,color:n.text.secondary,marginBottom:8,paddingLeft:2,fontWeight:t?V().Wy.medium:V().Wy.semibold},typesPersonIcon:{color:n.icon.tertiary,height:16,width:18,marginRight:2},totalMemberCount:{color:n.text.secondary}})),[e,t])}const io={stageName:"onboarding_workspace_choose",shouldSkip:e=>0===e.joinableSpaces.length||"sidebar_switcher"===e.source,getTitle(e){const{onboardingData:t,joinableSpaces:n}=e,o=n.length;return null!=t&&t.canUserCreateSpace?(0,p.jsx)(a().sA,{defaultMessage:"Join teammates or create a workspace",id:"onboardingWorkspaceChoose.stage.titleV2.create",values:{numberOfWorkspaces:o}}):(0,p.jsx)(a().sA,{defaultMessage:"Join your teammates",id:"onboardingWorkspaceChoose.stage.titleV2.join",values:{numberOfWorkspaces:o}})},getSubTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"{numWorkspaces, plural, one {You've been invited to {numWorkspaces} workspace} other {You've been invited to {numWorkspaces} workspaces}}",id:"onboardingWorkspaceChoose.stage.subtitleV2",values:{numWorkspaces:e.joinableSpaces.length}}),isContinueEnabled:()=>!0,isBackEnabled:e=>!e.isFirstTimeOnboarding,stageStyles:{flexDirection:"column",marginTop:100,justifyContent:"start"},renderStage:()=>(0,p.jsx)($n,{onboardingState:g().A.state}),renderRightContent(){},onContinue(e,t){w().Fv(e,(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e,spaceJoinOrCreate:"create"}))},getContinueButtonLabel:()=>(0,p.jsx)(a().sA,{defaultMessage:"Create workspace",id:"contextualizedOnboarding.workspaceChoose.createWorkspaceButtonLabel"}),getContinueButtonStyles:()=>({marginTop:8,marginBottom:24}),getDesktopContinueButtonOverride:()=>(0,p.jsx)("div",{}),alignment:k().C.Center},so={stageName:"mobile_onboarding_workspace_choose",shouldSkip:e=>0===e.joinableSpaces.length,getTitle(e){const{onboardingData:t,joinableSpaces:n}=e,o=n.length;return null!=t&&t.canUserCreateSpace?(0,p.jsx)(a().sA,{defaultMessage:"Join teammates or create a workspace",id:"onboardingWorkspaceChoose.stage.titleV2.create",values:{numberOfWorkspaces:o}}):(0,p.jsx)(a().sA,{defaultMessage:"Join your teammates",id:"onboardingWorkspaceChoose.stage.titleV2.join",values:{numberOfWorkspaces:o}})},isContinueEnabled:()=>!1,isBackEnabled:e=>!1,renderStage:()=>(0,p.jsx)(Yn,{onboardingState:g().A.state}),renderRightContent(){},shouldHideMobileBottomContent:()=>!0,onContinue(e,t){w().Fv(e,(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e,spaceJoinOrCreate:"create"}))},getMobileContinueButtonOverride:()=>(0,p.jsx)("div",{})};var ro=()=>n(783759),lo=()=>n(196387),uo=(n(362833),()=>n(316551));const co=(0,yn().wt)("iOSShare",{viewBox:"0 0 26 26",svg:(0,p.jsx)("path",{d:"M16.2498 7.04938C15.8356 7.04938 15.4998 7.38517 15.4998 7.79938C15.4998 8.2136 15.8356 8.54938 16.2498 8.54938V7.04938ZM9.74984 8.54938C10.164 8.54938 10.4998 8.2136 10.4998 7.79938C10.4998 7.38517 10.164 7.04938 9.74984 7.04938V8.54938ZM12.2499 15.5994C12.2499 16.0136 12.5857 16.3494 12.9999 16.3494C13.4141 16.3494 13.7499 16.0136 13.7499 15.5994H12.2499ZM13.7499 1.29938C13.7499 0.88517 13.4141 0.549384 12.9999 0.549384C12.5857 0.549384 12.2499 0.88517 12.2499 1.29938H13.7499ZM8.89451 4.01942C8.60161 4.31231 8.60161 4.78718 8.89451 5.08008C9.1874 5.37297 9.66227 5.37297 9.95517 5.08008L8.89451 4.01942ZM12.9998 0.974747L13.5302 0.444417C13.2373 0.151523 12.7624 0.151523 12.4695 0.444417L12.9998 0.974747ZM16.0445 5.08008C16.3374 5.37297 16.8123 5.37297 17.1052 5.08008C17.3981 4.78718 17.3981 4.31231 17.1052 4.01942L16.0445 5.08008ZM16.2498 8.54938H18.8498V7.04938H16.2498V8.54938ZM18.8498 8.54938C19.8716 8.54938 20.6998 9.37766 20.6998 10.3994H22.1998C22.1998 8.54923 20.7 7.04938 18.8498 7.04938V8.54938ZM20.6998 10.3994V19.8244H22.1998V10.3994H20.6998ZM20.6998 19.8244C20.6998 20.8461 19.8716 21.6744 18.8498 21.6744V23.1744C20.7 23.1744 22.1998 21.6745 22.1998 19.8244H20.6998ZM18.8498 21.6744H7.14984V23.1744H18.8498V21.6744ZM7.14984 21.6744C6.12811 21.6744 5.29984 20.8461 5.29984 19.8244H3.79984C3.79984 21.6745 5.29968 23.1744 7.14984 23.1744V21.6744ZM5.29984 19.8244V10.3994H3.79984V19.8244H5.29984ZM5.29984 10.3994C5.29984 9.37766 6.12811 8.54938 7.14984 8.54938V7.04938C5.29968 7.04938 3.79984 8.54923 3.79984 10.3994H5.29984ZM7.14984 8.54938H9.74984V7.04938H7.14984V8.54938ZM13.7499 15.5994V1.29938H12.2499V15.5994H13.7499ZM9.95517 5.08008L13.5302 1.50508L12.4695 0.444417L8.89451 4.01942L9.95517 5.08008ZM12.4695 1.50508L16.0445 5.08008L17.1052 4.01942L13.5302 0.444417L12.4695 1.50508Z"})});var go=()=>n(319989),po=()=>n(339189),mo=()=>n(91472),vo=()=>n(919536),yo=()=>n(783e3),bo=()=>n(797715),fo=()=>n(477784);class ho extends In().default{getInitialState(){return{emailValue:"",emailTokens:[],validationError:void 0,isInviting:!1,isBulkInvite:!1,emailInputs:[{value:"",sanitizedEmail:""},{value:"",sanitizedEmail:""},{value:"",sanitizedEmail:""}]}}setEmailValue(e){this.setState({...this.state,emailValue:e})}addNewEmailValue(){const e=this.state.emailInputs;this.setState({...this.state,emailInputs:[...e,{value:"",sanitizedEmail:""}]})}removeEmailValue(e){if(e>=this.state.emailInputs.length)return;const t=[...this.state.emailInputs];t.splice(e,1),this.setState({...this.state,emailInputs:t})}updateEmailValue(e,t,n){if(e>=this.state.emailInputs.length)return;const o=this.state.emailInputs[e],a=this.state.emailInputs.map(((o,a)=>a===e?{value:t,sanitizedEmail:n}:o));e===this.state.emailInputs.length-1&&""===o.sanitizedEmail&&""!==n&&a.push({value:"",sanitizedEmail:""}),this.setState({...this.state,emailInputs:a})}setInvalidEmails(e,t){const n=this.state.emailInputs.map(((n,o)=>e.includes(o)?{...n,validationError:t.formatMessage({defaultMessage:"Invalid email.",id:"onboardingInviteNew.error.invalidEmail.message"})}:n));this.setState({...this.state,validationError:"One or more invalid emails found.",emailInputs:n})}clearValidationError(e){const t=this.state.emailInputs.map(((t,n)=>e===n?{...t,validationError:void 0}:t));this.setState({...this.state,emailInputs:t})}switchToBulkInvite(){const e=this.state.emailInputs.map((e=>e.sanitizedEmail||e.value)).filter(Boolean);this.updateEmailTokens(...e),this.setState({...this.state,emailInputs:[],isBulkInvite:!0,validationError:void 0})}updateEmailTokens(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const o=t.map((e=>({email:e,isValidEmail:(0,nn().DT)(e)})));this.setState({...this.state,emailTokens:[...this.state.emailTokens,...o]})}}const xo=ho;var So=()=>n(413871),jo=()=>n(127776);const Ao=new xo;function Co(){const e=(0,i().K8)((()=>g().A.state),[]);return(0,p.jsx)(An().A,{debugName:"OnboardingInvite",capture:!0,onLeft:we().D_,onRight:we().D_,onSelectAll:we().D_,onRedo:we().D_,onUndo:we().D_,onCut:we().D_,onCopy:we().D_,onPaste:we().D_,onKeypress:we().D_,onDelete:we().D_,onBackspace:we().D_,onTab:we().D_,children:(0,p.jsx)(ko,{onboardingState:e,store:Ao})})}function wo(){return(0,p.jsx)(_o,{})}function ko(e){let{onboardingState:t,store:n}=e;const{isBulkInvite:o,validationError:s}=(0,i().K8)((()=>{const{isBulkInvite:e,validationError:t}=n.state;return{isBulkInvite:e,validationError:t}}),[n]);return(0,p.jsxs)("div",{style:{width:406,alignSelf:"center"},children:[(0,p.jsx)("div",{style:{width:"100%",display:"flex",alignItems:"center",marginBottom:"4px",marginTop:24},children:(0,p.jsx)(T().A,{isSecondaryColor:!0,style:{fontSize:12,fontWeight:V().Wy.regular},children:(0,p.jsx)(a().sA,{defaultMessage:"Invite people",id:"onboardingInvite.emails.sendInvitesV2"})})}),o?(0,p.jsx)(To,{store:n,spaceInviteState:t}):(0,p.jsx)(Mo,{store:n,onboardingState:t}),(0,p.jsx)(xn().A,{size:8,style:{marginTop:12}}),(0,p.jsx)(it,{onboardingState:t}),(0,p.jsx)(Bo,{onboardingState:t,styles:{borderRadius:8}}),s&&(0,p.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%",color:N().Ay.red,marginTop:14},children:(0,p.jsx)(a().sA,{defaultMessage:"Looks like some of the emails are invalid. Try again?",id:"onboardingInvite.invalidEmails.error.message"})})]})}function Io(){const e=(0,_().v3)(),t=(0,i().K8)((()=>g().A.state),[]),o=(0,i().K8)((()=>Ao.state.isInviting),[]),s=(0,i().K8)((()=>at().EI(Ao.state)?(0,p.jsx)(a().sA,{defaultMessage:"Invite and take me to Notion",id:"contextualizedOnboarding.inviteStage.inviteAndContinueButtonLabel"}):(0,p.jsx)(a().sA,{defaultMessage:"Take me to Notion",id:"contextualizedOnboarding.inviteStage.ContinueWithoutInviteButtonLabel"})),[]);return(0,p.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%"},children:(0,p.jsx)(ut().A,{style:{marginTop:12,width:"100%"},size:"lg",onClick:()=>async function(e,t){const{state:n}=Ao,o=lo().default.DO_NOT_USE_markLegacy("invite_next_state");Ao.setState({...n,validationError:void 0,isInviting:!0}),w().Lf(e,{...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e}),invited_emails:n.isBulkInvite?n.emailTokens:n.emailInputs});const a=n.isBulkInvite?function(e){const{state:t}=e,[n,o]=we().jB(t.emailTokens,(e=>e.isValidEmail));return e.setState({...t,validationError:o.length>0?"One or more invalid emails found.":void 0}),n.map((e=>e.email))}(Ao):function(e,t){const{state:n}=t,o=[],a=[];for(const[s,r]of n.emailInputs.entries())""!==r.value&&((0,nn().DT)(r.sanitizedEmail)?o.push(s):a.push(s));for(const s of o)t.clearValidationError(s);t.setInvalidEmails(a,e),0===a.length&&t.setState({...t.state,validationError:void 0});const i=o.map((e=>n.emailInputs[e].sanitizedEmail));return i}(fo().A.getIntl(),Ao);if(!Boolean(Ao.state.validationError)){w()._A(e,{...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e}),invited_emails:a});const{spaceId:i,onboardingData:s}=t;if(!i||!s)return;const r=So().SL.createChildStore(s.userRootStore,{table:qn().NX,id:i}),l=a.length>0;if(!r.isTeamsEnabled()&&l){if(!(await jo().oH({environment:e,flowId:t.flowId??"",trackCreateTeamComplete:!1})))return}const d=t.onboardingData&&at().qg({userStore:t.onboardingData.userStore,isUserDomainJoinable:t.onboardingData.isUserDomainJoinable});if(t.optInAutoJoin&&d&&await ro().Yk({environment:e,emailDomains:[d],spaceStore:r}),a.length>0){const o=we().sb(a).map((e=>({type:"newUser",value:{email:e},source:"email"})));await vo().eP({environment:e,store:r,inviteTargets:o,inviteRole:"editor",isOnboarding:!0,invite:{inviteOrigin:"onboarding_invite"}}),Ao.reset(),w().gA(e,{...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e}),emails:a,auto_join_space:Boolean(t.optInAutoJoin),is_bulk_invite:n.isBulkInvite})}lo().default.DO_NOT_USE_measureLegacy(o,{environment:e,data:{numInvitesSent:a.length}}),await(0,ue().goToNextStage)({environment:e,onboardingState:t})}Ao.setState({...Ao.state,isInviting:!1})}(e,t),disabled:o,children:o?(0,p.jsx)(n(966789).A,{onDarkBackground:!0}):s})})}function Mo(e){let{store:t,onboardingState:n}=e;(0,_().v3)();const o=(0,a().tz)(),r=(0,s().DP)(),l=(0,i().K8)((()=>t.state.emailInputs),[t]),d=l.map(((e,n)=>(0,p.jsx)("div",{style:{width:"100%"},children:(0,p.jsx)(jn().A,{placeholder:o.formatMessage({defaultMessage:"Email",id:"onboardingInvite.email.placeholderV2"}),style:{padding:10,marginBottom:10,background:r.surface.wash,width:"100%",display:"flex",height:32,borderRadius:6,boxShadow:l[n].validationError?r.outlineRedInputBoxShadow:r.inputBoxShadow,transition:"box-shadow 0.3s ease-out"},onChange:e=>{!function(e,t,n){const o=t.target.value,{index:a,store:i}=n,s=(0,nn().iL)(o);i.updateEmailValue(a,o,s)}(0,e,{index:n,store:t})},value:e.value})},n)));return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{style:{marginBottom:2,alignItems:"center",display:"flex",flexFlow:"column",marginTop:6},children:d}),(0,p.jsx)(ye().p,{icon:po().W,onClick:()=>function(e,t){const{store:n}=t;n.switchToBulkInvite()}(0,{store:t,state:n}),style:{color:r.text.tertiary,fontWeight:V().Wy.regular},children:(0,p.jsx)(a().sA,{defaultMessage:"Add more or bulk invite",id:"onboardingInvite.emails.addMoreOrInviteInBulkTextV2"})})]})}function To(e){let{store:t,spaceInviteState:n}=e;(0,_().v3)();const o=(0,a().tz)(),r=(0,s().DP)(),l=(0,i().K8)((()=>t.state),[t]),d=l.emailTokens.map(((e,n)=>{const o={type:"newUser",value:{email:e.email||""},source:"email"},a=e.isValidEmail?{}:{backgroundColor:r.legacyRedSelectColor,isStrikedThrough:!0};return(0,p.jsx)(yo().A,{target:o,onClickRemove:e=>function(e,t){const n=t.state.emailTokens.filter((t=>"newUser"===e.type&&t.email!==e.value.email));t.setState({...t.state,emailTokens:n})}(e,t),...a},n)}));return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(bo().Ay,{format:bo().le.Share,value:l.emailValue||"",onChange:e=>function(e,t,n){const{store:o}=n,a=t.target.value,{extractedEmails:i,newInputValue:s}=(0,nn().Ct)(a);o.updateEmailTokens(...i),o.setState({...o.state,emailValue:s})}(0,e,{store:t,state:n}),type:"email",tokens:d,tokenWrapStyle:{gap:4},disabled:!1,placeholder:o.formatMessage({id:"onboardingInvite.bulkInvites.placeholder",defaultMessage:"annie@myteam.com, fay@company.com, henry@company.com, ..."}),onKeyDown:e=>function(e,t){if("Enter"===e.key){const n=e.target.value,o=(0,nn().qh)(n);o&&(t.updateEmailTokens(o),t.setState({...t.state,emailValue:""}))}}(e,t),onRemoveLastToken:we().lQ,dontShowBorderBottom:!1,style:{boxShadow:"rgba(15, 15, 15, 0.1) 0px 0px 0px 1px inset",background:r.whiteButtonBackground,borderRadius:4,height:150,alignContent:"flex-start"},textarea:!0,inputStyle:{height:"100%"},inputFullWidth:!0}),(0,p.jsx)(T().A,{isMultiline:!0,isSmall:!0,style:{marginTop:8,marginBottom:28},children:(0,p.jsx)(a().sA,{defaultMessage:"Type or paste in one or multiple emails separated by commas, spaces, or line breaks.",id:"onboardingInvite.addEmail.caption"})})]})}function _o(){const e=(0,_().v3)(),{ThemeStore:t}=e,n=(0,i().K8)((()=>"dark"===t.state.mode),[t])?r().A.images.onboarding.mobileOnboardingInviteDarkmodePng:r().A.images.onboarding.mobileOnboardingInviteLightmodePng;return(0,p.jsx)("img",{alt:"Image of users with scroll",src:n,style:{width:"85%",textAlign:"center"}})}function Po(e){let{onboardingState:t,store:n}=e;const o=(0,s().DP)(),i=(0,_().v3)();return(0,p.jsx)("div",{style:{width:"100%"},children:(0,p.jsxs)(Te().A,{style:{borderRadius:12,height:48,width:"100%",display:"flex",justifyContent:"center",alignItems:"center",color:o.text.primary,fontSize:17,fontWeight:V().Wy.semibold,background:o.tint.regular,marginTop:12},onClick:()=>async function(e,t){const{mobileNative:n,device:o}=t,a=e.inviteLinkUrl;if(a)if(o.isMobileNative)null==n||n.share(a);else try{await navigator.share({url:a})}catch{}w().CM(t,(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:e,environment:t}))}(t,i),ignoreLocalHoverState:!0,children:[(e=>{const t=e.device;return t.isIOS?co:t.isAndroid?uo().y:co})(i)({height:16,width:16,marginRight:6}),(0,p.jsx)(a().sA,{defaultMessage:"Share to...",id:"onboardingInvite.mobile.shareButton.title"})]})})}function Bo(e){let{styles:t,onboardingState:n}=e;const i=(0,s().DP)(),r=(0,_().v3)(),{device:l}=r,[d,u]=(0,o.useState)(!1);return(0,p.jsx)(_e().A,{placement:k().W.Top,renderTooltip:()=>(0,p.jsx)(a().sA,{defaultMessage:"Invite teammates with this link",id:"onboardingInvite.sharingButton.tooltip.copy"}),render:e=>(0,p.jsx)("div",{style:{width:"100%"},children:(0,p.jsx)(Te().A,{style:{marginTop:l.isMobile?0:64,height:32,width:"100%",display:"flex",justifyContent:"center",alignItems:"center",background:i.tint.uiBlue,cursor:"pointer",color:i.text.uiBluePrimary,fontSize:14,fontWeight:V().Wy.regular,...t},hoveredStyle:{background:i.tint.uiBlueHover},onClick:async()=>{const e=await mo().R.clipboardActions.load();e.copyString({environment:r,stringValue:n.inviteLinkUrl||"",copiedMessage:e.clipboardMessages.copiedLinkToClipboard}),u(!0),setTimeout((()=>{u(!1)}),1500)},disabled:d,...e,children:d?(0,p.jsx)(a().sA,{defaultMessage:"Copied!",id:"onboardingInvite.shareLink.copied"}):(0,p.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,go().w)({height:16,width:16,marginRight:6}),(0,p.jsx)(a().sA,{defaultMessage:"Copy invite link",id:"onboardingInvite.shareLink.title"})]})})})})}function No(e){let{onboardingState:t}=e;const n=(0,_().v3)(),a=(0,s().DP)(),r=function(e,t){const{mobileNative:n,device:o}=t;if(!e.inviteLinkUrl)return!1;if(o.isMobileNative)return Boolean(n);return Boolean(navigator.share)}(t,n),l=(0,i().uB)(void 0,xo);return(0,p.jsxs)(o.Fragment,{children:[(0,p.jsx)(Bo,{onboardingState:t,styles:{borderRadius:12,height:48,color:a.text.primary,fontSize:17,fontWeight:V().Wy.semibold,background:a.tint.regular,marginBottom:4}}),r&&(0,p.jsx)(Po,{onboardingState:t,store:l})]})}const Ro={stageName:"team_onboarding_invite",shouldSkip(e){var t;return"multiplayer"!==(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)||(0,me().Yz)()},getTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"Start with your team",id:"onboardingInvite.chrome.titleV2"}),getSubTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"Notion works best with your teammates",id:"onboardingInvite.chrome.subtitleV2"}),isContinueEnabled:e=>!0,isBackEnabled:e=>!1,renderStage:()=>(0,p.jsx)(Co,{}),getDesktopContinueButtonOverride:()=>(0,p.jsx)(Io,{}),alignment:k().C.Center},zo={stageName:"mobile_team_onboarding_invite",shouldSkip(e){const t=e.planTypeAndSurveyInfo;return"team"!==(null==t?void 0:t.planType)||(0,me().Yz)()},getTitle:e=>(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{style:{marginBottom:6},children:(0,p.jsx)(a().sA,{defaultMessage:"Bring your team.",id:"onboardingInvite.mobileStep.titleV2"})}),(0,p.jsx)(a().sA,{defaultMessage:"Notion works best with others.",id:"onboardingInvite.mobileStep.subtitleB2"})]}),isContinueEnabled:e=>!0,async onContinue(e,t){if("default"!==t.flowName)return;const o=lo().default.DO_NOT_USE_markLegacy("invite_next_state"),{spaceId:a,onboardingData:i}=t;if(!a||!i)return;const s=n(30406).S.createChildStore(i.userRootStore,{table:qn().NX,id:a}),r=t.onboardingData&&at().qg({userStore:t.onboardingData.userStore,isUserDomainJoinable:t.onboardingData.isUserDomainJoinable});t.optInAutoJoin&&r&&await ro().Yk({environment:e,emailDomains:[r],spaceStore:s}),lo().default.DO_NOT_USE_measureLegacy(o,{environment:e,data:{}})},isBackEnabled:e=>!1,renderStage:()=>(0,p.jsx)(wo,{}),renderContentAboveContinueButton:e=>(0,p.jsx)(No,{onboardingState:e}),renderContentUnderContinueButton:e=>(0,p.jsx)(it,{onboardingState:e}),alignment:k().C.Center,footerStyles:{top:0}};var Oo=()=>n(836331);function Do(){const e=(0,i().K8)((()=>g().A.state),[]);return(0,p.jsx)("div",{style:{width:300,alignSelf:"center"},children:(0,p.jsx)(Eo,{onboardingState:e})})}function Wo(){const e=(0,i().K8)((()=>g().A.state),[]);return(0,p.jsx)("div",{style:{marginBottom:32},children:(0,p.jsx)(Eo,{onboardingState:e})})}function Eo(e){(0,o.useEffect)((()=>{Oo().default.manuallyLogExperimentExposure("onboarding_split_team_survey")}),[]);const t=(0,_().v3)(),{onboardingState:n}=e,i={...at().Gy,marginTop:25,marginBottom:8},{device:s}=t;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{style:i,children:(0,p.jsx)(T().A,{isSmall:!0,isMobile:s.isMobile,children:(0,p.jsx)(a().sA,{defaultMessage:"What kind of work do you do?",id:"onboardingSurvey.persona.label"})})}),(0,p.jsx)(Lo,{onboardingState:n,type:"work"}),(0,p.jsx)("div",{style:i,children:(0,p.jsx)(T().A,{isSmall:!0,isMobile:s.isMobile,children:(0,p.jsx)(a().sA,{defaultMessage:"What’s your role?",id:"onboardingSurvey.teamRole.labelV2"})})}),(0,p.jsx)(qo,{onboardingState:n}),(0,p.jsx)("div",{style:i,children:(0,p.jsx)(T().A,{isSmall:!0,isMobile:s.isMobile,style:{whiteSpace:"normal"},children:(0,p.jsx)(a().sA,{defaultMessage:"What’s the size of your company?",id:"onboardingSurvey.companySize.labelV2"})})}),(0,p.jsx)(Fo,{onboardingState:n})]})}function Lo(e){var t;let{type:n,onboardingState:o}=e;const i=(0,_().v3)(),s=null===(t=o.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.userPersona;return(0,p.jsx)(F,{questionType:n,title:(0,p.jsx)(a().sA,{defaultMessage:"Your function",id:"onboardingSurvey.persona.popuplabel"}),question:s,randomizeSelectionOrder:!0,invalid:!1,onSelect:e=>{var t;g().A.setState({...o,planTypeAndSurveyInfo:{...o.planTypeAndSurveyInfo,surveyResponses:{...null===(t=o.planTypeAndSurveyInfo)||void 0===t?void 0:t.surveyResponses,userPersona:e}}}),w().N3(i,{...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:o,environment:i}),persona:e})},className:Ze().Uaw})}function qo(e){var t;let{onboardingState:n}=e;const o=(0,_().v3)();return(0,p.jsx)(F,{questionType:"role",title:(0,p.jsx)(a().sA,{defaultMessage:"Your role",id:"onboardingSurvey.teamRole.popuplabel"}),question:null===(t=n.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.userRole,invalid:!1,onSelect:e=>{var t;g().A.setState({...n,planTypeAndSurveyInfo:{...n.planTypeAndSurveyInfo,surveyResponses:{...null===(t=n.planTypeAndSurveyInfo)||void 0===t?void 0:t.surveyResponses,userRole:e}}}),w().tu(o,{...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:n,environment:o}),role:e})},className:Ze().q5q})}function Fo(e){var t;let{onboardingState:n}=e;const o=(0,_().v3)();return(0,p.jsx)(F,{questionType:"companySize",title:(0,p.jsx)(a().sA,{defaultMessage:"Company size...",id:"onboardingSurvey.companySize.popuplabel"}),question:null===(t=n.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.companySize,randomizeSelectionOrder:!1,invalid:!1,onSelect:e=>{var t;g().A.setState({...n,planTypeAndSurveyInfo:{...n.planTypeAndSurveyInfo,surveyResponses:{...null===(t=n.planTypeAndSurveyInfo)||void 0===t?void 0:t.surveyResponses,companySize:e}}}),w().xe(o,{...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:n,environment:o}),companySize:e})},className:Ze().u_N})}function Uo(){const e=(0,i().K8)((()=>g().A.state),[]),t=(0,_().v3)();return(0,o.useEffect)((()=>{(0,c().isAiOnboardingFlow)(e.flowName)||Oo().default.manuallyLogExperimentExposure("onboarding_split_team_survey")}),[e.flowName]),(0,p.jsx)(Go,{onboardingState:e,environment:t})}function Ho(){const e=(0,i().K8)((()=>g().A.state),[]),t=(0,_().v3)();return(0,p.jsx)($o,{onboardingState:e,environment:t})}function Vo(){const e=(0,i().K8)((()=>g().A.state),[]),t=(0,_().v3)();return(0,p.jsx)(Xo,{onboardingState:e,environment:t})}const Ko=["creative","product","product_design","marketing","eng","founder_or_ceo","project_or_program_management","sales","finance"];function Qo(e){return(0,s().IS)((t=>({optionContainer:{display:"flex",flexDirection:"column",flexWrap:"wrap",gap:10,width:"100%",maxHeight:288,...e&&{flexWrap:void 0,maxHeight:void 0,paddingBottom:24}},label:{alignSelf:"flex-start",marginBottom:8,fontSize:12}})),[e])}function Go(e){let{onboardingState:t,environment:n}=e;const s=n.currentUser.id,r=n.device.isMobile,l=(0,o.useMemo)((()=>{const e=(0,B().Nx)(s);return[...Ko.sort((()=>e()-.5)),"other"]}),[s]),d=r,u=Qo(d),m=(0,i().K8)((()=>r||(0,c().isAiOnboardingFlow)(t.flowName)),[r,t.flowName]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(T().A,{style:u.label,children:(0,p.jsx)(a().sA,{defaultMessage:"Select one",id:"onboardingSurvey.heading.selectPrompt"})}),(0,p.jsx)("div",{style:u.optionContainer,children:l.map((e=>{var o;return(0,p.jsx)(ea,{onClick:async()=>{var o;const a=function(e){var t;const{environment:n,onboardingState:o,surveyResponse:a}=e,i={...o,planTypeAndSurveyInfo:{...o.planTypeAndSurveyInfo,surveyResponses:{...null===(t=o.planTypeAndSurveyInfo)||void 0===t?void 0:t.surveyResponses,userPersona:a}}};return w().N3(n,{...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:i,environment:n}),persona:a}),g().A.setState(i),i}({environment:n,onboardingState:t,surveyResponse:e});!m||null!==(o=t.planTypeAndSurveyInfo)&&void 0!==o&&null!==(o=o.surveyResponses)&&void 0!==o&&o.userPersona||await(0,ue().goToNextStage)({environment:n,onboardingState:a})},isSelected:(null===(o=t.planTypeAndSurveyInfo)||void 0===o||null===(o=o.surveyResponses)||void 0===o?void 0:o.userPersona)===e,label:W[e],useOneColumnLayout:d},e)}))})]})}const Jo=["exec","dept_lead","team_manager","member","solo","personal"];function $o(e){let{onboardingState:t,environment:n}=e;const o=n.device.isMobile,i=Qo(true);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(T().A,{style:i.label,children:(0,p.jsx)(a().sA,{defaultMessage:"Select one",id:"onboardingSurvey.heading.selectPrompt"})}),(0,p.jsx)("div",{style:i.optionContainer,children:Jo.map((e=>{var a;return(0,p.jsx)(ea,{onClick:async()=>{var a,i;g().A.setState({...t,planTypeAndSurveyInfo:{...t.planTypeAndSurveyInfo,surveyResponses:{...null===(a=t.planTypeAndSurveyInfo)||void 0===a?void 0:a.surveyResponses,userRole:e}}}),w().tu(n,{...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:n}),role:e}),!o||null!==(i=t.planTypeAndSurveyInfo)&&void 0!==i&&null!==(i=i.surveyResponses)&&void 0!==i&&i.userRole||await(0,ue().goToNextStage)({environment:n,onboardingState:t})},isSelected:(null===(a=t.planTypeAndSurveyInfo)||void 0===a||null===(a=a.surveyResponses)||void 0===a?void 0:a.userRole)===e,label:D[e],useOneColumnLayout:true},e)}))})]})}const Yo=["1_10","50_99","300_999","5000+","10_49","100_299","1000_5000"],Zo=["1_10","10_49","50_99","100_299","300_999","1000_5000","5000+"];function Xo(e){let{onboardingState:t,environment:n}=e;const o=n.device.isMobile,i=o,s=Qo(i);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(T().A,{style:s.label,children:(0,p.jsx)(a().sA,{defaultMessage:"Select one",id:"onboardingSurvey.heading.selectPrompt"})}),(0,p.jsx)("div",{style:s.optionContainer,children:(o?Zo:Yo).map((e=>{var a;return(0,p.jsx)(ea,{onClick:async()=>{var a,i;g().A.setState({...t,planTypeAndSurveyInfo:{...t.planTypeAndSurveyInfo,surveyResponses:{...null===(a=t.planTypeAndSurveyInfo)||void 0===a?void 0:a.surveyResponses,companySize:e}}}),w().xe(n,{...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:n}),companySize:e}),!o||null!==(i=t.planTypeAndSurveyInfo)&&void 0!==i&&null!==(i=i.surveyResponses)&&void 0!==i&&i.companySize||await(0,ue().goToNextStage)({environment:n,onboardingState:t})},isSelected:(null===(a=t.planTypeAndSurveyInfo)||void 0===a||null===(a=a.surveyResponses)||void 0===a?void 0:a.companySize)===e,label:L[e],useOneColumnLayout:i,height:o?void 0:64},e)}))})]})}function ea(e){let{onClick:t,isSelected:n,label:o,useOneColumnLayout:a,height:i}=e;const r=(0,s().IS)((e=>({button:{height:i??48,width:a?"100%":250,borderRadius:12,alignItems:"center",justifyContent:"left",paddingLeft:16,display:"flex",border:`1px solid ${e.stroke.primary}`,transition:"all 0.2s ease-in-out",...n?{boxShadow:`${N().Ay.blue} 0 0 0 2px`}:{opacity:.7}}})),[i,n,a]);return(0,p.jsx)(ye().p,{style:r.button,onClick:t,children:(0,p.jsx)(T().A,{children:o})})}const ta={stageName:"team_onboarding_persona_survey",shouldSkip(e){const t=e.planTypeAndSurveyInfo;return"team"!==(null==t?void 0:t.planType)},shouldShowSkipButton(e){var t;const n=null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent;return Boolean(n)&&"multiplayer"!==n},getTitle:(e,t)=>(0,p.jsx)(a().sA,{defaultMessage:"Tell us about yourself",id:"onboardingSurvey.title"}),getSubTitle:(e,t)=>(0,p.jsx)(a().sA,{defaultMessage:"This helps show relevant content",id:"onboardingSurvey.subtitleV2"}),isContinueEnabled(e,t){var n,o,a,i,s;const r=e.planTypeAndSurveyInfo;return Boolean((null==r||null===(n=r.surveyResponses)||void 0===n?void 0:n.userPersona)&&(null==r||null===(o=r.surveyResponses)||void 0===o?void 0:o.userRole)&&(null==r||null===(a=r.surveyResponses)||void 0===a?void 0:a.companySize)&&"unfilled"!==(null==r||null===(i=r.surveyResponses)||void 0===i?void 0:i.userPersona)&&"unfilled"!==(null==r||null===(s=r.surveyResponses)||void 0===s?void 0:s.userRole))},isBackEnabled:e=>!0,onContinue(e,t){var n,o;const{userPersona:a,userRole:i,useCases:s}=(null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses)??{};w().jS(e,{selection:{userPersona:a,userRole:i,useCases:s??[]},action:"submit",plan_selection:null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType,...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e})})},onBack(e,t){var n,o;const{userPersona:a,userRole:i,useCases:s}=(null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses)??{};w().jS(e,{selection:{userPersona:a,userRole:i,useCases:s??[]},action:"back",plan_selection:null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType,...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e})})},renderStage:()=>(0,p.jsx)(Do,{}),getContinueButtonStyles:()=>({width:300,alignSelf:"center",marginTop:70}),alignment:k().C.Center},na={stageName:"mobile_team_onboarding_persona_survey",shouldSkip(e){const t=e.planTypeAndSurveyInfo;return"team"!==(null==t?void 0:t.planType)},shouldShowSkipButton(e){var t;const n=null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent;return Boolean(n)&&"multiplayer"!==n},getTitle:(e,t)=>(0,p.jsx)(a().sA,{defaultMessage:"Tell us about yourself",id:"onboardingSurvey.title"}),isContinueEnabled(e,t){var n,o,a,i,s;const r=e.planTypeAndSurveyInfo;return Boolean((null==r||null===(n=r.surveyResponses)||void 0===n?void 0:n.userPersona)&&(null==r||null===(o=r.surveyResponses)||void 0===o?void 0:o.userRole)&&(null==r||null===(a=r.surveyResponses)||void 0===a?void 0:a.companySize)&&"unfilled"!==(null==r||null===(i=r.surveyResponses)||void 0===i?void 0:i.userPersona)&&"unfilled"!==(null==r||null===(s=r.surveyResponses)||void 0===s?void 0:s.userRole))},isBackEnabled:e=>!0,onContinue(e,t){var n,o;const{userPersona:a,userRole:i,useCases:s}=(null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses)??{};w().jS(e,{selection:{userPersona:a,userRole:i,useCases:s??[]},action:"submit",plan_selection:null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType,...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e})})},onBack(e,t){var n,o;const{userPersona:a,userRole:i,useCases:s}=(null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses)??{};w().jS(e,{selection:{userPersona:a,userRole:i,useCases:s??[]},action:"back",plan_selection:null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType,...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e})})},renderStage:()=>(0,p.jsx)(Wo,{})},oa={stageName:"team_onboarding_function",renderStage:()=>(0,p.jsx)(Uo,{}),shouldSkip(e){var t;return"team"!==(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)||!(0,c().isAiOnboardingFlow)(e.flowName)&&"on"!==Oo().default.getEligibleGroup({experimentId:"onboarding_split_team_survey",defaultGroup:"control"})},getTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"Tell us about yourself",id:"onboardingSurvey.function.title"}),getSubTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"What kind of work do you do?",id:"onboardingSurvey.function.subTitle"}),shouldShowSkipButton(e){var t;return"singleplayer"===(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)},isContinueEnabled(e){var t,n;const o=e.planTypeAndSurveyInfo;return Boolean((null==o||null===(t=o.surveyResponses)||void 0===t?void 0:t.userPersona)&&"unfilled"!==(null==o||null===(n=o.surveyResponses)||void 0===n?void 0:n.userPersona))},async onContinue(e,t){"ai_onboarding_phase_2_5"===t.flowName&&await(0,de().createSpaceAndSetSpaceId)({onboardingState:t,environment:e})},shouldHideDesktopBottomContent(e){var t;const n=null==e?void 0:e.planTypeAndSurveyInfo;return!(null!=n&&null!==(t=n.surveyResponses)&&void 0!==t&&t.userPersona)&&(0,c().isAiOnboardingFlow)(e.flowName)},isBackEnabled:()=>!0,alignment:k().C.Center},aa={stageName:"team_onboarding_function",renderStage:()=>(0,p.jsx)(Uo,{}),shouldSkip(e){var t;return"team"!==(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)||"on"!==Oo().default.getEligibleGroup({experimentId:"onboarding_split_team_survey",defaultGroup:"control"})},getTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"What kind of work do you do?",id:"onboardingSurvey.function.subTitle"}),isContinueEnabled(e){var t,n;const o=e.planTypeAndSurveyInfo;return Boolean((null==o||null===(t=o.surveyResponses)||void 0===t?void 0:t.userPersona)&&"unfilled"!==(null==o||null===(n=o.surveyResponses)||void 0===n?void 0:n.userPersona))},isBackEnabled:()=>!0,shouldHideMobileBottomContent(e){var t;const n=null==e?void 0:e.planTypeAndSurveyInfo;return!(null!=n&&null!==(t=n.surveyResponses)&&void 0!==t&&t.userPersona)},shouldShowSkipButton(e){var t;return"singleplayer"===(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)}},ia={stageName:"team_onboarding_role",renderStage:()=>(0,p.jsx)(Ho,{}),shouldSkip(e){var t;return"team"!==(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)||"on"!==Oo().default.getEligibleGroup({experimentId:"onboarding_split_team_survey",defaultGroup:"control"})||(0,me().bG)()},getTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"Tell us about yourself",id:"onboardingSurvey.role.title"}),getSubTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"What’s your role?",id:"onboardingSurvey.role.subTitle"}),shouldShowSkipButton(e){var t;return"singleplayer"===(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)},isContinueEnabled(e){var t,n;const o=e.planTypeAndSurveyInfo;return Boolean((null==o||null===(t=o.surveyResponses)||void 0===t?void 0:t.userRole)&&"unfilled"!==(null==o||null===(n=o.surveyResponses)||void 0===n?void 0:n.userRole))},isBackEnabled:()=>!0,alignment:k().C.Center},sa={stageName:"mobile_team_onboarding_role",renderStage:()=>(0,p.jsx)(Ho,{}),shouldSkip(e){var t;return"team"!==(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)||"on"!==Oo().default.getEligibleGroup({experimentId:"onboarding_split_team_survey",defaultGroup:"control"})||(0,me().bG)()},getTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"What’s your role?",id:"onboardingSurvey.role.subTitle"}),isContinueEnabled(e){var t,n;const o=e.planTypeAndSurveyInfo;return Boolean((null==o||null===(t=o.surveyResponses)||void 0===t?void 0:t.userRole)&&"unfilled"!==(null==o||null===(n=o.surveyResponses)||void 0===n?void 0:n.userRole))},isBackEnabled:()=>!0,shouldHideMobileBottomContent(e){var t;const n=null==e?void 0:e.planTypeAndSurveyInfo;return!(null!=n&&null!==(t=n.surveyResponses)&&void 0!==t&&t.userRole)},shouldShowSkipButton(e){var t;return"singleplayer"===(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)}},ra={stageName:"team_onboarding_company_size",renderStage:()=>(0,p.jsx)(Vo,{}),shouldSkip(e){var t;return"team"!==(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)||"on"!==Oo().default.getEligibleGroup({experimentId:"onboarding_split_team_survey",defaultGroup:"control"})||(0,me().bG)()},getTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"Tell us about yourself",id:"onboardingSurvey.companySize.title"}),getSubTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"What’s the size of your company?",id:"onboardingSurvey.companySize.subTitle"}),isContinueEnabled(e){var t;const n=e.planTypeAndSurveyInfo;return Boolean(null==n||null===(t=n.surveyResponses)||void 0===t?void 0:t.companySize)},isBackEnabled:e=>!0,alignment:k().C.Center,shouldShowSkipButton(e){var t;return"singleplayer"===(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)}},la={stageName:"mobile_team_onboarding_company_size",renderStage:()=>(0,p.jsx)(Vo,{}),shouldSkip(e){var t;return"team"!==(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)||"on"!==Oo().default.getEligibleGroup({experimentId:"onboarding_split_team_survey",defaultGroup:"control"})||(0,me().bG)()},getTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"What’s the size of your company?",id:"onboardingSurvey.companySize.subTitle"}),isContinueEnabled(e){var t;const n=e.planTypeAndSurveyInfo;return Boolean(null==n||null===(t=n.surveyResponses)||void 0===t?void 0:t.companySize)},isBackEnabled:e=>!0,shouldHideMobileBottomContent(e){var t;const n=null==e?void 0:e.planTypeAndSurveyInfo;return!(null!=n&&null!==(t=n.surveyResponses)&&void 0!==t&&t.companySize)},shouldShowSkipButton(e){var t;return"singleplayer"===(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)}};var da=()=>n(353420),ua=()=>n(455831),ca=()=>n(435819),ga=()=>n(613313),pa=()=>n(505316),ma=()=>n(653928),va=()=>n(34816),ya=()=>n(879205),ba=()=>n(979740),fa=()=>n(30299),ha=(n(244387),()=>n(575015)),xa=()=>n(142708),Sa=()=>n(740699),ja=()=>n(689248),Aa=()=>n(98508),Ca=()=>n(755648),wa=()=>n(308839),ka=()=>n(847184),Ia=()=>n(541750),Ma=()=>n(905467),Ta=()=>n(242111),_a=()=>n(142914),Pa=()=>n(354148),Ba=()=>n(129978);const Na={right:44,top:82},Ra={right:486,top:220};function za(){const e=(0,s().DP)(),t=(0,s().IS)((()=>{const e={position:"absolute",transform:"rotate(-4.567deg) scaleX(-1)",width:232,height:58};return{airplane:{...e,top:Na.top,right:Na.right},airplaneTail:{...e,top:Ra.top,right:Ra.right}}}),[]),{prefersReducedMotion:n}=(0,_().Y0)(),o="light"===e.mode?r().A.images.pricing.light.upgradeAirplanePng:r().A.images.pricing.dark.upgradeAirplanePng,a={type:"spring",mass:1,stiffness:83,damping:18.2,duration:.66};return(0,p.jsx)(Ba().u2,{dependency:Pa().fM,children:e=>(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(e.motion.img,{alt:"",src:o,style:t.airplane,animate:{opacity:[0,1],...n?{}:{right:[200,Na.right],top:[100,Na.top]}},transition:a}),(0,p.jsx)(e.motion.img,{alt:"",src:o,style:t.airplaneTail,animate:{opacity:[0,1],...n?{}:{right:[340,Ra.right],top:[230,Ra.top]}},transition:a})]})})}function Oa(e){let{handleSubmit:t,isSubmitDisabled:n,submissionError:o,onboardingState:i,product:r}=e;const l=(0,_().v3)(),d=(0,a().tz)(),u=(0,s().IS)((()=>({buttonContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",justifySelf:"center",width:"100%",gap:8},button:{display:"flex",alignItems:"center",justifyContent:"center",height:36,padding:"0px 8px",borderRadius:8,alignSelf:"stretch"}})),[]);return(0,p.jsxs)("div",{style:u.buttonContainer,children:[(0,p.jsx)(ut().A,{disabled:n,style:u.button,onClick:t,children:(0,p.jsx)(a().sA,{id:"onboardingCheckout.upgradeButton.startTrial",defaultMessage:"Start Notion {subscriptionTier} trial",values:{subscriptionTier:(0,ua().u2)({product:r,intl:d})}})}),(0,p.jsx)(ye().p,{isBlue:!0,style:u.button,onClick:async()=>{(0,fa().Q8)(),await(0,ue().goToNextStage)({environment:l,onboardingState:i})},children:(0,p.jsx)(ie().D,{styleName:"UIRegular-14px/Medium",colorName:"uiBluePrimary",children:(0,p.jsx)(a().sA,{id:"onboarding.timedTrailsStage.skipTrial.message",defaultMessage:"Continue with Free plan instead"})})}),o&&(0,p.jsx)("span",{style:{textAlign:"center"},children:(0,p.jsx)(ie().D,{styleName:"Caption-12px/Regular",colorName:"uiRedPrimary",children:o})})]})}const Da=428,Wa=368;function Ea(e){let{monthlyUnitCost:t,sessionId:n,onboardingState:r}=e;const l=(0,_().v3)(),d=(0,a().tz)(),u=function(){const e=(0,i().O$)(Ca().A);return(0,s().IS)((t=>({header:{maxWidth:Da,paddingBottom:24},airplaneContainer:{position:"relative",display:"flex",flexDirection:"column",gap:8,alignItems:"center",justifyContent:"center",width:804,marginTop:-32,paddingTop:44,paddingBottom:42},scrollContainer:{display:"flex",flexDirection:"column",alignItems:"flex-start",width:Da,height:Wa,padding:`20px ${24-e}px 20px 24px`,background:t.surface.elevated,border:`1px solid ${t.stroke.primary}`,borderRadius:16,boxShadow:"0px 4px 12px 0px rgba(0, 0, 0, 0.04)"}})),[e])}(),c=(0,da().useStripe)(),g=(0,da().useElements)(),m=(0,Sa().L)(),v=(0,_a().A)(),y=(0,i().K8)((()=>(0,ga().OP)()),[]),b=Boolean((0,ma().W)()),{tier:f,trialData:h}=(0,i().K8)((()=>({tier:(0,fa().Zr)(),trialData:(0,fa().Ot)(b)})),[b]),{trialDays:x}=(0,i().K8)((()=>({trialDays:(0,ba().Ao)(h)})),[h]),[S,j]=(0,o.useState)({name:m??"",businessName:"",vatId:v?"":void 0,termsAccepted:!1}),[A,C]=(0,o.useState)({}),[w,k]=(0,o.useState)(),[I,M]=(0,o.useState)(!1),T=o.useCallback((e=>{k(void 0),C((t=>({...t,...Object.keys(e).reduce(((e,t)=>({...e,[t]:void 0})),{})}))),j((t=>({...t,...e})))}),[]),P=o.useCallback((()=>{const e={};return(0,kn().r)(S.name)||(e.name=d.formatMessage({id:"spaceSubscriptionUpgradeModal.name.required.error",defaultMessage:"Please enter a valid name."})),S.termsAccepted||(e.termsAccepted=d.formatMessage({id:"onboarding.timedTrials.terms.required.error",defaultMessage:"You must opt in to start your trial"})),C((t=>({...t,...e}))),e}),[S,d]),B=o.useCallback((async()=>{const e=P();if(!we().Im(e))return;M(!0);if(!(await(0,wa().WR)({environment:l,intl:d,stripe:c,elements:g,trialData:h,trialDays:x,businessName:S.businessName,sessionId:n,customerName:S.name})))return M(!1),void k(d.formatMessage({id:"onboarding.timedTrials.paymentError.message",defaultMessage:"We were unable to save your payment method. Please verify all the information in the form is correct."}));await(0,ue().goToNextStage)({environment:l,onboardingState:r}),y?(0,ja().UW)(l,"self_serve_business_trial_nudge_d0"):ha().D6({label:(0,p.jsx)(a().sA,{id:"onboardingTimedTrial.snackbar.confirmation",defaultMessage:"Your {trialDays, select, 30 {30} other{14}}-day {subscriptionTier, select, business {Business} plus {Plus} other {}} trial starts now!",values:{subscriptionTier:f,trialDays:x}})}),(0,fa().Q8)()}),[g,y,l,S.businessName,S.name,d,r,n,c,f,h,x,P]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{style:u.airplaneContainer,children:[(0,p.jsx)(za,{}),(0,p.jsx)(ae().Y1,{gap:42,align:"center",width:Da,children:(0,p.jsxs)(xa().H,{style:u.scrollContainer,type:Aa().A.All,children:[(0,p.jsxs)(ae().Y1,{gap:14,padding:"0px 0px 14px 0px",children:[(0,p.jsx)(ka().ck,{formData:S,onChangeFormData:T,errors:A,modalId:n}),(0,p.jsx)(Ma().q,{modalId:n})]}),(0,p.jsx)(Ia().P,{isChecked:S.termsAccepted,onChange:e=>{T({termsAccepted:e})},error:A.termsAccepted,message:(0,p.jsx)(a().sA,{defaultMessage:"At the end of your trial, Notion {planName} will auto-renew each month at {money}/seat plus taxes unless canceled. Cancel via the Billing tab prior to renewal to avoid future charges",id:"onboardingTimedTrials.termsOfService",values:{money:t?(0,p.jsx)(Ta().v,{cost:t,trailingZeroDisplay:"stripIfInteger"}):"-",planName:(0,ua().u2)({product:f,intl:d})}})})]})})]}),(0,p.jsx)("div",{style:{width:406},children:(0,p.jsx)(Oa,{handleSubmit:B,isSubmitDisabled:I,submissionError:w,onboardingState:r,product:f})})]})}function La(){const e=n(214144).JW(),t=(0,i().K8)((()=>g().A.state),[]),{subscriptionTier:o,selectedCurrencyCode:a}=(0,i().K8)((()=>({subscriptionTier:(0,fa().Zr)(),selectedCurrencyCode:ya().A.selectedCurrencyCode})),[]),s=(0,pa().useElementsOptions)({type:"subscription",amount:0,currency:a}),r=(0,va().H4)({billingInterval:"month",priceStore:ya().A,products:[o]}),l=(0,va()._7)({asyncPrice:r[o]});return(0,p.jsx)(da().Elements,{stripe:(0,pa().getStripe)(),options:s,children:(0,p.jsx)(ca().A,{capture:!0,render:()=>(0,p.jsx)(Ea,{monthlyUnitCost:l,sessionId:e,onboardingState:t})})})}function qa(){const e=(0,a().tz)(),t=(0,i().K8)((()=>(0,fa().Zr)()),[]),n=Boolean((0,ma().W)()),o=(0,i().K8)((()=>(0,fa().Ot)(n)),[n]),s=(0,i().K8)((()=>(0,ba().Ao)(o)),[o]);return(0,p.jsx)(a().sA,{defaultMessage:"Try the {planName} plan for {numDays} days",id:"onboardingTimedTrial.title.v2",values:{planName:(0,ua().u2)({product:t,intl:e}),numDays:s}})}function Fa(){const e=Boolean((0,ma().W)()),t=(0,i().K8)((()=>(0,fa().Zr)()),[]),n=(0,i().K8)((()=>(0,fa().Ot)(e)),[e]),o=(0,i().K8)((()=>(0,ba().Ao)(n)),[n]),s=(0,i().K8)((()=>(0,ga().Le)()),[]);return(0,p.jsx)("div",{children:s&&"business"===t?(0,p.jsx)(a().sA,{defaultMessage:"Find answers across tools, build team workflows & automate with AI",id:"onboardingTimedTrial.subtitle.business"}):(0,p.jsx)(a().sA,{defaultMessage:"{trialDays, select, 30 {Four weeks} other {Two weeks}} of unlimited collaboration and creation",id:"onboardingTimedTrial.subtitle.v2",values:{trialDays:o}})})}const Ua={stageName:"team_onboarding_timed_trial_checkout",shouldSkip:e=>!e.acceptedTimedTrialOffer,getTitle:()=>(0,p.jsx)(qa,{}),getSubTitle:()=>(0,p.jsx)(Fa,{}),isContinueEnabled:()=>!0,isBackEnabled:()=>!0,onBack(){g().A.update((e=>({...e,acceptedTimedTrialOffer:!1})))},renderStage:()=>(0,p.jsx)(La,{}),alignment:k().C.Center,headerStyles:{maxWidth:700},getDesktopContinueButtonOverride:()=>(0,p.jsx)("div",{})};var Ha=()=>n(421650),Va=()=>n(610271),Ka=()=>n(226e3),Qa=()=>n(543847),Ga=()=>n(303239),Ja=()=>n(711013),$a=()=>n(413851),Ya=()=>n(934889),Za=()=>n(647658),Xa=()=>n(550828),ei=()=>n(242120),ti=()=>n(956548),ni=()=>n(463566),oi=()=>n(897758);function ai(e){let{intl:t,enableMay13PackagingChanges:n}=e;const o=function(e){return{blocks:{free:{icon:Qa().U,message:e.formatMessage({id:"planCard.features.blocks.free",defaultMessage:"1,000 blocks to collaborate"})},plus:{icon:Za().cubeIcon,message:e.formatMessage({id:"planCard.features.blocks.unlimited",defaultMessage:"Unlimited blocks for everyone"})},business:{icon:Za().cubeIcon,message:e.formatMessage({id:"planCard.features.blocks.unlimited",defaultMessage:"Unlimited blocks for everyone"})}},fileUpload:{free:{icon:oi().R,message:e.formatMessage({id:"planCard.features.fileUpload.free",defaultMessage:"5MB file upload limit"})},plus:{icon:oi().R,message:e.formatMessage({id:"planCard.features.fileUpload.unlimited",defaultMessage:"Unlimited file uploads"})},business:{icon:oi().R,message:e.formatMessage({id:"planCard.features.fileUpload.unlimited",defaultMessage:"Unlimited file uploads"})}},view_chart:{free:{icon:Ja().q,message:e.formatMessage({id:"planCard.features.charts.free",defaultMessage:"{chartLimit} chart"},{chartLimit:1})},plus:{icon:Ja().q,message:e.formatMessage({id:"planCard.features.charts.unlimited",defaultMessage:"Unlimited charts"})},business:{icon:Ja().q,message:e.formatMessage({id:"planCard.features.charts.unlimited",defaultMessage:"Unlimited charts"})}},form_customization:{free:{icon:ti().pageIcon,message:e.formatMessage({id:"planCard.features.forms.basic",defaultMessage:"Basic forms"})},plus:{icon:ti().pageIcon,message:e.formatMessage({id:"planCard.features.forms.custom",defaultMessage:"Custom forms"})},business:{icon:ti().pageIcon,message:e.formatMessage({id:"planCard.features.forms.custom",defaultMessage:"Custom forms"})}},pageHistory:{free:{icon:Ya().clockIcon,message:e.formatMessage({id:"planCard.features.pageHistory",defaultMessage:"{historyLimit} day page history"},{historyLimit:7})},plus:{icon:Ya().clockIcon,message:e.formatMessage({id:"planCard.features.pageHistory",defaultMessage:"{historyLimit} day page history"},{historyLimit:30})},business:{icon:Ya().clockIcon,message:e.formatMessage({id:"planCard.features.pageHistory",defaultMessage:"{historyLimit} day page history"},{historyLimit:90})}},ai_usage:{free:{icon:Ka().v,message:e.formatMessage({id:"planCard.features.aiUsage.free",defaultMessage:"Trial of Notion AI core"})},business:{icon:Ka().v,message:e.formatMessage({id:"planCard.features.aiUsage.business",defaultMessage:"Unlimited Notion AI"})}},custom_public_sites_layout:{free:{icon:Ga().U,message:e.formatMessage({id:"planCard.features.customPublicSitesLayout.free",defaultMessage:"Basic sites"})}},ai_research_mode:{business:{icon:Xa().P,message:e.formatMessage({id:"planCard.features.aiResearchMode.business",defaultMessage:"Research mode"})}},ai_meeting_notes:{business:{icon:ei().b,message:e.formatMessage({id:"planCard.features.aiMeetingNotes.business",defaultMessage:"AI meeting notes"})}},advancedSecurity:{business:{icon:$a().g,message:e.formatMessage({id:"planCard.features.advancedSecurity.business",defaultMessage:"Secure & compliant collaboration"})}},unifiedFind:{business:{icon:ni().f,message:e.formatMessage({id:"planCard.features.unifiedFind.business",defaultMessage:"Enterprise search"})}}}}(t);return{free:n?[o.blocks.free,o.ai_usage.free,o.form_customization.free,o.custom_public_sites_layout.free]:[o.blocks.free,o.fileUpload.free,o.view_chart.free,o.form_customization.free,o.pageHistory.free],student:[],personal:[],plus:[o.blocks.plus,o.fileUpload.plus,o.view_chart.plus,o.form_customization.plus,o.pageHistory.plus],business:n?[o.blocks.business,o.ai_usage.business,o.advancedSecurity.business,o.unifiedFind.business,o.ai_meeting_notes.business,o.ai_research_mode.business]:[o.blocks.business,o.fileUpload.business,o.view_chart.business,o.form_customization.business,o.pageHistory.business],enterprise:[],ai:[],sites_custom_hostnames:[]}}function ii(e){let{product:t,price:n,comparisonPrice:s,primaryAction:r,isHighlighted:l}=e;const d=li(l),u=function(e){let{product:t,enableMay13PackagingChanges:n}=e;const i=(0,a().tz)();return o.useMemo((()=>ai({intl:i,enableMay13PackagingChanges:n})[t].filter((e=>void 0!==e))||[]),[i,t,n])}({product:t,enableMay13PackagingChanges:(0,i().K8)((()=>(0,ga().Le)()),[])});return(0,p.jsx)("div",{style:d.container,children:(0,p.jsxs)(ae().Y1,{gap:28,padding:"24px",align:"top-left",children:[(0,p.jsx)(si,{product:t,price:n,comparisonPrice:s}),l?(0,p.jsx)(ut().A,{style:d.primaryButton,onClick:r.onClick,children:r.label}):(0,p.jsx)(dt().E,{color:"uiBlue",size:"xl",style:d.primaryButton,onClick:r.onClick,children:r.label}),(0,p.jsxs)(ae().Y1,{gap:12,children:[u.map(((e,t)=>(0,p.jsx)(ri,{feature:{...e}},`feature-${t}`))),l&&(0,p.jsx)(ie().D,{styleName:"UIRegular-14px/Regular",colorName:"tertiary",children:(0,p.jsx)(a().sA,{id:"plansPage.planCard.andMore",defaultMessage:"... and more"})})]})]})})}function si(e){let{product:t,price:n,comparisonPrice:o}=e;const i=li(),s=(0,a().tz)();return(0,p.jsxs)(ae().Y1,{gap:16,children:[(0,p.jsx)(ie().D,{styleName:"UITitle-22px/Semibold",colorName:"primary",children:(0,ua().u2)({product:t,intl:s})}),(0,p.jsxs)(ae().Y1,{gap:2,children:[(0,p.jsxs)(ae().Y1,{direction:"horizontal",gap:8,children:[o&&(0,p.jsx)("div",{style:i.comparisonPriceText,children:(0,p.jsx)(Ta().v,{cost:o,trailingZeroDisplay:"stripIfInteger"})}),(0,p.jsx)("div",{style:i.priceText,children:(0,p.jsx)(Ta().v,{cost:n,trailingZeroDisplay:"stripIfInteger"})})]}),(0,p.jsx)(ie().D,{styleName:"UISmall-12px/Medium",colorName:"tertiary",children:(0,p.jsx)(a().sA,{id:"plansPage.planCard.priceUnit",defaultMessage:"per member / month"})})]})]})}function ri(e){let{feature:t}=e;const n=li(),o=Array.isArray(t.icon)?t.icon:[t.icon];return(0,p.jsxs)(ae().Y1,{direction:"horizontal",gap:4,align:"center-left",height:22,children:[(0,p.jsx)(Va().Ye,{gap:4,children:o.filter(l().Vq).map((e=>e({...n.icon,...t.iconStyle??{}})))}),(0,p.jsx)(ie().D,{styleName:"Body-14px/Regular",colorName:"secondary",children:t.message})]})}function li(e){return(0,s().IS)((t=>({container:{borderRadius:12,background:t.surface.elevated,boxShadow:e?t.shadowMD:t.shadowXS,flex:"1 0 0",alignSelf:"stretch"},priceText:{color:t.text.primary,fontSize:40,fontWeight:400,lineHeight:"120%",letterSpacing:.4},comparisonPriceText:{color:"dark"===t.mode?"#636363":"#C7C5C1",fontSize:40,fontWeight:400,lineHeight:"120%",letterSpacing:.4,textDecoration:"line-through"},primaryButton:{height:36,borderRadius:8,alignSelf:"stretch"},icon:{display:"flex",width:20,height:20,color:t.icon.secondary,padding:2}})),[e])}var di=()=>n(159448);function ui(e){let{monthlyUnitCost:t,currencyCode:n,onboardingState:o}=e;const s=(0,a().tz)(),r=(0,_().v3)(),l=Boolean((0,di().Wo)()),{tier:d,trialData:u}=(0,i().K8)((()=>({tier:(0,fa().Zr)(),trialData:(0,fa().Ot)(l)})),[l]),{trialDays:c}=(0,i().K8)((()=>({trialDays:(0,ba().Ao)(u)})),[u]),m={amount:0,currencyCode:n};return(0,p.jsxs)(ae().Y1,{direction:"horizontal",gap:16,align:"center-left",padding:"12px 0px 36px 0px",width:630,children:[(0,p.jsx)(ii,{product:"free",price:m,primaryAction:{label:s.formatMessage({id:"onboarding.timedTrials.comparePlans.free.continue",defaultMessage:"Continue"}),onClick:async()=>{(0,fa().Q8)(),await(0,ue().goToNextStage)({environment:r,onboardingState:o})}}}),(0,p.jsx)(ii,{isHighlighted:!0,product:d,price:m,comparisonPrice:t,primaryAction:{label:s.formatMessage({id:"onboarding.timedTrials.comparePlans.tryFor",defaultMessage:"Try for {trialDays} days"},{trialDays:c}),onClick:async()=>{Ha().Ak(r,{stage:"team_onboarding_timed_trial_offer",product:d,trial_days:c}),g().A.update((e=>({...e,acceptedTimedTrialOffer:!0}))),await(0,ue().goToNextStage)({environment:r,onboardingState:o})}}})]})}function ci(){const e=(0,i().K8)((()=>g().A.state),[]),{subscriptionTier:t,selectedCurrencyCode:n}=(0,i().K8)((()=>({subscriptionTier:(0,fa().Zr)(),selectedCurrencyCode:ya().A.selectedCurrencyCode})),[]),o=(0,va().H4)({billingInterval:"month",priceStore:ya().A,products:[t]}),a=(0,va()._7)({asyncPrice:o[t]});return(0,p.jsx)(ca().A,{capture:!0,render:()=>(0,p.jsx)(ui,{monthlyUnitCost:a,currencyCode:n,onboardingState:e})})}const gi={stageName:"team_onboarding_timed_trial_offer",shouldSkip(e){const t=e.planTypeAndSurveyInfo;return"team"!==(null==t?void 0:t.planType)},getTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"Choose your Plan",id:"onboardingTimedTrial.offer.title"}),getSubTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"Select the best Notion experience for your team",id:"onboardingTimedTrial.offer.subtitle"}),isContinueEnabled:()=>!0,isBackEnabled(e){if("ai_onboarding_phase_2_5"===e.flowName)return!1;const t=e.planTypeAndSurveyInfo;return"singleplayer"!==(null==t?void 0:t.collaborativeIntent)},renderStage:()=>(0,p.jsx)(ci,{}),alignment:k().C.Center,headerStyles:{maxWidth:600},getDesktopContinueButtonOverride:()=>(0,p.jsx)("div",{})},pi={stageName:"team_onboarding_use_cases",shouldSkip(e){const t=e.planTypeAndSurveyInfo;return"team"!==(null==t?void 0:t.planType)},getTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"What are you planning on using Notion for?",id:"onboardingUseCasesStep.title"}),getSubTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"You can always add more later",id:"onboardingUseCasesStep.subtitle"}),isContinueEnabled(e,t){var n,o;const a=e.planTypeAndSurveyInfo,i=e.selectedWorkflowTemplateIds,s=Boolean((null==a||null===(n=a.surveyResponses)||void 0===n?void 0:n.useCases)&&(null==a||null===(o=a.surveyResponses)||void 0===o||null===(o=o.useCases)||void 0===o?void 0:o.length)>0),r=Boolean(i&&i.length>0);return s||r},isBackEnabled:(e,t)=>!0,renderStage:()=>(0,p.jsx)(ze,{}),renderRightContent(e){var t;const n=e.planTypeAndSurveyInfo,o=(null==n||null===(t=n.surveyResponses)||void 0===t?void 0:t.useCases)??[],a=e.selectedWorkflowTemplateIds??[];return(0,p.jsx)(Ue,{selectedWorkflowTemplateIds:a,selectedUseCases:o,selectedCategories:[]})},getContinueButtonStyles:()=>({width:376,marginTop:48,borderRadius:8})},mi={stageName:"mobile_team_onboarding_use_cases",shouldSkip(e,t){const n=e.planTypeAndSurveyInfo;return"team"!==(null==n?void 0:n.planType)},getTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"What are you planning to use Notion for?",id:"onboardingUseCasesStep.mobile.title"}),isContinueEnabled(e){var t,n;const o=e.planTypeAndSurveyInfo;return Boolean((null==o||null===(t=o.surveyResponses)||void 0===t?void 0:t.useCases)&&(null==o||null===(n=o.surveyResponses)||void 0===n||null===(n=n.useCases)||void 0===n?void 0:n.length)>0)},shouldHideMobileBottomContent(e){var t,n;const o=null==e?void 0:e.planTypeAndSurveyInfo;return!(null!=o&&null!==(t=o.surveyResponses)&&void 0!==t&&t.useCases&&0!==o.surveyResponses.useCases.length||0!==((null==e||null===(n=e.selectedWorkflowTemplateIds)||void 0===n?void 0:n.length)??0))},isBackEnabled:(e,t)=>!0,renderStage:()=>(0,p.jsx)(ze,{})};class vi extends In().default{getInitialState(){return{useCases:we().k4([qn().GQ,qn().NR,qn().Q4])}}}const yi=vi,bi=(0,a().YK)({placeHolderMobile:{defaultMessage:"Acme Labs",id:"onboardingWorkspaceCreate.mobile.spaceInput.placeholderV2"},placeHolderDesktop:{defaultMessage:"Acme Inc.",id:"onboardingWorkspaceCreate.workspaceNameInput.placeholder"},workspaceNameTooLong:{defaultMessage:"Workspace name must be {maxLength} characters or less",id:"onboardingWorkspaceCreate.workspaceNameInput.tooLongError"}});function fi(e,t){return e&&e.trim()&&e.length>qn().zX?t.formatMessage(bi.workspaceNameTooLong,{maxLength:qn().zX}):null}function hi(){const e=(0,_().v3)(),t=(0,a().tz)(),n=(0,i().uB)(void 0,yi),[r,l]=o.useState(null),d=(0,i().O$)(g().A),u=(0,i().K8)((()=>n.state.invalidField),[n]),m=d.spaceIcon?{pointer:{table:"space",id:"undefined"},icon:d.spaceIcon}:void 0,v=t.formatMessage(bi.placeHolderDesktop),y=(0,i().K8)((()=>{const t=(0,c().getStageName)({flowName:d.flowName,stageIndex:d.currentStageIndex,environment:e});return wi[t]}),[d,e]),b=(0,i().K8)((()=>null==y?void 0:y.isContinueEnabled(d,e)),[y,d,e]),f=(0,i().K8)((()=>(0,me().Wl)()),[]);(0,o.useEffect)((()=>{d.onboardingData&&void 0===d.spaceName&&"prefilled_workspace_preview"===f&&(0,de().prefillTeamWorkspaceName)(d.onboardingData)}),[d.onboardingData,d.spaceName,f]);const h=ji({isMobile:!1,shouldShowWorkspaceNameAndIconPreview:"workspace_preview"===f||"prefilled_workspace_preview"===f}),x=(0,s().IS)((e=>({buttonLabel:{fontSize:14,color:e.text.secondary,marginTop:4},formLabel:{...at().Gy,color:e.text.secondary,marginTop:32},inputHint:{marginTop:4},input:{marginRight:4,borderRadius:6,background:"transparent",backgroundColor:e.whiteButtonBackground,height:31}})),[]);return(0,p.jsx)(An().A,{capture:!0,debugName:"ContextualizedOnboardingWorkspaceCreate",onEnter:async()=>{b&&await(0,ue().goToNextStage)({environment:e,onboardingState:d})},onLeft:we().D_,onRight:we().D_,onSelectAll:we().D_,onCut:we().D_,onCopy:we().D_,onPaste:we().D_,children:(0,p.jsxs)("div",{style:h.wrapper,children:[(0,p.jsx)("div",{style:h.innerWrapper,children:(0,p.jsxs)("div",{style:h.recordIconWrapper,children:[(0,p.jsx)(Le().B,{bucket:"public",disabled:!1,icon:m,isEmptyPage:!1,title:d.spaceName||v,size:81,iconLoggingData:{recordTable:"space",source:"onboarding_workspace_create"},onChange:t=>Ai({environment:e,onboardingState:d,emojiOrUrl:t}),iconBoxStyles:h.recordIconBox,placeholderStyle:h.recordIconPlaceholder}),(0,p.jsx)("div",{style:x.buttonLabel,children:(0,p.jsx)(a().sA,{defaultMessage:"Choose or add an icon",id:"onboarding.workspaceCreate.buttonLabel.titleV2"})})]})}),(0,p.jsx)(Si,{}),(0,p.jsx)("div",{style:x.formLabel,children:(0,p.jsx)(a().sA,{defaultMessage:"Workspace name",id:"onboardingWorkspaceCreate.workspaceNameInput.label"})}),(0,p.jsx)(jn().A,{focusInitial:!0,value:d.spaceName,placeholder:v,onChange:e=>{g().A.setState({...g().A.state,spaceName:e.target.value}),l(null)},onBlur:()=>{const{spaceName:e}=d,n=fi(e,t);l(n)},style:{...x.input,..."space_name"===u||r?at().Hp:{}}}),(0,p.jsx)("div",{style:x.inputHint,children:(0,p.jsx)(T().A,{isMultiline:!0,isSmall:!0,style:{...r&&{color:"red"}},children:r||(0,p.jsx)(a().sA,{defaultMessage:"The name of your company or organization",id:"onboardingWorkspaceCreate.workspaceNameInput.hintV2"})})})]})})}function xi(){const e=(0,_().v3)(),t=(0,a().tz)(),[n,r]=o.useState(null),l=ji({isMobile:!0}),d=(0,s().IS)((e=>({inputComponent:{marginBottom:24,border:"none",background:"none",width:"auto",maxWidth:256,height:32,borderRadius:6,boxShadow:"none",color:e.text.secondary},inputOverrides:{height:32,fontSize:26,fontWeight:V().Wy.bold,color:e.text.primary},photoBadgePlusContainer:{position:"absolute",borderRadius:"50%",border:`4px solid ${e.surface.wash}`,background:e.stroke.primary,bottom:"0%",right:"12%",pointerEvents:"none"},photoBadgePlus:{width:24,height:24,margin:5,fill:e.icon.secondary}})),[]),u=(0,i().O$)(g().A),c=u.spaceIcon?{pointer:{table:"space",id:"undefined"},icon:u.spaceIcon}:void 0,m=t.formatMessage(bi.placeHolderMobile);return(0,p.jsxs)("div",{style:l.wrapper,children:[(0,p.jsx)("div",{style:l.innerWrapper,children:(0,p.jsxs)("div",{style:l.recordIconWrapper,children:[(0,p.jsx)(Le().B,{bucket:"public",disabled:!1,icon:c,isEmptyPage:!1,title:u.spaceName||m,size:126,iconLoggingData:{recordTable:"space",source:"onboarding_workspace_create"},onChange:t=>Ai({environment:e,onboardingState:u,emojiOrUrl:t}),iconBoxStyles:l.recordIconBox,placeholderStyle:l.recordIconPlaceholder}),(0,p.jsx)("div",{style:d.photoBadgePlusContainer,children:bn(d.photoBadgePlus)})]})}),(0,p.jsx)(Si,{}),(0,p.jsx)(ae().Y1,{align:"center",children:(0,p.jsx)(jn().A,{autoFocus:!0,inputClassName:"spaceNameInput",format:jn().C.Transparent,focusInitial:!0,value:u.spaceName,placeholder:m,onChange:e=>{g().A.setState({...g().A.state,spaceName:e.target.value}),r(null)},onBlur:()=>{const{spaceName:e}=u,n=fi(e,t);r(n)},style:{...d.inputComponent,...n?at().Hp:{}},inputStyle:d.inputOverrides,overrideDefaultWidth:!0})}),n&&(0,p.jsx)(T().A,{isMultiline:!0,isSmall:!0,style:{color:"red",marginTop:8,textAlign:"center"},children:n})]})}function Si(){const e=(0,s().DP)(),t=`\n\t\t.spaceNameInput::placeholder {\n\t\t\tfont-size: 26px;\n\t\t\tfont-weight: ${V().Wy.bold};\n\t\t\tcolor: ${e.text.quaternary};\n\t\t\ttext-align: center;\n\t\t}\n\t\t.spaceNameInput:focus-visible {\n\t\t\toutline: none;\n\t\t}\n\t\t.spaceNameInput:placeholder-shown {\n\t\t\ttext-align: left;\n\t\t\twidth: 136px;\n\t\t}\n\t\t.spaceNameInput {\n\t\t\ttext-align: center;\n\t\t\twidth: 100%;\n\t\t}\n\t`;return(0,p.jsx)("style",{children:t})}function ji(e){let{isMobile:t,shouldShowWorkspaceNameAndIconPreview:n}=e;return(0,s().IS)((e=>({wrapper:{...!n&&{marginLeft:"auto"},marginRight:"auto",display:"flex",flexDirection:"column",width:n?320:300,...t&&{alignItems:"center"}},innerWrapper:{width:180,overflow:"hidden",margin:"0 auto",...!t&&{marginTop:28}},recordIconWrapper:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginRight:4,marginTop:t?55:0,position:"relative"},recordIconBox:{borderRadius:t?22:14,background:e.tint.regular},recordIconPlaceholder:{lineHeight:"32px",letterSpacing:.208,color:e.text.tertiary,height:"auto",fontSize:t?40:34,fontWeight:t?700:510}})),[t,n])}function Ai(e){let{environment:t,onboardingState:n,emojiOrUrl:o}=e;w().F5(t,{...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:n,environment:t}),spaceIcon:o}),g().A.setState({...g().A.state,spaceIcon:o})}async function Ci(e){var t;const n=g().A.state,{onboardingData:o}=n;if(!o)return;const a=(0,at().qg)({userStore:o.userStore,isUserDomainJoinable:o.isUserDomainJoinable});if("default"===n.flowName&&"multiplayer"===(null===(t=n.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)&&n.optInAutoJoin&&n.spaceId&&a&&(0,me().Yz)()){const t=So().SL.createChildStore(o.userRootStore,{table:qn().NX,id:n.spaceId});await ro().Yk({environment:e,emailDomains:[a],spaceStore:t})}}const wi={profile:Wn,app_builder:pe,onboarding_workspace_choose:io,onboarding_plan_type_choose:dn,onboarding_collaborative_intent_choose:st,onboarding_plan_type_and_survey:tn,onboarding_category_survey:Je,team_onboarding_persona_survey:ta,team_onboarding_function:oa,team_onboarding_role:ia,team_onboarding_company_size:ra,team_onboarding_invite:Ro,team_onboarding_timed_trial_offer:gi,team_onboarding_timed_trial_checkout:Ua,team_onboarding_workspace_create:{stageName:"team_onboarding_workspace_create",async shouldSkip(e,t){const n=e.planTypeAndSurveyInfo,o=null==n?void 0:n.planType;return!o||"team"!==o||!(!e.onboardingData||"auto_name_workspace"!==(0,me().Wl)())&&((0,de().prefillTeamWorkspaceName)(e.onboardingData),await(0,de().createSpaceAndSetSpaceId)({onboardingState:g().A.state,environment:t}),await Ci(t),!0)},getTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"Give your workspace a name",id:"onboardingWorkspaceCreate.stage.team.titleV2"}),getSubTitle(e){var t;if("singleplayer"!==(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent))return(0,p.jsx)(a().sA,{defaultMessage:"Details help any collaborators that join",id:"onboardingWorkspaceCreate.stage.subtitleV2"})},isContinueEnabled(e){const{spaceName:t}=e;return Boolean(t&&t.trim()&&t.length<=qn().zX)},async onContinue(e,t){await(0,de().createSpaceAndSetSpaceId)({onboardingState:t,environment:e}),await Ci(e)},isBackEnabled:e=>!0,renderStage:()=>(0,p.jsx)(hi,{}),getContinueButtonStyles(){const e=(0,me().Wl)(),t="workspace_preview"===e||"prefilled_workspace_preview"===e;return{width:t?320:300,alignSelf:t?"flex-start":"center",marginTop:70}},renderRightContent(e){const t=(0,me().Wl)();if("workspace_preview"===t||"prefilled_workspace_preview"===t){var n;const t=e.planTypeAndSurveyInfo,o=(null==t||null===(n=t.surveyResponses)||void 0===n?void 0:n.useCases)??[],a=e.selectedWorkflowTemplateIds??[];return(0,p.jsx)(Ue,{selectedWorkflowTemplateIds:a,selectedUseCases:o,selectedCategories:[],shouldZoomInOnWorkspaceNameAndIconPreview:!0})}},alignment:k().C.Center},team_onboarding_use_cases:pi,education_category_picker:C,education_persona_survey:Y,mobile_profile:En,mobile_onboarding_workspace_choose:so,mobile_onboarding_collaborative_intent_choose:rt,mobile_onboarding_category_survey:$e,mobile_team_onboarding_persona_survey:na,mobile_team_onboarding_function:aa,mobile_team_onboarding_role:sa,mobile_team_onboarding_company_size:la,mobile_onboarding_plan_type_choose:un,mobile_team_onboarding_workspace_create:{stageName:"mobile_team_onboarding_workspace_create",async shouldSkip(e,t){const n=e.planTypeAndSurveyInfo,o=null==n?void 0:n.planType;return!o||"team"!==o||null==t||!t.device.isMobile||!(!e.onboardingData||"on"!==Oo().default.getEligibleGroup({experimentId:"skip_mobile_workspace_create_step",defaultGroup:"control"}))&&((0,de().prefillTeamWorkspaceName)(e.onboardingData),await(0,de().createSpaceAndSetSpaceId)({onboardingState:g().A.state,environment:t}),!0)},getTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"What’s the name of your company or organization?",id:"onboardingWorkspaceCreate.stage.team.mobile.titleV2"}),isContinueEnabled(e){const{spaceName:t}=e;return Boolean(t&&t.trim()&&t.length<=qn().zX)},async onContinue(e,t){await(0,de().createSpaceAndSetSpaceId)({onboardingState:t,environment:e}),await Ci(e)},isBackEnabled:()=>!0,renderStage:()=>(0,p.jsx)(xi,{})},mobile_team_onboarding_invite:zo,mobile_team_onboarding_use_cases:mi,mobile_onboarding_editor:Rt,mobile_onboarding_sidebar:zt,mobile_onboarding_web_clipper:Ot,mobile_onboarding_app_download:Wt,mobile_onboarding_desktop:Dt,mobile_onboarding_home:Et,mobile_onboarding_creation:Lt,mobile_onboarding_share:qt,mobile_onboarding_multi_platform:Ft,mobile_onboarding_skill_mab:Ut,mobile_onboarding_skill_filing:Ht,mobile_onboarding_skill_swipe:Vt}},34816:(e,t,n)=>{n.d(t,{H4:()=>o().H,_7:()=>a()._});var o=()=>n(614893),a=()=>n(713628)},61962:(e,t,n)=>{n.d(t,{o:()=>i});var o=()=>n(129978);const a=new(o().O2)("PageError",(async()=>Promise.all([n.e(44711),n.e(35837),n.e(23063),n.e(38546),n.e(25049),n.e(30873),n.e(66960)]).then(n.bind(n,468116)))),i=(0,o()._h)(a,(e=>e.PageError))},89509:(e,t,n)=>{n.d(t,{Lv:()=>a,XH:()=>o});const o={AE:"ae_trn",AT:"eu_vat",AU:"au_abn",BE:"eu_vat",BG:"eu_vat",CA:"ca_bn",CH:"ch_vat",CY:"eu_vat",CZ:"eu_vat",DE:"eu_vat",DK:"eu_vat",EE:"eu_vat",ES:"eu_vat",FI:"eu_vat",FR:"eu_vat",GB:"gb_vat",GR:"eu_vat",HR:"eu_vat",HU:"eu_vat",IE:"eu_vat",IN:"in_gst",IT:"eu_vat",KR:"kr_brn",LT:"eu_vat",LU:"eu_vat",LV:"eu_vat",MT:"eu_vat",NL:"eu_vat",NO:"no_vat",NZ:"nz_gst",PL:"eu_vat",PT:"eu_vat",RO:"eu_vat",RU:"ru_inn",SE:"eu_vat",SG:"sg_gst",SI:"eu_vat",SK:"eu_vat",TW:"tw_vat",UA:"ua_vat"};function a(e){return void 0!==o[e]}},142914:(e,t,n)=>{n.d(t,{A:()=>l});var o=()=>n(237385),a=()=>n(204758),i=()=>n(162901),s=()=>n(89509),r=()=>n(818369);function l(){var e;const t=(0,o().v3)(),[n]=(0,i().Yb)((async()=>{const e=await r().callApi({eventName:"getGeoIpLocation",environment:t,data:{}});if("success"===e.type)return e.data}),[t]),l=null==n||null===(e=n.value)||void 0===e?void 0:e.countryCodeFromIp;return!!(0,a().Ef)(l)&&(0,s().Lv)(l)}},197027:(e,t,n)=>{n.d(t,{M:()=>a});n(242343);var o=n(163643);const a=(0,n(680369).wt)("flag",{viewBox:"0 0 13 14",svg:(0,o.jsx)("path",{d:"M0.825195 13.8457C1.16699 13.8457 1.4541 13.5654 1.4541 13.2168V9.47754C1.63867 9.40918 2.21973 9.19727 3.10156 9.19727C5.59668 9.19727 7.25781 10.4414 9.66406 10.4414C10.7168 10.4414 11.1885 10.3115 11.7217 10.0654C12.207 9.84668 12.4941 9.4502 12.4941 8.82129V1.99219C12.4941 1.55469 12.1523 1.27441 11.6943 1.27441C11.3047 1.27441 10.6895 1.54102 9.58887 1.54102C7.20996 1.54102 5.52148 0.296875 3.0332 0.296875C1.99414 0.296875 1.5293 0.419922 0.975586 0.672852C0.49707 0.891602 0.196289 1.24707 0.196289 1.86914V13.2168C0.196289 13.5586 0.483398 13.8457 0.825195 13.8457ZM9.63672 9.16309C7.41504 9.16309 5.71289 7.92578 3.12207 7.92578C2.45215 7.92578 1.84375 8.00098 1.48145 8.14453V2.0332C1.59766 1.83496 2.11035 1.56836 3.05371 1.56836C5.38477 1.56836 7.09375 2.80566 9.56836 2.80566C10.2383 2.80566 10.792 2.73047 11.2158 2.61426V8.69824C11.0996 8.89648 10.5801 9.16309 9.63672 9.16309Z"})})},203302:(e,t,n)=>{n.d(t,{L:()=>a});n(242343);var o=n(163643);const a=(0,n(680369).wt)("appleLogo",{viewBox:"0 0 170 170",svg:(0,o.jsx)("path",{d:"m150.37 130.25c-2.45 5.66-5.35 10.87-8.71 15.66-4.58 6.53-8.33 11.05-11.22 13.56-4.48 4.12-9.28 6.23-14.42 6.35-3.69 0-8.14-1.05-13.32-3.18-5.197-2.12-9.973-3.17-14.34-3.17-4.58 0-9.492 1.05-14.746 3.17-5.262 2.13-9.501 3.24-12.742 3.35-4.929 0.21-9.842-1.96-14.746-6.52-3.13-2.73-7.045-7.41-11.735-14.04-5.032-7.08-9.169-15.29-12.41-24.65-3.471-10.11-5.211-19.9-5.211-29.378 0-10.857 2.346-20.221 7.045-28.068 3.693-6.303 8.606-11.275 14.755-14.925s12.793-5.51 19.948-5.629c3.915 0 9.049 1.211 15.429 3.591 6.362 2.388 10.447 3.599 12.238 3.599 1.339 0 5.877-1.416 13.57-4.239 7.275-2.618 13.415-3.702 18.445-3.275 13.63 1.1 23.87 6.473 30.68 16.153-12.19 7.386-18.22 17.731-18.1 31.002 0.11 10.337 3.86 18.939 11.23 25.769 3.34 3.17 7.07 5.62 11.22 7.36-0.9 2.61-1.85 5.11-2.86 7.51zm-31.26-123.01c0 8.1021-2.96 15.667-8.86 22.669-7.12 8.324-15.732 13.134-25.071 12.375-0.119-0.972-0.188-1.995-0.188-3.07 0-7.778 3.386-16.102 9.399-22.908 3.002-3.446 6.82-6.3113 11.45-8.597 4.62-2.2516 8.99-3.4968 13.1-3.71 0.12 1.0831 0.17 2.1663 0.17 3.2409z"})})},286270:(e,t,n)=>{n.d(t,{E:()=>s});var o=n(242343),a=()=>n(81e4),i=n(163643);const s=o.forwardRef(((e,t)=>{let{children:o,color:s,disabled:r,icon:l,iconStyle:d,isLoading:u,shape:c="default",size:g="md",style:p,...m}=e;const v=(0,n(174114).IS)((e=>{const t=s?`${s}Primary`:"primary",i=s||"regular",m=s?`${s}Hover`:"primaryHover",v=s?`${s}Pressed`:"primaryPressed";return{button:{...(0,a().qq)({shape:c,size:g,hasIconOnly:Boolean(l)&&!o}),justifyContent:"center",color:e.text[t],background:e.tint[i],opacity:r||u?.3:1,fontWeight:n(31448).Wy.medium,...p},hovered:{background:r?e.tint[i]:e.tint[m]},pressed:{background:r?e.tint[i]:e.tint[v]},icon:{...(0,a().D3)({size:g,hasIconOnly:!o}),...d}}}),[o,s,r,l,d,u,c,g,p]);return(0,i.jsxs)(n(417653).A,{ref:t,style:v.button,hoveredStyle:v.hovered,pressedStyle:v.pressed,disabled:r,isLoading:u,...m,children:[l?l(v.icon):null,o]})}));s.displayName="TintButton"},316551:(e,t,n)=>{n.d(t,{y:()=>a});n(242343);var o=n(163643);const a=(0,n(680369).wt)("androidShare",{viewBox:"0 0 15 15",svg:(0,o.jsx)("path",{d:"M11.9952,10.6024 C11.4229,10.6024 10.9108,10.8283 10.51928,11.1822 L5.15029999,8.05723 C5.18794999,7.88404 5.21806999,7.71084 5.21806999,7.53012 C5.21806999,7.3494 5.18794999,7.1762 5.15029999,7.00301 L10.45904,3.90813 C10.8657,4.28464 11.4003,4.51807 11.9952,4.51807 C13.2452,4.51807 14.2542,3.50904 14.2542,2.25904 C14.2542,1.00904 13.2452,0 11.9952,0 C10.7452,0 9.73614999,1.00904 9.73614999,2.25904 C9.73614999,2.43976 9.76626999,2.61295 9.80391999,2.78614 L4.49517999,5.88102 C4.08854999,5.50452 3.55391999,5.27108 2.95903999,5.27108 C1.70903999,5.27108 0.699999988,6.28012 0.699999988,7.53012 C0.699999988,8.78012 1.70903999,9.78916 2.95903999,9.78916 C3.55391999,9.78916 4.08854999,9.55572 4.49517999,9.17922 L9.85662999,12.3117 C9.81897999,12.4699 9.79638999,12.6355 9.79638999,12.8012 C9.79638999,14.0136 10.7828,15 11.9952,15 C13.2075,15 14.194,14.0136 14.194,12.8012 C14.194,11.5889 13.2075,10.6024 11.9952,10.6024 Z"})})},375567:(e,t,n)=>{n.d(t,{w:()=>a});var o=()=>n(137476);function a(e,t){const{spaceId:n,pageId:a,joinSpaceMethod:i}=t;(0,o().u4)({environment:e,event:{eventName:"trusted_domain_banner_cta_clicked",eventProperties:{spaceId:n,pageId:a,joinSpaceMethod:i}}})}},428121:(e,t,n)=>{n.d(t,{M:()=>i,z:()=>s});var o=()=>n(492435),a=()=>n(647242);function i(e){let{billingData:t,experimentService:n,spaceId:i}=e;const s=(0,a().YF)(t),r=(0,a().N8)(null==t?void 0:t.subscription),l=n.checkGate({gateName:"packaging_changes_05_13_2025",actor:o().S3,customIDs:{spaceId:i}}),d=(0,a().eh)(t,"plus"),u=(0,a().eh)(t,"business"),c=(0,a().eh)(t,"enterprise"),g=(0,a().eh)(t,"ai"),p=(0,a().eh)(t,"student"),m=(0,a().eh)(t,"personal");return l?r?g&&(d||u||c)?{currentState:{featureSet:"advanced",reason:"ai_product"},upsell:void 0}:{currentState:{featureSet:"none"},upsell:{product:"ai",featureSet:"advanced"}}:s?g&&m?{currentState:{featureSet:"advanced",reason:"personal_ai"},upsell:void 0}:m&&!g?{currentState:{featureSet:"none"},upsell:{product:"ai",featureSet:"advanced"}}:g&&!m?{currentState:{featureSet:"core",reason:"ai_product"},upsell:{product:"personal",featureSet:"advanced"}}:{currentState:{featureSet:"none"},upsell:{product:"ai",featureSet:"core"}}:p?g?{currentState:{featureSet:"core",reason:"ai_product"},upsell:{product:"business",featureSet:"advanced"}}:{currentState:{featureSet:"none"},upsell:{product:"ai",featureSet:"core"}}:u?g?{currentState:{featureSet:"advanced",reason:"ai_product"},upsell:void 0}:{currentState:{featureSet:"advanced",reason:"business"},upsell:void 0}:c?g?{currentState:{featureSet:"advanced",reason:"ai_product"},upsell:void 0}:{currentState:{featureSet:"advanced",reason:"enterprise"},upsell:void 0}:g?{currentState:{featureSet:"core",reason:"ai_product"},upsell:{product:"business",featureSet:"advanced"}}:{currentState:{featureSet:"none"},upsell:{product:"business",featureSet:"advanced"}}:g?{currentState:{featureSet:"core",reason:"ai_product"},upsell:void 0}:{currentState:{featureSet:"none"},upsell:{product:"ai",featureSet:"core"}}}function s(e){var t;let{billingData:n,experimentService:o,spaceId:a}=e;return"ai"===(null===(t=i({billingData:n,experimentService:o,spaceId:a}))||void 0===t||null===(t=t.upsell)||void 0===t?void 0:t.product)}},463344:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(242343),a=()=>n(803290),i=()=>n(150649),s=n(163643);const r=function(e){const t=(0,n(237385).Y0)(),r=(0,a().K8)((()=>({initiator:n(330608).A.state.initiator,isDragging:n(716826).Ay.state.isDragging})),[]),l=(0,a().K8)((()=>i().default.state.isActive),[]),d=(0,a().K8)((()=>!!i().default.state.isActive&&i().default.state.moved?"default":r.isDragging?"-webkit-grabbing":"text"),[r.isDragging]),u=(0,o.useMemo)((()=>{let e="notion-cursor-listener";return"-webkit-grabbing"===d&&(e+=" notion-disable-local-cursor"),e}),[d]);return(0,o.useEffect)((()=>{t.isIOS&&("touch"===r.initiator||r.isDragging||l?document.body.classList.add("notion-disable-webkit-user-select"):document.body.classList.remove("notion-disable-webkit-user-select"))}),[t.isIOS,r.initiator,r.isDragging,l]),(0,s.jsx)("div",{style:{...e.style,cursor:d},className:u,children:e.children})}},463566:(e,t,n)=>{n.d(t,{f:()=>i});n(242343);var o=n(163643);const a={viewBox:"0 0 20 20",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M8.387 5.933c.115-.523.861-.523.976 0l.202.918a1.75 1.75 0 0 0 1.334 1.334l.918.202c.523.115.523.861 0 .976l-.918.202a1.75 1.75 0 0 0-1.334 1.334l-.202.918c-.115.523-.861.523-.976 0l-.202-.918a1.75 1.75 0 0 0-1.334-1.334l-.918-.202c-.523-.115-.523-.861 0-.976l.918-.202a1.75 1.75 0 0 0 1.334-1.334z"}),(0,o.jsx)("path",{d:"M8.875 2.625a6.25 6.25 0 1 0 3.955 11.09l3.983 3.982a.625.625 0 1 0 .884-.884l-3.983-3.982a6.25 6.25 0 0 0-4.84-10.205m-5 6.25a5 5 0 1 1 10 0 5 5 0 0 1-10 0"})]})},i=(0,n(680369).wt)("sparkleMagnifyingGlass",a)},471399:(e,t,n)=>{n.d(t,{A:()=>y,i:()=>v});n(242343);var o=()=>n(803290),a=()=>n(885237),i=()=>n(653998),s=()=>n(168907),r=()=>n(818369),l=()=>n(145046),d=()=>n(437071),u=()=>n(493065),c=()=>n(330358),g=()=>n(701270),p=()=>n(309461),m=n(163643);async function v(e){let{locale:t,environment:n,origin:o}=e;s().wG(n,{locale:t,origin:o});const i=await r().callApi({eventName:"setlocale",environment:n,data:{locale:t}});"success"===i.type?(a().A.set("preferredLocale",t),await u().transactionQueue.drain(),n.device.isElectron?d().refreshAll({includeFocusedWindow:!0}):window.location.reload(!0)):l().Qg(i)}const y=function(e){const t=(0,n(237385).v3)(),a=(0,n(640979).Tf)(),{device:s,WindowSizeStore:r}=t,l=(0,o().K8)((()=>r.state.paddingLeftCSS),[r]),d=(0,o().K8)((()=>r.state.paddingRightCSS),[r]),u=(0,o().K8)((()=>c().A.state.highlightedSetting===c().r.LanguageSetting),[]),y=(0,n(576957).H)(s.isMobile,a),b=(0,n(174114).IS)((e=>({container:{display:"flex",flexDirection:"column",alignItems:"flex-start",width:"auto",height:"auto",paddingLeft:s.isMobile?l:0,paddingRight:s.isMobile?d:0,...u?{backgroundColor:e.buttonHoveredBackground,marginLeft:-1*(0,p().AL)(s.isMobile),marginRight:-1*(0,p().AL)(s.isMobile),paddingLeft:(0,p().AL)(s.isMobile),paddingRight:(0,p().AL)(s.isMobile),marginTop:-1*y,marginBottom:y+5,paddingTop:y/2,paddingBottom:y/2}:{}}})),[s.isMobile,y,l,d,u]);return(0,m.jsx)("div",{style:b.container,children:(0,m.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",width:"100%"},children:[(0,m.jsxs)(n(421338).Y1,{direction:"vertical",gap:6,children:[(0,m.jsx)(g().D,{id:"languageRegionSettings.language.label",styleName:"UIRegular-14px/Regular",colorName:"primary",children:(0,m.jsx)(i().sA,{id:"languageRegionSettings.language.label",defaultMessage:"Language"})}),(0,m.jsx)(g().D,{id:"languageSettings.languageSwitcher.subtitle",styleName:"UIMedium-13px/Regular",colorName:"secondary",children:(0,m.jsx)(i().sA,{id:"languageSettings.languageSwitcher.subtitle",defaultMessage:"Change the language used in the user interface."})})]}),(0,m.jsx)(n(693642).A,{confirm:!0,onChange:e=>v({locale:e,environment:t,origin:"languageSettings"}),currentLocale:e.locale,origin:"languageSettings"})]})})}},473096:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(242343),a=()=>n(174114),i=()=>n(162339),s=()=>n(966789),r=n(163643);function l(e){let{loadingMessage:t}=e;const n=(0,a().DP)(),l=(0,i().A)(!0,400);return(0,r.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:l&&(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(s().A,{}),t&&(0,r.jsx)("div",{style:{marginLeft:8,color:n.text.secondary},children:t})]})})}},486917:(e,t,n)=>{n.d(t,{q:()=>a});n(242343);var o=n(163643);const a=(0,n(680369).wt)("androidLogo",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M14 6c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1zM2 6c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1zm1.5 5.5A1.5 1.5 0 005 13v2c0 .55.45 1 1 1s1-.45 1-1v-2h2v2c0 .55.45 1 1 1s1-.45 1-1v-2a1.5 1.5 0 001.5-1.5V6h-9v5.5zM12.472 5a4.5 4.5 0 00-2.025-3.276l.5-1.001a.5.5 0 00-.895-.447L9.55 1.28l-.13-.052a4.504 4.504 0 00-2.84 0l-.13.052L5.948.276a.5.5 0 00-.895.447l.5 1.001A4.499 4.499 0 003.528 5v.5H12.5V5h-.028zM6.5 4a.5.5 0 01-.001-1h.002A.5.5 0 016.5 4zm3 0a.5.5 0 01-.001-1h.003a.5.5 0 01-.001 1z"})})},496984:(e,t,n)=>{n.d(t,{Y:()=>a});var o=()=>n(174114);function a(){return(0,o().IS)((e=>({bulletList:{paddingInlineStart:0,marginBlock:"0px 0px",listStyleType:"none"},bulletItem:{display:"flex",minHeight:24,alignItems:"center"},bulletItemContent:{display:"flex",gap:4},bulletItemContentMultiLineExtra:{paddingTop:4,paddingBottom:4},bulletItemCheckmarkContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},bulletItemCheckmarkContainerMultiLineExtra:{alignItems:"flex-start",paddingTop:2,justifyContent:void 0},bulletItemCheckmark:{width:12,height:12,color:e.icon.secondary},coloredRow:{display:"flex",flexDirection:"row",gap:12,backgroundColor:e.surface.wash,borderRadius:2},column:{width:"100%",minWidth:150,paddingTop:10,paddingBottom:12},featureDetailsStyle:{paddingTop:12},gridSectionTitle:{paddingLeft:12},gridSection:{display:"flex",flexDirection:"column",gap:42},row:{display:"flex",flexDirection:"row",gap:12},tooltip:{width:156},tooltipWithImageExtra:{paddingLeft:8,paddingRight:8,paddingTop:8,paddingBottom:6},lastRow:{borderBottom:`1px solid ${e.stroke.secondary}`},sidebar:{width:"100%",paddingTop:12,paddingBottom:12,maxWidth:118},titleSection:{paddingLeft:12}})),[])}},536190:(e,t,n)=>{n.d(t,{JM:()=>U,Oi:()=>K,yN:()=>q});var o=n(242343),a=()=>n(16791),i=()=>n(237385),s=()=>n(803290),r=()=>n(174114),l=()=>n(377963),d=()=>n(855470),u=()=>n(747663),c=()=>n(758611),g=()=>n(132793),p=()=>n(653998),m=()=>n(23371),v=()=>n(31448),y=()=>n(865226),b=()=>n(281030),f=()=>n(876669),h=()=>n(473096),x=()=>n(615917),S=()=>n(209684),j=()=>n(668261),A=()=>n(951540),C=()=>n(142708),w=()=>n(463344),k=()=>n(693642),I=()=>n(471399),M=()=>n(61962),T=()=>n(983050),_=()=>n(307542),P=()=>n(190094),B=()=>n(907721),N=()=>n(98508),R=()=>n(485966),z=()=>n(836331),O=()=>n(929324),D=()=>n(13614),W=()=>n(329979),E=()=>n(672154),L=n(163643);const q=[],F={profile:T().PvQ,mobile_profile:T().PvQ,team_onboarding_persona_survey:T().oCP,mobile_team_onboarding_persona_survey:T().oCP,onboarding_workspace_choose:T().yuM,mobile_onboarding_workspace_choose:T().yuM,onboarding_plan_type_choose:T().fM9,mobile_onboarding_plan_type_choose:T().fM9,team_onboarding_workspace_create:T().bry,mobile_team_onboarding_workspace_create:T().bry,team_onboarding_invite:T().kXO,mobile_team_onboarding_invite:T().kXO,team_onboarding_timed_trial_offer:T().myD,team_onboarding_timed_trial_checkout:T().myD,onboarding_collaborative_intent_choose:T().DJ9,mobile_onboarding_collaborative_intent_choose:T().DJ9};function U(){var e,t,n;const u=(0,i().v3)();(0,o.useEffect)((()=>{const{currentUserStore:e}=R().default.state,t=g().Td();g().Ti();const n=null==e?void 0:e.getOnboardingCompleted(),o=null==e?void 0:e.getMobileOnboardingCompleted();t&&(!u.device.isMobile&&n||u.device.isMobile&&o)?y().oo({environment:u,url:c().JZ.root,redirect:!0}):u.device.isMobileNative&&z().default.checkGate({gateName:"mobile_skip_onboarding_timeout"})||(0,m().wR)(3e3).then((()=>{"undefined"===E().A.getState().flowName&&y().oo({environment:u,url:c().JZ.root,redirect:!0})}))}),[u]),(0,o.useEffect)((()=>{var e;null===(e=u.mobileNative)||void 0===e||e.markTransitionReady({environment:u,type:"onboarding"})}),[u]);const x=(0,s().K8)((()=>E().A.state),[]),j=(0,s().K8)((()=>(0,W().getStageName)({flowName:x.flowName,stageIndex:x.currentStageIndex,environment:u})),[x,u]),A=D().contextualizedOnboardingStageByStageName[j],C=(0,s().K8)((()=>null==A?void 0:A.renderStage(x)),[A,x]),T=(0,s().K8)((()=>{var e;return null==A||null===(e=A.renderRightContent)||void 0===e?void 0:e.call(A,x)}),[A,x]),_=q.includes(x.flowName),P=(0,s().K8)((()=>0===x.currentStageIndex||!(null!=A&&A.isBackEnabled(x,u))),[x,u,A]),N=(0,s().K8)((()=>{var e;return(null==A||null===(e=A.shouldHideDesktopBottomContent)||void 0===e?void 0:e.call(A,x))??!1}),[A,x]),U=function(e,t,n,o,a,i){return(0,r().IS)((s=>({errorPage:{width:"100vw",height:"100%",position:"relative",display:"flex",flex:1,background:s.contentBackground},container:{background:s.surface.wash,height:"100%",width:"100%",overflowX:"scroll"},topBar:{top:a?36:18,left:a?0:18,display:"flex",alignItems:"center",position:"absolute",zIndex:2,justifyContent:"space-between",width:"100%"},topBarLeft:{display:"flex",alignItems:"center",gap:12},previousStageButton:{height:36,width:36,display:"flex",alignItems:"center",verticalAlign:"middle",color:n?s.icon.tertiary:s.icon.secondary,borderRadius:"50%",cursor:n?"not-allowed":"pointer"},stageContainer:{display:"flex",flexDirection:"row",height:"100%",minHeight:"800px",alignItems:"center",justifyContent:"center",paddingBottom:32},leftContentContainer:{width:t?"50%":"100%",display:"flex",alignItems:"center",justifyContent:"center"},leftContent:{paddingLeft:t?64:0,display:"flex",flexDirection:"column",alignItems:o===B().C.Center?"center":o===B().C.Start?"flex-start":"flex-end"},assistantFace:{borderRadius:"100%",width:(0,b().N)("medium"),boxShadow:s.shadowSM,marginBottom:14},header:{display:"flex",flexDirection:"column",fontWeight:v().Wy.regular,marginLeft:void 0,marginRight:void 0,textAlign:"left",width:406,...o===B().C.Center&&!t&&{width:void 0,textAlign:"center"}},subtitle:{color:s.text.tertiary,fontWeight:v().Wy.medium,fontSize:22,...e&&{fontSize:14,color:s.text.secondary,fontWeight:v().Wy.regular,letterSpacing:-.15,marginTop:6}},contentAboveContinue:{alignSelf:"center"},contentUnderContinue:{alignSelf:"center"},skipButton:{marginTop:12,display:"flex",alignItems:"center",justifyContent:"center"},rightContentContainer:{width:"50%",display:"flex",alignItems:"center",justifyContent:"center"},footer:{position:"absolute",left:"50%",bottom:48,transform:"translateX(-50%)",textAlign:"center",width:"auto"},bottomContent:{display:"flex",flexDirection:"column",transition:"opacity 0.5s",opacity:i?0:1,width:"100%",alignItems:"center",...i&&{pointerEvents:"none"}}})),[e,t,n,o,a,i])}(_,Boolean(T),P,(null==A?void 0:A.alignment)??B().C.Start,u.device.isElectron,N),K=(0,s().K8)((()=>{var e;return null==A||null===(e=A.shouldShowSkipButton)||void 0===e?void 0:e.call(A,x,u)}),[A,x,u]),J=(0,s().K8)((()=>(null==A?void 0:A.shouldShowDesktopSkipButtonInTopBar)??!1),[A]),$=(0,s().K8)((()=>(0,W().getStages)({flowName:x.flowName,environment:u})),[x,u]),Y=x.currentStageIndex===$.length-1,Z=(0,s().K8)((()=>null==A?void 0:A.getTitle(x,u)),[A,x,u]),X=(0,s().K8)((()=>{var e;return null==A||null===(e=A.getSubTitle)||void 0===e?void 0:e.call(A,x,u)}),[A,u,x]),ee=(0,s().K8)((()=>{var e;return null==A||null===(e=A.renderContentAboveContinueButton)||void 0===e?void 0:e.call(A,x,u)}),[A,x,u]);if("undefined"===x.flowName)return(0,L.jsx)(h().A,{loadingMessage:(0,L.jsx)(p().sA,{defaultMessage:"Getting set up...",id:"onboarding.loadingMessage"})});if(x.isInvalidRedirect){const{onboardingData:e}=x;return(0,L.jsx)(w().A,{style:U.errorPage,children:(0,L.jsx)(M().o,{route:{name:"onboarding"},publicPageData:{pageId:null==e?void 0:e.redirectPageId,spaceId:null==e?void 0:e.redirectSpaceId,spaceName:null==e?void 0:e.redirectSpaceName,publicAccessRole:"none",canRequestAccess:null==e?void 0:e.canRequestAccessToRedirectPage}})})}if(!A)return null;if(u.device.isMobile)return(0,L.jsx)(Q,{onboardingState:x,isBackDisabled:P,title:Z,subtitle:X,currentStage:A,onLastStage:Y});const te=!u.device.isMobile&&"education_flow"!==x.flowName&&x.isFirstTimeOnboarding,ne="performance_marketing_term_onboarding"===x.flowName,oe=F[j];return(0,L.jsxs)("div",{style:U.container,className:oe,children:[(0,L.jsx)(G,{}),(0,L.jsxs)("div",{style:U.topBar,children:[(0,L.jsxs)("div",{style:U.topBarLeft,children:[(0,L.jsx)(S().p,{disabled:P,style:U.previousStageButton,onClick:()=>{var e,t;null!==(e=A.shouldDisableDefaultOnBack)&&void 0!==e&&e.call(A,u,x)?null===(t=A.onBack)||void 0===t||t.call(A,u,x):(0,O().handleDesktopBackButtonClick)({environment:u,currentStage:A,onboardingState:x})},children:(0,l().I)({height:16})}),te&&(0,L.jsx)(k().A,{confirm:!0,onChange:e=>(0,I().i)({locale:e,environment:u,origin:j}),origin:j,currentLocale:a().locale})]}),K&&J&&(0,L.jsxs)(S().p,{style:{...U.skipButton,marginTop:0,marginRight:36},isGray:!0,onClick:async()=>await(0,O().skipStage)({environment:u,currentStage:A,onboardingState:x}),children:[(0,L.jsx)(p().sA,{defaultMessage:"Skip",id:"contextualizedOnboarding.skipButton.label"}),(0,d().V)({height:12,width:12,marginLeft:4})]})]}),(0,L.jsxs)("div",{style:{...U.stageContainer,...A.stageStyles},children:[(0,L.jsx)("div",{style:U.leftContentContainer,children:(0,L.jsxs)("div",{style:U.leftContent,children:[_&&(0,L.jsx)("div",{style:U.assistantFace,children:(0,L.jsx)(f().w,{sizeVariant:"medium"})}),(0,L.jsx)(H,{title:Z,subtitle:X,headerStyles:{...U.header,...A.headerStyles,paddingBottom:ne?0:32},subtitleStyles:U.subtitle}),C,(0,L.jsxs)("div",{style:U.bottomContent,children:[(0,L.jsx)("div",{style:U.contentAboveContinue,children:ee}),(null===(e=A.getDesktopContinueButtonOverride)||void 0===e?void 0:e.call(A))??(0,L.jsx)(V,{currentStage:A,onLastStage:Y}),(0,L.jsx)("div",{style:U.contentUnderContinue,children:null===(t=A.renderContentUnderContinueButton)||void 0===t?void 0:t.call(A,x,u)}),K&&(0,L.jsx)(S().p,{style:{...U.skipButton,...A.skipButtonStyles},isGray:!0,onClick:async()=>await(0,O().skipStage)({environment:u,currentStage:A,onboardingState:x}),children:(0,L.jsx)(p().sA,{defaultMessage:"Skip",id:"contextualizedOnboarding.skipButton.label"})})]},A.stageName)]})}),T&&(0,L.jsx)("div",{style:U.rightContentContainer,children:T})]}),(0,L.jsx)("div",{style:{...U.footer,...A.footerStyles},children:null===(n=A.renderFooter)||void 0===n?void 0:n.call(A,x,u)})]})}function H(e){let{title:t,subtitle:n,headerStyles:o,subtitleStyles:i}=e;const s=(0,r().IS)((e=>({header:{position:"relative",textAlign:"center",paddingTop:0,paddingBottom:32,marginLeft:"auto",marginRight:"auto",maxWidth:520},title:{fontWeight:v().Wy.semibold,fontFamily:v().xf({locale:a().locale}),lineHeight:1.3,color:e.text.primary,fontSize:22,letterSpacing:-.26},subtitle:{fontSize:18,lineHeight:1.3,paddingTop:2,color:e.text.secondary,fontWeight:v().Wy.regular}})),[]);return(0,L.jsx)("div",{style:{...s.header,...o},children:(0,L.jsxs)("div",{children:[(0,L.jsx)("div",{style:s.title,children:t}),n&&(0,L.jsx)("div",{style:{...s.subtitle,...i},children:n})]})})}function V(e){let{currentStage:t,onLastStage:n}=e;const o=(0,i().v3)(),a=(0,s().K8)((()=>E().A.state),[]),l=(0,r().DP)(),d=(0,s().K8)((()=>{var e;return null===(e=t.getContinueButtonStyles)||void 0===e?void 0:e.call(t,l)}),[t,l]),u=(0,r().IS)((e=>({continueButton:{marginTop:128,width:406,height:36,borderRadius:6,fontSize:14,fontWeight:v().Wy.semibold,color:e.text.contrastPrimary,...d}})),[d]),c=(0,s().K8)((()=>{var e;return null==t||null===(e=t.getContinueButtonLabel)||void 0===e?void 0:e.call(t,a)}),[t,a]),g=(0,s().K8)((()=>t.isContinueEnabled(a,o)),[t,a,o]);return(0,L.jsx)(A().A,{style:{...u.continueButton},size:"lg",disabled:!g,onClick:async()=>await(0,O().goToNextStage)({environment:o,onboardingState:a}),children:c??(n?(0,L.jsx)(p().sA,{defaultMessage:"Finish",id:"contextualizedOnboarding.finishButton.label"}):(0,L.jsx)(p().sA,{defaultMessage:"Continue",id:"contextualizedOnboarding.continueButton.label"}))})}function K(){return(0,r().IS)((e=>({title:{fontSize:22,fontFamily:v().xf({locale:a().locale}),textAlign:"left",marginBottom:24,lineHeight:1.28,fontWeight:590},subtitle:{fontWeight:"normal",fontSize:16,color:e.text.secondary,paddingRight:16,wordBreak:"break-word",textAlign:"left",marginBottom:12,lineHeight:1.28,paddingLeft:0},title2:{fontFamily:v().xf({locale:a().locale}),color:e.text.primary,fontSize:22,fontWeight:590,textAlign:"left",lineHeight:1.28},subtitle2:{color:e.text.primary,fontSize:17,fontWeight:"normal",textAlign:"left",lineHeight:1.28,marginTop:8,wordBreak:"break-word"},mobileWrapStyle:{maxWidth:360,fontSize:16,marginLeft:"auto",marginRight:"auto",paddingBottom:32},continueButton:{marginTop:8,width:"100%",height:48,borderRadius:12,fontSize:17,fontWeight:v().Wy.semibold,color:e.text.contrastPrimary}})),[])}function Q(e){var t,n;let{onboardingState:a,isBackDisabled:d,title:c,subtitle:g,currentStage:m,onLastStage:v}=e;const y=(0,r().DP)(),b=(0,i().v3)(),{device:f,WindowSizeStore:h}=b,x=(0,s().K8)((()=>h.state.height),[h]),w=(0,s().K8)((()=>"control"!==(0,_().DV)({environment:b})),[b]),k=K(),I=(0,s().K8)((()=>window.innerHeight<u().M&&f.isMobile),[f.isMobile]),M=(0,P().o_)(),T=(0,o.useRef)(null),B=(0,o.useCallback)((()=>{const e=T.current;if(e){const t=e.getNode();t&&t.scrollTo({top:M})}}),[M]);(0,o.useEffect)((()=>{B()}),[B]);const R=(0,s().K8)((()=>function(e,t,n,o){const{WindowSizeStore:a}=e;return{width:"100%",height:o,paddingTop:n?a.getSafePaddingTopCSS(0):a.getSafePaddingTopCSS(24),paddingLeft:a.getSafePaddingLeftCSS(16),paddingRight:a.getSafePaddingRightCSS(16),paddingBottom:a.getSafePaddingBottomCSS(64),background:t.surface.wash}}(b,y,w,x-(M>100?M:0))),[b,y,x,M,w]),z=(0,s().K8)((()=>function(e,t){return{display:"inline-block",textAlign:"center",width:`calc(100vw - ${t.getSafePaddingLeftCSS(16)} - ${t.getSafePaddingRightCSS(16)})`,maxWidth:360,margin:"0 auto",background:e.surface.wash}}(y,h)),[y,h]),D=(0,s().K8)((()=>m.renderStage(a)),[m,a]),W=(0,s().K8)((()=>{var e;return null===(e=m.renderContentAboveContinueButton)||void 0===e?void 0:e.call(m,a,b)}),[m,a,b]),E=(0,s().K8)((()=>{var e;return null===(e=m.renderContentUnderContinueButton)||void 0===e?void 0:e.call(m,a,b)}),[m,a,b]),q=(0,s().K8)((()=>{var e;return null===(e=m.shouldHideMobileBottomContent)||void 0===e?void 0:e.call(m,a)}),[m,a]),F=(0,s().K8)((()=>m.isContinueEnabled(a,b)),[m,a,b]),U=(0,s().K8)((()=>{var e;return null===(e=m.shouldShowSkipButton)||void 0===e?void 0:e.call(m,a,b)}),[m,a,b]),H=(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,L.jsx)(S().p,{disabled:"mobile_team_onboarding_invite"===m.stageName,style:{borderRadius:"100%",height:36,width:36,background:y.tint.regular,display:"flex",alignItems:"center",verticalAlign:"middle",marginBottom:16},onClick:async()=>await(0,O().handleMobileBackButtonClick)({isBackDisabled:d,environment:b,currentStage:m,onboardingState:a}),children:(0,l().I)({height:16,color:d?y.icon.tertiary:y.icon.secondary})}),U&&(0,L.jsx)(S().p,{isGray:!0,onClick:async()=>await(0,O().skipStage)({environment:b,currentStage:m,onboardingState:a}),children:(0,L.jsx)(p().sA,{defaultMessage:"Skip",id:"contextualizedOnboarding.skipButton.label"})})]}),(0,L.jsxs)("div",{style:k.mobileWrapStyle,children:[(0,L.jsx)(G,{}),w?(0,L.jsxs)("div",{style:{paddingTop:12},children:[(0,L.jsx)("div",{style:k.title2,children:c}),g&&(0,L.jsx)("div",{style:k.subtitle2,children:g})]}):(0,L.jsxs)("div",{children:[g&&(0,L.jsx)("div",{style:{...k.subtitle,...m.headerStyles},children:g}),(0,L.jsx)("div",{style:{...k.title,...I&&{fontSize:28,marginBottom:16},...m.headerStyles},children:c})]}),D]})]});return(0,L.jsxs)(j().k,{debugName:"ContextualizedOnboardingMobileScroller",enable:!0,shortcuts:{backbutton:()=>{(0,O().handleMobileBackButtonClick)({isBackDisabled:d,environment:b,currentStage:m,onboardingState:a})}},children:[m.shouldHideScroller?(0,L.jsx)("div",{style:R,children:H}):(0,L.jsx)(C().H,{type:N().A.Y,style:R,ref:T,children:H}),(0,L.jsx)("div",{style:{transition:"opacity 0.5s",opacity:q?0:1,...q&&{pointerEvents:"none"}},children:(0,L.jsx)("div",{style:{position:"absolute",bottom:0,paddingBottom:M+8,width:"100%",boxShadow:`0px -20px 20px 20px ${y.surface.wash}`,background:y.surface.wash},children:(0,L.jsx)("div",{style:{display:"inline-block",textAlign:"center",width:"100%",margin:"0 auto",background:y.surface.wash,...m.footerStyles},children:(0,L.jsxs)("div",{style:z,children:[W,(null===(t=m.getMobileContinueButtonOverride)||void 0===t?void 0:t.call(m))??(0,L.jsx)(A().A,{style:k.continueButton,size:"lg",onClick:async()=>await(0,O().goToNextStage)({environment:b,onboardingState:a}),disabled:!F,children:(null===(n=m.getContinueButtonLabel)||void 0===n?void 0:n.call(m,a))??w?v?(0,L.jsx)(p().sA,{defaultMessage:"Get started",id:"contextualizedOnboarding.getStartedButton.label"}):(0,L.jsx)(p().sA,{defaultMessage:"Next",id:"contextualizedOnboarding.nextButton.label"}):v?(0,L.jsx)(p().sA,{defaultMessage:"Finish",id:"contextualizedOnboarding.finishButton.label"}):(0,L.jsx)(p().sA,{defaultMessage:"Continue",id:"contextualizedOnboarding.continueButton.label"})}),E]})})})})]})}function G(){const e=(0,i().v3)(),t=e.device.isMobile,n=(0,s().K8)((()=>E().A.state),[]),o=(0,s().K8)((()=>(0,W().shouldShowProgressIndicatorOnStage)(n,e)&&"on"===z().default.getEligibleGroup({experimentId:"onboarding_split_team_survey",defaultGroup:"control",disableExposureLogging:!0})),[e,n]),a=(0,s().K8)((()=>(0,W().getOnboardingProgressPercentage)(n,e)),[n,e]),l=(0,r().IS)((e=>({progressBarOuter:{width:"100%",height:4,background:e.tint.regular,borderRadius:100,...t?{marginBottom:24}:{top:0,left:0,position:"absolute"}},progressBarFilled:{width:`${a}%`,height:4,background:e.text.primary,borderRadius:100,transition:"width 0.5s",...!t&&{top:0,left:0,position:"absolute"}}})),[t,a]);return o?(0,L.jsx)(x().A,{initial:{opacity:0},animate:{opacity:1},config:{duration:400,timingFunction:"ease-in"},style:{zIndex:4},children:(0,L.jsx)("div",{style:l.progressBarOuter,children:(0,L.jsx)("div",{style:l.progressBarFilled})})}):null}},541750:(e,t,n)=>{n.d(t,{P:()=>m});var o=n(242343),a=()=>n(237385),i=()=>n(174114),s=()=>n(653998),r=()=>n(421338),l=()=>n(701270),d=()=>n(289151),u=()=>n(137476),c=()=>n(392608),g=()=>n(231786),p=n(163643);function m(e){let{message:t,isChecked:n,onChange:m,error:v}=e;const y=(0,s().tz)(),b=(0,i().IS)((e=>({termsContainer:{display:"flex",flexDirection:"column",gap:8,paddingTop:16,borderTop:`1px solid ${e.stroke.primary}`}})),[]),f=(0,a().v3)(),h=o.useRef(null);return o.useEffect((()=>{v&&h.current&&h.current.scrollIntoView({behavior:"smooth",block:"center"})}),[v]),(0,p.jsx)("div",{ref:h,style:b.termsContainer,children:(0,p.jsxs)(r().Y1,{direction:"horizontal",align:"top-left",gap:8,children:[(0,p.jsx)(d().T,{size:14,checked:n,onClick:()=>{(0,u().u4)({environment:f,event:{eventName:"click_subscription_terms_checkbox",eventProperties:{checked:!n}}}),m(!n)},id:"terms",style:{margin:1},"aria-required":!0}),(0,p.jsxs)(r().Y1,{direction:"vertical",gap:8,children:[(0,p.jsxs)(l().D,{styleName:"UISmall-12px/Regular",colorName:"primary",as:"label",htmlFor:"terms",children:[t,(0,p.jsx)("div",{style:{display:"inline-block",position:"absolute",paddingLeft:1},children:(0,p.jsx)(g().W,{tooltipTitle:y.formatMessage({id:"onboardingTimedTrials.termsOfService.tooltip",defaultMessage:"Read full terms and conditions"}),buttonProps:{href:(0,c().xS)("terms"),external:!0}})})]}),v?(0,p.jsx)(l().D,{styleName:"UISmall-12px/Regular",colorName:"uiRedPrimary",children:v}):null]})]})})}},543847:(e,t,n)=>{n.d(t,{U:()=>i});n(242343);var o=n(163643);const a={viewBox:"0 0 20 20",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M10.302 1.853a.63.63 0 0 0-.604 0l-6.65 3.669c-.2.11-.323.32-.323.547v7.862c0 .228.124.437.323.547l6.65 3.67a.63.63 0 0 0 .604 0l2.8-1.546a4.6 4.6 0 0 1-.712-1.034l-1.765.973v-6.434l5.4-2.98v1.797a4.7 4.7 0 0 1 1.25.04V6.07a.63.63 0 0 0-.323-.547zM3.975 7.127l5.4 2.98v6.434l-5.4-2.98zM15.356 6.07 10 9.024 4.644 6.069 10 3.114z"}),(0,o.jsx)("path",{d:"M13.592 15.449a3.5 3.5 0 1 1 5.816-3.897 3.5 3.5 0 0 1-5.816 3.897M16.5 11.03a.5.5 0 0 0-.5.5v2.031a.5.5 0 1 0 1 0v-2.03a.5.5 0 0 0-.5-.5m0 5a.625.625 0 1 0 0-1.25.625.625 0 0 0 0 1.25"})]})},i=(0,n(680369).wt)("blockLimit",a)},614893:(e,t,n)=>{n.d(t,{H:()=>i});var o=()=>n(237385),a=()=>n(803290);function i(e){const{billingInterval:t,priceStore:n,products:i}=e,s=(0,o().v3)();return(0,a().K8)((()=>{const e={};for(const o of i)e[o]=n.getPrice(s,(e=>e.product===o&&e.billingInterval===t));return e}),[t,s,n,i])}},620945:(e,t,n)=>{n.r(t),n.d(t,{getPreviousStageIndex:()=>l,shouldSkipCurrentStage:()=>r});var o=()=>n(502140),a=()=>n(13614),i=()=>n(672154),s=()=>n(329979);async function r(e){let{flowName:t,stageIndex:n,environment:r}=e;const l=(0,s().getStageName)({flowName:t,stageIndex:n,environment:r}),d=a().contextualizedOnboardingStageByStageName[l];return d||o().log({level:"error",from:"contextualizedOnboardingStageHelpers",type:"shouldSkipCurrentStage",data:{miscDataToConvertToString:{flowName:t,stageIndex:n,stageName:l}}}),await d.shouldSkip(i().A.state,r)}async function l(e){let{flowName:t,stageIndex:n,environment:o}=e,a=n-1;for(;a>=0&&await r({flowName:t,stageIndex:a,environment:o});)a--;return a}},693642:(e,t,n)=>{n.d(t,{A:()=>v});n(403517),n(242343);var o=()=>n(803290),a=()=>n(174114),i=()=>n(994682),s=()=>n(653998),r=()=>n(577860),l=()=>n(145046),d=()=>n(755769),u=()=>n(535906),c=()=>n(273520),g=()=>n(858023),p=()=>n(678523),m=n(163643);const v=function(e){let{currentLocale:t,pickerLabel:i,confirm:u,onChange:v,origin:f,showGlobeIcon:h}=e;const x=(0,a().DP)(),S=(0,n(237385).v3)(),j=(0,s().tz)(),A=(0,o().uB)(void 0,n(962373).A),{device:C}=S,w=(0,o().K8)((()=>"ja-JP"===t),[t]),k=(0,n(622286).X)("polyglot");if(C.isMobile)return null;const I=i||y(t,j).label;return(0,m.jsx)(c().Ay,{onClick:()=>{n(168907).Kn(S,{origin:f})},popupType:c().z7.Popup,buttonPopupStore:A,renderOrigin:e=>(0,m.jsxs)(n(209684).p,{"aria-label":j.formatMessage({id:"languagePicker.ariaLabel",defaultMessage:"Language: {language}"},{language:I}),style:{marginLeft:-8,paddingLeft:8,paddingRight:8,display:"flex",alignItems:"center",...h&&{color:x.icon.secondary}},...e,children:[h&&(0,n(279968).h)({width:16,height:16,fill:x.icon.secondary,marginRight:4}),I,(0,r().Hx)(t)&&!w&&(0,m.jsx)(p().A,{desktopStyle:{marginLeft:4},children:(0,m.jsx)(s().sA,{id:"languagePicker.betaBadge",defaultMessage:"Beta"})}),(0,n(198654).b)({width:10,marginLeft:4,fill:h?x.icon.secondary:x.lightIconColor})]}),placementToOrigin:d().UV.Bottom,alignmentToOrigin:d().MY.Start,render:e=>{let o;o=k?[...r().fy,...r().Tf]:[...r().fy];const a=[{key:"languages",render:e=>(0,m.jsx)(n(88271).A,{...e,topBorder:0!==e.index}),items:o.map((n=>{const o={key:n,render:e=>function(e,t,n,o){const{label:a,caption:i}=y(e,o);return(0,m.jsx)(b,{label:a,caption:i,focused:t,props:n,locale:e})}(n,e.focused,e,j),action:()=>{!function(e,t,n,o,a){t!==e&&function(e,t,n,o){const{label:a}=y(e,t);if(n){const t=()=>{o(e)};l().ui({showCancel:!0,keepFocus:!1,message:(0,m.jsx)(s().sA,{id:"languagePicker.changeLanguage.confirmationMessage",defaultMessage:"Are you sure you want to update the language to {language}?",values:{language:a}}),items:[{label:(0,m.jsx)(s().sA,{id:"languagePicker.changeLanguage.updateButton.label",defaultMessage:"Update"}),color:"red",onAccept:t}]})}else o(e)}(e,n,o,a)}(n,t,j,u,v),e.close()}};return o}))}],i={menuType:n(640979).gu.Popup,width:240};return(0,m.jsx)(n(935091).A,{className:n(983050).jtA,...i,children:(0,m.jsx)(g().Ay,{type:g().Oh.Vertical,initialFocus:void 0,sections:a})})}})};function y(e,t){return(0,i().V)(t)[e]}function b(e){const{locale:t}=e,n=(0,a().DP)(),i=(0,o().K8)((()=>"ja-JP"===t),[t]);return(0,m.jsx)(u().A,{...e.props,title:(0,m.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,m.jsx)("div",{style:{...e.style,marginRight:0},children:e.label})}),caption:e.caption&&(0,m.jsx)("span",{style:{color:n.text.secondary},children:e.caption}),shouldWrapCaption:!0,right:(0,r().Hx)(e.locale)&&!i&&(0,m.jsx)(p().A,{children:(0,m.jsx)(s().sA,{id:"languagePicker.betaBadge",defaultMessage:"Beta"})})})}},711013:(e,t,n)=>{n.d(t,{q:()=>a});n(242343);const o={viewBox:"0 0 20 20",svg:(0,n(163643).jsx)("path",{d:"M13.125 4.25c0-.621.504-1.125 1.125-1.125h1.5c.621 0 1.125.504 1.125 1.125v11.5c0 .621-.504 1.125-1.125 1.125h-1.5a1.125 1.125 0 0 1-1.125-1.125zm1.25.125v11.25h1.25V4.375zm-6.25 6.375c0-.621.504-1.125 1.125-1.125h1.5c.621 0 1.125.504 1.125 1.125v5c0 .621-.504 1.125-1.125 1.125h-1.5a1.125 1.125 0 0 1-1.125-1.125zm1.25.125v4.75h1.25v-4.75zM4.25 5.625c-.621 0-1.125.504-1.125 1.125v9c0 .621.504 1.125 1.125 1.125h1.5c.621 0 1.125-.504 1.125-1.125v-9c0-.621-.504-1.125-1.125-1.125zm.125 10v-8.75h1.25v8.75z"})},a=(0,n(680369).wt)("chartBarXAxis",o)},713628:(e,t,n)=>{n.d(t,{_:()=>s});var o=()=>n(237385),a=()=>n(803290),i=()=>n(421650);function s(e){const{asyncPrice:t}=e,n=(0,o().v3)();return(0,a().K8)((()=>{if(t&&t.isLoaded&&t.result)return i().m4(n,{externalId:t.result.externalId}),t.result.getMonthlyUnitCost().toMoneyValue()}),[t,n])}},872289:(e,t,n)=>{n.d(t,{A:()=>B});var o=n(242343),a=()=>n(237385),i=()=>n(803290),s=()=>n(129044),r=()=>n(653998),l=()=>n(220413),d=()=>n(76394),u=()=>n(31448),c=()=>n(271120),g=()=>n(441288),p=()=>n(375567),m=()=>n(818369),v=()=>n(868325),y=()=>n(640979),b=()=>n(485966),f=()=>n(764227),h=()=>n(921637),x=()=>n(441292),S=()=>n(59175),j=()=>n(935091),A=()=>n(286404),C=()=>n(951540),w=n(163643);const k={marginBottom:10},I={...k,width:"100%",height:"100%",padding:10,alignItems:"top",borderRadius:0},M=(0,r().YK)({requestAccessMessagePlaceholder:{defaultMessage:"Message (optional)",id:"requestAccessForm.messageInput.placeholder"},rateLimitError:{defaultMessage:"You have recently requested access to this page.",id:"requestAccessForm.errorMessage.rateLimit"},currentUserNotFound:{defaultMessage:"Current user not found.",id:"requestAccessForm.errorMessage.currentUserNotFound"}});function T(){return(0,w.jsx)(r().sA,{defaultMessage:"Cancel",id:"requestAccessForm.cancelButton.label"})}const _=s().default.createClass(0,{name:"RequestAttemptStore"}),P=s().default.createClass(void 0,{name:"MessageStore"});const B=function(e){const t=(0,a().v3)(),s=(0,a().WS)(),l=(0,i().uB)(e.popupStore,n(962373).A),d=(0,i().uB)(void 0,P),g=(0,i().uB)(void 0,_),m=(0,o.useCallback)((()=>z(l)),[l]),v=(0,o.useCallback)((()=>(0,w.jsx)(D,{...e,requestAttemptStore:g,messageStore:d,buttonPopupStore:l})),[e,g,d,l]),y=(0,i().K8)((()=>g.state>0),[g]),b=(0,i().K8)((()=>l.state.open),[l]);if("current-actor-to-block"===e.type)return(0,w.jsx)(W,{type:"page",block:e.block,flowId:e.flowId,buttonType:e.buttonType});if("current-actor-to-collection"===e.type)return(0,w.jsx)(W,{type:"collection",collection:e.collection,flowId:e.flowId,buttonType:e.buttonType});const f="primary"===e.buttonType?C().A:A().A,h=s?(0,w.jsx)(n(443252).Ay,{popupType:n(466321).n.SlideUp,open:b,render:v}):(0,w.jsx)(n(922172).a,{open:b,onDismiss:m,render:v});return"current-actor-to-space-via-onboarding"===e.type?h:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(f,{size:"lg",disabled:y,onClick:()=>{var n,o;return function(e,t){const{environment:n,flowId:o,type:a,source:i,spaceId:s,pageId:r}=e;"trusted_domain_page"===i&&s&&p().w(n,{spaceId:s,pageId:r,joinSpaceMethod:"request_to_join"});"current-actor-to-block"===a?c().Xx(n,{button_name:"request-access",flow_id:o,request_access_type:"page"}):"current-actor-to-space-via-team"===a&&c().Xx(n,{button_name:"request-access",flow_id:o,request_access_type:"team"});t.setState({open:!0})}({environment:t,flowId:e.flowId,type:e.type,source:e.source,pageId:null===(n=e.block)||void 0===n?void 0:n.id,spaceId:null===(o=e.block)||void 0===o?void 0:o.spaceId},l)},style:"outline"===e.buttonType?{fontWeight:u().Wy.semibold}:{},children:y?(0,w.jsx)(r().sA,{id:"fullPageError.requestAccessButton.requested",defaultMessage:"Requested access"}):E(e.type)}),h]})};function N(e){let{result:t}=e;return t&&t.error?(0,w.jsx)("div",{style:{color:l().Ay.redWithAlpha(1),textAlign:"center",width:"100%",marginBottom:16},children:t.error}):null}function R(e){e.update((e=>e+1))}function z(e){return e.setState({open:!1})}function O(e){let{error:t,result:n,ready:s,requestAttemptStore:l,messageStore:d,type:c}=e;const g=(0,r().tz)(),p=(0,a().WS)(),m=(0,o.useCallback)((()=>R(l)),[l]),v=(0,o.useCallback)((e=>function(e,t){t.setState(e.target.value)}(e,d)),[d]),y=(0,i().K8)((()=>Boolean(0===l.state||s&&n&&n.error)),[l,s,n]),b=(0,i().K8)((()=>d.state||""),[d]);return(0,w.jsxs)(w.Fragment,{children:[!p&&(0,w.jsx)("div",{style:{fontSize:16,fontWeight:u().Wy.semibold,marginBottom:16},children:E(c)}),(0,w.jsx)(S().A,{format:p?S().C.Transparent:void 0,textarea:!0,value:b,onChange:v,disabled:!y,placeholder:g.formatMessage(M.requestAccessMessagePlaceholder),style:{...p?{...I,padding:"16px"}:{...k,marginBottom:16,padding:"8px 12px",alignItems:"flex-start"}}}),!p&&(0,w.jsx)(C().A,{size:"lg",disabled:!y,onClick:m,style:k,children:(0,w.jsx)(r().sA,{defaultMessage:"Send request",id:"requestAccessForm.sendRequestButton.label"})}),(0,w.jsx)(N,{result:n})]})}function D(e){const{requestAttemptStore:t,messageStore:n,buttonPopupStore:s}=e,l=(0,a().v3)(),u=(0,a().WS)(),c=(0,r().tz)(),p=(0,o.useCallback)(((o,a,i)=>(0,w.jsx)(O,{requestAttemptStore:t,messageStore:n,error:o,result:a,ready:i,type:e.type})),[t,n,e.type]),f=(0,i().K8)((()=>{var e;return null===(e=b().default.state.currentUserStore)||void 0===e?void 0:e.id}),[]),S=(0,o.useCallback)((t=>async function(e){const{messageStore:t,buttonPopupStore:n,type:o,teamId:a,requestAttempt:i,environment:s,currentUserId:r,intl:l,flowId:u}=e;if(0===i)return;const c=t.state,p=await async function(){if("current-actor-to-block"===o)return m().callApi({eventName:"requestAccess",environment:s,data:{type:"current-actor-to-block",block:e.block,message:c}});if("current-actor-to-collection"===o)return m().callApi({eventName:"requestAccess",environment:s,data:{type:"current-actor-to-collection",collection:e.collection,message:c}});if("current-actor-to-space-via-team"===o)return m().callApi({eventName:"requestAccess",environment:s,data:{type:"current-actor-to-space-via-team",teamId:a,message:c}});if("current-actor-to-space-via-block"===o){if(!r)return;return m().callApi({eventName:"requestAccess",environment:s,data:{type:"actor-to-space",spaceId:e.block.spaceId,message:c,forActorId:r,attributes:{add_permissions_on_approval:!1,origin_type:"trusted_domain_page"}}})}if("current-actor-to-space-via-onboarding"===o){if(!r)return;return m().callApi({eventName:"requestAccess",environment:s,data:{type:"actor-to-space",spaceId:e.spaceId,message:c,forActorId:r,attributes:{add_permissions_on_approval:!1,origin_type:"onboarding"}}})}}();return p?"success"!==p.type?"UserRateLimitResponse"===(null===(y=p.body)||void 0===y?void 0:y.name)?{error:l.formatMessage(M.rateLimitError)}:{error:(0,v().Hu)(l,p)}:("current-actor-to-block"===o?g().T_(s,{request_access_type:"page",flow_id:u,requestId:p.data.requestId}):"current-actor-to-space-via-team"===o?g().T_(s,{request_access_type:"team",flow_id:u}):"current-actor-to-space-via-block"===o?g().T_(s,{request_access_type:"space",flow_id:u,source:"trusted_domain_page"}):"current-actor-to-collection"===o?g().T_(s,{request_access_type:"collection",flow_id:u,requestId:p.data.requestId}):"current-actor-to-space-via-onboarding"===o?g().T_(s,{request_access_type:"space",flow_id:u,source:"onboarding"}):(0,d().HB)(o),n.reset(),{value:!0}):{error:l.formatMessage(M.currentUserNotFound)};var y}({...e,requestAttempt:t,environment:l,intl:c,currentUserId:f})),[l,c,e,f]),C=(0,o.useCallback)((()=>R(t)),[t]),k=(0,o.useCallback)((()=>z(s)),[s]),I=(0,i().O$)(t);return u?(0,w.jsx)(j().A,{menuType:y().gu.Modal,whiteBackground:!0,title:E(e.type),left:T(),onClickLeft:k,right:(0,w.jsx)(r().sA,{id:"requestAccessForm.mobileSend.label",defaultMessage:"Send"}),onClickRight:C,children:(0,w.jsx)(x().A,{debugName:"RequestAccessForm",capture:!0,children:(0,w.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"stretch",alignItems:"stretch",width:"100%",height:"100%"},children:(0,w.jsx)(h().A,{request:I,performRequest:S,render:p})})})}):(0,w.jsx)(x().A,{debugName:"RequestAccessForm",capture:!0,children:(0,w.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-evently",alignItems:"stretch",padding:"20px 28px 24px",width:"340px"},children:[(0,w.jsx)(h().A,{request:I,performRequest:S,render:p}),(0,w.jsx)(A().A,{size:"lg",onClick:k,children:T()})]})})}function W(e){const{type:t,flowId:n,buttonType:s}=e,l=(0,a().v3)(),u="outline"===s?A().A:C().A,[c,p]=(0,o.useState)(!1),[v,y]=(0,o.useState)(!1),b={attributes:{add_permissions_on_approval:!1,role:(0,i().K8)((()=>(0,f().dL)()),[])?"reader":"read_and_write"},message:void 0};let h;"page"===t?h={...b,type:"current-actor-to-block",block:{id:e.block.id,spaceId:e.block.spaceId}}:"collection"===t?h={...b,type:"current-actor-to-collection",collection:{id:e.collection.id,spaceId:e.collection.spaceId}}:(0,d().HB)(t);const x=(0,o.useCallback)((async()=>{var e;const o=await m().callApi({eventName:"requestAccess",environment:l,data:h});"success"===o.type&&o.data.request?(p(!0),g().T_(l,{request_access_type:t,previous_access_level:"none",requested_access_level:"read_and_write",flow_id:n,requestId:o.data.requestId})):"failed"===o.type&&"UserRateLimitResponse"===(null===(e=o.body)||void 0===e?void 0:e.name)&&y(!0)}),[l,h,t,n]);return(0,w.jsx)(u,{size:"lg",disabled:c||v,disabledFeedback:c||v,onClick:x,children:c?(0,w.jsx)(r().sA,{id:"fullPageError.requestAccessButton.edit.Requested",defaultMessage:"Requested access"}):v?(0,w.jsx)(r().sA,{id:"fullPageError.requestAccessButton.edit.TryAgain",defaultMessage:"Try again later"}):E("page"===t?"current-actor-to-block":"current-actor-to-collection")})}function E(e){return"current-actor-to-space-via-block"===e||"current-actor-to-space-via-onboarding"===e?(0,w.jsx)(r().sA,{defaultMessage:"Request membership",id:"requestAccessForm.requestAccessToSpaceButton.title"}):(0,w.jsx)(r().sA,{defaultMessage:"Request access",id:"requestAccessForm.requestAccessButton.title"})}},905467:(e,t,n)=>{n.d(t,{q:()=>b});var o=()=>n(353420),a=(o(),n(242343),()=>n(237385)),i=()=>n(269280),s=()=>n(803290),r=()=>n(653998),l=()=>n(421650),d=()=>n(421338),u=()=>n(517198),c=()=>n(485966),g=()=>n(172553),p=()=>n(847184),m=()=>n(76513),v=()=>n(506806),y=n(163643);function b(e){const{modalId:t,style:n}=e,d=(0,s().O$)(v().D),u=(0,a().v3)();(0,i().w)((()=>{v().D.setState(!0)}));const b={defaultValues:{billingDetails:(0,s().K8)((()=>{const e=c().default.state.currentUserStore;return{email:null==e?void 0:e.getEmail(),name:null==e?void 0:e.getName()}}),[])},terms:{card:"never"}};return(0,y.jsxs)(p().iy,{title:d?(0,y.jsx)(m().y,{labelOnly:!0}):(0,y.jsx)(r().sA,{id:"subscriptions.checkout.paymentMethod.title",defaultMessage:"Payment method"}),style:n,children:[d?(0,y.jsx)(f,{}):null,(0,y.jsx)(o().PaymentElement,{options:b,onChange:e=>{l().C3(u,{event:e,modal_id:t}),g().A.update((e=>{if(!e.open)return e;const{paymentData:t,...n}=e;return n}))},onReady:()=>v().D.setState(!1)})]})}function f(){return(0,y.jsxs)(d().Y1,{gap:12,children:[(0,y.jsxs)(d().Y1,{direction:"horizontal",gap:12,children:[(0,y.jsx)(u().A,{style:{width:"50%",height:60,borderRadius:6}}),(0,y.jsx)(u().A,{style:{width:"50%",height:60,borderRadius:6}})]}),(0,y.jsx)(m().y,{}),(0,y.jsx)(m().y,{}),(0,y.jsx)(m().y,{}),(0,y.jsx)(m().y,{})]})}},929324:(e,t,n)=>{n.r(t),n.d(t,{goToNextStage:()=>B,goToPreviousStage:()=>R,handleDesktopBackButtonClick:()=>z,handleMobileBackButtonClick:()=>O,initializeContextualizedOnboardingState:()=>_,maybeCompleteOnboardingAfterProfileStage:()=>W,memoizeAndTrackContextualizedOnboardingStageWithHistoricalContext:()=>P,restoreContextualizedOnboardingState:()=>T,skipStage:()=>N,updateRedirectDataFromInviteCode:()=>D});n(610931);var o=n.n(n(485359)),a=()=>n(204758),i=()=>n(329911),s=()=>n(528762),r=()=>n(12803),l=()=>n(132793),d=()=>n(885237),u=()=>n(704082),c=()=>n(403359),g=()=>n(818369),p=()=>n(477784),m=()=>n(362621),v=()=>n(672796),y=()=>n(721041),b=()=>n(695050),f=()=>n(461201),h=()=>n(482936),x=()=>n(485966),S=()=>n(413871),j=()=>n(203935),A=()=>n(332305),C=()=>n(13614),w=()=>n(652675),k=()=>n(329979),I=()=>n(620945),M=()=>n(672154);async function T(e){var t;let{environment:n}=e;const o=await f().of({environment:n,disableRedirects:!1}),a=!(0,m().R)(x().default.state.currentUserRootStore)||(0,f().up)(h().default.state),l=i().K.get({userId:null===(t=x().default.state.currentUserStore)||void 0===t?void 0:t.id,key:M().l});l&&"undefined"!==l.flowName&&!l.isInvalidRedirect&&(M().A.setState({...M().A.state,...l,onboardingData:o,joinableSpaces:f().md({onboardingData:o,isNewUserFlow:a})}),l.spaceId&&x().default.setState({...x().default.state,currentSpaceStore:new(S().SL)(n,{table:s().NX,id:l.spaceId})}),l.spaceViewId&&x().default.setState({...x().default.state,currentSpaceViewStore:new(S().vH)(n,{table:r().mu,id:l.spaceViewId})}))}async function _(e){let{environment:t,isInvalidRedirect:n,shouldShowMobileTutorialOnboarding:i,source:s}=e;if("undefined"!==M().A.state.flowName&&!M().A.state.isInvalidRedirect&&!n)return;const r=await f().of({environment:t,disableRedirects:!1}),d=!(0,m().R)(x().default.state.currentUserRootStore)||(0,f().up)(h().default.state),c=(0,w().getContextualizedOnboardingFlowName)(t,i),g=await v().shouldCreatePassword(t),p=y().A.isMicrosoftLogin()||y().A.isMicrosoftVerification(),b={...M().A.getInitialState(),onboardingData:r,emailOptIn:(0,a().eh)(r.countryCode).defaultOptIn,optInAutoJoin:!0,isInvalidRedirect:n,isFirstTimeOnboarding:d,joinableSpaces:f().md({onboardingData:r,isNewUserFlow:d}),performanceMarketingTerm:r.performanceMarketingTerm,isPasswordRequired:!p&&g&&!f().nV(),source:s};M().A.setState(b);let S=b.currentStageIndex;const C=(0,k().getStages)({flowName:c,environment:t});for(;S<C.length&&await(0,I().shouldSkipCurrentStage)({flowName:c,stageIndex:S,environment:t});)S++;M().A.setState({...M().A.state,currentStageIndex:S});const T=l().$m()??void 0;if("form_response_onboarding"===c)o()(T,"form response data is not found when setting store state"),M().A.setState({...M().A.state,flowName:c,formResponseId:T.formResponseId,secretKey:T.formSecretKey,formSpaceId:T.formSpaceId,formSpaceIntent:T.formSpaceIntent}),l().ip();else if("ai_onboarding_phase_2"===c){const e=l().r9()??void 0;M().A.setState({...M().A.state,flowName:c,aiPrompt:e?decodeURIComponent(e):void 0})}else M().A.setState({...M().A.state,flowName:c});if(S>=C.length)try{return await M().A.completeOnboarding(t,"create")}catch(_){(0,j().handleOnboardingError)(t,(0,u().A)(_))}A().onboardingFlowNameToFlowConfig[c].onStartFlow()}function P(e,t,n){const o=[...t.historicalStages||[],{stageName:(0,k().getStageName)({flowName:t.flowName,stageIndex:t.currentStageIndex,environment:e}),stageNumber:t.currentStageIndex,timestamp:Date.now()}];M().A.setState({...t,historicalStages:o.length>20?[{stageName:"truncated",stageNumber:-1,timestamp:Date.now()}]:o})}async function B(e){const{environment:t,onboardingState:n}=e;try{var o;c().H1(t,(0,k().getContextualizedOnboardingAnalyticsData)({onboardingState:n,environment:t}));const e=C().contextualizedOnboardingStageByStageName[(0,k().getStageName)({flowName:n.flowName,stageIndex:n.currentStageIndex,environment:t})];await(null==e||null===(o=e.onContinue)||void 0===o?void 0:o.call(e,t,n)),await M().A.goToNextStage(t);const a=M().A.state;P(t,a),c().Pz(t,(0,k().getContextualizedOnboardingAnalyticsData)({onboardingState:a,environment:t}))}catch(a){(0,j().handleOnboardingError)(t,(0,u().A)(a))}}async function N(e){const{environment:t,onboardingState:n}=e;c().IY(t,(0,k().getContextualizedOnboardingAnalyticsData)({onboardingState:n,environment:t})),await B(e)}async function R(e){const{environment:t,currentStage:n,onboardingState:o}=e;try{var a;c().H1(t,(0,k().getContextualizedOnboardingAnalyticsData)({onboardingState:o,environment:t}),!0),await(null===(a=n.onBack)||void 0===a?void 0:a.call(n,t,o)),await M().A.goToPreviousStage(t);const e=M().A.state;P(t,e),c().eN(t,(0,k().getContextualizedOnboardingAnalyticsData)({onboardingState:o,environment:t})),c().Pz(t,(0,k().getContextualizedOnboardingAnalyticsData)({onboardingState:e,environment:t}))}catch(i){(0,j().handleOnboardingError)(t,(0,u().A)(i))}}async function z(e){let{environment:t,currentStage:n,onboardingState:o}=e;-1!==await(0,I().getPreviousStageIndex)({flowName:o.flowName,stageIndex:o.currentStageIndex,environment:t})?await R({environment:t,currentStage:n,onboardingState:o}):await(0,j().handleExitOnboarding)(o,t)}async function O(e){let{isBackDisabled:t,environment:n,currentStage:o,onboardingState:a}=e;t?await(0,j().handleExitOnboarding)(a,n):await R({environment:n,currentStage:o,onboardingState:a})}async function D(e,t){const n=await g().callApi({eventName:"getPublicSpaceForInvite",environment:t,data:{type:"invite-link",inviteLinkCode:e}});if("success"!==n.type)throw new Error(p().A.formatMessage(b().messages.errorWorkspaceDidNotLoad));const{data:{result:o}}=n;if(!o)throw new Error(p().A.formatMessage(b().messages.errorWorkspaceDoesNotExist));M().A.update((t=>({...t,spaceId:o.id,onboardingData:{...t.onboardingData,inviteCode:e,redirectSpaceId:o.id,canJoinRedirectSpace:!0}})))}async function W(e){const t=M().A.state;if(!t.onboardingData)throw new Error("OnboardingData not found!");const n=f().sg(t.onboardingData);if((0,k().shouldRedirectToJoinSpace)(n)){const o={...t,spaceId:n.spaceId};M().A.setState(o);try{return await M().A.completeOnboarding(e,"join")}catch(a){(0,j().handleOnboardingError)(e,(0,u().A)(a))}}if((0,k().isPublicAccessPageRedirect)(n))return(0,j().onOnboardingCompletePublicAccess)(t,n,e);const o=d().A.get(f().Zz);if(o){await D(o,e);try{return await M().A.completeOnboarding(e,"join")}catch(a){(0,j().handleOnboardingError)(e,(0,u().A)(a))}}}},965694:(e,t,n)=>{n.d(t,{r:()=>a});var o=()=>n(206783);o();function a(e){return(0,o().transliterate)(e).trim().length>1}},994682:(e,t,n)=>{function o(e){return{"en-US":{label:"English",caption:e.formatMessage({defaultMessage:"English (US)",id:"languagePicker.captions.englishUS"})},"de-DE":{label:"Deutsch",caption:e.formatMessage({defaultMessage:"German",id:"languagePicker.captions.germanDE"})},"ko-KR":{label:"한국어",caption:e.formatMessage({defaultMessage:"Korean",id:"languagePicker.captions.koreanKo"})},"zh-CN":{label:"简体中文",caption:e.formatMessage({defaultMessage:"Simplified Chinese",id:"languagePicker.captions.chineseS"})},"zh-TW":{label:"繁體中文",caption:e.formatMessage({defaultMessage:"Traditional Chinese",id:"languagePicker.captions.chineseT"})},"ja-JP":{label:"日本語",caption:e.formatMessage({defaultMessage:"Japanese",id:"languagePicker.captions.japaneseJa"})},"es-ES":{label:"Español (España)",caption:e.formatMessage({defaultMessage:"Spanish (Spain)",id:"languagePicker.captions.spanishEs"})},"es-LA":{label:"Español (Latinoamérica)",caption:e.formatMessage({defaultMessage:"Spanish (Latin America)",id:"languagePicker.captions.spanishLatam"})},"pt-BR":{label:"Português (Brasil)",caption:e.formatMessage({defaultMessage:"Portuguese (Brazil)",id:"languagePicker.captions.portugueseBr"})},"fr-FR":{label:"Français (France)",caption:e.formatMessage({defaultMessage:"French",id:"languagePicker.captions.frenchFr"})},"da-DK":{label:"Dansk",caption:e.formatMessage({defaultMessage:"Danish",id:"languagePicker.captions.danishDk"})},"fi-FI":{label:"Suomi",caption:e.formatMessage({defaultMessage:"Finnish",id:"languagePicker.captions.finnishFi"})},"nb-NO":{label:"Norsk",caption:e.formatMessage({defaultMessage:"Norwegian",id:"languagePicker.captions.norwegianNo"})},"nl-NL":{label:"Nederlands",caption:e.formatMessage({defaultMessage:"Dutch",id:"languagePicker.captions.dutchNl"})},"sv-SE":{label:"Svenska",caption:e.formatMessage({defaultMessage:"Swedish",id:"languagePicker.captions.swedishSe"})},pseudo:{label:"🤡Pseudolocale🤡",caption:e.formatMessage({defaultMessage:"Pseudolocale",id:"languagePicker.captions.pseudolocale"})}}}function a(e){return{en:{name:e.formatMessage({defaultMessage:"English",id:"languagePicker.name.english"}),abbreviation:e.formatMessage({defaultMessage:"EN",id:"languagePicker.abbreviation.english"})},de:{name:e.formatMessage({defaultMessage:"German",id:"languagePicker.name.german"}),abbreviation:e.formatMessage({defaultMessage:"DE",id:"languagePicker.abbreviation.german"})},ko:{name:e.formatMessage({defaultMessage:"Korean",id:"languagePicker.name.korean"}),abbreviation:e.formatMessage({defaultMessage:"KO",id:"languagePicker.abbreviation.korean"})},zh:{name:e.formatMessage({defaultMessage:"Chinese",id:"languagePicker.name.chinese"}),abbreviation:e.formatMessage({defaultMessage:"ZH",id:"languagePicker.abbreviation.chinese"})},ja:{name:e.formatMessage({defaultMessage:"Japanese",id:"languagePicker.name.japanese"}),abbreviation:e.formatMessage({defaultMessage:"JA",id:"languagePicker.abbreviation.japanese"})},es:{name:e.formatMessage({defaultMessage:"Spanish",id:"languagePicker.name.spanish"}),abbreviation:e.formatMessage({defaultMessage:"ES",id:"languagePicker.abbreviation.spanish"})},pt:{name:e.formatMessage({defaultMessage:"Portuguese",id:"languagePicker.name.portuguese"}),abbreviation:e.formatMessage({defaultMessage:"PT",id:"languagePicker.abbreviation.portuguese"})},fr:{name:e.formatMessage({defaultMessage:"French",id:"languagePicker.name.french"}),abbreviation:e.formatMessage({defaultMessage:"FR",id:"languagePicker.abbreviation.french"})},da:{name:e.formatMessage({defaultMessage:"Danish",id:"languagePicker.name.danish"}),abbreviation:e.formatMessage({defaultMessage:"DA",id:"languagePicker.abbreviation.danish"})},fi:{name:e.formatMessage({defaultMessage:"Finnish",id:"languagePicker.name.finnish"}),abbreviation:e.formatMessage({defaultMessage:"FI",id:"languagePicker.abbreviation.finnish"})},nb:{name:e.formatMessage({defaultMessage:"Norwegian",id:"languagePicker.name.norwegian"}),abbreviation:e.formatMessage({defaultMessage:"NB",id:"languagePicker.abbreviation.norwegian"})},nl:{name:e.formatMessage({defaultMessage:"Dutch",id:"languagePicker.name.dutch"}),abbreviation:e.formatMessage({defaultMessage:"NL",id:"languagePicker.abbreviation.dutch"})},sv:{name:e.formatMessage({defaultMessage:"Swedish",id:"languagePicker.name.swedish"}),abbreviation:e.formatMessage({defaultMessage:"SV",id:"languagePicker.abbreviation.swedish"})}}}n.d(t,{V:()=>o,W:()=>a})}}]);