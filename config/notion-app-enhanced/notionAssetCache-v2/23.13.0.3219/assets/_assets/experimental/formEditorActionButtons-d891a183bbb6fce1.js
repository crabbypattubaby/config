"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[34983,65213,69095],{18376:(e,t,o)=>{o.d(t,{W:()=>p});var n=()=>o(477784),i=()=>o(652039),r=()=>o(883249),s=()=>o(145046),a=()=>o(927999),l=()=>o(791497),d=()=>o(84543),c=()=>o(663539);const u=1500,m=(0,o(653998).YK)({pageCover:{defaultMessage:"Page cover",id:"pageCover.title"},fileTypeCaption:{defaultMessage:"Images wider than {idealImageWidth} pixels work best.",id:"pageCover.fileType.caption"},uploadFailed:{defaultMessage:"Upload failed",id:"pageCover.errorDialogMessage.uploadFailed"},preparing:{defaultMessage:"Preparing...",id:"pageCover.status.preparing"},downloading:{defaultMessage:"Downloading...",id:"pageCover.status.downloading"},embedTitle:{defaultMessage:"Link",id:"pageCover.embedType.title"},embedPlaceholder:{defaultMessage:"Paste an image linkâ€¦",id:"pageCover.embedType.placeholder"},embedCaption:{defaultMessage:"Works with any image from the web.",id:"pageCover.embedType.caption"},embedSubmit:{defaultMessage:"Submit",id:"pageCover.embedType.buttonText"}});function p(e){let{environment:t,intl:o,store:n,rect:i}=e;l().W(t,{originGap:3,originRect:i,isSmallWidth:!1,popupWidth:540,maxHeight:485,title:o.formatMessage(m.pageCover),onDelete:()=>{!function(e){let{environment:t,store:o}=e;l().I(),d().createAndCommit({userAction:"PageCover.handleDelete",environment:t,canUndo:!0,perform:e=>{a().PT({store:o,transaction:e})}})}({environment:t,store:n})},currentTab:"gallery",tabs:[{type:"gallery",onChange:e=>{let{url:o,position:i}=e;f({environment:t,store:n,url:{originUrl:o},position:i})}},{type:"file",fileUpload:!1,imageUpload:!0,videoUpload:!1,caption:o.formatMessage(m.fileTypeCaption,{idealImageWidth:u}),onUpload:e=>{var i;l().I(),c().QM({environment:t,file:e[0],bucket:"secure",record:(null===(i=n.getCoverStore())||void 0===i?void 0:i.pointer)??n.pointer,isFileBlock:!1,reportRichUploadMetrics:!0,onStart:h,onProgress:v,onComplete:e=>{var o;o={environment:t,store:n,url:{originUrl:e}},g({...o,position:.5})},onError:()=>{s().f1(o.formatMessage(m.uploadFailed))}})}},{type:"embed",title:o.formatMessage(m.embedTitle),inputPlaceholder:o.formatMessage(m.embedPlaceholder),caption:o.formatMessage(m.embedCaption),buttonText:o.formatMessage(m.embedSubmit),onChange:e=>{var o;o={environment:t,store:n,url:e},g({...o,position:.5}),l().I()}},{type:"unsplash",onChange:e=>{let{url:o,position:i}=e;f({environment:t,store:n,url:{originUrl:o},position:i})}}]})}async function g(e){const{environment:t,store:o,url:s,position:l}=e,{serverCommitResult:c}=d().createAndCommit({userAction:"PageCover.updatePageCover",environment:t,canUndo:!0,perform:e=>{a().fg({store:o,url:s,position:l||.5,transaction:e})}});await c,r().A.state.loadingMode===i().vS&&r().A.setState({loadingMode:i().Gi,dataURL:r().A.state.dataURL,uploadProgress:t.device.isMobileNative?void 0:100,progressText:n().A.formatMessage(m.downloading)})}function f(e){g(e),e.environment.device.isMobile&&l().I()}function h(e){const{file:t,name:o,size:s}=e;if(l().I(),r().A.setState({loadingMode:i().Wc,file:t,name:o,size:s}),t.type.indexOf("image")>=0)if(t instanceof File){const e=new FileReader;e.onload=e=>{r().A.state.loadingMode===i().Wc&&r().A.setState({...r().A.state,loadingMode:i().vS,uploadProgress:0,dataURL:e.target.result})},e.readAsDataURL(t)}else r().A.state.loadingMode===i().Wc&&r().A.setState({...r().A.state,loadingMode:i().vS,dataURL:t.dataURL,progressText:n().A.formatMessage(m.preparing)});else r().A.state.loadingMode===i().Wc&&r().A.setState({...r().A.state,loadingMode:i().vS,progressText:n().A.formatMessage(m.preparing)})}function v(e){const{progressPercent:t,progressText:o}=e;r().A.state.loadingMode===i().vS&&r().A.setState({...r().A.state,uploadProgress:t,progressText:o})}},23735:(e,t,o)=>{o.d(t,{o:()=>i});o(242343);var n=o(163643);const i=(0,o(680369).wt)("arrowRightRounded",{viewBox:"0 0 16 13",svg:(0,n.jsx)("path",{d:"M15.3828 6.85156C15.3828 7.09635 15.2917 7.3099 15.1094 7.49219L9.95312 12.6328C9.77083 12.8099 9.5651 12.8984 9.33594 12.8984C9.09635 12.8984 8.89583 12.8203 8.73438 12.6641C8.57812 12.5078 8.5 12.3125 8.5 12.0781C8.5 11.9583 8.52083 11.8464 8.5625 11.7422C8.60938 11.638 8.67188 11.5469 8.75 11.4688L10.5 9.70312L13.4141 7.04688L13.6875 7.54688L10.9766 7.70312H1.48438C1.22396 7.70312 1.01302 7.625 0.851562 7.46875C0.695312 7.30729 0.617188 7.10156 0.617188 6.85156C0.617188 6.59635 0.695312 6.39062 0.851562 6.23438C1.01302 6.07292 1.22396 5.99219 1.48438 5.99219H10.9766L13.6875 6.15625L13.4141 6.66406L10.5 4L8.75 2.22656C8.67188 2.14844 8.60938 2.0599 8.5625 1.96094C8.52083 1.85677 8.5 1.74219 8.5 1.61719C8.5 1.38281 8.57812 1.1875 8.73438 1.03125C8.89583 0.875 9.09635 0.796875 9.33594 0.796875C9.45052 0.796875 9.5599 0.820312 9.66406 0.867188C9.76823 0.914062 9.86719 0.984375 9.96094 1.07812L15.1094 6.21094C15.2917 6.39323 15.3828 6.60677 15.3828 6.85156Z"})})},24071:(e,t,o)=>{o.d(t,{A:()=>u});o(242343);var n=()=>o(237385),i=()=>o(803290),r=()=>o(174114),s=()=>o(333889),a=()=>o(136239),l=()=>o(48913),d=o(163643);function c(){const e=(0,r().IS)((e=>({icon:{position:"absolute",width:"50%",height:"50%",right:0,bottom:0,fill:"dark"===e.mode?e.text.primary:"#3E3C38",stroke:"dark"===e.mode?e.surface.wash:"white",strokeWidth:"dark"===e.mode?"1.85px":"1.5px"}})),[]);return(0,d.jsx)("div",{children:(0,s().G)(e.icon)})}function u(e){var t;const o=(0,n().v3)(),s=o.device.isMobile,{isTablet:u}=(0,n().Y0)(),m=(0,i().K8)((()=>{var t,n;if(s)return o.WindowSizeStore.getSafePaddingLeftCSS("number"==typeof(null===(t=e.style)||void 0===t?void 0:t.paddingLeft)?null===(n=e.style)||void 0===n?void 0:n.paddingLeft:10)}),[o.WindowSizeStore,s,null===(t=e.style)||void 0===t?void 0:t.paddingLeft]),p=(0,r().IS)((t=>({wrapper:{...s?{display:"flex",alignItems:"center",width:"100%",minHeight:26,fontSize:16,paddingTop:u?4:8,paddingBottom:u?4:8,paddingLeft:m,paddingRight:10,userSelect:"none",WebkitUserSelect:"none",boxShadow:void 0,marginBottom:e.shouldShowMobileMarginBottom?12:1}:{display:"flex",alignItems:"center",width:"100%",fontSize:14,minHeight:e.isBottomItem?24:27,height:l().Zr,paddingTop:4,paddingBottom:4,...(0,a().ic)()},...e.style},icon:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,width:s?28:22,height:s?24:18,marginRight:8,position:"relative"},right:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,height:"100%",...e.rightStyle},left:{flexShrink:0,flexGrow:0,borderRadius:4,color:t.text.secondary,width:s?24:l().ry,height:s?24:l().ry,display:"flex",alignItems:"center",justifyContent:"center",marginRight:e.icon?0:8},children:{flexGrow:1,flexShrink:1,flexBasis:"auto",whiteSpace:"nowrap",minWidth:0,overflow:"hidden",textOverflow:e.right&&!s?"clip":"ellipsis",...e.childrenStyle}})),[s,u,m,e.shouldShowMobileMarginBottom,e.isBottomItem,e.style,e.rightStyle,e.icon,e.right,e.childrenStyle]);return(0,d.jsxs)("div",{role:e.role,dir:"ltr","aria-current":e["aria-current"],"aria-expanded":e["aria-expanded"],"aria-owns":e["aria-owns"],"aria-labelledby":e["aria-labelledby"],style:p.wrapper,onFocus:e.onFocus,onBlur:e.onBlur,onMouseMove:e.onMouseMove,onMouseLeave:e.onMouseLeave,onClick:e.onClick,className:e.className,children:[e.left&&(0,d.jsx)("div",{style:p.left,children:e.left}),e.icon&&(0,d.jsxs)("div",{style:p.icon,children:[e.icon,e.isAlias&&(0,d.jsx)(c,{})]}),(0,d.jsx)("div",{style:p.children,children:e.children}),e.right&&(0,d.jsx)("div",{style:p.right,children:e.right})]})}},30942:(e,t,o)=>{o.r(t),o.d(t,{default:()=>Le});var n=o(242343),i=()=>o(237385),r=()=>o(803290),s=()=>o(174114),a=()=>o(653998),l=()=>o(286404),d=()=>o(103151),c=()=>o(137476),u=()=>o(659030),m=()=>o(83544),p=()=>o(543396),g=()=>o(650199),f=()=>o(492674),h=()=>o(718799),v=o(163643);const y={viewBox:"0 0 20 20",svg:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("path",{fillRule:"evenodd",d:"M10 9a1.6 1.6 0 0 0-1.6 1.6v.817a1 1 0 0 0-.6.917V14a1 1 0 0 0 1 1h2.4a1 1 0 0 0 1-1v-1.666a1 1 0 0 0-.6-.917V10.6A1.6 1.6 0 0 0 10 9m.6 2.334V10.6a.6.6 0 0 0-1.2 0v.734zm-.05 1.796a.55.55 0 1 1-1.1 0 .55.55 0 0 1 1.1 0",clipRule:"evenodd"}),(0,v.jsx)("path",{d:"M4.125 4.5c0-1.174.951-2.125 2.125-2.125h3.879c.563 0 1.104.224 1.502.622l3.622 3.622c.398.398.622.939.622 1.502V15.5a2.125 2.125 0 0 1-2.125 2.125h-7.5A2.125 2.125 0 0 1 4.125 15.5zm2.125-.875a.875.875 0 0 0-.875.875v11c0 .483.392.875.875.875h7.5a.875.875 0 0 0 .875-.875V8.3H12a2.05 2.05 0 0 1-2.05-2.05V3.625zm4.8.559V6.25c0 .525.425.95.95.95h2.066z"})]})},b=(0,o(680369).wt)("lockDoc",y);var S=()=>o(234966),w=()=>o(294117),x=()=>o(187130),C=()=>o(106804),A=()=>o(835029),M=()=>o(91472),I=()=>o(360378),k=()=>o(384221),T=()=>o(658388),j=()=>o(695951),P=()=>o(535906),B=()=>o(273520),_=()=>o(441292),F=()=>o(59175),E=()=>o(935091),R=()=>o(397791),D=()=>o(793613),L=()=>o(951540),V=()=>o(88271),N=()=>o(749975),W=()=>o(983050),O=()=>o(477784),H=()=>o(640979),K=()=>o(906230),U=()=>o(392608),z=()=>o(548694),Q=()=>o(863969),G=()=>o(622286),$=()=>o(474536),Y=()=>o(689248),J=()=>o(266963),q=()=>o(880026),Z=()=>o(741848),X=()=>o(432809),ee=()=>o(301892),te=()=>o(677711),oe=()=>o(760034),ne=()=>o(288701),ie=()=>o(907721),re=()=>o(485966),se=()=>o(172563);class ae extends(()=>o(129044))().default{getInitialState(){return{formShareMenuType:"initial"}}}const le=new ae;var de=()=>o(976603),ce=()=>o(943066),ue=()=>o(24281),me=()=>o(133926),pe=()=>o(446856),ge=()=>o(680645),fe=(o(725707),o(500234),o(403517),()=>o(975392)),he=()=>o(858023),ve=()=>o(443252);const ye=function(e){let{icon:t,title:a,selectedKey:l,onChange:c,disabled:u,tooltipMessage:m,disableTooltip:p,...f}=e;const h=(0,i().Y0)(),y=(0,s().DP)(),b="options"in f?f.options:[],S=b.find((e=>fe().n4(e.key,l))),w=(0,r().uB)(void 0,o(962373).A),x=(0,r().O$)(w);(0,n.useEffect)((()=>{S||o(502140).log({level:"error",from:"FormSettingsPickListRow",type:"InvalidSelectedItem",error:(0,o(450475).convertErrorToLog)("Selected key is invalid.")})}));const C=(0,s().IS)((e=>({desktopAndTabletButton:{marginLeft:0,marginRight:0,width:"auto",padding:"2px 0"},valueContainer:{display:"flex",alignItems:"center",color:e.text.secondary},chevronIcon:{marginLeft:4,transform:x.open?"rotate(90deg)":void 0}})),[x.open]),A=(0,v.jsxs)("div",{style:C.valueContainer,children:[null==S?void 0:S.title,(0,v.jsx)(R().I,{icon:g().x,size:"sm",color:"tertiary",style:C.chevronIcon})]});return(0,v.jsx)(d().A,{renderTooltip:()=>m,disableTooltip:p,placement:ie().W.Left,textWrap:!0,render:e=>(0,v.jsx)(B().Ay,{popupType:h.isPhone?ve().nl.SlideUp:ve().nl.Popup,alignmentToOrigin:B().yP.End,placementToOrigin:B().sx.Bottom,originGap:0,buttonPopupStore:w,disabled:u,renderOrigin:o=>(0,v.jsx)(P().A,{...e,icon:t?(0,v.jsx)(R().I,{icon:t}):void 0,title:a,focused:!1,disabled:u,buttonStyle:h.isPhone?void 0:C.desktopAndTabletButton,right:A,...(0,K().A)(o,f)}),render:e=>{const t=[{key:0,render:e=>(0,v.jsx)(V().A,{enableActionSheetTitle:!0,...e}),items:fe().oE(b.map(((t,o)=>{const n={key:o,render:e=>(0,v.jsx)(d().A,{textWrap:!0,placement:ie().W.Left,disableTooltip:!t.tooltipMessage,renderTooltip:()=>t.tooltipMessage,render:o=>(0,v.jsx)(P().A,{...(0,K().A)(e,o),disabled:t.disabled,title:t.title,icon:t.icon,style:{color:t.disabled?y.text.tertiary:y.text.primary},isChecked:t.key===l})}),action:()=>{c(t.key,e),e.close()}};return n})))}];return(0,v.jsx)(E().A,{menuType:h.isPhone?H().gu.ActionSheet:H().gu.Popup,width:300,children:(0,v.jsx)(he().Ay,{type:he().Oh.Vertical,sections:t,initialFocus:h.isMobile?void 0:0})})}})})};const be=function(e){let{icon:t,title:n,onClick:r,menuItemDisabled:a,toggleDisabled:l,tooltipMessage:c,disableTooltip:u,on:m}=e;const p=(0,i().Y0)(),g=(0,s().IS)((e=>({desktopAndTabletButton:{marginLeft:0,marginRight:0,width:"auto",padding:"2px 0"}})),[]);return(0,v.jsx)(d().A,{renderTooltip:()=>c,disableTooltip:u,render:e=>(0,v.jsx)(P().A,{buttonStyle:p.isPhone?void 0:g.desktopAndTabletButton,icon:t?(0,v.jsx)(R().I,{icon:t}):void 0,title:n,right:(0,v.jsx)(o(431551).A,{on:m,onClick:r,disabled:l??a}),focused:!1,disabled:a,onClick:r,...e}),placement:ie().W.Left,textWrap:!0})};var Se=()=>o(126451),we=()=>o(822493);function xe(e){let{origin:t,onCloseClick:o}=e;const n=(0,s().IS)((e=>({tooltipStyle:{opacity:1},gotItButton:{border:"dark"===e.mode?`1px solid ${e.accentColors.gray[500]}`:`1px solid ${e.accentColors.gray[700]}`,borderRadius:6,display:"flex",justifyContent:"center",alignItems:"center",height:28,padding:"0px 8px"}})),[]),i=(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{style:{opacity:.7},children:(0,v.jsx)(a().sA,{id:"FormShareTooltip.content",defaultMessage:"When youâ€™re done editing, click here to copy the form link to share."})}),(0,v.jsx)("div",{style:{float:"right",marginTop:10},children:(0,v.jsx)(Se().A,{onClick:o,style:n.gotItButton,children:(0,v.jsx)(a().sA,{id:"FormShareTooltip.dismissButton",defaultMessage:"Got it"})})})]});return(0,v.jsx)(we().k,{origin:t,style:{width:250},hideCloseButton:!0,hideActions:!0,placementToOrigin:"bottom",alignmentToOrigin:ie().C.End,pointerLength:30,contentStyle:n.tooltipStyle,pointerPosition:"85%",content:i,onCloseClick:o,shouldDismissUponOutsideClick:!0})}const Ce=(0,a().YK)({anonymousFormSettingTooltip:{defaultMessage:"Form submissions will be anonymous",id:"FormShareMenu.CollectRespondentIdentity.tooltip"},anonymousFormSettingTooltipForPublicForms:{defaultMessage:"All submissions for public forms will be anonymous",id:"FormShareMenu.CollectRespondentIdentity.tooltipForPublicForms"},disabledPublishFormByTeamspace:{defaultMessage:"Disabled via teamspace settings",id:"FormShareMenu.disabledPublishFormByTeamspace"},disabledPublishFormByWorkspace:{defaultMessage:"Disabled via workspace settings",id:"FormShareMenu.disabledPublishFormByWorkspace"},disabledFormConfigurationPermissionTooltip:{defaultMessage:"You do not have permission to change this setting. Only users with full access can modify this form setting.",id:"FormShareMenu.DisabledFormConfigurationPermission.tooltip"},disabledFormConfigurationAnonymousSubmissionTooltip:{defaultMessage:"You do not have permission to change this setting. Only users with edit access can modify this form setting.",id:"FormShareMenu.DisabledFormConfigurationAnonymousSubmission.tooltip"},sharedToSpaceTooltip:{defaultMessage:"Workspace members with the link will be able to view and submit.",id:"FormShareMenu.sharedToSpace.tooltip"},sharedToWebTooltip:{defaultMessage:"Anyone with the link will be able to view and submit, no login required.",id:"FormShareMenu.sharedToWeb.tooltip"},closedFormTooltip:{defaultMessage:"No one will be able to view or submit this form.",id:"FormShareMenu.closedForm.tooltip"},notionBrandingDisabledTooltip:{defaultMessage:"Upgrade to remove Notion branding from the form",id:"FormShareMenu.notionBrandingDisabled.tooltip"},notionBrandingDisabledTooltipNonWorkspaceOwner:{defaultMessage:"Contact your workspace owner to upgrade to remove branding",id:"FormShareMenu.notionBrandingDisabled.tooltipNonWorkspaceOwner"},notionBrandingTooltip:{defaultMessage:"Remove Notion branding from the form",id:"FormShareMenu.notionBranding.tooltip"},embedSettingRowTitle:{defaultMessage:"Embed this form",id:"FormShareMenu.embedSettingRowTitle"},embedSettingRowTooltip:{defaultMessage:"Embed this form outside of Notion",id:"FormShareMenu.embedSettingRowTooltip"},submissionNoAccessTooltip:{defaultMessage:"After submitting the form, respondents will not have access to their submissions.",id:"FormShareMenu.submissionNoAccessTooltip"},submissionCanViewTooltip:{defaultMessage:"After submitting the form, respondents can view their submissions.",id:"FormShareMenu.submissionCanViewTooltip"},submissionCanCommentTooltip:{defaultMessage:"After submitting the form, respondents can comment on their submissions.",id:"FormShareMenu.submissionCanCommentTooltip"},submissionCanEditTooltip:{defaultMessage:"After submitting the form, respondents can edit their submissions.",id:"FormShareMenu.submissionCanEditTooltip"},submissionFullAccessTooltip:{defaultMessage:"After submitting the form, respondents will have full access to their submissions, including the ability to edit, delete, and share them.",id:"FormShareMenu.submissionFullAccessTooltip"},anonymousSubmissionPermissionsTooltip:{defaultMessage:"Turn off anonymous submissions to allow respondents to access their submissions",id:"FormShareMenu.anonymousSubmissionPermissionsTooltip"}});function Ae(e){let{formBlockStore:t,showCompactDesktopHeader:o}=e;const s=(0,N().ET)(),l=(0,i().Y0)(),u=(0,i().v3)(),m=(0,n.useRef)(null),p=(0,r().K8)((()=>s.formShareMenuButtonPopupStore),[s]),g=(0,r().K8)((()=>{var e;const o=t.getCreatedById(),n=null===(e=s.collectionViewStore())||void 0===e?void 0:e.id,i=o===u.currentUser.id,r=se().A.state.open;return!(!i||r||de().A.state.openTooltip!==n)&&J().default.isVisible(ge().FORMS_SHARE_CALLOUT_KEY)}),[u,t,s]),f=(0,n.useCallback)((()=>{T().dD({environment:u}),Y().a(u,ge().FORMS_SHARE_CALLOUT_KEY)}),[u]);return(0,r().K8)((()=>(0,U().w6)(u)),[u])?null:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(B().Ay,{popupType:l.isPhone?B().z7.BottomSheet:B().z7.Popup,bottomSheetInitialState:"half",forceInitialInbound:!0,buttonPopupStore:p,renderOrigin:e=>(0,v.jsx)(d().A,{disableTooltip:l.isMobile||!o,renderTooltip:()=>(0,v.jsx)(a().sA,{defaultMessage:"Share form",id:"collectionViewBlock.formEditorView.shareForm"}),render:t=>(0,v.jsx)(L().A,{ref:m,style:{marginLeft:6},...(0,K().A)(t,e),children:l.isMobile||o?(0,v.jsx)(a().sA,{defaultMessage:"Share",id:"collectionViewBlock.formEditorView.shareFormMobile"}):(0,v.jsx)(a().sA,{defaultMessage:"Share form",id:"collectionViewBlock.formEditorView.shareForm"})})}),originGap:8,render:e=>(0,v.jsx)(Me,{formBlockStore:t,parent:e}),onClick:()=>{(0,c().u4)({environment:u,event:{eventName:"share_form_clicked",eventProperties:{form_id:t.id}}})},onDismiss:()=>p.reset(),onClose:()=>p.reset()}),g&&(0,v.jsx)(xe,{origin:m,onCloseClick:f})]})}function Me(e){let{formBlockStore:t,parent:o}=e;const s=(0,i().Y0)(),l=(0,G().X)("enable_embeddable_sites_for_space"),{formUrl:d,isFormPublic:c,isFormClosed:m}=(0,r().K8)((()=>({formUrl:(0,u().px)(t),isFormPublic:t.getIsFormPublic(),isFormClosed:t.getIsFormClosed()})),[t]),p=(0,r().K8)((()=>le.state.formShareMenuType),[]),g=m?null:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(Pe,{formBlockStore:t}),!c&&(0,v.jsx)(Be,{formBlockStore:t}),l&&c&&(0,v.jsx)(Ie,{}),c&&(0,v.jsx)(Fe,{formBlockStore:t})]}),f=(0,i().v3)();(0,n.useEffect)((()=>{I().IU({preventDismissMobileKeyboard:!0,environment:f}),k().clear({preventDismissMobileKeyboard:!0,environment:f})}),[f]);let h={menuType:H().gu.Popup,maxHeight:"90vh",width:480};return s.isPhone&&(h={menuType:H().gu.Modal,title:(0,v.jsx)(a().sA,{id:"form.mobileFormShareMenu.title",defaultMessage:"Share Form"})}),(0,v.jsx)(E().A,{...h,className:W().GIL,children:(0,v.jsx)(_().A,{debugName:"ShareFormContainer",capture:!0,allowEsc:!0,children:(0,v.jsx)(V().A,{children:"initial"===p?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(je,{formBlockStore:t}),g,(0,v.jsx)(Te,{formUrl:d})]}):(0,v.jsx)(ke,{formBlockStore:t})})})})}function Ie(){return(0,v.jsx)(d().A,{renderTooltip:()=>O().A.formatMessage(Ce.embedSettingRowTooltip),disableTooltip:!1,render:e=>(0,v.jsx)(P().A,{icon:(0,v.jsx)(R().I,{icon:f().codeIcon}),title:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(a().sA,{...Ce.embedSettingRowTitle}),(0,v.jsx)(D().E,{newBadgeKey:"publish_site_settings_embed_page",didUserEngage:!1,style:{display:"inline"},keyType:"date"})]}),focused:!1,disabled:!1,right:(0,v.jsx)(R().I,{icon:g().x,size:"sm",color:"tertiary"}),onClick:()=>{le.setState({...le.state,formShareMenuType:"embed"})},...e}),placement:ie().W.Left,textWrap:!0})}function ke(e){const{formBlockStore:t}=e,{isMobile:o}=(0,i().Y0)(),n=(0,s().IS)((()=>({container:{display:"flex",flexDirection:"column",marginTop:8,marginBottom:o?0:8}})),[o]);return(0,v.jsxs)("div",{children:[(0,v.jsx)(De,{handleBackButtonClick:()=>{le.setState({...le.state,formShareMenuType:"initial"})}}),(0,v.jsx)("div",{style:n.container,children:(0,v.jsx)(ne().M,{currentBlockStore:t})})]})}function Te(e){const{formUrl:t}=e,[o,r]=(0,n.useState)(!1),c=(0,i().v3)(),{isMobile:u}=(0,i().Y0)(),m=(0,s().IS)((e=>({container:{display:"flex",flexDirection:"row",alignItems:"center",height:u?45:30,margin:8},urlInputWrapper:{position:"relative",flexGrow:1,height:u?45:30},urlInput:{borderTopLeftRadius:u?12:6,borderBottomLeftRadius:u?12:6,borderTopRightRadius:0,borderBottomRightRadius:0,boxShadow:"none",borderWidth:1,borderRightWidth:0,borderStyle:"solid",borderColor:e.outlineButtonBorder,padding:0,height:"100%",fontSize:u?16:14,backgroundColor:e.contentBackground},urlInputGradient:{position:"absolute",top:1,right:0,background:`linear-gradient(90deg,\n\t\t\t\t\t${e.contentBackgroundTransparent} 0%,\n\t\t\t\t\t${e.contentBackground} 90%)`,height:28,width:36},urlInputInner:{padding:6,paddingRight:0,backgroundColor:"transparent",border:"none"},copyLinkButton:{height:"100%",borderTopLeftRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:u?12:6,borderBottomRightRadius:u?12:6,gap:6}})),[u]);return(0,v.jsxs)("div",{style:m.container,children:[(0,v.jsxs)("div",{style:m.urlInputWrapper,children:[(0,v.jsx)(F().A,{style:m.urlInput,inputStyle:m.urlInputInner,value:t,readOnly:!0,disabled:!0}),(0,v.jsx)("div",{style:m.urlInputGradient})]}),(0,v.jsx)(d().A,{forceVisibleState:!!o||void 0,disableTooltip:!o,renderTooltip:()=>(0,v.jsx)(a().sA,{defaultMessage:"Copied",id:"database.collectionViewBlock.formEditorShareButton.copiedLinkToForm.tooltip"}),render:e=>(0,v.jsxs)(l().A,{size:"lg",style:m.copyLinkButton,onClick:async()=>{r(!0);(await M().R.clipboardActions.load()).copyString({stringValue:t,environment:c,copiedMessage:u?pe().l.copiedLinkToForm:void 0}),setTimeout((()=>{r(!1)}),1e3)},...e,children:[(0,v.jsx)(R().I,{icon:h().w,color:"secondary"}),(0,v.jsx)(a().sA,{defaultMessage:"Copy form link",id:"database.collectionViewBlock.formEditorShareButton.copyFormLink"})]})})]})}function je(e){let{formBlockStore:t}=e;const o=(0,i().v3)(),l=(0,s().DP)(),d=(0,N().ET)(),{canEditPermissions:m,collectionSchema:p}=(0,r().K8)((()=>{var e;const t=d.collectionViewBlockStore();return{canEditPermissions:!!t&&t.canEditMembership(),collectionSchema:null===(e=d.collectionStore())||void 0===e?void 0:e.getSchema()}}),[d]),g=(0,$().P)({store:t}),f=(0,r().K8)((()=>g.disabled&&"team"===g.disabledBy?Ce.disabledPublishFormByTeamspace:g.disabled&&"space"===g.disabledBy?Ce.disabledPublishFormByWorkspace:void 0),[g]),{currentSpaceStore:h}=(0,r().O$)(re().default),y=(0,s().IS)((e=>({permissionOption:{display:"flex",alignItems:"center"},yellowBadge:{background:"light"===e.mode?e.accentColors.yellow[50]:e.accentColors.yellow[200],color:"light"===e.mode?e.accentColors.yellow[500]:e.accentColors.yellow[600]}})),[]),b=(0,r().K8)((()=>t.getIsFormPublic()),[t]),w=(0,r().K8)((()=>t.getIsFormClosed()),[t]),x=(0,r().K8)((()=>h?(0,z().GK)(o,h):""),[o,h]),C=(0,r().K8)((()=>{if(t)return X().dR({store:t,environment:o})}),[o,t]),A=(0,r().K8)((()=>null==C?void 0:C.mostPermissivePublicItem),[C]),M=(0,n.useCallback)((e=>{if(!A)return;const{permissionItem:n}=A;(0,q().Hc)({oldPermissionItem:n,newPermissionItem:e,wasInherited:!1,environment:o,store:t,sudoModeStore:void 0,location:void 0})}),[o,A,t]);return(0,v.jsx)(ye,{disabled:!m,icon:S().personCircleIcon,title:(0,v.jsx)(a().sA,{id:"formEditSettings.formPermissions.title",defaultMessage:"Who can fill out"}),disableTooltip:m,tooltipMessage:m?void 0:O().A.formatMessage(Ce.disabledFormConfigurationPermissionTooltip),selectedKey:(0,u().C0)(b,w),options:[{key:"shared_to_space",tooltipMessage:O().A.formatMessage(Ce.sharedToSpaceTooltip),title:(0,v.jsx)(a().sA,{id:"formEditSettings.formPermissions.spacePermission",defaultMessage:"Anyone at {spaceName} with link",values:{spaceName:x}})},{key:"shared_to_web",disabled:g.disabled,tooltipMessage:f?O().A.formatMessage(f):O().A.formatMessage(Ce.sharedToWebTooltip),title:(0,v.jsxs)("div",{style:y.permissionOption,children:[(0,v.jsx)(a().sA,{id:"formEditSettings.formPermissions.publicPermission",defaultMessage:"Anyone on the web with link"}),(0,v.jsx)(j().A,{content:(0,v.jsx)(a().sA,{id:"formEditSettings.formPermissions.publicBadge",defaultMessage:"Public"}),style:y.yellowBadge})]})},{key:"closed",tooltipMessage:O().A.formatMessage(Ce.closedFormTooltip),title:(0,v.jsxs)("div",{style:y.permissionOption,children:[(0,v.jsx)(a().sA,{id:"formEditSettings.formPermissions.noAccess",defaultMessage:"No access"}),(0,v.jsx)(j().A,{content:(0,v.jsx)(a().sA,{id:"formEditSettings.formPermissions.closedBadge",defaultMessage:"Closed"})})]})}],onChange:async e=>{const n=(0,u().C0)(b,w);switch(e){case"shared_to_space":if(ge().changeFormClosedState({environment:o,formBlockStore:t,isClosed:!1}),A){const e=(0,te().H)({permissionItem:A.permissionItem});M(e)}break;case"shared_to_web":await ge().maybeAlertAboutUnsupportedPublicQuestions({environment:o,formBlockStore:t,collectionSchema:p,theme:l,onAccept:()=>{if(ge().changeFormClosedState({environment:o,formBlockStore:t,isClosed:!1}),oe().d8({environment:o,type:"form",store:t,header:{hideBreadcrumbs:!0,hideSearch:!0}}),A){const e=(0,ee().y)({permissionItem:A.permissionItem,allowDuplicate:!1});M(e)}}});break;case"closed":ge().changeFormClosedState({environment:o,formBlockStore:t,isClosed:!0})}(0,c().u4)({environment:o,event:{eventName:"change_form_permissions",eventProperties:{form_id:t.id,old_permissions:n,new_permissions:e}}})}})}function Pe(e){let{formBlockStore:t}=e;const o=(0,i().v3)(),n=(0,a().tz)(),s=(0,N().ET)(),l=(0,r().K8)((()=>s.permissionScopesStore.state.canConfigureBlock),[s]),d=(0,r().K8)((()=>t.getIsFormAnonymousSubmissionEnabled()),[t]),u=(0,r().K8)((()=>t.getIsFormPublic()),[t]),m=(0,r().K8)((()=>l?u?Ce.anonymousFormSettingTooltipForPublicForms:d?Ce.anonymousFormSettingTooltip:void 0:Ce.disabledFormConfigurationAnonymousSubmissionTooltip),[l,u,d]);return(0,v.jsx)(be,{icon:w().o,title:(0,v.jsx)(a().sA,{id:"formShareMenu.anonymousFormToggle.title",defaultMessage:"Anonymous responses"}),menuItemDisabled:!l||u,on:!!u||d,onClick:()=>{ge().toggleAnonymousFormSubmissionState({environment:o,formBlockStore:t}),(0,c().u4)({environment:o,event:{eventName:"form_anonymous_responses_toggled",eventProperties:{form_id:t.id,is_anonymous:!d}}})},tooltipMessage:m?n.formatMessage(m):void 0,disableTooltip:!m})}function Be(e){let{formBlockStore:t}=e;const o=(0,i().v3)(),n=(0,N().ET)(),s=(0,a().tz)(),l=(0,r().K8)((()=>{const e=n.collectionViewBlockStore();return!!e&&e.canEditMembership()}),[n]),d=(0,r().K8)((()=>t.getIsFormAnonymousSubmissionEnabled()),[t]),u=(0,r().K8)((()=>(0,p().m$)(t.getFormSubmissionPermissions(),d,t.getIsFormPublic())),[t,d]),m=(0,r().K8)((()=>l?d?Ce.anonymousSubmissionPermissionsTooltip:void 0:Ce.disabledFormConfigurationPermissionTooltip),[l,d]);return(0,v.jsx)(ye,{disabled:!l||d,icon:b,title:(0,v.jsx)(a().sA,{id:"formEditSettings.formSubmissionPermission.title",defaultMessage:"Access to submission"}),disableTooltip:!m,tooltipMessage:m?s.formatMessage(m):void 0,selectedKey:u,options:[{key:"none",tooltipMessage:O().A.formatMessage(Ce.submissionNoAccessTooltip),title:(0,v.jsx)(a().sA,{id:"formEditSettings.formSubmissionPermission.noAccess",defaultMessage:"No access"})},{key:"reader",tooltipMessage:O().A.formatMessage(Ce.submissionCanViewTooltip),title:(0,v.jsx)(a().sA,{id:"formEditSettings.formSubmissionPermission.canView",defaultMessage:"Can view"})},{key:"comment_only",tooltipMessage:O().A.formatMessage(Ce.submissionCanCommentTooltip),title:(0,v.jsx)(a().sA,{id:"formEditSettings.formSubmissionPermission.canComment",defaultMessage:"Can comment"})},{key:"read_and_write",tooltipMessage:O().A.formatMessage(Ce.submissionCanEditTooltip),title:(0,v.jsx)(a().sA,{id:"formEditSettings.formSubmissionPermission.canEdit",defaultMessage:"Can edit"})},{key:"editor",tooltipMessage:O().A.formatMessage(Ce.submissionFullAccessTooltip),title:(0,v.jsx)(a().sA,{id:"formEditSettings.formSubmissionPermission.fullAccess",defaultMessage:"Full access"})}],onChange:e=>{ge().changeFormSubmissionPermissions({environment:o,formBlockStore:t,permissions:e}),(0,c().u4)({environment:o,event:{eventName:"change_form_submission_permissions",eventProperties:{form_id:t.id,old_permissions:u,new_permissions:e}}})}})}const _e=200;function Fe(e){var t;let{formBlockStore:o}=e;const n=(0,s().DP)(),l=(0,i().v3)(),d=(0,r().K8)((()=>o.getSiteStore()),[o]),c=(0,Q().O)(),u=(0,me()._X)({name:"unbranded_forms",spaceId:c,userId:null===(t=l.currentUser)||void 0===t?void 0:t.id}),m=null==u?void 0:u.upsell,p=(0,r().K8)((()=>(0,z().s7)(l)),[l]),g=(0,r().K8)((()=>{var e;return!!d&&!(null!==(e=d.getHeader())&&void 0!==e&&e.hideWatermark)}),[d]);if(!d)return null;const f=(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(Ee,{}),(0,v.jsx)("div",{style:{width:_e},children:u?(0,me().N9)(u,{unavailable:()=>p?O().A.formatMessage(Ce.notionBrandingDisabledTooltip):O().A.formatMessage(Ce.notionBrandingDisabledTooltipNonWorkspaceOwner),available:()=>O().A.formatMessage(Ce.notionBrandingTooltip)}):(0,v.jsx)("div",{})})]});return(0,v.jsx)(be,{icon:"light"===n.mode?C().notionIcon:x().notionDarkModeIcon,title:(0,v.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,v.jsx)(a().sA,{id:"formShareMenu.publicForms.notionBranding.title",defaultMessage:"Notion branding"}),"unavailable"===(null==u?void 0:u.type)&&m&&(0,v.jsx)("div",{style:{marginLeft:10},children:(0,v.jsx)(ue().B,{upsell:m,analyticsName:"forms_notion_branding",disableTooltip:!0})})]}),toggleDisabled:!(0,A().e2)(u),menuItemDisabled:!p,on:g||!(0,A().e2)(u),onClick:()=>{"unavailable"===(null==u?void 0:u.type)&&"product"===(null==m?void 0:m.type)?ce().K(l,{upsell:m,from:"forms_notion_branding"}):ge().toggleNotionBrandingState({environment:l,formBlockStore:o})},tooltipMessage:f})}function Ee(){const e=(0,s().DP)(),t=(0,a().tz)(),o=(0,s().IS)((e=>({notionBrandingBaseImage:{width:_e,borderRadius:4},brandingPreview:{display:"flex",position:"absolute",top:"36%",left:"44%",transform:"translateX(-50%)"},linkIcon:{width:17,height:void 0,marginRight:4,color:e.icon.primary}})),[]);return(0,v.jsxs)("div",{style:{paddingTop:4},children:[(0,v.jsx)("img",{src:"light"===e.mode?m().A.images.forms.formsNotionBrandingTooltipPng:m().A.images.forms.formsNotionBrandingTooltipDarkPng,alt:t.formatMessage({id:"FormShareMenu.MadeWithNotion.accessibility.label",defaultMessage:"Made with Notion"}),style:o.notionBrandingBaseImage}),(0,v.jsxs)("div",{style:o.brandingPreview,children:[(0,h().w)(o.linkIcon),(0,v.jsx)(Re,{})]})]})}function Re(){const e=(0,s().DP)(),t=(0,s().IS)((e=>({watermarkButton:{marginLeft:8,color:e.text.primary},notionLogo:{width:14,height:14,marginLeft:6}})),[]);return(0,v.jsxs)(l().A,{size:"lg",style:t.watermarkButton,children:[(0,v.jsx)(a().sA,{defaultMessage:"Made with",id:"topbar.publicPage.cta.label.madeWithNotion"}),"light"===e.mode?(0,C().notionIcon)(t.notionLogo):(0,x().notionDarkModeIcon)(t.notionLogo)]})}function De(e){const t=(0,s().IS)((e=>({container:{display:"flex",padding:"0 12px 0 8px",height:40,borderBottom:`1px solid ${e.stroke.secondary}`}})),[]);return(0,v.jsx)("div",{style:t.container,children:(0,v.jsx)(Z().oq,{onClick:e.handleBackButtonClick,titleMessage:(0,v.jsx)(a().sA,{...Ce.embedSettingRowTitle})})})}const Le=function(e){const{showCompactDesktopHeader:t,collectionContextStore:n}=e,m=(0,i().v3)(),p=(0,r().K8)((()=>n.collectionViewStore()),[n]),g=(0,r().K8)((()=>{const e=n.collectionViewStore();return null==e?void 0:e.getFormat().form_block_pointer}),[n]),f=(0,r().K8)((()=>{if(p&&g)return o(413871).Bv.createChildStore(p,g)}),[g,p]),h=(0,r().K8)((()=>!!f&&f.getIsFormPublic()),[f]),y=(0,s().IS)((e=>({container:{display:"flex",flexDirection:"row",alignItems:"center"},openFormButton:{marginLeft:6,height:28,paddingLeft:10},previewIcon:{width:14,height:14}})),[]),b=!(0,r().O$)(o(802955).e);if(!p||!f)return null;const S=t||b;return(0,v.jsxs)("div",{style:y.container,children:[(0,v.jsx)(d().A,{disableTooltip:!S,renderTooltip:()=>b?(0,v.jsx)(a().sA,{defaultMessage:"Unavailable while offline",id:"collectionViewBlock.formEditorView.previewForm.offline"}):(0,v.jsx)(a().sA,{defaultMessage:"Preview",id:"collectionViewBlock.formEditorView.previewForm"}),render:e=>(0,v.jsxs)(l().A,{...e,size:"lg",style:y.openFormButton,onClick:()=>{(0,c().u4)({environment:m,event:{eventName:"preview_form",eventProperties:{form_id:f.id,is_form_public:h}}});const e=(0,u().px)(f,!0);h?o(110975).f({url:e,environment:m}):o(865226).oo({environment:m,url:e})},disabled:b,children:[(0,o(573520).h)(y.previewIcon),t?null:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(o(279150).A,{size:6}),(0,v.jsx)(a().sA,{defaultMessage:"Preview",id:"collectionViewBlock.formEditorView.previewForm"})]})]})}),(0,v.jsx)(Ae,{formBlockStore:f,showCompactDesktopHeader:t})]})}},40642:(e,t,o)=>{o.d(t,{b:()=>i});o(242343);var n=o(163643);const i=(0,o(680369).wt)("templates",{viewBox:"0 0 20 20",svg:(0,n.jsxs)("g",{children:[(0,n.jsx)("path",{d:"M6.39733 5.67853C5.89764 5.50234 5.36002 5.40649 4.8 5.40649C2.14904 5.40649 0 7.55432 0 10.2038C0 12.8533 2.14904 15.0011 4.8 15.0011C6.52165 15.0011 8.0316 14.0952 8.87867 12.7343L5.26487 12.0975L6.39733 5.67853Z"}),(0,n.jsx)("path",{d:"M17.3126 3.66609L7.85843 2L6.19141 11.4489L10.6545 12.2354L14.3998 5.81854L16.3449 9.15116L17.3126 3.66609Z"}),(0,n.jsx)("path",{d:"M8.80078 17L14.4008 7.4054L20.0008 17H8.80078Z"})]})})},48768:(e,t,o)=>{o.d(t,{V:()=>s});var n=()=>o(803290),i=()=>o(485966),r=()=>o(622286);function s(){const e=(0,r().X)("lazier_dependencies"),t=(0,n().K8)((()=>i().default.state.renderPhase),[]);return e&&"rendered"!==t}},55813:(e,t,o)=>{o.r(t),o.d(t,{exclamationMarkTriangleFillIcon:()=>i,iconDefinition:()=>n});o(242343);const n={viewBox:"0 0 20 20",svg:(0,o(163643).jsx)("path",{d:"M11.84 3.563c-.817-1.417-2.862-1.417-3.68 0L2.314 13.688c-.818 1.416.205 3.187 1.84 3.187h11.692c1.636 0 2.658-1.77 1.84-3.187zM9.876 6.75c.345 0 .625.28.625.625v3.5a.625.625 0 1 1-1.25 0v-3.5c0-.345.28-.625.625-.625m0 7.375a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5"})},i=(0,o(680369).wt)("exclamationMarkTriangleFill",n)},63463:(e,t,o)=>{e.exports=o.p+"edfba4a6d1ff7acd.png"},89969:(e,t,o)=>{o.d(t,{D:()=>n});function n(e,t){t.route.name;return!1}},101558:(e,t,o)=>{o.d(t,{r:()=>r});var n=()=>o(803290),i=()=>o(836331);function r(e){return(0,n().K8)((()=>i().default.getGroup(e)),[e])}},143920:(e,t,o)=>{o.d(t,{y:()=>c});var n=()=>o(763555),i=()=>o(284320);const r={ko:()=>o.e(2268).then(o.bind(o,662161)),es:()=>o.e(95264).then(o.bind(o,894994)),de:()=>o.e(35390).then(o.bind(o,133788)),fr:()=>o.e(3272).then(o.bind(o,447454)),pt:()=>o.e(27315).then(o.bind(o,193182)),zh:()=>o.e(69945).then(o.bind(o,316605)),ja:()=>o.e(77757).then(o.bind(o,108299)),da:()=>o.e(9423).then(o.bind(o,965826)),fi:()=>o.e(59337).then(o.bind(o,122956)),nb:()=>o.e(2040).then(o.bind(o,763585)),nl:()=>o.e(51106).then(o.bind(o,696090)),sv:()=>o.e(53631).then(o.bind(o,485349))};let s=!1,a=!1;async function l(e){for(const[o,i]of Object.entries(e.emojiLocaleKeywords)){var t;n().fB[o]={...n().fB[o],keywords:[...i,...(null===(t=n().fB[o])||void 0===t?void 0:t.keywords)||[]]}}await i().A.waitUntilLoaded(),i().A.update((t=>{let{emojiByName:o,...n}=t;return{...n,emojiByName:{...o,...e.emojiByName}}}))}async function d(){if(s)return;const[e]=o(16791).locale.split("-");e in r&&(await l(await r[e]()),s=!0)}const c=(0,o(531367).A)((async()=>{await async function(){a||(await l(await o.e(51872).then(o.bind(o,531983))),a=!0)}(),await d()}))},144615:(e,t,o)=>{o.d(t,{TK:()=>a,YC:()=>s,ui:()=>r});var n=()=>o(129978);const i={pageVerification:new(n().O2)("pageVerification",(()=>Promise.all([o.e(43380),o.e(94891)]).then(o.bind(o,843097)))),pageVerificationBadge:new(n().O2)("pageVerificationBadge",(()=>Promise.all([o.e(96159),o.e(75134),o.e(43380),o.e(96346),o.e(36209),o.e(92845),o.e(71718),o.e(48486),o.e(83324),o.e(74562),o.e(18895),o.e(28866),o.e(59794),o.e(6463),o.e(96453),o.e(9353),o.e(84350),o.e(41412)]).then(o.bind(o,234102)))),pageVerificationMenuRenderer:new(n().O2)("pageVerificationMenuRenderer",(()=>Promise.all([o.e(96159),o.e(75134),o.e(43380),o.e(96346),o.e(36209),o.e(92845),o.e(71718),o.e(48486),o.e(83324),o.e(74562),o.e(18895),o.e(28866),o.e(59794),o.e(6463),o.e(96453),o.e(9353),o.e(84350),o.e(26207)]).then(o.bind(o,519873))))},r=(0,n()._h)(i.pageVerification,(e=>e.PageAddVerificationButton)),s=(0,n()._h)(i.pageVerificationBadge,(e=>e.PageVerificationBadge)),a=(0,n()._h)(i.pageVerificationMenuRenderer,(e=>e.PageVerificationMenuRenderer))},144656:(e,t,o)=>{o.d(t,{A:()=>r});var n=()=>o(662988);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(e){(0,n().A)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===i(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}},150936:(e,t,o)=>{o.d(t,{b:()=>i});o(242343);var n=o(163643);const i=(0,o(680369).wt)("thinCheck",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M6.385 14.162c.362 0 .642-.15.84-.444L13.652 3.71c.144-.226.205-.417.205-.602 0-.485-.341-.82-.833-.82-.335 0-.54.123-.746.444l-5.926 9.4-3.042-3.903c-.205-.267-.417-.376-.718-.376-.492 0-.848.348-.848.827 0 .212.075.417.253.629l3.541 4.416c.24.3.492.437.848.437z"})})},151602:(e,t,o)=>{o.d(t,{A:()=>r});class n extends(()=>o(129044))().default{getInitialState(){return{}}}const i=new n;o(996094).exposeDebugValue("SpaceWorkflowTemplateInstanceMapStore",i);const r=i},155342:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>i,questionMarkCircleIcon:()=>r});o(242343);var n=o(163643);const i={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M9.978 7.154c-.804 0-1.333.456-1.438.874a.625.625 0 0 1-1.213-.303c.28-1.121 1.44-1.82 2.65-1.82 1.365 0 2.714.905 2.714 2.298 0 .812-.49 1.477-1.13 1.872l-.755.516a.84.84 0 0 0-.381.677.625.625 0 1 1-1.25 0c0-.688.36-1.318.921-1.706l.003-.002.784-.535.014-.008c.374-.228.544-.537.544-.814 0-.459-.517-1.049-1.463-1.049m.662 6.336a.8.8 0 1 1-1.6 0 .8.8 0 0 1 1.6 0"}),(0,n.jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 15.25 0 7.625 7.625 0 0 1-15.25 0M10 3.625a6.375 6.375 0 1 0 0 12.75 6.375 6.375 0 0 0 0-12.75"})]})},r=(0,o(680369).wt)("questionMarkCircle",i)},170582:(e,t,o)=>{o.d(t,{r:()=>i});o(242343);const n={viewBox:"0 0 20 20",svg:(0,o(163643).jsx)("path",{d:"M10 2.355a2.35 2.35 0 0 0-2.253 1.686 5.06 5.06 0 0 0-2.803 4.527v1.189c0 .919-.334 1.806-.939 2.498l-.818.935c-.881 1.007-.166 2.583 1.173 2.583h3.02a2.65 2.65 0 0 0 5.24 0h3.02c1.339 0 2.054-1.576 1.173-2.583l-.818-.935a3.8 3.8 0 0 1-.939-2.498v-1.19a5.06 5.06 0 0 0-2.803-4.526A2.35 2.35 0 0 0 10 2.355m1.5 13.418a1.55 1.55 0 0 1-2.998 0zM8.909 4.564A1.104 1.104 0 0 1 10 3.605c.556 0 1.017.415 1.091.96l.049.353.329.138a3.81 3.81 0 0 1 2.337 3.512v1.189c0 1.221.444 2.401 1.248 3.32l.818.936a.307.307 0 0 1-.232.51H4.36a.308.308 0 0 1-.232-.51l.818-.935a5.04 5.04 0 0 0 1.248-3.321v-1.19c0-1.58.963-2.936 2.337-3.511l.33-.138z"})},i=(0,o(680369).wt)("bell",n)},180076:(e,t,o)=>{o.d(t,{A:()=>s});var n=()=>o(543127),i=()=>o(144656),r=()=>o(662988);function s(e,t){(0,r().A)(2,arguments);var o=(0,i().A)(e).getTime(),s=(0,n().A)(t);return new Date(o+s)}},180365:(e,t,o)=>{o.d(t,{A:()=>A});var n=o(242343),i=()=>o(237385),r=()=>o(803290),s=()=>o(653998),a=()=>o(927999),l=()=>o(18376),d=()=>o(84543),c=()=>o(481148),u=()=>o(400885),m=()=>o(802955),p=()=>o(652039),g=()=>o(883249),f=()=>o(470414),h=()=>o(615917),v=()=>o(126451),y=()=>o(392968),b=()=>o(174114),S=()=>o(76394),w=o(163643);function x(e){let{src:t,placeholderSrc:o,placeholderBehavior:i,imageStyle:r,containerStyle:s,onLoadComplete:a,testId:l}=e;const[d,c]=(0,n.useState)(!0);let u;switch(i){case"force-show-placeholder":u=!0;break;case"force-show-src":u=!1;break;case"show-placeholder-if-loading-src":u=!!o&&(d||void 0===t);break;default:(0,S().HB)(i)}const m=(0,b().IS)((()=>{const e={gridColumn:1,gridRow:1};return{container:{display:"grid",...s},srcWrapper:{...u&&{display:"none"},...e},placeholderWrapper:{pointerEvents:"none",...e}}}),[s,u]);(0,n.useEffect)((()=>{void 0!==t&&c(!0)}),[t]);const p=(0,n.useCallback)((e=>{c(!1),null==a||a()}),[a]);return(0,w.jsxs)("div",{style:m.container,children:[(0,w.jsx)(y().Ay,{src:t,onLoad:p,style:r,placeholderStyle:m.srcWrapper,placeholderLoadedStyle:m.srcWrapper,testId:l}),o&&(0,w.jsx)(y().Ay,{src:o,style:r,placeholderStyle:m.placeholderWrapper,placeholderLoadedStyle:m.placeholderWrapper})]})}var C=()=>o(410090);const A=function(e){let{store:t,disabled:s,paddingRight:l,paddingLeft:c,height:u,proxyWidth:m}=e;const f=(0,i().v3)(),h=(0,r().uB)(void 0,o(116586).A),v=(0,r().K8)((()=>s||"suggest"===o(615661).Uv.getMode(t)),[s,t]),b=(0,r().K8)((()=>t.getCover()),[t]),S=(0,r().O$)(g().A),[C,A]=(0,n.useState)(void 0);if(!b)return null;const k=S.loadingMode!==p().pF&&S.loadingMode!==p().Wc;return(0,w.jsx)(o(982717).A,{mouseStore:h,onFlushTemporaryPosition:e=>function(e,t,o){const{imagePosition:n,reset:i}=e;d().createAndCommit({userAction:"PageCover.handleFlushTemporaryPosition",environment:o,canUndo:!0,perform:e=>{a().yY({store:t,coverPosition:n,transaction:e}),i()}})}(e,t,f),renderControl:e=>{let{handleRepositionClick:o,handleSavePositionClick:n,handleCancelClick:i,isVisible:r,isRepositioning:s}=e;return(0,w.jsx)(I,{handleRepositionClick:o,handleSavePositionClick:n,handleCancelClick:i,isVisible:r,isRepositioning:s,lastProxiedUrl:C,store:t,disabled:v,paddingRight:l,paddingLeft:c,mouseStore:h})},source:"page",store:t,style:{display:"flex",flexDirection:"column",alignItems:"center",height:u,maxHeight:280,cursor:"default"},render:e=>(0,w.jsxs)(n.Fragment,{children:[(0,w.jsx)(o(283992).A,{url:b.cover,isAuthenticated:!0,permissionRecord:b.pointer,width:m,onFinishedLoadingProxyUrl:A,render:(t,o)=>{const n={width:"100%",height:u,maxHeight:280,objectFit:"cover",opacity:k?.5:1,objectPosition:`center ${100*(1-(e.imagePosition||0))}%`,borderRadius:0},i={width:"100%",height:u,maxHeight:280};return(0,w.jsx)(x,{src:o,placeholderSrc:k?S.dataURL:void 0,placeholderBehavior:k?"force-show-placeholder":"show-placeholder-if-loading-src",containerStyle:i,imageStyle:n,onLoadComplete:M,testId:"pageCover"})}}),k&&(0,w.jsxs)("div",{style:y().fd,children:[(0,w.jsx)(o(966789).A,{size:"md",style:{marginRight:4}}),(0,w.jsx)("div",{style:{minWidth:30,textAlign:"right"},children:void 0!==S.uploadProgress?(0,w.jsx)(o(335157).A,{percentage:S.uploadProgress}):S.progressText?(0,w.jsx)("span",{children:S.progressText}):null})]})]})})};function M(){g().A.reset()}function I(e){let{isVisible:t,isRepositioning:o,handleCancelClick:a,handleRepositionClick:d,handleSavePositionClick:y,lastProxiedUrl:b,store:S,disabled:x,paddingRight:A,paddingLeft:M,mouseStore:I}=e;const k=(0,i().v3)(),T=(0,s().tz)(),j=(0,n.useCallback)((e=>function(e,t,o,n,i){i.reset();const r=e.target.getBoundingClientRect();l().W({environment:t,intl:o,store:n,rect:r})}(e,k,T,S,I)),[k,T,S,I]),P=(0,r().K8)((()=>g().A.state.loadingMode),[]),B=(0,r().K8)((()=>function(e){let t;return t=Boolean(e.isFullWidth())?"100%":u().x6,t}(S)),[S]),{device:_}=k,F=(0,r().K8)((()=>!o&&!(0,c().LX)({device:_})),[o,_]),E=(0,r().O$)(m().e);if(x||P!==p().pF||!E)return null;const{isMobile:R}=_;return(0,w.jsx)(h().A,{animate:{width:B,opacity:t?1:0},style:{position:"absolute",pointerEvents:t?"auto":"none",maxWidth:"100%",top:48},children:(0,w.jsxs)(f().A,{isVisible:t,position:"bottom",style:{marginRight:A,marginLeft:M},children:[F&&(0,w.jsx)(v().A,{style:{borderRight:R?"none":void 0,...C().k},onClick:j,children:(0,w.jsx)(s().sA,{defaultMessage:"Change cover",id:"pageCover.changeCover.text"})}),!o&&!R&&(0,w.jsx)(v().A,{style:{...C().k,borderRight:"none"},onClick:e=>d(e,b),children:(0,w.jsx)(s().sA,{defaultMessage:"Reposition",id:"pageCover.reposition.text"})}),o&&!R&&(0,w.jsx)(v().A,{style:C().k,onClick:y,children:(0,w.jsx)(s().sA,{defaultMessage:"Save position",id:"pageCover.savePosition.text"})}),o&&!R&&(0,w.jsx)(v().A,{style:{...C().k,borderRight:"none"},onClick:a,children:(0,w.jsx)(s().sA,{defaultMessage:"Cancel",id:"pageCover.reposition.cancelText"})})]})})}},229419:(e,t,o)=>{o.d(t,{C8:()=>m,Dz:()=>l,GC:()=>g,GL:()=>f,YY:()=>p,dM:()=>c,h9:()=>d,jX:()=>a,oF:()=>u,uj:()=>s});var n=()=>o(129978);const i={JiraSyncInfoPopup:new(n().O2)("JiraSyncInfoPopup",(async()=>await Promise.all([o.e(75134),o.e(68744)]).then(o.bind(o,917262)))),ImproveJiraSyncPopup:new(n().O2)("ImproveJiraSyncPopup",(async()=>await Promise.all([o.e(75134),o.e(2686)]).then(o.bind(o,800444)))),JiraDCAuthModal:new(n().O2)("JiraDCAuthModal",(async()=>await o.e(28763).then(o.bind(o,114124)))),ExternalImportAndSyncIndicator:new(n().O2)("ExternalImportAndSyncIndicator",(async()=>await o.e(98288).then(o.bind(o,988714)))),JiraSyncedAllProjectsTooltip:new(n().O2)("JiraSyncedAllProjectsTooltip",(async()=>await o.e(21446).then(o.bind(o,374415)))),JiraSyncedAllIssuesTooltip:new(n().O2)("JiraSyncedAllIssuesTooltip",(async()=>await o.e(21446).then(o.bind(o,374415)))),JiraSyncedDatabaseViewsAndFiltersTooltip:new(n().O2)("JiraSyncedDatabaseViewsAndFiltersTooltip",(async()=>await o.e(21446).then(o.bind(o,374415)))),JiraSyncSourceTooltip:new(n().O2)("JiraSyncSourceTooltip",(async()=>await o.e(21446).then(o.bind(o,374415)))),JiraSyncedSettingsToSetupProjectsAndIssuesTooltip:new(n().O2)("JiraSyncedSettingsToSetupProjectsAndIssuesTooltip",(async()=>await o.e(21446).then(o.bind(o,374415))))},r={JiraSyncTeamSpaceModal:new(n().O2)("JiraSyncTeamSpaceModal",(async()=>Promise.all([o.e(96159),o.e(56188)]).then(o.bind(o,35705))))},s=(0,n()._h)(r.JiraSyncTeamSpaceModal,(e=>e.default)),a=(0,n()._h)(i.JiraSyncedAllProjectsTooltip,(e=>e.JiraSyncedAllProjectsTooltip)),l=(0,n()._h)(i.JiraDCAuthModal,(e=>e.default)),d=(0,n()._h)(i.JiraSyncedAllIssuesTooltip,(e=>e.JiraSyncedAllIssuesTooltip)),c=(0,n()._h)(i.JiraSyncedDatabaseViewsAndFiltersTooltip,(e=>e.JiraSyncedDatabaseViewsAndFiltersTooltip)),u=(0,n()._h)(i.JiraSyncedSettingsToSetupProjectsAndIssuesTooltip,(e=>e.JiraSyncedSettingsToSetupProjectsAndIssuesTooltip)),m=(0,n()._h)(i.JiraSyncSourceTooltip,(e=>e.JiraSyncSourceTooltip)),p=(0,n()._h)(i.JiraSyncInfoPopup,(e=>e.JiraSyncInfoPopup)),g=(0,n()._h)(i.ImproveJiraSyncPopup,(e=>e.ImproveJiraSyncPopup)),f=(0,n()._h)(i.ExternalImportAndSyncIndicator,(e=>e.ExternalImportAndSyncIndicator));(0,o(680369).xh)("jira",{default:{loader:()=>o.e(60677).then(o.bind(o,832398)),size:20},small:{loader:()=>o.e(60677).then(o.bind(o,832398)),size:16},mini:{loader:()=>o.e(60677).then(o.bind(o,832398)),size:14},large:{loader:()=>o.e(60677).then(o.bind(o,832398)),size:24}})},234966:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>i,personCircleIcon:()=>r});o(242343);var n=o(163643);const i={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M7.755 6.169C8.277 5.519 9.05 5.125 10 5.125s1.723.393 2.245 1.044c.51.635.75 1.474.75 2.346s-.24 1.71-.75 2.346c-.522.65-1.294 1.044-2.245 1.044-.95 0-1.723-.394-2.245-1.044-.51-.635-.75-1.474-.75-2.346s.24-1.711.75-2.346m.975.782c-.293.365-.475.909-.475 1.564s.182 1.198.475 1.564c.281.35.694.576 1.27.576s.989-.226 1.27-.576c.294-.366.475-.909.475-1.564s-.181-1.199-.475-1.564c-.281-.35-.693-.576-1.27-.576-.576 0-.989.225-1.27.576"}),(0,n.jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 15.25 0 7.625 7.625 0 0 1-15.25 0M10 3.625a6.375 6.375 0 0 0-4.087 11.267c.789-1.397 2.333-2.33 4.087-2.33s3.298.933 4.087 2.33A6.375 6.375 0 0 0 10 3.625M13.049 15.6c-.547-1.049-1.697-1.789-3.05-1.789-1.351 0-2.501.74-3.048 1.789a6.35 6.35 0 0 0 3.049.775 6.34 6.34 0 0 0 3.049-.775"})]})},r=(0,o(680369).wt)("personCircle",i)},263873:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>n,plusSmallIcon:()=>i});o(242343);const n={viewBox:"0 0 16 16",svg:(0,o(163643).jsx)("path",{d:"M8 2.74a.66.66 0 0 1 .66.66v3.94h3.94a.66.66 0 0 1 0 1.32H8.66v3.94a.66.66 0 0 1-1.32 0V8.66H3.4a.66.66 0 0 1 0-1.32h3.94V3.4A.66.66 0 0 1 8 2.74"})},i=(0,o(680369).wt)("plusSmall",n)},277013:(e,t,o)=>{o.d(t,{$:()=>d,S:()=>c});var n=()=>o(803290),i=()=>o(174114),r=()=>o(782422),s=()=>o(48913),a=()=>o(755648),l=()=>o(566255);function d(e){const{environment:t,rightEdgeDistance:o,isInPeekRenderer:d}=e,u=e.width??36,m=(0,n().K8)((()=>(0,s().zo)(t,d)-(0,s().Ql)(t)),[t,d]),p=(0,n().K8)((()=>c(t,16+a().A.state)),[t]),g=(0,n().K8)((()=>o+a().A.state),[o]),f=(0,n().K8)((()=>r().$o.state?0:1),[]);return(0,i().IS)((e=>({buttonPositionStyle:{display:"flex",position:"absolute",bottom:p,right:g,opacity:f,transform:`translateX(-${m}px) translateZ(0)`,transition:`\n\t\t\t\t\topacity ${l().L}ms,\n\t\t\t\t\tcolor ${l().L}ms,\n\t\t\t\t\ttransform 200ms\n\t\t\t\t`,alignItems:"center",gap:10},roundButtonStyle:{display:"flex",alignItems:"center",justifyContent:"center",background:e.whiteButtonBackground,width:u,height:u,borderRadius:"100%",fontSize:20,boxShadow:e.shadowSM}})),[m,p,g,u,f])}function c(e,t){return e.WindowSizeStore.getSafePaddingBottomCSS(t+(e.device.isTablet?-12:0))}},286270:(e,t,o)=>{o.d(t,{E:()=>s});var n=o(242343),i=()=>o(81e4),r=o(163643);const s=n.forwardRef(((e,t)=>{let{children:n,color:s,disabled:a,icon:l,iconStyle:d,isLoading:c,shape:u="default",size:m="md",style:p,...g}=e;const f=(0,o(174114).IS)((e=>{const t=s?`${s}Primary`:"primary",r=s||"regular",g=s?`${s}Hover`:"primaryHover",f=s?`${s}Pressed`:"primaryPressed";return{button:{...(0,i().qq)({shape:u,size:m,hasIconOnly:Boolean(l)&&!n}),justifyContent:"center",color:e.text[t],background:e.tint[r],opacity:a||c?.3:1,fontWeight:o(31448).Wy.medium,...p},hovered:{background:a?e.tint[r]:e.tint[g]},pressed:{background:a?e.tint[r]:e.tint[f]},icon:{...(0,i().D3)({size:m,hasIconOnly:!n}),...d}}}),[n,s,a,l,d,c,u,m,p]);return(0,r.jsxs)(o(417653).A,{ref:t,style:f.button,hoveredStyle:f.hovered,pressedStyle:f.pressed,disabled:a,isLoading:c,...g,children:[l?l(f.icon):null,n]})}));s.displayName="TintButton"},288701:(e,t,o)=>{o.d(t,{M:()=>T});var n=o(242343),i=()=>o(237385),r=()=>o(803290),s=()=>o(174114),a=()=>o(507190),l=()=>o(931399),d=()=>o(680369),c=()=>o(653998),u=()=>o(91472),m=()=>o(421338),p=()=>o(59175),g=()=>o(286404),f=()=>o(431551),h=()=>o(103151),v=()=>o(434498),y=()=>o(137476),b=()=>o(477784),S=()=>o(907721),w=()=>o(760034),x=()=>o(208897),C=()=>o(515347),A=()=>o(190606),M=()=>o(383217),I=o(163643);const k=(0,c().YK)({showTitle:{id:"embedSettingsContent.showPageTitle.toggle",defaultMessage:"Show page title"},showFormTitle:{id:"embedSettingsContent.showFormTitle.toggle",defaultMessage:"Show form title"},showTitleTooltip:{id:"embedSettingsContent.showTitleTooltip",defaultMessage:"Show page title & icon in the embedded view"}});function T(e){const t=(0,i().v3)(),{currentBlockStore:o}=e,T=(0,r().K8)((()=>{var e;if(o)return null===(e=(0,C().GN)(o))||void 0===e?void 0:e.getSiteStore()}),[o]),j=(0,r().K8)((()=>{var e;return null==T||null===(e=T.getSettings())||void 0===e?void 0:e.embedSettings}),[T]),P=(0,r().K8)((()=>o?(0,x().R)({store:o,embedded:!0,pageVisitSource:void 0}):""),[o]),B=(0,r().K8)((()=>P?`\n\t\t\t\t<iframe src="${P}"\n\t\t\t\t\twidth="100%"\n\t\t\t\t\theight="600"\n\t\t\t\t\tframeborder="0"\n\t\t\t\t\tallowfullscreen\n\t\t\t\t/>\n\t\t\t\t`.trim().replace(/\s+/g," "):""),[P]),_=n.useCallback((async()=>{const e=await u().R.clipboardActions.load();e.copyString({environment:t,stringValue:B,copiedMessage:e.clipboardMessages.copiedLinkToClipboard}),(0,y().u4)({environment:t,event:{eventName:"copy_embed_code",eventProperties:{target_block_id:o.id}}})}),[B,t,o.id]),F=n.useCallback((()=>{T&&(0,w().E9)({environment:t,siteStore:T,embedSettings:{hideTitle:!(null!=j&&j.hideTitle)}})}),[T,null==j?void 0:j.hideTitle,t]),E=(0,r().K8)((()=>o.isFormBlock()?k.showFormTitle:k.showTitle),[o]),R=(0,s().IS)((e=>({copyIcon:{width:d().Ev.sm,height:d().Ev.sm,marginLeft:0,marginRight:6},primaryButton:{marginLeft:"auto",marginRight:0,width:"fit-content"},container:{paddingLeft:8,paddingRight:8}})),[]);return(0,I.jsxs)(m().Y1,{direction:"vertical",gap:14,style:R.container,children:[(0,I.jsx)(h().A,{renderTooltip:()=>b().A.formatMessage(k.showTitleTooltip),disableTooltip:!1,render:e=>(0,I.jsx)("div",{...e,children:(0,I.jsx)(M().O,{title:E,icon:l().a,right:(0,I.jsx)(f().A,{on:!Boolean(null==j?void 0:j.hideTitle),onClick:F}),disabled:!1,onClick:F,style:{marginBottom:-6}})}),placement:S().W.Bottom,alignment:v().C1.Center,textWrap:!0,style:{maxWidth:A().SITE_SETTINGS_TOOLTIP_WIDTH}}),(0,I.jsx)(p().A,{disabled:!0,textarea:!0,textareaSubmitOnEnter:!1,autosize:!0,autosizeMinHeight:50,showClearButton:!1,readOnly:!0,value:B,textareaElementAttributes:{cols:50}}),(0,I.jsx)(g().A,{size:"lg",onClick:_,style:R.primaryButton,icon:e=>(0,a().V)({...e,...R.copyIcon}),children:(0,I.jsx)(c().sA,{id:"embedSettingsContent.copyEmbedCode",defaultMessage:"Copy code"})})]})}},294117:(e,t,o)=>{o.d(t,{o:()=>i});o(242343);const n={viewBox:"0 0 20 20",svg:(0,o(163643).jsx)("path",{d:"M10 2.375q-.634 0-1.242.1A.625.625 0 0 0 8.96 3.71a6.4 6.4 0 0 1 2.08 0 .625.625 0 0 0 .202-1.233q-.608-.1-1.242-.101m4.442 1.426a.625.625 0 0 0-.729 1.015 6.4 6.4 0 0 1 1.47 1.47.625.625 0 1 0 1.015-.73 7.7 7.7 0 0 0-1.756-1.755M6.287 4.817a.625.625 0 0 0-.73-1.015 7.7 7.7 0 0 0-1.755 1.756.625.625 0 1 0 1.015.729 6.4 6.4 0 0 1 1.47-1.47m11.237 3.941a.625.625 0 0 0-1.233.202 6.4 6.4 0 0 1 0 2.08.625.625 0 0 0 1.233.202 7.7 7.7 0 0 0 0-2.484M3.71 8.96a.625.625 0 0 0-1.234-.202 7.7 7.7 0 0 0 0 2.484.625.625 0 1 0 1.233-.202 6.4 6.4 0 0 1 0-2.08m12.489 5.482a.625.625 0 0 0-1.015-.729 6.4 6.4 0 0 1-1.096 1.18c-.79-1.398-2.333-2.332-4.087-2.332s-3.298.934-4.087 2.331a6 6 0 0 1-.567-.536l-.006-.006a6 6 0 0 1-.523-.637.625.625 0 0 0-1.015.73 7.7 7.7 0 0 0 1.756 1.755l.008.006a7.6 7.6 0 0 0 4.74 1.415 7.6 7.6 0 0 0 5.261-2.408l.006-.007q.337-.36.625-.762M6.951 15.6c.547-1.049 1.697-1.789 3.049-1.789s2.502.74 3.049 1.79a6.34 6.34 0 0 1-3.046.774H10a6.35 6.35 0 0 1-3.05-.775m.805-9.431C8.277 5.519 9.05 5.125 10 5.125s1.723.393 2.245 1.044c.51.635.75 1.474.75 2.346s-.24 1.71-.75 2.346c-.522.65-1.294 1.044-2.245 1.044-.95 0-1.723-.394-2.245-1.044-.51-.635-.75-1.474-.75-2.346s.24-1.711.75-2.346m.975.782c-.293.365-.475.909-.475 1.564s.182 1.198.475 1.564c.281.35.694.576 1.27.576s.989-.226 1.27-.576c.294-.366.475-.909.475-1.564s-.181-1.199-.475-1.564c-.281-.35-.693-.576-1.27-.576-.576 0-.989.225-1.27.576"})},i=(0,o(680369).wt)("personCropCircleDashed",n)},301892:(e,t,o)=>{o.d(t,{y:()=>i});var n=()=>o(836331);function i(e){const{permissionItem:t,allowDuplicate:o}=e,{is_public_share_link:i}=t;return n().default.checkGate({gateName:"sharing_anyone_with_the_link"})&&i?{...t,is_site:!0,allow_duplicate:o}:{...t,role:"reader",is_site:!0,allow_duplicate:o}}},305168:(e,t,o)=>{o.d(t,{A:()=>r});var n=()=>o(437071);class i extends(()=>o(129044))().default{getInitialState(){return{isFullScreen:window.outerWidth===window.screen.width&&window.outerHeight===window.screen.height}}constructor(){super(),this.updateFromElectronState=async()=>{const e=await n().fullscreen.get();void 0!==e&&this.setState({isFullScreen:e})},n().fullscreen.addListener(this.updateFromElectronState),this.updateFromElectronState()}}const r=new i},309968:(e,t,o)=>{o.d(t,{A:()=>i});class n extends(()=>o(129044))().default{}const i=new n},367950:(e,t,o)=>{function n(e){return`${e.table}:${e.id}`}o.d(t,{_:()=>n})},373023:(e,t,o)=>{o.d(t,{$y:()=>b,jc:()=>y,x9:()=>v});o(242343);var n=()=>o(237385),i=()=>o(803290),r=()=>o(945335),s=()=>o(808263),a=()=>o(653998),l=()=>o(336519),d=()=>o(206799),c=()=>o(137476),u=()=>o(548694),m=()=>o(309968),p=()=>o(837141),g=()=>o(613313),f=()=>o(525263),h=o(163643);function v(){const e=(0,i().K8)((()=>{const{editsBlocked:e}=p().A.state;return e??!1}),[]),t=(0,n().v3)();return(0,i().K8)((()=>(0,g().Jq)(t)),[t])&&e}function y(){return(0,i().K8)((()=>{var e;const t=m().A.state;return null==t||null===(e=t.data)||void 0===e?void 0:e.invoiceHostedUrl}),[])}function b(){const e=(0,n().v3)(),t=y(),o=(0,i().K8)((()=>{var e;const t=m().A.state;return(null==t||null===(e=t.data)||void 0===e?void 0:e.overdueInvoiceCount)??0}),[]),c=(0,i().K8)((()=>(0,u().s7)(e)),[e]),p=function(e,t){if(e)return t>1?(0,h.jsx)(a().sA,{defaultMessage:"Access to Notion is limited because we couldnâ€™t process {overdueInvoiceCount, plural, one {your last payment} other {{overdueInvoiceCount} payments}}.",id:"uncollectibleExperience.uncollectibleExperienceOverlay.multipleInvoicesMessageContent",values:{overdueInvoiceCount:t}}):(0,h.jsx)(a().sA,{defaultMessage:"Access to Notion is limited because we couldnâ€™t process your last payment",id:"uncollectibleExperience.uncollectibleExperienceOverlay.messageContent"});return(0,h.jsx)(a().sA,{id:"uncollectibleExperience.uncollectibleExperienceOverlay.memberMessageContent",defaultMessage:"Access to Notion is limited"})}(c,o),g=function(e){if(e)return;return(0,h.jsx)(a().sA,{id:"uncollectibleExperience.uncollectibleExperienceOverlay.memberSecondaryLabel",defaultMessage:"Contact a workspace owner to update your workspaceâ€™s payment method"})}(c),v=function(e,t,o){if(t){const n=(0,f().a)(o);return o=>{n&&(S(t,e),n(o))}}return o=>{S(t,e),l().Ow()}}(e,c,t),b=function(e){if(e)return(0,h.jsx)(a().sA,{defaultMessage:"View unpaid invoice",id:"uncollectibleExperience.uncollectibleExperienceOverlay.buttonLabel"});return(0,h.jsx)(a().sA,{id:"uncollectibleExperience.uncollectibleExperienceOverlay.memberButtonLabel",defaultMessage:"View workspace owner"})}(c),w=function(e){if(e)return(0,h.jsx)(d().Q,{iconGroup:r().i,variantName:"default",colorName:"primary"});return(0,h.jsx)(d().Q,{iconGroup:s()._,variantName:"default",colorName:"primary"})}(c);return{clickAction:v,ctaMessage:b,primaryMessage:p,secondaryMessage:g,ctaIcon:w,tooltipBodyMessage:c?b:g,isWorkspaceOwner:c,overdueInvoiceCount:o}}function S(e,t){(0,c().u4)({environment:t,event:{eventName:"subscription_uncollectible_blurred_experience_cta_clicked",eventProperties:{is_workspace_owner:e}}})}},383217:(e,t,o)=>{o.d(t,{O:()=>c});o(242343);var n=()=>o(174114),i=()=>o(209684),r=()=>o(680369),s=()=>o(653998),a=()=>o(35462),l=o(163643);function d(e){const{title:t,icon:o,iconStyle:i,disabled:d}=e,c=(0,n().IS)((e=>({container:{display:"flex",alignItems:"center",gap:6},icon:{height:r().Ev.default,width:r().Ev.default,fill:e.icon.secondary,...i},text:{color:d?e.text.secondary:void 0}})),[i,d]);return(0,l.jsxs)("div",{style:c.container,children:[o&&o(c.icon),(0,l.jsx)(a().A,{style:c.text,children:(0,l.jsx)(s().sA,{...t})})]})}function c(e){const{title:t,icon:o,iconStyle:r,right:s,disabled:a,onClick:c,style:u,badge:m}=e,p=(0,n().IS)((()=>({container:{minHeight:32,paddingLeft:8,paddingRight:8,width:"100%",paddingTop:2,paddingBottom:2,...u},titleContainer:{display:"flex",flex:1}})),[u]);return(0,l.jsxs)(i().p,{disabled:a,onClick:c,style:p.container,children:[(0,l.jsxs)("div",{style:p.titleContainer,children:[(0,l.jsx)(d,{title:t,icon:o,iconStyle:r,disabled:a}),m]}),s]})}},403328:(e,t,o)=>{o.d(t,{f:()=>n});const n=new(o(129978).O2)("pageCovers",(async()=>{const{pageCovers:e}=await o.e(40198).then(o.bind(o,698434));return e}))},425235:(e,t,o)=>{o.d(t,{u:()=>i});o(242343);var n=o(163643);const i=(0,o(680369).wt)("arrowDownThick",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M7.99316 1.52246C7.40527 1.52246 7.00195 1.93262 7.00195 2.54785V10.1357L7.07031 11.6191L5.69629 10.0332L4.1582 8.50195C3.98047 8.31738 3.74805 8.19434 3.44727 8.19434C2.91406 8.19434 2.51074 8.59082 2.51074 9.15137C2.51074 9.41113 2.61328 9.65039 2.81836 9.8623L7.26172 14.3125C7.44629 14.5039 7.72656 14.6133 7.99316 14.6133C8.2666 14.6133 8.54004 14.5039 8.72461 14.3125L13.1748 9.8623C13.3799 9.65039 13.4824 9.41113 13.4824 9.15137C13.4824 8.59082 13.0791 8.19434 12.5459 8.19434C12.252 8.19434 12.0195 8.31738 11.835 8.50195L10.2969 10.0332L8.92285 11.6191L8.98438 10.1357V2.54785C8.98438 1.93262 8.58789 1.52246 7.99316 1.52246Z"})})},433364:(e,t,o)=>{o.d(t,{KD:()=>d,gt:()=>c,i9:()=>l,ll:()=>s,tb:()=>a,x$:()=>r});var n=()=>o(612408),i=()=>o(975392);function r(e,t){return s(c(e,t))}function s(e){return void 0!==e&&(e===n().q_||e===n().YD)}function a(e,t){if(s(t))return;const o=n().c$[e],i=o.steps.findIndex((e=>e.id===t));return-1===i?o.steps[0].id:i===o.steps.length-1?n().q_:o.steps[i+1].id}function l(e,t){const o=c(e,t);if(o&&!s(o))return a(t,o)}function d(e,t){const o=c(e,t);if(o)return function(e,t){const o=n().c$[e];var r;if(s(t))return null===(r=(0,i().HV)(o.steps))||void 0===r?void 0:r.id;const a=o.steps.findIndex((e=>e.id===t));return-1!==a&&0!==a?o.steps[a-1].id:void 0}(t,o)}function c(e,t){var o;if(!e)return;const i=((null===(o=e.getSettings())||void 0===o?void 0:o.tutorials)||{})[t];return void 0===i?n().c$[t].steps[0].id:i}},446856:(e,t,o)=>{o.d(t,{l:()=>n});const n=(0,o(653998).YK)({copiedLinkToForm:{id:"FormActionButtons.copiedLinkToForm",defaultMessage:"Copied link to form"}})},470414:(e,t,o)=>{o.d(t,{A:()=>c});o(725707),o(491955),o(403517),o(229032);var n=o(242343),i=()=>o(174114),r=()=>o(755002),s=()=>o(31448),a=()=>o(551116),l=o(163643);function d(e){const{button:t,isLast:o}=e,a=(0,i().IS)((e=>({button:{display:"flex",alignItems:"center",padding:"4px 6px",fontWeight:s().Wy.medium,borderRight:`1px solid ${e.regularDividerColor}`,color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor},buttonLast:{borderRight:"none"},buttonHovered:{background:e.whiteButtonHoveredBackground},buttonPressed:{background:e.whiteButtonPressedBackground}})),[]);return n.cloneElement(t,{...(0,r().AH)(t.props.style,a.button,o&&a.buttonLast),hoveredStyle:(0,r().AH)(a.buttonHovered,o&&a.buttonLast).style,pressedStyle:a.buttonPressed})}const c=function(e){let{children:t,isVisible:c,position:u,style:m}=e;const p=(0,o(237385).v3)(),g=(0,i().IS)((e=>({container:{color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor,fontSize:12,background:e.whiteButtonBackground,boxShadow:e.shadowSM,display:"flex",whiteSpace:"nowrap",borderRadius:a().A.borderRadius,maxWidth:"calc(100% - 16px)",minHeight:24,overflow:"hidden",pointerEvents:p.device.isMobile?"auto":"none",opacity:p.device.isMobile?1:0,fontFamily:s().vc(o(16791).locale).sans,position:"absolute",right:a().A.horizontal.small,bottom:a().A.vertical.small,zIndex:2},containerHover:{pointerEvents:"auto",opacity:1},containerTop:{top:a().A.vertical.small,bottom:void 0}})),[p]),f=n.Children.toArray(t).filter(o(76394).O9),h=f.length;return(0,l.jsx)(o(615917).A,{animate:{opacity:c?1:0},...(0,r().AH)(g.container,m,c&&g.containerHover,"top"===u&&g.containerTop),children:f.map(((e,t)=>{const i=t===h-1;if(e&&"object"==typeof e&&"type"in e){if(e.type===o(103151).A&&n.isValidElement(e))return n.cloneElement(e,{render:(t,o)=>{const n=e.props.render(t,o);return(0,l.jsx)(d,{isLast:i,button:n},e.key)}});if(e.type===o(126451).A&&n.isValidElement(e))return(0,l.jsx)(d,{isLast:i,button:e},e.key)}}))})}},472951:(e,t,o)=>{o.d(t,{k:()=>i});o(403517);class n extends(()=>o(129044))().default{getInitialState(){}waitUntilLoaded(){return this.waitUntil((()=>Boolean(this.state)))}getSortedUserIds(){return Object.entries(this.state||{}).sort(((e,t)=>{let[o,n]=e,[i,r]=t;return r-n})).map((e=>{let[t,o]=e;return t}))}}const i=new n;(0,o(996094).exposeDebugValue)("UserSimilarityStore",i)},473096:(e,t,o)=>{o.d(t,{A:()=>l});var n=o(242343),i=()=>o(174114),r=()=>o(162339),s=()=>o(966789),a=o(163643);function l(e){let{loadingMessage:t}=e;const o=(0,i().DP)(),l=(0,r().A)(!0,400);return(0,a.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:l&&(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)(s().A,{}),t&&(0,a.jsx)("div",{style:{marginLeft:8,color:o.text.secondary},children:t})]})})}},474536:(e,t,o)=>{o.d(t,{P:()=>l});var n=()=>o(803290),i=()=>o(76394),r=()=>o(378219),s=()=>o(533625),a=()=>o(485966);function l(e){let{store:t}=e;return(0,n().K8)((()=>{const e=(0,s().h)({blockId:t.id,setting:"publicAccess"});if((0,i().O9)(e))return e;const o=a().default.state.currentSpaceStore,n=(0,r().Uo)(t);return n?{disabled:Boolean(n.getDisablePublicAccess()),disabledBy:"team"}:!n&&null!=o&&o.getDisablePublicAccess()?{disabled:!0,disabledBy:"space"}:{disabled:!1}}),[t])}},514438:(e,t,o)=>{o.d(t,{r:()=>i});o(242343);const n={viewBox:"0 0 20 20",svg:(0,o(163643).jsx)("path",{d:"M3.483 4.55c0-.345.28-.625.625-.625h3.5a.625.625 0 1 1 0 1.25H5.617L8.86 8.42A6 6 0 0 1 10 10.007a6 6 0 0 1 1.14-1.588l3.243-3.244h-1.99a.625.625 0 1 1 0-1.25h3.5c.344 0 .624.28.624.625v3.5a.625.625 0 0 1-1.25 0V6.06l-3.243 3.244a4.78 4.78 0 0 0-1.399 3.358v4.108h-1.25v-4.108a4.78 4.78 0 0 0-1.398-3.358L4.733 6.059V8.05a.625.625 0 1 1-1.25 0z"})},i=(0,o(680369).wt)("arrowBranch",n)},531367:(e,t,o)=>{function n(e){let t,o,n;return async function(){for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t?(n=r,o||(o=t.then((()=>(o=void 0,t=e(...n),t))),o)):(t=e(...r),t)}}o.d(t,{A:()=>n})},543127:(e,t,o)=>{function n(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}o.d(t,{A:()=>n})},547124:(e,t,o)=>{o.d(t,{$b:()=>c,Nz:()=>l,Q1:()=>s,Vh:()=>u,ZO:()=>d,bl:()=>a,eN:()=>r,oQ:()=>i});var n=()=>o(129978);const i={WorkflowPageBlock:new(n().O2)("WorkflowPageBlock",(async()=>await o.e(87700).then(o.bind(o,600742)))),WorkflowEditorTopbar:new(n().O2)("WorkflowEditorTopbar",(async()=>await o.e(92143).then(o.bind(o,944669)))),WorkflowInPlaceEditor:new(n().O2)("WorkflowInPlaceEditor",(async()=>await Promise.all([o.e(96159),o.e(75134),o.e(43380),o.e(9304),o.e(96346),o.e(36192),o.e(55373),o.e(62475),o.e(3151),o.e(44711),o.e(98629),o.e(53321),o.e(58550),o.e(16471),o.e(90825),o.e(37353),o.e(29151),o.e(16908),o.e(36209),o.e(92845),o.e(71718),o.e(48486),o.e(83324),o.e(63077),o.e(41870),o.e(90966),o.e(88552),o.e(90214),o.e(74562),o.e(8184),o.e(28271),o.e(17254),o.e(18895),o.e(78708),o.e(28721),o.e(4422),o.e(28866),o.e(67435),o.e(17989),o.e(48632),o.e(90625),o.e(76181),o.e(59794),o.e(72832),o.e(90280),o.e(26483),o.e(33813),o.e(81768),o.e(71104),o.e(2804),o.e(82850),o.e(84778),o.e(69914),o.e(11341),o.e(92011),o.e(19361),o.e(63327),o.e(26090),o.e(38482),o.e(12341),o.e(50984),o.e(47864),o.e(40828),o.e(76007),o.e(5023),o.e(90978),o.e(65554),o.e(53571),o.e(66885),o.e(67780),o.e(96933),o.e(83181),o.e(36141),o.e(9150),o.e(50437)]).then(o.bind(o,27311)))),ChatCollectionView:new(n().O2)("ChatCollectionView",(async()=>await o.e(45666).then(o.bind(o,685332)))),CustomCollectionView:new(n().O2)("CustomCollectionView",(async()=>await Promise.all([o.e(96159),o.e(96346),o.e(36192),o.e(55373),o.e(36209),o.e(92845),o.e(71718),o.e(48486),o.e(83324),o.e(63077),o.e(41870),o.e(90966),o.e(88552),o.e(90214),o.e(8184),o.e(89693),o.e(64165)]).then(o.bind(o,594329)))),WorkflowEditorCollectionViewPage:new(n().O2)("WorkflowEditorCollectionViewPage",(async()=>await Promise.all([o.e(96159),o.e(75134),o.e(92011),o.e(38482),o.e(67780),o.e(16697)]).then(o.bind(o,727463)))),WorkflowContainerEmptyState:new(n().O2)("WorkflowContainerEmptyState",(async()=>await o.e(97891).then(o.bind(o,569963)))),workflowActions:new(n().O2)("workflowActions",(async()=>await Promise.all([o.e(96159),o.e(96346),o.e(36192),o.e(55373),o.e(36209),o.e(92845),o.e(71718),o.e(48486),o.e(83324),o.e(63077),o.e(41870),o.e(90966),o.e(88552),o.e(90214),o.e(8184),o.e(89693),o.e(11097)]).then(o.bind(o,503780)))),workflowNavigationActions:new(n().O2)("workflowNavigationActions",(async()=>await o.e(93139).then(o.bind(o,993054)))),workflowNavigationHelpers:new(n().O2)("workflowNavigationHelpers",(async()=>await o.e(92821).then(o.bind(o,501518)))),workflowAdvanced:new(n().O2)("workflowAdvanced",(async()=>await Promise.all([o.e(96159),o.e(75134),o.e(43380),o.e(9304),o.e(96346),o.e(36192),o.e(55373),o.e(62475),o.e(3151),o.e(44711),o.e(98629),o.e(53321),o.e(58550),o.e(16471),o.e(90825),o.e(37353),o.e(29151),o.e(16908),o.e(36209),o.e(92845),o.e(71718),o.e(48486),o.e(83324),o.e(63077),o.e(41870),o.e(90966),o.e(88552),o.e(90214),o.e(74562),o.e(8184),o.e(28271),o.e(17254),o.e(18895),o.e(78708),o.e(28721),o.e(4422),o.e(28866),o.e(67435),o.e(17989),o.e(48632),o.e(90625),o.e(76181),o.e(59794),o.e(72832),o.e(90280),o.e(26483),o.e(33813),o.e(81768),o.e(71104),o.e(2804),o.e(82850),o.e(84778),o.e(69914),o.e(11341),o.e(92011),o.e(19361),o.e(63327),o.e(26090),o.e(38482),o.e(12341),o.e(50984),o.e(47864),o.e(40828),o.e(76007),o.e(5023),o.e(90978),o.e(65554),o.e(53571),o.e(66885),o.e(67780),o.e(96933),o.e(83181),o.e(36141),o.e(9150)]).then(o.bind(o,59529))))},r=(0,n()._h)(i.WorkflowPageBlock,(e=>e.default)),s=(0,n()._h)(i.ChatCollectionView,(e=>e.ChatCollectionView)),a=(0,n()._h)(i.CustomCollectionView,(e=>e.CustomCollectionView)),l=(0,n()._h)(i.WorkflowEditorTopbar,(e=>e.WorkflowEditorTopbar)),d=(0,n()._h)(i.WorkflowInPlaceEditor,(e=>e.WorkflowInPlaceEditor)),c=(0,n()._h)(i.WorkflowEditorCollectionViewPage,(e=>e.WorkflowEditorCollectionViewPage)),u=(0,n()._h)(i.WorkflowContainerEmptyState,(e=>e.WorkflowContainerEmptyState))},569434:(e,t,o)=>{o.d(t,{I:()=>w,i:()=>C});var n=o(242343),i=()=>o(237385),r=()=>o(803290),s=()=>o(174114),a=()=>o(862279),l=()=>o(680369),d=()=>o(653998),c=()=>o(782422),u=()=>o(983050),m=()=>o(667801),p=()=>o(440588),g=()=>o(907721),f=()=>o(216273),h=()=>o(615917),v=()=>o(356813),y=()=>o(151835),b=()=>o(103151),S=o(163643);function w(e){const t=(0,i().v3)(),o=(0,i().Y0)(),n=(0,d().tz)(),s=(0,r().O$)(p().sidebarMouseEnteredStore),l=(0,r().O$)(f().b),u=(0,r().O$)(c().$o),g=n.formatMessage({defaultMessage:"Close sidebar",id:"sidebarUnexpandButton.closeSidebar.tooltip"}),h=(!o.isElectronMac||!u)&&!l&&s;return(0,S.jsx)(C,{isVisible:h,icon:a().S,caption:g,onClick:()=>{m().closeSidebarFromTopbarUnexpandButton(t)},keyboardShortcutName:"toggleSidebar",style:e.style,hoveredStyle:e.hoveredStyle})}const x={width:l().Ev.lg,height:l().Ev.lg,fill:"inherit"};function C(e){const t=(0,i().Y0)(),o=(0,s().IS)((e=>({keyboardShortcut:{color:e.text.contrastSecondary},button:{fill:e.mediumIconColor}})),[]),r=(0,n.useMemo)((()=>({position:"relative",marginLeft:10,...t.isMobile&&{height:"100%"},...o.button,...e.style})),[e.style,o.button,t.isMobile]);return(0,S.jsx)(b().A,{renderTooltip:()=>(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{children:e.caption}),e.keyboardShortcutName&&(0,S.jsx)(y().A,{style:o.keyboardShortcut,name:e.keyboardShortcutName})]}),originGap:6,placement:t.isElectron?g().W.Right:g().W.Bottom,render:o=>(0,S.jsx)(h().A,{tag:v().A,animate:{opacity:e.isVisible?1:0},ariaLabel:e.caption,disabled:!e.isVisible,icon:e.icon,style:r,hoveredStyle:e.hoveredStyle,iconStyle:x,mobileFeedback:t.isMobile,onClick:e.onClick,className:u().P7S,...o})})}},575681:(e,t,o)=>{o.d(t,{_:()=>i});o(242343);var n=o(163643);const i=(0,o(680369).wt)("chevronDownRounded",{viewBox:"0 0 15 9",svg:(0,n.jsx)("path",{d:"M7.92188 8.65625C8.19531 8.64844 8.44531 8.54688 8.64844 8.32812L14.5859 2.25C14.7578 2.07812 14.8516 1.85938 14.8516 1.60156C14.8516 1.08594 14.4453 0.671875 13.9297 0.671875C13.6797 0.671875 13.4375 0.773438 13.2578 0.953125L7.92969 6.42969L2.58594 0.953125C2.40625 0.78125 2.17188 0.671875 1.91406 0.671875C1.39844 0.671875 0.992188 1.08594 0.992188 1.60156C0.992188 1.85938 1.08594 2.07812 1.25781 2.25L7.20312 8.32812C7.41406 8.54688 7.64844 8.65625 7.92188 8.65625Z"})})},586588:(e,t,o)=>{o.r(t),o.d(t,{dismissTutorial:()=>c,resetTutorials:()=>u,tutorialAdvanceToStep:()=>m,tutorialAdvanceToStepAfter:()=>p,tutorialGoToNextStep:()=>l,tutorialGoToPrevStep:()=>d});var n=()=>o(612408),i=()=>o(84543),r=()=>o(658388),s=()=>o(433364),a=()=>o(485966);function l(e,t){var o;const{currentUserSettingsStore:n}=a().default.state;if(!n)return;const i=null===(o=n.getSettings())||void 0===o?void 0:o.tutorials;g({userAction:"TutorialActions.nextStep",environment:e,perform:e=>{r().mJ({userSettingsStore:n,transaction:e,data:{tutorials:{...i,[t]:(0,s().i9)(n,t)}}})},userId:n.id})}function d(e,t){var o;const{currentUserSettingsStore:n}=a().default.state;if(!n)return;const i=null===(o=n.getSettings())||void 0===o?void 0:o.tutorials;g({userAction:"TutorialActions.prevStep",environment:e,perform:e=>{r().mJ({userSettingsStore:n,transaction:e,data:{tutorials:{...i,[t]:(0,s().KD)(n,t)}}})},userId:n.id})}function c(e,t){var o;const{currentUserSettingsStore:i}=a().default.state;if(!i)return;const s=null===(o=i.getSettings())||void 0===o?void 0:o.tutorials;(null==s?void 0:s[t])!==n().YD&&g({userAction:"TutorialActions.dismissTutorial",environment:e,perform:e=>{r().mJ({userSettingsStore:i,transaction:e,data:{tutorials:{...s,[t]:n().YD}}})},userId:i.id})}function u(e){const{currentUserSettingsStore:t}=a().default.state;t&&g({userAction:"TutorialActions.resetTutorialsDebug",environment:e,perform:e=>{r().mJ({userSettingsStore:t,transaction:e,data:{tutorials:{}}})},userId:t.id})}function m(e,t,o){var i;const{currentUserSettingsStore:l}=a().default.state;if(!l||(0,s().x$)(l,t))return;const d=(0,s().gt)(l,t);n().c$[t].steps.findIndex((e=>e.id===d))>=n().c$[t].steps.findIndex((e=>e.id===o))||r().mJ({userSettingsStore:l,transaction:e,data:{tutorials:{...null===(i=l.getSettings())||void 0===i?void 0:i.tutorials,[t]:o}}})}function p(e,t,o){if((0,s().ll)(o))return;const n=(0,s().tb)(t,o);n&&m(e,t,n)}function g(e){return i().createAndCommit({...e,canUndo:!1})}},601178:(e,t,o)=>{o.d(t,{EG:()=>s,K5:()=>r,RH:()=>i,Yi:()=>a,ls:()=>n});const n=32,i=202,r=1e3,s="Want to add a metric? Look for 'src/client/performanceToolbar/config.ts' in notion-next.",a="To disable the toolbar entirely, go to the 'Experiments' panel and look for the 'performance_debugging_toolbar' flag."},612408:(e,t,o)=>{o.d(t,{YD:()=>r,c$:()=>n,q_:()=>i});const n={"sprints-onboarding":{steps:[{id:"current-sprint-view-tooltip"},{id:"sprint-task-tooltip"},{id:"complete-sprint-button-tooltip"}]},"enhanced-qna-onboarding":{steps:[{id:"find-in-tooltip"},{id:"mention-tooltip"}]},"jira-sync-onboarding":{steps:[{id:"all-projects-tooltip"},{id:"all-issues-tooltip"},{id:"database-views-and-filters-tooltip"},{id:"settings-to-setup-projects-and-issues"}]},"project-management-import-onboarding":{steps:[{id:"your-teamspace-tooltip"},{id:"all-projects-tooltip"},{id:"navigate-to-project-tasks-tooltip"},{id:"project-customization-tooltip"},{id:"related-tasks-database-views-tooltip"}]},"ai-comment-onboarding":{steps:[{id:"ai-comment-onboarding-tooltip"}]}},i="completed",r="dismissed"},620408:(e,t,o)=>{o.d(t,{P:()=>i});o(242343);const n={viewBox:"0 0 20 20",svg:(0,o(163643).jsx)("path",{d:"M9.08 3.341a1.625 1.625 0 0 1 1.84 0l5.875 4.035c.441.304.705.805.705 1.34v6.034a2.125 2.125 0 0 1-2.125 2.125h-2.716a1.625 1.625 0 0 1-1.625-1.625v-4.065H8.967v4.065c0 .898-.728 1.625-1.625 1.625H4.625A2.125 2.125 0 0 1 2.5 14.75V8.716c0-.535.264-1.036.705-1.34zm1.132 1.03a.375.375 0 0 0-.424 0L3.913 8.407a.38.38 0 0 0-.163.309v6.034c0 .483.392.875.875.875h2.716a.375.375 0 0 0 .375-.375v-4.19c0-.621.503-1.125 1.125-1.125h2.319c.62 0 1.124.504 1.124 1.125v4.19c0 .207.168.375.375.375h2.716a.875.875 0 0 0 .875-.875V8.716c0-.124-.06-.24-.163-.31z"})},i=(0,o(680369).wt)("home",n)},650964:(e,t,o)=>{o.d(t,{A:()=>s});var n=()=>o(543127),i=()=>o(144656),r=()=>o(662988);function s(e,t){(0,r().A)(2,arguments);var o=(0,i().A)(e),s=(0,n().A)(t),a=o.getFullYear(),l=o.getDate(),d=new Date(0);d.setFullYear(a,s,15),d.setHours(0,0,0,0);var c=function(e){(0,r().A)(1,arguments);var t=(0,i().A)(e),o=t.getFullYear(),n=t.getMonth(),s=new Date(0);return s.setFullYear(o,n+1,0),s.setHours(0,0,0,0),s.getDate()}(d);return o.setMonth(s,Math.min(l,c)),o}},652039:(e,t,o)=>{o.d(t,{Ay:()=>l,Gi:()=>r,Wc:()=>n,pF:()=>s,vS:()=>i});const n="loadingLocalImage",i="uploading",r="downloading",s="loaded";class a extends(()=>o(129044))().default{getInitialState(){return{loadingMode:s}}}const l=a},662988:(e,t,o)=>{function n(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}o.d(t,{A:()=>n})},677711:(e,t,o)=>{o.d(t,{H:()=>i});var n=()=>o(836331);function i(e){const{permissionItem:t}=e,{is_public_share_link:o}=t;return n().default.checkGate({gateName:"sharing_anyone_with_the_link"})?o?{...t,is_site:!1}:{...t,role:"none",is_site:!1}:{...t,is_site:!1,role:"none"}}},678523:(e,t,o)=>{o.d(t,{A:()=>a});o(242343);var n=()=>o(237385),i=()=>o(174114),r=()=>o(126451),s=o(163643);function a(e){const t=(0,n().Y0)(),o=(0,i().IS)((e=>({sharedStyle:{display:"flex",alignItems:"center",borderRadius:4},innerStyle:{padding:"2px 6px",borderRadius:4,color:e.text.secondary,background:e.defaultBadgeBackground,fontSize:t.isMobile?11:9,lineHeight:t.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em",whiteSpace:"nowrap"}})),[t.isAndroid,t.isMobile]);return t.isMobile?(0,s.jsx)(r().A,{style:{...o.sharedStyle,...e.mobileStyle},disabled:void 0===e.onClick,children:(0,s.jsx)("div",{style:{...o.innerStyle,...e.innerStyle},children:e.children})}):(0,s.jsx)(r().A,{style:{...o.sharedStyle,...e.desktopStyle},disabled:void 0===e.onClick,...e,children:(0,s.jsx)("div",{style:{...o.innerStyle,...e.innerStyle},children:e.children})})}},680645:(e,t,o)=>{o.r(t),o.d(t,{FORMS_SHARE_CALLOUT_KEY:()=>Z,changeFormClosedState:()=>ce,changeFormSubmissionPermissions:()=>ue,createAndFocusCollectionFormEditorView:()=>ne,createCollectionFormEditorView:()=>ie,createDummyFormPage:()=>fe,createFormInPrivate:()=>re,createFormQuestion:()=>ae,createFormQuestionAndUpdateOrCreateModule:()=>de,createModuleForNewlyDuplicatedProperty:()=>le,createResponsesCollectionView:()=>se,handleUpdateFormQuestionName:()=>ee,incrementAndTrackUserFormsCreated:()=>X,maybeAlertAboutUnsupportedPublicQuestions:()=>he,maybeSyncQuestionNameToPropertyName:()=>te,remapQuestionToNewProperty:()=>ge,toggleAnonymousFormSubmissionState:()=>me,toggleNotionBrandingState:()=>pe});o(610931),o(362833),o(725707),o(491955),o(500234),o(771702),o(403517),o(242343);var n=()=>o(174114),i=()=>o(712437),r=()=>o(762847),s=()=>o(543396),a=()=>o(564134),l=()=>o(716605),d=()=>o(488587),c=()=>o(427091),u=()=>o(23735),m=o(163643);const p=(0,o(680369).wt)("collectionForm",{viewBox:"0 0 16 16",svg:(0,m.jsx)("path",{d:"M5.50195 4.75635C5.37435 4.75635 5.26953 4.71305 5.1875 4.62646C5.10547 4.53988 5.06445 4.43734 5.06445 4.31885C5.06445 4.1958 5.10547 4.09326 5.1875 4.01123C5.26953 3.9292 5.37435 3.88818 5.50195 3.88818H10.5059C10.6289 3.88818 10.7314 3.9292 10.8135 4.01123C10.8955 4.09326 10.9365 4.1958 10.9365 4.31885C10.9365 4.43734 10.8955 4.53988 10.8135 4.62646C10.7314 4.71305 10.6289 4.75635 10.5059 4.75635H5.50195ZM5.50195 7.0874C5.37435 7.0874 5.26953 7.04639 5.1875 6.96436C5.10547 6.87777 5.06445 6.77295 5.06445 6.6499C5.06445 6.53141 5.10547 6.43115 5.1875 6.34912C5.26953 6.26709 5.37435 6.22607 5.50195 6.22607H10.5059C10.6289 6.22607 10.7314 6.26709 10.8135 6.34912C10.8955 6.43115 10.9365 6.53141 10.9365 6.6499C10.9365 6.77295 10.8955 6.87777 10.8135 6.96436C10.7314 7.04639 10.6289 7.0874 10.5059 7.0874H5.50195ZM5.50195 9.42529C5.37435 9.42529 5.26953 9.38428 5.1875 9.30225C5.10547 9.22021 5.06445 9.11995 5.06445 9.00146C5.06445 8.87842 5.10547 8.77588 5.1875 8.69385C5.26953 8.60726 5.37435 8.56396 5.50195 8.56396H7.92188C8.04948 8.56396 8.1543 8.60726 8.23633 8.69385C8.31836 8.77588 8.35938 8.87842 8.35938 9.00146C8.35938 9.11995 8.31836 9.22021 8.23633 9.30225C8.1543 9.38428 8.04948 9.42529 7.92188 9.42529H5.50195ZM2.13867 13.1577V2.84229C2.13867 2.10856 2.32552 1.55257 2.69922 1.17432C3.07292 0.791504 3.62663 0.600098 4.36035 0.600098H11.6406C12.3743 0.600098 12.9281 0.791504 13.3018 1.17432C13.6755 1.55257 13.8623 2.10856 13.8623 2.84229V13.1577C13.8623 13.896 13.6755 14.4543 13.3018 14.8325C12.9281 15.2108 12.3743 15.3999 11.6406 15.3999H4.36035C3.62663 15.3999 3.07292 15.2108 2.69922 14.8325C2.32552 14.4543 2.13867 13.896 2.13867 13.1577ZM3.48535 13.0757C3.48535 13.3901 3.56738 13.6317 3.73145 13.8003C3.89551 13.9689 4.14388 14.0532 4.47656 14.0532H11.5312C11.8639 14.0532 12.1123 13.9689 12.2764 13.8003C12.4404 13.6317 12.5225 13.3901 12.5225 13.0757V2.93115C12.5225 2.61214 12.4404 2.36833 12.2764 2.19971C12.1123 2.02653 11.8639 1.93994 11.5312 1.93994H4.47656C4.14388 1.93994 3.89551 2.02653 3.73145 2.19971C3.56738 2.36833 3.48535 2.61214 3.48535 2.93115V13.0757Z"})});var g=()=>o(84525),f=()=>o(33715),h=()=>o(996151),v=()=>o(220574),y=()=>o(632627),b=()=>o(145017),S=()=>o(289765),w=()=>o(109046),x=()=>o(968410),C=()=>o(34662),A=()=>o(653998),M=()=>o(728373),I=()=>o(31448),k=()=>o(154956),T=()=>o(415029),j=()=>o(145046),P=()=>o(927999),B=()=>o(759625),_=()=>o(191756),F=()=>o(163875),E=()=>o(84543),R=()=>o(658388),D=()=>o(871856),L=()=>o(259897),V=()=>o(137476),N=()=>o(900921),W=()=>o(206183),O=()=>o(754697),H=()=>o(477784),K=()=>o(689248),U=()=>o(113805),z=()=>o(130081),Q=()=>o(485966),G=()=>o(836331),$=()=>o(976603),Y=()=>o(937968),J=()=>o(659030);const q=(0,A().YK)({responsesViewName:{id:"formEditorActions.responsesViewName",defaultMessage:"Responses"},newFormViewName:{id:"formEditorActions.newFormViewName",defaultMessage:"Form builder"},formDatabaseTitle:{id:"newBlock.databaseInline.formDatabaseTitle",defaultMessage:"New form"}}),Z="forms_share_form_tooltip";function X(e,t){const{currentUserSettingsStore:o}=Q().default.state;if(!o)return;const n=function(){const{currentUserSettingsStore:e}=Q().default.state;if(!e)return;return e.getSettingsStore().getKeyStore("user_forms_created_count").getValue()??0}();void 0!==n&&(R().mJ({userSettingsStore:o,transaction:t,data:{user_forms_created_count:n+1}}),function(e,t){(0,V().u4)({environment:e,event:{eventName:"form_created",eventProperties:{user_total_form_count:t.userFormsCreatedCount}}})}(e,{userFormsCreatedCount:n+1})),G().default.logEvent("form_created")}function ee(e){var t;const{questionStore:o,newName:n,environment:i,collectionStore:r,collectionSchema:s,collectionContextStore:a}=e,l=null===(t=o.getConfig())||void 0===t?void 0:t.propertyId;if(!l)throw new Error("No property ID found for question");E().createAndCommit({userAction:"formQuestion.changeName",environment:i,canUndo:!0,perform:e=>{var t,i;const d=null===(t=o.getConfig())||void 0===t?void 0:t.name;if(!d)return;const u=(0,y().r4)({textValue:d,getRecordModel:o.getRecordModel,deterministic:!0,userTimeZone:(0,c().P)(),intl:H().A.getIntl()})===(null===(i=s[l])||void 0===i?void 0:i.name);E().applyOperation({store:o,operation:{pointer:o.pointer,path:["config","name"],command:"set",args:[[n]]},transaction:e}),o.shouldSyncQuestionNameToPropertyName()&&(u&&!(0,W().fE)({property:l,collectionContextStore:a,newValue:n})?k().YO({collectionStore:r,property:l,name:n,transaction:e}):E().applyOperation({store:o,operation:{pointer:o.pointer,path:["config","shouldSyncQuestionNameToPropertyName"],command:"set",args:!1},transaction:e}))}})}function te(e){var t;const{questionStore:o,environment:n,collectionStore:i,collectionContextStore:r}=e,s=null===(t=o.getConfig())||void 0===t?void 0:t.propertyId;if(!s)throw new Error("No property ID found for question");E().createAndCommit({userAction:"formQuestion.changeName",environment:n,canUndo:!0,perform:e=>{if(!o.shouldSyncQuestionNameToPropertyName())return;const t=o.getNameStore().getValue();if(!t)return;const n=(0,y().r4)({textValue:t,getRecordModel:o.getRecordModel,deterministic:!0,userTimeZone:(0,c().P)(),intl:H().A.getIntl()}),a=(0,W().fE)({property:s,collectionContextStore:r,newValue:n})?(0,d().Q)(n):n;k().YO({collectionStore:i,property:s,name:a,transaction:e})}})}function oe(){const e=(0,n().IS)((e=>({container:{display:"flex",flexDirection:"column"},iconGroup:{display:"flex",flexDirection:"row",justifyContent:"center",color:e.icon.secondary,alignItems:"center"},dialogTitle:{fontSize:16,fontWeight:I().Wy.semibold,lineHeight:"22px",marginTop:12,marginBottom:12},dialogDescription:{color:e.text.secondary,fontSize:14,lineHeight:"20px"}})),[]);return(0,m.jsxs)("div",{style:e.container,children:[(0,m.jsxs)("div",{style:e.iconGroup,children:[(0,g().K)({width:24}),(0,u().o)({width:16,marginLeft:16,marginRight:14}),p({width:24})]}),(0,m.jsx)("span",{style:e.dialogTitle,children:(0,m.jsx)(A().sA,{defaultMessage:"Auto-create form questions based on existing properties?",id:"NewFormOnExistingCollectionDialogTitle.message"})}),(0,m.jsx)("span",{style:e.dialogDescription,children:(0,m.jsx)(A().sA,{defaultMessage:"Only supported property types will create new questions.",id:"NewFormOnExistingCollectionDialogTitle.description"})})]})}function ne(e){const{environment:t,collectionContextStore:o,transaction:n}=e,i=o.collectionViewBlockStore(),r=o.collectionStore();if(!i||!r)return;const a=o.normalizedSchemaStore.state,l=ie({environment:t,collectionViewBlockStore:i,schema:a,transaction:n,initializeWithAllDefaultQuestions:!1});if(!l)return;(0,L().t)({environment:t,collectionContextStore:o,collectionViewId:l.newViewId,isFullScreen:o.isFullScreenStore.state,isRootChild:o.isRootChildStore.state,isInPeekRenderer:o.isInPeekRendererStore.state});const d=l.layoutStore,c=Object.keys(a).filter((e=>{const t=a[e];return"title"!==e&&t&&(0,s().Sg)(t)}));c.length>0&&c.length<=J().eb&&j().ui({showCancel:!1,keepFocus:!1,message:(0,m.jsx)(oe,{}),mode:"wide",items:[{label:(0,m.jsx)(A().sA,{defaultMessage:"Create {numQuestions, plural, one {1 question} other {{numQuestions} questions}}",id:"formEditorActions.createQuestions.primaryAction",values:{numQuestions:c.length}}),color:"blue",buttonType:"solid",onAccept(){E().createAndCommit({environment:t,userAction:"formActions.autoCreateFormQuestionsForExistingDatabase",canUndo:!0,perform:e=>{for(const n of c)le({type:"formQuestion",environment:t,module:void 0,transaction:e,layoutStore:d,collectionStore:r,propertyId:n,position:{type:"area_relative",area:"form_layout_schema",location:"end_moveable"},collectionContextStore:o,shouldLogEvent:!0,autoCreatedFromExistingDatabase:!0,duplicateModuleMapping:new Map,propertyIdMapping:new Map,sessionId:(0,M().Ay)()})}})}},{label:(0,m.jsx)(A().sA,{defaultMessage:"Start from scratch",id:"formEditorActions.createQuestions.secondary"}),color:"gray",buttonType:"plain",onAccept(){}}]})}function ie(e){const{environment:t,collectionViewBlockStore:o,transaction:n,schema:i,initializeWithAllDefaultQuestions:r}=e;if(!o)return;const l=o.getSpaceId(),{formBlockStore:d,layoutStore:c}=function(e){var t;const{environment:o,spaceId:n,inMemoryRecordCache:i,transaction:r,schema:l,initializeWithAllDefaultQuestions:d}=e,c=Object.keys(l).find((e=>{var t;return"multi_select"===(null===(t=l[e])||void 0===t?void 0:t.type)})),u=Boolean(d&&void 0!==c),m=(0,O().Z1)({environment:o,table:b().ev,spaceId:n}),p=(0,O().Z1)({environment:o,table:w().lo,spaceId:n}),g=u?(0,O().Z1)({environment:o,table:w().lo,spaceId:n}):void 0,f=B().Wv({id:m,environment:o,type:"form",permissions:(0,s().eb)(),inMemoryRecordCache:i,transaction:r}),v=B().eC({environment:o,table:x().zx,value:{space_id:n,parent_table:b().ev,parent_id:f.id,modules:(0,h().oP)(p,g)},inMemoryRecordCache:i,transaction:r});var y,S;P().zA({stores:[f],update:{form_layout_pointer:{id:v.id,spaceId:n,table:x().zx}},transaction:r}),ae({environment:o,questionId:p,spaceId:n,layoutId:v.id,propertyId:a().rn,initialQuestionTitle:(null===(t=l[a().rn])||void 0===t?void 0:t.name)??"",inMemoryRecordCache:i,transaction:r,shouldSyncQuestionNameToPropertyName:!0,shouldLogEvent:!1,logData:{area:"form_layout_schema",layoutStore:v}}),u&&g&&c&&ae({environment:o,questionId:g,spaceId:n,layoutId:v.id,propertyId:c,initialQuestionTitle:(null===(y=l[c])||void 0===y?void 0:y.name)??"",existingFormQuestionConfig:{propertyId:c,name:[[(null===(S=l[c])||void 0===S?void 0:S.name)??""]],propertyTypeSpecificConfig:{multi_select:{maxSelectionCount:1}}},inMemoryRecordCache:i,transaction:r,shouldSyncQuestionNameToPropertyName:!0,shouldLogEvent:!1,logData:{area:"form_layout_schema",layoutStore:v}});return{formBlockStore:f,layoutStore:v}}({environment:t,spaceId:l,inMemoryRecordCache:o.inMemoryRecordCache,transaction:n,schema:i,initializeWithAllDefaultQuestions:r}),u=(0,D().i)({environment:t,collectionViewBlockStore:o,collectionView:{type:"form_editor",parent_id:o.id,parent_table:b().ev,alive:!0,space_id:l,name:H().A.formatMessage(q.newFormViewName),format:{form_block_pointer:{id:d.id,spaceId:l,table:b().ev}}},transaction:n});return B().zv({store:d,data:{parent_id:u.id,parent_table:S().Gy,alive:!0},transaction:n}),$().A.setState({openTooltip:u.id}),K().HH(t,Z),X(t,n),{newViewId:u.id,layoutStore:c,formId:d.id}}function re(e){const{environment:t,navigateToFormBuilder:o}=e,{currentSpaceStore:n,currentSpaceViewStore:r}=Q().default.state;if(!n||!r)return;if(!(0,Y().EF)(t))return void(0,Y().QY)(t);if(!(n&&n.canEdit()&&r))return;const s=n.id,a=t.idCreator.getSpaceIdCreatorSync(s);E().createAndCommit({environment:t,userAction:"formActions.createAndNavigateToFormInPrivate",canUndo:!0,perform:e=>{var l;const{targetBlockStore:d}=T().j({environment:t,sourceBlockId:"root",targetBlockPointer:(0,O().zP)({environment:t,table:b().ev,spaceId:s}),sourceBlockSubtree:(0,v().partialRecordMapToRecordMap)(N().mT({isInline:!0,name:(0,C().x9d)(H().A.formatMessage(q.formDatabaseTitle))})),targetRecordCache:n.inMemoryRecordCache,transaction:e,deepCopyTransclusionContainers:!0,resolveTemplateVariables:!1,spaceIdCreator:a}),c=d.getCollectionStore(),u=null==c||null===(l=c.getModel())||void 0===l?void 0:l.getNormalizedSchema(),m=d;if(!u)throw new Error("Schema not found");ie({environment:t,transaction:e,collectionViewBlockStore:m,schema:u,initializeWithAllDefaultQuestions:!0}),se({environment:t,transaction:e,collectionViewBlockStore:m,schema:u}),F().yM({environment:t,spaceStore:n,spaceViewStore:r,pageStore:d,isPrivate:!0,transaction:e,location:{type:"prepend"}}),o&&_().uK({environment:t,store:d,pageVisitSource:i().y8.CreateFormDeepLink})}})}function se(e){const{environment:t,collectionViewBlockStore:o,transaction:n}=e,i=o.getSpaceId(),r=Object.keys(e.schema).find((t=>{var o;return"created_by"===(null===(o=e.schema[t])||void 0===o?void 0:o.type)}));(0,D().i)({environment:t,collectionViewBlockStore:o,collectionView:{type:"table",parent_id:o.id,parent_table:b().ev,alive:!0,name:H().A.formatMessage(q.responsesViewName),space_id:i,format:{table_properties:[{property:"title",visible:!0},...r?[{property:r,visible:!0}]:[]],table_wrap:!0,collection_pointer:o.getCollectionPointer()}},transaction:n})}function ae(e){const{environment:t,questionId:o,spaceId:n,layoutId:i,propertyId:r,initialQuestionTitle:s,inMemoryRecordCache:a,transaction:l,shouldSyncQuestionNameToPropertyName:d,collectionContextStore:c,shouldLogEvent:u=!0,autofocusTitle:m,existingFormQuestionConfig:p,autoCreatedFromExistingDatabase:g}=e;B().vt({environment:t,table:w().lo,args:{id:o,space_id:n,parentPointer:{id:i,table:x().zx,spaceId:n},config:{...p,propertyId:r,name:[[s]],shouldSyncQuestionNameToPropertyName:d}},inMemoryRecordCache:a,transaction:l}),u&&(0,V().u4)({environment:t,event:{eventName:"add_form_question",eventProperties:{...(0,J().YA)({collectionContextStore:c,propertyId:r,questionId:o,area:e.logData.area,parentModuleId:e.logData.parentModuleId,layoutStore:e.logData.layoutStore}),auto_created_from_existing_database:Boolean(g)}}}),m&&m.autofocusedQuestionTextStore.autofocusQuestionTitle({questionId:o})}function le(e){const{type:t,module:o,environment:n,transaction:i,layoutStore:r,position:s,duplicateModuleMapping:a,shouldLogEvent:l=!0,collectionContextStore:d,sessionId:c}=e;let u;const m=o&&a.get(o.id)||(0,M().Ay)();if("formQuestion"===t){var p;const{collectionStore:t,propertyId:c,autofocusTitle:g,existingFormQuestionConfig:h,autoCreatedFromExistingDatabase:v,propertyIdMapping:y}=e,b=t.getSchema()[c];if(!b)throw new Error(`No schema found for property ${c}`);const S=h?(0,C().q4_)(null==h?void 0:h.name):b.name,x=r.getSpaceId(),A=(0,O().Z1)({environment:n,table:w().lo,spaceId:x});if(!(0,f().uW)(s.area))throw new Error("Module is not allowed in this area");ae({environment:n,questionId:A,spaceId:x,layoutId:r.id,propertyId:c,initialQuestionTitle:S,inMemoryRecordCache:r.inMemoryRecordCache,transaction:i,shouldSyncQuestionNameToPropertyName:!0,shouldLogEvent:l,logData:{area:s.area,parentModuleId:null==o?void 0:o.parentModuleId,layoutStore:r},collectionContextStore:d,autofocusTitle:g,existingFormQuestionConfig:h,autoCreatedFromExistingDatabase:v}),u={type:"formQuestion",id:m,formQuestionId:A,...o?{parentModuleId:a.get(o.parentModuleId??"")??o.parentModuleId,parentConditionalGroupId:o.parentConditionalGroupId,conditionalGroups:null===(p=o.conditionalGroups)||void 0===p?void 0:p.map((e=>({...e,trigger:{...e.trigger,property:y.get(e.trigger.property)??e.trigger.property},children:[]})))}:{}}}else u={type:"placeholder",id:m,parentModuleId:a.get(o.parentModuleId??""),parentConditionalGroupId:o.parentConditionalGroupId};return(0,U().UQ)({environment:n,transaction:i,layoutStore:r,position:s,module:u,sessionId:c,isPropertyCreation:!1}),{moduleId:m}}function de(e){const{environment:t,transaction:o,layoutStore:n,propertyId:i,initialQuestionTitle:r,moduleId:s,shouldSyncQuestionNameToPropertyName:a,collectionContextStore:l,autofocusTitle:d,area:c,sessionId:u}=e,m=n.getModel();if(!m)throw new Error("Layout model cannot be undefined");const p=n.getSpaceId(),g=(0,O().Z1)({environment:t,table:w().lo,spaceId:p});ae({environment:t,questionId:g,spaceId:p,layoutId:m.id,propertyId:i,initialQuestionTitle:r,inMemoryRecordCache:n.inMemoryRecordCache,transaction:o,shouldSyncQuestionNameToPropertyName:a,collectionContextStore:l,autofocusTitle:d,logData:{area:c,parentModuleId:"form_conditional_modules"===c?e.parentModuleId:void 0,layoutStore:n}});const f={type:"formQuestion",id:s??(0,M().Ay)(),formQuestionId:g,..."form_conditional_modules"===c?{parentModuleId:e.parentModuleId,parentConditionalGroupId:e.parentConditionalGroupId}:{}};return s?(0,z().UQ)({environment:t,transaction:o,layoutStore:n,position:{area:c,moduleId:s},updatedModule:f}):"form_conditional_modules"===c&&(0,U().UQ)({environment:t,transaction:o,layoutStore:n,position:{type:"absolute",area:"form_conditional_modules",parentConditionalGroupId:e.parentConditionalGroupId,parentModuleId:e.parentModuleId},module:f,sessionId:u,isPropertyCreation:!1}),{updatedModuleId:f.id,formQuestionId:g}}function ce(e){let{environment:t,formBlockStore:o,isClosed:n}=e;o.getIsFormClosed()!==n&&E().createAndCommit({userAction:"formActions.changeFormClosedState",environment:t,canUndo:!0,perform:e=>{P().zA({stores:[o],update:{form_config:{...o.getFormConfig(),is_form_closed:n}},transaction:e})}})}function ue(e){let{environment:t,formBlockStore:o,permissions:n}=e;o.getFormSubmissionPermissions()!==n&&E().createAndCommit({userAction:"formActions.changeFormSubmissionPermissions",environment:t,canUndo:!0,perform:e=>{P().zA({stores:[o],update:{form_config:{...o.getFormConfig(),submission_permissions:n}},transaction:e})}})}function me(e){let{environment:t,formBlockStore:o}=e;const n=o.getIsFormAnonymousSubmissionEnabled();E().createAndCommit({userAction:"formActions.changeAnonymousFormSubmissionState",environment:t,canUndo:!0,perform:e=>{P().zA({stores:[o],update:{form_config:{...o.getFormConfig(),anonymous_submissions:!n}},transaction:e})}})}function pe(e){var t;let{environment:o,formBlockStore:n}=e;const i=n.getSiteStore();if(!i)return;const r=(null===(t=i.getHeader())||void 0===t?void 0:t.hideWatermark)??!1;E().createAndCommit({userAction:"formBlockStore.publicForm.toggleNotionBranding",environment:o,canUndo:!0,perform:e=>{E().applyOperation({store:i,operation:{pointer:i.pointer,path:["header","hideWatermark"],command:"set",args:!r},transaction:e})}})}function ge(e){let{environment:t,newPropertyId:o,formQuestionStore:n}=e;E().createAndCommit({userAction:"formQuestion.remapQuestionToNewProperty",environment:t,canUndo:!0,perform:e=>{E().applyOperation({store:n,operation:{pointer:n.pointer,path:["config","propertyId"],command:"set",args:o},transaction:e})}})}function fe(e){const{environment:t,collectionSchema:o,temporaryRecordCache:n,spaceId:i,collectionId:s,formMode:a}=e,l={};Object.keys(o).forEach((e=>{l[e]=(0,C().x9d)("")}));const{performResult:d}=E().createAndCommit({environment:t,userAction:"formActions.createDummyFormPage",perform:e=>{const o=B().Wv({environment:t,type:r().xd.page,inMemoryRecordCache:n,transaction:e,spaceId:i,properties:{...l}});return B().zv({store:o,data:{alive:"viewer"===a,parent_id:s,parent_table:"collection"},transaction:e}),o},canUndo:!1});return d}async function he(e){const{environment:t,formBlockStore:o,collectionSchema:n,theme:i,onAccept:r}=e;if(!n)return;const s=(0,J().Dx)(o),a=(null==s?void 0:s.getNormalizedFormQuestionStoresForFormLayout({collectionSchema:n}))??[],d=[];if(a.forEach((e=>{const o=e.getPropertyId();if(!o)return;const i=(0,l()._g)({schema:n,property:o}),r=null==i?void 0:i.type;if(!r)return;(0,J().CK)({environment:t,propertyType:r,propertySchema:i,isPublicForm:!0})&&d.push(e)})),0===d.length)return void r();const u=d.map(((e,t)=>{const o=(0,y().r4)({textValue:e.getNameStore().getValue(),getRecordModel:e.getRecordModel,deterministic:!0,userTimeZone:(0,c().P)(),intl:H().A.getIntl()}),n=t===d.length-1;return(0,m.jsx)("div",{style:{fontSize:14,textAlign:"start",padding:"8px 12px",borderBottom:n?void 0:`1px solid ${i.lightDividerColor}`},children:o},e.id)})),{accept:p}=await j().Gh({message:(0,m.jsx)(A().sA,{id:"formEditorActions.maybeAlertAboutUnsupportedPublicQuestions.message",defaultMessage:"These questions are not supported in public forms and will not be shown to respondents:"}),description:(0,m.jsx)("div",{style:{borderRadius:6,border:`1px solid ${i.lightDividerColor}`,width:"calc(100% + 24px)",marginLeft:-12,marginTop:12,maxHeight:210,overflow:"auto"},children:u}),acceptLabel:(0,m.jsx)(A().sA,{id:"formEditorActions.maybeAlertAboutUnsupportedPublicQuestions.acceptLabel",defaultMessage:"Got it"}),acceptColor:"blue",cancelButtonType:"plain",mode:"wide"});p&&r()}},686449:(e,t,o)=>{o.d(t,{r:()=>n});const n=(0,o(851552).Dv)("importEvernote")},686752:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>n,pencilLineIcon:()=>i});o(242343);const n={viewBox:"0 0 20 20",svg:(0,o(163643).jsx)("path",{d:"m13.987 5.682-.684.684-1.288-1.288.692-.691a.91.91 0 0 1 1.28 0c.35.35.35.93 0 1.28zm-9.433 9.433 7.914-7.914-1.289-1.289-7.92 7.908c-.122.122-.214.29-.274.457l-.336 1.082c-.06.229.153.442.366.366l1.082-.335q.252-.07.457-.275m12.446.76H5.61l1.25-1.25H17a.625.625 0 1 1 0 1.25"})},i=(0,o(680369).wt)("pencilLine",n)},705653:(e,t,o)=>{o.d(t,{A:()=>r});var n=()=>o(144656),i=()=>o(662988);function r(e,t){(0,i().A)(2,arguments);var o=(0,n().A)(e),r=(0,n().A)(t),s=o.getTime()-r.getTime();return s<0?-1:s>0?1:s}},734225:(e,t,o)=>{o.d(t,{A:()=>i});class n extends(()=>o(129044))().default{getInitialState(){return{modalOpen:!1,tokenQuery:"",inviteTargets:[],inviteRole:"member",isInviteTargetsEmpty:!0,table:o(218357).yK,isFocused:!0,flowId:void 0,inputFocus:"invitee",emailMessage:""}}}const i=n},758261:(e,t,o)=>{o.d(t,{j:()=>i});class n extends(()=>o(151255))().A{}const i=new n},772785:(e,t,o)=>{o.d(t,{O:()=>u,e:()=>c});o(725707),o(500234);var n=()=>o(752597),i=()=>o(881984),r=()=>o(384221),s=()=>o(663539),a=()=>o(360482),l=()=>o(758261),d=()=>o(191759);function c(e,t){const o=a().dd(t),n=s().xh(o);e.setState({...e.state,files:n})}async function u(e){const{blockStore:t,pageViewBlockStore:o,environment:s}=e;o?o.setState({...o.state,forceDiscussionOpen:!0}):d().A.openNewPageDiscussionInput(t),i().o2(s,{from:"page_comments"}),await n().default.afterNextFlush();const a=l().j.find((e=>e.getBlockStore().id===t.id)),c=null==a?void 0:a.getInputStore();c&&r().setSelectionAtEnd({store:c.state.textStore})}},774041:(e,t,o)=>{o.d(t,{A:()=>a});var n=()=>o(543127),i=()=>o(180076),r=()=>o(662988),s=6e4;function a(e,t){(0,r().A)(2,arguments);var o=(0,n().A)(t);return(0,i().A)(e,o*s)}},793359:(e,t,o)=>{o.d(t,{w:()=>l});o(242343);var n=()=>o(950635),i=()=>o(76394),r=()=>o(951156),s=()=>o(482570),a=o(163643);function l(e){const{actor:t}=e,o={size:e.size??14,style:{marginRight:2,...e.style}};return(0,n().H3)(t)?(0,a.jsx)(r().A,{botValue:t.asActor,...o}):(0,n().ps)(t)?(0,a.jsx)(s().A,{userValue:t.asActor,...o}):(0,n().h2)(t)?(0,a.jsx)(s().A,{userValue:void 0,...o}):void(0,i().HB)(t)}},808263:(e,t,o)=>{o.d(t,{_:()=>n});const n=(0,o(680369).xh)("personCircle",{default:{loader:()=>o.e(89491).then(o.bind(o,895800))},small:{loader:()=>o.e(95357).then(o.bind(o,287110))},mini:{loader:()=>o.e(70891).then(o.bind(o,626640))},large:{loader:()=>o.e(49761).then(o.bind(o,642922))}})},823792:(e,t,o)=>{o.d(t,{p:()=>i});o(242343);var n=o(163643);const i=(0,o(680369).wt)("collectionDescriptionSmall",{viewBox:"0 0 14 14",svg:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 4.667C6.69049 4.667 6.39366 4.54405 6.17481 4.32519C5.95595 4.10634 5.833 3.80951 5.833 3.5C5.833 3.19049 5.95595 2.89366 6.17481 2.67481C6.39366 2.45595 6.69049 2.333 7 2.333C7.30951 2.333 7.60634 2.45595 7.82519 2.67481C8.04405 2.89366 8.167 3.19049 8.167 3.5C8.167 3.80951 8.04405 4.10634 7.82519 4.32519C7.60634 4.54405 7.30951 4.667 7 4.667V4.667ZM8 11C8 11.2652 7.89464 11.5196 7.70711 11.7071C7.51957 11.8946 7.26522 12 7 12C6.73478 12 6.48043 11.8946 6.29289 11.7071C6.10536 11.5196 6 11.2652 6 11V7C6 6.73478 6.10536 6.48043 6.29289 6.29289C6.48043 6.10536 6.73478 6 7 6C7.26522 6 7.51957 6.10536 7.70711 6.29289C7.89464 6.48043 8 6.73478 8 7V11ZM7 0C5.14348 0 3.36301 0.737498 2.05025 2.05025C0.737498 3.36301 0 5.14348 0 7C0 8.85652 0.737498 10.637 2.05025 11.9497C3.36301 13.2625 5.14348 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.14348 13.2625 3.36301 11.9497 2.05025C10.637 0.737498 8.85652 0 7 0V0Z"})})},842617:(e,t,o)=>{o.d(t,{MG:()=>g,T1:()=>p,a1:()=>b,dt:()=>f,kg:()=>h,lC:()=>y,n_:()=>v});var n=o(242343),i=()=>o(237385),r=()=>o(803290),s=()=>o(162901),a=()=>o(129978),l=()=>o(514860),d=()=>o(271748),c=()=>o(440588),u=()=>o(370557),m=()=>o(89969);const p=new(a().O2)("PerformanceToolbar",(()=>Promise.all([o.e(96159),o.e(96346),o.e(16471),o.e(36209),o.e(92845),o.e(71718),o.e(17989),o.e(48632),o.e(90625),o.e(21194),o.e(5910),o.e(62427),o.e(45624)]).then(o.bind(o,524636)))),g=(0,a()._h)(p,(e=>e.PerformanceToolbar)),f=(0,a()._h)(p,(e=>e.PerformanceToolbarSettings));function h(){const e=(0,i().v3)();return(0,r().K8)((()=>(0,m().D)(e,e.RouterStore.state)),[e])}function v(){const e=(0,i().v3)(),t=S("PerformanceToolbarStore"),o=S("isPerformanceToolbarVisible");return(0,r().K8)((()=>!(!t||!o)&&o(e,e.RouterStore.state,t.state)),[o,e,t])}function y(){const e=S("PerformanceToolbarStore");return(0,r().K8)((()=>!!e&&e.state.isPerformanceToolbarMounted),[e])}function b(){const e=(0,i().v3)(),t=S("createPerformanceToolbarMouseListeners"),o=S("PerformanceToolbarStore"),{sidebarExpanded:s,sidebarWidth:a,secondarySidebarExpanded:m,secondarySidebarWidth:p,updateSidebarExpanded:g,updateSidebarWidth:f}=(0,r().K8)((()=>({sidebarExpanded:c().sidebarExpandedStore.state,sidebarWidth:c().sidebarWidthStore.state,secondarySidebarExpanded:d().default.isOpen(),secondarySidebarWidth:l().Ay.getWidth(),updateSidebarExpanded:u().Ay.state.expanded,updateSidebarWidth:u().Ay.state.width})),[]);return(0,n.useEffect)((()=>{if(o&&t)return t(e,(e=>o.update((t=>({...t,isMouseNearPerformanceToolbar:e})))),s,a,m,p,g,f)}),[t,e,o,s,a,m,p,g,f])}function S(e){const t=h(),[{value:o}]=(0,s().Yb)((()=>t?p.load().then((t=>t[e])):Promise.resolve(void 0)),[e,t]);return o}},842940:(e,t,o)=>{o.d(t,{J:()=>i});o(242343);const n={viewBox:"0 0 20 20",svg:(0,o(163643).jsx)("path",{d:"M8.875 2.625a6.25 6.25 0 1 0 3.955 11.09l3.983 3.982a.625.625 0 1 0 .884-.884l-3.983-3.982a6.25 6.25 0 0 0-4.84-10.205m-5 6.25a5 5 0 1 1 10 0 5 5 0 0 1-10 0"})},i=(0,o(680369).wt)("magnifyingGlass",n)},850265:(e,t,o)=>{o.d(t,{A:()=>l});var n=()=>o(144656),i=()=>o(650964),r=()=>o(543127),s=()=>o(662988);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e,t){if((0,s().A)(2,arguments),"object"!==a(t)||null===t)throw new RangeError("values parameter must be an object");var o=(0,n().A)(e);return isNaN(o.getTime())?new Date(NaN):(null!=t.year&&o.setFullYear(t.year),null!=t.month&&(o=(0,i().A)(o,t.month)),null!=t.date&&o.setDate((0,r().A)(t.date)),null!=t.hours&&o.setHours((0,r().A)(t.hours)),null!=t.minutes&&o.setMinutes((0,r().A)(t.minutes)),null!=t.seconds&&o.setSeconds((0,r().A)(t.seconds)),null!=t.milliseconds&&o.setMilliseconds((0,r().A)(t.milliseconds)),o)}},862279:(e,t,o)=>{o.d(t,{S:()=>r});o(242343);var n=o(163643);const i={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M3.608 10.442a.625.625 0 0 1 0-.884l5.4-5.4a.625.625 0 0 1 .884.884L4.934 10l4.958 4.958a.625.625 0 1 1-.884.884z"}),(0,n.jsx)("path",{d:"m14.508 4.158-5.4 5.4a.625.625 0 0 0 0 .884l5.4 5.4a.625.625 0 1 0 .884-.884L10.434 10l4.958-4.958a.625.625 0 1 0-.884-.884"})]})},r=(0,o(680369).wt)("arrowChevronDoubleBackward",i)},880026:(e,t,o)=>{o.d(t,{Dw:()=>x,Hc:()=>w,o5:()=>S});o(610931),o(242343);var n=()=>o(502140),i=()=>o(514438),r=()=>o(680369),s=()=>o(486540),a=()=>o(66460),l=()=>o(653998),d=()=>o(975392),c=()=>o(441288),u=()=>o(145046),m=()=>o(919536),p=()=>o(84543),g=()=>o(35462),f=()=>o(990616),h=()=>o(196387),v=()=>o(413871),y=()=>o(268117),b=o(163643);async function S(e){let{newRole:t,...o}=e;const n=o.oldPermissionItem,i=(0,d().o8)(n);return i.role=t,await w({newPermissionItem:i,...o})}async function w(e){const{oldPermissionItem:t,newPermissionItem:o,wasInherited:i,environment:r,store:l,sudoModeStore:d,restrictingVisibility:u,fromPermissionWrapper:g,trustedDomainsLoggingData:f}=e,b=(0,y().FI)();if(!(0,s().nK)(t,o))throw new Error("Permission type mismatch.");const S=!!d&&d.shouldSaveTransactionWithSudoMode(l),w=(0,s().$q)(t.role,o.role);if(i&&w!==o.role||u){return await x({environment:r,useSudoMode:S,store:l,permissionItem:o,fromPermissionWrapper:g,isRedesignEnabled:b,shouldInherit:!0,trustedDomainsLoggingData:f})}return l instanceof v().Bv&&!l.isTopLevel()&&t.role!==o.role&&w!==t.role&&c().MR(r),p().createAndCommit({userAction:"PermissionItem.handlePermissionItemChange",environment:r,canUndo:!0,useSudoMode:S,perform:t=>{const n=h().default.DO_NOT_USE_markLegacy("share_menu.update_page_permission_lag");m().wd({environment:r,store:l,permissionItems:[o],transaction:t,pagePermissionChangeLocation:e.location,metric:n,fromPermissionWrapper:g})}}),"trusted_domain_permission"===o.type&&n().log({level:"warning",from:"shareMenu.handlePermissionItemChange",type:"TrustedDomainPermissionChange",spaceId:(0,a().e)(l.pointer.spaceId),data:{miscDataToConvertToString:{message:"shareMenu.handlePermissionItemChange updating trusted domain permission",blockId:l.id,oldPermissionItem:t,newPermissionItem:o,trustedDomainsLoggingData:f}}}),!0}async function x(e){const{environment:t,useSudoMode:o,store:n,permissionItem:s,fromPermissionWrapper:a,isRedesignEnabled:d,shouldInherit:c,trustedDomainsLoggingData:h}=e,v="none"===(null==s?void 0:s.role)?{type:"remove",permissionItem:s}:{type:"restrict"};return!!("user_permission"===(null==s?void 0:s.type)&&(null==s?void 0:s.user_id)===t.currentUser.id||(d?await u().Gh({message:(0,f().r6)(v,d),description:(0,b.jsx)(g().A,{isSmall:!0,isMultiline:!0,children:(0,b.jsx)(l().sA,{id:"restrictedPermissionConfirmationModal.footer.whisperTextV2",defaultMessage:"Changing this will unlink this page from its parent, so it will no longer inherit share settings. Admins can still restore settings on unlinked pages."})}),acceptLabel:(0,f().QU)(v,d),icon:(0,i().r)({height:r().Ev.xl,width:r().Ev.xl})}):await u().Gh({message:(0,f().r6)(v),acceptLabel:(0,f().QU)(v),cancelLabel:(0,b.jsx)(l().sA,{id:"restrictedPermissionConfirmationModal.actionButton.close",defaultMessage:"Close"}),description:(0,b.jsx)(g().A,{isSmall:!0,isMultiline:!0,children:(0,b.jsx)(l().sA,{id:"restrictedPermissionConfirmationModal.footer.whisperText",defaultMessage:"Admins will still be able to restore permissions from restricted pages."})})})).accept)&&(p().createAndCommit({userAction:"PermissionItem.onAccept",environment:t,canUndo:!0,useSudoMode:o,perform:e=>{m().wW({environment:t,store:n,permissionItem:s,shouldInherit:c,transaction:e,fromPermissionWrapper:a,trustedDomainsLoggingData:h})}}),!0)}},883249:(e,t,o)=>{o.d(t,{A:()=>n});const n=new(o(652039).Ay)},897080:(e,t,o)=>{o.d(t,{A:()=>n});const n={appCursorListener:{sidebar:1,secondarySidebar:2,editor:3,aiChat:3,marketplace:3,teamHome:3}}},934889:(e,t,o)=>{o.r(t),o.d(t,{clockIcon:()=>r,iconDefinition:()=>i});o(242343);var n=o(163643);const i={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M10.625 5.725a.625.625 0 1 0-1.25 0v3.65H6.4a.625.625 0 1 0 0 1.25H10c.345 0 .625-.28.625-.625z"}),(0,n.jsx)("path",{d:"M10 2.375a7.625 7.625 0 1 0 0 15.25 7.625 7.625 0 0 0 0-15.25M3.625 10a6.375 6.375 0 1 1 12.75 0 6.375 6.375 0 0 1-12.75 0"})]})},r=(0,o(680369).wt)("clock",i)},942485:(e,t,o)=>{o.d(t,{A:()=>s});var n=()=>o(543127),i=()=>o(144656),r=()=>o(662988);function s(e,t){(0,r().A)(2,arguments);var o=(0,i().A)(e),s=(0,n().A)(t);return isNaN(s)?new Date(NaN):s?(o.setDate(o.getDate()+s),o):o}},945335:(e,t,o)=>{o.d(t,{i:()=>n});const n=(0,o(680369).xh)("arrowUpRightSquare",{default:{loader:()=>o.e(43459).then(o.bind(o,694344))},small:{loader:()=>o.e(97517).then(o.bind(o,49846))},mini:{loader:()=>o.e(60475).then(o.bind(o,609856))},large:{loader:()=>o.e(3953).then(o.bind(o,901466))}})},976603:(e,t,o)=>{o.d(t,{A:()=>i});class n extends(()=>o(129044))().default{getInitialState(){return{openTooltip:void 0}}}const i=new n},982717:(e,t,o)=>{o.d(t,{A:()=>h});var n=o(242343),i=()=>o(16791),r=()=>o(237385),s=()=>o(803290),a=()=>o(755002),l=()=>o(653998),d=()=>o(220413),c=()=>o(975392),u=()=>o(31448),m=()=>o(141666),p=()=>o(615917),g=o(163643);const f={isRepositioning:!1};const h=function(e){const t=(0,n.useRef)(null),i=(0,r().v3)(),{isMobile:l}=(0,r().Y0)(),[d,u]=(0,n.useState)(f),p=(0,n.useCallback)((()=>{u(f)}),[]),{renderControl:h,onFlushTemporaryPosition:y,style:b,source:S,store:w}=e,{isRepositioning:x,image:C,startDragRenderedPosition:A,startDragImageScreenHeight:M}=d,I=(0,s().K8)((()=>0===o(182613).default.state.stores.length),[]),[k,T]=(0,n.useState)(!1),j=(0,s().uB)(e.mouseStore,o(116586).A),P=(0,s().K8)((()=>j.state.mouseEntered),[j]),B=(0,o(174114).IS)((()=>({dragContainer:{width:"100%",cursor:x?"move":"inherit"},container:{position:"relative",width:"100%",zIndex:1}})),[x]),_=(0,s().K8)((()=>function(e,t,o){return(0,c().Et)(o)?o:function(e,t){if("gallery"===e||"board"===e){const e=t.getFormat().card_cover_position;if((0,c().Et)(e))return e}const o=.5;if(t.isCollectionView()){const e=t.getCollectionStore();if(e){const t=e.getFormat().collection_cover_position;return(0,m().pN)(t)?o:t}}const n=t.getFormat(),i=n.page_cover_position;if((0,c().Et)(i))return i;return o}(e,t)}(S,w,d.temporaryPosition)),[d.temporaryPosition,S,w]);(0,n.useEffect)((()=>{const e=e=>{const o=t.current;o&&!o.contains(e.target)&&x&&y({imagePosition:_,reset:()=>{j.reset(),p()}})};return window.addEventListener("mousedown",e),()=>window.removeEventListener("mousedown",e)}),[_,x,j,y,p]),x&&!I&&p();const F=(0,n.useMemo)((()=>(0,c().nF)((e=>{j.setState({...j.state,mouseEntered:!0})}),100)),[j]),E=(0,n.useMemo)((()=>(0,c().sg)((e=>{j.setState({...j.state,mouseEntered:!1})}),100)),[j]),R=(0,n.useCallback)(((e,t)=>{o(360378).IU({environment:i});const n=new Image;n.onload=()=>{u((e=>({...e,isRepositioning:!0,image:n})))},t&&(n.src=t)}),[i]),D=(0,n.useCallback)((e=>{y({imagePosition:_,reset:()=>{p()}})}),[_,y,p]),L=(0,n.useCallback)((e=>{const t=e.target;void 0!==t&&t instanceof HTMLElement&&(0,o(152058).p)(t)&&T(!0)}),[]),V=(0,n.useCallback)((()=>{T(!0)}),[]),N=(0,n.useCallback)((e=>{if(C&&x){const e=t.current;if(e&&e instanceof Element){const t=e.getBoundingClientRect().width/C.width*C.height;u((e=>({...e,startDragImageScreenHeight:t,startDragRenderedPosition:_})))}}}),[C,_,x]),W=(0,n.useCallback)((e=>{if(x){const t=e.diffY/(M||0)+(A||0);u((e=>({...e,temporaryPosition:(0,c().LI)((0,o(944342).A)(t,0,1),4)})))}}),[x,M,A]),O=(0,n.useCallback)((()=>{u((e=>({...e,startDragImageScreenHeight:void 0,startDragRenderedPosition:void 0})))}),[]),H=(0,s().K8)((()=>h({handleRepositionClick:R,handleSavePositionClick:D,handleCancelClick:p,isVisible:l||P||k||x,isRepositioning:x})),[R,D,k,l,x,P,h,p]);return(0,g.jsxs)("div",{ref:t,onFocus:L,onBlur:V,onMouseEnter:F,onMouseMove:F,onMouseLeave:E,...(0,a().AH)(B.container,b),children:[(0,g.jsx)(o(928567).A,{onDraggableDragStart:N,onDraggableDragMove:W,onDraggableDragEnd:O,onDraggableDragCancel:O,disabled:!x,render:t=>(0,g.jsx)("div",{...(0,a().AH)(B.dragContainer),...t,children:e.render({imagePosition:_,isRepositioning:x})})}),(0,g.jsx)(v,{small:e.small,isRepositioning:x}),H]})};function v(e){let{small:t,isRepositioning:o}=e;if(t)return null;const n={background:d().Ay.blackWithAlpha(.4),borderRadius:4,color:d().Ay.white,fontSize:12,fontFamily:u().vc(i().locale).sans,width:180,left:"calc(50% - 90px)",padding:"0.3em 1.5em 0.3em",pointerEvents:"none",position:"absolute",top:"calc(50% - 10px)",textAlign:"center"};return(0,g.jsx)(p().A,{visible:o,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:n,children:(0,g.jsx)(l().sA,{defaultMessage:"Drag image to reposition",id:"withImageRepositioning.dragImage.text"})})}},990616:(e,t,o)=>{o.d(t,{QU:()=>h,f2:()=>f,r6:()=>v});o(403517),o(242343);var n=()=>o(803290),i=()=>o(174114),r=()=>o(446588),s=()=>o(653998),a=()=>o(76394),l=()=>o(31448),d=()=>o(268117),c=()=>o(98508),u=()=>o(485966),m=()=>o(142708),p=()=>o(586121),g=o(163643);function f(e){const{openState:t}=e,{mainEditorCurrentBlockStore:o,currentSpaceStore:r}=(0,n().K8)((()=>{const{mainEditorCurrentBlockStore:e,currentSpaceStore:t}=u().default.state;return{mainEditorCurrentBlockStore:e,currentSpaceStore:t}}),[]),s=(0,n().K8)((()=>(0,d().FI)()),[]),a=(0,i().IS)((e=>({scroller:{display:"flex",flexDirection:"column",maxHeight:290,...s?{border:`1px solid ${e.lightDividerColor}`,borderRadius:6,paddingTop:8,paddingLeft:12,paddingRight:12,paddingBottom:12,marginTop:15,marginBottom:5,marginLeft:-12,marginRight:-12}:{}},editContainer:{marginTop:2,marginBottom:2,color:e.text.primary}})),[s]);if(!o||!r)return null;const l=Date.now();return(0,g.jsx)(m().H,{type:c().A.Y,style:a.scroller,children:t.permissionChanges.map(((e,t)=>{let[n,i]=e;const s={timestamp:l,space_id:r.id,type:"permission-changed",permission_data:{before:n,after:i}};return(0,g.jsx)("div",{style:a.editContainer,children:(0,g.jsx)(p().A,{rootStore:o,edit:s})},`${n.type}-${t}`)}))})}function h(e,t){return["remove","restrict"].includes(e.type)?t?(0,g.jsx)(s().sA,{id:"restrictedPermissionConfirmationModal.actionButton.restrictAccessV2",defaultMessage:"Change and unlink"}):(0,g.jsx)(s().sA,{id:"restrictedPermissionConfirmationModal.actionButton.restrictAccess",defaultMessage:"Restrict access"}):t?(0,g.jsx)(s().sA,{id:"restrictedPermissionConfirmationModal.actionButton.relink",defaultMessage:"Relink"}):"restoreTeamPermissions"===e.type?(0,g.jsx)(s().sA,{id:"restrictedPermissionConfirmationModal.actionButton.restoreTeamPermissions",defaultMessage:"Reset Permissions"}):(0,g.jsx)(s().sA,{id:"restrictedPermissionConfirmationModal.actionButton.restoreAccess",defaultMessage:"Restore access"})}function v(e,t){switch(e.type){case"remove":return t?(0,g.jsx)(s().sA,{id:"restrictedPermissionConfirmationModal.remove.descriptionV2",defaultMessage:"Change access and unlink share settings from parent page?"}):(0,g.jsx)(s().sA,{id:"restrictedPermissionConfirmationModal.restrict.description",defaultMessage:"Are you sure you want to remove this {permissionGroup} and restrict access? This page will no longer inherit share settings from the parent page.",values:{permissionGroup:y(e)}});case"restrict":return t?(0,g.jsx)(s().sA,{id:"restrictedPermissionConfirmationModal.remove.descriptionV2",defaultMessage:"Change access and unlink share settings from parent page?"}):(0,g.jsx)(s().sA,{id:"restrictedPermissionConfirmationModal.remove.description",defaultMessage:"Are you sure you want to change this role and restrict access? This page will no longer inherit share settings from the parent page."});case"restore":return t?(0,g.jsx)(s().sA,{id:"restrictedPermissionConfirmationModal.relink.description",defaultMessage:"Relink share settings?"}):e.permissionChanges.length>0?(0,g.jsx)(s().sA,{id:"restrictedPermissionConfirmationModal.restore.description",defaultMessage:"Are you sure you want to restore access? This will inherit the following permissions from the parent page:"}):(0,g.jsx)(s().sA,{id:"restrictedPermissionConfirmationModal.restoreNoChanges.description",defaultMessage:"Are you sure you want to restore access?"});case"restoreTeamPermissions":return t?(0,g.jsx)(s().sA,{id:"restrictedPermissionConfirmationModal.relink.description",defaultMessage:"Relink share settings?"}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{style:{fontWeight:l().Wy.semibold,marginBottom:4},children:(0,g.jsx)(s().sA,{id:"restrictedPermissionConfirmationModal.restoreTeamPermissions.mainDescription",defaultMessage:"Are you sure you want to reset permissions to match the teamspace defaults?"})}),(0,g.jsx)(s().sA,{id:"restrictedPermissionConfirmationModal.restoreTeamPermissions.warningMessage",defaultMessage:"Everyone else who is not part of the teamspace will lose access, including guests."})]});default:throw a().HB(e)}}function y(e){return(0,r().B2)(e.permissionItem)?(0,g.jsx)(s().sA,{id:"restrictedPermissionConfirmationModal.permissionGroup.user",defaultMessage:"user"}):(0,r().Ds)(e.permissionItem)?(0,g.jsx)(s().sA,{id:"restrictedPermissionConfirmationModal.permissionGroup.group",defaultMessage:"group"}):(0,r().Lg)(e.permissionItem)?(0,g.jsx)(s().sA,{id:"restrictedPermissionConfirmationModal.permissionGroup.space",defaultMessage:"workspace"}):(0,g.jsx)(s().sA,{id:"restrictedPermissionConfirmationModal.permissionGroup.generic",defaultMessage:"permission"})}},990910:(e,t,o)=>{o.d(t,{FB:()=>m,Ql:()=>p,SM:()=>g,Wv:()=>r,Yz:()=>a,ds:()=>i,e4:()=>n,eQ:()=>s,im:()=>d,jw:()=>l,k2:()=>u,uG:()=>c});const n=8,i=10,r=8,s=24,a=6,l=1.5,d=(s-l)/2,c=s+a,u=`calc(100% + ${r+(n-a)-c}px)`,m=s+8,p=-16;function g(e){return"margin_comments"===e?12:"comment_unfurl"===e?14:16}},992849:(e,t,o)=>{o.d(t,{p:()=>r});var n=()=>o(129978);const i=new(n().O2)("HelpButtonContent",(async()=>await o.e(42481).then(o.bind(o,718356)))),r=(0,n()._h)(i,(e=>e.HelpButtonContent))}}]);