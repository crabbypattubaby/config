"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[25891],{499670:(e,t,i)=>{i.d(t,{Bq:()=>d,P8:()=>u,tA:()=>c,v1:()=>p});i(242343);var s=()=>i(647242),a=()=>i(283442),n=()=>i(395665),o=()=>i(653998),r=i(163643);const l={ai:{title:(0,r.jsx)(o().sA,{id:"subscriptionUpgradeModal.v2.ai.title.v2",defaultMessage:"Get unlimited Notion AI"}),subtitle:(0,r.jsx)(o().sA,{id:"subscriptionUpgradeModal.ai.description",defaultMessage:"Search, generate, analyze, and chat—right inside Notion"}),fiftyPercentSubtitle:(0,r.jsx)(o().sA,{id:"addOnUpgrade.studentAiOffer.confirmation.description",defaultMessage:"Your personal teaching assistant, code reviewer, brainstorming partner, and more — right in your workspace"})},plus:{title:(0,r.jsx)(o().sA,{id:"subscriptionUpgradeModal.title.plusPlan",defaultMessage:"Upgrade to Plus"}),plusAiTitle:(0,r.jsx)(o().sA,{id:"subscriptionUpgradeModal.title.plusPlanPlusAi",defaultMessage:"Upgrade to Plus + AI"}),subtitle:(0,r.jsx)(o().sA,{id:"subscriptionUpgradeModal.oneLiner.v2.plusSubtitle",defaultMessage:"Do more with unlimited charts, files, automations & integrations"}),resurrectionOfferSubtitle:(0,r.jsx)(o().sA,{id:"subscriptionUpgradeModal.oneLiner.v2.plusResurrectionOfferSubtitle",defaultMessage:"Unlimited content, charts and more. Upgrade to Plus to get 50% off for 3 months."}),lic50Subtitle:(0,r.jsx)(o().sA,{id:"subscriptionUpgradeModal.oneLiner.lic50.offerSubtitle",defaultMessage:"Unlimited content, charts and more. Upgrade to Plus to get 50% off for 12 months."}),lic25Subtitle:(0,r.jsx)(o().sA,{id:"subscriptionUpgradeModal.oneLiner.plus.lic25.offerSubtitle",defaultMessage:"Unlimited content, charts and more. Upgrade to Plus to get 25% off for 12 months."})},business:{title:(0,r.jsx)(o().sA,{id:"subscriptionUpgradeModal.upgradeToBusinessDialog.businessPlan",defaultMessage:"Upgrade to Business"}),aiCoreTitle:(0,r.jsx)(o().sA,{id:"subscriptionUpgradeModal.upgradeToBusinessDialog.businessPlanAiCoreTitle",defaultMessage:"Get Unlimited AI and more"}),aiConnectorsTitle:(0,r.jsx)(o().sA,{id:"subscriptionUpgradeModal.upgradeToBusinessDialog.businessPlanAiConnectorsTitle",defaultMessage:"Get AI Connectors and more"}),researchModeTitle:(0,r.jsx)(o().sA,{id:"subscriptionUpgradeModal.upgradeToBusinessDialog.businessPlanResearchModeTitle",defaultMessage:"Get Research Mode and more"}),meetingNotesTitle:(0,r.jsx)(o().sA,{id:"subscriptionUpgradeModal.upgradeToBusinessDialog.businessPlanMeetingNotesTitle",defaultMessage:"Get AI Meeting Notes and more"}),aiForNotionMailTitle:(0,r.jsx)(o().sA,{id:"subscriptionUpgradeModal.upgradeToBusinessDialog.businessPlanAiForNotionMailTitle",defaultMessage:"Get AI for Notion Mail and more"}),plusAiTitle:(0,r.jsx)(o().sA,{id:"subscriptionUpgradeModal.upgradeToBusinessDialog.businessPlanPlusAi",defaultMessage:"Upgrade to Business + AI"}),subtitle:(0,r.jsx)(o().sA,{id:"subscriptionUpgradeModal.oneLiner.v2.business",defaultMessage:"For companies using Notion to connect several teams & tools"}),lic50Subtitle:(0,r.jsx)(o().sA,{id:"subscriptionUpgradeModal.oneLiner.lic50.biz.offerSubtitle",defaultMessage:"Unlimited content, charts and more. Upgrade to Business to get 50% off for 12 months."}),lic25Subtitle:(0,r.jsx)(o().sA,{id:"subscriptionUpgradeModal.oneLiner.plus.lic25.biz.offerSubtitle",defaultMessage:"Unlimited content, charts and more. Upgrade to Business to get 25% off for 12 months."}),aiCoreSubtitle:(0,r.jsx)(o().sA,{id:"subscriptionUpgradeModal.upgradeToBusinessDialog.businessPlanAiCoreSubtitle",defaultMessage:"Upgrade to the Business plan to access the full suite of Notion AI features"}),aiConnectorsSubtitle:(0,r.jsx)(o().sA,{id:"subscriptionUpgradeModal.upgradeToBusinessDialog.businessPlanAiConnectorsSubtitle",defaultMessage:"Upgrade to the Business plan to get unlimited AI and all the premium features"}),researchModeSubtitle:(0,r.jsx)(o().sA,{id:"subscriptionUpgradeModal.upgradeToBusinessDialog.businessPlanResearchModeSubtitle",defaultMessage:"Upgrade to the Business plan to get unlimited AI and all the premium features"}),meetingNotesSubtitle:(0,r.jsx)(o().sA,{id:"subscriptionUpgradeModal.upgradeToBusinessDialog.businessPlanMeetingNotesSubtitle",defaultMessage:"Upgrade to the Business plan to get unlimited AI and all the premium features"}),aiForNotionMailSubtitle:(0,r.jsx)(o().sA,{id:"subscriptionUpgradeModal.upgradeToBusinessDialog.businessPlanAiForNotionMailSubtitle",defaultMessage:"Upgrade to the Business plan to get unlimited AI and all the premium features"})},enterprise:{title:(0,r.jsx)(o().sA,{id:"subscriptionUpgradeModal.title.enterprise",defaultMessage:"Upgrade to Enterprise"}),plusAiTitle:(0,r.jsx)(o().sA,{id:"subscriptionUpgradeModal.title.enterprisePlusAi",defaultMessage:"Upgrade to Enterprise + AI"}),subtitle:(0,r.jsx)(o().sA,{id:"subscriptionUpgradeModal.oneLiner.v2.enterprise",defaultMessage:"Advanced controls & support to run your entire organization"})},enterpriseLimited:{title:(0,r.jsx)(o().sA,{id:"subscriptionUpgradeModal.title.enterpriseLimited",defaultMessage:"Upgrade to Enterprise Limited"}),plusAiTitle:(0,r.jsx)(o().sA,{id:"subscriptionUpgradeModal.title.enterpriseLimitedPlusAi",defaultMessage:"Upgrade to Enterprise Limited + AI"}),subtitle:(0,r.jsx)(o().sA,{id:"subscriptionUpgradeModal.oneLiner.v2.enterpriseLimited",defaultMessage:"Advanced controls & support to run your entire organization"})}};function u(e){const{product:t,coupon:i,isOnTrialWithAiProduct:s,from:a,may13PackagingChangesEnabled:o}=e;switch(t){case"ai":const e=l.ai.title;return"ai_fifty_percent"===i?{title:e,subtitle:l.ai.fiftyPercentSubtitle}:{title:e,subtitle:l.ai.subtitle};case"sites_custom_hostnames":default:return{};case"plus":const t=s?l.plus.plusAiTitle:l.plus.title;return(0,n().u6)(i)?{title:t,subtitle:l.plus.resurrectionOfferSubtitle}:"lic_50"===i?{title:t,subtitle:l.plus.lic50Subtitle}:"lic_25"===i?{title:t,subtitle:l.plus.lic25Subtitle}:{title:t,subtitle:l.plus.subtitle};case"business":if(a&&o){if(["ai_assistant_limit_in_app","ai_autofill_fill_all_pages","ai_autofill_bulk_fill","ai_autofill_on_page_edit","ai_autofill_try_on_view","ai_limit_in_app","ai_limit_property_autofill","ai_limit_sidebar","ai_limit_settings","ai_limited_qna_no_results","ai_limited_qna_upsell_action_button","ai_qna_waitlist","ai_qna_limit_in_app","ai_upsell_notice","ai_upsell_settings","ai_connector_ai_plan_upsell_intro_modal_opened","ai_connector_ai_upsell_intro_modal","ai_page_translation","ai_plans_page"].includes(a))return{title:l.business.aiCoreTitle,subtitle:l.business.aiCoreSubtitle,featureWithCustomImage:"coreAI"};if(["github_connect_button","jira_connect_button","gmail_connect_button","slack_connect_button","google_drive_connect_button","ai_full_page_welcome_connector_action_card","ai_corner_chat_welcome_connector_action_card","ai_corner_chat_connectors_button","link_preview_unfurl_menu_ai_connector_action","slack_unfurl_ai_action","ai_settings_page","sharepoint_connect_button","ai_chat_upsell_suggestion","linear_connect_button","ai_chat_search_results_tab","ai_connectors_sunset"].includes(a))return{title:l.business.aiConnectorsTitle,subtitle:l.business.aiConnectorsSubtitle,featureWithCustomImage:"aiConnectors"};if(["ai_research_mode"].includes(a))return{title:l.business.researchModeTitle,subtitle:l.business.researchModeSubtitle,featureWithCustomImage:"researchMode"};if(["placeholder3"].includes(a))return{title:l.business.meetingNotesTitle,subtitle:l.business.meetingNotesSubtitle,featureWithCustomImage:"meetingNotes"};if(["mail_app"].includes(a))return{title:l.business.aiForNotionMailTitle,subtitle:l.business.aiForNotionMailSubtitle,featureWithCustomImage:"notionAIForMail"}}const r=s?l.business.plusAiTitle:l.business.title;return"lic_50"===i?{title:r,subtitle:l.business.lic50Subtitle}:"lic_25"===i?{title:r,subtitle:l.business.lic25Subtitle}:{title:r,subtitle:l.business.subtitle};case"enterprise":return{title:s?l.enterprise.plusAiTitle:l.enterprise.title,subtitle:l.enterprise.subtitle};case"enterprise_limited":return{title:s?l.enterpriseLimited.plusAiTitle:l.enterpriseLimited.title,subtitle:l.enterpriseLimited.subtitle}}}function d(e,t){const{subtotal:i,discount:s,balance:a}=e;return i.minus(s).minus(a).plus(t).zeroIfNegative()}function c(e,t){if(!e)return!1;const i=(0,s().q8)(e);return Boolean(t)&&"year"===i}function p(e,t,i){return(0,s().TB)(e)&&t&&(0,a().DH)(t.offer.campaign)&&i===(0,n().i)(t)}},910200:(e,t,i)=>{i.d(t,{Kz:()=>x,Qe:()=>A,dn:()=>M,gM:()=>T,qu:()=>v});i(725707),i(491955),i(403517);var s=()=>i(99324),a=()=>i(647242),n=()=>i(423600),o=()=>i(216376),r=()=>i(975392),l=()=>i(76394),u=()=>i(818369),d=()=>i(927685),c=()=>i(548694),p=()=>i(485966),g=()=>i(172553),b=()=>i(111826),m=()=>i(868224),f=()=>i(879205),_=()=>i(305043);async function A(e){var t;let{environment:i,billingData:n,billingInterval:r,vatId:d,addOn:m,onlyShowAddOn:A}=e;const M=g().A.state,v=_().subscriptionDataStoreInstance.state;if(!M.open||!v)return;const x=(null==n?void 0:n.address)??M.temporaryAddress;if(!(0,s().Z)(x))return;g().A.update((e=>({...e,calculatingTax:!0})));const T=r??M.temporaryBillingInterval??"year",U=m??M.addOnFeature,I=A??M.onlyShowAddOn,S=null===(t=p().default.state.currentSpaceStore)||void 0===t?void 0:t.id;if(!S)return;const C=await(0,c().Pu)({environment:i,spaceId:S})??1,{planAmount:y,promoInfo:P,accountBalance:j}=(0,b().TQ)({memberCount:C,promo:M.appliedPromo,currencyCode:f().A.selectedCurrencyCode,data:v,addOnFeature:U,onlyShowAddOn:I,subscriptionTier:M.subscriptionTier,taxAmount:M.taxAmount,calculatingTax:M.calculatingTax,billingInterval:T,coupon:M.coupon}),B=Math.max(0,y-P.amount+j),N=[M.subscriptionTier,M.addOnFeature].map((e=>{switch(e){case void 0:return;case"ai":case"sites_custom_hostnames":return e;default:return(0,o()._y)(e)}})).map((e=>{const t=f().A.getPrice(i,(t=>t.product===e&&t.billingInterval===r));return null==t?void 0:t.result})).map(h).filter(l().O9),w=await u().callApi({eventName:"calculateTax",environment:i,data:{address:x,lineItems:N,price:B,vatId:d??M.vatApplicable?M.temporaryVatCode:void 0,customerId:(0,a().Rz)(n)}});if("failed"===w.type)g().A.update((e=>({...e,taxAmount:void 0,calculatingTax:!1})));else{const e=w.data;e.valid?g().A.update((t=>({...t,taxAmount:e.taxAmount,calculatingTax:!1,taxCalculationError:void 0}))):g().A.update((t=>({...t,taxAmount:void 0,calculatingTax:!1,taxCalculationError:e.error})))}}async function M(e,t){var i;const o=m().A.state,r=_().subscriptionDataStoreInstance.state;if(!o.open||!r)return;const l=o.temporaryAddress;if(!(0,s().Z)(l))return;m().A.update((e=>({...e,calculatingTax:!0})));const d=(null===(i=o.totalUpgradeCost)||void 0===i?void 0:i.amount)||0,c=await u().callApi({eventName:"calculateTax",environment:e,data:{address:l,price:d,vatId:o.vatApplicable?o.temporaryVatCode:void 0,customerId:(0,a().Rz)(t)}});if("failed"===c.type)m().A.update((e=>({...e,taxAmount:void 0,calculatingTax:!1})));else{const e=c.data;e.valid?m().A.update((t=>({...t,taxAmount:n().W.fromValue({amount:e.taxAmount,currencyCode:f().A.selectedCurrencyCode}),calculatingTax:!1,taxCalculationError:void 0}))):m().A.update((t=>({...t,taxAmount:void 0,calculatingTax:!1,taxCalculationError:e.error})))}}async function v(e){const{environment:t,billingData:i,stripeData:n,taxableAmount:o,lineItems:r}=e,{address:l}=null!=i&&i.address?{address:null==i?void 0:i.address}:e,d=(null==n?void 0:n.vatId)??(i?(0,a().t_)(i,"vat"):void 0);if(!l||!(0,s().Z)(l))return;const c=(0,a().Rz)(i),p=await u().callApi({eventName:"calculateTax",environment:t,data:{address:l,price:o.amount,vatId:d,customerId:c,lineItems:r}});if("failed"===p.type)return;const g=p.data;return g.valid?g.taxAmount:void 0}function h(e){if(!e)return;if(void 0===e.unitAmount)return;const t=d().A.pricing[e.product];return"productId"in t?{amount:e.unitAmount.amount,productId:t.productId}:void 0}function x(e){const t=d().A.pricing[e.price.product];if("productId"in t)return{amount:e.price.unitAmount.amount*e.quantity,productId:t.productId}}function T(e){let{line:t,defaultProductId:i=d().A.pricing.plus.productId}=e;const s=(0,r().xu)(t.discount_amounts??[],"amount"),a=t.price?"string"==typeof(n=t.price.product)?n:n.id:i;var n;return{amount:t.amount-s,productId:a}}}}]);